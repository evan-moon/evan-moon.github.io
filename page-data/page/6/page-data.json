{"componentChunkName":"component---src-templates-posts-page-template-tsx","path":"/page/6/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"45bf3acc-2f61-5e79-8f26-ad6b03a3bd29","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%99%9C-%EC%9D%B4-%ED%8F%AC%EC%8A%A4%ED%8C%85%EC%9D%84-%EC%9E%91%EC%84%B1%ED%95%98%EA%B2%8C-%EB%90%98%EC%97%88%EB%82%98\">왜 이 포스팅을 작성하게 되었나?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%EC%9E%98%EB%AA%BB%EB%90%9C-%EA%B0%9C%EB%85%90%EB%93%A4\">대표적인 잘못된 개념들</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%8A%94-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%97%94%EC%A7%84-%EB%82%B4%EB%B6%80%EC%97%90-%EC%9E%88%EB%8B%A4\">이벤트 루프는 자바스크립트 엔진 내부에 있다</a></li>\n<li><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%8A%94-%ED%95%98%EB%82%98%EC%9D%98-%EC%8A%A4%ED%83%9D-%EB%98%90%EB%8A%94-%ED%95%98%EB%82%98%EC%9D%98-%ED%81%90%EB%A1%9C%EB%A7%8C-%EC%9E%91%EB%8F%99%ED%95%9C%EB%8B%A4\">이벤트 루프는 하나의 스택 또는 하나의 큐로만 작동한다</a></li>\n<li><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%8A%94-%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EB%90%9C%EB%8B%A4\">이벤트 루프는 여러 개의 스레드에서 실행된다</a></li>\n<li><a href=\"#settimeout%EC%9D%80-%EC%9D%BC%EB%B6%80-%EB%B9%84%EB%8F%99%EA%B8%B0-os-api%EC%99%80-%EA%B4%80%EB%A0%A8%EC%9E%88%EB%8B%A4\">setTimeout은 일부 비동기 OS API와 관련있다.</a></li>\n<li><a href=\"#setimmediate%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%80-%EC%9E%91%EC%97%85-%ED%81%90%EC%9D%98-%EA%B0%80%EC%9E%A5-%EC%B2%AB%EB%B2%88%EC%A7%B8%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C%EB%8B%A4\">setImmediate의 콜백은 작업 큐의 가장 첫번째에 위치한다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EC%9D%98-%EA%B5%AC%EC%A1%B0\">이벤트 루프의 구조</a></p>\n<ul>\n<li><a href=\"#timer-phase\">Timer phase</a></li>\n<li><a href=\"#pending-io-callback-phase\">Pending i/o callback phase</a></li>\n<li><a href=\"#idle-prepare-phase\">Idle, Prepare phase</a></li>\n<li><a href=\"#poll-phase\">Poll phase</a></li>\n<li><a href=\"#check-phase\">Check phase</a></li>\n<li><a href=\"#close-callbacks\">Close callbacks</a></li>\n<li><a href=\"#nexttickqueue%EC%99%80-microtaskqueue\">nextTickQueue와 microTaskQueue</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EC%9D%98-%EC%9E%91%EC%97%85-%ED%9D%90%EB%A6%84\">이벤트 루프의 작업 흐름</a></p>\n<ul>\n<li><a href=\"#timer-phase-1\">Timer phase</a></li>\n<li><a href=\"#pending-io-phase\">Pending i/o phase</a></li>\n<li><a href=\"#poll-phase-1\">Poll phase</a></li>\n<li><a href=\"#check-phase-1\">Check phase</a></li>\n<li><a href=\"#close-callback\">Close callback</a></li>\n<li><a href=\"#nexttickqueue--microtaskqueue\">nextTickQueue &#x26; microTaskQueue</a></li>\n<li><a href=\"#thread-pool\">Thread-pool</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#workflow-with-examples\">Workflow with examples</a></p>\n<ul>\n<li><a href=\"#snippet-1--%EA%B8%B0%EC%B4%88-%EC%9D%B4%ED%95%B4\">Snippet 1 – 기초 이해</a></li>\n<li><a href=\"#snippet-2--%ED%83%80%EC%9D%B4%EB%A8%B8%EB%93%A4%EC%9D%84-%EB%8D%94-%EC%9E%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\">Snippet 2 – 타이머들을 더 잘 이해하기</a></li>\n<li><a href=\"#snippet-3--nexttick%EA%B3%BC-%ED%83%80%EC%9D%B4%EB%A8%B8-%EC%8B%A4%ED%96%89%EC%97%90-%EB%8C%80%ED%95%B4-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\">Snippet 3 – nextTick()과 타이머 실행에 대해 이해하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AA%87-%EA%B0%80%EC%A7%80-%EC%9D%BC%EB%B0%98%EC%A0%81%EC%9D%B8-%EC%A7%88%EB%AC%B8%EB%93%A4\">몇 가지 일반적인 질문들</a></p>\n<ul>\n<li><a href=\"#%EA%B7%B8%EB%9F%BC-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%A0%95%ED%99%95%ED%9E%88-%EC%96%B4%EB%94%94%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EB%90%98%EB%8A%94%EA%B1%B4%EA%B0%80%EC%9A%94\">그럼 자바스크립트는 정확히 어디에서 실행되는건가요?</a></li>\n<li><a href=\"#%EC%99%9C-%EC%9A%B0%EB%A6%AC%EB%8A%94-settimeoutfn-0%EA%B0%80-%EC%9E%88%EB%8A%94%EB%8D%B0%EB%8F%84-setimmediate%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%98%EB%82%98%EC%9A%94\">왜 우리는 setTimeout(fn, 0)가 있는데도 setImmediate를 사용해야 하나요?</a></li>\n<li><a href=\"#%EC%99%9C-setimmediate%EB%8A%94-immediate%EC%A6%89%EC%8B%9C%EB%9D%BC%EA%B3%A0-%EB%B6%80%EB%A5%B4%EB%8A%94-%EA%B1%B4%EA%B0%80%EC%9A%94\">왜 setImmediate는 Immediate(즉시)라고 부르는 건가요?</a></li>\n<li><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-block-%EB%90%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EA%B1%B4%EA%B0%80%EC%9A%94\">자바스크립트는 Block 될 수 있는 건가요?</a></li>\n<li><a href=\"#%EB%A7%8C%EC%95%BD-exit-callback-phase%EC%97%90%EC%84%9C-settimeout%EC%9D%84-%ED%98%B8%EC%B6%9C%ED%95%98%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%98%EB%82%98%EC%9A%94\">만약 Exit callback phase에서 setTimeout을 호출하면 어떻게 되나요?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A7%A7%EC%9D%80-%EC%A0%95%EB%A6%AC%EB%93%A4\">짧은 정리들</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"1년 전, 필자는 setImmediate & process.nextTick의 차이점에 대해 설명하면서 Node.js의 이벤트 루프 구조에 대해 살짝 언급한 적이 있었다. 놀랍게도 독자 분들은 원래 설명하려고 했던 부분보다 이벤트 루프 부분에 대해서 더 많이 관심을 주었고, 필자는 그 부분에 대해서 많은 질문을 받았었다. 그래서 이번에는 Node.js의 이벤트 루프를 구성하는 로우 레벨의 동작을 자세하게 설명해보려고 한다. 이 포스팅은 2018년 2월 19일에 Paul Shan이 작성한 Node.js event loop workfl…","html":"<p>1년 전, 필자는 <a href=\"http://voidcanvas.com/setimmediate-vs-nexttick-vs-settimeout/\" target=\"_blank\" rel=\"nofollow\">setImmediate &#x26; process.nextTick</a>의 차이점에 대해 설명하면서 Node.js의 이벤트 루프 구조에 대해 살짝 언급한 적이 있었다. 놀랍게도 독자 분들은 원래 설명하려고 했던 부분보다 이벤트 루프 부분에 대해서 더 많이 관심을 주었고, 필자는 그 부분에 대해서 많은 질문을 받았었다. 그래서 이번에는 Node.js의 이벤트 루프를 구성하는 로우 레벨의 동작을 자세하게 설명해보려고 한다.</p>\n<blockquote>\n<p>이 포스팅은 2018년 2월 19일에 Paul Shan이 작성한 <a href=\"http://voidcanvas.com/nodejs-event-loop/\" target=\"_blank\" rel=\"nofollow\">Node.js event loop workflow &#x26; lifecycle in low level</a>를 번역한 글입니다. 의역이 있을 수 있습니다.</p>\n</blockquote>\n<h2 id=\"왜-이-포스팅을-작성하게-되었나\" style=\"position:relative;\">왜 이 포스팅을 작성하게 되었나?<a href=\"#%EC%99%9C-%EC%9D%B4-%ED%8F%AC%EC%8A%A4%ED%8C%85%EC%9D%84-%EC%9E%91%EC%84%B1%ED%95%98%EA%B2%8C-%EB%90%98%EC%97%88%EB%82%98\" aria-label=\"왜 이 포스팅을 작성하게 되었나 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>만약에 여러분이 구글에서 <code class=\"language-text\">node.js event loop</code>를 검색하면 나오는 대부분의 아티클들은 자세한 내용을 설명해주지 않는다. <small>(그들은 매우 거시적으로만 이 과정을 묘사하려고 한다.)</small></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a076c3e84ee1aecf176f5e15c621a291/c2d13/node-js-wrong-event-loop_wdvpem.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACr0lEQVR42mWQS0wTQRiA9+jJgxegUGhLt7vdPrbbF+3S3ZZuty0tBTXgwWjiAyNG40WOJoTE4MEYjQmXmpBCvHgxECO+wiOGo3IxejAxGpQSSF+77Xa7bLH+XaMXv+zO/DPz/zPfDFKt1mRZLpfLtar466h5pNFstgOYF8TqodpUFOXwH6rakOXizx+7+TwCpbV6vSyUdwvibkkSpWqlVq3LdUiTJEkQBLnRUFUVhrKGJNVhsnCwXxEEZOL1sxubrybXX0yur15YW72y+fLc2+c7otBqteB0BQ5SFPhApPUfyMe9/a/Fwue9nWJTzT59kjw7NjF1/uat61NXL33Y3oaMeqUiVyoQLC8vZ7PZ3OLSYi43Pz+/sbGBFEWlIDYqtRIsP3p432A6EY54PAEr5uhdW3ujtlrVxmG+XJMa6mgmo+/qsKH9dn1Hz/Fj09PTCFysUAL/tufCwuMQ4zs1nj55OhUfZre23inN1kFJfP/p25fv+aWl3J3ZmXt35x7Mzc7N3F5ZWUFibTj4eZ7nOC4ChLWGDUejXDzOc1oGz8dSqdRIJpNIJpPDqczYWDqdRrr+0tnZCa1Oo1vjz6Suq6tXr+/r6zMYDH9a6Lp1OshGzGYzrkFYrS6AJCm322634zhGEITFYjEajRRF+f1+F0Vp6yQMId9kMiFWHAdJLjqUSCRAjGFZNjQY56L+IM0wDEm64CSbzQbbwV52LYAyowaCW1CWYaKRcJT28+xgmA5yboL3kcMDrthQxO32gCrpcnm8PtxqxTAMXFDUDOVOpxPBcJymB+F5RsJ0MhqJhYIjA2Qs6B0N+RiGheKenu4z4+PXLl+M0EE64HV7KRCByzocDgRFUVCBiHTYvR5PMBCIeEmGcvicBEU6MQwHPYsZBUHcAq9jxnALQeCm/rb5b5x2aX5rJxm3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"node js wrong event loop wdvpem\" title=\"\" src=\"/static/a076c3e84ee1aecf176f5e15c621a291/6af66/node-js-wrong-event-loop_wdvpem.png\" srcset=\"/static/a076c3e84ee1aecf176f5e15c621a291/69538/node-js-wrong-event-loop_wdvpem.png 160w,\n/static/a076c3e84ee1aecf176f5e15c621a291/72799/node-js-wrong-event-loop_wdvpem.png 320w,\n/static/a076c3e84ee1aecf176f5e15c621a291/6af66/node-js-wrong-event-loop_wdvpem.png 640w,\n/static/a076c3e84ee1aecf176f5e15c621a291/d9199/node-js-wrong-event-loop_wdvpem.png 960w,\n/static/a076c3e84ee1aecf176f5e15c621a291/21b4d/node-js-wrong-event-loop_wdvpem.png 1280w,\n/static/a076c3e84ee1aecf176f5e15c621a291/c2d13/node-js-wrong-event-loop_wdvpem.png 2560w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>위 그림은 구글에서 <code class=\"language-text\">nodejs event loop</code>를 검색했을 때 나오는 이미지들을 캡쳐한 것이다. 그리고 대다수의 이미지 결과들은 잘못 되었거나 실제 이벤트 루프가 어떻게 작동하는지에 대해서 거시적으로만 설명하고 있다. 이런 방식의 설명들 때문에 개발자들은 종종 이벤트 루프에 대한 잘못된 이해를 하게 된다. 아래 설명할 몇가지 개념은 개발자들이 잘못 알고 있는 몇가지 개념들이다.</p>\n<h2 id=\"대표적인-잘못된-개념들\" style=\"position:relative;\">대표적인 잘못된 개념들<a href=\"#%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%EC%9E%98%EB%AA%BB%EB%90%9C-%EA%B0%9C%EB%85%90%EB%93%A4\" aria-label=\"대표적인 잘못된 개념들 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"이벤트-루프는-자바스크립트-엔진-내부에-있다\" style=\"position:relative;\">이벤트 루프는 자바스크립트 엔진 내부에 있다<a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%8A%94-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%97%94%EC%A7%84-%EB%82%B4%EB%B6%80%EC%97%90-%EC%9E%88%EB%8B%A4\" aria-label=\"이벤트 루프는 자바스크립트 엔진 내부에 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>대표적인 잘못된 개념들 중 하나는 바로 이벤트 루프가 자바스크립트 엔진<small>(V8, Spider Monkey 등)</small>의 일부라는 것이다. 하지만 이벤트 루프는 단지 자바스크립트 코드를 실행하기위해 자바스크립트 엔진을 이용하기만 할 뿐이다. <small>(역주: 실제로 V8 엔진에는 이벤트 루프를 관리하는 코드가 없다. Node.js나 브라우저가 이벤트 루프를 담당하는 것)</small></p>\n<h3 id=\"이벤트-루프는-하나의-스택-또는-하나의-큐로만-작동한다\" style=\"position:relative;\">이벤트 루프는 하나의 스택 또는 하나의 큐로만 작동한다<a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%8A%94-%ED%95%98%EB%82%98%EC%9D%98-%EC%8A%A4%ED%83%9D-%EB%98%90%EB%8A%94-%ED%95%98%EB%82%98%EC%9D%98-%ED%81%90%EB%A1%9C%EB%A7%8C-%EC%9E%91%EB%8F%99%ED%95%9C%EB%8B%A4\" aria-label=\"이벤트 루프는 하나의 스택 또는 하나의 큐로만 작동한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>먼저, 이벤트 루프에 작업을 담아놓는 스택 같은 것은 존재하지 않는다. 그리고 이벤트 루프가 작동하는 과정은 여러 개의 큐<small>(자료구조에서의 그 큐 맞다.)</small>를 사용하는 복잡한 과정이다. 그러나 대부분의 개발자들은 자바스크립트의 모든 콜백이 단 하나의 큐만 사용하여 수행된다고 알고 있는데, 이것은 완전히 잘못된 생각이다.</p>\n<h3 id=\"이벤트-루프는-여러-개의-스레드에서-실행된다\" style=\"position:relative;\">이벤트 루프는 여러 개의 스레드에서 실행된다<a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EB%8A%94-%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EB%90%9C%EB%8B%A4\" aria-label=\"이벤트 루프는 여러 개의 스레드에서 실행된다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Node.js 이벤트 루프의 잘못된 다이어그램들 때문에 우리는 한 개의 스레드가 자바스크립트의 실행을 담당하고 다른 한 개는 이벤트 루프를 담당하는, 총 두 개의 스레드가 있다고 생각하게 되었다. <small>(필자도 자바스크립트 뉴비 시절에 그렇게 생각했다.)</small></p>\n<p>그러나 실제로는 단일 스레드로 이 모든 것을 처리한다.</p>\n<h3 id=\"settimeout은-일부-비동기-os-api와-관련있다\" style=\"position:relative;\">setTimeout은 일부 비동기 OS API와 관련있다.<a href=\"#settimeout%EC%9D%80-%EC%9D%BC%EB%B6%80-%EB%B9%84%EB%8F%99%EA%B8%B0-os-api%EC%99%80-%EA%B4%80%EB%A0%A8%EC%9E%88%EB%8B%A4\" aria-label=\"settimeout은 일부 비동기 os api와 관련있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>또 다른 큰 오해는 <code class=\"language-text\">setTimeout</code>의 딜레이가 끝났을 때 콜백이 외부의 요인으로 인해<small>(OS나 커널 같은)</small> 의해 어떤 작업 큐에 들어가게 된다고 생각하는 것이다. 하지만 이벤트 루프에 이런 외부의 요인 같은 건 없다. 우리는 밑에서 이 메커니즘에 대해서 좀 더 자세히 알아볼 것이다.</p>\n<h3 id=\"setimmediate의-콜백은-작업-큐의-가장-첫번째에-위치한다\" style=\"position:relative;\">setImmediate의 콜백은 작업 큐의 가장 첫번째에 위치한다<a href=\"#setimmediate%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%80-%EC%9E%91%EC%97%85-%ED%81%90%EC%9D%98-%EA%B0%80%EC%9E%A5-%EC%B2%AB%EB%B2%88%EC%A7%B8%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C%EB%8B%A4\" aria-label=\"setimmediate의 콜백은 작업 큐의 가장 첫번째에 위치한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>보통 일반적인 이벤트 루프에 대한 설명들은 하나의 큐만 가지고 설명을 진행하기 때문에, 몇몇 개발자들은 <code class=\"language-text\">setImmediate()</code>가 콜백을 작업 큐의 가장 앞쪽에 배치하는 API라고 생각하게 된다. 하지만 이것은 완전히 틀린 생각이며, 모든 작업 큐들은 FIFO(First In First Out)로만 작동한다. <small>(역주: 큐에 들어있는 작업의 포지션을 절대 변경하지 않는다는 것이다. 무조건 큐에 먼저 들어간 작업이 먼저 실행된다.)</small></p>\n<h2 id=\"이벤트-루프의-구조\" style=\"position:relative;\">이벤트 루프의 구조<a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EC%9D%98-%EA%B5%AC%EC%A1%B0\" aria-label=\"이벤트 루프의 구조 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>일단 이벤트 루프의 구조를 이해하기 위해서는 이벤트 루프의 흐름에 대해서 알고 있어야 한다. 이미 한번 언급했듯이, 거시적인 하나의 큐만 보는 것은 이벤트 루프를 이해하는 데 별로 도움이 되지 않는다. 아래 그림이 이벤트 루프를 제대로 설명한 그림이다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/dfece5e35b7d9e50b6eac8adb1a348b8/949b7/nodejs-event-loop-phase.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 90.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeklEQVR42p2Ua8uCQBCF+/8/zA+BBmVYlBSBVHbX7lkTz7wMqNmbtbDsbfbMmTmz25Ca7Xa7yeVyqTy73+86jkYjadQFBOx4POr88Xj8DmjGp9NJ9vv9C9jXgDDbbrfS6XRkNpvp+iuGGNuF6/Uqm81G1uu1AiVJonMDMNuPDBEgTVMFyLKscIYTGFs+KxnihYscYAiL8/msa2ORZ84++YQ9DgwwDMM/QPMaBIG0221ptVoyn88VtJwvHCPQeDwWz/Ok1+tJt9uV4XCodwsMydNisVAgwqbvdjuJokj7arXSMwMlmuVyqWzZGwwGrznk0EIAENbNZlMcxxHXdTWSfCPP/4qCGHnAOI6V3WQy0RGHHwHZgLKFyMi6rHA+j9YREA0KopA7cnI4HDQsmGDMuqyy7eO03++rgL7vKwbpeVs25Ro0tRmtTq28jCFKv316GBI+zKv2cZyvy1pPj4aqFDB9Op0Wnp7Zf/05wAow0lD1J/70H9b54gB8AlFufC5VPBD4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"nodejs event loop phase\" title=\"\" src=\"/static/dfece5e35b7d9e50b6eac8adb1a348b8/6af66/nodejs-event-loop-phase.png\" srcset=\"/static/dfece5e35b7d9e50b6eac8adb1a348b8/69538/nodejs-event-loop-phase.png 160w,\n/static/dfece5e35b7d9e50b6eac8adb1a348b8/72799/nodejs-event-loop-phase.png 320w,\n/static/dfece5e35b7d9e50b6eac8adb1a348b8/6af66/nodejs-event-loop-phase.png 640w,\n/static/dfece5e35b7d9e50b6eac8adb1a348b8/d9199/nodejs-event-loop-phase.png 960w,\n/static/dfece5e35b7d9e50b6eac8adb1a348b8/21b4d/nodejs-event-loop-phase.png 1280w,\n/static/dfece5e35b7d9e50b6eac8adb1a348b8/949b7/nodejs-event-loop-phase.png 1583w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이 그림에 표기된 각각의 박스는 특정 작업을 수행하기 위한 페이즈들을 의미한다. 각 페이즈는 각자 하나의 큐를 가지고 있으며, 자바스크립트의 실행은 이 페이즈들 중 <code class=\"language-text\">Idle, prepare</code> 페이즈를 제외한 어느 단계에서나 할 수 있다. <small>(이해를 돕기 위해 큐라고 설명했지만 사실 실제 자료구조는 큐가 아닐 수도 있다.)</small></p>\n<p>그리고 이 그림에서 <code class=\"language-text\">nextTickQueue</code>와 <code class=\"language-text\">microTaskQueue</code>를 볼 수 있는데, 이 큐들은 이벤트 루프의 일부가 아니며, 이 큐들에 들어있는 작업 또한 어떤 페이즈에서든 실행될 수 있다. 또한 이 큐들에 들어있는 작업은 가장 높은 실행 우선 순위를 가지고 있다.</p>\n<p>이제 우리는 이벤트 루프가 각자 다른 여러 개의 페이즈들과 큐들의 조합으로 이루어져 있다는 것을 알게 되었다. 이제 각각의 페이즈가 어떤 작업을 수행하는 지 알아보자.</p>\n<h3 id=\"timer-phase\" style=\"position:relative;\">Timer phase<a href=\"#timer-phase\" aria-label=\"timer phase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Timer phase</code>는 이벤트 루프의 시작을 알리는 페이즈이다. 이 페이즈가 가지고 있는 큐에는 <code class=\"language-text\">setTimeout</code>이나 <code class=\"language-text\">setInterval</code> 같은 타이머들의 콜백을 저장하게 된다. 이 페이즈에서 바로 타이머들의 콜백이 큐에 들어가는 것은 아니지만 타이머들을 <code class=\"language-text\">min-heap</code>으로 유지하고 있다가 실행할 때가 된 타이머들의 콜백을 큐에 넣고 실행하는 것이다.</p>\n<blockquote>\n<p><strong>역주</strong>: 힙(Heap)은 완전 이진트리의 일종으로 어느 정도의 느슨한 정렬을 사용하여 값들의 집합에서 최대 값이나 최소 값을 찾아내는 작업에 특화되어 있다. min-heap은 상위 레벨의 노드가 하위 레벨의 노드들보다 작거나 같은 구조이므로 타이머가 실행되어야하는 순서대로 저장하기에 알맞는 자료 구조라고 할 수 있다.</p>\n<p>그리고 큐에 콜백을 넣는다는 것은, 이 콜백들을 실행하겠다는 것을 의미하므로 타이머가 생성되지마자 큐에 콜백을 넣는 것이 아니라 별도의 힙에 타이머를 저장하고나서 매 Timer phase 때 어떤 타이머가 실행할 때가 되었는지를 검사한 후, 실행되어야 하는 콜백만 큐에 넣는다는 것이다. 이 과정에 대한 자세한 내용은 밑에서 다시 설명하겠다.</p>\n</blockquote>\n<h3 id=\"pending-io-callback-phase\" style=\"position:relative;\">Pending i/o callback phase<a href=\"#pending-io-callback-phase\" aria-label=\"pending io callback phase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이 페이즈에서는 이벤트 루프의 <code class=\"language-text\">pending_queue</code>에 들어있는 콜백들을 실행한다. 이 큐에 들어와있는 콜백들은 현재 돌고 있는 루프 이전에 한 작업에서 이미 큐에 들어와있던 콜백들이다. 예를 들어 여러분이 TCP 핸들러 콜백 함수에서 파일에 뭔가를 썼다면 TCP 통신이 끝나고 파일 쓰기도 끝나고 나서 파일 쓰기의 콜백이 이 큐에 들어오는 것이다.<small>(파일 쓰기는 보통 비동기로 이루어진다.)</small> 또한 에러 핸들러 콜백도 <code class=\"language-text\">pending_queue</code>로 들어오게 된다.</p>\n<h3 id=\"idle-prepare-phase\" style=\"position:relative;\">Idle, Prepare phase<a href=\"#idle-prepare-phase\" aria-label=\"idle prepare phase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이름은 <code class=\"language-text\">Idle phase</code>이지만 이 페이즈는 매 Tick마다 실행된다. <code class=\"language-text\">Prepare phase</code> 또한 매 폴링(Polling)때마다 실행된다. 어쨌든 이 두개의 페이즈는 이벤트 루프와 직접적인 관련이 있다기보다는 Node.js의 내부적인 관리를 위한 것이기 때문에 이 포스팅에서는 설명하지 않는다.</p>\n<h3 id=\"poll-phase\" style=\"position:relative;\">Poll phase<a href=\"#poll-phase\" aria-label=\"poll phase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자가 생각하기에 전체 이벤트 루프 중 가장 중요한 페이즈는 바로 이 <code class=\"language-text\">Poll phase</code>라고 생각한다. 이 페이즈에서는 새로운 수신 커넥션<small>(새로운 소켓 설정 등)</small>과 데이터<small>(파일 읽기 등)</small>를 허용한다. 우리는 여기서 일어나는 일을 크게 두 가지로 나눠볼 수 있다.</p>\n<hr>\n<ul>\n<li>만약 <code class=\"language-text\">watch_queue</code><small>(Poll phase가 가지고 있는 큐)</small>가 비어있지 않다면, 큐가 비거나 시스템 최대 실행 한도에 다다를 때까지 동기적으로 모든 콜백을 실행한다.</li>\n<li>일단 <code class=\"language-text\">watch_queue</code>가 비어있다면, Node.js는 곧바로 다음 페이즈로 넘어가는 것이 아니라 약간 대기시간을 가지게 된다. Node.js가 기다리는 시간은 여러 가지 요인에 따라 계산되는데, 이 부분은 밑에서 따로 설명하도록 하겠다.</li>\n</ul>\n<hr>\n<h3 id=\"check-phase\" style=\"position:relative;\">Check phase<a href=\"#check-phase\" aria-label=\"check phase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Poll phase</code>의 다음 페이즈는 바로 <code class=\"language-text\">setImmediate</code>의 콜백만을 위한 페이즈인 <code class=\"language-text\">Check phase</code>이다. 이렇게 얘기하면 보통 하시는 질문은, “왜 setImmediate의 콜백만을 위한 큐인가요?”이다. 음, 그건 밑에서 필자가 워크 플로우 섹션에서 다시 얘기할 <code class=\"language-text\">Poll phase</code>에서 수행하는 행동들 때문이기도 하다. 일단 지금은 <code class=\"language-text\">Check phase</code>가 <code class=\"language-text\">setImmediate</code>의 콜백 전용 단계라는 사실만 기억하고 있자.</p>\n<h3 id=\"close-callbacks\" style=\"position:relative;\">Close callbacks<a href=\"#close-callbacks\" aria-label=\"close callbacks permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">socket.on('close', () => {})</code>과 같은 <code class=\"language-text\">close</code> 이벤트 타입의 핸들러들은 여기서 처리된다.</p>\n<h3 id=\"nexttickqueue와-microtaskqueue\" style=\"position:relative;\">nextTickQueue와 microTaskQueue<a href=\"#nexttickqueue%EC%99%80-microtaskqueue\" aria-label=\"nexttickqueue와 microtaskqueue permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">nextTickQueue</code>는 <code class=\"language-text\">process.nextTick()</code> API의 콜백들을 가지고 있으며, <code class=\"language-text\">microTaskQueue</code>는 Resolve된 프로미스의 콜백을 가지고 있다.</p>\n<p>이 두개의 큐는 기술적으로 이벤트 루프의 일부가 아니다. 즉, <code class=\"language-text\">libUV</code> 라이브러리에 포함된 것이 아니라 <code class=\"language-text\">Node.js</code>에 포함된 기술이라는 것이다. 이 친구들이 가지고 있는 작업들은 현재 실행되고 있는 작업이 끝나자마자 호출되어야한다.</p>\n<blockquote>\n<p><strong>역주</strong>: <a href=\"https://github.com/libuv/libuv\" target=\"_blank\" rel=\"nofollow\">libUV</a>는 Node.js에서 사용하는 비동기 I/O 라이브러리이다. 이 라이브러리는 C로 작성되었고 윈도우나 리눅스 커널을 추상화해서 Wrapping하고 있는 구조이다. 즉, 커널에서 어떤 비동기 작업들을 지원해주는 지 알고 있기 때문에 커널을 사용하여 처리할 수 있는 비동기 작업을 발견하면 바로 커널로 작업을 넘겨버린다.</p>\n<p>이후 이 작업들이 종료되어 OS 커널로부터 시스템 콜을 받으면 이벤트 루프에 콜백을 등록하는 것이다. 만약 OS 커널이 지원하지 않는 작업일 경우 별도의 스레드에 작업을 던져서 처리한다. 이 스레드에 관한 내용은 원작자가 밑에서 추가적으로 설명하고있다.</p>\n</blockquote>\n<h2 id=\"이벤트-루프의-작업-흐름\" style=\"position:relative;\">이벤트 루프의 작업 흐름<a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EC%9D%98-%EC%9E%91%EC%97%85-%ED%9D%90%EB%A6%84\" aria-label=\"이벤트 루프의 작업 흐름 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>우리가 <code class=\"language-text\">node my-script.js</code>를 콘솔에서 실행시켰을 때, Node.js는 이벤트 루프를 생성한 다음 <strong>이벤트 루프 바깥</strong>에서 메인 모듈인 <code class=\"language-text\">my-script.js</code>를 실행한다. 한번 메인 모듈이 실행되고나면 Node.js는 이벤트 루프가 활성 상태인지, 즉 이벤트 루프 안에서 해야할 작업이 있는지를 확인한다. 만약 이벤트 루프를 돌릴 필요가 없다면 Node.js는 <code class=\"language-text\">process.on('exit, () => {})</code>를 실행하고 이벤트 루프를 종료하려고 할 것이다.</p>\n<p>그러나 만약 이벤트 루프를 돌려야할 상황이라면 Node.js는 이벤트 루프의 첫 번째 페이즈인 <code class=\"language-text\">Timer phase</code>를 실행한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f9c11eeefdd25b07850636e84007db11/a4f52/nodejs-event-loop-workflow.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeUlEQVR42o2U666CMBCE+/7vp6ISwR+KUUTEG15wT75NxjQeb00ase3Mzs5uGywat9vNzuezf9/vdzudTr6mva7r7NsI+rhcLrZarSzLMmuaxrbbrY1GIyvL0tq2teVyaev12vcU5CMh0aUAdYAAo1h7rB+PRw/+lhDg9Xp9gPQN0Ww2cxKlDBGKd7vde0KA8/nckiSxwWBgVVXZ4XCwzWbzABIEtayTOhMblBlBNYMAHGCqGPv93gGQolRAncdjArCOeoSQQYjlCoCauq79gII8dwNrBKVQZMk51sMrH9iAcDKZPJRCIJXyE6uGw6F3Rpqmrjq8M5e0i6LwqpLidDq1Xq9n4/HYgfIMYlKXn+FTk3JQoDzPvWgoiu0gUL/f9yL+8zDuSXkk0+Nq6r/aKz73kpAUSZdWYj7fDnkIOWrpTWXyklAFwEcAKIgrrQuAJYvFwj1VkGA/DLyKr6Ean0BqIVnwE6GaXa3EL9X/+Dh8G/EDET8kz4R/bwLkMJcqSxIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"nodejs event loop workflow\" title=\"\" src=\"/static/f9c11eeefdd25b07850636e84007db11/6af66/nodejs-event-loop-workflow.png\" srcset=\"/static/f9c11eeefdd25b07850636e84007db11/69538/nodejs-event-loop-workflow.png 160w,\n/static/f9c11eeefdd25b07850636e84007db11/72799/nodejs-event-loop-workflow.png 320w,\n/static/f9c11eeefdd25b07850636e84007db11/6af66/nodejs-event-loop-workflow.png 640w,\n/static/f9c11eeefdd25b07850636e84007db11/d9199/nodejs-event-loop-workflow.png 960w,\n/static/f9c11eeefdd25b07850636e84007db11/21b4d/nodejs-event-loop-workflow.png 1280w,\n/static/f9c11eeefdd25b07850636e84007db11/a4f52/nodejs-event-loop-workflow.png 2024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<h3 id=\"timer-phase-1\" style=\"position:relative;\">Timer phase<a href=\"#timer-phase-1\" aria-label=\"timer phase 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이벤트 루프가 <code class=\"language-text\">Timer phase</code>에 들어가게 되면 실행할 타이머 콜백 큐에 뭐가 있는 지 확인부터 시작한다. 그냥 확인이라고 하면 간단해보이지만 사실 이벤트 루프는 적절한 콜백들을 찾기 위해 몇 가지 단계를 수행하게된다.\n위에서 설명했듯이 타이머 스크립트는 오름차순으로 힙에 저장된다. 그래서 제일 먼저 저장된 타이머들을 하나씩 까서 <code class=\"language-text\">now - registeredTime === delta</code> 같은 조건을 통해 타이머의 콜백을 실행할 시간이 되었는 지 검사하게 된다.<small>(역주: <code class=\"language-text\">delta</code>는 <code class=\"language-text\">setTimeout(() => {}, 10)</code>에서의 <code class=\"language-text\">10</code>)</small></p>\n<p>만약 조건에 해당된다면 이 타이머의 콜백을 실행하고 다음 타이머를 확인한다. 만약 조건에 해당하지 않는 타이머를 만난다면, 탐색을 바로 종료하고 다음 페이즈로 이동한다. 타이머는 힙 내부에 오름차순으로 정렬되어있기 때문에 그 이후로는 탐색을 해도 의미가 없기 때문이다.</p>\n<p>자, 예를 들어 딜레이 값이 <code class=\"language-text\">100</code>, <code class=\"language-text\">200</code>, <code class=\"language-text\">300</code>, <code class=\"language-text\">400</code>인 4개의 타이머(A, B, C, D)를 어떤 특정 시간 <code class=\"language-text\">t</code>에 힙에 등록했다고 가정해보자.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/87819ce16bd25b0803be9a4ebab03834/3534c/Screen-Shot-2018-02-18-at-12.50.48-PM.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 19.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAiUlEQVR42m2OSw7DIAxEc/87ElgA4ZeEwAEcPUtUldrFyPLzeDRb712u61Ld9y3P88g/xlyM+xjjh6HtPE+x1qpqrcKec5Z931Ww1tqHOefUA08piTFGGeEaiDnGKMdxSClFxXMIQRlP7Ex2vPysnYl3tdRAAEbC5pzaAIZ5MRrBvPfaBrZCvwNfylArWSyIdCMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Screen Shot 2018 02 18 at 12 50 48 PM\" title=\"\" src=\"/static/87819ce16bd25b0803be9a4ebab03834/6af66/Screen-Shot-2018-02-18-at-12.50.48-PM.png\" srcset=\"/static/87819ce16bd25b0803be9a4ebab03834/69538/Screen-Shot-2018-02-18-at-12.50.48-PM.png 160w,\n/static/87819ce16bd25b0803be9a4ebab03834/72799/Screen-Shot-2018-02-18-at-12.50.48-PM.png 320w,\n/static/87819ce16bd25b0803be9a4ebab03834/6af66/Screen-Shot-2018-02-18-at-12.50.48-PM.png 640w,\n/static/87819ce16bd25b0803be9a4ebab03834/3534c/Screen-Shot-2018-02-18-at-12.50.48-PM.png 808w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이제 이벤트 루프가 <code class=\"language-text\">t+250</code>에 Timer phase에 진입했다고 생각해보자.</p>\n<p>가장 먼저 타이머 A를 찾아낸 후 만료 기간이 <code class=\"language-text\">t+100</code>이라는 것을 알게 될 것이다. 그러나 지금은 이미 <code class=\"language-text\">t+250</code>이기 때문에 타이머 A의 콜백은 실행될 것이다. 그리고 타이머 B를 찾아내어 만료 기간이 <code class=\"language-text\">t+200</code>임을 체크하게되고, 타이머 B의 콜백 역시 실행된다.</p>\n<p>이제 타이머 C를 체크하게 되는데 이 타이머의 딜레이는 <code class=\"language-text\">t+300</code>이기 때문에 바로 페이즈가 종료된다. 이벤트 루프는 타이머 D는 체크하지 않는데, 위에서 설명했듯이 타이머들은 만료 기간 순으로 오름차순 정렬되어있기 때문에 타이머 C의 뒤쪽에는 어차피 타이머 C보다 만료 기간이 긴 타이머들만 있기 때문이다.</p>\n<p>참고로 페이즈는 시스템의 실행 한도에도 영향을 받고 있으므로, 실행 되어야하는 타이머가 아직 남아 있다고 하더라도 시스템 실행 한도에 도달한다면 바로 다음 페이즈로 넘어가게된다.</p>\n<h3 id=\"pending-io-phase\" style=\"position:relative;\">Pending i/o phase<a href=\"#pending-io-phase\" aria-label=\"pending io phase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>타임 페이즈가 종료된 후 이벤트 루프는 Pending i/o 페이즈에 진입하고, 가장 먼저 이전 작업들의 콜백이 실행 대기 중인지, 즉 <code class=\"language-text\">pending_queue</code>에 들어와 있는지를 체크하게 된다. 만약 실행 대기 중이라면 <code class=\"language-text\">pending_queue</code>가 비거나 시스템의 실행 한도 초과에 도달할 때까지 대기하고 있던 콜백들을 실행한다. 이 과정이 종료되면 이벤트 루프는 <code class=\"language-text\">Idle Handler Phase</code>로 이동하게 된 후 내부 처리를 위한 <code class=\"language-text\">Prepare phase</code>를 거쳐 최종적으로 가장 중요한 단계인 <code class=\"language-text\">Poll Phase</code>에 도달하게 된다.</p>\n<h3 id=\"poll-phase-1\" style=\"position:relative;\">Poll phase<a href=\"#poll-phase-1\" aria-label=\"poll phase 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이름에서 알 수 있듯이 이 페이즈는 폴링하는 단계이다. 이벤트 루프가 <code class=\"language-text\">Poll phase</code>에 들어왔을 때 <code class=\"language-text\">watcher_queue</code> 내부에 파일 읽기의 응답 콜백, HTTP 응답 콜백 같이 수행해야 할 작업들이 있다면 이 작업들을 실행하게 된다. 이 과정 또한 <code class=\"language-text\">watcher_queue</code>가 비거나 시스템의 실행 한도 초과에 다다를 때까지 계속 된다.</p>\n<p>만약 더 이상 콜백들을 실행할 수 없는 상태가 된다면 만약 <code class=\"language-text\">check_queue</code>, <code class=\"language-text\">pending_queue</code>, <code class=\"language-text\">closing_callbacks_queue</code>에 해야할 작업이 있는지를 검사하고, 만약 해야할 작업이 있다면 바로 <code class=\"language-text\">Poll phase</code>가 종료되고 다음 페이즈로 넘어가게 된다. 하지만 특별히 해야할 작업이 더 이상 없는 경우 <code class=\"language-text\">Poll phase</code>는 다음 페이즈로 넘어가지 않고 계속 대기하게 된다.</p>\n<p>이때도 마냥 무한 대기를 하는 것은 아니고, 타이머 힙에서 첫번째 타이머를 꺼내본 다음에 만약 해당 타이머가 실행 가능한 상태라면 그 타이머의 딜레이 시간만큼만 대기 시간을 결정한다.</p>\n<blockquote>\n<p><strong>역주</strong>: 결국 Poll phase에서 더 이상 수행할 작업이 없는 경우 다음 페이즈로 넘어가는 조건은 다음과 같다.</p>\n<ol>\n<li><code class=\"language-text\">Check phase</code>에 실행할 콜백이 있냐? 바로 다음 페이즈로 고고</li>\n<li><code class=\"language-text\">Check phase</code>에도 실행할 콜백이 없어? 그럼 타이머는 있어? 있다면 그 타이머를 실행 할 수 있는 시간이 될 때까지만 대기하고 바로 Timer phase로 고고</li>\n<li>없어? 그럼 일 생길 때까지 대기…</li>\n</ol>\n<p>2번 조건에서 타이머가 있다고 바로 Timer phase로 넘어가지 않고 대기하는 이유는, 대기하지않고 바로 Timer phase로 넘어갈 경우 어차피 첫번째 타이머를 실행할 수 있는 시간이 안되었기 때문에 Timer phase에서도 아무것도 수행하지 않고 Timer phase가 끝나버리기 때문이다. 그렇게 되면 굳이 이벤트 루프를 한번 더 돌아야지 해당 타이머를 실행할 수 있게되므로 그냥 Poll phase에서 대기하는 게 더 이득인 것이다.</p>\n</blockquote>\n<h3 id=\"check-phase-1\" style=\"position:relative;\">Check phase<a href=\"#check-phase-1\" aria-label=\"check phase 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Poll phase</code>가 지나면 이벤트 루프는 바로 <code class=\"language-text\">setImmediate()</code> API의 콜백과 관련이 있는 <code class=\"language-text\">Check phase</code>에 들어서게 된다. 이 페이즈에서는 다른 페이즈와 마찬가지로 큐가 비거나 시스템 실행 한도 초과에 도달할 때까지 계속 해서 <code class=\"language-text\">setImmediate</code>의 콜백들을 실행한다.</p>\n<h3 id=\"close-callback\" style=\"position:relative;\">Close callback<a href=\"#close-callback\" aria-label=\"close callback permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Check Phase</code>가 종료된 후에, 이벤트 루프의 다음 목적지는 <code class=\"language-text\">close</code>나 <code class=\"language-text\">destory</code> 콜백 타입들을 관리하는 <code class=\"language-text\">Close callback</code>이다.</p>\n<p>이벤트 루프가 <code class=\"language-text\">Close callback</code>들과 함께 종료되고나면 이벤트 루프는 다음에 돌아야할 루프가 있는지 다시 체크 하게 된다. 만약 아니라면 그대로 이벤트 루프는 종료된다. 하지만 만약 더 수행해야할 작업들이 남아 있다면 이벤트 루프는 다음 순회를 돌기 시작하고 다시 <code class=\"language-text\">Timer Phase</code>부터 시작하게 된다.</p>\n<p>아까 위에서 설명했던 <code class=\"language-text\">Timer Phase</code>에서의 예시를 다시 가져오자면, 이제 다음 루프의 <code class=\"language-text\">Timer Phase</code>에서는 타이머 C의 만료 시간이 경과했는지부터 확인을 시작할 것이다.</p>\n<h3 id=\"nexttickqueue--microtaskqueue\" style=\"position:relative;\">nextTickQueue &#x26; microTaskQueue<a href=\"#nexttickqueue--microtaskqueue\" aria-label=\"nexttickqueue  microtaskqueue permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>근데 이벤트 루프의 일부가 아닌 이 두 큐에 들어있는 콜백들은 언제 실행되는 걸까? 이 두 큐의 콜백들은 어떤 페이즈에서 다음 페이즈로 넘어가기 전에 자신이 가지고 있는 콜백들을 최대한 빨리 실행해야하는 역할을 맡고 있다.<small>(역주: 페이즈에서 다른 페이즈로 넘어가는 과정을 Tick이라고 부른다.)</small></p>\n<p>다른 페이즈들과는 다르게 이 두 큐는 시스템 실행 한도 초과에 영향을 받지 않기 때문에 Node.js는 이 큐가 완전히 비워질 때까지 콜백들을 실행한다. 그리고 <code class=\"language-text\">nextTickQueue</code>는 <code class=\"language-text\">microTaskQueue</code>보다는 높은 우선 순위를 가지고 있다.</p>\n<h3 id=\"thread-pool\" style=\"position:relative;\">Thread-pool<a href=\"#thread-pool\" aria-label=\"thread pool permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자가 자바스크립트 개발자에게 가장 많이 들은 단어는 바로 스레드풀(ThreadPoll)이다. 그리고 이와 관련된 가장 큰 오해는 바로 Node.js가 모든 비동기 명령을 관리하는 별도의 스레드풀을 가지고 있다는 것이다. 그러나 이 스레드풀은 Node.js가 아니라 Node.js가 비동기 작업을 처리하기 위해 사용하는 라이브러리인 <code class=\"language-text\">libUV</code>에 포함된 기능이라는 것이다.</p>\n<p>필자가 이벤트 루프의 다이어그램에 스레드풀을 별도로 표시하지 않은 이유는 스레드풀 자체가 이벤트 루프 매커니즘의 일부가 아니기 때문이다. <code class=\"language-text\">libUV</code>는 OS커널의 비동기 API만을 사용하여 이벤트 드리븐을 유도할 수 있을 만큼 충분히 훌륭하다. 그러나 파일 읽기, DNS Lookup 등 OS 커널이 비동기 API를 지원하지않는 작업들의 경우에는 별도의 스레드풀을 사용하게 되는데, 이때 기본 값으로 4개의 스레드를 사용하도록 설정되어있다. <code class=\"language-text\">uv_threadpool</code> 환경 변수를 사용하면 최대 128개까지 스레드 개수를 늘릴 수도 있다.</p>\n<h2 id=\"workflow-with-examples\" style=\"position:relative;\">Workflow with examples<a href=\"#workflow-with-examples\" aria-label=\"workflow with examples permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이제 이 동기식 무한 루프가 자바스크립트를 비동기식으로 작동하게 하기 위해 얼마나 큰 역할을 하고 있는 지 이해했기 바란다. 이 구조는 한번에 단 한개의 작업만 실행하고 있지만 그 어떤 것도 블로킹하지 않는다. 어쨌든 백문이불여일견이니, 코드 스니펫으로 이 구조를 다시 이해해보는 시간을 가져보도록 하자.</p>\n<h3 id=\"snippet-1--기초-이해\" style=\"position:relative;\">Snippet 1 – 기초 이해<a href=\"#snippet-1--%EA%B8%B0%EC%B4%88-%EC%9D%B4%ED%95%B4\" aria-label=\"snippet 1  기초 이해 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setTimeout'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setImmediate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setImmediate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 결과를 예측할 수 있겠는가? 아마도 여러분은 <code class=\"language-text\">setTimeout</code>이 먼저 출력된다고 생각하겠지만, 사실 장담할 수 없다.</p>\n<p>왜냐? 메인 모듈이 실행되고나서 이벤트 루프가 <code class=\"language-text\">Timer phase</code>에 진입할 때 여러분의 타이머를 찾을 수도 있고 못 찾을 수도 있기 때문이다. 왜냐면 타이머는 시스템의 시간과 사용자가 제공한 시간을 사용하여 등록되기 때문이다. <code class=\"language-text\">setTimeout</code>이 호출된 순간, 타이머는 메모리에 이 타이머를 저장하게되는데, 그 순간 컴퓨터의 성능이나 Node.js가 아닌 외부 작업 때문에 약간의 딜레이가 발생할 수 있기 때문이다.</p>\n<p>또 다른 포인트는 Node.js가 <code class=\"language-text\">Timer phase</code>에 진입하기 전에 변수 <code class=\"language-text\">now</code>를 선언하고 그 변수 <code class=\"language-text\">now</code>를 현재 시간으로 간주한다는 점이다. 그러므로 정확한 계산이라고 하기에는 약간의 노이즈가 껴있다는 것이고, 이게 바로 <code class=\"language-text\">setTimeout</code>이 반드시 먼저 실행될 것이라고 확신할 수 없는 불확실성의 이유가 된다.</p>\n<p>그러나 만약 여러분이 이 코드를 I/O 사이클의 내부로 옮긴다면, 반드시 <code class=\"language-text\">setTimeout</code>보다 <code class=\"language-text\">setImmediate</code>가 먼저 실행되는 것을 보장할 수 있게된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'my-file-path.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setTimeout'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setImmediate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setImmediate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p><strong>역주</strong>: 위 스니펫은 다음과 같은 순서로 실행된다.</p>\n<ol>\n<li><code class=\"language-text\">fs.readFile</code>을 만나면 이벤트 루프는 libUV에게 해당 작업을 던짐.</li>\n<li>파일 읽기는 OS 커널에서 비동기 API를 제공하지 않기 때문에 libUV는 별도의 스레드에 해당 작업을 던짐</li>\n<li>작업이 완료되면 이벤트 루프는 <code class=\"language-text\">Pending i/o callback phase</code>의 <code class=\"language-text\">pending_queue</code>에 작업의 콜백을 등록</li>\n<li>이벤트 루프가 <code class=\"language-text\">Pending i/o callback phase</code>를 지날 때 해당 콜백을 실행</li>\n<li><code class=\"language-text\">setTimeout</code>이 <code class=\"language-text\">Timer phase</code>의 큐에 등록됨. 해당 콜백은 다음 <code class=\"language-text\">Timer phase</code> 때 실행될 것이다.</li>\n<li><code class=\"language-text\">setImmediate</code>의 콜백이 <code class=\"language-text\">Check phase</code>의 <code class=\"language-text\">check_queue</code>에 등록됨.</li>\n<li><code class=\"language-text\">Poll phase</code>에서는 딱히 할 일이 없지만, <code class=\"language-text\">Check phase</code>의 큐에 작업이 있으므로 바로 <code class=\"language-text\">Check phase</code>로 이동</li>\n<li>setImmediate 콘솔 출력. <code class=\"language-text\">Timer phase</code>에는 타이머가 등록되어 있으므로 다시 이벤트 루프가 시작된다.</li>\n<li><code class=\"language-text\">Timer phase</code>에서 타이머를 검사, 딜레이가 0이므로 <code class=\"language-text\">setTimeout</code>의 콜백을 바로 실행한다.</li>\n<li>setTimeout 콘솔 출력</li>\n</ol>\n<p>즉, 이런 과정을 거치기 때문에 <code class=\"language-text\">setImmediate</code>의 콜백이 반드시 <code class=\"language-text\">setTimeout</code>보다 먼저 실행되는 것을 보장할 수 있는 것이다.</p>\n</blockquote>\n<h3 id=\"snippet-2--타이머들을-더-잘-이해하기\" style=\"position:relative;\">Snippet 2 – 타이머들을 더 잘 이해하기<a href=\"#snippet-2--%ED%83%80%EC%9D%B4%EB%A8%B8%EB%93%A4%EC%9D%84-%EB%8D%94-%EC%9E%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\"snippet 2  타이머들을 더 잘 이해하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> start <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setImmediate</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> end <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Execution time: \"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>end <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 예시는 굉장히 간단하다. 함수 <code class=\"language-text\">foo</code>는 <code class=\"language-text\">setImmediate()</code>에 의해서 1000번 재귀호출되고 있다. 이 코드를 필자의 맥북 프로에서 Node.js 8.9.1을 사용하여 실행하면 함수가 종료되기까지 <code class=\"language-text\">6-8ms</code>정도가 걸린다. 이제 위의 스니펫을 <code class=\"language-text\">setImmediate(foo)</code>에서 <code class=\"language-text\">setTimeout(foo, 0)</code>으로 변경해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> start <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> end <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Execution time: \"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>end <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이제 필자의 컴퓨터에서 이 코드가 실행되는데 걸리는 시간은 대략 <code class=\"language-text\">1400+ ms</code>정도이다.</p>\n<p>왜 이렇게 되는걸까? 이 두 경우 모두 폴링에 걸리는 시간은 <code class=\"language-text\">0</code>이기 때문에 동일하게 작동해야한다. 근데 왜 이렇게 실행 시간이 많이 차이가 나게 된 걸까?</p>\n<p>그 이유는 바로 시간을 비교하고 편차를 알아내는 작업이 CPU를 집중적으로 사용하는 작업이기 때문에 시간이 더 오래 걸리기 때문이다. 그리고 타이머 스크립트를 등록하는 것 자체도 시간을 소모한다. 위에서 설명했듯이 Timer phase에서는 타이머를 실행할 시간이 되었는지, 콜백을 실행해야 하는지를 검사하기 위해 몇가지 작업을 거쳐야 하는데 이 과정을 매 이터레이션마다 하고 있으니 느려질 수 밖에 없다. 그러나 <code class=\"language-text\">setImmediate</code>의 경우 이런 과정이 필요없기 때문에 <code class=\"language-text\">setTimeout</code>보다 실행 속도가 빠른 것이다.</p>\n<h3 id=\"snippet-3--nexttick과-타이머-실행에-대해-이해하기\" style=\"position:relative;\">Snippet 3 – nextTick()과 타이머 실행에 대해 이해하기<a href=\"#snippet-3--nexttick%EA%B3%BC-%ED%83%80%EC%9D%B4%EB%A8%B8-%EC%8B%A4%ED%96%89%EC%97%90-%EB%8C%80%ED%95%B4-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\"snippet 3  nexttick과 타이머 실행에 대해 이해하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">></span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"setTimeout\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  process<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>   \n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 코드의 로그는 어떻게 출력될까? 첫번째 출력은 <code class=\"language-text\">foo</code>들이 될 것이고 기 후 <code class=\"language-text\">setTimeout</code>들이 출력된다. 제일 처음 코드를 실행하면 2ms 후에 첫 번째 <code class=\"language-text\">foo</code>가 출력되고 다음 <code class=\"language-text\">nextTickQueue</code>에 다시 <code class=\"language-text\">foo()</code>를 넣게된다.</p>\n<p>그리고 <code class=\"language-text\">nextTickQueue</code>에 들어간 콜백들은 한 페이즈에서 다음 페이즈로 넘어갈 때마다 무조건 콜백들을 동기적으로 실행해야한다. 그렇기 때문에 재귀호출로 <code class=\"language-text\">nextTickQueue</code>에 들어간 모든 콜백들을 실행하고 나서야 Timer Phase에서 <code class=\"language-text\">setTimeout</code> 콜백을 처리할 수 있게 되는 것이다.</p>\n<p>코드를 약간 수정하고 다시 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">></span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"setTimeout\"</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  process<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Other setTimeout\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>필자는 기존의 <code class=\"language-text\">setTimeout</code>과 같은 딜레이 시간을 가진 <code class=\"language-text\">setTimeout</code>을 추가했고, 이 타이머의 콜백은 단지 <code class=\"language-text\">Other setTimeout</code>을 출력하기만 한다. 뭐, 확실하다고 말할 수는 없지만 한 개의 <code class=\"language-text\">foo</code>가 먼저 출력된 후 <code class=\"language-text\">Other setTimeout</code>이 출력될 찬스가 존재하긴 한다. 타이머들이 들어있는 힙 내부에 동일한 딜레이를 가진 타이머들은 어떻게든 그룹화되어있고, <code class=\"language-text\">nextTickQueue</code>의 체크는 진행 중인 콜백 그룹의 실행이 끝난 후에야 진행되기 때문이다.</p>\n<blockquote>\n<p><strong>역주</strong>: 첫 번째 setTimeout의 콜백과 두 번쨰 setTimeout의 콜백이 실행될 시간이 동일하기 때문에 Timer phase에서 두 타이머의 콜백이 모두 큐에 들어갔고, 일단 큐에 들어갔으면 시스템 실행 한도에 걸리지 않는 이상 무조건 해당 페이즈가 끝나기 전에 실행된다.</p>\n<p>이런 경우, <code class=\"language-text\">foo()</code> 내부의 <code class=\"language-text\">process.nextTick</code>의 콜백은 Timer phase에서 다음 페이즈로 넘어갈 때 실행될 것이기 때문에 <code class=\"language-text\">foo</code>가 먼저 한 개 출력되고 <code class=\"language-text\">Other setTimeout</code>이 출력되는 것이다.</p>\n</blockquote>\n<h2 id=\"몇-가지-일반적인-질문들\" style=\"position:relative;\">몇 가지 일반적인 질문들<a href=\"#%EB%AA%87-%EA%B0%80%EC%A7%80-%EC%9D%BC%EB%B0%98%EC%A0%81%EC%9D%B8-%EC%A7%88%EB%AC%B8%EB%93%A4\" aria-label=\"몇 가지 일반적인 질문들 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"그럼-자바스크립트는-정확히-어디에서-실행되는건가요\" style=\"position:relative;\">그럼 자바스크립트는 정확히 어디에서 실행되는건가요?<a href=\"#%EA%B7%B8%EB%9F%BC-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%A0%95%ED%99%95%ED%9E%88-%EC%96%B4%EB%94%94%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EB%90%98%EB%8A%94%EA%B1%B4%EA%B0%80%EC%9A%94\" aria-label=\"그럼 자바스크립트는 정확히 어디에서 실행되는건가요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이 포스트를 처음 읽을 때는 자바스크립트가 정확히 어디서 실행되는지 헷갈릴 수 있다.</p>\n<p>앞서 말했듯이 이벤트 루프 자체에서 V8 또는 다른 엔진을 사용하여 자바스크립트를 실행하는 것이고 이때, 단 하나의 스레드를 사용하여 자바스크립트가 실행되는 것이다. 실행 자체는 동기적이고, 현재 실행시킨 자바스크립트의 실행이 완료되지 않는다면 이벤트 루프 또한 진행되지 않는다.</p>\n<h3 id=\"왜-우리는-settimeoutfn-0가-있는데도-setimmediate를-사용해야-하나요\" style=\"position:relative;\">왜 우리는 setTimeout(fn, 0)가 있는데도 setImmediate를 사용해야 하나요?<a href=\"#%EC%99%9C-%EC%9A%B0%EB%A6%AC%EB%8A%94-settimeoutfn-0%EA%B0%80-%EC%9E%88%EB%8A%94%EB%8D%B0%EB%8F%84-setimmediate%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%98%EB%82%98%EC%9A%94\" aria-label=\"왜 우리는 settimeoutfn 0가 있는데도 setimmediate를 사용해야 하나요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>일단, <code class=\"language-text\">setTimeout(fn, 0)</code>은 실질적으로 0이 아니다. 이건 사실 1이다. 여러분이 타이머의 딜레이를 <code class=\"language-text\">1ms</code>보다 작거나 <code class=\"language-text\">2147483647ms</code>보다 크게 설정하면 딜레이는 자동으로 <code class=\"language-text\">1</code>로 세팅된다. 그렇기 때문에 <code class=\"language-text\">setTimeout</code>의 딜레이를 <code class=\"language-text\">0</code>으로 설정하려고 한다면 이 딜레이는 자동으로 <code class=\"language-text\">1</code>이 되는 것이다.</p>\n<p>이미 설명했던 대로 <code class=\"language-text\">setImmediate</code>을 사용하면 타이머를 사용할 때처럼 딜레이의 시간이 지났지 뭐니 하는 추가적인 체크 로직이 필요없어진다. 그래서 <code class=\"language-text\">setImmediate</code>은 빠른 것이다. 또한 <code class=\"language-text\">setImmediate</code>의 체크 작업은 Poll phase 직후에 수행되기 때문에 HTTP 요청 콜백과 같은 곳에서 사용된 <code class=\"language-text\">setImmediate</code>의 콜백 함수는 바로 실행된다고 할 수 있다.</p>\n<h3 id=\"왜-setimmediate는-immediate즉시라고-부르는-건가요\" style=\"position:relative;\">왜 setImmediate는 Immediate(즉시)라고 부르는 건가요?<a href=\"#%EC%99%9C-setimmediate%EB%8A%94-immediate%EC%A6%89%EC%8B%9C%EB%9D%BC%EA%B3%A0-%EB%B6%80%EB%A5%B4%EB%8A%94-%EA%B1%B4%EA%B0%80%EC%9A%94\" aria-label=\"왜 setimmediate는 immediate즉시라고 부르는 건가요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">setImmediate</code>와 <code class=\"language-text\">process.nextTick</code> 모두 이름이 잘못 되었다고 생각한다. 사실 <code class=\"language-text\">setImmediate</code>은 한번의 Tick 또는 루프가 돌 때마다 관리되고, <code class=\"language-text\">nextTick</code>은 한 페이즈에서 다음 페이즈로 넘어가는 매 Tick마다 최대한 빨리 호출되도록 작동하고 있다. 그래서 기능적으로는 <code class=\"language-text\">setImmediate</code>이 <code class=\"language-text\">nextTick</code>이라는 이름이 더 잘 어울리고 <code class=\"language-text\">nextTick</code>이 진짜로 즉시(Immediately) 호출되는 친구다. 😛</p>\n<h3 id=\"자바스크립트는-block-될-수-있는-건가요\" style=\"position:relative;\">자바스크립트는 Block 될 수 있는 건가요?<a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-block-%EB%90%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EA%B1%B4%EA%B0%80%EC%9A%94\" aria-label=\"자바스크립트는 block 될 수 있는 건가요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이미 위에서 설명했듯이 <code class=\"language-text\">nextTickQueue</code>는 콜백 실행에 있어서 어떤 제한도 가지고 있지 않다. 그렇기 때문에 만약 <code class=\"language-text\">process.nextTick()</code>이 재귀 호출된다면, 여러분의 프로그램은 다른 페이즈들의 큐가 어떤 콜백을 가지고 있든간에 절대 그 작업에서 빠져나오지 못할 것이다.</p>\n<h3 id=\"만약-exit-callback-phase에서-settimeout을-호출하면-어떻게-되나요\" style=\"position:relative;\">만약 Exit callback phase에서 setTimeout을 호출하면 어떻게 되나요?<a href=\"#%EB%A7%8C%EC%95%BD-exit-callback-phase%EC%97%90%EC%84%9C-settimeout%EC%9D%84-%ED%98%B8%EC%B6%9C%ED%95%98%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%98%EB%82%98%EC%9A%94\" aria-label=\"만약 exit callback phase에서 settimeout을 호출하면 어떻게 되나요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>뭐, 타이머 자체는 시작될 수 있겠지만 <code class=\"language-text\">setTimeout</code>의 콜백은 절대 호출되지 않을 것이다. 이미 Node.js가 Exit callbacks에 들어와 있다는 것은 이미 이벤트 루프에서 빠져나왔다는 것을 의미한다.</p>\n<h2 id=\"짧은-정리들\" style=\"position:relative;\">짧은 정리들<a href=\"#%EC%A7%A7%EC%9D%80-%EC%A0%95%EB%A6%AC%EB%93%A4\" aria-label=\"짧은 정리들 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<hr>\n<ul>\n<li>이벤트 루프는 작업 스택을 가지고 있지 않다.</li>\n<li>이벤트 루프가 별도의 스레드에서 실행되고 자바스크립트 실행은 어떤 큐에서 하나씩 꺼내와서 다른 곳에서 하는 것이 아니라 자바스크립트의 실행 자체가 이벤트 루프 안에서 수행되는 것이다.</li>\n<li><code class=\"language-text\">setImmediate</code>는 콜백을 작업 큐의 앞 쪽에 밀어넣는 것이 아니라 <code class=\"language-text\">setImmediate</code> 만을 처리하기 위한 전용 페이즈와 큐가 존재한다.</li>\n<li><code class=\"language-text\">setImmediate</code>은 실질적으로 다음 페이즈 혹은 다음 이벤트 루프의 순회에서 실행되고, <code class=\"language-text\">nextTick</code>이 오히려 실질적으로 더 빠르게 실행된다.</li>\n<li><code class=\"language-text\">nextTickQueue</code>에 담긴 작업이 재귀 호출을 수행하는 경우 Node.js의 작업 프로세스를 블록킹할 수 있다. 주의하도록 하자.</li>\n</ul>\n<hr>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 Node.js 코어 개발 팀이 아니다. 이 포스팅에 관한 필자의 모든 지식은 실험과 다른 포스팅들을 통해 얻은 것이다. 필자가 이 지식들을 얻기 위해 가장 큰 도움을 준 <a href=\"https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/\" target=\"_blank\" rel=\"nofollow\">Node.js 공식 문서</a>에 감사한다.\n두 번째로 도움이 많이 된 포스트는 Saúl Ibarra Corretgé의 <a href=\"https://www.youtube.com/watch?v=sGTRmPiXD4Y\" target=\"_blank\" rel=\"nofollow\">talk on libUV</a> 포스팅이다.\n그리고 세 번째로 VoidCanvas 독자 분들 덕분에 이런 건강한 토론과 실험, 관찰을 할 수 있도록 된 것에 감사한다. 🙂</p>","fields":{"slug":"20190801-nodejs-event-loop-workflow","path":"/2019/08/01/nodejs-event-loop-workflow/","lang":"ko"},"frontmatter":{"title":"[번역] 로우 레벨로 살펴보는 Node.js 이벤트 루프","subTitle":null,"date":"Aug 01, 2019","categories":["프로그래밍","자바스크립트"],"tags":["JavaScript","자바스크립트","NodeJS","Event Loop","이벤트 루프","자바스크립트 기초"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/a66907e81a18b740cc994295cd1668d5/3a812/thumbnail.jpg","srcSet":"/static/a66907e81a18b740cc994295cd1668d5/3a812/thumbnail.jpg 320w,\n/static/a66907e81a18b740cc994295cd1668d5/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/a66907e81a18b740cc994295cd1668d5/fc5c5/thumbnail.webp 320w,\n/static/a66907e81a18b740cc994295cd1668d5/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/a66907e81a18b740cc994295cd1668d5/2d839/thumbnail.jpg","srcSet":"/static/a66907e81a18b740cc994295cd1668d5/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/a66907e81a18b740cc994295cd1668d5/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"e3624062-42a7-55d1-9b63-092fe3cba25c","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9A%A9%EC%96%B4%EC%99%80-%EA%B0%9C%EB%85%90-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\">용어와 개념 알아보기</a></p>\n<ul>\n<li><a href=\"#merge-conflict\">Merge Conflict</a></li>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-branch%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">여러 개의 Branch를 사용하는 이유</a></li>\n<li><a href=\"#%EC%A0%84%EB%9E%B5%EC%A0%81%EC%9D%B8-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EA%B4%80%EB%A6%AC-git-flow\">전략적인 브랜치 관리, Git flow</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%91%90-%EA%B0%9C%EC%9D%98-%EB%B8%8C%EB%9E%9C%EC%B9%98%EB%A5%BC-%ED%95%A9%EC%B3%90%EB%B3%B4%EC%9E%90\">두 개의 브랜치를 합쳐보자</a></p>\n<ul>\n<li><a href=\"#merge\">Merge</a></li>\n<li><a href=\"#merge-squash\">Merge squash</a></li>\n<li><a href=\"#rebase\">Rebase</a></li>\n<li><a href=\"#cherry-pick\">Cherry Pick</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9E%91%EC%97%85%ED%95%98%EB%8D%98-%EC%82%AC%ED%95%AD%EC%9D%84-%EC%9E%84%EC%8B%9C%EB%A1%9C-%EC%A0%80%EC%9E%A5%ED%95%B4%EB%B3%B4%EC%9E%90\">작업하던 사항을 임시로 저장해보자</a></p>\n<ul>\n<li><a href=\"#stash\">Stash</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B4%EB%AF%B8-%EC%BB%A4%EB%B0%8B%ED%95%9C-%EB%82%B4%EC%9A%A9-%EB%90%98%EB%8F%8C%EB%A6%AC%EA%B8%B0\">이미 커밋한 내용 되돌리기</a></p>\n<ul>\n<li><a href=\"#reset\">Reset</a></li>\n<li><a href=\"#revert\">Revert</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 저번 포스팅인 Git 뉴비를 위한 기초 사용법 - 시작하기에서 설명했던 기본적인 명령어보다 좀 더 나아가서 몇 가지 개념과 명령어를 더 공부해보려고 한다. 저번 포스팅에서는 리모트 서버에서 소스를 클론하고 수정한 후 다시 리모트 서버에 업데이트하는 과정에 대해 집중해서 설명했다면 이번 포스팅에서는 Git의 메인 주제인 버전 관리에 대해 더 다뤄볼 예정이다. 그럼 저번 포스팅과 마찬가지로 간단한 용어와 개념에 대한 설명한 후, 그 개념들을 사용하기 위한 명령어를 설명하도록 하겠다. 용어와 개념 알아보기 Git은 버…","html":"<p>이번 포스팅에서는 저번 포스팅인 <a href=\"/2019/07/25/git-tutorial\">Git 뉴비를 위한 기초 사용법 - 시작하기</a>에서 설명했던 기본적인 명령어보다 좀 더 나아가서 몇 가지 개념과 명령어를 더 공부해보려고 한다.</p>\n<p>저번 포스팅에서는 리모트 서버에서 소스를 클론하고 수정한 후 다시 리모트 서버에 업데이트하는 과정에 대해 집중해서 설명했다면 이번 포스팅에서는 Git의 메인 주제인 버전 관리에 대해 더 다뤄볼 예정이다.</p>\n<p>그럼 저번 포스팅과 마찬가지로 간단한 용어와 개념에 대한 설명한 후, 그 개념들을 사용하기 위한 명령어를 설명하도록 하겠다.</p>\n<h2 id=\"용어와-개념-알아보기\" style=\"position:relative;\">용어와 개념 알아보기<a href=\"#%EC%9A%A9%EC%96%B4%EC%99%80-%EA%B0%9C%EB%85%90-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"용어와 개념 알아보기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Git은 버전을 효율적으로 관리하기 위해 몇 가지 개념을 제시하고 있다. 현재 나의 버전 상태를 의미하는 HEAD, 작업 공간인 브랜치(Branch), 브랜치를 합치는 머지(Merge)와 리베이스(Rebase)등이 그렇다.</p>\n<p>그리고 이런 기능들을 사용하다보면 가끔 Git의 에러와 마주하게 되는데, 필자같은 경우는 처음 개발자로 일을 시작했을 때 코딩하다가 발생하는 에러보다 Git에서 발생하는 에러가 더 무서웠던 기억이 있다.</p>\n<p>솔직히 코딩하다가 나는 에러는 고치는 과정이 쉽든 어렵든간에 그냥 필자가 고치면 해결되지만, Git에서 나는 에러는 고친답시고 이것 저것 건드리다가 잘못 건드리면 왠지 소스가 가루가 되어 날아갈 것 같아서 무서웠다.</p>\n<p>하지만 Git을 사용한 지 6년쯤 지난 지금 다시 그때를 생각해보면 Git에 대해서 잘 몰랐기 때문에 더 무서웠던 것 같다. 내가 어떤 기능을 사용했을 때 소스가 어떻게 되는 지 정확히 알고 있지 않은 상태였기 때문에 그런 걱정도 들었던 것이다. 혹시 이 글을 읽는 독자 분들 중에서도 필자와 같은 경험이나 생각을 하신 분들이 있을 것이기 때문에 필자가 알고 있는 Git의 개념들을 최대한 알기 쉽게 풀어보려고 한다.</p>\n<h3 id=\"merge-conflict\" style=\"position:relative;\">Merge Conflict<a href=\"#merge-conflict\" aria-label=\"merge conflict permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자 생각에 Git을 사용하다가 가장 많이 마주치는 에러는 아무래도 머지 컨플릭트(Merge Conflict)인 것 같다. 한국어로 직역하면 병합 충돌이지만, 다들 “머지 컨플릭트 났다” 또는 그냥 “컨플릭트 났다”라고 한다.</p>\n<p>머지 컨플릭트는 에러라고 하기에는 조금 애매하긴 하지만 어쨌든 정상은 아닌 상황이기 때문에 처음 마주하면 굉장히 당황스럽고 뭐가 뭔지 헷갈린다. 컨플릭트는 말 그대로 소스의 충돌이 발생한 상황이기 때문에 주니어든 시니어든 가리지 않고 평등하게 발생하고, 또한 평등하게 당황하게 된다.</p>\n<p>왜냐면 컨플릭트는 논리적인 에러가 아니라 내 작업물과 다른 사람의 작업물이 충돌한 상황이기 때문에 스스로 혼자 해결하기 힘든 경우가 많기 때문이다. 그럼 컨플릭트, 즉 충돌이 정확히 어떤 상황을 말하는지 알기 위해 실제 협업 상황에서 발생할 수 있는 예시를 함께 살펴보자.</p>\n<blockquote>\n<p>철수와 영희는 사장님으로부터 지각한 사람의 명단을 만들어서 관리해 달라는 부탁을 받았다. 그래서 철수와 영희는 다음과 같은 텍스트 파일을 만들어서 지각자를 관리하기 시작했다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">7월 25일 지각자 명단\n\n나연\n채영\n사나\n쯔위</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p>자, 이제 철수와 영희는 사장님으로부터 지각자를 관리할 수 있는 권력을 부여받았고, 매일 이 파일에 지각자를 입력해야한다. 하지만 철수와 영희는 별로 사이가 안 좋기 때문에 이 둘은 서로 커뮤니케이션을 하지 않고 각자 맘대로 파일을 수정하는 방식으로 지각자 입력 작업을 진행하게 된다.</p>\n<p>그러던 중 철수와 영희는 사무실에 심어놓은 자신들의 정보원으로부터 7월 25일의 세번째 지각자인 “사나”가 사실 지각이 아니였다는 정보를 입수했다. 근데 문제는 이 정보원들이 가져온 정보가 서로 달랐던 것이다.</p>\n<p><strong>철수의 정보원:</strong> 야 7월 25일에 지각한 사람 있잖아, 사나가 아니고 미나래!<br />\n<strong>영희의 정보원:</strong> 영희야, 7월 25일에 사나가 지각한게 아니고 지효가 지각한거라는데?</p>\n<p>…</p>\n<p>이 둘은 자신의 정보원을 100% 신뢰하기 때문에 바로 각자 지각자 명단 파일을 수정하기 시작했다.</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>시간</th>\n<th>철수</th>\n<th>영희</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td><code class=\"language-text\">지각자.txt</code>의 <code class=\"language-text\">사나</code>를 <code class=\"language-text\">미나</code>로 변경</td>\n<td><code class=\"language-text\">지각자.txt</code>의 <code class=\"language-text\">사나</code>를 <code class=\"language-text\">지효</code>로 변경</td>\n</tr>\n<tr>\n<td>2</td>\n<td>리모트 저장소에 변경 사항 커밋 후 푸쉬</td>\n<td>계속 작업 중</td>\n</tr>\n<tr>\n<td>3</td>\n<td>철수 퇴근 >_&#x3C;</td>\n<td>작업을 마치고 리모트 저장소에 푸쉬 시도</td>\n</tr>\n<tr>\n<td>4</td>\n<td></td>\n<td>리모트 저장소의 상태가 갱신되었으니 Pull부터 하라는 에러 발생. 엥?</td>\n</tr>\n<tr>\n<td>5</td>\n<td></td>\n<td>리모트 저장소의 변경 사항을 로컬로 Pull함</td>\n</tr>\n<tr>\n<td>6</td>\n<td></td>\n<td>철수가 수정한 부분과 영희가 수정한 부분이 충돌!</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">From https://github.com/evan-moon/conflict-test\n * branch            test       -> FETCH_HEAD\nAuto-merging 지각자.txt\nCONFLICT (content): Merge conflict in 지각자.txt\nAutomatic merge failed; fix conflicts and then commit the result.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 다른 사람과 내가 같은 부분을 수정하게 되면, Git은 어떤 것이 맞는 소스인지 알 방법이 없다. 이런 상황에서 Git은 어떤 부분이 충돌났는지 표시하여 사용자에게 알려주기만 하고 나머지는 사용자가 알아서 수정하라고 맡겨버리는데, 이런 상황이 바로 머지 컨플릭트이다.</p>\n<p>철수와 영희 처럼 같은 브랜치에서 작업한다는 것은 소스의 변경 사항을 계속 히스토리를 공유한다는 것이다. 즉, 주기적으로 리모트 저장소로부터 상대방이 작업한 것을 Pull로 가져와서 내 로컬 브랜치에 병합해야한다는 것인데, 이 과정에서 충돌이 발생할 가능성이 높다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">7월 25일 지각자 명단\n\n나연\n채영\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n지효\n=======\n미나\n>>>>>>> 35058b46325bb61112efd52f4019f907c561328d\n쯔위</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 <code class=\"language-text\">&lt;&lt;&lt; HEAD</code>와 <code class=\"language-text\">===</code>사이에 들어있는 상단 부분이 현재 브랜치에서 내가 수정한 내용이다. 영희는 <code class=\"language-text\">사나</code>를 <code class=\"language-text\">지효</code>로 수정했기 때문에 해당 부분에 <code class=\"language-text\">지효</code>라는 이름이 들어가 있다.</p>\n<p>그리고 <code class=\"language-text\">===</code>부터 <code class=\"language-text\">>>> 커밋 해쉬</code>사이의 내용은 어떤 커밋에서 수정된 내용과 충돌이 발생했는지 알려준다. 이 예시에서는 철수가 <code class=\"language-text\">사나</code>를 <code class=\"language-text\">미나</code>로 수정한 부분이 될 것이다.</p>\n<p>Git은 그냥 버전 관리만 해주는 친구이기 때문에 이런 상황에서 “사나는 사실 지각자가 아니였기 때문에 다른 사람으로 변경해야했다”와 같은 비즈니스 히스토리는 모른다. 그렇기 때문에 Git은 둘 중에 어떤 것이 맞는 소스인지도 당연히 모를 수 밖에 없다. 그래서 사용자에게 선택을 맡기는 것이다. 이 상황에서 영희는 다음 세가지 선택지를 가질 수 있다.</p>\n<blockquote>\n<ol>\n<li>철수의 변경 사항을 무시<br /></li>\n<li>자신의 변경 사항을 무시<br /></li>\n<li>두 변경 사항 모두 반영</li>\n</ol>\n</blockquote>\n<p>보통 이런 상황에서는 철수를 불러서 <code class=\"language-text\">사나</code> 대신 <code class=\"language-text\">미나</code>를 추가한 이유가 무엇인지 물어본 다음 결정해야하지만 영희는 철수와 사이가 좋지 않으니 그냥 철수의 커밋을 날려버릴 수도 있겠다.</p>\n<h3 id=\"여러-개의-branch를-사용하는-이유\" style=\"position:relative;\">여러 개의 Branch를 사용하는 이유<a href=\"#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-branch%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"여러 개의 branch를 사용하는 이유 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>브랜치(Branch)는 <a href=\"/2019/07/25/git-tutorial\">저번 포스팅</a>에서 한번 간단하게 설명했다. 이미 저번 포스팅에서 기초적인 브랜치의 개념에 대해서 한번 언급하고 넘어갔기 때문에 이번에는 “왜 여러 개의 브랜치를 사용해야 하는가?”에 대한 이야기를 해보려고 한다.</p>\n<p>기본적으로 Git은 혼자 만의 작업이 아닌 여러 명이 함께 작업하는 협업 상황을 상정하고 만들어졌다. 아무리 Git이 리모트 레파지토리와 로컬 레파지토리로 소스를 분산해서 관리하는 분산 버전 관리 시스템이지만 여러 사람이 한번에 같은 어플리케이션의 코드를 수정하고 있는 상황에서는 방금 위에서 설명한 머지 컨플릭트가 자주 발생하게된다. 그래서 보통 사용자들은 브랜치로 주제에 맞는 작업 공간을 따로 나누어서 히스토리를 관리하는 것이다.</p>\n<p>이렇게 브랜치를 나누어도 결국 언젠가 소스를 병합해야 하기 때문에 컨플릭트가 발생할 확률은 있지만 적어도 작업 중간중간에 계속 해서 컨플릭트를 수정해야하는 일은 많이 줄일 수 있다.</p>\n<p>그래서 개발자들은 “어떻게 해야 효율적으로 여러 개의 브랜치를 관리할 수 있을까?”라는 고민을 하게 되는데, 이때 나온 것이 바로 브랜치 전략이다. 브랜치 전략 중 대표적인 것은 Git flow가 있는데, 이건 그냥 유명한 전략 중 하나일 뿐이기 때문에 어떤 브랜치 전략을 가져갈 것인지는 그 조직이 결정하면 된다.</p>\n<p>그럼 브랜치 전략이 어떤 것인지 알아보기 위해 대표적인 브랜치 전략인 Git flow를 한번 간략하게 살펴보도록 하자.</p>\n<h3 id=\"전략적인-브랜치-관리-git-flow\" style=\"position:relative;\">전략적인 브랜치 관리, Git flow<a href=\"#%EC%A0%84%EB%9E%B5%EC%A0%81%EC%9D%B8-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EA%B4%80%EB%A6%AC-git-flow\" aria-label=\"전략적인 브랜치 관리 git flow permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Git flow는 기본적으로 <code class=\"language-text\">master</code>와 <code class=\"language-text\">develop</code> 브랜치를 가지고 시작하게 된다. 이때 <code class=\"language-text\">master</code>는 항상 운영되고 있는 소스의 상태를 가지고 있어야하며, 절대 <code class=\"language-text\">master</code> 브랜치에는 바로 커밋을 할 수 없다. 그리고 <code class=\"language-text\">develop</code> 브랜치는 팀이 현재 개발을 진행하고 있는 브랜치이다. 그리고 <code class=\"language-text\">develop</code> 브랜치에서 각자 개발을 맡고 있는 기능 별로 <code class=\"language-text\">feature</code> 브랜치를 생성해서 실제 개발을 진행하게 된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/36200b7d3489370e101d9715d3b4da42/d3deb/git-flow1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACFUlEQVR42oWUW2/bMAyF8///04BhwLCH7mndBVixFp1jx5f4Eju2LEvW2aGpNEPXdiq+kGaNI4qkvIOsL7eA8ZsLOwP5HmgqoC6Vtr4+iz21wJF+VyviHwtg6LHbRO7ugXRlkP4aKLoAzivGKXPECpe419hCvOBVMGS/RYnCNNwMTAB5tBfOkZGcSEOYHHri8LQ0w4efCOBunbxM4dkAEzE8/hKxJvpWrYvWRry/CtY375j5qLu13K6VWvH8HdNoScNU6qP6l5jUUWxdaY0liYvgmNzhW/UdgRn6fsUQJgwLcRPmdWGp7MYUkZhd3eYb+i6s1yMH+T2kuEk/w9b8Z++QmxxZnyE/52hMi2qsUI4lqdBMDVrG6rFGMRQozyUGOzyrYZbg8fSIdc+deAKwJBhiA6Zox9gAiVu8uqLgXgWLdetecAHBEEuW6I+RKcae/f0r2FMwWbdxCS1faUhHejIEjQl10DGa38yQR+4oWAUdHVleR/OJy7OLfnhFcIvnKT4mn2APbMrgkI0HFCz2YdCm1GyENCXtUxS0xpm3a9j9+IqH2/tt8qUeC0fCBb9ZzyvlVr+NxiUe8J+mmA/v4c2iEbkJ8gH4m77VgZYhPub6QfDuZcE5yVjkSnflTwjy7sqbxYx4+a1YK8/MeOazUbv6l/PcJb+MqsRlmWAhN49JNY1y4seg5wy2bFgpX7FGr/lLgn8Al0LhVInUpw0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"git flow1\" title=\"\" src=\"/static/36200b7d3489370e101d9715d3b4da42/6af66/git-flow1.png\" srcset=\"/static/36200b7d3489370e101d9715d3b4da42/69538/git-flow1.png 160w,\n/static/36200b7d3489370e101d9715d3b4da42/72799/git-flow1.png 320w,\n/static/36200b7d3489370e101d9715d3b4da42/6af66/git-flow1.png 640w,\n/static/36200b7d3489370e101d9715d3b4da42/d9199/git-flow1.png 960w,\n/static/36200b7d3489370e101d9715d3b4da42/21b4d/git-flow1.png 1280w,\n/static/36200b7d3489370e101d9715d3b4da42/d3deb/git-flow1.png 1758w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>모바일에서는 이 그래프의 내용이 잘 안보일 수 있으니 브랜치 이름에 색을 입혀서 설명하도록 하겠다.</p>\n<p>이 그래프를 보면 <strong><font color=\"blue\">master</font></strong> 브랜치에 프로젝트의 시작을 의미하는 커밋이 찍힌 후 <strong><font color=\"red\">develop</font></strong> 브랜치가 생성되었고, <strong><font color=\"red\">develop</font></strong> 브랜치에서부터 기능 개발을 담당하는 브랜치들이 분기하고 있는 모습을 볼 수 있다.</p>\n<p>에반은 <strong><font color=\"green\">feature/add-typescript</font></strong> 브랜치를 생성한 후 어플리케이션에 타입스크립트를 붙히는 작업을 하고, 다니엘은 <strong><font color=\"magenta\">feature/social-login</font></strong> 브랜치를 생성한 후 소셜 로그인 연동 작업을 하고 있다. 그 후 개발이 끝나는 대로 <strong><font color=\"red\">develop</font></strong> 브랜치에 해당 브랜치들을 차례로 머지하고 있는 모습을 볼 수 있다.</p>\n<p>다니엘이 에반보다 <strong><font color=\"red\">develop</font></strong> 브랜치에 머지한 시점이 늦기 때문에 만약 에반과 다니엘이 같은 부분을 변경했다면 이때 컨플릭트가 발생하게 된다. 하지만 적어도 에반과 다니엘이 각자 기능을 개발하고 있을때는 컨플릭트가 발생하지 않기 때문에 좀 더 기능 개발에 집중할 수 있게 되는 것이다.</p>\n<p>이렇게 개발을 쭉쭉 진행하다가 배포를 해야할 시점이 오면 <strong><font color=\"blue\">master</font></strong> 브랜치로부터 <code class=\"language-text\">release</code>브랜치를 생성한다. 필자의 직장같은 경우는 <code class=\"language-text\">release/release-1.0.0</code>과 같이 배포 버전을 브랜치 이름에 표기하는 네이밍 컨벤션을 따르고 있다. 이 <code class=\"language-text\">release</code> 브랜치는 온전히 배포 만을 위한 브랜치이기 때문에 해당 버전의 배포가 끝나면 버려진다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fcb2177c59a4abcc0f9eabce70541126/24def/git-flow2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 83.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACX0lEQVR42n2U607cMBCF9/0fpD/6LlURohRVhRYW2JBs7hfnZp9+tgN01bKRjmYyjs/cs9vf1dLayS2j5Kyck9pO+nIhffrsVHGcHaWijPB6ja1upLxQOPf2I/YG2y4/ztKcy01YTSINR1nI3dhg63FmcDYgxw1TsAW71xd/DizBCMISHomXlsv774RwTaRcGDM+xuUMphxZR3jbG7ytirCzJ4IwxevVpVzjPyZXw+W2JSc+KtEr8mrQ6zLqbR3fA9B9RB7zK+EzJA8HOWqgitQmlJ7DFkdmibrHAMwm32xLJFqAL34kJNU2k4NXt0OopwhQOR8QQND9GUcym+5Rb9Lq5NmVjxT/+VbOR5xtERpkR0o9Z6aVG5B9jd5FfcA2Rl09Htf1nbAiwuz3V/U+/IzuQugM3eu7ADcQ1oCDnkxede/wzdafEjbJpDr9qevDHWnOgfA41nrqDnoZMuWmRB6Vjjn2UsVYqeQ8xZaZQqMfnb9Trg9GY/6gl5xOPU2B0NIPO6yyxqJbrehrH2ENsOgb3NaMU8Jir7SgZvuYciy+e29EvzWn2ZpzyvG/CCHMadtDjDBcrl2U/dbNdutstTn5kDDxhPdKCsYliYTr7Bh80llIeaHgq2MK7Ab3z6icELbJqDL5oZvbX2z5LDtlKueOotMEGlLPLY2oQwNStqj3e33m2VWHTsXFpYYctxO5mBRQy87PXxfGwo1DlMFGDezHIe6Km3tqd8XfggJ1ezYlzl/Y1a4Jwx1mzQ+w32NvO0f4+O3ALlbxf6i4kgX3cvgq7jZwl8gsj7Z5OZux/gDdKC3oLuGzeQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"git flow2\" title=\"\" src=\"/static/fcb2177c59a4abcc0f9eabce70541126/6af66/git-flow2.png\" srcset=\"/static/fcb2177c59a4abcc0f9eabce70541126/69538/git-flow2.png 160w,\n/static/fcb2177c59a4abcc0f9eabce70541126/72799/git-flow2.png 320w,\n/static/fcb2177c59a4abcc0f9eabce70541126/6af66/git-flow2.png 640w,\n/static/fcb2177c59a4abcc0f9eabce70541126/d9199/git-flow2.png 960w,\n/static/fcb2177c59a4abcc0f9eabce70541126/21b4d/git-flow2.png 1280w,\n/static/fcb2177c59a4abcc0f9eabce70541126/24def/git-flow2.png 1812w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>개발이 종료되고 <code class=\"language-text\">1.0.0</code> 버전을 배포하기 위해 <strong><font color=\"blue\">master</font></strong> 브랜치로부터 <strong><font color=\"orange\">release/release-1.0.0</font></strong> 브랜치를 하나 생성했다.</p>\n<p>그 후 다음 버전에 배포될 기능들을 가지고 있는 <strong><font color=\"red\">develop</font></strong> 브랜치를 <strong><font color=\"orange\">release/release-1.0.0</font></strong> 브랜치에 머지하고 스테이징 서버에 배포하는 등 최종 테스트를 한 다음, 조직원 모두가 해당 버전의 배포에 동의한다면 <strong><font color=\"blue\">master</font></strong> 브랜치에 해당 브랜치를 머지하고 버전명으로 태그를 단다.</p>\n<p>이때 이런 궁금증이 생기는 분이 있을 것이다.</p>\n<blockquote>\n<p>그럼 핫픽스는 어떻게 하나요? develop 브랜치에서 브랜치를 분기하면 현재 버전의 기능 개발이 끝날 때까지 기다려야하는데…</p>\n</blockquote>\n<p>이런 경우 <code class=\"language-text\">develop</code> 브랜치에서 <code class=\"language-text\">hotfix</code> 브랜치를 분기하여 <code class=\"language-text\">master</code>로 머지 후 긴급 배포를 하게되면 <code class=\"language-text\">develop</code> 브랜치에 들어있는 아직 배포되지 말아야할 기능들까지 배포되기 때문에, 핫픽스는 예외적으로 <code class=\"language-text\">master</code>에서 분기해서 다시 <code class=\"language-text\">master</code>로 머지할 수 있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6ce98c7e9ed5003464a381a69b640a7e/52ab5/git-flow3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 101.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC30lEQVR42n1V23LTMBTM//8QD7wz8MRQoGHapmmTJnEcy7ZkW5Z80bLHctoUCJk5cy6SVqujtbLYrGuEJgW6imaA0GMYgMYCnz4Dt78A2wKlBuoa0JxS1bFmGNcNPZdqjluuWaTECmMfwTrOzB644gXoGfcKGOk9fVcw56rezDbHXTkTIQsI4IlxxUJOZJUTkGCG5huMlSJ7g9AKJdKgD20z+WgSxzrGGfB48Ajf78iZLEMABp7FZgTlpIZWV9Eklo3ryzq90bE+nAE3Fv1qxSYxY50UCEjahgVNxpU0T4BkYRm9KaKfWV3+Fve3LfTTnv0gViIlAjYZRp4m1B2C5UAjt9RzL8bMpY5a8sD+C4kLwGTrENSOk3j0NRl4gvtqwoXmTJ4KTdzn1SSvZj/+wXD5NYV9uuFENl/ZabuWO3/4CLwQu+RpdRVNYmmtppXV7HnysnxtIRarXwrJ3RLHQ4HDMkHr7XSMx8eW/XYE97wDB9vQrJiPMa2p22ms799oLtKdw6iOCGxLdp9itV5NA4VWyHJFVoYsNAVtKOCKoq4nL1aUsT4MwwXg1sKvl+TMU+8tTvlpGgiFijctkhA7y6Oec5HNWQEXt73I9j2Omx/IOej3DqlKpwFPsXoKt3MtHL1jLt47i8639LE2dD7q9wyoCGgOazycNugT/wp4pBYPTQLlcmQtzSnkrkDpNQxVkNsCiuYH//6Ws11HHW+h2I9uRcAiAgYToizE5PLrWfgil7/1/B6wJWCmS3TPPHIeAcdmjMJ1s0lsZ+tpl2r+N0OD7sG9MTyLur5gKOz0nF9jOPXwyB4en9Ht/estS++kZ9ob1HzWpHeKueG7eY1dZHjokS2XKBIDTyGnp8jQ8bly7nyrjj7edscc43gdMHnSaG++UVoNdocdPyMdj1ye4usiL4vorTExLvkCcYOrgD+/7LDfbqYvoOW7HqgpISDfbdVEk78D+ZYL1lqP//5+A7ivEsXg5u07AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"git flow3\" title=\"\" src=\"/static/6ce98c7e9ed5003464a381a69b640a7e/6af66/git-flow3.png\" srcset=\"/static/6ce98c7e9ed5003464a381a69b640a7e/69538/git-flow3.png 160w,\n/static/6ce98c7e9ed5003464a381a69b640a7e/72799/git-flow3.png 320w,\n/static/6ce98c7e9ed5003464a381a69b640a7e/6af66/git-flow3.png 640w,\n/static/6ce98c7e9ed5003464a381a69b640a7e/d9199/git-flow3.png 960w,\n/static/6ce98c7e9ed5003464a381a69b640a7e/21b4d/git-flow3.png 1280w,\n/static/6ce98c7e9ed5003464a381a69b640a7e/52ab5/git-flow3.png 1420w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>그래프가 조금 복잡해졌지만 검정색 라인인 <strong>hotfix/fix-main-page</strong>에만 집중해보자. <strong><font color=\"blue\">master</font></strong> 브랜치로부터 갈라져나와서 한 개의 커밋이 찍히고 다시 <strong><font color=\"blue\">master</font></strong> 브랜치로 머지되는 것을 볼 수 있다. 이때는 정식 릴리즈가 아닌 핫픽스 릴리즈이므로 <a href=\"https://semver.org/lang/ko/\" target=\"_blank\" rel=\"nofollow\">Sementic Version</a> 룰에 따라 <code class=\"language-text\">0.0.1</code> 버전의 태그를 달아주었다.</p>\n<p><strong>hotfix/fix-main-page</strong> 브랜치가 머지되고 배포가 되었다는 것은 현재 운영 환경에서 돌아가고 있는 소스가 변경되었다는 것이므로 <strong><font color=\"red\">develop</font></strong> 브랜치에도 해당 변경 사항을 반영해줘야한다.</p>\n<p>그렇기 때문에 핫픽스 담당자는 배포를 하고 나면 <code class=\"language-text\">develop</code> 브랜치를 직접 최신화하는 것이 좋다. 그리고 동료들에게 “지금 핫픽스 배포가 끝났으니 각자 작업하시는 브랜치에서 develop 브랜치를 Pull하여 최신화 해주세요~“라고 알려주면 더더욱 좋을 것이다.</p>\n<p>물론 이런 복잡한 브랜치 전략 없이도 그냥 잘 돌아가는 조직도 있다. 하지만 같은 소스를 만지는 개발자가 많아지면 많아질수록 어느 정도의 룰조차 없다면 원활한 협업이 진행되기는 힘들 수도 있기 때문에 대부분의 규모있는 조직에서는 각자의 상황에 맞는 브랜치 전략을 세워서 버전 관리를 진행하고 있다.</p>\n<p>브랜치를 왜 하나로만 운영하지 않는지 이해가 되었다면, 이제 이 브랜치와 버전 히스토리들을 가지고 놀 수 있는 몇 가지 유용한 기능들을 더 살펴보도록 하자.</p>\n<h2 id=\"두-개의-브랜치를-합쳐보자\" style=\"position:relative;\">두 개의 브랜치를 합쳐보자<a href=\"#%EB%91%90-%EA%B0%9C%EC%9D%98-%EB%B8%8C%EB%9E%9C%EC%B9%98%EB%A5%BC-%ED%95%A9%EC%B3%90%EB%B3%B4%EC%9E%90\" aria-label=\"두 개의 브랜치를 합쳐보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>각자의 브랜치에서 작업을 계속 진행하다보면 언젠가 두 브랜치를 합쳐야 하는 날이 다가온다. 이때 두 개의 브랜치를 합치는 행위를 브랜치 병합(Branch Merge)이라고 한다.</p>\n<p>Git은 Merge, Merge and Squash, Rebase 각각 특색있는 3개의 브랜치 병합 기능을 제공한다. 결국 이 3개의 명령어 모두 두 개의 브랜치를 합친다는 행위는 같지만, 합치는 방법도 다르고 버전 히스토리도 다르게 남기 때문에 적재적소에 이 기능들을 잘 이용한다면 팀원들에게 이쁨받는 깃쟁이가 될 수 있을 것이다.</p>\n<h3 id=\"merge\" style=\"position:relative;\">Merge<a href=\"#merge\" aria-label=\"merge permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3d89813d37e675e64e3f97f8b98c8e28/63ea1/merge_icon.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6AsD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAEEH/2gAIAQEABj8CKv/EABkQAQACAwAAAAAAAAAAAAAAAAEAUREhcf/aAAgBAQABPyFWmbqDmJ//2gAMAwEAAgADAAAAEHAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAgICAwAAAAAAAAAAAAAAAREAIUFRYYHw/9oACAEBAAE/EGFUDhXH2NjyhEiyLmf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"merge icon\" title=\"\" src=\"/static/3d89813d37e675e64e3f97f8b98c8e28/c08c5/merge_icon.jpg\" srcset=\"/static/3d89813d37e675e64e3f97f8b98c8e28/0913d/merge_icon.jpg 160w,\n/static/3d89813d37e675e64e3f97f8b98c8e28/cb69c/merge_icon.jpg 320w,\n/static/3d89813d37e675e64e3f97f8b98c8e28/c08c5/merge_icon.jpg 640w,\n/static/3d89813d37e675e64e3f97f8b98c8e28/63ea1/merge_icon.jpg 696w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>머지(Merge)는 제일 기본적인 브랜치 병합 기능으로, 합치려고 하는 대상 브랜치의 변경 사항을 타겟 브랜치에 모두 반영하면서 머지 커밋(Merge commit)을 남긴다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> checkout master\n$ <span class=\"token function\">git</span> merge feature</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>일반적인 머지는 이미 많은 분들이 알고 있을테니 깊게 설명하지 않고 빠르게 넘어가겠다.</p>\n<h3 id=\"merge-squash\" style=\"position:relative;\">Merge squash<a href=\"#merge-squash\" aria-label=\"merge squash permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/bc6a1dfaa1d43203ee77b5f4f1b442e1/00597/merge_squash_icon.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6AsD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAYEAEAAwEAAAAAAAAAAAAAAAABABFRYf/aAAgBAQABPyFvGW4w6VP/2gAMAwEAAgADAAAAEHAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQACAwAAAAAAAAAAAAAAAREAkSExQf/aAAgBAQABPxBVxK+Jm3nZvGo0V3n/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"merge squash icon\" title=\"\" src=\"/static/bc6a1dfaa1d43203ee77b5f4f1b442e1/c08c5/merge_squash_icon.jpg\" srcset=\"/static/bc6a1dfaa1d43203ee77b5f4f1b442e1/0913d/merge_squash_icon.jpg 160w,\n/static/bc6a1dfaa1d43203ee77b5f4f1b442e1/cb69c/merge_squash_icon.jpg 320w,\n/static/bc6a1dfaa1d43203ee77b5f4f1b442e1/c08c5/merge_squash_icon.jpg 640w,\n/static/bc6a1dfaa1d43203ee77b5f4f1b442e1/00597/merge_squash_icon.jpg 678w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이번에는 두 개의 브랜치를 병합할 때 사용하는 머지 명령어의 <code class=\"language-text\">--squash</code> 옵션을 한번 알아보자. <code class=\"language-text\">--squash</code> 옵션은 해당 브랜치의 커밋 전체를 통합한 커밋을 타겟 브랜치에 머지하는 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> checkout master\n$ <span class=\"token function\">git</span> merge <span class=\"token parameter variable\">--squash</span> feature</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>일반 머지는 머지가 되는 대상 브랜치의 모든 커밋이 남아있는 상태에서 타겟 브랜치로 합쳐지지만 머지 스쿼시는 대상 브랜치의 모든 커밋을 모아서 하나의 커밋으로 합치고 타겟 브랜치에 머지하는 방식이다.</p>\n<p>사실 이 기능의 정확한 이름은 Merge “and” Squash이다. 즉, 스쿼시도 머지와 같이 독립된 하나의 개념이라는 것이다. 스쿼시는 커밋을 여러 개 합친다는 개념이기 때문에 하단에 후술할 <code class=\"language-text\">rebase</code> 명령어와 함께 사용하여 현재 브랜치의 커밋을 합칠 때도 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> rebase <span class=\"token parameter variable\">-i</span> HEAD~~</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>위 명령어는 <code class=\"language-text\">HEAD</code>부터 <code class=\"language-text\">HEAD</code>의 <code class=\"language-text\">~~(전전)</code> 커밋까지의 히스토리를 변경하겠다는 의미이다. 이 명령어를 입력하면 <code class=\"language-text\">vim</code>이 실행되고 아래와 같은 내용이 표시된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">pick 9a54fd4 commit의 설명 추가\npick 0d4a808 pull의 설명을 추가\n\n<span class=\"token comment\"># Rebase 326fc9f..0d4a808 onto d286baa</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Commands:</span>\n<span class=\"token comment\">#  p, pick = use commit</span>\n<span class=\"token comment\">#  r, reword = use commit, but edit the commit message</span>\n<span class=\"token comment\">#  e, edit = use commit, but stop for amending</span>\n<span class=\"token comment\">#  s, squash = use commit, but meld into previous commit</span>\n<span class=\"token comment\">#  f, fixup = like \"squash\", but discard this commit's log message</span>\n<span class=\"token comment\">#  x, exec = run command (the rest of the line) using shell</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># If you remove a line here THAT COMMIT WILL BE LOST.</span>\n<span class=\"token comment\"># However, if you remove everything, the rebase will be aborted.</span>\n<span class=\"token comment\">#</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 텍스트에 표시된 커밋들의 맨 앞에 있는 <code class=\"language-text\">pick</code> 문자를 <code class=\"language-text\">s</code>또는 <code class=\"language-text\">squash</code>로 변경하면 두 개의 커밋이 합쳐진다.</p>\n<h3 id=\"rebase\" style=\"position:relative;\">Rebase<a href=\"#rebase\" aria-label=\"rebase permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/40de34e1abf0e6be14897f662e2dfb2f/15ec7/rebase_icon.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 38.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG8AD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAYEAADAQEAAAAAAAAAAAAAAAAAEWEBMf/aAAgBAQABPyHsFdHD/9oADAMBAAIAAwAAABDz7//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EKf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCH/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUZGh/9oACAEBAAE/EC97A+z7L3BZFY57n//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"rebase icon\" title=\"\" src=\"/static/40de34e1abf0e6be14897f662e2dfb2f/c08c5/rebase_icon.jpg\" srcset=\"/static/40de34e1abf0e6be14897f662e2dfb2f/0913d/rebase_icon.jpg 160w,\n/static/40de34e1abf0e6be14897f662e2dfb2f/cb69c/rebase_icon.jpg 320w,\n/static/40de34e1abf0e6be14897f662e2dfb2f/c08c5/rebase_icon.jpg 640w,\n/static/40de34e1abf0e6be14897f662e2dfb2f/15ec7/rebase_icon.jpg 690w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>리베이스(Rebase)도 머지(Merge)와 마찬가지로 브랜치를 다른 브랜치로 합칠 수 있는 기능이다. 단 머지와 차이가 있다면 바로 합치는 방식이다. 머지는 말 그대로 두 개의 브랜치를 하나로 합치는 기능이기 때문에 A 브랜치의 변경 사항 전부를 B 브랜치에 푸쉬하는 것과 동일하다. 그렇기 때문에 머지를 사용하여 브랜치를 합치게 되면 반드시 머지 커밋(Merge commit)이 남게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> checkout feature\n$ <span class=\"token function\">git</span> merge master</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <img src=\"/ffb4536f7728ae28594958aaca9659e3/merge.svg\">\n  <small>[출처] https://dzone.com/articles/merging-vs-rebasing</small>\n</center>\n<p>그렇기 때문에 머지는 어느 시점에 어떤 브랜치가 머지 되었는 지 커밋을 통해 알기 쉽다는 장점이 있다. 그러나 단점은 불필요한 커밋이 생성된다는 것이다. 이 단점은 작업 중인 브랜치가 별로 많지 않을 때는 나타나지 않지만 브랜치가 많아지면 나중엔 커밋 로그가 머지 커밋으로 뒤덮혀있는 광경을 볼 수도 있게 된다.</p>\n<p>반면 리베이스는 단순히 합치는 것이 아니라 말 그대로 브랜치의 베이스를 변경하는 것이다. 방금 전 예시의 <code class=\"language-text\">feature</code> 브랜치를 <code class=\"language-text\">master</code>로 리베이스하게 되면 마치 <code class=\"language-text\">feature</code> 브랜치의 변경 사항들이 <code class=\"language-text\">master</code>의 변경 사항이었던 것처럼 히스토리가 기록된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> checkout feature\n$ <span class=\"token function\">git</span> rebase master</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <img src=\"/6480d07dcea3d4a3947bd5bb43c05f49/rebase.svg\">\n  <small>[출처] https://dzone.com/articles/merging-vs-rebasing</small>\n</center>\n<p>리베이스의 장점은 바로 깔끔한 커밋 히스토리를 만들어 준다는 것이다. 머지 커밋이 남지 않고 애초에 <code class=\"language-text\">master</code>에서 수정한 것 마냥 히스토리가 남기 때문에 깔끔하게 일자로 쭉 떨어지는 이쁜 히스토리를 볼 수 있다. 하지만 리베이스의 단점은 바로 이 커밋 끼워넣기 때문에 발생하는 문제이다.</p>\n<center>\n  <img src=\"/34e0fc3447edc79347d93a96fec5ecd9/rebase-problem.svg\">\n  <small>[출처] https://dzone.com/articles/merging-vs-rebasing</small>\n</center>\n<p>필자가 만약 <code class=\"language-text\">feature</code> 브랜치를 <code class=\"language-text\">master</code>로 리베이스했다고 가정해보자.</p>\n<p>이때 필자가 <code class=\"language-text\">feature</code> 브랜치를 생성한 이후에 <code class=\"language-text\">master</code>에 반영된 커밋들은 모두 맨 끝으로 이동하고 중간에 <code class=\"language-text\">feature</code> 브랜치의 커밋들을 끼워넣게 된다. 즉, 필자가 보고 있는 <code class=\"language-text\">master</code>의 상태는 <code class=\"language-text\">feature</code>의 변경 사항들이 반영되어 있는 히스토리를 가지고 있지만 다른 사람의 <code class=\"language-text\">master</code>는 아직 예전 <code class=\"language-text\">master</code>의 히스토리와 함께 일하고 있다는 것이다.</p>\n<p>그럼 두 개의 <code class=\"language-text\">master</code>를 강제로 병합해줘야하는데 병합 자체는 푸쉬할때 <code class=\"language-text\">--force</code> 옵션을 주면 되지만 문제는 이게 굉장히 혼란스러운 상황이라는 것이다. 쉽게 말해서 커밋 히스토리가 꼬이게 되고 사무실의 여기저기서 “어? 이거 왜 이래? 왜 푸시 안돼?”라는 소리가 들려오기 딱 좋은 상황이다.</p>\n<p>그래서 <code class=\"language-text\">master</code>로의 병합은 머지 스쿼시를 사용하고 <code class=\"language-text\">develop</code>으로의 병합 때 리베이스를 사용하거나 하는 경우도 있다. 머지는 머지 커밋을 발생시키며 히스토리가 미래로 나아가기 때문에 이런 문제가 발생할 확률이 적지만, 리베이스는 과거를 변경하는 것이기 때문에 문제가 생기기 쉬운 것이다.</p>\n<p>뭐 여러모로 둘 다 장단점이 있으니 잘 골라서 사용하도록 하자.</p>\n<h3 id=\"cherry-pick\" style=\"position:relative;\">Cherry Pick<a href=\"#cherry-pick\" aria-label=\"cherry pick permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>체리픽(Cherry Pick)은 다른 브랜치에서 어떤 하나의 커밋만 내 브랜치로 가져오는 기능이다. 체리픽이 하는 일을 보면 대상 브랜치의 커밋 하나를 가져와서 현재 브랜치에 병합하는 행위라고 느껴지지만 히스토리를 보면 병합되는 그림이 아니라 그냥 해당 커밋을 그대로 복사해와서 내 브랜치에 커밋되는 형태로 기록된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> checkout master\n$ <span class=\"token function\">git</span> cherry-pick 35058b4 <span class=\"token comment\"># 가져올 커밋 해쉬</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>물론 체리픽을 사용할 때도 현재 브랜치의 소스와 충돌이 날 가능성은 있기 때문에 가져오기 전에 충돌을 수정할 수도 있다는 마음의 준비는 필요하다. 체리픽은 잘 쓰면 은근히 꿀 기능인데, 바로 이런 상황 때문이다.</p>\n<blockquote>\n<ol>\n<li>A 브랜치에서 철수가 기능 개발 중</li>\n<li>B 브랜치에서 영희가 기능 개발 중</li>\n<li>디자이너가 영희에게 리뷰 별점 아이콘과 디자인을 변경해달라고 요청</li>\n<li>영희가 B 브랜치에서 디자이너의 요구 사항을 반영</li>\n<li>근데 B 브랜치보다 A 브랜치가 먼저 배포되야 함</li>\n<li>디자이너가 철수에게 A 브랜치에 왜 리뷰 별점 디자인 반영안됐냐고 물어봄</li>\n</ol>\n</blockquote>\n<p>제일 좋은 상황은 철수가 디자이너의 요구 사항을 반영하는 것이겠지만, 막 정신없이 일을 하다보면 그렇게 술술 풀리는 경우만 있는 게 아니기 때문에 이런 문제가 발생하긴 한다.</p>\n<p>이때 철수는 영희가 작업하고 있는 B 브랜치에서 리뷰 별점 아이콘이 수정된 커밋을 A 브랜치로 체리픽함으로써 이 상황을 쉽게 해결할 수 있게 된다. 이렇게 사람 애매해지게 만드는 상황은 생각보다 자주 발생하기 때문에 체리픽에 익숙해지는 것을 추천한다.</p>\n<p>사실 이 상황은 필자가 얼마 전에 겪은 상황인데 철수가 필자이고 영희가 동료 프론트엔드 개발자였다. 그래서 동료 개발자분과 B 브랜치의 커밋 로그를 봤는데, 리뷰 별점 아이콘만 수정된 커밋이 아니라 다른 변경 사항도 함께 묻어있는 커밋 밖에 없어서 디자이너와 딜을 할 수 밖에 없었고, “그럼 B 브랜치가 배포될 때 한꺼번에 같이 반영해주세요~“라는 결론으로 무사히 넘어갈 수 있었다. <small>(디자이너님 감사감사…)</small></p>\n<h2 id=\"작업하던-사항을-임시로-저장해보자\" style=\"position:relative;\">작업하던 사항을 임시로 저장해보자<a href=\"#%EC%9E%91%EC%97%85%ED%95%98%EB%8D%98-%EC%82%AC%ED%95%AD%EC%9D%84-%EC%9E%84%EC%8B%9C%EB%A1%9C-%EC%A0%80%EC%9E%A5%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"작업하던 사항을 임시로 저장해보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"stash\" style=\"position:relative;\">Stash<a href=\"#stash\" aria-label=\"stash permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>스태쉬(Stash)는 현재 작업 중인 변경 사항들을 잠시 스택에 저장할 수 있는 명령어이다. 이 명령어는 아직 마무리되지 않은 작업이 있는데 다른 브랜치로 체크아웃 해야하는 경우에 유용하게 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> stash <span class=\"token comment\"># 현재 변경 사항들을 스택에 저장</span>\n$ <span class=\"token function\">git</span> stash list <span class=\"token comment\"># 스태쉬 목록을 확인</span>\n$ <span class=\"token function\">git</span> stash apply <span class=\"token comment\"># 가장 최근의 스태쉬를 다시 불러온다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>또는 직접 스태쉬 이름을 지정할 수도 있다. 스태쉬의 이름을 지정하지 않으면 스택에 들어간 순서(First In Last out)대로만 스태쉬를 가져올 수 있으므로 왠만하면 이름을 지정하는 것을 추천한다. 필자는 주로 스태쉬 이름을 브랜치 이름과 동일하게 지정하는 편이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> stash branch-name <span class=\"token comment\"># 스태쉬 이름을 branch-name으로 지정하고 스택에 저장</span>\n$ <span class=\"token function\">git</span> stash apply branch-name <span class=\"token comment\"># branch-name 이름을 가진 스태쉬를 불러온다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>실제로 회사에서 개발을 하다보면 갑자기 긴급한 버그 픽스 건이 들어온다거나 아니면 PO들이 이슈의 우선 순위를 다시 정리하면서 기존에 작업을 하고 있던 브랜치에서 다른 브랜치로 건너가야하는 경우는 꽤나 빈번하게 발생한다. <small>(특히 버그 픽스…)</small> 이때 다른 브랜치로 넘어가기위해 작업하던 것을 그대로 커밋하게 되면 해당 브랜치에서 함께 개발하고 있는 다른 팀원들에게 피해가 갈 수 있으니 반드시 변경 사항을 스태쉬하도록 하자.</p>\n<h2 id=\"이미-커밋한-내용-되돌리기\" style=\"position:relative;\">이미 커밋한 내용 되돌리기<a href=\"#%EC%9D%B4%EB%AF%B8-%EC%BB%A4%EB%B0%8B%ED%95%9C-%EB%82%B4%EC%9A%A9-%EB%90%98%EB%8F%8C%EB%A6%AC%EA%B8%B0\" aria-label=\"이미 커밋한 내용 되돌리기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>개발을 진행하다보면 가끔 커밋을 다시 되돌려야 하는 경우도 생긴다. 보통 실수로 인해서 이런 상황이 발생하는 것을 많이 봤는데, 배포되지 말아야 할 기능이 <code class=\"language-text\">release</code> 브랜치에 껴서 들어간 경우를 제일 많이 본 것같다. 이런 상황에서 그 기능의 코드를 일일히 찾아 손으로 지우는 것은 너무 위험하기 때문에 Git을 사용하여 커밋을 되돌리게 된다. 이때 사용하는 기능이 바로 Reset과 Revert이다.</p>\n<h3 id=\"reset\" style=\"position:relative;\">Reset<a href=\"#reset\" aria-label=\"reset permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>리셋(Reset)은 지정한 커밋 당시로 돌아가는 것이다. 아예 시간을 되돌린다고 생각하면 된다. 즉, 리셋을 사용하게되면 지정한 커밋 이후의 히스토리는 모두 사라지게 된다. 예를 들어 이런 히스토리가 있다고 생각해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">* 19061e7 - 맛없는 식당을 찾은 죄로 여자친구한테 이별 통보를 받았다.\n<span class=\"token operator\">|</span>\n* e50aff9 - 여자친구가 맛이 없다고 한다.\n<span class=\"token operator\">|</span>\n* 2d57c29 - 알리오 올리오를 주문했다.\n<span class=\"token operator\">|</span>\n* c04f8f6 - 찾아본 식당에 방문했다.\n<span class=\"token operator\">|</span>\n* 7d9d953 - 여자친구와 함께 갈 좋은 식당을 찾았다<span class=\"token operator\">!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>필자는 여친과 함께 방문할 좋은 식당을 찾아서 기대감을 안고 알리오 올리오를 주문했지만 너무 느끼하고 맛이 없어서 결과적으로 여친한테 차이고 말았다.</p>\n<p>그래서 필자는 너무 슬픈 나머지 기억을 지우고 싶어서 알리오 올리오를 주문하기 전으로 돌아가려고 한다. 이때 사용할 수 있는 명령어가 <code class=\"language-text\">reset</code>이다. 돌아가고 싶은 커밋을 지정하면 해당 커밋 이후의 히스토리는 모두 삭제하고 과거로 돌아갈 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> reset <span class=\"token parameter variable\">--hard</span> c04f8f6\n\n<span class=\"token comment\"># 식당을 방문했을 때로 돌아갔다!</span>\n* c04f8f6 - 찾아본 식당에 방문했다.\n<span class=\"token operator\">|</span>\n* 7d9d953 - 여자친구와 함께 갈 좋은 식당을 찾았다<span class=\"token operator\">!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>우리는 <code class=\"language-text\">reset</code> 명령어를 사용할 때 3개의 옵션을 사용할 수 있는데, 바로 <code class=\"language-text\">hard</code>, <code class=\"language-text\">soft</code>, <code class=\"language-text\">mixed</code>이다. 이 옵션들은 히스토리를 삭제한다는 것은 전부 동일하지만 삭제된 내용을 처리하는 방식이 조금씩 다르다.</p>\n<hr>\n<ul>\n<li><strong>hard</strong>: 지정한 커밋 이후의 히스토리가 삭제되고 <strong>삭제된 내용들은 그대로 사라진다.</strong></li>\n<li><strong>soft</strong>: 지정한 커밋 이후의 히스토리가 삭제되고 <strong>삭제된 내용들은 스테이지로 이동한다.</strong> <small>(add한 상태로 변경)</small></li>\n<li><strong>mixed</strong>: 지정한 커밋 이후의 히스토리가 삭제되고 <strong>삭제된 내용들은 스테이지에 올라가지 않은 상태가 된다.</strong> <small>(다시 add 해줘야 함)</small></li>\n</ul>\n<hr>\n<p>필자는 방금 위에서 <code class=\"language-text\">hard</code> 옵션을 사용했기 때문에 식당을 방문했던 커밋 이후의 잊고 싶었던 기억을 모두 깔끔하게 삭제할 수 있었다. 만약 옵션을 지정하지 않고 <code class=\"language-text\">reset</code> 명령어를 사용하면 <code class=\"language-text\">mixed</code> 옵션으로 작동한다. 그리고 만약 이미 되돌리고자 하는 히스토리가 리모트 저장소에 푸쉬까지 된 상태라면 리셋 후 히스토리를 푸쉬할 때 <code class=\"language-text\">--force</code> 옵션을 사용해야한다.</p>\n<h3 id=\"revert\" style=\"position:relative;\">Revert<a href=\"#revert\" aria-label=\"revert permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>리벗(revert) 또한 리셋처럼 히스토리를 다시 되돌리고 싶을 때 사용하는 명령어이다. 리셋이 지정한 커밋 이후의 모든 히스토리를 없애버렸다면 리벗은 특정 커밋의 변경 사항을 되돌리는 기능이다. 이때 해당 커밋을 되돌린다고 해서 히스토리에서 그 커밋을 삭제하는 것이 아니라, 되돌리고자 하는 커밋의 내용을 반전시키는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> revert 35058b4 <span class=\"token comment\"># 특정 커밋을 되돌린다</span>\n$ <span class=\"token function\">git</span> revert 35058b4<span class=\"token punctuation\">..</span>c04f8f6 <span class=\"token comment\"># 커밋의 범위를 지정하여 되돌린다</span>\n$ <span class=\"token function\">git</span> revert HEAD <span class=\"token comment\"># 현재 헤드가 위치한 커밋을 되돌린다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>만약 <code class=\"language-text\">35058b4</code> 커밋에서 <code class=\"language-text\">A.js</code>의 2번 라인에 <code class=\"language-text\">a</code>라는 글자가 추가되었다고 하면 <code class=\"language-text\">git revert 35058b4</code>를 사용했을때 <code class=\"language-text\">A.js</code>의 2번 라인에서 <code class=\"language-text\">a</code>를 다시 삭제하는 커밋을 추가하는 것이다. 즉, 추가된 사항은 제거하고 제거된 사항은 다시 추가한다. 그렇기 때문에 리벗은 리셋과 다르게 히스토리를 삭제하지 않고 하나의 커밋이 추가되는 형태로 히스토리가 남는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">* 35058b4 - Revert 맛없는 식당을 찾은 죄로 여자친구한테 이별 통보를 받았다. <span class=\"token comment\"># 여친한테 차인 히스토리만 리벗하자</span>\n<span class=\"token operator\">|</span>\n* 19061e7 - 맛없는 식당을 찾은 죄로 여자친구한테 이별 통보를 받았다.\n<span class=\"token operator\">|</span>\n* e50aff9 - 여자친구가 맛이 없다고 한다.\n<span class=\"token operator\">|</span>\n* 2d57c29 - 알리오 올리오를 주문했다.\n<span class=\"token operator\">|</span>\n* c04f8f6 - 찾아본 식당에 방문했다.\n<span class=\"token operator\">|</span>\n* 7d9d953 - 여자친구와 함께 갈 좋은 식당을 찾았다<span class=\"token operator\">!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 예시에서 필자는 여친한테 차인 커밋을 다시 리벗했지만 히스토리 상에는 필자의 흑역사가 고스란히 남아있다.</p>\n<p>보통 필자는 리벗을 자주 사용하지는 않지만 가끔 테스트용으로 넣었던 <code class=\"language-text\">console.log</code>가 껴서 들어가거나 할 때 해당 커밋을 리벗 해본 적은 있다. 리셋과 리벗 둘 다 변경 사항을 되돌리는 기능이지만, 되돌리는 방법은 완전 다르니 적재적소에 잘 사용해보도록 하자.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>지금 Git에 대한 포스팅을 두 편 연속으로 작성했는데도 아직 Git에 대해서 전부 설명하지 못했다. 그 만큼 Git은 정말 다양한 기능들로 사용자가 효과적으로 버전 관리를 할 수 있도록 도와주는 도구라고 할 수 있다. 위에서 한번 언급했듯이 어플리케이션의 버전을 관리한다는 특성 때문에 Git이 어떻게 작동하는 지, 내가 이 기능을 사용하면 버전이 어떻게 되는 지 알지 못한다면 사실 두려울 수 밖에 없다.</p>\n<p>“내가 손가락 하나 잘못 놀려서 다른 사람들이 작성한 코드가 날아가면 어떡하지…?”라는 생각은 필자도 해봤고 지금 Git을 겁나 잘쓰시는 많은 개발자 분들도 한번씩은 다 해본 생각일 것이다. <small>(사실 맘 먹고 리셋하고 강제로 푸쉬하지않는 이상 그럴 일이 별로 없다)</small></p>\n<p>하지만 Git에서 말하는 개념이나 기능의 이름들이 생소해서 그렇지 알고보면 Git의 기능들이 작동하는 방법 자체는 그렇게 복잡하지 않다. 그리고 이 복잡성은 제대로 관리되지 않았던 버전 히스토리 그래프도 한 몫 한다고 생각한다. 솔직히 이리저리 꼬여있는 그래프를 보면 “오 이거 해볼만 한데?”라는 생각은 별로 안드는 것 같다.</p>\n<p>포스팅을 작성하면서 최대한 쉽게 써보려고 했는데 독자분들이 이해가 잘 가셨는 지 모르겠다. 사실 Git은 필자 또래의 개발자 분들보다 나이가 조금 있으신 선배들이 더 어려워하시는 것 같다.</p>\n<p>지금까지 SVN을 주로 사용해서 버전을 관리하다가 갑자기 처음보는 개념들이 우수수 떨어지는 Git이 대세라고 하니 공부하기도 쉽지 않을 것 같다고 하시는 선배들의 이야기를 몇 번 들어본 적 있다.</p>\n<p>사실 모든 프로그래밍이 그렇듯, Git도 글로 읽는 것보다는 직접 몇번 해본 다음에 히스토리 그래프가 어떻게 변했는 지도 보고 소스가 어떻게 변했는 지 보는 게 제일 이해가 잘 된다. <a href=\"https://github.com/\" target=\"_blank\" rel=\"nofollow\">Github</a>처럼 무료 저장소를 제공해주는 서비스도 많으니, 연습용 레파지토리를 하나 만든 다음 그 안에서 간단한 코드나 텍스트 파일을 변경해보면서 직접 연습해보시는 걸 추천한다.</p>\n<p>이상으로 Git 뉴비를 위한 기초 사용법 - 버전 관리 포스팅을 마친다.</p>","fields":{"slug":"20190728-git-tutorial-advanced","path":"/2019/07/28/git-tutorial-advanced/","lang":"ko"},"frontmatter":{"title":"Git 뉴비를 위한 기초 사용법 - 버전 관리","subTitle":"브랜치, 머지, 리베이스 – Git 버전 관리 필수 개념 정리","date":"Jul 28, 2019","categories":["프로그래밍","튜토리얼"],"tags":["튜토리얼","Git","Git 기초","Tutorial","Versioning","협업","버전관리","VCS","Version Control System"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/99213a89a950fbd4dc194cf9b6cfc530/d803c/thumbnail.png","srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/d803c/thumbnail.png 320w,\n/static/99213a89a950fbd4dc194cf9b6cfc530/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/fc5c5/thumbnail.webp 320w,\n/static/99213a89a950fbd4dc194cf9b6cfc530/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/99213a89a950fbd4dc194cf9b6cfc530/01fb2/thumbnail.png","srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"eaac9e03-ea99-57fc-8137-e41c6193f9e4","tableOfContents":"<ul>\n<li>\n<p><a href=\"#git%EC%9D%80-%EB%88%84%EA%B0%80-%EC%99%9C-%EB%A7%8C%EB%93%A4%EC%97%88%EB%82%98%EC%9A%94\">Git은 누가, 왜 만들었나요?</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EC%B4%88%EC%A0%81%EC%9D%B8-%EA%B0%9C%EB%85%90-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\">기초적인 개념 알아보기</a></p>\n<ul>\n<li><a href=\"#remote--origin\">Remote / Origin</a></li>\n<li><a href=\"#repository\">Repository</a></li>\n<li><a href=\"#branch\">Branch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%95%84%EC%88%98-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%93%A4%EC%9D%84-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">필수 명령어들을 알아보자</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%EB%AA%A8%ED%8A%B8-%EC%84%9C%EB%B2%84%EC%99%80-%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0\">리모트 서버와 연동하기</a></p>\n<ul>\n<li><a href=\"#clone\">clone</a></li>\n<li><a href=\"#pull\">pull</a></li>\n<li><a href=\"#fetch\">fetch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD%EC%9D%84-%EB%A6%AC%EB%AA%A8%ED%8A%B8-%EC%84%9C%EB%B2%84%EC%97%90-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%ED%95%98%EA%B8%B0\">변경 사항을 리모트 서버에 업데이트하기</a></p>\n<ul>\n<li><a href=\"#add\">add</a></li>\n<li><a href=\"#commit\">commit</a></li>\n<li><a href=\"#push\">push</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 너도 쓰고 나도 쓰고 우리 모두 쓰고 있는 Git의 기초에 대해서 포스팅 하려고한다. 필자는 Git을 대학교 때 처음 접했는데 처음에는 “왠 이상한 클라우드에 소스코드를 올려놓는다” 정도로만 이해하고 사용했던 기억이 난다. 하지만 Git의 기능은 단순히 코드 공유에서 끝나지 않는 버전 관리 도구이므로 Git을 잘 쓰면 실무에서 펼쳐지는 다이나믹한 상황에 유연하게 대처할수도 있다. 하지만 Git의 모든 기능을 이 포스팅에서 전부 다루기에는 지면이 부족하니, 이번에는 Git을 사용하기 위한 기본적인 명령어인 , , …","html":"<p>이번 포스팅에서는 너도 쓰고 나도 쓰고 우리 모두 쓰고 있는 Git의 기초에 대해서 포스팅 하려고한다. 필자는 Git을 대학교 때 처음 접했는데 처음에는 “왠 이상한 클라우드에 소스코드를 올려놓는다” 정도로만 이해하고 사용했던 기억이 난다. 하지만 Git의 기능은 단순히 코드 공유에서 끝나지 않는 버전 관리 도구이므로 Git을 잘 쓰면 실무에서 펼쳐지는 다이나믹한 상황에 유연하게 대처할수도 있다.</p>\n<p>하지만 Git의 모든 기능을 이 포스팅에서 전부 다루기에는 지면이 부족하니, 이번에는 Git을 사용하기 위한 기본적인 명령어인 <code class=\"language-text\">add</code>, <code class=\"language-text\">commit</code>, <code class=\"language-text\">push</code>, <code class=\"language-text\">pull</code>, <code class=\"language-text\">fetch</code>에 대한 설명만 진행하도록 하겠다.</p>\n<h2 id=\"git은-누가-왜-만들었나요\" style=\"position:relative;\">Git은 누가, 왜 만들었나요?<a href=\"#git%EC%9D%80-%EB%88%84%EA%B0%80-%EC%99%9C-%EB%A7%8C%EB%93%A4%EC%97%88%EB%82%98%EC%9A%94\" aria-label=\"git은 누가 왜 만들었나요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Git은 2005년 리누스 토르발즈가 자기가 쓰려고 만든 분산 버전 관리 시스템이다. 일단 이 리누스 토르발즈라는 핀란드 형부터가 개발자라면 대부분 알고 있을 정도로 유명하다.</p>\n<p>아실 만한 분들은 다 아시겠지만 이 형은 오픈소스 커널인 리눅스(Linux)를 만든 사람이다. 리눅스 커널로 만든 유명한 운영체제는 데비안 계열의 Ubuntu, 레드햇 계열의 CentOS 등이 있다. 이 운영체제들은 서버에서도 많이 사용되고, 터미널의 기본 기능도 튼실해서 개발 친화적이기 때문에 개발자라면 대부분 알고 있는 운영체제이다. 참고로 안드로이드 OS도 리눅스 커널을 기반으로 만든 운영체제다.</p>\n<p>뭐 어쨌든 이 형은 이 쪽 업계에서는 상당히 유명한데, 뭐 프로그래밍을 잘하거나 리눅스 커널 만든 걸로도 유명하지만 이런 걸로 더 유명하다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 471px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5b8885b286b244deea3c3312a549a221/91c37/linus.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHlUjFQ/8QAHBAAAQMFAAAAAAAAAAAAAAAAAQIDEQAQEiIy/9oACAEBAAEFAm+1mbaQrEsmK//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB0QAAECBwAAAAAAAAAAAAAAAAEAEQIQEiIxUZH/2gAIAQEABj8CmHhPU9ODtWhl/8QAHRAAAgEEAwAAAAAAAAAAAAAAAREAITFBURBxsf/aAAgBAQABPyGgOj5KAlapxlI53hOCsQ1MBWJc/9oADAMBAAIAAwAAABDP7//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/EIf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhcRBRMUFh/9oACAEBAAE/EEIUr37Q6Ao5AB64soKqwwWqihZrZ5++N4iB0t2e5//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"linus\" title=\"\" src=\"/static/5b8885b286b244deea3c3312a549a221/91c37/linus.jpg\" srcset=\"/static/5b8885b286b244deea3c3312a549a221/0913d/linus.jpg 160w,\n/static/5b8885b286b244deea3c3312a549a221/cb69c/linus.jpg 320w,\n/static/5b8885b286b244deea3c3312a549a221/91c37/linus.jpg 471w\" sizes=\"(max-width: 471px) 100vw, 471px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>세계 그래픽 카드 점유율 1위 기업한테 엿을 먹이는 패기</small>\n</center>\n<p>이게 대략 2012년 쯤인데, 어떤 포럼 연설에서 실제로 이렇게 엔비디아 엿먹으라고 했다. 당시에 엔비디아 옵티머스 칩을 사용하는 컴퓨터에서 리눅스로 만든 OS가 제대로 안굴러가는 이슈가 있었는데, 엔비디아가 지적재산권을 이유로 오픈소스 드라이버를 공개를 안했었기 때문에 리눅스의 설치가 힘들었던 것이다. 당시의 대화는 대략 이랬다.</p>\n<blockquote>\n<p><strong>[청중]</strong><br />\n아 님… 엔비디아 옵티머스 칩 쓰는 노트북에 리눅스 까는게 너무 힘들어요ㅜㅜ 좋은 방법 없을까요?</p>\n<p><strong>[리누스]</strong><br />\n…<br />\n난 우리가 하드웨어 제조업체들과 겪었던 최악의 문제 중 하나가 엔비디아라는 것을 이렇게 공개적으로 지적할 수 있어서 기쁘네요! 이건 조금 슬픈 일인데, 엔비디아는 안드로이드 시장에 많은 칩을 팔고 있지만 이 회사는 우리가 경험한 회사 중 진짜 최악입니다.</p>\n<p>그러니까 엔비디아… <strong>엿이나 먹어라</strong></p>\n</blockquote>\n<p>리누스는 이런 형이다. 참고로 리눅스 커널이 오픈소스라고 함부로 커밋했다가는 이 형한테 욕먹고 현타가 올 수도 있으니 마음 단단히 먹자. 이 형이 바로 이 업계의 <strong>고든 램지</strong>다.</p>\n<p>근데 왜 이 형이 Git을 만들게 되었냐?</p>\n<p>리누스는 리눅스 커널을 만들 당시에 <a href=\"https://www.bitkeeper.org/\" target=\"_blank\" rel=\"nofollow\">BitKeeper</a>라는 분산 버전 관리 시스템을 사용했는데, 이 Bitkeeper라는 서비스는 원래 유료였지만 리눅스 커뮤니티에는 무료로 제공해주고 있었다. 근데 이 커뮤니티의 개발자 한명이 BitKeeper의 통신 프로토콜을 리버스 엔지니어링해서 해킹하는 사건이 발생했고, Bitkeeper는 무료로 리눅스 커뮤니티에 서비스를 제공하던 것을 철회한 것이다.</p>\n<p>근데 이걸 쓰지 말라고 막은 게 아니라 그냥 무료에서 유료로 돌린 거다. 근데 이 형이 돈내기는 싫었는지 그냥 자기가 분산 버전 관리 시스템을 2주 만에 뚝딱! 만들었는데 그게 바로 Git이다. <small>(2달 아니고 2주 맞다…)</small></p>\n<p>리누스가 Git을 처음 커밋했던 내용은 Github의 <a href=\"https://github.com/git/git/commit/e83c5163316f89bfbde7d9ab23ca2e25604af290\" target=\"_blank\" rel=\"nofollow\">Git 미러 저장소</a>에서 확인해볼 수 있는데 여기서도 리누스 형의 성격이 드러난다.</p>\n<blockquote>\n<p>GIT - the stupid content tracker</p>\n<p>“git” can mean anything, depending on your mood.</p>\n<p>- random three-letter combination that is pronounceable, and not<br />\nactually used by any common UNIX command. The fact that it is a mispronounciation of “get” may or may not be relevant.<br />\n- stupid. contemptible and despicable. simple. Take your pick from the<br />\ndictionary of slang.<br />\n- “global information tracker”: you’re in a good mood, and it actually<br />\nworks for you. Angels sing, and a light suddenly fills the room.<br />\n- “goddamn idiotic truckload of sh*t”: when it breaks</p>\n<p><strong>Linus Torvalds</strong> <em><a href=\"https://github.com/git/git/commit/e83c5163316f89bfbde7d9ab23ca2e25604af290\" target=\"_blank\" rel=\"nofollow\">git/git/README.md</a></em></p>\n</blockquote>\n<p>음, 이게 리누스가 한 첫번째 커밋의 <code class=\"language-text\">README.md</code> 파일의 일부를 가져온 것인데, Git은 그냥 아무 의미 없는 세글자 알파벳이라고 한다. 그냥 유닉스 명령어 중에 <code class=\"language-text\">git</code>이라는 명령어가 없어서 정했다고 한다. 기분이 좋으면 “global information tracker”라고 하고 기분이 구리면 “goddamn idiotic truckload of sh*t”이라고 하랜다. <small>(진짜 이 세상 쿨함이 아니다.)</small></p>\n<p>정리하자면 Git은 핀란드의 어떤 천재 형이 쓰던 버전 관리 도구가 갑자기 유료가 되서 2주만에 만들어낸 시스템이고, 지금은 전 세계적으로 널리 사용되고 있는 분산 버전 관리 시스템이다.</p>\n<h2 id=\"기초적인-개념-알아보기\" style=\"position:relative;\">기초적인 개념 알아보기<a href=\"#%EA%B8%B0%EC%B4%88%EC%A0%81%EC%9D%B8-%EA%B0%9C%EB%85%90-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"기초적인 개념 알아보기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Git은 분산 버전 관리 시스템이기 때문에 리모트 서버에 있는 소스를 수정하려면 로컬 환경으로 소스를 클론(Clone)하는 과정이 필요하다. 말 그대로 모든 소스를 복사하여 사용자의 컴퓨터로 받아오는 것이다.</p>\n<p>이후 Git은 로컬 환경의 파일을 추적하고 있다가 사용자가 소스를 수정하면 그 변경 사항을 감지한다. 그 후 사용자는 자신이 리모트 서버에 변경 사항을 반영하고 싶은 파일이나 소스 코드의 라인을 고른 뒤 리모트 서버에 업로드한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 542px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e855c0870c0d6a21a168870d4ebbc553/c0388/source-tree.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFUlEQVR42oWSW2sTURSF8xcqLYitaWqapEkmt2ZmMjNpJ5O5pJlkkqba4hV8EXwQqddSqGBraW2LCBZ8UZEiPhSLfemDIHj5Z58nI1qESh8W+7DZfGetfU5kfOkmg4/vcnZ7iYHdh5x59ehYuw8YeLFC6tlXUqtHJJ5+Qd76ibL1ndiTQybWvyFt/CC+dkTuzQbZt2tE5IrGuWoXy7SJFSqMFoxQMaGRvEG+rPP+Vo+D+zfYX7we1k/3rnFwZ4Hb8z3c3lUsfxarfQmzNU+kUpIZUgL8mkEmUyA6rhBLyIwlZUbiCsV8nr2VLIc70xxsT/F5R2dvVePdcpr9TZWPz6t8WFe4ctGj5i4I4KTCkBrQsKpkpCLRpEospYQaTSrE0yqW6+P5XexGG6cZYHlt6p6PPm2TKchIxQpJSSMhGcfAmROBMvGMhmYGTNmzTDk9jHoXvRag1TpURS9drDEcL4eXR8X8qcCEpGN6PazGHEq1SSKrCzcG46L2LxubOJ7v63SH6Qr1mYshsFrvhNC+w0nNI5oo/wMLgaoADv53h78jq9MtETEQcTvC7Ry6FYi4XdFrh477s3+cRoxymWHNp2WLV5ZKJzt0Otiu2KHZxLJa4twNZQm4ZrbJyXWGL5TC+YjjaOQaHmVZfJWU/Bc2JnQ+pZJNlXjZLLLZmGTbzfF6zmDZlVl0KjQdH7t1GcNqY7q9UL8AVTReOSvTiSgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"source tree\" title=\"\" src=\"/static/e855c0870c0d6a21a168870d4ebbc553/c0388/source-tree.png\" srcset=\"/static/e855c0870c0d6a21a168870d4ebbc553/69538/source-tree.png 160w,\n/static/e855c0870c0d6a21a168870d4ebbc553/72799/source-tree.png 320w,\n/static/e855c0870c0d6a21a168870d4ebbc553/c0388/source-tree.png 542w\" sizes=\"(max-width: 542px) 100vw, 542px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>맨 위의 `origin/master`는 리모트 서버의 버전, 맨 밑의 `master`는 필자 컴퓨터의 버전을 의미한다.</small>\n</center>\n<p>자 일단 Git에 대한 기본적인 개념은 이게 끝이다. 리모트 서버에 있는 파일을 내 컴퓨터로 복붙한 다음 수정해서 다시 리모트 서버로 업데이트한다는 것. 이때 사용자가 자신이 변경한 로컬의 소스를 서버의 소스에 업로드하는, 즉 서버로 밀어올리는 행위를 Push라고 부르고 사용자가 서버의 소스를 자신의 클라이언트로 가져오는 행위를 Pull 또는 Fetch라고 하는 것이다. 쉽지 않은가?</p>\n<p>하지만 처음 Git을 접하면 평소에 접해보지 못했던 <code class=\"language-text\">remote</code>, <code class=\"language-text\">origin</code>, <code class=\"language-text\">repository</code>와 같은 용어들이 튀어 나오기 때문에 당황할 수 있다. 그럼 이 용어들이 무엇을 뜻하는지부터 간단하게 알아보자.</p>\n<h3 id=\"remote--origin\" style=\"position:relative;\">Remote / Origin<a href=\"#remote--origin\" aria-label=\"remote  origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>우선 Remote는 말 그대로 리모트 서버 자체를 의미한다. 이 리모트 서버라는 개념이 잘 이해가 안되시는 분은 우리가 자주 사용하는 구글 드라이브나 N드라이브와 같은 클라우드 스토리지를 사용하는 것을 떠올리시면 된다. 전 세계 어딘가에 있는 서버에 우리의 소스를 저장하는 것이다.</p>\n<p>이때 이 서버를 제공해주는 대표적인 업체가 <a href=\"https://github.com/\" target=\"_blank\" rel=\"nofollow\">Github</a>, <a href=\"https://bitbucket.org/product/\" target=\"_blank\" rel=\"nofollow\">Bitbucket</a>, <a href=\"https://about.gitlab.com/\" target=\"_blank\" rel=\"nofollow\">GitLab</a>과 같은 회사들이다. 이 회사들이 Git을 만든 게 아니라 Git이라는 시스템에 필요한 리모트 서버와 Git을 좀 더 편리하게 사용할 수 있는 기능들을 제공하는 것이다.</p>\n<p>Git을 사용할 때는 내가 어떤 리모트 서버에 변경 사항을 업로드 할 것인지 정해야하는데, 반드시 하나의 리모트 서버만 사용할 수 있는 것이 아니기 때문에 내가 사용하는 리모트 서버의 이름을 정해줘야한다. 이때 주로 사용하는 관례적인 이름이 바로 <code class=\"language-text\">Origin</code>이다.</p>\n<p>보통은 한 개의 리모트 서버만 운용하는 경우가 대다수이기 때문에 많은 사람들이 Remote와 Origin을 혼용해서 부르곤 한다.</p>\n<h3 id=\"repository\" style=\"position:relative;\">Repository<a href=\"#repository\" aria-label=\"repository permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>레파지토리(Repository, Repo)는 저장소라는 뜻으로, 리모트 서버 내에서 구분되는 프로젝트 단위라고 생각하면 된다. 우리가 구글 드라이브를 사용할 때도 하나의 디렉토리에 모든 파일을 다 때려넣지않고 몇 개의 디렉토리를 만들고 용도에 따라 파일을 나눠서 구분하는 것과 동일하다.</p>\n<p>일반적으로 한 개의 레파지토리는 하나의 프로젝트를 의미하지만 경우에 따라서 레파지토리 하나에 여러 개의 프로젝트를 구성하기도 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">https://github.com/user/repository.git\nhttps://user@bitbucket.org/group-name/repository.git</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>레파지토리를 클론받을 때는 해당 레파지토리를 가리키는 URL이 필요한데, 레파지토리의 이름은 URL의 맨 마지막에 <code class=\"language-text\">.git</code> 확장자를 가지는 방식으로 표현된다.</p>\n<h3 id=\"branch\" style=\"position:relative;\">Branch<a href=\"#branch\" aria-label=\"branch permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>브랜치(Branch)는 일종의 독립된 작업을 진행하기 위한 작업 공간의 개념이다. 맨 처음 Git을 초기화했을 때 기본적으로 <code class=\"language-text\">master</code>라는 이름의 브랜치가 하나 생성된다. 그 후 개발하는 기능 또는 버그 픽스에 따라서 브랜치를 새로 생성하고 거기서 작업한 후에 나중에 다시 <code class=\"language-text\">master</code>로 합치는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3337736752b17e897031f2d2142cd163/5cae2/branches.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABsElEQVR42p2SyW7TUBSG81RseQweA9aINRILdpVYQDdskJodsGFIBVIidaAKOC12VDWT3Ti+8ZCkjuM4tj9sx45sVMYjXd+je/z/5z9DjcSiKE4vOscD9h602H94yt79JucnQ8rxv7Fa+onjLcA0FkjNMZ2Wnt2WWFCOR1HE2vcJ1n7ih78mLFsKNqxrwhKgIOzrJvWvY16dqVyOrW2SuKq+lv5cAHx/xeBK5fULiZnt7gBFXLdmHCo67y80NHNWSVZSuH0Igg1CCAI/oNeeJGVtCn0V4HLuYAv9VrKMsNXVGCfZhGEwTQhdz+NkZOAtXRRtSrun43tLblyXaBMgDSbZ2059nrIgrzXlET1Nx7ZMHMfhWjf4dDHEnArO+2O+XGo4Sey7LDN3bJSRSPrn/GbKcZjS/zSZcFduHEeZZ9k2wcqna6pIkx7hOqDR72DfzBnaBk1VqQ6lcvISyicIN6wXLi+lzzxvN5hNLR616sijKxrdNk9O396+Nn+0KGte7ufb4a2YC+vfCcuK0yVPTRYqB90j6soRH/vSfyjMLcx7u//tkDtvHnP33VPufXjGD8kYl1PaXlxHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"branches\" title=\"\" src=\"/static/3337736752b17e897031f2d2142cd163/6af66/branches.png\" srcset=\"/static/3337736752b17e897031f2d2142cd163/69538/branches.png 160w,\n/static/3337736752b17e897031f2d2142cd163/72799/branches.png 320w,\n/static/3337736752b17e897031f2d2142cd163/6af66/branches.png 640w,\n/static/3337736752b17e897031f2d2142cd163/d9199/branches.png 960w,\n/static/3337736752b17e897031f2d2142cd163/21b4d/branches.png 1280w,\n/static/3337736752b17e897031f2d2142cd163/5cae2/branches.png 2332w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>master 브랜치에서 다른 브랜치를 분리한 모습<small>\n</small></small></center>\n<p>이 브랜치 개념은 Git에 익숙하지 않은 분들에게 잠깐 설명하고 넘어가기에는 직관적으로 이해가 잘 안될 수 있는 개념이기 때문에 추후 다른 포스팅에서 다시 설명하겠다. 일단 지금은 이 3가지 정도만 기억해두자.</p>\n<blockquote>\n<ol>\n<li>Git을 초기화하면 기본적으로 <code class=\"language-text\">master</code> 브랜치가 생긴다. 이 친구가 메인 브랜치 역할을 한다.</li>\n<li>브랜치는 어떤 브랜치에서 분리시키는 것이고, 분리된 브랜치는 분리될 당시의 부모 브랜치 상태를 그대로 가지고 있다.</li>\n<li>개발자는 각각의 브랜치에서 개발을 진행한 뒤 나중에 다시 <code class=\"language-text\">master</code> 브랜치로 변경 사항을 합친다.</li>\n</ol>\n</blockquote>\n<h2 id=\"필수-명령어들을-알아보자\" style=\"position:relative;\">필수 명령어들을 알아보자<a href=\"#%ED%95%84%EC%88%98-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%93%A4%EC%9D%84-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"필수 명령어들을 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>만약 여러분이 혼자서만 프로젝트의 버전 관리를 한다면 단순히 리모트 서버의 레파지토리에서 소스를 받아와서 변경한 후 다시 리모트 서버로 업로드하는 과정만으로도 프로젝트를 진행하는데는 사실 아무 문제가 없다.</p>\n<p>하지만 Git은 애초에 혼자서 개발하는 상황보다는 여럿이서 함께 소스를 수정하며 개발하는 협업 상황을 상정하고 만들었기 때문에 협업에서 발생할 수 있는 여러가지 곤란한 상황들을 타파하기 위한 많은 기능을 가지고 있다.</p>\n<p>Git은 기본적으로 CLI(Command Line Tools)을 통해 사용하고 <code class=\"language-text\">commit</code>, <code class=\"language-text\">fetch</code>, <code class=\"language-text\">branch</code>와 같은 여러가지 명령어를 사용하여 이 기능들을 사용할 수 있게 해준다.</p>\n<p>그럼 이번에는 Git을 사용하여 버전을 관리하기 위해 기본적으로 알아야 하는 몇 가지 명령어를 한번 살펴보자.</p>\n<h2 id=\"리모트-서버와-연동하기\" style=\"position:relative;\">리모트 서버와 연동하기<a href=\"#%EB%A6%AC%EB%AA%A8%ED%8A%B8-%EC%84%9C%EB%B2%84%EC%99%80-%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0\" aria-label=\"리모트 서버와 연동하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"clone\" style=\"position:relative;\">clone<a href=\"#clone\" aria-label=\"clone permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">clone</code>은 말 그대로 리모트 서버의 레파지토리에서 클라이언트로 파일을 복붙하는 행위를 말한다. 이때 클론을 수행하기 위해서는 어떤 레파지토리에서 파일을 가져올 것인지에 대한 정보가 필요한데, 이 정보는 위에서 설명했듯이 URL로 표현한다. HTTPS 프로토콜이나 SSH 프로토콜을 사용하여 소스를 클론할 수 있는데, 보통 HTTPS를 많이 사용한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 461px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3623cc98a57b0f252f1a6ea7e513bf3f/f816d/clone.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 49.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVR42mWSy27TQBSG/ZK8ADvEgg10hcSKB2EHEhWLchFC3bBD0IpWqhq7ae2ksePYju+emy9/z5kkEqgjfZoz/4x/n3NmnGmaUDcN8qJEWVYoCCk1yqpGQRrrQiq75v26a3HineL91Qk+XH3Gx+uvOJ59w7vLY/j5Es5IhsF9iGtvDnd+h5l3i2xb2pg1JisqzP0AM/cWi3WIl6dv8fTLK+IIz7+/xosfb/Dk0zP8DH7BaTQgekCOPE/QxqBpW2itIYSwlGWJtu0wjiMmou97e67vDSqhkFQStTBWd0oJFGLa0Q1UcomLi0vM7yjDmQs/WMD1bgjPtuAwuFU8inbAfW6Q07daGzg9ZXZA9wO6rkMYrbFJUmTZFmEYIUlTWieINxus49juc7xaRYiiEHVVWXOlNBz8MzhlpaiENMM2z7Hd5tYgIfMkyZCSzj+J442N0yyzl+gvVzTXu5I58wPG9BYpJARlKqWg3rWWpmEa1HWDhmCNq1FK0iUWFAv61jw25L8MtgWTxexn27J93/hlsG6GHeO06ylX95+hJkNMA25ihb9LAXetcLYQ+O13dJs9nRnZFUGm8ScQOCfOiKgwJI+PDYdhoEcsbRmaUBSbfczPh8viWVErWJOio/IrVNUOLvkBz6H0fufh3YoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"clone\" title=\"\" src=\"/static/3623cc98a57b0f252f1a6ea7e513bf3f/f816d/clone.png\" srcset=\"/static/3623cc98a57b0f252f1a6ea7e513bf3f/69538/clone.png 160w,\n/static/3623cc98a57b0f252f1a6ea7e513bf3f/72799/clone.png 320w,\n/static/3623cc98a57b0f252f1a6ea7e513bf3f/f816d/clone.png 461w\" sizes=\"(max-width: 461px) 100vw, 461px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>보통 Github과 같은 리모트 서버 제공업체들은 레파지토리를 쉽게 클론할 수 있도록 눈에 잘 띄는 버튼을 만들어 놓고 해당 레파지토리의 URL을 제공하는 경우가 많다. 사용자는 단지 저 URL을 복사한 다음 Git의 <code class=\"language-text\">clone</code> 명령어를 사용해서 레파지토리를 클론하기만 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/dev/evan <span class=\"token comment\"># 원하는 작업 디렉토리로 이동</span>\n$ <span class=\"token function\">git</span> clone https://github.com/evan-moon/test-repo.git</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>원하는 작업 디렉토리로 이동한 뒤 <code class=\"language-text\">clone</code> 명령어를 사용하여 레파지토리를 클론하게되면 현재 위치에 레파지토리 이름과 동일한 디렉토리가 생성되고 그 내부에 리모트 서버의 소스가 전부 복사된다. 위 예제의 경우 <code class=\"language-text\">~/dev/evan</code> 디렉토리 내부에 <code class=\"language-text\">test-repo</code> 디렉토리가 생성되고 해당 레파지토리의 소스가 복사될 것이다.</p>\n<p>이제 이 복사된 소스를 맘대로 수정하거나 파괴해도 리모트 서버에 업로드만 하지 않는다면, 같은 리모트 서버를 보고 있는 다른 사람이 영향을 받을 일은 절대 없기 때문에 안심하고 맘대로 만지작거려도 된다.</p>\n<h3 id=\"pull\" style=\"position:relative;\">pull<a href=\"#pull\" aria-label=\"pull permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">pull</code> 명령어는 리모트 서버의 최신 소스를 가져와서 로컬 소스에 병합(Merge)해주는 명령어이다. 만약 우리가 처음 소스를 클론한 후에 다른 사람이 리모트 서버를 상태를 갱신했더라도 리모트 서버가 우리에게 그 변경된 사항을 알려주지는 않기 때문에 우리가 직접 서버에 문의를 날려야 하는 것이다.</p>\n<p>또한 <code class=\"language-text\">pull</code>은 단순히 리모트 서버에서 로컬로 소스를 가져온다의 개념보다는 “가져와서 합친다”의 개념이기 때문에 브랜치끼리도 <code class=\"language-text\">pull</code>을 통해 소스를 합칠 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> pull <span class=\"token comment\"># 현재 내 로컬 브랜치와 같은 이름을 가진 리모트 서버 브랜치가 타겟</span>\n$ <span class=\"token function\">git</span> pull origin master <span class=\"token comment\"># origin 리모트 서버의 master 브랜치가 타겟</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>오픈소스에 관심이 많은 분이라면 Pull Request라는 단어를 들어보았을 것이다. 이 Pull Request는 “내가 작업한 브랜치를 가져가서 합쳐줘~“라는 의미이다.</p>\n<p>필자는 처음에 이게 왜 Merge Request가 아니라 Pull Request인지 이해가 잘 안갔었는데, 나중에 와서 생각해보니 최종적으로 두 브랜치의 소스를 합치는 행위를 하는 주체가 요청을 한 사람이 아니고 요청을 받은 사람이기 때문에 요청을 받은 사람이 브랜치를 가져가서 합친다는 관점에서 보면 적절한 네이밍인 것 같다는 생각을 했었다.</p>\n<h3 id=\"fetch\" style=\"position:relative;\">fetch<a href=\"#fetch\" aria-label=\"fetch permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">fetch</code>는 리모트 서버의 최신 이력을 내 클라이언트로 가져오되 병합은 하지 않는 명령어이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> fetch</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">fetch</code> 명령어를 사용하면 다른 사람들이 리모트 서버에 새로 업데이트한 모든 내역을 받아올 수 있다. 이제 그 내역을 보고 내 로컬에 있는 버전이 리모트 서버에 있는 버전보다 이전 버전이라면 <code class=\"language-text\">pull</code> 명령어를 사용하여 내 컴퓨터의 소스 코드를 갱신하면 된다.</p>\n<p>그럼 이 명령어가 <code class=\"language-text\">pull</code>의 하위 호환이 아닌가? 라는 생각이 들 수도 있는데, <code class=\"language-text\">pull</code>과 <code class=\"language-text\">fetch</code>는 조금 용도가 다르긴 하다. <code class=\"language-text\">pull</code> 같은 경우는 일단 묻지도 따지지도 않고 바로 리모트 서버의 최신 소스를 가져와서 내 로컬 소스에 합쳐버리기 때문에 조금 위험하긴 하다. 뭐 예를 들면 지금 리모트 서버의 최신 소스가 버그가 있는 상태일 수도 있지 않은가?</p>\n<p>그래서 필자같은 경우 보통 로컬 소스와 리모트 소스의 변경 사항을 미리 비교해보고 싶을 때 <code class=\"language-text\">fetch</code>를 사용한다. 그리고 <code class=\"language-text\">fetch</code>를 잘 이용하면 이런 얌생이도 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token function\">git</span> fetch <span class=\"token parameter variable\">--all</span> -p<span class=\"token punctuation\">;</span> <span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-vv</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\": gone]\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{ print $1 }'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">1</span> <span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이 쉘스크립트는 필자가 예전에 만들어 놨던 친구이다. <code class=\"language-text\">fetch</code>를 통해 리모트 서버의 최신 내용을 받아온 뒤, <code class=\"language-text\">branch</code> 명령어를 사용하여 리모트 서버에서는 삭제되었지만 로컬에는 남아있는 브랜치를 찾아서 싹 다 지워주는 스크립트이다. 참고로 로컬에는 있지만 리모트에서 삭제된 브랜치는 브랜치 이름 뒤에 <code class=\"language-text\">: gone</code>이라는 문구가 붙어있기 때문에 구분이 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-vv</span>\n* master fa0cec5 <span class=\"token punctuation\">[</span>origin/master<span class=\"token punctuation\">]</span> 마스터 브랜치에욤\n  <span class=\"token builtin class-name\">test</span>   1f3578f <span class=\"token punctuation\">[</span>origin/test: gone<span class=\"token punctuation\">]</span> 리모트에선 죽은 브랜치\n  test2  fa0cec5 로컬에서 만들어지고 리모트에 업데이트는 안된 브랜치</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">fetch</code> 명령어와 <code class=\"language-text\">branch</code> 명령어의 특성을 잘 이용하면 이런 꿀 스크립트를 만들 수도 있다.</p>\n<h2 id=\"변경-사항을-리모트-서버에-업데이트하기\" style=\"position:relative;\">변경 사항을 리모트 서버에 업데이트하기<a href=\"#%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD%EC%9D%84-%EB%A6%AC%EB%AA%A8%ED%8A%B8-%EC%84%9C%EB%B2%84%EC%97%90-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%ED%95%98%EA%B8%B0\" aria-label=\"변경 사항을 리모트 서버에 업데이트하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 지금까지는 리모트 서버의 내용을 로컬과 연동하는 명령어를 살펴봤다면 이제는 내 로컬에서 변경한 소스를 리모트 서버로 업로드하는 명령어들을 살펴볼 차례이다. 필자는 이 과정을 설명할 때 보통 택배로 예를 주로 드는 편이기 때문에 이 포스팅에서도 택배를 포장하고 배송하는 과정에 빗대어서 설명을 진행하겠다.</p>\n<h3 id=\"add\" style=\"position:relative;\">add<a href=\"#add\" aria-label=\"add permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<center>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/67e9fbfe9c838c78850347beaaa2bf25/0f98f/add.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB3l2YS2AUf//EABkQAAIDAQAAAAAAAAAAAAAAAAECAxASIf/aAAgBAQABBQJuLHLtqCqK/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPwE24v/EABgQAAIDAAAAAAAAAAAAAAAAAAEQABEh/9oACAEBAAY/AjKeBf/EABkQAQEAAwEAAAAAAAAAAAAAAAERABAxUf/aAAgBAQABPyFUeGIEHK6Skcdojr//2gAMAwEAAgADAAAAEDAP/8QAFxEBAAMAAAAAAAAAAAAAAAAAARARIf/aAAgBAwEBPxAStj//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QDCsn/8QAGhABAQEAAwEAAAAAAAAAAAAAAREhABBBgf/aAAgBAQABPxBQdUT4caAahc0nQIFEiPvMXtKHX//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"add\" title=\"\" src=\"/static/67e9fbfe9c838c78850347beaaa2bf25/c08c5/add.jpg\" srcset=\"/static/67e9fbfe9c838c78850347beaaa2bf25/0913d/add.jpg 160w,\n/static/67e9fbfe9c838c78850347beaaa2bf25/cb69c/add.jpg 320w,\n/static/67e9fbfe9c838c78850347beaaa2bf25/c08c5/add.jpg 640w,\n/static/67e9fbfe9c838c78850347beaaa2bf25/6a068/add.jpg 960w,\n/static/67e9fbfe9c838c78850347beaaa2bf25/eea4a/add.jpg 1280w,\n/static/67e9fbfe9c838c78850347beaaa2bf25/0f98f/add.jpg 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<small>원하는 변경사항만 골라 담는 add 명령어</small>\n</center>\n<p>자, 평화로운 중고나라에서 중고 거래를 했다고 생각해보자. 물론 집에 있는 모든 물건을 보내는 혜자같은 분도 계시겠지만 일반인이라면 그러지 않기 때문에 우리는 상대방한테 물건을 보내기 전에 어떤 물건을 보낼 것인지 부터 정해야한다. 이때 <code class=\"language-text\">add</code> 명령어가 어떤 물건들을 포장할 것인지 고르는 과정을 담당한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span> <span class=\"token comment\"># 현재 디렉토리의 모든 변경사항을 스테이지에 올린다</span>\n$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> ./src/components <span class=\"token comment\"># components 디렉토리의 모든 변경사항을 스테이지에 올린다</span>\n$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> ./src/components/Test.vue <span class=\"token comment\"># 특정 파일의 변경사항만 스테이지에 올린다</span>\n$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">-p</span> <span class=\"token comment\"># 변경된 사항을 하나하나 살펴보면서 스테이지에 올린다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 선택된 변경 사항들은 스테이지(Stage)라고 불리는 임시 공간으로 이동하게 된다. 이때 <code class=\"language-text\">git add &lt;경로></code> 명령어는 해당 경로 안에 있는 변경 사항을 전부 스테이지에 올리게 되는데, 이게 영 불안하다 싶은 사람은 <code class=\"language-text\">-p</code> 옵션을 줌으로써 변경 사항을 하나하나 확인하면서 스테이지에 올릴 수도 있다.</p>\n<p>이렇게 스테이지에 담긴 변경 사항들은 <code class=\"language-text\">git status</code> 명령어를 사용하여 확인해볼 수 있고, <code class=\"language-text\">status</code> 명령어에 추가적으로 <code class=\"language-text\">-v</code> 옵션을 사용하면 어떤 파일의 어떤 부분이 변경되었는지도 함께 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> ./soruce\n$ <span class=\"token function\">git</span> status\n\nOn branch master\nYour branch is up to <span class=\"token function\">date</span> with <span class=\"token string\">'origin/master'</span><span class=\"token builtin class-name\">.</span>\n\nChanges to be committed:\n  <span class=\"token punctuation\">(</span>use <span class=\"token string\">\"git reset HEAD &lt;file>...\"</span> to unstage<span class=\"token punctuation\">)</span>\n\n\tmodified:   source/_drafts/git-tutorial.md</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"commit\" style=\"position:relative;\">commit<a href=\"#commit\" aria-label=\"commit permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fd06caf7ac6bf4a5b01786357ca96bc8/0f98f/commit.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAABA//aAAwDAQACEAMQAAAB3FnIm2Aof//EABgQAAIDAAAAAAAAAAAAAAAAAAECAxAR/9oACAEBAAEFAnOLHKWasFf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAXEQADAQAAAAAAAAAAAAAAAAABAhEQ/9oACAECAQE/ASptuf/EABgQAAIDAAAAAAAAAAAAAAAAAAEQABEx/9oACAEBAAY/AiZTxf/EABsQAQACAgMAAAAAAAAAAAAAAAEAEBEhQVGB/9oACAEBAAE/IVM4JmbqkybgToHlf//aAAwDAQACAAMAAAAQzA//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QEDEn/8QAFxEBAAMAAAAAAAAAAAAAAAAAARARUf/aAAgBAgEBPxBpFDI//8QAGRABAQADAQAAAAAAAAAAAAAAAREAEDFR/9oACAEBAAE/EOz1jC85ToEAI9HLZr0Br//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"commit\" title=\"\" src=\"/static/fd06caf7ac6bf4a5b01786357ca96bc8/c08c5/commit.jpg\" srcset=\"/static/fd06caf7ac6bf4a5b01786357ca96bc8/0913d/commit.jpg 160w,\n/static/fd06caf7ac6bf4a5b01786357ca96bc8/cb69c/commit.jpg 320w,\n/static/fd06caf7ac6bf4a5b01786357ca96bc8/c08c5/commit.jpg 640w,\n/static/fd06caf7ac6bf4a5b01786357ca96bc8/6a068/commit.jpg 960w,\n/static/fd06caf7ac6bf4a5b01786357ca96bc8/eea4a/commit.jpg 1280w,\n/static/fd06caf7ac6bf4a5b01786357ca96bc8/0f98f/commit.jpg 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>변경 사항들을 포장하는 commit 명령어</small>\n</center>\n<p><code class=\"language-text\">add</code>를 사용하여 원하는 변경사항을 스테이지에 올렸다면 이제 스테이지에 있는 변경 사항들을 포장할 차례이다. 이때 이 포장하는 행위를 <code class=\"language-text\">commit</code>이라고 한다. 커밋은 Git에서 상당히 중요한 부분을 차지하는 행위인데, 바로 Git이 하나의 커밋을 하나의 버전으로 정의하기 때문이다. 그렇기 때문에 특정 버전으로 어플리케이션을 변경이라는 기준도 당연히 바로 이 커밋이 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> log <span class=\"token parameter variable\">--graph</span>\n\n* commit 20f1ea9 <span class=\"token punctuation\">(</span>HEAD -<span class=\"token operator\">></span> master, origin/master, origin/HEAD<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span> Author: Evan Moon <span class=\"token operator\">&lt;</span>bboydart91@gmail.com<span class=\"token operator\">></span>\n<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>     회원가입 기능 개발 끝<span class=\"token operator\">!</span>\n<span class=\"token operator\">|</span>\n* commit ca693fd\n<span class=\"token operator\">|</span> Author: Evan Moon <span class=\"token operator\">&lt;</span>bboydart91@gmail.com<span class=\"token operator\">></span>\n<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>     회원가입 비밀번호 입력 폼 추가\n<span class=\"token operator\">|</span>\n* commit f9b6e2d\n<span class=\"token operator\">|</span> Author: Evan Moon <span class=\"token operator\">&lt;</span>bboydart91@gmail.com<span class=\"token operator\">></span>\n<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>     회원가입 이메일 입력 폼 추가\n<span class=\"token operator\">|</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 그래프 상에서 필자의 어플리케이션의 현재 상태는 어떤 커밋일까?</p>\n<p>그래프 상에서 <code class=\"language-text\">HEAD</code>가 <code class=\"language-text\">20f1ea9 회원가입 기능 개발 끝!</code> 커밋에 위치해 있으므로 현재 필자의 어플리케이션은 회원가입 기능까지 개발이 완료된 상태라는 것을 알 수 있다.</p>\n<p>그리고 그래프를 자세히 보면 각각의 커밋들은 <code class=\"language-text\">20f1ea9</code>과 같은 고유한 해쉬 값을 가지고 있는데, 이 해쉬 값을 사용하여 어떠한 커밋으로든 자유자재로 이동할 수 있다. 예를 들면 <code class=\"language-text\">회원가입 비밀번호 입력 폼 추가</code> 커밋의 해쉬 값을 사용하여 <code class=\"language-text\">git checkout ca693fd</code> 명령어로 회원가입 비밀번호 입력 폼이 추가된 시점으로 이동할 수 있다는 것이다. 즉, 시간여행이 가능하다!</p>\n<p>이러한 커밋의 기능을 제대로 활용하기 위해서 커밋은 반드시 실행 가능한 단위로 해야한다. 더 쉽게 말하자면 특정 커밋으로 버전을 변경했을 때 어플리케이션이 제대로 실행되지 않고 에러가 발생하면 안된다는 것이다.</p>\n<p>그리고 위의 예제에서 볼 수 있듯이 커밋에는 메세지를 담을 수 있다. 이 메세지는 이 커밋으로 인한 변경 사항이 무엇인지 직접적으로 표현해주는 유일한 수단이므로 좋은 커밋 메세지를 작성하기 위한 고민은 필수다. 다행히도 이미 많은 개발자 분들이 좋은 커밋 메세지를 어떻게 작성해야 하는지에 대해 포스팅을 해주셨기 때문에 구글에서 한번 검색해보면 수두룩하게 나온다.</p>\n<p>참고로 커밋 메세지는 꼭 영어여야 할 필요는 없다. 조직에 따라서 커밋 메세지를 영어로만 작성하도록 강제하는 룰이 있을 수는 있지만, 사실 커밋 메세지는 결국 커뮤니케이션 수단이므로 언제 누가 보더라도 알아보기 쉽게만 작성하면 장땡이다. 그러니까 영어가 익숙하지 않은데도 불구하고 굳이 영어를 고집할 필요는 없다. 오히려 같이 협업하는 팀원들이 영어에 익숙하지 않다면 그 또한 불필요한 커뮤니케이션 비용이 될 수 있다.</p>\n<p>또한 커밋은 아직 리모트 서버에 파일을 전송하는 것이 아니라 사용자의 클라이언트 내에서 수행되는 과정이므로 인터넷에 연결이 되어 있지 않아도 변경 사항을 커밋하는 것은 아무런 지장이 없다.<small>(비행기에서 코딩할 때도 커밋까지는 가능하다!)</small></p>\n<p>사실 필자는 Git 뉴비일 때 이 커밋이라는 단어가 조금 헷갈렸었는데, 많은 개발자 분들이 <code class=\"language-text\">commit</code>과 <code class=\"language-text\">push</code>를 같은 의미로 사용하기 때문이었다. 하지만 이 두 명령어는 엄연히 다른 역할을 하기 때문에 되도록이면 구분해서 사용하도록 하자.</p>\n<h3 id=\"push\" style=\"position:relative;\">push<a href=\"#push\" aria-label=\"push permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8fb4fd3977a800aa1b5e49daad8abee0/0f98f/push.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB71Ggkhf/xAAYEAEBAAMAAAAAAAAAAAAAAAABAwIgIf/aAAgBAQABBQJ4To5On//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAARAQIg/9oACAEBAAY/AhTVZ//EABkQAQEAAwEAAAAAAAAAAAAAAAERACAhQf/aAAgBAQABPyFqoVPMqhXRmv8A/9oADAMBAAIAAwAAABA0D//EABcRAAMBAAAAAAAAAAAAAAAAAAEQESH/2gAIAQMBAT8QI21f/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAICFRgf/aAAgBAQABPxBZ+MbTEVC0RHRX/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"push\" title=\"\" src=\"/static/8fb4fd3977a800aa1b5e49daad8abee0/c08c5/push.jpg\" srcset=\"/static/8fb4fd3977a800aa1b5e49daad8abee0/0913d/push.jpg 160w,\n/static/8fb4fd3977a800aa1b5e49daad8abee0/cb69c/push.jpg 320w,\n/static/8fb4fd3977a800aa1b5e49daad8abee0/c08c5/push.jpg 640w,\n/static/8fb4fd3977a800aa1b5e49daad8abee0/6a068/push.jpg 960w,\n/static/8fb4fd3977a800aa1b5e49daad8abee0/eea4a/push.jpg 1280w,\n/static/8fb4fd3977a800aa1b5e49daad8abee0/0f98f/push.jpg 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>변경 사항들을 리모트 서버로 배송하는 push 명령어</small>\n</center>\n<p>커밋을 통해 포장된 변경 사항들은 <code class=\"language-text\">push</code> 명령어를 사용하여 리모트 서버로 업로드 된다. 이때는 커밋된 변경 사항들을 실제 리모트 서버에 전송하는 것이기 때문에 반드시 네트워크에 연결이 되어있어야 한다. 반대로 말하면 커밋까지는 굳이 네트워크에 연결되어있지 않아도 되는 것이기 때문에, 인터넷이 제한된 비행기 내부와 같은 환경에서는 커밋까지만 진행하고 목적지에 도착한 후 리모트 서버에 푸쉬하는 등의 행위도 가능하다.</p>\n<p>그리고 푸쉬할 때 반드시 A 로컬 브랜치는 A 리모트 브랜치에만 푸쉬해야 한다는 룰 따윈 없기 때문에 커밋들을 리모트 서버로 푸쉬할 때는 Git에게 “어떤 리모트 서버의 어떤 브랜치로 푸쉬할 것인지”도 함께 알려줘야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> push origin master <span class=\"token comment\"># origin 리모트 서버의 master 브랜치로 푸쉬해줘!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>근데 이게 브랜치 이름이 <code class=\"language-text\">master</code> 정도면 그래도 브랜치 이름을 매번 입력해줄만 하지만 <code class=\"language-text\">feature/SD-0000-request-api-refactoring</code> 정도 되면 브랜치 이름을 매번 입력한다는 것이 귀찮을 수도 있다.</p>\n<p>그래서 Git은 브랜치를 자동으로 추적할 수 있는 기능 또한 제공해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> push --set-upstream origin master</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">--set-upstream</code> 옵션을 사용하고 처음 한번만 브랜치 이름을 입력해주면 그 이후로는 <code class=\"language-text\">git push</code> 명령어만 입력해도 자동으로 처음 입력했던 브랜치로 변경 사항을 푸쉬할 수 있다.</p>\n<p>이렇게 해서 리모트 서버의 레파지토리에서 소스를 내 컴퓨터에 받아온 뒤 파일을 변경하고, 그 변경 사항을 리모트 서버에 다시 업데이트하는 <code class=\"language-text\">clone</code>, <code class=\"language-text\">add</code>, <code class=\"language-text\">commit</code>, <code class=\"language-text\">push</code>의 모든 과정을 한번 살펴보았다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 블로그 포스팅 한개로 Git에 대한 것들을 모두 설명한다는 것은 힘들기 때문에 다음 포스팅에서는 <code class=\"language-text\">branch</code>, <code class=\"language-text\">checkout</code>, <code class=\"language-text\">merge</code>, <code class=\"language-text\">revert</code>와 같이 버전을 실제로 관리하기 위해 사용하는 명령어와 그 개념에 대한 내용을 포스팅하려고 한다.</p>\n<p>Git은 현업에서 굉장히 많이 사용되고 있지만 정작 대학이나 학원같은 교육 기관에서는 약간 쩌리 취급 받는 것 같기도 하다. 뭐 사실 대학에서는 좀 더 원론적인 공학을 배우는 거지 코딩을 알려주는 곳은 아니기도 하고, 학원 같은 경우는 버전 관리 시스템을 가르칠 시간에 코딩을 알려주는 게 더 취업에 유리하니 그럴 수도 있을 것 같다. <small>(요즘에는 대학에 강사 분들이 오셔서 Git에 대해 강의하는 경우도 있다고 한다.)</small></p>\n<p>어쨌든 Git을 잘쓰면 다른 개발자가 개발한 모듈 중에 하나만 내 브랜치로 가져와야 한다거나, 커밋이 꼬여서 소스가 지워졌다거나하는 등 프로젝트를 진행할 때 발생하는 슬픈 상황들을 잘 헤결할 수도 있기 때문에 팀원들에게 이쁨받는 개발자가 될 수 있다.</p>\n<p>이상으로 Git 뉴비를 위한 기초 사용법 - 시작하기 포스팅을 마친다.</p>","fields":{"slug":"20190725-git-tutorial","path":"/2019/07/25/git-tutorial/","lang":"ko"},"frontmatter":{"title":"Git 뉴비를 위한 기초 사용법 - 시작하기","subTitle":"Git이 어려운 당신을 위한, 가장 쉬운 첫걸음","date":"Jul 25, 2019","categories":["프로그래밍","튜토리얼"],"tags":["튜토리얼","Git","Git 기초","Tutorial","Versioning","협업","버전관리","VCS","Version Control System"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/99213a89a950fbd4dc194cf9b6cfc530/d803c/thumbnail.png","srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/d803c/thumbnail.png 320w,\n/static/99213a89a950fbd4dc194cf9b6cfc530/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/fc5c5/thumbnail.webp 320w,\n/static/99213a89a950fbd4dc194cf9b6cfc530/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/99213a89a950fbd4dc194cf9b6cfc530/01fb2/thumbnail.png","srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/99213a89a950fbd4dc194cf9b6cfc530/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"1a39e8a2-cd36-519b-a474-9181c4206e69","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%B1%85%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%93%B0%EA%B2%8C-%EB%90%98%EC%97%88%EB%82%98\">책은 어떻게 쓰게 되었나?</a></p>\n<ul>\n<li><a href=\"#%EC%86%90%EC%97%90-%EC%9E%A1%ED%9E%88%EB%8A%94-%EC%9E%91%ED%92%88%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EA%B3%A0-%EC%8B%B6%EB%8B%A4\">손에 잡히는 작품을 만들어 보고 싶다.</a></li>\n<li><a href=\"#%EC%B1%85%EC%9D%84-%EC%93%B0%EB%A9%B4%EC%84%9C-%EB%82%B4-%EC%A7%80%EC%8B%9D%EB%8F%84-%EC%A0%95%EB%A6%AC%ED%95%98%EC%9E%90\">책을 쓰면서 내 지식도 정리하자.</a></li>\n<li><a href=\"#%EC%83%9D%EA%B0%81%EB%B3%B4%EB%8B%A4-%EC%BD%94%EB%94%A9%EC%9D%84-%EB%B0%B0%EC%9A%B0%EA%B8%B0-%EC%9C%84%ED%95%B4%EC%84%9C-%EC%B1%85%EC%9C%BC%EB%A1%9C-%EC%9E%85%EB%AC%B8%ED%95%98%EB%8A%94-%EC%82%AC%EB%9E%8C%EC%9D%B4-%EB%A7%8E%EC%95%98%EB%8B%A4\">생각보다 코딩을 배우기 위해서 책으로 입문하는 사람이 많았다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B1%85%EC%9D%84-%EC%93%B0%EA%B8%B0-%EC%A0%84%EC%97%90\">책을 쓰기 전에</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%B2%98%EB%9F%BC-%EC%A7%91%ED%95%84%ED%95%98%EC%9E%90\">개발자처럼 집필하자!</a></p>\n<ul>\n<li><a href=\"#markdown%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%B1%85-%EC%A7%91%ED%95%84%ED%95%98%EA%B8%B0\">Markdown을 사용하여 책 집필하기</a></li>\n<li><a href=\"#git%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%AC%B8%EC%84%9C%EC%9D%98-%EB%B2%84%EC%A0%84%EA%B4%80%EB%A6%AC\">Git을 이용한 문서의 버전관리</a></li>\n<li><a href=\"#%EB%AC%B8%EC%84%9C-%EC%BB%A8%EB%B2%84%ED%8C%85-%ED%95%98%EA%B8%B0\">문서 컨버팅 하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B3%B5%EB%8F%99-%EC%A7%91%ED%95%84-%EA%B3%BC%EC%A0%95%EC%97%90%EC%84%9C%EC%9D%98-%EC%B6%A9%EB%8F%8C\">공동 집필 과정에서의 충돌</a></p>\n<ul>\n<li><a href=\"#%EC%84%A4%EA%B3%84%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B4%80%EC%A0%90%EC%9D%98-%EC%B0%A8%EC%9D%B4\">설계에 대한 관점의 차이</a></li>\n<li><a href=\"#%EC%9D%BC%ED%95%98%EB%8A%94-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4\">일하는 스타일의 차이</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B1%85-%EB%A6%AC%EB%B7%B0%ED%95%98%EA%B8%B0\">책 리뷰하기</a></p>\n<ul>\n<li><a href=\"#%EC%8A%A4%ED%84%B0%EB%94%94%EC%9B%90%EB%93%A4%EC%9D%98-%EB%A6%AC%EB%B7%B0\">스터디원들의 리뷰</a></li>\n<li><a href=\"#%ED%98%84%EC%97%85-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%B6%84%EB%93%A4%EC%9D%98-%EB%A6%AC%EB%B7%B0\">현업 개발자분들의 리뷰</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"필자는 최근 커피 한잔 마시며 끝내는 VueJS라는 책을 집필했다. 필자는 책처럼 긴 글을 적는 게 사실 처음이라, 책을 쓰는 과정이나 책을 출판하는 과정에 대해서 무지한 상태로 집필을 시작했고 그래서 중간에 우여곡절도 꽤 많았다. 그래서 이번 포스팅에서는 필자와 같이 책을 집필하고 싶어하는 분들을 위해서 2018년 8월부터 2019년 7월까지 책을 집필했던 과정과 어려움에 대해서 이야기 해보려고 한다. 책은 어떻게 쓰게 되었나? 먼저 책을 집필하게 된 계기는 친구인 김영훈 개발자로부터 함께 책을 공동집필해보자는 제의를 받았기 때…","html":"<p>필자는 최근 <a href=\"https://m.yes24.com/Goods/Detail/76639545\" target=\"_blank\" rel=\"nofollow\">커피 한잔 마시며 끝내는 VueJS</a>라는 책을 집필했다. 필자는 책처럼 긴 글을 적는 게 사실 처음이라, 책을 쓰는 과정이나 책을 출판하는 과정에 대해서 무지한 상태로 집필을 시작했고 그래서 중간에 우여곡절도 꽤 많았다.</p>\n<p>그래서 이번 포스팅에서는 필자와 같이 책을 집필하고 싶어하는 분들을 위해서 2018년 8월부터 2019년 7월까지 책을 집필했던 과정과 어려움에 대해서 이야기 해보려고 한다.</p>\n<h2 id=\"책은-어떻게-쓰게-되었나\" style=\"position:relative;\">책은 어떻게 쓰게 되었나?<a href=\"#%EC%B1%85%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%93%B0%EA%B2%8C-%EB%90%98%EC%97%88%EB%82%98\" aria-label=\"책은 어떻게 쓰게 되었나 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>먼저 책을 집필하게 된 계기는 친구인 김영훈 개발자로부터 함께 책을 공동집필해보자는 제의를 받았기 때문이었다. 사실 필자는 대학 교양 레포트 이후로 몇 개의 블로그 포스팅와 회사의 기술 문서 작성을 제외하면 글을 써본 적이 없었다. 지금 이 블로그의 포스트 아카이브를 봐도 한눈에 알 수 있는데, 본격적으로 블로그 뽕에 취하기 전인 2019년 6월 이전에는 지금처럼 일주일에 한두번씩 글을 쏟아내는 정도가 아닌 그냥 생각날 때 간간히 쓰는 수준이었다.</p>\n<p>게다가 저 친구의 제의를 처음 받았을 때 이걸 쓸지 말지 두 가지 이유 때문에 고민을 조금 했었는데, 그 중 첫 번째 이유는 “내가 책을 쓸 실력이 되나?”였다. 그리고 두 번째 이유가 조금 치명적인데…</p>\n<blockquote>\n<p>사실 필자는 대학 교재 이후로 기술 서적을 읽어본 적이 없는 사람이다.</p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a077827ec7796d1721f846e67ab4cd58/588f6/what.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAczKF2JDx//EABsQAAEEAwAAAAAAAAAAAAAAAAABAhIhAxEx/9oACAEBAAEFAk21cjiZUaE5/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQACIf/aAAgBAwEBPwHGRZe3/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EAB0QAAIABwEAAAAAAAAAAAAAAAABAhARISIxMkH/2gAIAQEABj8CpCzF+mky6OZf/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBkdH/2gAIAQEAAT8hxBvawLvmslZAh7WKgWbLr9QiWp//2gAMAwEAAgADAAAAEMQv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oACAEDAQE/EFA7MIL/xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhMf/aAAgBAgEBPxCWCof/xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhMZFB/9oACAEBAAE/ECpFJpUnzbikoDVHHfb7hgBw175gESXbG7m+4361INawjRTlz//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"what\" title=\"\" src=\"/static/a077827ec7796d1721f846e67ab4cd58/588f6/what.jpg\" srcset=\"/static/a077827ec7796d1721f846e67ab4cd58/0913d/what.jpg 160w,\n/static/a077827ec7796d1721f846e67ab4cd58/cb69c/what.jpg 320w,\n/static/a077827ec7796d1721f846e67ab4cd58/588f6/what.jpg 549w\" sizes=\"(max-width: 549px) 100vw, 549px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이렇게 또 책밍아웃을 합니다...</small>\n</center>\n<p>필자는 독서를 좋아하긴 하지만, 공부에 있어서는 “인터넷이 더 편한데?”라고 생각하는 쪽이라서 기술 서적보다는 소설이나 에세이, 조직 문화나 철학 같이 기술과는 관련 없는 책을 주로 읽는 편이다.</p>\n<p>게다가 필자의 포스팅을 몇번 보신 분들은 아실지도 모르겠지만 필자의 공부 스타일이 책을 하나 하나 읽어보면서 기초부터 하는 스타일은 아니다. 일단 뭘 만들지부터 정해놓고 그때그때 필요한 정보를 찾고 습득한 후에 바로 사용하고 넘어가는 스타일이다. <small>(물론 그래서 지식의 깊이는 넓고 얕은 편이다.)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6b892b18c7b5396515cda321b3f504ea/9568a/books.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAYAQACAwAAAAAAAAAAAAAAAAACBAABA//aAAwDAQACEAMQAAABwVdrPKgvC1VENaAzZ//EABwQAAICAgMAAAAAAAAAAAAAAAECAAMEERITIv/aAAgBAQABBQJcZmhpOxQqynZlgjn3jueTseqxtv8A/8QAGREAAgMBAAAAAAAAAAAAAAAAAAECITEy/9oACAEDAQE/AVolRHpEcP/EABURAQEAAAAAAAAAAAAAAAAAABAB/9oACAECAQE/ASn/xAAdEAADAAAHAAAAAAAAAAAAAAAAAQIDEBEhQXKB/9oACAEBAAY/AuMtK3ZhCrwZCJ7DP//EABoQAQADAQEBAAAAAAAAAAAAAAEAETEhQWH/2gAIAQEAAT8hzGy0DAMvPYckA6RWN1ZSWcXiDj7MqqmK+aiL5s//2gAMAwEAAgADAAAAEF/PP//EABoRAAICAwAAAAAAAAAAAAAAAAABITERcZH/2gAIAQMBAT8QZQdZIkCdCnR//8QAGBEBAQADAAAAAAAAAAAAAAAAAQARMUH/2gAIAQIBAT8QSUzdTu//xAAcEAEAAwEAAwEAAAAAAAAAAAABABEhMUFRcZH/2gAIAQEAAT8QLA1wKfPfXJQtTrCDzfmxwehyGEoq2LtCxTzaybK24Ky/3FcAZnuXNXF+EfIF4DJ//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"books\" title=\"\" src=\"/static/6b892b18c7b5396515cda321b3f504ea/c08c5/books.jpg\" srcset=\"/static/6b892b18c7b5396515cda321b3f504ea/0913d/books.jpg 160w,\n/static/6b892b18c7b5396515cda321b3f504ea/cb69c/books.jpg 320w,\n/static/6b892b18c7b5396515cda321b3f504ea/c08c5/books.jpg 640w,\n/static/6b892b18c7b5396515cda321b3f504ea/6a068/books.jpg 960w,\n/static/6b892b18c7b5396515cda321b3f504ea/eea4a/books.jpg 1280w,\n/static/6b892b18c7b5396515cda321b3f504ea/9568a/books.jpg 3024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>필자의 독서 취향은 이 쪽에 가깝다.(왠지 스파이가 하나 껴있는 것 같지만 신경쓰지말자.)</small>\n</center>\n<p>그럼 왜 책을 쓰게 되었냐? 뭐 여러가지 이유가 있겠지만 몇가지로 추려보자면 대충 이렇다.</p>\n<blockquote>\n<ol>\n<li>코드 같은 무형의 작품이 아니라 내 손에 잡히고 내 눈에 보이는 유형의 작품을 만들어 내보고 싶다.</li>\n<li>책을 쓰면서 내가 두루뭉술하게 알고 있던 지식을 정리할 수 있지 않을까?</li>\n<li>생각보다 코딩을 배우기 위해서 책으로 입문하시는 분들이 많았다.</li>\n</ol>\n</blockquote>\n<p>필자가 책 쓴다고 하니까 몇몇 분들께서 “와, 에반! 이제 책으로도 돈벌겠네요?”라는 드립을 간간히 쳐주셨는데 애초에 책을 팔아서 벌 수 있는 돈은 생각보다 많지 않다고 생각했기 때문에 별로 기대를 안했다.</p>\n<p>오히려 필자에게는 책이 돈을 벌 수 있는 부수입이라기보다 책을 집필했다는 나 자신의 만족과 내가 알고 있는 무엇인가를 다른 사람들에게 알릴 수 있는 점에서 매력으로 다가왔기 때문에 집필 제의를 받아들일 수 있었던 것 같다.</p>\n<p>그건 이 블로그도 마찬가지인데, 이 블로그로 돈을 벌어봤자 솔직히 얼마나 벌겠는가? 애초에 필자의 포스팅들은 대중적으로 소비할 수 있는 컨텐츠가 아니다. 그렇기 때문에 블로그가 진짜 흥해서 많이 벌어봤자 한달에 한 100만원 벌면 많이 버는 거다.</p>\n<p>물론 100만원이 작은 돈은 아니지만 그렇다고 내 인생이 바뀌는 돈도 아니니 별 의미는 없다고 생각한다. 그래서 필자는 그냥 필자의 생각과 지식을 다른 사람과 공유하고 싶은 마음으로 블로그를 운영하고 있다.</p>\n<h3 id=\"손에-잡히는-작품을-만들어-보고-싶다\" style=\"position:relative;\">손에 잡히는 작품을 만들어 보고 싶다.<a href=\"#%EC%86%90%EC%97%90-%EC%9E%A1%ED%9E%88%EB%8A%94-%EC%9E%91%ED%92%88%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EA%B3%A0-%EC%8B%B6%EB%8B%A4\" aria-label=\"손에 잡히는 작품을 만들어 보고 싶다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 개발자다 보니까 매일 프로그램을 만들어 낸다. 하지만 프로그램은 현실에 존재하는 물건이라는 느낌이라기 보다는 좀 더 추상적인 느낌으로 다가온다. 손으로 만질 수도 없고 냄새를 맡아볼 수도 없는 그런 무형의 개념체 같은 느낌이다.</p>\n<p>하지만 필자에게 책이라고 하면 딱 떠오르는 이미지는 새 책을 펼쳤을 때 풍기는 종이 냄새, 책꽂이에서 책을 꺼내올 때 느껴지는 감촉, 책장을 하나하나 넘길 때 들리는 소리와 같이 여러가지 감각이 함께 하는 공감각적인 이미지이기 때문에 프로그램을 만드는 것과는 매우 다르게 다가왔던 것 같다. 결과물이 기계적인 무언가가 아니라 어떤 형태를 지닌 물건으로 나온다는 것이 굉장히 새로운 느낌이었다.</p>\n<p>그리고 결정적으로 필자는 5살 때부터 할아버지 손 붙잡고 광화문 교보문고를 굉장히 자주 다닌 교보문고 빠돌이다. 그런 추억이 있는 광화문 교보문고에 내가 쓴 책이 진열될수도 있다는 것을 상상하니 뭔가 기분이 뭉클하면서도 묘했던 것 같다.</p>\n<h3 id=\"책을-쓰면서-내-지식도-정리하자\" style=\"position:relative;\">책을 쓰면서 내 지식도 정리하자.<a href=\"#%EC%B1%85%EC%9D%84-%EC%93%B0%EB%A9%B4%EC%84%9C-%EB%82%B4-%EC%A7%80%EC%8B%9D%EB%8F%84-%EC%A0%95%EB%A6%AC%ED%95%98%EC%9E%90\" aria-label=\"책을 쓰면서 내 지식도 정리하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자가 Vue에 관한 책을 쓰긴 했지만, 당연히 Vue에 대한 모든 것을 완벽하게 알고 있는 상태로 책의 집필을 시작한 건 아니다. 물론 2년 동안 Vue를 사용했던 짬이 있으니 익숙하긴 하지만, 무언가에 익숙하다는 사실이 잘한다는 사실로 이어질 수는 없다.</p>\n<p>그래서 필자도 다시 기초부터 Vue를 쭉 공부한다는 생각으로 공식 문서부터 다시 읽어봤다. 가만보면 이런 점이 블로그 포스팅과 비슷한데, 예를 들어서 Vue의 라이프 사이클에 대한 글을 작성한다고 하면 당연히 대부분의 사람들은 리서치를 한다. 왜냐면 내가 알고 있는 것이 정답이라고 확신하지 못하기 때문이다. 이런 점에서 보면 책이든 블로그든 불특정 다수의 사람들이 내 글을 읽는다는 점에서 느껴지는 부담감은 비슷한 것 같다.</p>\n<p>게다가 필자는 사실 Vue를 따로 공부했던 적이 없다. 그냥 회사에 입사했는데 그 회사에서 Vue를 이미 도입한 상태였기 때문에 필자도 Vue를 사용한 게 시작이었고, 그 이후로는 그냥 비즈니스를 개발하면서 필요한 건 그때그때 찾아보면서 사용했었다. <small>(그래서 입사 초반에 작성한 컴포넌트를 보면 완전 개판 오분전이다.)</small></p>\n<p>이런 이유로 필자는 “기왕 이렇게 된 김에 VueJS에 대한 내 지식을 제대로 한번 다져보자”라고 생각하게 되었던 것이다.</p>\n<h3 id=\"생각보다-코딩을-배우기-위해서-책으로-입문하는-사람이-많았다\" style=\"position:relative;\">생각보다 코딩을 배우기 위해서 책으로 입문하는 사람이 많았다.<a href=\"#%EC%83%9D%EA%B0%81%EB%B3%B4%EB%8B%A4-%EC%BD%94%EB%94%A9%EC%9D%84-%EB%B0%B0%EC%9A%B0%EA%B8%B0-%EC%9C%84%ED%95%B4%EC%84%9C-%EC%B1%85%EC%9C%BC%EB%A1%9C-%EC%9E%85%EB%AC%B8%ED%95%98%EB%8A%94-%EC%82%AC%EB%9E%8C%EC%9D%B4-%EB%A7%8E%EC%95%98%EB%8B%A4\" aria-label=\"생각보다 코딩을 배우기 위해서 책으로 입문하는 사람이 많았다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>앞서 얘기했듯이 필자는 “공부는 책보다는 인터넷이 편하지!”라고 생각하는 사람이라서 기술 서적에 대한 시각이 회의적인 편이었다. 그래서 처음 친구가 공동 집필 제의를 해줬을 때도 책을 쓴다는 것 자체가 조금은 의미 없는 일로 느껴졌고 “요즘 시대에 누가 책보고 공부하냐? 다 인터넷으로 검색해서 하지.”라는 말도 했었는데, 그 친구 말이 딱 이랬다.</p>\n<blockquote>\n<p>야, 처음 공부하시는 분들은 인터넷에서 어떤 키워드로 뭘 찾아봐야 하는지도 알기 힘들수도 있어.</p>\n</blockquote>\n<p>이 얘기를 듣고 필자가 생각이 많이 짧았다는 것을 바로 깨달을 수 있었다. 어디선가 “인간은 무의식적으로 타인에게 자신의 모습을 투영하려고 한다”라는 글을 본 적이 있는데, 필자가 딱 그 모양이었던 것이다.</p>\n<p>필자가 늘 인터넷으로 공부하는 것이 익숙했기 때문에 당연히 다른 분들도 그럴 것이라 생각했던 것인데, 기본적으로 인터넷으로 공부를 한다는 것은 어떤 키워드로 구글링을 해야 내가 원하는 정보가 나오는 지 알고 있다는 전제가 필요하다는 사실을 잊고 있었다.</p>\n<p>당연히 처음 개발을 접하거나 혹은 구글링이 익숙하지 않은 분들은 이런 점에서 진입 장벽을 느낄 수 있는데, 필자는 그 부분을 생각 안하고 있던 것이다. 그래서 친구의 저 말을 듣고 필자는 이런 마음이 들었다.</p>\n<blockquote>\n<p>상대적으로 진입 장벽이 낮은 책을 통해 공부한 후에 혼자 구글링을 할 수 있는 역량을 만드는 게 더 나을 수 있겠다.</p>\n</blockquote>\n<p>물론 당연히 책 한권 읽었다고 갑자기 Vue의 절대 고수가 되거나 그런건 아니겠지만, 적어도 책을 읽고 전반적인 내용을 이해한 후에 더 알아보고 싶은 것은 혼자서 키워드를 찾아내서 구글링 및 공부를 할 수 있는 능력을 독자 분들이 가질 수 있도록 도와주고 싶었다.</p>\n<p>이 이외에도 이력서에 뭐라도 한줄 더 쓸 수 있다거나 “작가라니 조금 근사한 걸…?”처럼 좀 깨는 이유도 있고 “개발랭이들의 생태계에 조금이라도 도움이 될 수 있겠다”라는 이타적인 이유도 있었지만 필자의 동기 부여에 큰 영향을 끼친 대표적인 이유는 저 위의 3가지였다. 결국 고민 끝에 2018년 8월 말, 필자는 친구 손을 잡고 고난의 길로 들어서게 되었다.</p>\n<h2 id=\"책을-쓰기-전에\" style=\"position:relative;\">책을 쓰기 전에<a href=\"#%EC%B1%85%EC%9D%84-%EC%93%B0%EA%B8%B0-%EC%A0%84%EC%97%90\" aria-label=\"책을 쓰기 전에 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>친구와 공동 집필이 결정된 후 제일 먼저 출판사 직원분과 역삼역 근처 카페에서 간단한 미팅을 가졌다. 내용은 뭐 대략 집필 계획서를 보내달라, 인세는 어떻게 나온다, 계약은 어떻게 진행될 것이다와 같은 간단한 내용들이었다.</p>\n<p>이때까지만 해도 필자와 친구는 대략 “이러이러한 내용을 써야겠다” 정도로만 얘기가 된 상태였지만 이제 출판사에 보낼 집필 계획서를 작성하기 위해 상세한 논의를 해야했다. 이때 협의되었던 몇가지 내용들 중 핵심 포인트는 “이 책을 읽고 회사에 입사했을 때 최소한 어플리케이션 개발 자체는 할 수 있어야 한다”였다.</p>\n<p>이 얘기는 지금 시중에 나와있는 다른 Vue 책을 몇개 읽어보고 나서 나오게 된 것이다. 시중에 판매되고 있는 책들은 대부분 해당 기술에 대한 API나 기술의 원리 등을 중점으로 설명하고 있었고, 예제 또한 간단한 To Do 리스트 또는 그와 비슷한 아키텍처를 가지는 작은 어플리케이션을 만들어 보는 편이었다.</p>\n<p>이런 책들을 읽어보며 필자와 친구가 느꼈던 아쉬운 점은 “이걸 읽고 바로 실무에 투입되면 일을 할 수 있나?”라는 점이었다.</p>\n<p>아무리 책을 통해 Vue의 API가 어떤 것이 있는지, 라이프 사이클은 어떤 순서로 실행 되는 지와 같은 지식을 익혔다고 해도 회사에 입사한 후에 신입 개발자가 마주하는 문제들은 “어떤 라이프 사이클에 이 로직을 넣을까?”같은 단순한 문제가 아니라 “컴포넌트는 어떤 단위로 나누어야 하나?”, “API 통신 로직은 컴포넌트에 있어야 할까? 아니면 Vuex 스토어에 있어야 할까?”, “유저가 로그인한 상태는 어떻게 관리해야하지?”와 같이 한 수준 더 높은 문제들이다.</p>\n<p>그래서 필자는 독자 분들이 이 책의 예제를 한번 작성해보고 회사에 갔을 때, 그 문제를 해결하는 건 둘째치고 “어, 이거랑 비슷한거 언제 한번 해봤는데?”라는 생각이 들게 하는 것만 해도 성공이라고 생각했고 친구도 필자와 동일하게 생각하고 있었기 때문에 책의 큰 방향을 정하는 건 어렵지 않았다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 484px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b3c3597b655396c4c38d530c43a47da5/ff42b/plans.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACdElEQVR42q1VS4/TMBDO/78hxAEJiRsHThwQEkIIcYATatG2tLtd+kjSNG2Tps37aX/M2A3bpj30sI5Gntieycw3nycGaNQNnm0Yfizx6kuBgS3otcFofI/ZbAbLttHv/4azWsG0LPR7PYxGY8RJgiDYUxANJFl0xYhziQ+/asw9veR5Hna+jzSJSd+omWWzduF7W1RliSxNIIW4HmGcCxSVQFoIRJlAVkmkpURSPM1Kr7Tw+YSCiLIGIQnbRP9nASMhR1mpRetSCTtj51kFvVZL5OpdqL2c1vNan9Mf1vZGkEi8+VZi7HDKQuFn2xYcZ4nh4E6l6ixJHw4w/TvBkvYYEsucY/JwjyzLEIUH1FWlU44o/Hc/KjyuhcJw6bjYbDaIohjueo0wDEmP6CMOXNfFfr9HQoXxyema9itylCQp6iNVDKHAFZBSgnWebxEeXZ3tDb1wefB0dNe7Dk8DMfaE4dvvJR7cFsM5loTZivg3HA6x3W5VavzuOI6SNE1V6kVRXNLmkEq8/lpi5GgMbXsJl4wZOzYOgkAZe+SYOcofyPNcFaM6FuLM4ROGQoWOK2l0sWv3eO6KIfggPTxr/Ry7a0WQR6fKuZRnYoTE7vc/I8y3tYrUNC1YdHdN01Sy2+2ISo7SGUfGkylT0hWM4/iigETsBi8+BfhjlwrDBRkuFgtVGHbM+LE+nU4VD3mNseWC8N6FQw6zacRZyvKEGqJLo/ZMu99NuVuUa4VoAW+oZXHbak7koijcvj72apj+sX0RPowRU4RTZQwZL6bKTQ2Wm8PLzyXurPYurxT4NjXYyWSieMdEPhwOtzlsfwHymX4B/wCJuw6H/YhU0QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"plans\" title=\"\" src=\"/static/b3c3597b655396c4c38d530c43a47da5/ff42b/plans.png\" srcset=\"/static/b3c3597b655396c4c38d530c43a47da5/69538/plans.png 160w,\n/static/b3c3597b655396c4c38d530c43a47da5/72799/plans.png 320w,\n/static/b3c3597b655396c4c38d530c43a47da5/ff42b/plans.png 484w\" sizes=\"(max-width: 484px) 100vw, 484px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>어디선가 많이 본 짤이 떠오르는 장면</small>\n</center>\n<p>책의 큰 방향이 정해진 후 필자와 친구는 퇴근 후에 일주일에 한두번은 꼭 만나서 근처 카페로 간 뒤에 집필 계획서를 함께 작성하기 시작했다. 집필 계획서에는 대략 이런 정보가 포함된다.</p>\n<blockquote>\n<ol>\n<li>제목(가제)</li>\n<li>작성자</li>\n<li>작성일</li>\n<li>책의 핵심 컨셉</li>\n<li>내용 요약 및 특징</li>\n<li>이 책과 관련된 기술의 동향</li>\n<li>예상되는 탈고 날짜</li>\n</ol>\n</blockquote>\n<p>이외에도 몇가지 정보가 더 있지만 큰 틀은 대충 이렇다. 이때 작성한 집필 계획서는 향후 출판사가 책을 홍보할 때 사용하는 자료이기도 한 만큼 되도록이면 자세하게 작성하는 것이 좋다.</p>\n<p>어쨌든 출판사에서 요구한 대로 집필 계획서를 작성해서 제출한 뒤 본격적인 집필을 시작했다.</p>\n<h2 id=\"개발자처럼-집필하자\" style=\"position:relative;\">개발자처럼 집필하자!<a href=\"#%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%B2%98%EB%9F%BC-%EC%A7%91%ED%95%84%ED%95%98%EC%9E%90\" aria-label=\"개발자처럼 집필하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>처음에는 구글 독스(Google Docs)를 사용하여 집필을 시작했다. 구글 독스는 H1, H2과 같은 글꼴 스타일 기능을 제공해주기 때문에 미리 합의한 스타일을 정해놓고 문서를 작성할 수 있었다. 하지만 구글 독스로 챕터 3개 정도를 작성했을 때, 필자는 구글 독스가 굉장히 비생산적이라는 생각이 들기 시작했다.</p>\n<p>글꼴을 변경하거나 이미지를 첨부하는 등의 행위를 할 때 변경하고자 하는 부분에 커서를 위치시킨 뒤 마우스로 메뉴를 클릭해서 진행해야하는 방식이 너무 번거로웠고, 그때마다 집중의 흐름이 끊겨서 불편했다. 게다가 각 챕터 별로 문서를 새로 만들때마다 글꼴 스타일을 출판사 규격에 맞게 매번 설정해줘야 한다는 점 또한 생산성을 저하시켰다.</p>\n<p>그리고 필자와 친구는 서로 놓치고 간 부분을 잡아주거나 문체의 통일을 위해 구글 독스 문서에 코멘트를 남기는 방식으로 서로 작성한 부분을 리뷰했다. 그러나 이 방식은 필자가 생각하기에 조금 비생산적이었는데, 리뷰를 하는 입장에서는 이번에 추가된 내용이 무엇인지, 삭제된 내용이 무엇인지 알기 힘들었고, 리뷰를 받는 입장에서는 댓글이 문서의 어느 부분에 달렸는지도 한 눈에 알아보기가 힘들었다.</p>\n<p>그래서 필자는 “어떻게 하면 글쓰기 외의 다른 행동에 시간을 쓰지 않고 글쓰기에만 집중할 수 있을까?” 라는 고민을 하기 시작했다.</p>\n<h3 id=\"markdown을-사용하여-책-집필하기\" style=\"position:relative;\">Markdown을 사용하여 책 집필하기<a href=\"#markdown%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%B1%85-%EC%A7%91%ED%95%84%ED%95%98%EA%B8%B0\" aria-label=\"markdown을 사용하여 책 집필하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자가 고민한 결과로 선택한 것은 바로 마크다운(Markdown) 포맷이었다. 필자와 친구 둘 다 개발자이기 때문에 일단 마크다운 포맷은 우리에게 굉장히 익숙한 포맷이었고, 문서의 전체적인 스타일도 이미 정해져있기 때문에 스타일에 관한 걱정이나 별다른 작업 없이 계속 글쓰기에만 집중할 수 있을 것 같았다.</p>\n<p>하지만 출판사는 MS Word를 사용하여 원고를 관리하니 결국 출판사에 원고를 보낼 때는 docx 파일로 보내야 하며, 다른 리뷰어 분들에게 책에 대한 리뷰를 받을 때에는 pdf 파일로 보내드려야 했다. 그래서 마크다운 파일을 docx나 pdf 파일로 컨버팅할 수 있는 방법을 찾아야 했다.</p>\n<p>그래서 찾아낸 게 <a href=\"https://pandoc.org/\" target=\"_blank\" rel=\"nofollow\">pandoc</a>과 <a href=\"https://github.com/alanshaw/markdown-pdf\" target=\"_blank\" rel=\"nofollow\">markdown-pdf</a>라는 라이브러리였다. <code class=\"language-text\">pandoc</code>은 홈페이지에 Universal Document Converter라고 홍보하고 있을 만큼 다양한 포맷의 문서 변환을 지원해준다. 물론 마크다운을 docx로 컨버팅하는 기능도 지원한다. 하지만 마크다운을 pdf로 컨버팅하는 기능은 지원하지 않기 때문에 해당 기능을 구현하기 위해 다른 라이브러리를 찾아야했는데, 그 과정에서 <code class=\"language-text\">markdown-pdf</code>라는 라이브러리를 찾았다.</p>\n<p>여기까지 리서치를 마친 필자는 친구에게 구글 독스에서 마크다운으로 갈아타자는 제안을 했고, 친구도 고민 끝에 수락하여 이후 책의 집필은 모두 마크다운과 깃(Git)을 사용하여 진행했다.</p>\n<h3 id=\"git을-이용한-문서의-버전관리\" style=\"position:relative;\">Git을 이용한 문서의 버전관리<a href=\"#git%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%AC%B8%EC%84%9C%EC%9D%98-%EB%B2%84%EC%A0%84%EA%B4%80%EB%A6%AC\" aria-label=\"git을 이용한 문서의 버전관리 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>구글 독스를 사용할 때 겪었던 또 다른 문제점 중 하나가 바로 문서의 버전관리가 힘들다는 것이다. 물론 구글 독스도 <code class=\"language-text\">파일 > 버전기록</code> 메뉴에 들어가면 각 버전에서 추가된 내용이나 삭제된 내용을 확인할 수 있지만, 그 버전이 정확히 어떤 단위로 묶인 단위인지 명확하지않다는 것이 단점이다.</p>\n<p>하지만 깃을 사용하면 커밋을 할 때 의미있는 단위로 나누고 정확한 커밋 메세지를 작성함으로써 정확히 문서의 어떤 부분을 수정했는지 상대방에게 알릴 수 있다. 또한 일정 단위의 문서를 작성하고나면 풀 리퀘스트(Pull Request)를 통해 상대방에게 리뷰를 받는 식으로 서로 작성한 부분에 대해서 최소 1번 이상은 리뷰를 하도록 할 수 있다.</p>\n<p>그래서 필자와 친구는 깃허브(Github)에 레파지토리를 하나 생성하고 챕터 단위로 하나씩 맡아서 집필을 진행하되, 내용을 마스터 브랜치에 머지하고 싶을 땐 반드시 풀 리퀘스트를 보내고 머지하도록 협의하였고 그 결과 서로 작성한 부분이 아니더라도 내용을 파악하는데 큰 어려움이 없이 집필을 진행할 수 있었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4ab6fb78bbb128bf0fd837c9b548a5ae/6569d/review.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 69.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9klEQVR42pWUDY+cIBCG/f9/rW2aXu9y7tb1E79FRF1PQPbtwDbpJU3bPZMnw4CMA/OOgVxWdANHz0e0/YCm6yFlA9F/xrpkOCxgjoOwf3DQvDYG6h3BVlRYLxlUXuHadhiyDqKoMeQnjCyFqBrIusXcdJAOGk805xjLGlpI2HnFIRcYssF2jrC/hMAlhXabsxIiLjDQR8Y4Q3v+gSnNyE/QRzFxAaexzAvotoel04ELz22cELSmQ6lKFNccfOfIuwKMMyR1irTNEdcJ4ipBVMaI2AUXsm4t63IUfYFiYBBqgjQSUs0I4ijEKXxCwwewukJHdhAC132HPoy/v8Na2NvtF7/HxtIa+ZrsdX/zfrCMA2TfYqCijOOIjorCOcc8L+QLLFS0R54bfcARvIYnfPry1QdjZQXGSm85+ZOcIWeC7L8eSyfY6UTOBkmS4HQ6+wkx0V1I6YO0HVVbTJThAqXU4xlGVLVv35/95rpuUDctGmIkf12v2LYNy7q6HY9leCbZPPmAAjlJoW4aJGmKljSptPbiNSTY/2Xn3vMZcipI31TYlfEBjLmr33G4brB37t3yd9y7SlOnJOcQcfiMeX2D1vdM3KL2gT/GrjQCF51Rh5QEq2rEWYGJJPP+oh/FaTNwxxReHivcj2Kintx2V9XbxwNai5/EnTY9Y+pYrwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"review\" title=\"\" src=\"/static/4ab6fb78bbb128bf0fd837c9b548a5ae/6af66/review.png\" srcset=\"/static/4ab6fb78bbb128bf0fd837c9b548a5ae/69538/review.png 160w,\n/static/4ab6fb78bbb128bf0fd837c9b548a5ae/72799/review.png 320w,\n/static/4ab6fb78bbb128bf0fd837c9b548a5ae/6af66/review.png 640w,\n/static/4ab6fb78bbb128bf0fd837c9b548a5ae/d9199/review.png 960w,\n/static/4ab6fb78bbb128bf0fd837c9b548a5ae/21b4d/review.png 1280w,\n/static/4ab6fb78bbb128bf0fd837c9b548a5ae/6569d/review.png 1328w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>리뷰를 하면 좋은 점.jpg</small>\n</center>\n<p>물론 나중에 전체 리뷰를 할 때 한번에 고쳐야 될 부분이 많아지는 경우가 있어서 충돌(Merge Conflict) 때문에 조금 고생하기는 했지만, 구글 독스로 진행했다면 두 명이 동시에 수정한 부분이 어딘지도 모르고 넘어갔을 가능성이 컸을 것이다.</p>\n<h3 id=\"문서-컨버팅-하기\" style=\"position:relative;\">문서 컨버팅 하기<a href=\"#%EB%AC%B8%EC%84%9C-%EC%BB%A8%EB%B2%84%ED%8C%85-%ED%95%98%EA%B8%B0\" aria-label=\"문서 컨버팅 하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 작성된 문서는 중간중간 PDF로 변경되어 부분 출판되었다. 밑에서 다시 설명하겠지만, 집필 초기에 친구가 제안했던 “책의 타겟 독자층을 모집해서 우리 책으로 스터디를 진행해보자”라는 아이디어를 냈었다. 그래서 매주 토요일마다 집필된 책을 참고 자료로 사용하여 스터디를 진행하고 있었기 때문에 지속적으로 md 파일을 pdf로 변경해야했었다.</p>\n<p>그래서 <code class=\"language-text\">markdown-pdf</code> 라이브러리를 사용하여 간단한 출판 스크립트를 작성했고 챕터 하나의 집필이 끝날 때 지속적으로 부분 출판하여 스터디에 참여하신 분들이 끊기지 않고 진도를 나갈 수 있도록 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// vuejs-book/scripts/publish.js</span>\n<span class=\"token function\">glob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'book/**/*.md'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> mdFiles</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> pdfFilePaths <span class=\"token operator\">=</span> mdFiles<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Ready </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> newPath <span class=\"token operator\">=</span> path\n      <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'book/'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>destDir<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.md'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.pdf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> newPath<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n  <span class=\"token function\">mdpdf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">preProcessHtml</span><span class=\"token operator\">:</span> <span class=\"token function\">preProcessHtml</span><span class=\"token punctuation\">(</span>basePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">cssPath</span><span class=\"token operator\">:</span> <span class=\"token string\">'./custom.css'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">remarkable</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">html</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>mdFiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>pdfFilePaths<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    pdfFilePaths<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pdf</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Created </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pdf<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">preProcessHtml</code>는 컨버팅을 진행한 후 책에 들어간 이미지의 경로가 맞지 않아 pdf 파일에서 이미지가 출력되지 않는 이슈 때문에 작성한 함수인데, 마크다운을 우선 HTML로 파싱한 후 <code class=\"language-text\">img</code> 엘리먼트를 찾아서 <code class=\"language-text\">file://</code> 프로토콜을 사용한 링크로 바꿔주는 역할을 한다. 이 과정을 거치고 난 후 HTML을 pdf로 컨버팅했더니 이미지가 정상적으로 첨부되는 것을 확인할 수 있었다.</p>\n<p>이렇게 출판한 pdf 파일들을 구글 드라이브에 업로드해서 스터디원이나 리뷰어 분들이 부분 출판된 내용을 바로바로 확인할 수 있도록 진행하였다. 그리고 출판사에 보낼 docx 파일은 <code class=\"language-text\">pandoc</code>을 이용하여 컨버팅하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// vuejs-book/scripts/deploy.js</span>\n<span class=\"token function\">glob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'book/**/*.md'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> mdFiles</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  mdFiles<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> chapter <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Ready for </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>chapter<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> newPath <span class=\"token operator\">=</span> path\n      <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'book/'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>destDir<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>chapter<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/README.md</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>chapter<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.docx</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> args <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">-f markdown -t docx -o </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newPath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// https://pandoc.org/MANUAL.html#syntax-highlighting 코드 하이라이팅 볼것</span>\n    <span class=\"token keyword\">const</span> originSource <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> source <span class=\"token operator\">=</span> originSource<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\(\\/assets</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>basePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/assets</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">nodePandoc</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Finish </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>chapter<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 작성된 문서 컨버팅 스크립트들은 npm script로 등록하여 언제든 간편하게 md 포맷을 pdf와 docx 포맷으로 뽑아낼 수 있도록 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// package.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"publish\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/publish.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/deploy.js\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>사실 처음에 md 포맷을 pdf로만 변경할 때는 별 문제가 없었는데 나중에 <code class=\"language-text\">pandoc</code>을 통해 docx 포맷으로 변경할 때 글꼴 스타일에 관련된 이슈가 발생했다.</p>\n<p><code class=\"language-text\">pandoc</code>을 사용하여 docx 포맷으로 컨버팅할 때 일명 레퍼런스 문서라는 것을 설정할 수 있는데, 이 문서에 커스텀 글꼴 스타일을 설정해놓으면 컨버팅 되는 문서에서 이 문서의 글꼴 스타일을 참고하여 동일한 글꼴 스타일을 사용한 문서로 만들어준다.</p>\n<p>그래서 처음에는 이 기능만 믿고 “출판사 포맷대로 글꼴 스타일을 설정해놓은 레퍼런스 문서를 하나 만들어놓으면 되겠구나”했었는데 막상 레퍼런스 문서 옵션을 사용하여 스크립트를 돌려보니 문서에 첨부한 코드 블록의 스타일이 와장창나는 사태가 발생했다.</p>\n<p>그래서 결국은 마지막에 출판사에 원고를 보낼 때에는 <code class=\"language-text\">pandoc</code>을 사용하여 md 포맷을 docx 포맷의 기본 글꼴 스타일로 컨버팅 한 후에 그 문서의 글꼴 스타일을 직접 수작업으로 변경하는 방법을 사용했다.</p>\n<p>뭐 마지막에는 꽤 삽질을 하긴 했지만 그래도 md 포맷을 택함으로써 집필 과정에서 시간을 많이 줄일 수 있었고, 게다가 Git을 사용한 버전관리도 할 수 있엇으므로 결과적으로는 좋은 선택이었다고 생각한다.</p>\n<h2 id=\"공동-집필-과정에서의-충돌\" style=\"position:relative;\">공동 집필 과정에서의 충돌<a href=\"#%EA%B3%B5%EB%8F%99-%EC%A7%91%ED%95%84-%EA%B3%BC%EC%A0%95%EC%97%90%EC%84%9C%EC%9D%98-%EC%B6%A9%EB%8F%8C\" aria-label=\"공동 집필 과정에서의 충돌 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 혼자 책을 집필한 것이 아니라 친구와 함께 공동 집필을 한 것이기 때문에 서로의 의견을 일치시키고 합의점을 도출해내는 커뮤니케이션도 굉장히 중요한 일 중 하나였다.</p>\n<p>사실 필자와 이 친구는 함께 사이드 프로젝트를 진행해본 경험도 있고 평소에도 성격이 꽤 잘맞는 편이라서 같이 해외여행도 다녀온 막역한 사이이다. 하지만 책이라는 매체의 특성 상 코드와 다르게 배포 후 수정이 불가능해서 “최대한 완벽하게 끝내고 싶다”라는 마음 때문에 서로 의견의 일치를 보는 것이 평소보다 더 어려웠던 것 같다.</p>\n<h3 id=\"설계에-대한-관점의-차이\" style=\"position:relative;\">설계에 대한 관점의 차이<a href=\"#%EC%84%A4%EA%B3%84%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B4%80%EC%A0%90%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"설계에 대한 관점의 차이 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>처음에 의견 충돌이 많이 났던 것은 예제 어플리케이션의 설계였다. 책에 들어가는 예제는 불특정 다수에게 노출되는 정보이기 때문에 최대한 주관성을 배제하고 널리 통용될 수 있는 지식을 사용하여 작성되어야한다. 그래서 필자와 친구는 “예제 어플리케이션의 설계를 어떻게 가져갈 것인가?”로 엄청 많은 이야기를 나누었다.</p>\n<p>간단하게는 컴포넌트의 네이밍과 프로젝트의 디렉토리 구조에서부터 스토어의 상태의 변경을 위한 액션은 어떤 컴포넌트가 Dispatch하는 것이 맞는 것이냐와 같이 심도있는 주제까지 다양한 이야기를 나누었다. 결국 이런 끊임없는 커뮤니케이션을 거쳐서 합의점을 도출해내고 나서야 예제 어플리케이션 개발에 들어갈 수 있었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b0843883f37a5a8955d1b73bfc9d2333/077b7/meeting.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 79.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAADD0lEQVR42oWUa08iSRSG/f+bmNkPO2pgBFQIgtLNTRp0hnvb3G+iwAADCA6O1wG8jIjPVrf7YbMZ3Ure1Knq1JNzTnW9S/f394yGQ4anp1xfXzEajTgVca/f5+LykrOz74aGxv7QmMfn5/TF916vx3g8Ns4MBWMwGLD0NH+iUq1RKFVotdo0ThpUKiV63Q73d1Nmk1smP2/5eXPNzdWV0CV3syl3d3foyTw+Php6eHgw9pZeXhb0OwJSzlGvFvl6XKJeztA5zjM4KdKtZWiXNVpFlXw6SkzxMug00cfLywv/HQbwdtzh/FuNq+EJP/p1jisazeohp80CXysq9VycqhZFjYZRfDt0mvV3gIsFN9/bJJJx1MM0bZFZQ8BymRjlfJJyNkYmuU8uGSYvlAx76Lcb7wMvR01RrkY8lUA7TJJRoyhhBY8vgC/gZ8OxzV5QQovvcRBw0f2/DAfdiujdId2G6N1JRpScolaMk05ECIf8RPf9fIl4iR/IhGQ77cbR+8BOI0cpd0C1EDNA1XyUZFxB9kkEgn58fpmg3yOgEv6dTVrHtbeBCwFsHomeqXsUM6JXqoKWVkR2IZSQF4+0gyy7kSUniih31/GJo3LxH+Did8Bn6qUE6ZiXVNRH7MBD7LNMMiZKjci4XA6CXidhv5OgZMdhXaFUyL0CF28Ay9kvxPd3RI8k9hUXkZCLoG+bLfsG1g0rm1tWbLZ1tjbWWfv4gXIhaxxe/Bb4/ExOlBgJ2IkEnYR8DsIBJ9KunVWTmTWTCavFzMeVFUymVZaX/6CYz7wNfJ7PiUc8+Nxm/B6boaC8hSyaL7ltSC4bnm0Lu85PuB1mLKvL5LPqK1Ako1/Mv7U0F29Z8YreWP7EbV8VWhMAM163FdllMWAepwXXpklojfW/RIa59NsZ6g+8kNfQVPFSUuJVHKaMtV5WVlONWVOT4iKy4vbFj68mhIHUhQOdGS6ju47uTrrbXFxc6BnO6Xa/0Wy2aDSaIu7SbncM93h1kl/ci/hBxLPZjF9PT4bLTKdTYz2ZTIxYl77/N/+2Z+cT2oKYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meeting\" title=\"\" src=\"/static/b0843883f37a5a8955d1b73bfc9d2333/6af66/meeting.png\" srcset=\"/static/b0843883f37a5a8955d1b73bfc9d2333/69538/meeting.png 160w,\n/static/b0843883f37a5a8955d1b73bfc9d2333/72799/meeting.png 320w,\n/static/b0843883f37a5a8955d1b73bfc9d2333/6af66/meeting.png 640w,\n/static/b0843883f37a5a8955d1b73bfc9d2333/d9199/meeting.png 960w,\n/static/b0843883f37a5a8955d1b73bfc9d2333/077b7/meeting.png 1166w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Form 컴포넌트의 정의부터 시작해서 어떤 라이브러리를 사용할 것인지까지 일일히 다 정했었다.</small>\n</center>\n<h3 id=\"일하는-스타일의-차이\" style=\"position:relative;\">일하는 스타일의 차이<a href=\"#%EC%9D%BC%ED%95%98%EB%8A%94-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"일하는 스타일의 차이 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>두 번째는 바로 일하는 스타일이었다. 사실 이게 정말 의외인 부분이었는데, 이미 필자는 이 친구와 사이드 프로젝트를 진행한 경험이 있었고, 도중에 의견 충돌이 나더라도 굉장히 서로 만족할 만한 결론을 도출해내면서 진행해왔기 때문에 이번에도 마찬가지일 것이라고 생각했다. 근데 이게 돈받고 하는 일이라서 그런지, 아니면 마감 기한이 정해져 있는 일이라서 그런지는 몰라도 사이드 프로젝트 때와는 굉장히 다른 상황이 펼쳐졌다.</p>\n<p>일단 필자는 어떤 일을 하든 마감 기한에 쫓기면서 하는 스타일이 아니다. 이렇게 할 수 있는 이유는 필자가 일하는 중간에 생기는 변수를 최소화하고 리스크가 생길 것 같은 일을 아예 차단해버리는 스타일이기 때문이다. 그리고 결정적으로 성격 자체가 좀 느긋하다. 좋게 말하면 느긋한거고 나쁘게 말하면 게으른거긴 한데, 뭐 어쨌든 그런 성격이다.</p>\n<p>하지만 이 친구는 뭘 하든 열정이 장난아니다. 하기 싫은 일이든 하고 싶은 일이든 항상 최선을 다하는 스타일이다. 이 친구가 이렇게 할 수 있는 이유는 기본적으로 책임감이 큰 성격이라서 그렇다고 생각한다. <small>(뭐 아닐 수도 있다. 아무리 친구라도 모르는 부분은 있으니)</small></p>\n<p>이 친구의 바로 이런 부분들이 필자에게 굉장히 자극을 주는 부분이고 친구라는 부분을 제외하고 개발자 대 개발자로 생각해도 굉장히 좋은 개발자라고 생각한다.</p>\n<p>하지만 같이 마감기한이 있는 일을 하다보니 이 친구 입장에서는 필자가 적극적으로 참여하지 않는다는 마음이 있었던 것 같고, 필자는 필자대로 “이게 이렇게까지 스트레스를 받으면서 할 일은 아닌데…”라는 생각이 있었던 것 같다. 그리고 이게 사람인 이상 마감기한이 다가올수록 “출판사와의 약속을 지키지 못하면 어떡하나”라는 불안감도 들기 마련이고, 둘 다 직장을 다니고 있기 때문에 회사 일은 또 회사 일대로 해야하는 상황이었다. 그래서 육체적인 피로감과 정신적인 피로감이 점점 쌓여서 그랬던 것 같기도 하다.</p>\n<p>그래도 다행히 이 친구와 필자의 가장 큰 공통점은 커뮤니케이션과 같은 소프트 스킬의 중요성을 알고 있다는 점이었다. 그래서 서로 마감기한에 쫓겨 스트레스를 받고 있는 상황에서도 최대한 서로를 배려하고 서로의 의견을 많이 듣고 교환하는 과정을 통해 큰 갈등 없이 책 집필을 마칠 수 있었다.</p>\n<h2 id=\"책-리뷰하기\" style=\"position:relative;\">책 리뷰하기<a href=\"#%EC%B1%85-%EB%A6%AC%EB%B7%B0%ED%95%98%EA%B8%B0\" aria-label=\"책 리뷰하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>책을 집필하는 동안 필자와 친구가 풀 리퀘스트를 사용한 리뷰를 계속 하긴 했지만 작가 시점의 리뷰는 주로 오탈자 수정, 문체의 통일 등의 기계적인 리뷰라면 다른 리뷰어 분들이 해주시는 리뷰는 “이 내용이 정말 도움이 되는가?”, “이런 내용이 있으면 더 좋을 것 같다.”와 같이 작가의 시점에서는 알아차리기 힘든 정성적인 리뷰들이다. 그래서 책을 집필하는 중이나 책을 집필한 후에 리뷰어 분들의 피드백을 최대한 많이 수집하고자 했다.</p>\n<p>사실 필자는 개발자 인맥도 별로 없고 사람 만나는 걸 좋아하는 편도 아니라서 직장 동료 외에는 리뷰를 부탁할 수 있는 사람이 많지 않았다. 하지만 친구는 필자보다 인맥도 풍부하고 사회성도 좋아서 리뷰를 부탁할 수 있는 사람도 많았다. <small>(대단쓰…)</small> 그런 이유로 책 리뷰는 필자 혼자서는 진행하지 못했을 일이고 진짜 친구 덕이 크다. 그리고 필자도 이 경험을 바탕으로 “아 나도 네트워킹 좀 해야하나…?”라는 생각이 싹트기 시작했다.</p>\n<h3 id=\"스터디원들의-리뷰\" style=\"position:relative;\">스터디원들의 리뷰<a href=\"#%EC%8A%A4%ED%84%B0%EB%94%94%EC%9B%90%EB%93%A4%EC%9D%98-%EB%A6%AC%EB%B7%B0\" aria-label=\"스터디원들의 리뷰 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>위에서 한번 설명했듯이, 책을 처음 집필할 때 이런 리뷰의 중요성을 알았던 친구가 먼저 책의 타겟 독자층을 모집해서 우리 책으로 스터디를 진행해보자는 아이디어를 제안해주었고 필자는 처음에는 고민했지만 다른 리뷰어분들이 해주시는 리뷰가 중요하다는 말에 설득당해서 스터디를 진행하게 되었다.</p>\n<p>필자는 낯을 가리는 성격이라 처음 보는 사람들과 스터디를 한다는 것에 대해서 익숙하지가 않다. 그래서 처음에는 “내가 스터디원들에게 뭘 해드려야하지…?”라는 고민을 굉장히 많이 했는데 막상 스터디가 시작되고 나니 그런 걱정은 필자의 기우였다는 것을 알 수 있었다.</p>\n<p>스터디를 지원해주신 모든 분들이 굉장히 열정적으로 질문도 먼저 건네주시고, 더 알고 싶은 부분에 있어서도 확실하게 의사 표현을 해주셔서 필자도 편한 마음으로 스터디를 진행할 수 있었다. 그리고 모두 성격이 좋으셔서 낯가림이 심한 필자도 잘 어울릴 수 있었다.</p>\n<p>책을 집필하는 동안 실제 타겟 독자층이었던 스터디원들로부터 피드백을 받으며 책을 수정하다보니까 뭔가 책에 대한 자신감도 생겼고, 필자가 작성한 책으로 스터디하시면서 막힘없이 학습해나가시는 모습들을 보고 약간 뿌듯함도 느꼈던 것 같다.</p>\n<p>실제로 필자는 내가 먼저 나서서 타인에게 지식을 공유하고 싶다는 욕구는 없는 편이었는데, 이번에 책도 집필하고 스터디를 진행하면서 필자는 별 거 아니라고 생각했던 지식들이 다른 분들에게는 큰 도움이 되는 것을 보고 교육에도 조금 관심이 생기기도 했고 낯가림도 조금은 나아진 것 같다. <small>(그래도 역시 인싸의 길은 멀고도 험하다…)</small></p>\n<h3 id=\"현업-개발자분들의-리뷰\" style=\"position:relative;\">현업 개발자분들의 리뷰<a href=\"#%ED%98%84%EC%97%85-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%B6%84%EB%93%A4%EC%9D%98-%EB%A6%AC%EB%B7%B0\" aria-label=\"현업 개발자분들의 리뷰 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>책을 모두 집필하고 난 후에 주위의 현업 개발자 분들께도 리뷰를 부탁했는데, 이런 분들을 베타 리더라고 부른다고 한다. 필자도 이번에 처음 알았다.</p>\n<p>베타 리더 분들은 각자의 여유 시간에 따라서 전체 리뷰와 챕터 리뷰로 나눠서 진행해주셨는데, 필자가 집필하면서 놓쳤던 부분을 되짚어 주시기도 하고 이해가 어려울 것 같은 설명에 대해서도 지적해주시는 등 정말 꼼꼼하게 피드백을 해주셔서 굉장히 든든했다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 처음 필자는 “책? 그냥 조금 긴 포스팅 느낌일 것 같은데”라는 안일한 마음으로 시작했는데, 얼마 지나지 않아서 그게 아니라는 것을 깨달았다. 이 포스팅에는 작성하지 않았지만 예제 어플리케이션을 만드는 일도 만만치 않았는데, 문제는 예제 어플리케이션을 수정하면 같은 부분을 책에서 찾아서 코드 블록을 수정하고 코드에 대한 설명도 그에 맞춰서 바꿔줘야하는 것이었다. <small>(게다가 클라이언트 어플리케이션 2개와 API 서버까지 만들어야했다.)</small></p>\n<p>예제 어플리케이션과 책의 내용이 조금만 싱크가 어긋나도 독자는 상당한 혼란을 느낄 수 있기 때문에 이런 부분을 꼼꼼히 체크해야했는데, 이게 제일 힘들었던 것 같다.</p>\n<p>그리고 포스팅과 다르게 책은 한 주제의 호흡을 굉장히 길게 가져가야 하는 매체이다보니까 앞 쪽의 내용과 뒤 쪽이 내용의 컨셉이 달라지면 안되는데, 필자는 이렇게 긴 글을 써본 적이 없기 때문에 주기적으로 앞 쪽의 내용과 문체를 확인해가면서 집필을 해야했다.</p>\n<p>그래도 이렇게 책을 한번 집필하고 나니까 뿌듯하기도 하고 글을 적는 행위에도 많이 익숙해져서 한 주에 한두번 포스팅 올리는 것 정도는 크게 어렵지 않아서 전체적으로는 좋은 느낌이다. 이 책을 보시는 많은 예비 독자들이 유익했다고 느낄 수 있었으면 좋겠다. 특히 프론트엔드 개발을 처음 시작하시려는 분들이 이 책을 읽고 “어 뭐야 생각보다 별 거 없네?”라고 생각했으면 진짜 좋을 것 같다.</p>\n<p>그리고 마지막으로 바쁜 개인 시간 쪼개서 책을 리뷰해주신 베타 리더분들과 기술 서적 집필이라는 좋은 기회를 제안해준 김영훈 개발자에게 <strong>압도적인 감사</strong>를 올리고 싶다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4ac69e39a60e61a01bddd4634b5d04ee/4b190/thanks.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFtswTKxRyQpB//xAAeEAACAgAHAAAAAAAAAAAAAAABAgADBBESEzEyM//aAAgBAQABBQIVFpUldj6QGXhSFbZGZmI9E6//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAACAgICAwAAAAAAAAAAAAABAgAxESEDECKBof/aAAgBAQAGPwJnY4UGeNCwYwrcbjKnA+zQ2YTmzDE99f/EAB0QAAMAAgIDAAAAAAAAAAAAAAABESExEHFRgbH/2gAIAQEAAT8hyA5S4ZvuPgSOeGnpF7nHWhKs6BUT2h8OG1n/2gAMAwEAAgADAAAAEBMPAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB0QAQEAAwACAwAAAAAAAAAAAAERACExYfAQceH/2gAIAQEAAT8QNdEUtY7mbrYqXbUJ5xNgnKwwIEwQz1dAt/MCsCFCQliW4ZAU7NWa74zj278B7PrP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"thanks\" title=\"\" src=\"/static/4ac69e39a60e61a01bddd4634b5d04ee/c08c5/thanks.jpg\" srcset=\"/static/4ac69e39a60e61a01bddd4634b5d04ee/0913d/thanks.jpg 160w,\n/static/4ac69e39a60e61a01bddd4634b5d04ee/cb69c/thanks.jpg 320w,\n/static/4ac69e39a60e61a01bddd4634b5d04ee/c08c5/thanks.jpg 640w,\n/static/4ac69e39a60e61a01bddd4634b5d04ee/4b190/thanks.jpg 800w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>참고로 필자의 책은 <a href=\"http://www.yes24.com/Product/Goods/76639545\" target=\"_blank\" rel=\"nofollow\">Yes24</a>에서 구경해볼 수 있지만, 아직 초판 인쇄가 끝나지 않았기 때문에 배송은 다음 달부터 가능하다.</p>\n<p>하지만 필자는 인터넷에서 책을 구매하는 것보다 나중에 교보문고 같은 오프라인 서점에 책이 입고되면 가서 직접 한번 읽어보고 사는 것을 추천하고싶다. 이 글을 읽는 미래의 독자님들께서 교보문고에 갔을 때 민트색 표지에 커피 일러스트를 보고나서 필자를 떠올리고 한번 책을 펼쳐보게 만드는 것만으로도 필자는 행복해질 것 같다.</p>\n<p>이상으로 흔한 개발랭이의 작가 입문기 포스팅을 마친다.</p>","fields":{"slug":"20190721-vuejs-book-retrospective","path":"/2019/07/21/vuejs-book-retrospective/","lang":"ko"},"frontmatter":{"title":"흔한 개발랭이의 작가 입문기","subTitle":"한번도 기술 서적을 읽어본 적 없는 개발자가 책을 썼다고?","date":"Jul 21, 2019","categories":["에세이"],"tags":["Vue","회고","개발 책","프로그래밍 책","공동집필","커피 한잔 마시며 끝내는 VueJS","책 집필","개발자"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/36bf9d7dadae859391a4aa978c7ae097/3a812/thumbnail.jpg","srcSet":"/static/36bf9d7dadae859391a4aa978c7ae097/3a812/thumbnail.jpg 320w,\n/static/36bf9d7dadae859391a4aa978c7ae097/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/36bf9d7dadae859391a4aa978c7ae097/fc5c5/thumbnail.webp 320w,\n/static/36bf9d7dadae859391a4aa978c7ae097/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/36bf9d7dadae859391a4aa978c7ae097/2d839/thumbnail.jpg","srcSet":"/static/36bf9d7dadae859391a4aa978c7ae097/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/36bf9d7dadae859391a4aa978c7ae097/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"5d271804-0558-56d2-a68f-bb8daf257830","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%80-%EC%88%98%ED%95%99%EC%9D%B4%EB%8B%A4\">프로그래밍은 수학이다</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%88%98%ED%95%99%EC%97%90-%EC%AB%84%EC%A7%80-%EB%A7%90%EC%9E%90\">수학에 쫄지 말자!</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%95%8C%EB%A9%B4-%EB%8F%84%EC%9B%80%EC%9D%B4-%EB%90%98%EB%8A%94-%EC%88%98%ED%95%99-%EA%B0%9C%EB%85%90-3%EA%B0%80%EC%A7%80\">알면 도움이 되는 수학 개념 3가지</a></p>\n<ul>\n<li><a href=\"#%EB%AA%85%EC%A0%9Cproposition\">명제(Proposition)</a></li>\n<li><a href=\"#%EC%A7%91%ED%95%A9set\">집합(Set)</a></li>\n<li><a href=\"#%EC%88%98%ED%95%99%EC%A0%81-%EA%B7%80%EB%82%A9%EB%B2%95mathematical-induction\">수학적 귀납법(Mathematical Induction)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 필자가 많이 받은 질문 중 하나인 “개발자는 수학을 잘해야할까?”라는 질문에 대해서 한번 이야기 해볼까 한다. 물론 이 주제는 전 세계의 많은 개발자들 간에도 의견이 갈리는 내용이기 때문에 그냥 지나가는 개발자 한명의 생각일 뿐이라고 생각해줬으면 좋겠다. 사실 필자도 수학을 잘하는 편이 아니라 그냥 컴퓨터 공부하신 다른 분들처럼 학교에서 배우긴 했는데 졸업하고 나서는 잘 기억안나는 그냥 그 정도의 수준이다. 게다가 필자는 손으로 푸는 계산이 굉장히 약하기 때문에 수학 성적이 좋았던 편도 아니다. (사칙연산을 잘 …","html":"<p>이번 포스팅에서는 필자가 많이 받은 질문 중 하나인 “개발자는 수학을 잘해야할까?”라는 질문에 대해서 한번 이야기 해볼까 한다. 물론 이 주제는 전 세계의 많은 개발자들 간에도 의견이 갈리는 내용이기 때문에 그냥 지나가는 개발자 한명의 생각일 뿐이라고 생각해줬으면 좋겠다.</p>\n<p>사실 필자도 수학을 잘하는 편이 아니라 그냥 컴퓨터 공부하신 다른 분들처럼 학교에서 배우긴 했는데 졸업하고 나서는 잘 기억안나는 그냥 그 정도의 수준이다. 게다가 필자는 손으로 푸는 계산이 굉장히 약하기 때문에 수학 성적이 좋았던 편도 아니다. <small>(사칙연산을 잘 틀린다.)</small></p>\n<p>그래도 인터넷에서 많은 분들이 이 주제에 대해서 이야기 해주시기도 했고, 실제로 개발자가 아닌 분들에게 이런 질문을 받은 적도 있어서 필자도 한번 이 주제에 대한 필자의 생각을 끄적여볼까한다.</p>\n<h2 id=\"프로그래밍은-수학이다\" style=\"position:relative;\">프로그래밍은 수학이다<a href=\"#%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%80-%EC%88%98%ED%95%99%EC%9D%B4%EB%8B%A4\" aria-label=\"프로그래밍은 수학이다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>일단 근본적으로 우리가 사용하고 있는 이 컴퓨터는 사실 <code class=\"language-text\">0</code>과 <code class=\"language-text\">1</code>을 사용하는 계산기다. 그렇기 때문에 컴퓨터에는 아무래도 수학적인 내용이 많이 들어갈 수 밖에 없고, 프로그래밍을 할 때도 알게 모르게 많이 녹아있는 수학적인 개념들이 많다.</p>\n<p>그래서 사실 필자는 개발자라면 수학을 조금은 할 줄 알아야한다고 생각하는 편이다. 이 얘기를 들은 여러분은 “어? 난 수학을 잘 못하는데 지금 개발을 하고 있는데?”라고 생각하실 수도 있겠다.</p>\n<p>그러나 여기서 필자가 말하는 수학은 무슨 선형대수학이나 미적분같은 고등수학을 말하는 것이 아니다. 필자가 얘기하는 수학은 대부분 명제나 집합, n진법과 같이 이미 우리가 중고등학교에서 배웠던 정도의 수준을 이야기하는 것이다.</p>\n<p>물론 이 개념들도 결국 파고들면 파고들수록 점점 추상적이고 어려운 개념들이 나오지만 솔직히 그렇게까지 알 필요는 없다고 생각한다. 우리가 무슨 수학을 연구하는 사람도 아니고, 우리는 그냥 개발자로써 프로그래밍에 필요한 정도만 알고 있으면 된다. 중요한 것은 수학이라는 키워드에 쫄지 않는 것이다.</p>\n<p>그래서 이번 포스팅에서는 필자가 생각했을 때 프로그래밍에 도움이 되는 수학 개념 3가지에 대해서 가볍게 한번 이야기 해보려고 한다.</p>\n<h2 id=\"수학에-쫄지-말자\" style=\"position:relative;\">수학에 쫄지 말자!<a href=\"#%EC%88%98%ED%95%99%EC%97%90-%EC%AB%84%EC%A7%80-%EB%A7%90%EC%9E%90\" aria-label=\"수학에 쫄지 말자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>요즘 핫한 주제인 머신러닝이나 인공 신경망 같은 경우 호기심을 자극하는 키워드지만, 구글링을 해보면 나오는 검색 결과는 우리의 공부 의욕을 꺾어놓는다.</p>\n<blockquote>\n<p>…</p>\n<p>해답이 어떤 데이터에 의존적인 경우, 비용은 관측값에 대한 함수가 되어야 하며, 그렇지 않을 경우에는 데이터와 관련된 어떤 것도 모델링할 수 없게 된다. 많은 경우 비용은 근사될수만 있는 통계로 주어진다.</p>\n<p>간단한 예로, 어떤 분포 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">D</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal {D}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">D</span></span></span></span></span>에서 뽑아낸 데이터 쌍 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(x, y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span></span>에 대해 비용 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mo>=</mo><mi>E</mi><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">C = E[(f(x) - y)^{2}]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mopen\">[(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span>을 최소화하는 모델 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span>를 찾는 문제를 생각해보자. 실용적으로는 분포 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">D</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal {D}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">D</span></span></span></span></span>에서 유한한 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span>개의 샘플만을 뽑아낼 수 있으므로, 이 예의 경우 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>C</mi><mo>^</mo></mover><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\hat{C} = \\frac{1}{N}\\sum_{i=1}^{N}(f(x_i) - y_i)^{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3262em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></span>, 즉 전체 데이터 집합이 아니라 데이터의 샘플에 대한 비용만 최소화될 수 있을 것이다.</p>\n<p>…</p>\n<p><strong><a href=\"https://ko.wikipedia.org/wiki/%EC%9D%B8%EA%B3%B5_%EC%8B%A0%EA%B2%BD%EB%A7%9D\" target=\"_blank\" rel=\"nofollow\">인공 신경망 - 학습, 위키 백과</a></strong></p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/921606ba067387cd7d78b791d22a41de/0479a/luckyjjang.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 128.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEBQL/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGjHe4gEBvr7zQIw//EAB0QAAMAAgIDAAAAAAAAAAAAAAECAwARBBMUITH/2gAIAQEAAQUC7Za5Dp2VZwePEnNCqWULQehoAXnMUb4pPj5//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAIBAAAQQCAQUAAAAAAAAAAAAAAAECESEDMUEQIiNxwf/aAAgBAQAGPwKsmOPR4qT6JOSVVJNcSQ5NENK2Wlcna8UdfT//xAAeEAEAAwEAAgMBAAAAAAAAAAABABEhMUFRYZGhwf/aAAgBAQABPyHlHbnp9SwboGhQ+xFZi1TVTCCppR5hqJVZ/I35HzL7K4yZ1m2zUqAcLo8z8EVYnPcOT//aAAwDAQACAAMAAAAQM84M/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFBUXGxof/aAAgBAQABPxBsWqRgroVAylpUS8fX5HPWaWPWd0EVecIHwq+eJQ0s0Vp34XClQjm21EcUDWIOWqstl7U+S3iXbDG8Yepj3vky2mFprSYHqf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"luckyjjang\" title=\"\" src=\"/static/921606ba067387cd7d78b791d22a41de/0479a/luckyjjang.jpg\" srcset=\"/static/921606ba067387cd7d78b791d22a41de/0913d/luckyjjang.jpg 160w,\n/static/921606ba067387cd7d78b791d22a41de/0479a/luckyjjang.jpg 250w\" sizes=\"(max-width: 250px) 100vw, 250px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>난 분명 수식을 보고 있는데 숫자보다 영어가 더 많이 보이고...</small>\n</center>\n<p>솔직히 저런 수식을 처음 보면 무슨 외계어 같기도 하고 무슨 말을 하는 지 도통 알 수가 없다. 게다가 간단한 예랍시고 설명하고 있는 것은 전혀 간단하지 않게 생겼다.</p>\n<p>이런 것들이 바로 우리의 공부 의욕을 깎아먹는 수학의 모습이다. 하지만 저 수식이 진짜 어렵고 복잡한 의미일까?</p>\n<p>저 기호와 알파벳이 어떤 의미인지만 알면 우리는 이 수식을 코드로 포팅할 수 있는데, 막상 짜놓고 보면 굉장히 간단하다. 그럼 딱 봤을 때 제일 복잡해보이는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>C</mi><mo>^</mo></mover><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\hat{C} = \\frac{1}{N}\\sum_{i=1}^{N}(f(x_i) - y_i)^{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9468em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9468em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3262em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></span>를 값 <code class=\"language-text\">C</code>를 구하는 코드로 한번 작성해보겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> inputs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> outputs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span> <span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">N</span> <span class=\"token operator\">=</span> inputs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">exampleFunction</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getC</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    result <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">exampleFunction</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> y<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> result <span class=\"token operator\">/</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token function\">getC</span><span class=\"token punctuation\">(</span>inputs<span class=\"token punctuation\">,</span> outputs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>쨘, 이제 아까 저 수식이 어떤 내용인지 조금 더 이해가 잘될 것이라고 생각한다. 혹시 저 수식이 어떤 내용인지 이해하지 못했더라도 코드는 이해할 수 있으니 말이다.</p>\n<p>그럼 먼저 이상한 기호가 있어서 어려워 보이는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\sum_{i=1}^{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2809em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span></span></span></span></span>를 한번 살펴보자.</p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∑</mo></mrow><annotation encoding=\"application/x-tex\">\\sum</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span></span></span></span></span><small>(Sum이라고 읽는다)</small> 기호는 그냥 뒤에 붙어 있는 값을 반복문 돌리면서 더하라는 뜻이다. 즉, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\sum_{i=1}^{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2809em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span></span></span></span></span>은 ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span></span>를 1로 초기화하고 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span>까지 반복하면서 값을 더해라”라는 의미인 것이다. 우리가 <code class=\"language-text\">for</code>문을 사용할 때 관습적으로 사용하는 변수 <code class=\"language-text\">i</code>도 여기서 파생된 것이다.</p>\n<p>그러면 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∑</mo></mrow><annotation encoding=\"application/x-tex\">\\sum</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span></span></span></span></span>의 뒤쪽으로 오는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">(f(x_i) - y_i)^{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></span>에 포함된 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>나 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>의 의미도 자연스럽게 이해가 될 것이다. 그냥 어떤 집합의 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span></span>번째 원소를 말하는 것이다.</p>\n<p>그리고 마지막에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mi>N</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>을 곱해주는데, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span>번 반복하면서 모두 더한 값을 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span>으로 나누면 뭘까?</p>\n<blockquote>\n<p>네, <strong>평균</strong>입니다.</p>\n</blockquote>\n<p>여기까지 보고나면 이제 더 이상 저 수식이 낯설게만 느껴지지는 않을 것이다. 그리고 위에서도 한번 얘기했지만 필자가 말하고 싶은 것은 저 수식을 코드로 작성할 수 있냐 없냐가 아니다. 저런 수식도 코드로 바꿔보면 그렇게 어려운 수식이 아니라는 것을 말하고 싶은 것이다. 쫄 필요가 없다!</p>\n<p>그냥 우리에게 <code class=\"language-text\">for</code>문은 익숙하지만 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∑</mo></mrow><annotation encoding=\"application/x-tex\">\\sum</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span></span></span></span></span> 기호가 익숙하지 않을 뿐이다. 만약 어떤 수식을 보고 모르는 기호가 나오면 한번 의미를 찾아보자. 물론 그 중에는 의미 자체가 어려운 기호도 있다. <small>(<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∫</mo></mrow><annotation encoding=\"application/x-tex\">\\int</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1111em;vertical-align:-0.3061em;\"></span><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0006em;\">∫</span></span></span></span></span>같은 적분 기호…?)</small> 하지만 대부분의 경우 그냥 알파벳은 변수, 기호는 규칙(프로그래밍에서의 명령문)이나 특별한 함수를 의미하기 때문에 하나하나 뜯어보고 코드로 작성해보면 생각보다 단순한 경우가 많다.</p>\n<p>이제 더 이상 수학이 별 거 없다는 걸 알았으니 수학이라는 단어 자체에 쫄지 말고 한번 씹고 뜯고 맛보고 즐겨보자.</p>\n<h2 id=\"알면-도움이-되는-수학-개념-3가지\" style=\"position:relative;\">알면 도움이 되는 수학 개념 3가지<a href=\"#%EC%95%8C%EB%A9%B4-%EB%8F%84%EC%9B%80%EC%9D%B4-%EB%90%98%EB%8A%94-%EC%88%98%ED%95%99-%EA%B0%9C%EB%85%90-3%EA%B0%80%EC%A7%80\" aria-label=\"알면 도움이 되는 수학 개념 3가지 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자 그럼 이제 본론으로 들어가서, 우리가 프로그래밍을 할 때 도움이 될만한 수학의 3가지 개념들을 살펴보자.</p>\n<p>사실 필자가 이야기하고 싶은 것은 개념이기 때문에 위에서 예로 들었던 것처럼 수식이 나오는 대수학 같은 건 아니다. 그리고 이 포스팅에서 설명하는 개념들은 사실 수학보다 논리학에 가까운 느낌이기 때문에 반드시 숫자와 연관지어서 생각할 필요는 없다.</p>\n<p>이 개념들은 우리가 중학교, 고등학교에서 이미 배웠던 개념들이다. 다만 수능을 보고 나면 딱히 쓸 일이 없기 때문에 까먹었을 뿐이다. 물론 이과 계열의 전공을 택하신 분이나 문과 중에서도 경제학처럼 수학과 연관이 깊은 전공을 택하신 분은 계속 수학을 공부하기 때문에 까먹지 않았을 수 있지만 그 외의 경우는 사실 까먹을 수 밖에 없다.</p>\n<p>뭐 어쨌든 필자가 설명할 개념들은 전부 어릴 때 한번 정도는 들어봤던 논리에 대한 개념들이니까 조금은 가벼운 마음으로 한번 즐겨보도록 하자.</p>\n<h3 id=\"명제proposition\" style=\"position:relative;\">명제(Proposition)<a href=\"#%EB%AA%85%EC%A0%9Cproposition\" aria-label=\"명제proposition permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>자 처음으로 이야기하고 싶은 개념은 중학교 1학년인 때 배웠던 명제이다. 사실 명제는 굳이 프로그래밍을 위해서가 아니더라도 그냥 논리적인 사고를 하기 위해서 기본적으로 알고 있어야 하는 개념이다.</p>\n<p>명제는 참, 거짓과 같은 논리적인 진릿값을 가지는 것을 말한다. 즉, 참과 거짓을 구분할 수 없는 문장은 명제로 치지 않는다. 즉, “길동이는 키가 크다”와 같은 문장은 명제로 성립될 수 없다는 것이다. 다른 사람이 필자를 봤을 때 키가 크다고 생각할 수도 있고 작다고 생각할 수도 있는 주관성이 들어가는 문장이기 때문이다.</p>\n<p>그렇다면 명제는 우리가 프로그래밍을 할 때 어디에 사용된다는 걸까?</p>\n<p>명제가 말하는 참과 거짓은 우리가 프로그래밍할 때 사용하는 <code class=\"language-text\">True</code>, <code class=\"language-text\">False</code>나 <code class=\"language-text\">1</code>, <code class=\"language-text\">0</code>과 동일한 개념이다. 즉, 우리가 중학생 때 수학 교과서로 배웠던 명제는 조건식과 동일하다고 할 수 있다. 간단한 코드를 한번 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'array 변수에는 a가 들어있다.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'array 변수에는 a가 들어있지 않다.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 코드에서 필자가 제시한 명제는 ”<code class=\"language-text\">array</code> 변수에 담긴 배열에는 <code class=\"language-text\">a</code>라는 원소가 포함되어있다”이고 이 명제가 참일 경우 <code class=\"language-text\">if</code>문 내부의 코드가, 거짓일 경우에는 <code class=\"language-text\">else</code>문 내부의 코드가 실행된다. 이처럼 조건문에 사용되는 조건은 반드시 명제여야하므로 명제에 익숙한 개발자는 어떤 요구사항을 들었을 때, 그 요구사항을 충족할 수 있는 명제를 빠르게 제시해나갈 수 있다.</p>\n<p>이 명제라는 개념은 필자가 앞으로 설명할 다른 개념들이나 다른 수학의 개념에서도 가장 기초가 되는 개념이기 때문에 우리가 중학교에 입학하자마자 배우는 것이다. 수학은 긴가민가한 학문이 아니라 정확한 질문과 정확한 답을 제시할 수 있어야하는 능력이 필요한 학문이기 때문에 명제가 가장 기초가 된다.</p>\n<h3 id=\"집합set\" style=\"position:relative;\">집합(Set)<a href=\"#%EC%A7%91%ED%95%A9set\" aria-label=\"집합set permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>다음으로 이야기 할 것은 명제와 마찬가지로 우리가 중학교 1학년 때 배웠던 집합이다. 집합도 명제와 마찬가지로 알게 모르게 많이 사용되는 개념이기 때문에 집합에 대한 확실한 개념을 알고 있다면 프로그래밍할 때 많은 도움을 준다.</p>\n<p>동글동글 귀여운 벤다이어그램과 프로그래밍은 왠지 거리가 멀어보이지만 사실 우리는 저 개념을 매일매일 프로그래밍할 때 사용하고 있다. 바로 논리식을 작성할 때 말이다. 논리식은 위에서 말한 명제처럼 <code class=\"language-text\">True</code>, <code class=\"language-text\">False</code> 둘 중에 하나로 평가받을 수 있는 식을 이야기한다. 보통 우리는 명제 여러 개를 논리 연산자로 묶은 식을 많이 사용한다. 이 논리식과 집합이 무슨 관계가 있다는 걸까?</p>\n<p>사실 우리가 사용하는 논리연산자는 <code class=\"language-text\">&amp;&amp;(AND) = 교집합</code>, <code class=\"language-text\">||(OR) = 합집합</code>으로 대응되기 때문에 복잡한 논리식을 마주쳤을 때 그 논리식을 벤다이어그램으로 그려보는 것도 가능하다. 그리고 우리가 어릴 때 외웠던 <a href=\"https://ko.wikipedia.org/wiki/%EB%93%9C_%EB%AA%A8%EB%A5%B4%EA%B0%84%EC%9D%98_%EB%B2%95%EC%B9%99\" target=\"_blank\" rel=\"nofollow\">드 모르간의 법칙</a>도 논리식에 그대로 적용된다. <small>(사실 드 모르간의 법칙은 집합에 대한 법칙이라기보다 좀 더 포괄적인 논리학의 법칙이다.)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c36c7088ac8fe07531617bca4bcd1f35/e17e5/dmorgan.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 133.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAElklEQVR42o1VW0xcVRQd44OPKsLwnPsCYqMmxho/TLT+qImNXyYkjZoYv/SjX6b9MCZQkEYxbaXlNXMHJAzc1ogvJKFaWiKFmsaEQKxKQB4DDAwzd+7wiBTsDL2Y5d7nzkQKQ+PHmrtm77X3OWfv83A90Rp7/TnDrJX1SIWiR0+moelLhEXxvZeNoXKsN/yJ6osccb3akzBqJgApkLC1ziQYpcZtKJ13UBQAPB3/oMRICDBnG/tYk9ZrHQm75MIdqIFbjS7VHwuUdt6GrMcSih6zVT1q5zWt26o/aj9vjNiH2idsd/O6wKH2cWFjn9CQlmMU3Uqo7Rug73mXpJuGamzRH5MFyG9exxvfdWNo/GVMzT2Jsdmn0XD9hADzSbKx703SsJZjOKnWmeAcDS76MTRKqOkRHhXl3/TCXPJgOVKA8KKKyJKMrYmHBJizjX2sYS3HaP7I3oQ8/ULvGr4efQtrUTeCoYNYCJciPKNifSRbIBxUEVosQXD+MaFhLcdw7F0JS4wkPD7LPtgaouW8BCtSjOCshrFxFda0B5ujB7A5cgDxoAc3/1AxPa0hHi0WWo6RfHG7hPqwY4ZJ+hO1i70r6P71KFaj+ZgLldFsNESDEjZGHxZgzjb2sYa1HMP1z1jD3KYNvP19F9ZMN2JLxVgMawiHVSTHswSYs419a9E80n4FjslYw3SXC5rXcOyHNtyceRYLPJuFMlz85R0B5mxj37FLbUK7b5c5ITlIYFLnbuHxz2dxpOsaDl8cRZG+jkLfX4KzjX2sYS3H3DMhQyOhpC+joHEF+bV/Qj47BuX8NPJPz6CgYVn4tP+S7Uroi3XQ0WFjkvj2TqjepW25bmpb+mxyWzo3Q3xS2BSfdZeOTkhSa9+E4jPrXXTkjkt6bFDWzR7ivbuh+OO9SutKCvHeTBpZt3oUvzWg6PH3XK90xY3KEaBYt2y1JQ6F4bccCB6H6jehtsQE3+N3/ts0oLPkshbTeKprC7IvXUMKJrHKwb4oFZ4a5V92wH62iUEsoU3F2Frgbyeh5DUNuSPdFFOIpcYQ8mqHkVszhJxTNyDV/S7AnG3sk5pCzqBO0r1dFjOkUT0kzKn+CdmVl5FT1YcHPxyEb+CoAHO2CR9pWMsxcqaT4iSMI+/TYRGQW92PrIrrONzYRjeLLPAC8ayKIeFjDWs5JmNCcVFSfXJP/YxHq67CXfUj7jvej3e/rKaj5kEs4iH+EVzv98FdeYk0/ULLMZk3dqop7o9vIPvkFbirr+CBDwZR3n6WkkkCzO8nm5uXzRrS7ntSeMlc5KK68VSNruKRqgEU1PRheOIZAeZsy0ktmbUcw7H7zpDeGBSc+U0sKafqMjXiGl7UvxBgzjb2sYa1/+ssO1tnHkXnJuk7K27lQu8q8WDKNp/aMhkS0mYNaB182zqvHoO7JnY/calu2lbqp2y1ad6W6+dsxdkNjial51dPnGV+9ei2Nkq7we+rLS7aNC4QApuQmxahNIe5JOKrBjYc306tkbRLvwXUzkSjS2mOlMve6BlqfzUVt2Y31NbVGnknfNYeDcfSE3Ja8Vqv/QtPwlWPwwPdQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dmorgan\" title=\"\" src=\"/static/c36c7088ac8fe07531617bca4bcd1f35/e17e5/dmorgan.png\" srcset=\"/static/c36c7088ac8fe07531617bca4bcd1f35/69538/dmorgan.png 160w,\n/static/c36c7088ac8fe07531617bca4bcd1f35/72799/dmorgan.png 320w,\n/static/c36c7088ac8fe07531617bca4bcd1f35/e17e5/dmorgan.png 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c36c7088ac8fe07531617bca4bcd1f35/e17e5/dmorgan2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 133.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAElklEQVR42o1VW0xcVRQd44OPKsLwnPsCYqMmxho/TLT+qImNXyYkjZoYv/SjX6b9MCZQkEYxbaXlNXMHJAzc1ogvJKFaWiKFmsaEQKxKQB4DDAwzd+7wiBTsDL2Y5d7nzkQKQ+PHmrtm77X3OWfv83A90Rp7/TnDrJX1SIWiR0+moelLhEXxvZeNoXKsN/yJ6osccb3akzBqJgApkLC1ziQYpcZtKJ13UBQAPB3/oMRICDBnG/tYk9ZrHQm75MIdqIFbjS7VHwuUdt6GrMcSih6zVT1q5zWt26o/aj9vjNiH2idsd/O6wKH2cWFjn9CQlmMU3Uqo7Rug73mXpJuGamzRH5MFyG9exxvfdWNo/GVMzT2Jsdmn0XD9hADzSbKx703SsJZjOKnWmeAcDS76MTRKqOkRHhXl3/TCXPJgOVKA8KKKyJKMrYmHBJizjX2sYS3HaP7I3oQ8/ULvGr4efQtrUTeCoYNYCJciPKNifSRbIBxUEVosQXD+MaFhLcdw7F0JS4wkPD7LPtgaouW8BCtSjOCshrFxFda0B5ujB7A5cgDxoAc3/1AxPa0hHi0WWo6RfHG7hPqwY4ZJ+hO1i70r6P71KFaj+ZgLldFsNESDEjZGHxZgzjb2sYa1HMP1z1jD3KYNvP19F9ZMN2JLxVgMawiHVSTHswSYs419a9E80n4FjslYw3SXC5rXcOyHNtyceRYLPJuFMlz85R0B5mxj37FLbUK7b5c5ITlIYFLnbuHxz2dxpOsaDl8cRZG+jkLfX4KzjX2sYS3H3DMhQyOhpC+joHEF+bV/Qj47BuX8NPJPz6CgYVn4tP+S7Uroi3XQ0WFjkvj2TqjepW25bmpb+mxyWzo3Q3xS2BSfdZeOTkhSa9+E4jPrXXTkjkt6bFDWzR7ivbuh+OO9SutKCvHeTBpZt3oUvzWg6PH3XK90xY3KEaBYt2y1JQ6F4bccCB6H6jehtsQE3+N3/ts0oLPkshbTeKprC7IvXUMKJrHKwb4oFZ4a5V92wH62iUEsoU3F2Frgbyeh5DUNuSPdFFOIpcYQ8mqHkVszhJxTNyDV/S7AnG3sk5pCzqBO0r1dFjOkUT0kzKn+CdmVl5FT1YcHPxyEb+CoAHO2CR9pWMsxcqaT4iSMI+/TYRGQW92PrIrrONzYRjeLLPAC8ayKIeFjDWs5JmNCcVFSfXJP/YxHq67CXfUj7jvej3e/rKaj5kEs4iH+EVzv98FdeYk0/ULLMZk3dqop7o9vIPvkFbirr+CBDwZR3n6WkkkCzO8nm5uXzRrS7ntSeMlc5KK68VSNruKRqgEU1PRheOIZAeZsy0ktmbUcw7H7zpDeGBSc+U0sKafqMjXiGl7UvxBgzjb2sYa1/+ssO1tnHkXnJuk7K27lQu8q8WDKNp/aMhkS0mYNaB182zqvHoO7JnY/calu2lbqp2y1ad6W6+dsxdkNjial51dPnGV+9ei2Nkq7we+rLS7aNC4QApuQmxahNIe5JOKrBjYc306tkbRLvwXUzkSjS2mOlMve6BlqfzUVt2Y31NbVGnknfNYeDcfSE3Ja8Vqv/QtPwlWPwwPdQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dmorgan2\" title=\"\" src=\"/static/c36c7088ac8fe07531617bca4bcd1f35/e17e5/dmorgan2.png\" srcset=\"/static/c36c7088ac8fe07531617bca4bcd1f35/69538/dmorgan2.png 160w,\n/static/c36c7088ac8fe07531617bca4bcd1f35/72799/dmorgan2.png 320w,\n/static/c36c7088ac8fe07531617bca4bcd1f35/e17e5/dmorgan2.png 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>드 모르간의 법칙을 벤다이어그램으로 나타낸 모습</small>\n</center>\n<p>필자는 드 모르간 법칙이 빛을 발하는 순간이 바로 자연어를 논리식으로 변환할 때라고 생각한다. 보통 회사에서 비즈니스 로직을 짜다보면 PO들이 어떤 기능의 작동 여부에 조건을 추가하는 경우가 많은데 문제는 조건을 추가할 때 기존에 있던 조건들까지 모두 생각하면서 말해주지 않는다는 것이다.</p>\n<p>필자가 지금까지 일을 하면서 겪은 조건 중에 가장 복잡했던 경우를 예로 들어보겠다. 필자는 예전에 멤버십 결제 기능을 개발한 적이 있었는데 문제는 결제 수단을 입력할 수 있는 폼의 렌더 조건이 굉장히 복잡하다는 것이었다. 물론 처음부터 이렇게 복잡한 건 아니였고, 기능이 추가됨에 따라 점점 조건이 복잡해진 케이스이다.</p>\n<p>당시 조건이었던 논리식을 자연어로 그대로 써보겠다.</p>\n<blockquote>\n<p>조건 1. 사용자의 멤버십이 해지 상태가 아니고 결제 수단도 가지고 있지 않다.<br />\n조건 2. 사용자가 결제수단을 가지고 있고 결제 수단을 핸드폰으로 가지고 있으며, 현재 사용자가 고른 상품이 현재 사용자가 가지고 있는 상품이 아니고 현재 멤버십이 해지 예약상태가 아니다.</p>\n<p><code class=\"language-text\">(조건 1 || 조건 2)</code>이면 결제 수단 등록 폼이 활성화 된다.</p>\n<p><strong>조건 version 1</strong></p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c5eea607509f7340ae036675fc5d5a47/066f9/what-are-you-saying.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3AYRY4//xAAZEAADAQEBAAAAAAAAAAAAAAAAARECEiL/2gAIAQEAAQUCqHv1o5Eq6f/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAMAAwAAAAAAAAAAAAAAAAABEBESMf/aAAgBAQAGPwIxrOIU/8QAGhABAQEBAAMAAAAAAAAAAAAAAREAIUFRkf/aAAgBAQABPyHrKZRwgfcC4UnDVAw9YHk3/9oADAMBAAIAAwAAABDQD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQEAAgIDAQAAAAAAAAAAAAERACExQVFhgeH/2gAIAQEAAT8QRtXomBSkRZwZz+ZD0ceMAvVWrMpYirXRsxAGwDYS0p93n//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"what are you saying\" title=\"\" src=\"/static/c5eea607509f7340ae036675fc5d5a47/066f9/what-are-you-saying.jpg\" srcset=\"/static/c5eea607509f7340ae036675fc5d5a47/0913d/what-are-you-saying.jpg 160w,\n/static/c5eea607509f7340ae036675fc5d5a47/cb69c/what-are-you-saying.jpg 320w,\n/static/c5eea607509f7340ae036675fc5d5a47/066f9/what-are-you-saying.jpg 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>뭐 사실 저 사단이 난건 1차적으로 개발자인 필자의 잘못이긴 하지만 굳이 핑계를 대자면 시간에 쫓겨서 맨날 야근하면서 개발하다보니 저런 괴물같은 논리식이 탄생해버렸다…</p>\n<p>저렇게 개판쳐놓고나서도 다른 할 것도 너무 많았기 때문에 일단 묻어놓고 다른 프로젝트를 또 개발하던 중에 PO가 필자에게 이야기 했다.</p>\n<blockquote>\n<p>에반, 저희 결제 수단 등록 폼에 조건 하나만 더 추가할 수 있을까요?</p>\n</blockquote>\n<p>저 얘기를 듣고 다시 저 코드를 보고 PO 얼굴을 한번 본 뒤, 저걸 어떻게든 뜯어고쳐야겠다는 결론에 다다른 필자는 조용히 노트북을 들고 화이트 보드 앞으로 간 후, 저 복잡한 조건들을 어떻게든 이해할 수 있는 수준으로 만들기 위해서 발버둥쳤는데 그 결과가 이것이다.</p>\n<blockquote>\n<p>조건 1. 사용자가 멤버십 가입 상태가 아니고, 사용자가 등록한 결제 수단이 카드가 아니다.<br />\n조건 2. 사용자가 멤버십 가입 상태이고 사용자가 등록한 결제 수단이 휴대폰이며, 현재 구매하려고 선택한 멤버십이 나의 멤버십과 다른 상품이다.<br />\n조건 3. 사용자의 결제 수단 정보가 없다.</p>\n<p><code class=\"language-text\">(조건 1 || 조건 2 || 조건3)</code>이고 사용자가 선택한 결제 수단이 카드라면 결제 수단 등록 폼이 활성화 된다.</p>\n<p><strong>조건 version 2</strong></p>\n</blockquote>\n<p>사실 이것도 간단한 논리식은 아니지만 그래도 조건 1, 조건 2, 조건 3만 읽어 보았을 때 이전의 조건에 비해서 어떤 상태인지 좀 더 알아보기 쉬워졌다. <small>(라고 자기합리화를 해봅니다.)</small> 이 당시 필자가 논리식을 정리할 때 사용했던 방법이 벤다이어그램과 드 모르간 법칙이었다.</p>\n<p>벤다이어그램으로 논리식을 펼쳐놓음으로써 여러 개의 논리식 중 사실 같은 명제이지만 역의 꼴을 취하고 있는 친구들을 쉽게 찾을 수 있었고 겹치는 명제들을 골라서 합치고 좀 더 알아보기 쉬운 단위로 조건을 나누고해서 저렇게라도 만들어 놓은 것이다.</p>\n<p>물론 이 코드는 언젠가 개선을 해야한다… <small>(언젠가…)</small></p>\n<p>그리고 추가적으로 이런 논리식 외에도 데이터베이스에 질의를 던질 때 사용하는 SQL의 JOIN 개념도 보통 벤다이어그램으로 표현한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6a3a0aaa506a8ad2f6693bcadfe974cf/68e9c/sqljoin.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 72.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVR42n1Tv2/TQBTOH0SltogWiQWxsLIwwoIEA1IXBoTExtARFbEwIhbE0iKqqDFSg2PSEDsyduw4duK4+eFSO8GOfXYcO/Y5XOzUiTrwLf7u+b577333LjdPEMfxkqzxa8ii2YZc+gnD2VF78I6V+d5gAuyxZUEIs60AANuyhsPhJ+H8A6fowEnjuSg55rPY28L4rTz9EKtN/GA69YDjpGLP8ywAENmv8htH1e1T6UWlOY+iReZU/JaRb3wXdvP0PYzRgQvD0LbtVOw4DnBcRPaI+sZXcgdvP8L5MAgW4rQB3XZe0crjM+kLK81hZI7HQfI76ShcVBHHbE99Xmk+pZTKQENxGF/1HIVhS2wSBNFpiTiOg6TOOAEiOEHkTwpCg2dZpvKrCpOaV4ZFEHb7/XanM9R1SZJ831/32dQvOYo0dE2/UC963czLpRjtRr0hY5p91Z9OLctC1V5dT1xSR6+Z7kdOfs/Kb2hZHplLt1OxYY7RkvwzeoDR1sSbBb6dVI7QNe27GLP7o3XzsHzrmNostp6VODibrTL/NQwk/jnQ7xdow50gMzOxbFh3CsxtvLV9eLbzjdo8lZ7gSBysxFMEzwOuy5z3A99Hhs2Ss+OkvuOOukfKB2Rjn26/rMmNy9HS7dRP13GKxSJJkpIoYhimqur6GDa5erVcFrl6pYT/pqjMyGw8Q03T0AAahomI67rrbqNlR1FOChhVqxmmCa/N9n+Q5keNCIKAbmH9YfwD30n28wXkqg0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sqljoin\" title=\"\" src=\"/static/6a3a0aaa506a8ad2f6693bcadfe974cf/6af66/sqljoin.png\" srcset=\"/static/6a3a0aaa506a8ad2f6693bcadfe974cf/69538/sqljoin.png 160w,\n/static/6a3a0aaa506a8ad2f6693bcadfe974cf/72799/sqljoin.png 320w,\n/static/6a3a0aaa506a8ad2f6693bcadfe974cf/6af66/sqljoin.png 640w,\n/static/6a3a0aaa506a8ad2f6693bcadfe974cf/68e9c/sqljoin.png 654w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>이런 경우 복잡한 논리식이나 SQL의 JOIN문을 보고 벤다이어그램이 바로 머리 속에 떠오른다면 그냥 코드나 자연어로 이해하는 것 보다는 좀 더 직관적이고 빠르게 이해할 수 있지 않을까? 라는 생각을 해본다.</p>\n<h3 id=\"수학적-귀납법mathematical-induction\" style=\"position:relative;\">수학적 귀납법(Mathematical Induction)<a href=\"#%EC%88%98%ED%95%99%EC%A0%81-%EA%B7%80%EB%82%A9%EB%B2%95mathematical-induction\" aria-label=\"수학적 귀납법mathematical induction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>수학적 귀납법(Mathematical Induction)은 수학에서 사용하는 증명 방법 중 하나이다. 주로 어떤 명제가 모든 자연수에 대하여 성립함을 보이기 위해 사용한다. 수학적 귀납법이 무엇인가를 자세히 알아보기 전에 먼저 우리는 논리학의 논증법 투톱인 귀납논증과 연역논증에 대해서 알아야한다.</p>\n<p>간단하게 이야기해보자면 귀납논증은 “지금까지 그래왔으니까 앞으로도 그럴 것이다”라는 느낌이고 연역논증은 “전제가 맞다면 결론도 반드시 맞다”라는 느낌이다. 이걸 너무 자세히 설명하면 글이 길어지기 때문에 간단한 예시로 간만 보겠다.</p>\n<p>먼저 귀납논증은 이런 느낌이다.</p>\n<blockquote>\n<p>2000년 여름은 더웠다, 2001년 여름도 더웠다…2019년 여름도 더웠다. <strong>그러므로 여름에는 반드시 덥다.</strong></p>\n</blockquote>\n<p>귀납적인 이런 논증 방식은 모든 전제가 참이라고 해도 반드시 결론도 참이라는 법이 없다. 당장 위의 예시만 봐도 2020년 여름에는 기상이변으로 인해서 눈이 올 수도 있지 않을까? <small>(투모로우…?)</small></p>\n<p>즉, 귀납논증은 언제나 오류가 존재할 확률이 있다. 여기까지만 보면 왠지 허점투성이 논증법인 것 같지만 그래도 현대 과학은 귀납논증을 통해 끊임없는 가설을 제시하고 그걸 증명함으로써 발전해왔으므로 상당한 가치가 있는 논증법이라고 할 수 있다.</p>\n<p>반면 연역논증은 이런 느낌이다.</p>\n<blockquote>\n<p>맥북은 애플이 만든다. 내 컴퓨터는 맥북이다. <strong>그러므로 내 컴퓨터는 애플이 만들었다.</strong></p>\n</blockquote>\n<p>위 예시는 연역논증 중에서 가장 대표적인 사례인 삼단논법이다. 이게 바로 위에서 얘기한 “어떤 부분적인 전제가 맞다면 결론도 반드시 맞다”라는 의미이다. 만약 결론이 거짓이라면 전제 중 하나도 무조건 거짓이다. 즉, 연역논증은 이미 전제에 담겨있던 것을 증명하는 데는 탁월하지만 귀납논증처럼 새로운 지식을 탐구하기에는 부적절하다.</p>\n<p>하지만 우리가 프로그래밍을 할때는 새로운 지식을 탐구하는 것이 아니라 그냥 내 코드가 오류없이 완벽한가를 증명하기 위한 논증법을 사용해야하므로 귀납논증보다는 연역논증이 더 알맞다.</p>\n<p>필자가 이 두 논증법을 전부 설명한 이유는 바로 “수학적 귀납법이 귀납논증이 아니라 연역논증”이기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 547px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/092534ee3a31b64fae8d24f559633f54/97d16/ah.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGZkU6a44j/xAAbEAEBAAEFAAAAAAAAAAAAAAACAQMEESIjRP/aAAgBAQABBQLO42eSesRXmlu4vX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAdEAABBAIDAAAAAAAAAAAAAAABAAIRIQNBEFFx/9oACAEBAAY/Amk2I2jdjSg449TT0eGzdL//xAAcEAACAgMBAQAAAAAAAAAAAAABEQAhMUFRcaH/2gAIAQEAAT8hafhJ9l6j0Oh7CwAh1De6kQpna1Dk6EciJ//aAAwDAQACAAMAAAAQcy//xAAZEQABBQAAAAAAAAAAAAAAAAAAAREhMVH/2gAIAQMBAT8QuB0w/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBFB/9oACAECAQE/EFR//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBYf/aAAgBAQABPxDVYBJx3aoatjoao0+sTl3BbhKTOTxmYYNlVypQKiWf/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ah\" title=\"\" src=\"/static/092534ee3a31b64fae8d24f559633f54/97d16/ah.jpg\" srcset=\"/static/092534ee3a31b64fae8d24f559633f54/0913d/ah.jpg 160w,\n/static/092534ee3a31b64fae8d24f559633f54/cb69c/ah.jpg 320w,\n/static/092534ee3a31b64fae8d24f559633f54/97d16/ah.jpg 547w\" sizes=\"(max-width: 547px) 100vw, 547px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>아니...귀납법이라며...?</small>\n</center>\n<p>수학적 귀납법은 어떤 명제 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span>가 있을 때 다음 2가지만 충족시키면 모든 자연수에 대해서 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span>가 성립한다는 것을 의미한다.</p>\n<blockquote>\n<ol>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>은 참이다<br /></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>이 참이면 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(n + 1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>도 참이다.</li>\n</ol>\n<p>그러므로 명제 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span>는 모든 자연수에 대해서 참이다.</p>\n</blockquote>\n<p>이렇게만 얘기하면 또 머리가 아파지니까 예시를 살펴보자. 수학적 귀납법은 보통 도미노로 예시를 많이 들기 때문에 필자도 도미노를 예로 설명하겠다.</p>\n<blockquote>\n<ol>\n<li>맨 처음에 있는 도미노가 쓰러진다. <small>(<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>이 참)</small><br /></li>\n<li>무작위로 고른 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span>번째 도미노가 쓰러질 때 항상 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">n+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>번째에 세워진 도미노도 쓰러진다. <small>(<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>이 참이면 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(n + 1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>도 참)</small><br /></li>\n</ol>\n<p>그러므로 맨 처음에 있는 도미노를 쓰러트리면 반드시 모든 도미노가 순서대로 쭉쭉 쓰러진다.</p>\n</blockquote>\n<p>이것이 수학적 귀납법의 논리 전개 방식이다. 간단하게 얘기하자면 전제가 참이라는 것을 먼저 보인 후에 그 전제에서 보편적인 결론을 이끌어 내는 것이다.</p>\n<p>이런 수학적 귀납법은 알고리즘의 정당성을 검증할 때 아주 유용하게 쓰일 수 있다. 왜냐면 알고리즘이란 것은 굉장히 보편적인 규칙이고, 어떤 형태로든 반드시 반복적인 요소를 가지고 있기 때문이다.</p>\n<p>그럼 한번 유명한 알고리즘인 팩토리얼을 구하는 알고리즘을 한번 수학적 귀납법으로 풀어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">factorial</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> n <span class=\"token operator\">*</span> <span class=\"token function\">factorial</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">n = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></span>인 경우 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo stretchy=\"false\">!</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">n! = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>이다.<br /></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo stretchy=\"false\">!</mo><mo>=</mo><mi>n</mi><mo>×</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mn>.3</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">n! = n \\times (n - 1) \\times (n - 2) \\times ... 3 \\times 2 \\times 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">...3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> 이다.<br /></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mi>n</mi><mo stretchy=\"false\">!</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mi>n</mi><mo>×</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mn>.3</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">(n + 1) \\times n! = (n + 1) \\times n \\times (n - 1) \\times ... 3 \\times 2 \\times 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">...3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> 이다.</li>\n</ol>\n<p>그러므로 이 논리는 참이다.</p>\n</blockquote>\n<p>이런 식의 논리적인 사고방식은 당장 코딩할때 직접적인 도움이 되지는 않겠지만, 복잡한 문제를 만났을 때 일반화된 해결법을 찾아낼 수 있는 능력을 키워준다. 사실 이런 논증법을 적용할 수 있는 문제는 일상에서도 얼마든지 찾아볼 수 있으므로 평소에도 한번 이렇게 생각하는 습관을 들여보는 것도 나쁘지 않다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 이 포스팅에서 설명한 저런 것들 다 몰라도 느낌적인 느낌으로 프로그래밍을 잘 할수는 있다. 하지만 곰곰히 생각해보자. 저런 것들을 모르고 프로그래밍을 하고 있었다고 생각했던 분들도 그냥 이론으로 정리하지 않았을 뿐이지 알게모르게 저 개념들을 전부 사용하고 있었을 것이다.</p>\n<p>그리고 필자가 생각했을 때 수학을 배우면 가장 좋은 점은 내가 만들고 싶은 것을 만들때 적어도 이론에서 막히는 일은 없다는 것이다.</p>\n<p>필자가 예전에 작성했던 포스팅인 <a href=\"/2017/05/03/calculate-orbit-2\">행성 궤도 계산</a>이나 <a href=\"/2018/07/19/deep-learning-backpropagation\">역전파 알고리즘</a>같은 포스팅만 봐도 수식이 많이 나와서 어려워 보일 수 있다. 사실 필자도 저 친구들을 처음 만들 때 학교에서 배운 수학 같은 건 이미 가물가물한 상태였기 때문에 거의 처음부터 다시 공부해서 결국은 저 프로젝트를 완성할 수 있었다.</p>\n<p>물론 선형대수학부터 시작해서 오일러 회전, 쿼터니온 등 이름만 들어도 토할 것 같은 이론들이 처음에는 필자에게도 상당한 두려움으로 다가왔지만 일단 이해가 안되더라도 문서를 계속 보고 조금이라도 이해되는 부분이 있다면 코드로 작성한 후에 하나하나 실행시켜보면서 공식의 매커니즘을 눈으로 직접 보다보니까 어느 순간부터는 그래도 처음보다 많이 익숙해졌던 것 같다.</p>\n<p>수학은 그렇게 무서운 친구가 아니다. 위에서 예시로 나왔던 인공신경망 알고리즘의 수식도 처음 보면 뭔가 어려워보이고 복잡해보이지만 막상 코드로 풀어보니 별 거 아니였던 것처럼 말이다. 여러분은 이미 개발자로써 알게 모르게 수학이나 논리학의 개념이 몸에 배어있는 사람인데 이제 와서 수학을 겁내는 것도 좀 이상하지 않은가? 이제는 그런 마음을 다 털어버리고 한번 수학과 친해져보자.</p>\n<blockquote>\n<p>수학은 그냥 프로그래밍 언어처럼 여러분이 상상하는 것을 실현시켜줄 수 있는 <strong>도구</strong>라고 생각하자.</p>\n</blockquote>\n<p>이상으로 개발자는 수학을 잘해야할까? 포스팅을 마친다.</p>","fields":{"slug":"20190717-programmer-with-math","path":"/2019/07/17/programmer-with-math/","lang":"ko"},"frontmatter":{"title":"개발자는 수학을 잘해야할까?","subTitle":"수학은 도구일 뿐, 좋은 개발자는 논리로 성장한다","date":"Jul 17, 2019","categories":["프로그래밍","에세이","알고리즘"],"tags":["수학","프로그래밍","알고리즘","논리학","잘 하는 개발자","집합","귀납법","연역법","삼단논법"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/7dcd9f83bd0b0992a2a168e5c698d19b/3a812/thumbnail.jpg","srcSet":"/static/7dcd9f83bd0b0992a2a168e5c698d19b/3a812/thumbnail.jpg 320w,\n/static/7dcd9f83bd0b0992a2a168e5c698d19b/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/7dcd9f83bd0b0992a2a168e5c698d19b/fc5c5/thumbnail.webp 320w,\n/static/7dcd9f83bd0b0992a2a168e5c698d19b/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/7dcd9f83bd0b0992a2a168e5c698d19b/2d839/thumbnail.jpg","srcSet":"/static/7dcd9f83bd0b0992a2a168e5c698d19b/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/7dcd9f83bd0b0992a2a168e5c698d19b/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"c2d49381-cd2e-5a7b-9d73-25172cdfc958","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%9E%9C%EB%8D%A4random%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\">랜덤(Random)이란 무엇일까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%BB%B4%ED%93%A8%ED%84%B0%EC%97%90%EC%84%9C%EC%9D%98-%EB%9E%9C%EB%8D%A4\">컴퓨터에서의 랜덤</a></p>\n<ul>\n<li><a href=\"#%EC%A4%91%EC%95%99%EC%A0%9C%EA%B3%B1%EB%B2%95mid-square-method\">중앙제곱법(Mid Square Method)</a></li>\n<li><a href=\"#%EC%84%A0%ED%98%95%ED%95%A9%EB%8F%99%EB%B2%95linear-congruential-method\">선형합동법(Linear Congruential Method)</a></li>\n<li><a href=\"#%EB%A9%94%EB%A5%B4%EC%84%BC-%ED%8A%B8%EC%9C%84%EC%8A%A4%ED%84%B0mersenne-twister\">메르센 트위스터(Mersenne Twister)</a></li>\n<li><a href=\"#xor-%EC%8B%9C%ED%94%84%ED%8A%B8xor-shift\">XOR 시프트(XOR shift)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 랜덤에 대해서 한번 이야기 해볼까 한다. 랜덤이란 어떤 사건이 발생했을 때 이전 사건과 다음 사건의 규칙성이 보이지 않는, 말 그대로 무작위로 발생하는 패턴을 이야기한다. 우리가 사용하고 있는 컴퓨터도 랜덤한 패턴을 만들어야 할 때가 있고 또 실제로도 만들고 있다. 하지만 컴퓨터는 사실 그냥 기능이 많은 계산기에 불과하다. 계산기는 입력된 값을 가지고 이리 저리 가지고 놀다가 결과값을 내놓는 물건이다. 근데 이런 계산기가 어떻게 랜덤한 결과를 만들어낼 수 있는 것일까? 우리는 이 질문에 대한 답을 찾기 전에 근본…","html":"<p>이번 포스팅에서는 랜덤에 대해서 한번 이야기 해볼까 한다. 랜덤이란 어떤 사건이 발생했을 때 이전 사건과 다음 사건의 규칙성이 보이지 않는, 말 그대로 무작위로 발생하는 패턴을 이야기한다. 우리가 사용하고 있는 컴퓨터도 랜덤한 패턴을 만들어야 할 때가 있고 또 실제로도 만들고 있다.</p>\n<p>하지만 컴퓨터는 사실 그냥 기능이 많은 계산기에 불과하다. 계산기는 입력된 값을 가지고 이리 저리 가지고 놀다가 결과값을 내놓는 물건이다. 근데 이런 계산기가 어떻게 랜덤한 결과를 만들어낼 수 있는 것일까? 우리는 이 질문에 대한 답을 찾기 전에 근본적으로 랜덤이란 것이 무엇인지부터 생각해봐야한다. 진짜 무작위라는 것이 존재하기는 하는 걸까?</p>\n<h2 id=\"랜덤random이란-무엇일까\" style=\"position:relative;\">랜덤(Random)이란 무엇일까?<a href=\"#%EB%9E%9C%EB%8D%A4random%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"랜덤random이란 무엇일까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>랜덤이란 위에서 설명했듯이 무작위로 발생하는 어떠한 패턴이다.</p>\n<p>사람마다 의견이 분분하겠지만 지금 필자 머리 속에 떠오른 대표적인 랜덤은 바로 도박이다. 도박의 가장 위험한 점이 “비록 이번 판에는 잃었지만 다음 판에는 나도 딸 수 있을거야!”라는 희망인데, 이런 희망은 도박할 때 사용하는 게임들이 랜덤에서 기반하는 게임이라는 생각에서 출발하기 때문이다. 즉, 어느 정도 운빨게임이어야 한다는 것이다.</p>\n<p><a href=\"http://www.law.go.kr/precInfoP.do?precSeq=136124\" target=\"_blank\" rel=\"nofollow\">대법원 판례 2006도736</a>에도 도박의 정의를 재물을 걸고 우연에 의하여 재물의 득실을 결정하는 것이라고 이야기하고 있다. 대표적인 도박인 파칭코, 섰다, 포커, <small><strike>주식</strike></small> 등만 살펴봐도 대충 감이 온다.</p>\n<p>필자는 도박에서 사용하는 게임을 잘 모르기 때문에 누구나 해봤을 법한 가벼운 도박을 예로 들어보겠다. 필자가 중고등학생 시절을 보낸 2000년대에 전국의 중, 고등학교에서 널리 행해졌던 놀이인 판치기이다. 판치기는 워낙 전국적으로 유행했기 때문에 필자 또래의 독자분들이면 독자분들이면 한번 쯤은 해봤거나 아니면 친구들이 하는 걸 보기는 했을 거라 믿는다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/78e3e842c34112f01954aee83089586f/2f5f2/pan.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFLH0icvD//xAAbEAABBAMAAAAAAAAAAAAAAAACAAEDERASE//aAAgBAQABBQLnGBMW4A0lUgFsf//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/Aar/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAEDERIgIZH/2gAIAQEABj8CuUfR1NpYf//EABwQAAICAgMAAAAAAAAAAAAAAAERACEQQWGBof/aAAgBAQABPyFUB6UOAA4VKBL2IBS1ALV4/9oADAMBAAIAAwAAABC03//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QhZBj/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8QGP/EABoQAQEBAQEBAQAAAAAAAAAAAAERADEhYfD/2gAIAQEAAT8QU6CcaV8NLQWAkJ+5udBY+KZ4RUcySfBmCm//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"pan\" title=\"\" src=\"/static/78e3e842c34112f01954aee83089586f/c08c5/pan.jpg\" srcset=\"/static/78e3e842c34112f01954aee83089586f/0913d/pan.jpg 160w,\n/static/78e3e842c34112f01954aee83089586f/cb69c/pan.jpg 320w,\n/static/78e3e842c34112f01954aee83089586f/c08c5/pan.jpg 640w,\n/static/78e3e842c34112f01954aee83089586f/2f5f2/pan.jpg 797w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>판치기하다가 선생님들한테 걸리면 교무실로 끌려가서 바로 빠따행이었다.</small>\n</center>\n<p>그래도 혹시 판치기가 뭔지 모르는 분들이 있을 수 있으니 일단 간단하게 룰을 설명하겠다.</p>\n<blockquote>\n<ol>\n<li>적당히 두꺼운 교과서를 준비한다. 국사책이나 물리책처럼 적당히 두꺼운 책을 사용하자.</li>\n<li>각자 준비한 동전을 교과서에 올린다. 보통 100원을 건다.</li>\n<li>순서대로 교과서를 손으로 때려서 동전을 뒤집는다.</li>\n<li>모든 동전을 뒤집어서 같은 면으로 만든 사람이 판돈을 모두 가져간다.</li>\n</ol>\n</blockquote>\n<p>상식적으로 교과서를 손으로 때렸을 때 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span>개의 동전이 뒤집어 질 것이라는 계산을 하기란 쉽지 않다. 즉, 판치기는 어느 정도 랜덤에 기반한 게임이고 그래서 도박의 기본적인 특성인 사행성을 가질 수 있는 것이다.</p>\n<p>참고로 형법 제 246조 1항과 국내 도박법 판례 상 학교에서 하는 판돈이 몇백원 정도인 판치기는 일시 오락으로 판정받아서 무죄이지만, 아무리 판치기라고 해도 몇백만원 수준의 돈이 왔다갔다 하는 수준이면 도박죄로 처벌받을 수 있다는 점 알아두자.<small>(물론 저 정도 돈이 있는 사람들이면 판치기말고 다른 걸 한다…)</small></p>\n<p>그럼 이 쯤에서 처음의 그 질문을 한번 던져보겠다.</p>\n<blockquote>\n<p>이게 정말로 랜덤일까?</p>\n</blockquote>\n<p>예전에 필자의 학창시절을 생각해봐도 학교에 1-2명씩 판치기의 절대 고수들이 있었는데 이 친구들은 자신이 원하는 동전만 정확히 뒤집을 수 있는 능력을 보유하고 있었다. 예전에 TV에서도 판치기의 고수라고 나온 분이 있었는데 이 분은 뭐 거의 닥터 스트레인지 수준이었다.</p>\n<center>\n  <img src=\"/1466f2e049709fb4c86f9b9350d41f00/pan2.gif\" width=\"100%\">\n  <br>\n</center>\n<p>사실 판치기도 결국은 물리 법칙 내에서 돌아가는 판이기 때문에 판돈으로 걸린 동전의 무게, 판을 내려치는 힘, 판으로 사용된 교과서의 탄력성 등 몇가지 변수를 알면 어느 동전이 뒤집어 질지도 계산할 수 있을 것이다. 물론 이렇게 계산하는 것이 쉬운 일은 아니기 때문에 우리는 진정한 의미의 랜덤이 아니더라도 이 정도면 그냥 “랜덤하다고 치는 것”이다.</p>\n<p>즉, 우리 주변에서도 진정한 의미의 랜덤은 그렇게 많지 않다는 것을 알 수 있다. 단지 우리가 랜덤하다고 생각할 뿐이다.</p>\n<h2 id=\"컴퓨터에서의-랜덤\" style=\"position:relative;\">컴퓨터에서의 랜덤<a href=\"#%EC%BB%B4%ED%93%A8%ED%84%B0%EC%97%90%EC%84%9C%EC%9D%98-%EB%9E%9C%EB%8D%A4\" aria-label=\"컴퓨터에서의 랜덤 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 우리가 일상에서 어느 정도 우연성이 있다면 랜덤하다고 하듯이 컴퓨터도 진정한 의미의 랜덤을 만들어 내는 것이 아니라 어느 정도 납득할만한 우연성을 만들어 내고 이를 랜덤하다고 한다. 게다가 컴퓨터로 뭔가를 만드려면 어떠한 규칙을 만들어줘야 하는데, 어떠한 규칙으로 규칙이 없는 랜덤을 생성한다는 말 자체가 모순이다.</p>\n<p>그래서 우리는 랜덤은 아니지만 랜덤에 가까운 유사 랜덤(Pseudo Random)밖에 만들 수 밖에 없는 것이다. 또한 컴퓨터는 기본적으로 숫자를 기반으로 하는 일종의 계산기이기 때문에 랜덤한 사건을 만들기 위해서는 난수, 즉 랜덤한 수를 뽑아 낼 수 있어야 한다.</p>\n<p>그럼 컴퓨터는 어떻게 이런 난수 생성을 하는 걸까?</p>\n<h3 id=\"중앙제곱법mid-square-method\" style=\"position:relative;\">중앙제곱법(Mid Square Method)<a href=\"#%EC%A4%91%EC%95%99%EC%A0%9C%EA%B3%B1%EB%B2%95mid-square-method\" aria-label=\"중앙제곱법mid square method permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>중앙제곱법은 폰 노이만이 1949년에 고안한 유사 난수 생성법으로, 임의의 숫자를 제곱한 다음 이 숫자의 일부분을 가져와서 새로운 난수로 만들어내는 방법이다.</p>\n<p>임의의 4자리 난수를 만든다고 가정해보자. 초기 값은 심플하게 <code class=\"language-text\">1234</code>로 가겠다.</p>\n<table>\n<thead>\n<tr>\n<th>페이즈</th>\n<th>대상값</th>\n<th>제곱값</th>\n<th>난수</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>1234</td>\n<td>1522756</td>\n<td>1<strong>5227</strong>56</td>\n</tr>\n<tr>\n<td>1</td>\n<td>5227</td>\n<td>27321529</td>\n<td>27<strong>3215</strong>29</td>\n</tr>\n<tr>\n<td>2</td>\n<td>3215</td>\n<td>10336225</td>\n<td>10<strong>3362</strong>25</td>\n</tr>\n</tbody>\n</table>\n<p>이런 식으로 계속 중앙에 있는 값을 빼와서 제곱하면서 임의의 난수를 생성하는 방법이 바로 중앙제곱법이다. 뭔가 딱봐도 예측하기 쉬워보인다. 아무래도 폰 노이만 형이 활동하던 1950년대에 개발된 알고리즘이고, 그 당시 컴퓨터의 성능은 눈물나기 그지 없었으므로 최대한 간단한 방법을 사용한 것이다. 그래서 이 방법은 요즘에는 거의 사용되지 않는다.</p>\n<h3 id=\"선형합동법linear-congruential-method\" style=\"position:relative;\">선형합동법(Linear Congruential Method)<a href=\"#%EC%84%A0%ED%98%95%ED%95%A9%EB%8F%99%EB%B2%95linear-congruential-method\" aria-label=\"선형합동법linear congruential method permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>선형합동법은 C의 <code class=\"language-text\">rand</code>함수에서 사용하는 알고리즘이며 다음과 같은 재귀 관계식으로 정의되며 난수들의 수열을 반환한다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><msub><mi>X</mi><mi>n</mi></msub><mo>+</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mspace></mspace><mspace width=\"1em\"></mspace><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">X_{n+1} = (aX_n + c) \\mod m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span></span></div>\n<p>여기서 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span>는 난수로 된 수열이고 나머지는 그냥 임의의 정수이다. 참고로 ANSI C 표준은 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mo>=</mo><msup><mn>2</mn><mn>31</mn></msup><mo separator=\"true\">,</mo><mi>a</mi><mo>=</mo><mn>1103515245</mn><mo separator=\"true\">,</mo><mi>c</mi><mo>=</mo><mn>12345</mn></mrow><annotation encoding=\"application/x-tex\">m = 2^{31}, a = 1103515245, c = 12345</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0085em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">31</span></span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">1103515245</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">12345</span></span></span></span></span>로 정해져있다. 그럼 간단하게 한번 자바스크립트를 사용해서 구현해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> m <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">**</span> <span class=\"token number\">31</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1103515245</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> c <span class=\"token operator\">=</span> <span class=\"token number\">12345</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">rand</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> a<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> c<span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getRandomNumbers</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">randCount <span class=\"token operator\">=</span> <span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 현재 시각을 사용하여 초기값을 설정한다.</span>\n  <span class=\"token keyword\">const</span> initial <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> randomNumbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>initial<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> randCount<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    randomNumbers<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">rand</span><span class=\"token punctuation\">(</span>randomNumbers<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  randomNumbers<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> randomNumbers<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">getRandomNumbers</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>코드를 브라우저 콘솔에 붙혀넣고 실행시켜보면 인자로 주었던 10만큼의 길이를 가진 난수 배열이 출력된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1163074432</span><span class=\"token punctuation\">,</span> <span class=\"token number\">465823232</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1719475776</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1744670976</span><span class=\"token punctuation\">,</span> <span class=\"token number\">790949120</span><span class=\"token punctuation\">,</span> <span class=\"token number\">552540416</span><span class=\"token punctuation\">,</span> <span class=\"token number\">896259328</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1473241344</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1074855168</span><span class=\"token punctuation\">,</span> <span class=\"token number\">575793408</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>선형합동법의 특징은 이전에 생성된 난수를 활용한다는 것이며 최대 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span></span>만큼 경우의 수를 가지므로 최악의 경우 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span></span> 만큼의 반복 주기를 가진다. 필자가 <code class=\"language-text\">m</code> 변수를 <code class=\"language-text\">let</code> 키워드로 선언한 건 이 이유다. 한번 브라우저에서 <code class=\"language-text\">m</code> 변수에 작은 수를 할당한 다음에 <code class=\"language-text\">getRandomNumbers</code> 함수를 다시 호출해보자. 난수의 경우의 수와 동일한 값이 출현이 눈에 띄게 커진다는 것을 확인해볼 수 있다.</p>\n<p>선형합동법은 계산이 굉장히 간단하고 빠르기 때문에 초창기부터 컴퓨터에 널리 사용되었다. 그러나 선형합동법은 난수에 주기성이 있고 생성되어 나오는 난수들 사이에 상관 관계가 존재하기 때문에 마지막으로 생성된 난수와 그 외 변수들만 알면 그 다음에 생성될 난수를 모두 예측할 수 있다.</p>\n<p>문제는 그 변수들이 ANSI C 표준으로 정해져 있어서 누구든지 다 알 수 있다는 점이다. 즉, 조금 지식이 있는 사람이면 <code class=\"language-text\">rand</code> 함수의 결과를 보고 다음 난수를 미리 예상할 수 있다는 것이다.</p>\n<p>그래서 이 알고리즘은 난수가 예측당해도 상관없는 경우나 임베디드처럼 메모리를 많이 사용하지 못하는 제한된 상황에서 주로 사용한다.</p>\n<h3 id=\"메르센-트위스터mersenne-twister\" style=\"position:relative;\">메르센 트위스터(Mersenne Twister)<a href=\"#%EB%A9%94%EB%A5%B4%EC%84%BC-%ED%8A%B8%EC%9C%84%EC%8A%A4%ED%84%B0mersenne-twister\" aria-label=\"메르센 트위스터mersenne twister permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>메르센 트위스터는 엑셀, MATLAB, PHP, Python, R, C++ 등에서 사용하고 있는 난수 생성 알고리즘이며, 1997년에 마츠모토 마코토와 니시무라 다쿠지가 개발한 알고리즘이다. 메르센 트위스터라는 이름은 이 알고리즘의 난수 반복 주기가 메르센 소수인데서 유래했다.</p>\n<p>메르센 소수라고 하면 뭔가 대단한 수 같은데 사실 별 거 없다. 메르센 수는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>n</mi></msub><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">M_n = 2^{n} - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7477em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>으로 나타내며 식 그대로 2의 n제곱에서 1이 모자란 수를 말하는 것이고 메르센 소수는 그냥 이 메르센 수 중에서 소수인 것을 고른 것이다.</p>\n<p>보통 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>19937</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2^{19937} - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">19937</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>의 난수 반복 주기를 가지는 “MT19937” 알고리즘이 많이 사용되는데, C++에서도 이 알고리즘을 채택해서 사용하고 있다. 이 알고리즘의 동작 원리를 간단하게 설명하면 다음과 같다.</p>\n<blockquote>\n<ol>\n<li>seed를 사용하여 624 만큼의 길이를 가진 벡터를 생성. seed는 보통 하드웨어 노이즈나 오늘 날짜를 사용한다.</li>\n<li>이 벡터를 사용하여 624개의 유사 난수를 만든다.</li>\n<li>이 벡터에 노이즈를 준 후 다시 2번을 반복. 이 노이즈를 주는 행위를 Twist한다고 한다.</li>\n</ol>\n</blockquote>\n<p>이때 3번의 Twist하는 과정에서 GFSR(Generalized Feedback Shift Register)이라는 방법을 사용한다. GFSR은 자료가 많지 않고 대부분 논문같은 학술 자료만 있는 상황이라 필자가 자세히 알아보지는 못했으나, 열심히 구글링하고 논문들을 뜯어본 결과 LFSR(Linear Feedback Shift Register)를 약간 변형한 방법이라는 정보를 얻을 수 있었다. <small>(정보가 너무 제한적이라 LFSR 기반이 맞는지는 정확하지 않다.)</small></p>\n<p>LFSR은 이전 상태 값들을 가져와서 선형 함수를 통해 계산한 후 그걸 사용해서 다음 값을 만들어 내는 방법이다. 이때 사용하는 함수는 보통 XOR를 많이 사용하고 맨 처음 값을 시드(Seed)라고 부른다.</p>\n<img src=\"/ad9106cf75abf61d96aea27d0f40cef7/lfsr.gif\" width=\"100%\">\n<p>LFSR를 간단히 설명하자면, 우선 몇개의 메모리 주소를 골라놓고 초기화된 인풋인 시드를 레지스터에 밀어넣는다. 그러면 오른쪽으로 한칸씩 비트가 밀리게(Shifting) 된다. 그러면 우리는 끝에서 삐져나온 한개의 비트를 아웃풋에서 얻게 된다. 그 다음 미리 골라놨던 메모리 주소에 접근해서 값을 빼온 다음에 순서대로 하단에 위치한 3개의 XOR 게이트에 통과시키면 다음 인풋이 나오고 그걸 또 레지스터에 밀어넣는걸 반복하는 것이다.</p>\n<p>메르센 트위스터도 결국은 LFSR가 약간 변형된 GFSR를 사용하여 난수를 생성하기 때문에 초반에 시드를 생성해줘야한다.</p>\n<p>메르센 트위스터의 자세한 알고리즘은 위키피디아의 <a href=\"https://en.wikipedia.org/wiki/Mersenne_Twister#Algorithmic_detail\" target=\"_blank\" rel=\"nofollow\">Mersenne Twister - Algorithmic_detail</a>에서 확인할 수 있다. 필자는 2002년에 마츠모토 마코토와 니시무라 다쿠지가 자신들의 메르센 트위스터 알고리즘을 개선해서 다시 작성한 C의 MT19937 알고리즘 코드를 보고 자바스크립트로 한번 포팅해보았다. 이 코드는 최대 32bit 길이의 난수를 사용하도록 작성되어있다. 64bit용 알고리즘은 MT19937-64라고 또 따로 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">N</span> <span class=\"token operator\">=</span> <span class=\"token number\">624</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">M</span> <span class=\"token operator\">=</span> <span class=\"token number\">397</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">F</span> <span class=\"token operator\">=</span> <span class=\"token number\">1812433253</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">UPPER_MASK</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span> <span class=\"token operator\">**</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0x80000000</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">LOWER_MASK</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UPPER_MASK</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0x7fffffff</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">MATRIX_A</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x9908b0df</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MersenneTwister</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> initSeed <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">N</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> <span class=\"token constant\">N</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">seedMt</span><span class=\"token punctuation\">(</span>initSeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">seedMt</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">seed</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> s<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> seed <span class=\"token operator\">>>></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token constant\">F</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">^</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>>></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;=</span> <span class=\"token number\">0xffffffff</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">int</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> y<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> mag01 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MATRIX_A</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">>=</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> kk<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">===</span> <span class=\"token constant\">N</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">seedMt</span><span class=\"token punctuation\">(</span><span class=\"token number\">5489</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>kk <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> kk <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span> <span class=\"token operator\">-</span> <span class=\"token constant\">M</span><span class=\"token punctuation\">;</span> kk<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        y <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">UPPER_MASK</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">LOWER_MASK</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk <span class=\"token operator\">+</span> <span class=\"token constant\">M</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">^</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">>>></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">^</span> mag01<span class=\"token punctuation\">[</span>y <span class=\"token operator\">&amp;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">;</span> kk <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> kk<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        y <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">UPPER_MASK</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">LOWER_MASK</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span>kk <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">M</span> <span class=\"token operator\">-</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">^</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">>>></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">^</span> mag01<span class=\"token punctuation\">[</span>y <span class=\"token operator\">&amp;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      y <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token constant\">N</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">UPPER_MASK</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">LOWER_MASK</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token constant\">N</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token constant\">M</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">^</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">>>></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">^</span> mag01<span class=\"token punctuation\">[</span>y <span class=\"token operator\">&amp;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    y <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mt<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>index<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    y <span class=\"token operator\">^=</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">>>></span> <span class=\"token number\">11</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    y <span class=\"token operator\">^=</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token number\">0x9d2c5680</span><span class=\"token punctuation\">;</span>\n    y <span class=\"token operator\">^=</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">15</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token number\">0xefc60000</span><span class=\"token punctuation\">;</span>\n    y <span class=\"token operator\">^=</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">>>></span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> y <span class=\"token operator\">>>></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>코드 내부에 사용된 상수 <code class=\"language-text\">F = 1812433253</code>, <code class=\"language-text\">MATRIX_A = 0x9908b0df</code>, <code class=\"language-text\">this.seedMt(5489)</code> 등은 필자가 임의로 넣은 수가 아니라 MT19937의 표준 계수로 정해져 있는 수이다.</p>\n<p>사실 알고리즘 자체가 너무 복잡해서 필자도 다 이해하지는 못했다. <small>(대학 때 공부를 열심히 안한 죄…)</small> 그래도 일단 이렇게 코드로 한번 직접 작성해보면 글로만 읽을 때보다는 확실히 조금 더 이해가 되기 때문에 C로 작성된 원래 코드를 자바스크립트로 포팅한 것이다. 필자가 참고한 C 라이브러리 코드는 <a href=\"http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/CODES/mt19937ar.c\" target=\"_blank\" rel=\"nofollow\">여기서</a> 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> rand <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MersenneTwister</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>rand<span class=\"token punctuation\">.</span><span class=\"token function\">int</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2145258025</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>작성한 코드를 직접 실행해보니 랜덤한 난수가 잘 생성이 되는 것 같다. 사실 난수가 잘 생성되는지 정확하게 보려면 결과를 시각화한 후 난수의 분포도를 봐야하지만 귀찮은 관계로 일단 패스하겠다. 참고로 이 알고리즘을 만든 <a href=\"http://www.math.sci.hiroshima-u.ac.jp/~m-mat/eindex.html\" target=\"_blank\" rel=\"nofollow\">마츠모토 마코토의 홈페이지</a>에 들어가면 이 알고리즘이 왜 이런 이름을 가지게 되었는지 나와있다.</p>\n<blockquote>\n<p><strong>마코토</strong>: Knuth 교수님이 이 이름 발음하기 너무 힘들대.<br />\n<strong>다쿠지</strong>: …</p>\n<p>[며칠 후]</p>\n<p><strong>마코토</strong>: 하이 타쿤, 메르센 트위스터는 어때? 메르센 소수를 사용하기도 했고, 원형은 Twisted GFSR(Generalized Feedback Shift Register)니까.<br />\n<strong>다쿠지</strong>: 글쎄…?<br />\n<strong>마코토</strong>: 왠지 제트코스터 같이 들리는 걸? 빨라보이기도 하고 기억하고 쉽고 발음하기 좋고. 그리고 이건 비밀인데 이 이름엔 우리들의 이니셜이 숨어있지!(Makoto, Takuji)<br />\n<strong>다쿠지</strong>: …<br />\n<strong>마코토</strong>: 자자자 MT로 가는거다?<br />\n<strong>다쿠지</strong>: 음…그래</p>\n<p>나중에 우리는 Knuth 교수님으로부터 “좋은 이름인 것 같다”라는 편지를 받았다.</p>\n</blockquote>\n<p>뭔가 깨발랄한 마코토형과 시니컬한 다쿠지형 케미가 돋보인다. 뭔가 이런 대단한 알고리즘을 개발한 사람이지만 사람 냄새나는 네이밍 과정인듯.</p>\n<h3 id=\"xor-시프트xor-shift\" style=\"position:relative;\">XOR 시프트(XOR shift)<a href=\"#xor-%EC%8B%9C%ED%94%84%ED%8A%B8xor-shift\" aria-label=\"xor 시프트xor shift permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>XOR 시프트도 메르센 트위스터와 마찬가지로 LFSR을 기반으로 한 의사 난수 알고리즘이다. 어떻게 보면 메르센 트위스트의 하위호환이라고 볼 수도 있는데, 메르센 트위스트와 원리는 비슷하지만 구현이 훨씬 간단하고 작동이 빠르기 때문에 왕왕 사용된다.</p>\n<p>XOR 시프트 알고리즘은 여러 종류가 있는데, 32bit, 64bit, 128bit의 수를 사용하며 각각 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2^{32} -1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">32</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>64</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2^{64} - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">64</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>128</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2^{128} - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">128</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>의 메르센 수 난수 반복 주기를 가진다.</p>\n<p>근데 이게 TestU01이라는 난수 품질 테스트 프레임워크의 테스트를 통과하지 못해서 조금 문제가 있었다. 이걸 통과해야 ANSI C 표준이 될 수 있기 때문이다.</p>\n<p>그래서 몇가지 변종 알고리즘이 나오게 되었는데 그 중 하나가 128bit를 사용하는 XOR 시프트 128을 개량한 XOR 시프트 128 +라는 알고리즘이다. <small>(뭔가 게임 후속작 제목 같다…)</small></p>\n<p>참고로 V8, SpdierMonkey, JavaScriptCore 등 메이저 자바스크립트 엔진들이 채택한 난수 생성 알고리즘이 XOR 시프트 128 +이다. 이 알고리즘은 2016년 11월에 Sebastiano Vigna라는 분에 의해 학회에서 발표되었다. 논문 내용은 <a href=\"http://vigna.di.unimi.it/ftp/papers/xorshiftplus.pdf\" target=\"_blank\" rel=\"nofollow\">여기</a>에서 확인할 수 있다.</p>\n<p>전반적인 원리는 위에서 설명한 LFSR와 비슷하니, V8 엔진에서 <code class=\"language-text\">Math.random</code> 메소드를 어떻게 구현했는지 한번 살펴보자. 원래 코드는 C++로 작성되어있으나 여러분이 브라우저에서 코드를 쉽게 실행시켜볼 수 있도록 동일한 로직을 자바스크립트로 포팅해서 작성하겠다.</p>\n<p>V8의 XOR 시프트 128+ 알고리즘은 <a href=\"https://github.com/v8/v8/blob/main/src/base/utils/random-number-generator.h#L119C71-L120C1\" target=\"_blank\" rel=\"nofollow\">v8/src/base/utils/random-number-generator.h</a>에 작성되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// xorshift128plus.js</span>\n<span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1827981275</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1295982171</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">xorshift128plus</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> s1 <span class=\"token operator\">=</span> state<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> s0 <span class=\"token operator\">=</span> state<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  state<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> s0<span class=\"token punctuation\">;</span>\n  s1 <span class=\"token operator\">^=</span> s1 <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">23</span><span class=\"token punctuation\">;</span>\n  s1 <span class=\"token operator\">^=</span> s1 <span class=\"token operator\">>></span> <span class=\"token number\">17</span><span class=\"token punctuation\">;</span>\n  s1 <span class=\"token operator\">^=</span> s0<span class=\"token punctuation\">;</span>\n  state<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> s1<span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'레지스터의 현재 상태 -> '</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> state<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'초기 레지스터 상태 -> '</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'난수 -> '</span><span class=\"token punctuation\">,</span> <span class=\"token function\">xorshift128plus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">초기 레지스터 상태 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1827981275</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1295982171</span> <span class=\"token punctuation\">]</span>\n레지스터의 현재 상태 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1295982171</span><span class=\"token punctuation\">,</span> <span class=\"token number\">867440954</span> <span class=\"token punctuation\">]</span>\n난수 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token number\">2163423125</span>\n레지스터의 현재 상태 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">867440954</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1393243966</span> <span class=\"token punctuation\">]</span>\n난수 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token number\">2260684920</span>\n레지스터의 현재 상태 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1393243966</span><span class=\"token punctuation\">,</span> <span class=\"token number\">37812574</span> <span class=\"token punctuation\">]</span>\n난수 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token number\">1431056540</span>\n레지스터의 현재 상태 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">37812574</span><span class=\"token punctuation\">,</span> <span class=\"token number\">833890405</span> <span class=\"token punctuation\">]</span>\n난수 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token number\">871702979</span>\n레지스터의 현재 상태 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">833890405</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1661667227</span> <span class=\"token punctuation\">]</span>\n난수 <span class=\"token operator\">-</span><span class=\"token operator\">></span>  <span class=\"token number\">2495557632</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>출력된 로그를 보면 레지스터의 상태가 어떻게 변하고 있는지 알 수 있다.</p>\n<p><code class=\"language-text\">[1]</code>번 인덱스에 있던 값이 <code class=\"language-text\">[0]</code>번 인덱스로 옮겨지고 <code class=\"language-text\">[1]</code>번 인덱스에 새로운 난수를 꽂아넣은 후 두 원소를 더해서 출력하고 있다는 걸 알 수 있다.</p>\n<p>계산 과정을 보면 <code class=\"language-text\">[1]</code>번 인덱스에 새로운 값을 넣을 때는 시프팅되어 왼쪽으로 삐져나온 값인 <code class=\"language-text\">[0]</code>번 인덱스의 값을 사용하여 XOR 시프팅을 진행하고 그 값을 다시 <code class=\"language-text\">[1]</code>번 인덱스에 넣어준다.</p>\n<p>그리고 시프팅하는 상수인 <code class=\"language-text\">23</code>, <code class=\"language-text\">17</code>은 XOR 시프팅 128+ 알고리즘을 개발할 때 연구를 통해 찾아낸 최적의 상수이기 때문에 사용하는 것이다. 해당 논문을 보면 뭐 이것저것 시도해본 다음에 결과를 일일히 테스트해서 나온 결과를 비교한 도표도 함께 첨부되어있다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 처음에는 가벼운 마음으로 랜덤에 대한 이야기를 해보려고 했는데 예상보다 수학적인 내용이 많이 나와서 왠지 어려운 포스팅이 되어버린 것 같다.</p>\n<p>사실 컴퓨터라는 계산기로 진정한 의미의 난수를 만드는 것은 거의 불가능하다. 최근에 미국에서 양자컴퓨터를 사용해서 진정한 의미의 난수를 생성하는 데 성공했다고 하지만 양자컴퓨터는 아직은 우리와 너무나도 먼 이야기이기 때문에 논외로 치겠다.</p>\n<p>필자도 사실 수학을 그다지 좋아하는 편은 아니다. 하지만 이렇게 수학적인 연구를 통해 생성 규칙이 없는 난수를 만드려는 많은 사람들의 도전을 보면, 편하게 상위 레이어에서 코딩하고 있는 필자로써는 이 분들에게 굉장히 감사함을 느낀다. <small>(난 안될꺼야 아마…)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4ac69e39a60e61a01bddd4634b5d04ee/4b190/thanks.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFtswTKxRyQpB//xAAeEAACAgAHAAAAAAAAAAAAAAABAgADBBESEzEyM//aAAgBAQABBQIVFpUldj6QGXhSFbZGZmI9E6//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAACAgICAwAAAAAAAAAAAAABAgAxESEDECKBof/aAAgBAQAGPwJnY4UGeNCwYwrcbjKnA+zQ2YTmzDE99f/EAB0QAAMAAgIDAAAAAAAAAAAAAAABESExEHFRgbH/2gAIAQEAAT8hyA5S4ZvuPgSOeGnpF7nHWhKs6BUT2h8OG1n/2gAMAwEAAgADAAAAEBMPAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB0QAQEAAwACAwAAAAAAAAAAAAERACExYfAQceH/2gAIAQEAAT8QNdEUtY7mbrYqXbUJ5xNgnKwwIEwQz1dAt/MCsCFCQliW4ZAU7NWa74zj278B7PrP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"thanks\" title=\"\" src=\"/static/4ac69e39a60e61a01bddd4634b5d04ee/c08c5/thanks.jpg\" srcset=\"/static/4ac69e39a60e61a01bddd4634b5d04ee/0913d/thanks.jpg 160w,\n/static/4ac69e39a60e61a01bddd4634b5d04ee/cb69c/thanks.jpg 320w,\n/static/4ac69e39a60e61a01bddd4634b5d04ee/c08c5/thanks.jpg 640w,\n/static/4ac69e39a60e61a01bddd4634b5d04ee/4b190/thanks.jpg 800w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>연구원 분들이 기반 알고리즘을 만들어주시면 열심히 상용 어플리케이션에 써먹겠습니다...!!!</small>\n</center>\n<p>필자는 이 포스팅을 작성하면서 논문과 위키피디아를 엄청 들여다봤는데 오랜만에 영어와 수식을 너무 많이 봐서 머리에 과부하가 걸린 상태다. 그리고 다른 건 몰라도 메르센 트위스트 같은 경우는… 아니 너무 복잡하다 인간적으로…</p>\n<p>참고로 이거 만든 마츠모토 마코토님은 지금 히로시마 대학교의 수학 대학원에서 조교수로 근무하고 계신데, 이 정도 머리가 되야 강단에 설 수 있는 건가라는 생각도 든다. 완전 어나더레벨…</p>\n<p>이상으로 컴퓨터가 만드는 랜덤은 정말로 랜덤할까? 포스팅을 마친다.</p>\n<hr>\n<p>참고문헌</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Xorshift#xorshift+\" target=\"_blank\" rel=\"nofollow\">XorShift - Wikipedia</a><br />\n<a href=\"https://v8.dev/blog/math-random\" target=\"_blank\" rel=\"nofollow\">There’s Math.random(), and then There’s Math.random() - V8 Dev</a><br />\n<a href=\"http://vigna.di.unimi.it/ftp/papers/xorshiftplus.pdf\" target=\"_blank\" rel=\"nofollow\">Futher scramblings of Marsaglia’s xorshift generators - Sebastiano Vigna</a><br />\n<a href=\"https://lemire.me/blog/2017/09/08/the-xorshift128-random-number-generator-fails-bigcrush/\" target=\"_blank\" rel=\"nofollow\">The Xorshit128+ random number generator fails BigCrush - Daniel Lemire</a></p>","fields":{"slug":"20190714-what-is-random","path":"/2019/07/14/what-is-random/","lang":"ko"},"frontmatter":{"title":"컴퓨터가 만드는 랜덤은 정말로 랜덤할까?","subTitle":"중앙제곱법, 선형합동법, 메르센 트위스터 – 난수 생성 알고리즘의 비밀","date":"Jul 14, 2019","categories":["프로그래밍","알고리즘"],"tags":["Algorithm","알고리즘","난수생성","메르센 트위스터","Real Random","난수","자바스크립트","JavaScript","수학","암호학"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/a801f480d325ee0f4ce6bccd0622d392/3a812/thumbnail.jpg","srcSet":"/static/a801f480d325ee0f4ce6bccd0622d392/3a812/thumbnail.jpg 320w,\n/static/a801f480d325ee0f4ce6bccd0622d392/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/a801f480d325ee0f4ce6bccd0622d392/fc5c5/thumbnail.webp 320w,\n/static/a801f480d325ee0f4ce6bccd0622d392/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/a801f480d325ee0f4ce6bccd0622d392/2d839/thumbnail.jpg","srcSet":"/static/a801f480d325ee0f4ce6bccd0622d392/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/a801f480d325ee0f4ce6bccd0622d392/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"c8fea967-1739-5b9a-b413-e3ad5ce694d0","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%86%8C%EB%A6%AC%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\">소리란 무엇일까?</a></p>\n<ul>\n<li><a href=\"#%EC%86%8C%EB%A6%AC%EB%8A%94-%EC%95%84%EB%82%A0%EB%A1%9C%EA%B7%B8-%EC%8B%A0%ED%98%B8%EB%8B%A4\">소리는 아날로그 신호다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B0%80-%EC%86%8C%EB%A6%AC%EB%A5%BC-%EB%93%A3%EB%8A%94-%EB%B0%A9%EB%B2%95\">컴퓨터가 소리를 듣는 방법</a></p>\n<ul>\n<li><a href=\"#%EC%83%98%ED%94%8C%EB%A7%81sampling\">샘플링(Sampling)</a></li>\n<li><a href=\"#%EC%83%98%ED%94%8C-%EB%A0%88%EC%9D%B4%ED%8A%B8sample-rate%EB%A5%BC-%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">샘플 레이트(Sample Rate)를 좀 더 자세히 알아보자</a></li>\n<li><a href=\"#%EB%B9%84%ED%8A%B8-%EB%A0%88%EC%9D%B4%ED%8A%B8bit-rate\">비트 레이트(Bit Rate)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#web-audio-api%EB%A1%9C-%ED%8C%8C%ED%98%95-%EA%B7%B8%EB%A0%A4%EB%B3%B4%EA%B8%B0\">Web Audio API로 파형 그려보기</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8-%ED%8B%80-%EC%9E%A1%EA%B8%B0\">기본 틀 잡기</a></li>\n<li><a href=\"#audioanalyzer-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1\">AudioAnalyzer 클래스 작성</a></li>\n<li><a href=\"#svg-%EB%B7%B0%EB%B0%95%EC%8A%A4%EB%A5%BC-%EC%84%A4%EC%A0%95%ED%95%98%EC%9E%90\">SVG 뷰박스를 설정하자</a></li>\n<li><a href=\"#%EC%97%85%EB%A1%9C%EB%93%9C%EB%90%9C-audiobuffer-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\">업로드된 AudioBuffer 확인하기</a></li>\n<li><a href=\"#%EC%98%A4%EB%94%94%EC%98%A4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%84%EC%84%9D%ED%95%98%EA%B3%A0-%EC%A0%95%EC%A0%9C%ED%95%98%EA%B8%B0\">오디오 데이터 분석하고 정제하기</a></li>\n<li><a href=\"#%EC%9D%B4%EC%A0%9C-%EC%A7%84%EC%A7%9C-%EA%B7%B8%EB%A0%A4%EB%B3%B4%EC%9E%90\">이제 진짜 그려보자!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%8C%EC%95%85-%EC%A3%BC%EC%84%B8%EC%9A%94-dj\">음악 주세요 DJ</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 필자의 예전 직업이었던 사운드 엔지니어의 추억을 살려서 한번 오디오에 대한 이론을 설명해볼까 한다. 하지만 이론 설명만 하면 노잼이니까 오디오 이론을 기초로 자바스크립트의  API를 사용하여 간단한 오디오 파형까지 그려보려고 한다. 바로 코딩에 들어가고 싶지만 오디오에 관한 기본적인 지식이 있어야 오디오 파형을 그릴 때의 과정을 이해할 수 있으므로 이론을 최대한 지루하지 않게 설명하려고 한다. 이론이 코딩보다 재미없는 건 맞지만 오디오 파형을 그리려면 최소한 기본적으로 알고 있어야 하는 것들이니까 한번 쓱 흝어보…","html":"<p>이번 포스팅에서는 필자의 예전 직업이었던 사운드 엔지니어의 추억을 살려서 한번 오디오에 대한 이론을 설명해볼까 한다. 하지만 이론 설명만 하면 노잼이니까 오디오 이론을 기초로 자바스크립트의 <code class=\"language-text\">Web Audio</code> API를 사용하여 간단한 오디오 파형까지 그려보려고 한다.</p>\n<p>바로 코딩에 들어가고 싶지만 오디오에 관한 기본적인 지식이 있어야 오디오 파형을 그릴 때의 과정을 이해할 수 있으므로 이론을 최대한 지루하지 않게 설명하려고 한다. 이론이 코딩보다 재미없는 건 맞지만 오디오 파형을 그리려면 최소한 기본적으로 알고 있어야 하는 것들이니까 한번 쓱 흝어보자.</p>\n<h2 id=\"소리란-무엇일까\" style=\"position:relative;\">소리란 무엇일까?<a href=\"#%EC%86%8C%EB%A6%AC%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"소리란 무엇일까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>제일 먼저 소리가 무엇인지부터 알아보자. 소리를 딱 한마디로 표현하자면 바로 “진동”이다. 기본적으로 우리가 소리를 듣는다는 것은 이런 순서로 일어난다.</p>\n<hr>\n<ol>\n<li>어떤 물체가 부르르 진동을 한다. 이때 진동 주파수는 뭐 대충 <code class=\"language-text\">440hz</code>라고 치자.</li>\n<li>그 물체 주변에 있는 매질이 <code class=\"language-text\">440hz</code>의 진동을 전달한다.(일반적인 상황에서는 주로 공기)</li>\n<li>매질이 진동을 전달하면 우리의 고막도 <code class=\"language-text\">440hz</code>로 진동한다.</li>\n<li>그 진동 신호를 달팽이관이 전기 신호로 바꿔서 청신경에 전달한다.</li>\n<li>뇌가 신호를 받아서 해석한다. <code class=\"language-text\">440hz</code> 접수완료!</li>\n</ol>\n<hr>\n<p>이때 1번에서 물체가 1초에 몇 번이나 떨렸는지 표현하기 위해 우리는 헤르츠(herz, hz) 단위를 사용한다. <code class=\"language-text\">10hz</code>는 1초에 10번 진동을 했다는 의미이고 <code class=\"language-text\">1khz</code>는 1초에 1000번 진동을 했다는 것이다.</p>\n<p>참고로 예시의 <code class=\"language-text\">440hz</code>는 도레미파솔라시도할 때 “라”음이다. 결국 우리가 음악을 듣는다는 것은 결국 진동을 느끼는 것이며, 현악기면 현의 진동, 관악기면 입술이나 리드의 진동, 노래라면 성대의 진동을 듣게 되는 것이다. 아무리 감성터지는 음악도 공돌이 손에 걸리면 이렇게 분해될 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6e3222c117b2f5be65d4a041d5f0bf99/eea4a/s-oche.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABA//EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAEW9SxqiZB//8QAGBABAQEBAQAAAAAAAAAAAAAAAQARIkH/2gAIAQEAAQUCtLxXA6b/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAGRAAAwADAAAAAAAAAAAAAAAAARARACJB/9oACAEBAAY/AjahrgHK/wD/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhQZH/2gAIAQEAAT8h1PBElJpz6WXttU1HpBAxEr6f/9oADAMBAAIAAwAAABCTz//EABgRAQEAAwAAAAAAAAAAAAAAAAEAETFR/9oACAEDAQE/EBdWHt//xAAYEQEBAAMAAAAAAAAAAAAAAAABABEhUf/aAAgBAgEBPxAw7gcv/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBUWGB/9oACAEBAAE/EGkFsbi9+sCRCWR5fnWtzeFiQ9YTYClkWuZiawJVwZgAaFP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"s oche\" title=\"\" src=\"/static/6e3222c117b2f5be65d4a041d5f0bf99/c08c5/s-oche.jpg\" srcset=\"/static/6e3222c117b2f5be65d4a041d5f0bf99/0913d/s-oche.jpg 160w,\n/static/6e3222c117b2f5be65d4a041d5f0bf99/cb69c/s-oche.jpg 320w,\n/static/6e3222c117b2f5be65d4a041d5f0bf99/c08c5/s-oche.jpg 640w,\n/static/6e3222c117b2f5be65d4a041d5f0bf99/6a068/s-oche.jpg 960w,\n/static/6e3222c117b2f5be65d4a041d5f0bf99/eea4a/s-oche.jpg 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>우리가 듣는 아름다운 선율의 음악도 뜯어보면 그냥 진동 주파수 덩어리다.</small>\n</center>\n<p>이때 이 진동은 자연계에서 발생한 것이기 때문에 아날로그(Analog)의 형태로 나타난다. 사실 자연계에서 발생하는 대부분의 거시적인 신호는 아날로그 형태를 가지는데, 예를 들면 빛의 밝기가 변한다거나 바람의 세기가 변한다거나 소리의 크기가 변하는 등의 신호를 말한다.</p>\n<h3 id=\"소리는-아날로그-신호다\" style=\"position:relative;\">소리는 아날로그 신호다<a href=\"#%EC%86%8C%EB%A6%AC%EB%8A%94-%EC%95%84%EB%82%A0%EB%A1%9C%EA%B7%B8-%EC%8B%A0%ED%98%B8%EB%8B%A4\" aria-label=\"소리는 아날로그 신호다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>아날로그(Analog)는 신호나 자료를 연속적인 물리량으로 나타낸 것이다. 이게 연속적인 물리량이라고 하면 뭔가 전문적이고 어려워보이는데 풀어보면 사실 별 거 없다. 여기서 우리가 집중해야할 단어는 물리량이 아닌 “연속적”이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 605px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/48485ab8c211172e1d85631ac91b57ce/90cbd/analog.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNUlEQVR42m1S147CQBDb//8seANxQiAhSugCUjahi5rx2Qk6jsutlOxkqseOazabyIIAOJ1QOdcrkCTA41GN7XbAdltxu3G7XTTL4xjGQqPTzMqbzWy/h6Vp+Z3n5X25wLyHZRmMtT81fNyk1So6K4Dj8T3qdnsjYEM8n5/oFL/fKyhdt17Hns38ZoPteIyUUz2fbDaDXy7hWZzO58hkK0ZkosgTfZE3GiFcr7EOQyS8XYsIMyKIlDAYIKZTdtLvI+IQ2fFqhWQ4RKi8xQKeTSI2DklTOp1iSNq+Oh1MGg2uTEexsl5a+3wuReD0MmDvtWUfDgA5/BBOFLxyXK/XY/0DuUiVKBInikrifwsh8uWXUPK9RChiEogrS0BXq9UQkJOzkOlo+n+/kNBJNAnx92gjITfDN0lsZ7dzZK7fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"analog\" title=\"\" src=\"/static/48485ab8c211172e1d85631ac91b57ce/90cbd/analog.png\" srcset=\"/static/48485ab8c211172e1d85631ac91b57ce/69538/analog.png 160w,\n/static/48485ab8c211172e1d85631ac91b57ce/72799/analog.png 320w,\n/static/48485ab8c211172e1d85631ac91b57ce/90cbd/analog.png 605w\" sizes=\"(max-width: 605px) 100vw, 605px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>가로 축은 시간, 세로 축은 전압이다. 아날로그 신호는 아무리 쪼개도 끝이 없는 연속성을 가진다</small>\n</center>\n<p>그렇다면 연속적이라는 건 무슨 말일까?</p>\n<p>연속성의 대표적인 예는 바로 수이다. 자 우리가 이제 <code class=\"language-text\">1</code>부터 <code class=\"language-text\">2</code>까지 걸어간다고 생각해보자. 우리는 <code class=\"language-text\">1</code>에서 <code class=\"language-text\">2</code>까지 걸어가는 동안 몇 개의 수를 만날 수 있을까?</p>\n<p>우선 <code class=\"language-text\">1</code>과 <code class=\"language-text\">2</code>까지 거리의 절반이 되는 위치에는 <code class=\"language-text\">1.5</code>가 있을 것이다. 그 절반인 <code class=\"language-text\">1.25</code>도 있을 것이며 또 그것의 절반인 <code class=\"language-text\">1.125</code>도 있을 것이다.</p>\n<p>이런 식으로 계속 수를 쪼개다 보면 우리는 결국 이게 의미없는 삽질이라는 것을 깨닫게 된다. 만약 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>10</mn><mrow><mo>−</mo><mn>10000</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">10^{-10000}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">10000</span></span></span></span></span></span></span></span></span></span></span></span></span> 단위까지 쪼갠다 해도 우리는 그 수를 계속 해서 무한히 쪼갤 수 있다. 우리는 이런 성질을 연속이라고 부른다.</p>\n<h2 id=\"컴퓨터가-소리를-듣는-방법\" style=\"position:relative;\">컴퓨터가 소리를 듣는 방법<a href=\"#%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B0%80-%EC%86%8C%EB%A6%AC%EB%A5%BC-%EB%93%A3%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"컴퓨터가 소리를 듣는 방법 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>근데 여러분도 알다시피 컴퓨터는 <code class=\"language-text\">0</code>과 <code class=\"language-text\">1</code>밖에 이해하지 못하는 바보다. 이 방식을 우리는 디지털(Digital)이라고 부른다. 그래서 <code class=\"language-text\">0</code>과 <code class=\"language-text\">1</code>밖에 모르는 컴퓨터는 연속성을 가진 아날로그 신호를 이해할 수가 없다.</p>\n<p>그렇다면 우리가 자연에서 발생한 아날로그 형태인 소리를 컴퓨터가 듣게 해주려면 어떻게 해야할까?</p>\n<p>간단하다. 아날로그를 디지털로 바꿔주면 된다. 아날로그 신호인 소리를 컴퓨터가 알아 들을 수 있게 변경하는 과정을 알고나면 <code class=\"language-text\">Web Audio</code> API가 우리에게 주는 정보들이 뭘 의미하는 지 알 수 있다. 그럼 지금부터 아날로그를 디지털로 변경하는 과정을 알아보자.</p>\n<p>아날로그를 디지털로 변경하기 위해서는 몇가지 순서를 거쳐야 한다. 이 순서에서 어떤 값들을 사용하냐에 따라서 디지털로 변경된 소리의 해상도, 즉 음질이 결정된다.\n이때 나오는 단어가 바로 샘플 레이트(Sample Rate)와 비트 레이트(Bit Rate)이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 439px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5c4ef295d012e89f63bcd069e92fb4b5/e3b18/encoder.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVR42lVRSY7CQBDL//+VAxcQEmQlezobWciCYE6ecmUYzRxKlbTdLrvaMqZCHCdI01Sr73uM46jVtB3iJEXg+2jbVnH2aZoUH4ZB+bfbDff7HV3XwTJVhSTNkCS7KAES58cDddPCD0LFeF4UxT/Bh3BYxPlPccsYo0JhGCKKIi1+13WNPM9xPB4FzyRFjCzbOwX8H9fzPOv9QQQ51OKly+UC13XheR6CIFBgXVed2Mil9/sLo7iis23bsCyLCtHV9XrVO6UY4wCLMQ6HA2zbxvl8RiUr0EhSpqpRliVWEVnXTQc4jqMu+37Yncl6CuH00tUho3HK6XTS5aYSa9/NLFMrIRd4vV6Y5OzzADRBDh+BvWka7b87pGXuhTEJMApdksDJ2/OpO6Ibxv3L+XQWX/kbanYF0WWvlT4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"encoder\" title=\"\" src=\"/static/5c4ef295d012e89f63bcd069e92fb4b5/e3b18/encoder.png\" srcset=\"/static/5c4ef295d012e89f63bcd069e92fb4b5/69538/encoder.png 160w,\n/static/5c4ef295d012e89f63bcd069e92fb4b5/72799/encoder.png 320w,\n/static/5c4ef295d012e89f63bcd069e92fb4b5/e3b18/encoder.png 439w\" sizes=\"(max-width: 439px) 100vw, 439px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>인코더 프로그램 쓸 때 뭘 만져야 할지 모르게 만드는 어려운 단어들</small>\n</center>\n<p>단어는 어려워 보이지만 사실 간단하다. 결국 소리는 가로 축은 시간(Time), 세로 축은 진폭(Amplitude)으로 정의된 공간에 그려진 2차원의 진동 주파수 데이터이다. 이때 샘플 레이트는 가로 축의 해상도, 비트 레이트는 세로 축의 해상도를 의미하는 것이다. 이 값들은 아날로그를 디지털로 변경하는 첫번째 단계인 샘플링(Sampling)에서 활용된다.</p>\n<h3 id=\"샘플링sampling\" style=\"position:relative;\">샘플링(Sampling)<a href=\"#%EC%83%98%ED%94%8C%EB%A7%81sampling\" aria-label=\"샘플링sampling permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>샘플링은 아날로그 신호를 디지털 신호로 바꾸기 위한 첫번째 단계이다. 위에서 설명한 것처럼 아날로그 신호인 소리는 연속적인 신호이기 때문에 컴퓨터가 이 신호를 그대로 이해할 수가 없다. 우리가 마이크를 사용하여 소리를 녹음할 때, 이 아날로그 신호는 결국 전기 신호로 변환되어 컴퓨터에게 주어진다. 소리의 진동이 마이크 안에 있는 장치에 전달되면 이 장치가 전압을 올렸다 내렸다 하면서 변환하는 원리이다.</p>\n<p>하지만 우리의 바보 컴퓨터는 이렇게 까지 해줘도 이 전기 신호를 이해할 수 없다.</p>\n<p>그래서 컴퓨터는 연속적인 전기 신호를 측정하기 위해 특정 타이밍을 정해서 “이 타이밍마다 내가 전압을 측정할게!”라는 꼼수를 사용한다. 컴퓨터가 꼼수를 쓰는 이 과정을 그림으로 나타내보면 이런 느낌이다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f62ba441843fe9172b18fc5498bd765d/2c288/sampling.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcRAAAXEQHKJvM/AAAB2ElEQVR42mNgYGAQAGI+BghgZMAJ/sPkGP8zMIgBMSeQzQPVyw/ELHClbc6xwruN0/gZ8IDF0bl8S7yy5P8DDa53jRHzjWgVBwoLATGIFgZiJrDCK6te8qxwz3Bf5ZzmkV+/XwCbS0NX/eecG1prv8csyLEreaoeSMy+fj8L1BBmKA3Rszx1qtVNMTmlm3K6Sv1x3XZgz0El6xnqwbZOi+8x3msdpg8UF17oV+GyMKBCGFkdCrjokmIBlBAF4U0uaTa96dOlIYohYVafu5ivP67fDigvAcTiR0xC1SfGT7RAUsPEoOLBnjbzDCvYQGcpTUNtBgZ9QwYGPQdxVXN/26hwJyDbnJXVGKhL19/MP8BP3thRhYFBy4SV1dAASIcb+4W6K+ramgPVGTMwGPmLK/rqazu6AY1TgDmUJRQSFgxzfEost5kH6wFdI/KQn19palijI0P9fyak8GLIrlgnvMopwfUz0MUgl88MbbTP968XgHu7HqgYFh6LYrq55wZVu4C8t84p2awrbaYyzHv/IUkGHK4TY9sN9xp46x/Vc9UBWmqKHqZMyOHWnDlVdotthPfMwFrT/7jS5v//TEt9si3Xu6Q5A9ms6NKM6OxtHrl824CBzUAiAADz6odDaFdLSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sampling\" title=\"\" src=\"/static/f62ba441843fe9172b18fc5498bd765d/6af66/sampling.png\" srcset=\"/static/f62ba441843fe9172b18fc5498bd765d/69538/sampling.png 160w,\n/static/f62ba441843fe9172b18fc5498bd765d/72799/sampling.png 320w,\n/static/f62ba441843fe9172b18fc5498bd765d/6af66/sampling.png 640w,\n/static/f62ba441843fe9172b18fc5498bd765d/2c288/sampling.png 684w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>위 그림에 나타난 빨간 점이 컴퓨터가 전압을 측정한 타이밍이다. 컴퓨터는 특정 타이밍에 전기 신호를 측정하고 그 값을 저장한다. 빨간 점의 위치를 보면 저 신호는 <code class=\"language-text\">[10, 20, 30, 27, 19, 8...]</code> 뭐 이런 식으로 측정이 되었을 것이다.\n이때 저 빨간 점을 더 세밀하게, 즉 컴퓨터가 샘플 측정을 하는 간격이 짧을 수록 우리는 원래 신호에 가까운 값을 측정할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/735b3ff4a2c2bc5e9bb423aef0d67b88/7497d/high-low-sampling.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAD2EAAA9hAHVrK90AAABSklEQVR42qWSPU8CQRCG30M+D1HxO8BBPO8OLxfgDg7QihgTY0NpaWvhn6CyNf4GS2PlX7CytLU1xmhn1Ngxzi6biFeIkUmezOztzLsztwtE7ZBm0CIddcoCHE9lFqXQJRv+g43g2UKbHFjD1HcCafJAQKBNUOPExpuH8k2eFwlZ4Fwvy28DismUKuUQfBQ4mmfiqlAbQ50qLCQD7fd1NXcSuBRdxKRAj0o/cidaOjRQPN3lqMJsMDazqbyB8vke1k48jrm7ZJV9i2kydbmPhQoypeK4YhnJgsOBybhMh+mKvqXw7M4WCmd9ntTnta/EWDTRlPkrxwfI970/3pQac58W4b+KjjPcWHYEx+bFKrbJilZpvzMYXYr/YsO8UqLQkTtagnsfyGf2LxO3HX6aqN3V4N56aDx56Aznpnur4hf0KI3Wo84+Ht3+AqxFQxyT+4MwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"high low sampling\" title=\"\" src=\"/static/735b3ff4a2c2bc5e9bb423aef0d67b88/6af66/high-low-sampling.png\" srcset=\"/static/735b3ff4a2c2bc5e9bb423aef0d67b88/69538/high-low-sampling.png 160w,\n/static/735b3ff4a2c2bc5e9bb423aef0d67b88/72799/high-low-sampling.png 320w,\n/static/735b3ff4a2c2bc5e9bb423aef0d67b88/6af66/high-low-sampling.png 640w,\n/static/735b3ff4a2c2bc5e9bb423aef0d67b88/d9199/high-low-sampling.png 960w,\n/static/735b3ff4a2c2bc5e9bb423aef0d67b88/21b4d/high-low-sampling.png 1280w,\n/static/735b3ff4a2c2bc5e9bb423aef0d67b88/7497d/high-low-sampling.png 3500w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>신호 내부의 사각형이 컴퓨터가 이해한 신호의 모양이다.</small>\n</center>\n<p>이때 이 신호를 측정하는 간격을 샘플 레이트(Sample Rate)라고 하고 신호를 측정하는 과정 자체를 샘플링(Sampling)이라고 한다. 당연히 샘플 레이트가 높을 수록 소리의 해상도, 즉 음질이 더 좋을 수 밖에 없다. 특히 높은 주파수를 가진 소리, 즉 고음의 해상도가 확연하게 좋아진다.</p>\n<p>보통 CD의 음질이 <code class=\"language-text\">44.1kHz</code>, TV나 라디오 방송이 <code class=\"language-text\">48kHz</code>의 샘플 레이트를 가지는데, 이는 약 1초에 44,100번, 48,000번 샘플을 측정한다는 것이다. 저 샘플 레이트는 어떤 기준으로 정하는 걸까?</p>\n<h3 id=\"샘플-레이트sample-rate를-좀-더-자세히-알아보자\" style=\"position:relative;\">샘플 레이트(Sample Rate)를 좀 더 자세히 알아보자<a href=\"#%EC%83%98%ED%94%8C-%EB%A0%88%EC%9D%B4%ED%8A%B8sample-rate%EB%A5%BC-%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"샘플 레이트sample rate를 좀 더 자세히 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>방금 설명했듯이 CD의 경우 샘플 레이트가 <code class=\"language-text\">44.1kHz</code>이다. 그 말인 즉슨 CD에 들어가는 오디오는 컴퓨터가 아날로그 신호를 1초에 44,100번 측정한 결과물인 것이라는 것이다.</p>\n<p>하지만 인간이 들을 수 있는 영역인 가청주파수는 <code class=\"language-text\">20hz ~ 20kHz</code> 밖에 되지 않는다. 근데 왜 샘플 레이트는 <code class=\"language-text\">44.1kHz</code>, <code class=\"language-text\">48kHz</code>처럼 훨씬 크게 잡는 것일까?</p>\n<blockquote>\n<p>어차피 인간은 1초에 20,000번 진동하는 소리(20kHz)까지밖에 들을 수 없어서 44,100번 진동하는 소리(44.1kHz)를 녹음해도 어차피 들을 수 없는데?</p>\n</blockquote>\n<p>이 질문에 대한 답은 소리의 진동 사이클이 어떻게 생겼는지를 보면 이해가 된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/54209060f49749e76b0ab4da633070e6/d9199/sine-wave.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+0lEQVR42o2SWXLEIAxEuf91p0BqbaSFk8nkx46KKkuYp31kZlXtI+ZbNWD5c/Eg460BCbVyd1HFv/BxhfUondjhFb4NhmAKz7CZEVetVMLRPNoLlkf+I23iEOPnA46EyfKntLvaauAE3P4Nbzed+nqtJUuOrLXmnK2IUGG9Q4G5xFTfByIGQAWqUzzYAJzDXl6KGS/NsmumS7qgpUe62WRV3flqh7IilGFzqEzyJMhLaI66HQp/injZ6Qjh9sLWuEjQGuiK73hujkvP74KpuLr53yW5kY6DhkmmGc0rXKddT+uUXIRlrDTYxI/5j8/dvpFgs7gO4AL8Pv4CWb0B4j12ASIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sine wave\" title=\"\" src=\"/static/54209060f49749e76b0ab4da633070e6/6af66/sine-wave.png\" srcset=\"/static/54209060f49749e76b0ab4da633070e6/69538/sine-wave.png 160w,\n/static/54209060f49749e76b0ab4da633070e6/72799/sine-wave.png 320w,\n/static/54209060f49749e76b0ab4da633070e6/6af66/sine-wave.png 640w,\n/static/54209060f49749e76b0ab4da633070e6/d9199/sine-wave.png 960w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>기본적으로 오디오 주파수는 이렇게 하나의 사이클 단위로 나누어 지는데, 이때 위로 올라가는 <code class=\"language-text\">+</code> 부분이 공기가 압축되는 부분이고 아래로 내려가는 <code class=\"language-text\">-</code> 부분이 다시 공기가 팽창하는 부분이다.</p>\n<p>위에서 계속 설명했던 대로 소리란 곧 진동이고, 우리가 느끼는 것은 그 진동으로 인한 공기의 떨림이므로 압축 > 팽창 > 압축까지 모두 들어야 “떨렸다!”라고 느낄 수 있다. 즉, 우리가 들을 수 있는 20,000번의 진동은 이 사이클이 1초에 20,000번 반복되는 소리라는 것이다.</p>\n<p>압축이나 팽창 중에 하나만 주구장창 느낀다고 해서 “이게 진동이구나”라고 느낄 수는 없을 것이다.</p>\n<p>그래서 오디오 신호의 한 사이클을 제대로 측정하려면 + 방향의 맨 위의 꼭지점 하나와 - 방향의 맨 밑의 꼭지점 하나를 모두 측정해야하기 때문에 최소 2번은 측정을 해야한다. 그래서 인간이 들을 수 있는 가장 높은 소리인 초당 20,000번의 떨림인 <code class=\"language-text\">20kHz</code>을 제대로 측정하려면 컴퓨터는 최소한 1초에 <code class=\"language-text\">20,000 * 2 = 40,000번</code> 측정을 해야 하는 것이다.</p>\n<p>이게 바로 CD가 왜 <code class=\"language-text\">44.1kHz</code>의 샘플 레이트를 가지고 있는지에 대한 이유다. 이걸 나이퀴스트 이론(Nyquist Theorem)이라고 한다. 즉, 나이퀴스트 이론을 한마디로 정리하자면</p>\n<blockquote>\n<p>측정하고 싶은 오디오 주파수있지? 오디오 신호 제대로 다 살리고 싶으면 최소한 그 주파수보다 두배는 더 빠르게 측정해야된다.</p>\n<p>그러니까 최소한 측정하고 싶은 오디오 주파수의 두 배 사이즈의 샘플 레이트를 준비하렴.</p>\n</blockquote>\n<p>인 것이다. 근데 여기서 또 의문이 생긴다. 저 이론에 따르면 인간의 가청주파수는 <code class=\"language-text\">20,000hz</code>니까 딱 40,000번만 측정하면 인간이 들을 수 있는 소리는 다 녹음할 수 있는데 왜 44,100번이나 48,000번까지 측정하는 걸까?</p>\n<p>자연에는 인간만 있는 것이 아니라 이런 친구들도 있기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f9e7d3854217d95b93299ec30c34597c/eea4a/dolphin.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABspui5kWX/8QAGBAAAgMAAAAAAAAAAAAAAAAAAhAAESL/2gAIAQEAAQUCIqmma//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAwEBPwFQf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABwQAAICAgMAAAAAAAAAAAAAAAABETFBUWFxkf/aAAgBAQABPyHA9JSNdF8F2M1DRg//2gAMAwEAAgADAAAAEGvP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxABwW3/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QV2f/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFRYYHR/9oACAEBAAE/EKacN9PUGWE4OS+CJgtqtXqUMck+xVFIwyF6n//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dolphin\" title=\"\" src=\"/static/f9e7d3854217d95b93299ec30c34597c/c08c5/dolphin.jpg\" srcset=\"/static/f9e7d3854217d95b93299ec30c34597c/0913d/dolphin.jpg 160w,\n/static/f9e7d3854217d95b93299ec30c34597c/cb69c/dolphin.jpg 320w,\n/static/f9e7d3854217d95b93299ec30c34597c/c08c5/dolphin.jpg 640w,\n/static/f9e7d3854217d95b93299ec30c34597c/6a068/dolphin.jpg 960w,\n/static/f9e7d3854217d95b93299ec30c34597c/eea4a/dolphin.jpg 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>안녕하세요. 저는 최대 150kHz까지도 소리를 발사할 수 있슴다.</small>\n</center>\n<p>사실 자연에는 우리가 듣지 못하는 훨씬 높은 소리들도 존재한다. 단지 우리가 <code class=\"language-text\">20kHz</code>까지밖에 못 들을 뿐이다. 뭐 박쥐나 돌고래 같은 친구들은 훨씬 고음역대의 소리를 내지 않는가?</p>\n<p>근데 이 소리가 <code class=\"language-text\">40kHz</code>의 샘플 레이트를 준비한 그릇에 들어오면 어떻게 될까? 컴퓨터는 1초에 20,000번의 사이클을 도는 소리를 제대로 측정하기 위해 1초에 40,000번 전압을 측정하려고 했는데 만약 1초에 30,000번의 사이클을 도는 훨씬 더 높은 주파수의 소리가 들어와버린다면?</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 572px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1c9dd2b354904b4b414af5ba807e5204/a805e/nyquist-error.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABo0lEQVR42mVTW46jMBDk/odb7QHmY5REIcEYx28bMDXdDWwy2pZsisL9qjbd5XKBMQbjOEIphWlU0FoR1hgGXsRpDa3275oxrROrYRBfjnG73dBN0wS2jbdlQQsRNTeUClRa8wI03lIk0PDL+ECM2A7eWvsO2DYKWQImVXG/lj0JccynKWGJ5FyyJGaeg2wcrBS0nN8Buezdu2ENiRI2qUacJFNDi8QnevfhXd2ySnXgc2HnX68XOu5d4s0zks6Q4uNHe8SDqmD/MoVTHOGkZWZIJjbnHLp+6rFghvEWLjgUVORikatDPnAiPNOX71vA0yTBKdOZeT+TkkHdEganqOVHLznDGKjrdddorqTNoVcknuRgPKcCb4rg9sG3nIB1gbFUob5epfo17Hrg0I3S7jh+8isWG8H+MvXTVtajon/QUP7+eSJ5Jo4ApzMLzZmOCf4zCpR9RXHlI96G7y+SbaKhDPcBnHKjO/jL+J2r4+z/3b2AWprk4mPczFZWWJKve9AWvZMJ8fLey33ip6drYA9O+BMT78jHGE9/zO6XqPJn3+MHKHJYsi4mGRwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"nyquist error\" title=\"\" src=\"/static/1c9dd2b354904b4b414af5ba807e5204/a805e/nyquist-error.png\" srcset=\"/static/1c9dd2b354904b4b414af5ba807e5204/69538/nyquist-error.png 160w,\n/static/1c9dd2b354904b4b414af5ba807e5204/72799/nyquist-error.png 320w,\n/static/1c9dd2b354904b4b414af5ba807e5204/a805e/nyquist-error.png 572w\" sizes=\"(max-width: 572px) 100vw, 572px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<blockquote>\n<p>정답. 점을 이상한데다가 찍기 시작한다.</p>\n</blockquote>\n<p>그림을 보면 컴퓨터가 점을 찍는 간격, 즉 전압을 측정하는 간격보다 들어온 신호의 사이클이 더 짧다. 그래서 컴퓨터가 찍은 점을 보면 신호의 꼭지점이 아닌 어중간한 어딘가에 찍힌 것을 볼 수 있다. 이것이 바로 나이퀴스트 이론이 가지고 있는 함정이다. 그리고 저 어중간한데 찍힌 점들을 이어본 파란색 선을 보면 결국 낮은 주파수가 된 것을 알 수 있다. 그러면 어떻게 될까?</p>\n<p>우리 귀에 아주 잘 들린다. 참 소름돋는 순간이다! 녹음할 때는 분명히 아무것도 안들렸는데 녹음한 걸 들어보니 이상한 소리가 녹음되어있으니 말이다. 그래서 이 현상을 “유령 주파수(Ghost Frequency)“라고 부른다.</p>\n<blockquote>\n<p>아니 그러면 샘플 레이트를 팍팍 올리면 되잖아! 높은 소리도 제대로 녹음되면 문제 해결 아닌가?</p>\n</blockquote>\n<p>하지만 이 디지털 오디오 기술이 처음 사용되기 시작한게 1970년대이기 때문에 무작정 샘플 레이트를 올리기에는 하드웨어 용량이 못 따라갔었다.</p>\n<p>그래서 이 문제를 해결하기 위해 사용한 방법이 바로 LPF(Low Pass Filter)이다. 이 필터는 전기 쪽 공부하신 분들은 매우 익숙할텐데, 말 그대로 낮은(Low) 주파수만 통과(Pass)시키는 필터이다. 오디오 녹음을 할때 LPF를 사용해서 인간의 가청 주파수보다 높은 소리는 다 잘라버리고 인간의 가청 주파수 영역의 소리만 통과시키면 방금 얘기한 고스트 주파수가 생길 일도 없기 때문이다.</p>\n<p>근데 또 아날로그 신호라는 게 그렇게 무 자르듯이 싹뚝! 잘리는 게 아니다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/bcb489965646eb5446167bbddb504813/c1b63/cut-off.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVR42o1STY8hYRDuHQYzPnr1rm0d7aNFxmDGmPVtkT0gEb9BIiGcCIk4uDiKiIOjxMWJiASJCAdxc/ILHOeP2CrRSU/PJLNv8qSrq+p53qp6i1itVublcskJsdvtzKPR6CGZTHoIgrAyDPOIQDuVSr1gDHPEPNQi9vu9QojT6SQfDAb3JpPJazab9SAirVQqdD6fp8C+5TiOxli321VirphPiM6365cF0LxzvV5rDofDnSDvF8Ao4nx6+KANoOSdcLNKdLvymsNzEBKAjKjX6/pqtcoI4XA4gtls1oQxaJXudDr2drttxdYxXigUWLfbHSyVSoZms8nAXHEcPwAeotVqyXhAFVKv10tC8uv5fJaWy2U5+KXT6ZTq9/satNEHsRuXy/USjUa1yIG45FrlzYeeaZpWhsPhV+EIRDO8kCKRiMdut6uJr45Op1NBsk9IXiwW6l6v904wHo/7A4GA5r8Eg8GgV1ghtESKKwyFQr9tNpvmyxcmSfK7z+eLwCxv4ZcBuKE1n16v94ONo9Dhbvr9/jAI6j5bHeGzE1qt1ggCf0HYIpfLLeB6hhNiWRYFnxUKhQm+JtiEOMybu2pIBDrvK5TJZA+1Ws0gDIj28JLXaDRYiqIcHyqEKvAWK6zKUyaTSeRyuQi8qhPmxs1mM/N8PjdOJpMn+Lejjb7xeGzZbDaPsKN/0ul0ErmocdFyOp0qRCKRIKEy6ng83sOjWIbDoXq73Srf3t7u4CJDsVj8iTb6MBaLxTjMRQ5yeZ1/c43gleg9ctcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cut off\" title=\"\" src=\"/static/bcb489965646eb5446167bbddb504813/6af66/cut-off.png\" srcset=\"/static/bcb489965646eb5446167bbddb504813/69538/cut-off.png 160w,\n/static/bcb489965646eb5446167bbddb504813/72799/cut-off.png 320w,\n/static/bcb489965646eb5446167bbddb504813/6af66/cut-off.png 640w,\n/static/bcb489965646eb5446167bbddb504813/d9199/cut-off.png 960w,\n/static/bcb489965646eb5446167bbddb504813/c1b63/cut-off.png 1200w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>LPF를 써도 결국 잘린 부분이 저렇게 비스듬하게 꺾이면서 약간 아쉬운 부분이 남게된다. 이때 그림에 표시된 허용 범위인 <code class=\"language-text\">-3db</code> 밑으로 떨어지기 시작하는 곳을 Cut Off라고 부른다. 저기에서부터 신호가 잘렸다고 치겠다는 것이다.</p>\n<p>그럼 Cut Off되는 부분을 <code class=\"language-text\">20kHz</code>보다 조금 더 밑으로 내리면 <code class=\"language-text\">20kHz</code> 언저리에서 신호가 사라지게 만들 수 있지 않을까? 라는 생각도 들지만 그 문제 때문에  <code class=\"language-text\">20kHz</code>의 주파수 영역을 전부 활용하지 못하는 건 너무 아깝다고 판단이 들었나보다.</p>\n<p>그래서 Cut Off를 딱 <code class=\"language-text\">20kHz</code>에 맞추고 남는 부분은 그냥 감수하자고 합의가 된 것이다. 당시 기술로 저 남는 부분을 줄이고 줄여서 맞춘게 딱 <code class=\"language-text\">2,050hz</code>였다.</p>\n<p>그럼 이제 남는 부분과 가청주파수를 합쳐보면 <code class=\"language-text\">22,050hz</code>가 된다. 나이퀴스트 이론에 따르면 우리는 최소한 2배의 샘플 레이트를 준비해야 이 신호를 제대로 측정할 수 있으므로 결국 CD의 표준 샘플 레이트가 <code class=\"language-text\">44,100hz = 44.1kHz</code>가 된 것이다.\n뭐 그 외에도 당시 기술의 한계 외에도 기업들끼리 싸우기도 하고 어른의 사정도 있는 등 국제 표준을 정할 때 늘 발생하는 여러가지 이슈가 있었지만 대표적인 기술적인 이슈는 이 이유였다.</p>\n<p>그 후 <code class=\"language-text\">48kHz</code>, <code class=\"language-text\">96kHz</code>, <code class=\"language-text\">192kHz</code> 등의 높은 샘플 레이트는 그냥 디바이스가 발전하면서 기술적인 제한이 없어졌으니까 “샘플 레이트는 클수록 좋지! 뿜뿜”하면서 늘린 것이다.</p>\n<h3 id=\"비트-레이트bit-rate\" style=\"position:relative;\">비트 레이트(Bit Rate)<a href=\"#%EB%B9%84%ED%8A%B8-%EB%A0%88%EC%9D%B4%ED%8A%B8bit-rate\" aria-label=\"비트 레이트bit rate permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>비트 레이트는 샘플링에 비하면 초 간단하다. 특히 우리 같은 개발랭이들에게 익숙한 이름인 “Bit”가 붙어있지 않은가? 샘플 레이트가 소리의 가로 해상도 역할을 한다면 비트 레이트는 세로 해상도 역할을 한다.</p>\n<p>샘플 레이트와 마찬가지로 비트 레이트도 CD를 기준으로 설명하는 게 보편적이기 때문에 다시 CD를 기준으로 설명하겠다.</p>\n<p>CD의 비트 레이트는 <code class=\"language-text\">16bit</code>인데 이건 말 그대로 세로로 <code class=\"language-text\">16bit</code> 만큼의 해당하는 값을 표현할 수 있다는 얘기이다. 아까 위에서 설명한 샘플링을 진행할 때 전압을 측정했었다. 이때 컴퓨터가 측정한 이 전압의 값을 얼마나 섬세하게 표현할 수 있느냐를 비트 레이트가 결정하는 것이다. <code class=\"language-text\">16bit</code>면 16자리의 이진법을 사용할 수 있다는 것이고 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>16</mn></msup><mo>=</mo><mn>65536</mn></mrow><annotation encoding=\"application/x-tex\">2^{16} = 65536</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">16</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">65536</span></span></span></span></span>이니까 0부터 65,536까지 총 65,537개의 값을 사용할 수 있는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b1bb1c1aa17f6cf158141942536a758f/f2239/bitrate.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAD2EAAA9hAHVrK90AAABdUlEQVR42o2S20oCURSGf8dDaTNqGo4zlqZJgXfVRVcWSRCkIlSSZUJhWCoeShANKQIpCrrqEXqHeoAezP45BBFFLvhYh2HW3v9aGwAmiVv3sY8wlLscvPtFhO53sPQ+z7qdzBAvDLPgH/PohF8TmD6sQrBdMD9nnxJ8+RbibwvMgySA25GA5VEc4oZ2gPRXQxHhoQL/WZ3xMSkDQpU+T9+A2i/AW4swl4GRBbPPTiDhYG4jArF+Q8v5QX3MwKZeMd4lp0ZT6x59BfZQBcpTDoj8lGz5Xb5NScK50mLU5gEV+gbpG7IFrV6DlGrDk+4wLrB2YiqpmxT13B6oYCKyaUg2FuM0cRny9PpXTYK/XIVjrseYCF16bSwDxk36DqT0EGIqgTHNBU82CvXmgJKa5pxLpoIjTK1eIviwbl5iHPNpzyqE6Msi3NlrYxza0jgOR6wFmYuDom3eP+4NtYZx/Qe5s6Y/L3GrB3G7C3WQgSup6AcC8id2pjciNdJZ2gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"bitrate\" title=\"\" src=\"/static/b1bb1c1aa17f6cf158141942536a758f/6af66/bitrate.png\" srcset=\"/static/b1bb1c1aa17f6cf158141942536a758f/69538/bitrate.png 160w,\n/static/b1bb1c1aa17f6cf158141942536a758f/72799/bitrate.png 320w,\n/static/b1bb1c1aa17f6cf158141942536a758f/6af66/bitrate.png 640w,\n/static/b1bb1c1aa17f6cf158141942536a758f/d9199/bitrate.png 960w,\n/static/b1bb1c1aa17f6cf158141942536a758f/21b4d/bitrate.png 1280w,\n/static/b1bb1c1aa17f6cf158141942536a758f/f2239/bitrate.png 3116w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    비트 레이트가 높을 수록 아날로그 신호 내부의 막대가 더 꼼꼼하게 채워지는 것을 볼 수 있다.<br>\n    +와 -를 합쳐서 비트를 세는 signed이기 때문에 그림에는 50% 씩만 표현되어있는 것이다.\n  </small>\n</center>\n<p>물론 아날로그인 소리 신호가 변환된 전압 값이 <code class=\"language-text\">123</code> 같이 딱 떨어지는 정수일리가 없으므로 우리가 사용할 수 있는 <code class=\"language-text\">0-65536</code> 중 근사치를 찾아서 바꿔주는데 이 과정을 양자화(Quantizing)라고 부른다. <small>(양자역학에서 나오는 그 양자랑 같은 의미 맞다.)</small></p>\n<p>이후 <code class=\"language-text\">0-65536</code>의 값으로 변경된 전압을 컴퓨터가 이해할 수 있는 이진수(Binary)로 변경하는 과정을 부호화(Coding)라고 한다.</p>\n<p>이런 것들은 우리같은 개발랭이들은 워낙 익숙한 문제이기 때문에 이 정도만 설명하고 넘어가겠다.</p>\n<h2 id=\"web-audio-api로-파형-그려보기\" style=\"position:relative;\">Web Audio API로 파형 그려보기<a href=\"#web-audio-api%EB%A1%9C-%ED%8C%8C%ED%98%95-%EA%B7%B8%EB%A0%A4%EB%B3%B4%EA%B8%B0\" aria-label=\"web audio api로 파형 그려보기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 드디어 길고 길었던 소리 이론이 끝났다. 필자는 디지털로 변환된 오디오를 가지고 파형을 그려보는 것이 목적이기 때문에 아날로그에서 디지털로 변환하는 과정만 다뤘고, 반대로 디지털에서 아날로그로 변환하는 과정은 이 포스팅에서 다루지 않을 예정이다. 근데 이것도 나름 재밌으므로 따로 찾아보길 강추한다. 필자는 오디오 파일을 업로드해서 해당 오디오 파일을 <code class=\"language-text\">Web Audio</code> API로 분석하여 필요한 데이터를 뽑아내고 <code class=\"language-text\">svg</code> 엘리먼트를 사용하여 파형을 그릴 것이다.</p>\n<p>참고로 프로젝트는 <code class=\"language-text\">webpack4</code>와 <code class=\"language-text\">babel7</code>을 사용하여 초간단하게 구성했다. 자세한 코드는 <a href=\"https://github.com/evan-moon/simple-waveform-visualizer\" target=\"_blank\" rel=\"nofollow\">깃허브 레파지토리</a>에서 확인 해볼 수 있다.</p>\n<h3 id=\"기본-틀-잡기\" style=\"position:relative;\">기본 틀 잡기<a href=\"#%EA%B8%B0%EB%B3%B8-%ED%8B%80-%EC%9E%A1%EA%B8%B0\" aria-label=\"기본 틀 잡기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>그럼 먼저 HTML을 간단하게 작성하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>audio-uploader<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>waveform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">preserveAspectRatio</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>none<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>waveform-path-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>HTML은 이게 끝이다. 오디오 파일을 업로드할 <code class=\"language-text\">input</code> 엘리먼트 하나와 파형을 그릴 <code class=\"language-text\">svg</code> 엘리먼트 하나만 있으면 된다. 어차피 테스트 용도라서 UI가 중요한게 아니기 때문에 기능 구현에 충실했다.<small>(라고 포장을 해봅니다)</small></p>\n<p>이제 파일이 업로드되면 실행될 이벤트 핸들러를 작성하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> inputDOM <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'audio-uploader'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  inputDOM<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onchange</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>currentTarget<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsArrayBuffer</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">FileReader.prototype.readAsArrayBuffer</code> 메소드는 바이너리 형태인 파일을 한번에 반환하는 것이 아니라 일정 단위의 청크(Chunk)로 반환하는 메소드이다. 보통 뭐 서버로 파일 업로드 한다거나 할 때 많이 사용한다.</p>\n<p>원래는 이 <code class=\"language-text\">ArrayBuffer</code>를 처리해주기 위한 별도의 로직을 작성해야하지만 이번에 사용할 <code class=\"language-text\">Web Audio</code> API가 내부적으로 <code class=\"language-text\">ArrayBuffer</code>를 알아서 처리해주기 때문에 걱정하지 않아도 된다.</p>\n<h3 id=\"audioanalyzer-클래스-작성\" style=\"position:relative;\">AudioAnalyzer 클래스 작성<a href=\"#audioanalyzer-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%9E%91%EC%84%B1\" aria-label=\"audioanalyzer 클래스 작성 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 본격적으로 <code class=\"language-text\">Web Audio</code> API를 사용해볼 차례이다. 필자는 별도로 <code class=\"language-text\">AudioAnalyzer</code>라는 싱글톤 클래스를 만들었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// lib/AudioAnalyzer.js</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AudioAnalyzer</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>window<span class=\"token punctuation\">.</span>AudioContext<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> errorMsg <span class=\"token operator\">=</span> <span class=\"token string\">'Web Audio API 지원 안돼유 ㅜㅜ'</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>errorMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>errorMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">(</span>AudioContext <span class=\"token operator\">||</span> webkitAudioContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sampleRate <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>peaks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>waveFormBox <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'waveform'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>waveFormPathGroup <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'waveform-path-group'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">reset</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">(</span>AudioContext <span class=\"token operator\">||</span> webkitAudioContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sampleRate <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>peaks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AudioAnalyzer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"svg-뷰박스를-설정하자\" style=\"position:relative;\">SVG 뷰박스를 설정하자<a href=\"#svg-%EB%B7%B0%EB%B0%95%EC%8A%A4%EB%A5%BC-%EC%84%A4%EC%A0%95%ED%95%98%EC%9E%90\" aria-label=\"svg 뷰박스를 설정하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 대충 기본 틀을 잡아주고 나서 오디오 파형을 그릴 <code class=\"language-text\">svg</code> 엘리먼트의 뷰박스를 설정할 수 있는 메소드를 하나 선언할 것이다. 소리 신호는 샘플 레이트에 따라서 들어온 데이터의 길이가 천차만별이기 때문에 뷰박스의 <code class=\"language-text\">width</code>를 오디오 데이터의 크기에 맞게 동적으로 변경해줘야지 모든 신호를 뷰박스에 딱 맞게 그릴 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">updateViewboxSize</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>waveFormBox<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'viewBox'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">0 -1 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sampleRate<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 2</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">svg</code> 엘리먼트의 <code class=\"language-text\">viewBox</code> 속성은 앞에서부터 <code class=\"language-text\">min-x</code>, <code class=\"language-text\">min-y</code>, <code class=\"language-text\">width</code>, <code class=\"language-text\">height</code>를 의미한다. 비트 레이트를 설명할 때 얘기 했듯이 오디오 신호는 부호를 가지는 signed이기 때문에 <code class=\"language-text\">0, 0</code>이 아닌 <code class=\"language-text\">0, -1</code>에서 뷰박스를 설정해야한다. 그리고 <code class=\"language-text\">width</code>는 오디오의 샘플 레이트로 잡아줘서 오디오 신호가 뷰박스의 처음부터 끝까지 꽉 차도록 설정하고 <code class=\"language-text\">height</code>는 <code class=\"language-text\">-1 ~ 1</code>까지 잡아줘야하니까 <code class=\"language-text\">2</code>로 설정했다.</p>\n<p>이렇게 선언한 <code class=\"language-text\">updateViewboxSize</code>메소드는 어플리케이션이 초기화될때 뷰박스 사이즈도 함께 초기화되도록 <code class=\"language-text\">constructor</code>와 <code class=\"language-text\">reset</code> 메소드에 적당히 추가해주었다.</p>\n<h3 id=\"업로드된-audiobuffer-확인하기\" style=\"position:relative;\">업로드된 AudioBuffer 확인하기<a href=\"#%EC%97%85%EB%A1%9C%EB%93%9C%EB%90%9C-audiobuffer-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"업로드된 audiobuffer 확인하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 <code class=\"language-text\">input</code> 엘리먼트를 통해 업로드된 오디오 파일을 디코딩하는 귀여운 setter를 하나 선언하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">setAudio</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">audioFile</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioContext<span class=\"token punctuation\">.</span><span class=\"token function\">decodeAudioData</span><span class=\"token punctuation\">(</span>audioFile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">AudioContext.prototype.decodeAudioData</code> 메소드는 <code class=\"language-text\">ArrayBuffer</code>를 받아서 <code class=\"language-text\">AudioBuffer</code>로 변환하는 메소드이다. 아까 위에서 설명했던 대로 <code class=\"language-text\">readAsArrayBuffer</code> 메소드가 반환한 <code class=\"language-text\">ArrayBuffer</code>는 한번에 모든 바이너리 데이터를 불러오는 것이 아니라 청크 단위로 불러오기 때문에 <code class=\"language-text\">decodeAudioData</code>도 변환을 동기적으로 해주지는 않는다. 그래서 이 메소드를 사용할 때는 콜백함수를 사용하거나 <code class=\"language-text\">Promise</code>를 사용해야 한다.</p>\n<p>이제 실제로 오디오 파일이 어떻게 변환되는지 보기 위해 파일을 업로드하면 <code class=\"language-text\">AudioAnalyzer</code>에게 오디오 파일을 넘기도록 변경해주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">import</span> AudioAnalyzer <span class=\"token keyword\">from</span> <span class=\"token string\">'./lib/AudioAnalyzer'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> inputDOM <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'audio-uploader'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  inputDOM<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onchange</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>currentTarget<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// AudioAnalyzer 초기화</span>\n      AudioAnalyzer<span class=\"token punctuation\">.</span><span class=\"token function\">reset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// AudioAnalyzer에게 파일 토스</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> AudioAnalyzer<span class=\"token punctuation\">.</span><span class=\"token function\">setAudio</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsArrayBuffer</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 쯤 했으면 이제 메인 함수에는 더 이상 뭘 작성할 필요가 없을 것 같다. 이제 <code class=\"language-text\">AudioAnalyzer</code>만 가지고 놀면 된다. 데이터가 어떻게 나오는지 확인하기 위해 필자가 좋아하는 가수인 거미의 “그대 돌아오면”이라는 곡의 mp3 파일을 업로드 해보았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">AudioBuffer <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> <span class=\"token number\">12225071</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">277.2124943310658</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">sampleRate</span><span class=\"token operator\">:</span> <span class=\"token number\">44100</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">numberOfChannels</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러면 <code class=\"language-text\">AudioAnalyzer</code>의 <code class=\"language-text\">setAudio</code> 메소드 내부에서 실행된 <code class=\"language-text\">decodeAudioData</code>가 <code class=\"language-text\">ArrayBuffer</code>를 받아서 <code class=\"language-text\">AudioBuffer</code>로 변환한 뒤 반환해준다. 이걸 뜯어보면 유용한 정보들이 들어있다.</p>\n<hr>\n<ul>\n<li><code class=\"language-text\">sampleRate</code>: 당연히 샘플 레이트를 의미하고 이 곡의 샘플 레이트는 <code class=\"language-text\">44,100hz</code>이다.</li>\n<li><code class=\"language-text\">numberOfChannels</code>: 이 오디오가 몇개의 채널을 가지고 있는지를 나타내는데 이 파일은 두 개의 채널이 있는 스테레오 채널 오디오 파일이다.</li>\n<li><code class=\"language-text\">length</code>: 피크(Peak)들의 개수를 의미한다. 피크는 컴퓨터가 샘플링을 진행할 때 전압을 측정한 값을 의미한다.</li>\n<li><code class=\"language-text\">duration</code>: 이 오디오 파일의 재생 길이를 초 단위로 표시해준다. “그대 돌아오면”이라는 곡은 약 277초의 길이를 가지고 있다.</li>\n</ul>\n<hr>\n<p>음 여기서 한 가지 결정해야할 것이 생겼다. 채널이 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span>개인 오디오 데이터가 들어왔을 때 그 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span>개의 채널의 오디오 파형을 모두 표현해주거나 채널을 하나로 합쳐서 파형을 표현해주어야한다. 필자는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span>개의 채널을 가진 오디오 데이터가 들어오더라도 그 채널을 모두 한개의 채널로 머지해서 파형을 그릴 예정이다.</p>\n<p>하지만 이 포스팅에서 채널을 머지하는 것까지 모두 이야기하면 너무 복잡해지기 때문에 그냥 하나의 채널만 사용하여 진행하도록 하겠다.</p>\n<h3 id=\"오디오-데이터-분석하고-정제하기\" style=\"position:relative;\">오디오 데이터 분석하고 정제하기<a href=\"#%EC%98%A4%EB%94%94%EC%98%A4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%84%EC%84%9D%ED%95%98%EA%B3%A0-%EC%A0%95%EC%A0%9C%ED%95%98%EA%B8%B0\" aria-label=\"오디오 데이터 분석하고 정제하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 필자는 기본적인 오디오 데이터인 <code class=\"language-text\">AudioBuffer</code>를 얻었다. 이제 이 데이터만 있어도 오디오 파형을 그릴 수 있다.\n이제 <code class=\"language-text\">AudioBuffer</code>에서 필요한 데이터만 뽑아서 클래스의 멤버변수들에 할당해주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">setAudio</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">audioFile</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioContext<span class=\"token punctuation\">.</span><span class=\"token function\">decodeAudioData</span><span class=\"token punctuation\">(</span>audioFile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// AudioBuffer 객체를 멤버변수에 할당</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer <span class=\"token operator\">=</span> buffer<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 업로드된 오디오의 샘플 레이트를 멤버변수에 할당</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sampleRate <span class=\"token operator\">=</span> buffer<span class=\"token punctuation\">.</span>sampleRate<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 샘플 레이트에 맞춰서 svg 엘리먼트 크기 조정</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateViewboxSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>후, 여기까지 왔으면 파형을 그릴 준비가 모두 끝났다. 우선 <code class=\"language-text\">AudioBuffer</code>에서 오디오 신호를 하나하나 뽑아보자.</p>\n<p>먼저 오디오 신호가 들어있는 배열부터 한번 살펴보자. 아까 필자가 <code class=\"language-text\">AudioBuffer</code>의 데이터를 간략하게 봤을 때 <code class=\"language-text\">numberOfChannels</code>라는 프로퍼티가 있었고 이 값이 <code class=\"language-text\">2</code>인 <code class=\"language-text\">스테레오</code> 채널이었다. 이 채널 데이터는 <code class=\"language-text\">AudioBuffer.getChannelData</code> 메소드를 통해서 가져올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer<span class=\"token punctuation\">.</span>numberOfChannels<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">getChannelData</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Float32Array(12225071) [0, 0, 0, …]</span>\n<span class=\"token comment\">// Float32Array(12225071) [0, 0, 0, …]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>아닛 어마무시한 길이의 <code class=\"language-text\">Float32Array</code>가 나왔다. 지금 필자에게 보이는 값은 전부 <code class=\"language-text\">0</code>이지만 보통 음악이 시작하자마자 쿠과과광! 하진 않기 때문에 그런거지 뒤쪽 인덱스의 엘리먼트에는 값이 제대로 들어가 있다. 그렇다고 이 값들을 그대로 사용하긴 조금 힘들고 조금 손질을 해줘야 한다.</p>\n<p>우선 저 배열에 들어있는 원소의 정체가 뭔지부터 생각해보자. 배열의 길이인 <code class=\"language-text\">12225071</code>를 사용하면 이 친구의 정체를 파악할 수 있다. 아까 우리가 <code class=\"language-text\">AudioBuffer</code>를 통해 이 곡의 재생 길이(Duration)를 봤을 때 약 277초였다. 이 곡의 샘플 레이트와 재생 길이를 곱해보면 <code class=\"language-text\">12225071</code>이 나온다. 즉, 저 원소들은 컴퓨터가 샘플 레이트에 따라 측정한 전압인 피크이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f62ba441843fe9172b18fc5498bd765d/2c288/sampling.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcRAAAXEQHKJvM/AAAB2ElEQVR42mNgYGAQAGI+BghgZMAJ/sPkGP8zMIgBMSeQzQPVyw/ELHClbc6xwruN0/gZ8IDF0bl8S7yy5P8DDa53jRHzjWgVBwoLATGIFgZiJrDCK6te8qxwz3Bf5ZzmkV+/XwCbS0NX/eecG1prv8csyLEreaoeSMy+fj8L1BBmKA3Rszx1qtVNMTmlm3K6Sv1x3XZgz0El6xnqwbZOi+8x3msdpg8UF17oV+GyMKBCGFkdCrjokmIBlBAF4U0uaTa96dOlIYohYVafu5ivP67fDigvAcTiR0xC1SfGT7RAUsPEoOLBnjbzDCvYQGcpTUNtBgZ9QwYGPQdxVXN/26hwJyDbnJXVGKhL19/MP8BP3thRhYFBy4SV1dAASIcb+4W6K+ramgPVGTMwGPmLK/rqazu6AY1TgDmUJRQSFgxzfEost5kH6wFdI/KQn19palijI0P9fyak8GLIrlgnvMopwfUz0MUgl88MbbTP968XgHu7HqgYFh6LYrq55wZVu4C8t84p2awrbaYyzHv/IUkGHK4TY9sN9xp46x/Vc9UBWmqKHqZMyOHWnDlVdotthPfMwFrT/7jS5v//TEt9si3Xu6Q5A9ms6NKM6OxtHrl824CBzUAiAADz6odDaFdLSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sampling\" title=\"\" src=\"/static/f62ba441843fe9172b18fc5498bd765d/6af66/sampling.png\" srcset=\"/static/f62ba441843fe9172b18fc5498bd765d/69538/sampling.png 160w,\n/static/f62ba441843fe9172b18fc5498bd765d/72799/sampling.png 320w,\n/static/f62ba441843fe9172b18fc5498bd765d/6af66/sampling.png 640w,\n/static/f62ba441843fe9172b18fc5498bd765d/2c288/sampling.png 684w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>저 하나하나의 피크들이 전부 Float32Array의 원소로 들어가있다.</small>\n</center>\n<p>일단 저 원소의 정체가 피크라는 것을 알았으니 이 친구들을 조금 정제해보자. 왜 이걸 정제하느냐?</p>\n<blockquote>\n<p>12,225,071개의 피크를 전부 렌더한다는 게 과연 효율적인 시각화인가…?</p>\n</blockquote>\n<p>라는 합리적 의심 때문이다. 솔직히 피크가 천만개가 찍히던 오백만개가 찍히던 어차피 우리는 조그만 모니터로 볼 것이기 때문에 굳이 이걸 하나하나 다 표현해준다는 것 자체가 큰 의미는 없다.</p>\n<p>그래서 필자는 피크들을 적당히 압축할 것이다. 모든 피크를 수집하는 것이 아니라 적당한 길이의 샘플을 만들고 해당 샘플 안의 최대값과 최소값만 수집할 것이다.</p>\n<p>위에서 설명했듯이 나이퀴스트 이론에 따르면 어차피 하나의 사이클을 표현할때 최대값 한개와 최소값 한개만 알면 아무 문제가 없다.</p>\n<p>만약 필자의 어플리케이션에 파형을 확대하는 기능이 존재한다면 확대/축소 이벤트가 발생했을 때 렌더링에 필요한 피크 개수만큼 동적으로 피크를 선정하는 과정이 필요하겠지만, 이 어플리케이션은 그 정도로 고도화되지는 않았으므로 정해진 개수의 피크만 정제하는 로직만으로 충분하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> sampleSize <span class=\"token operator\">=</span> peaks<span class=\"token punctuation\">.</span>length <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sampleRate<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sampleStep <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>sampleSize <span class=\"token operator\">/</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 예시로 0번 채널만 가져옴</span>\n<span class=\"token keyword\">const</span> peaks <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">getChannelData</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> resultsPeaks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 딱 샘플 레이트 길이인 44100개의 피크만 수집할 것이다.</span>\n<span class=\"token function\">Array</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sampleRate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> newPeakIndex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> start <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>newPeakIndex <span class=\"token operator\">*</span> sampleSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> end <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>newPeakIndex <span class=\"token operator\">+</span> sampleSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> min <span class=\"token operator\">=</span> peaks<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> max <span class=\"token operator\">=</span> peaks<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> sampleIndex <span class=\"token operator\">=</span> start<span class=\"token punctuation\">;</span> sampleIndex <span class=\"token operator\">&lt;</span> end<span class=\"token punctuation\">;</span> sampleIndex <span class=\"token operator\">+=</span> sampleStep<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> v <span class=\"token operator\">=</span> peaks<span class=\"token punctuation\">[</span>sampleIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">></span> max<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      max <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">&lt;</span> min<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      min <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  resultPeaks<span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token operator\">*</span> newPeakIndex<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> max<span class=\"token punctuation\">;</span>\n  resultPeaks<span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token operator\">*</span> newPeakIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> min<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>좀 복잡해보이지만 이 코드를 한마디로 표현하면 다음과 같다.</p>\n<blockquote>\n<ol>\n<li>샘플 레이트만큼 이터레이션을 돈다.</li>\n<li>특정 길이의 2차 샘플 구간을 정하고 그 구간 내에서 최대값과 최소값을 찾는다.</li>\n<li>resultPeaks 배열의 짝수 인덱스에 최대값을, 홀수 인덱스에는 최소값을 삽입한다.</li>\n</ol>\n</blockquote>\n<p><code class=\"language-text\">resultsPeaks</code>배열에 값을 저장할 때 <code class=\"language-text\">2 * newPeakIndex</code>와 같이 배열의 크기를 2배로 해주는 이유는 피크를 한번 이터레이션 돌 때 <code class=\"language-text\">max</code>와 <code class=\"language-text\">min</code> 최대 2개의 값을 저장해야하기 때문이다.</p>\n<p>이렇게 해서 필자는 적당히 압축된 <code class=\"language-text\">88200</code> 길이의 피크 배열 하나를 얻게 되었다.</p>\n<h3 id=\"이제-진짜-그려보자\" style=\"position:relative;\">이제 진짜 그려보자!<a href=\"#%EC%9D%B4%EC%A0%9C-%EC%A7%84%EC%A7%9C-%EA%B7%B8%EB%A0%A4%EB%B3%B4%EC%9E%90\" aria-label=\"이제 진짜 그려보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>그리는 방법은 생각보다 단순하다. 위에서 뽑아온 피크 배열을 순회돌면서 그려주기만 하면 된다.</p>\n<p>SVG의 <code class=\"language-text\">path</code> 엘리먼트는 <code class=\"language-text\">d</code> 속성에 담긴 문자열을 분석하여 선을 그려준다. 이때 <code class=\"language-text\">M</code>은 Move, 그림을 그릴 포인터를 옮기는 명령어이고 <code class=\"language-text\">L</code>은 Line, 지정한 곳까지 선을 긋는 명령어이다.</p>\n<p>즉, 우리는 포인터를 옮기고 선을 긋는 행위를 반복하면 되는 것이다. 아까 필자가 짝수 인덱스에는 최대 값을 담고 홀수 인덱스에는 최소값을 담아준 이유가 바로 여기에 있다. 이터레이션을 돌면서 짝수 인덱스 일때는 <code class=\"language-text\">M</code> 명령어를 사용하여 포인터를 옮기고 홀수 인덱스 일때는 <code class=\"language-text\">L</code> 명령어를 사용하여 선을 그리려고 한 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">draw</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioBuffer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> peaks <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>peaks<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> totalPeaks <span class=\"token operator\">=</span> peaks<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> d <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> peakIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> peakIndex <span class=\"token operator\">&lt;</span> totalPeaks<span class=\"token punctuation\">;</span> peakIndex<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>peakNumber <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        d <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> M</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>peakNumber <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>peaks<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        d <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> L</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>peakNumber <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>peaks<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElementNS</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributeNS</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>waveFormPathGroup<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">Math.floor(peakNumber / 2)</code>는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>축, <code class=\"language-text\">peaks.shift()</code>는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>축을 의미한다. 이 코드는 대략 이런 식으로 작동할 것이다. 앞에 붙은 숫자는 피크의 인덱스라고 생각하자.</p>\n<blockquote>\n<ol>\n<li>(0, 100)으로 포인터 이동</li>\n<li>(0, -25)으로 선을 긋는다.</li>\n<li>(1, 300)으로 포인터 이동</li>\n<li>(1, -450)으로 선을 긋는다.</li>\n<li>쭉쭉 반복</li>\n</ol>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1118d0dac6e09f7762f18b1e9a75eae3/2bef9/svg-graph.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIklEQVR42q1Ui3KDMAzj/792KwTIy56kBFq6lrG7cpdzcCxZdgyDf/gZrgTZ4cWuEdZatQwA7WHNus3Za0oifo7b7HtC7kFgJGAwFcXotq7tDPZ/hFS0zG4RBPRhL8LYCadRpH8TkgiqPAEMkNGCrIap+aQQ4GnywnNimASY+tDXndBKFUhqALoTBvecepKkBGUOra84Uxz2O2FCUAgAIqgweFk83769rLB4z+OI/Qrfl2eejTdP8GUkS4yjryt+UljaRVBN2BQuLxQycVNWw72Slz1UH0ncwSpZ5SVdxqHk2AlZOjDnt4xylZm+uStEqSLEYmva2fz+Ug5zSLuNBMmhgOMjNfDtt6wW5XNCf5ivbf36iuKFOTz/mO2yf/j03+YHjbqjJKikfkgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"svg graph\" title=\"\" src=\"/static/1118d0dac6e09f7762f18b1e9a75eae3/6af66/svg-graph.png\" srcset=\"/static/1118d0dac6e09f7762f18b1e9a75eae3/69538/svg-graph.png 160w,\n/static/1118d0dac6e09f7762f18b1e9a75eae3/72799/svg-graph.png 320w,\n/static/1118d0dac6e09f7762f18b1e9a75eae3/6af66/svg-graph.png 640w,\n/static/1118d0dac6e09f7762f18b1e9a75eae3/d9199/svg-graph.png 960w,\n/static/1118d0dac6e09f7762f18b1e9a75eae3/2bef9/svg-graph.png 1024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>저 과정을 반복하면 대략 이런 모양의 작대기들이 그려진다</small>\n</center>\n<p>우리가 그리려는 오디오 파형은 디지털 신호를 표현한 것이기 때문에 위에서 우리가 봤던 오디오 신호의 예시처럼 연속적인 아날로그로는 표현이 불가능 하다. 그래서 이렇게 작대기를 쭉쭉 그어가면서 표현해야하는 것이다. 이렇게 보면 상당히 허접한 그림이 나올 것 같지만, 저 선이 88,200개가 겹쳐있으면 꽤 그럴싸해보인다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4fc99e0799e666c130dfd81d1d0d3bae/3c1e5/two-dimension.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA3klEQVR42k2Pu0pDYRCEzxv6CPoAFmITFEQtUhhELSyCoHiBFFGCl0RiMELUKMGgNtqoiI9g4eWQnf38f3LkZGDYYXdY+BKC3MnluePelWeFLBt6kEL6BZaO9IKS955zvy9eL53nM+ehJvoV0d0UrSXRXhG9PdFZF6eLxsmccTRjVCeNnXGjVRJ3od9eFR99J3npiNtt8dR0HmvD482WuFgTx7NGY8G4KovzZXFYMA6mg6eM3QmjPGbU543rDdEsirdueOgZzigmGUJ0xPxH8og7yJB/4PszzN+8G5H/AOW3I13BHvjUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"two dimension\" title=\"\" src=\"/static/4fc99e0799e666c130dfd81d1d0d3bae/6af66/two-dimension.png\" srcset=\"/static/4fc99e0799e666c130dfd81d1d0d3bae/69538/two-dimension.png 160w,\n/static/4fc99e0799e666c130dfd81d1d0d3bae/72799/two-dimension.png 320w,\n/static/4fc99e0799e666c130dfd81d1d0d3bae/6af66/two-dimension.png 640w,\n/static/4fc99e0799e666c130dfd81d1d0d3bae/d9199/two-dimension.png 960w,\n/static/4fc99e0799e666c130dfd81d1d0d3bae/21b4d/two-dimension.png 1280w,\n/static/4fc99e0799e666c130dfd81d1d0d3bae/3c1e5/two-dimension.png 2854w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>작대기도 잘 그으면 예술이 된다</small>\n</center>\n<p>자, 이렇게 오디오 파형을 심플하게 그려보았다. 여기까지 해놓고 하는 말인데… 사실 <a href=\"https://github.com/katspaugh/wavesurfer.js\" target=\"_blank\" rel=\"nofollow\">WaveSurfer</a>라고 이거 해주는 라이브러리가 있다. 기능도 더 많다.</p>\n<p>그냥 내 손으로 한번 직접 그려보고 싶었다.</p>\n<h2 id=\"음악-주세요-dj\" style=\"position:relative;\">음악 주세요 DJ<a href=\"#%EC%9D%8C%EC%95%85-%EC%A3%BC%EC%84%B8%EC%9A%94-dj\" aria-label=\"음악 주세요 dj permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>파형만 그리기는 좀 아쉬우니 막간을 이용해서 메소드 하나만 더 만들어보자. 바로 이 음악을 재생하는 기능이다.\n원래 이 메소드를 만들 때 필자의 의도는 “음악이라도 좀 들으면서 만들자”였는데 이거 만들면서 같은 곡을 너무 많이 들어서 조금 질려버렸다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">play</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">buffer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> sourceBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioContext<span class=\"token punctuation\">.</span><span class=\"token function\">createBufferSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  sourceBuffer<span class=\"token punctuation\">.</span>buffer <span class=\"token operator\">=</span> buffer<span class=\"token punctuation\">;</span>\n  sourceBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>audioContext<span class=\"token punctuation\">.</span>destination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  sourceBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">AudioContext.prototype.createBufferSource</code> 메소드는 <code class=\"language-text\">AudioNode</code> 중 하나인 <code class=\"language-text\">AudioBufferSourceNode</code>라는 친구를 생성하는 메소드인데, 이 <code class=\"language-text\">AudioNode</code>에게 우리가 지금까지 가지고 놀았던 <code class=\"language-text\">AudioBuffer</code>를 넘겨주면 진짜 오디오적인 컨트롤을 할 수가 있게 도와주는 음…껍데기 같은 느낌이다.</p>\n<p><code class=\"language-text\">Web Audio</code> API는 이런 <code class=\"language-text\">AudioNode</code>들을 서로 연결해서 소리를 변조할 수 있는 기능을 제공하기 때문에 이걸 사용해서 컴프레서나 리버브 같은 오디오 이펙터도 만들 수 있다. 다음에는 한번 오디오 이펙터를 만들어보는 것을 목표로 해야겠다.</p>\n<p>완성된 샘플의 소스는 필자의 <a href=\"https://github.com/evan-moon/simple-waveform-visualizer\" target=\"_blank\" rel=\"nofollow\">깃허브 레파지토리</a>에서, 라이브 데모는 <a href=\"https://simple-audio-waveform.herokuapp.com/\" target=\"_blank\" rel=\"nofollow\">여기서</a> 확인할 수 있다.</p>\n<p>이상으로 컴퓨터는 어떻게 소리를 들을까? 포스팅을 마친다.</p>","fields":{"slug":"20190710-javascript-audio-waveform","path":"/2019/07/10/javascript-audio-waveform/","lang":"ko"},"frontmatter":{"title":"컴퓨터는 어떻게 소리를 들을까?","subTitle":"샘플링, 비트 레이트, Web Audio API로 보는 소리의 디지털 변환","date":"Jul 10, 2019","categories":["프로그래밍","오디오"],"tags":["Sound Engineering","사운드 엔지니어","나이퀴스트","Logic Pro X","로직프로","Cubase","큐베이스","Analog to Digital","AD Covert","Digital to Analog","DA Covert","샘플링","Sampling","Sample Rate","AudioContext","Bit Rate","자바스크립트","JavaScript Audio API"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/6cd3149c200b28430bab8288d044aa4c/3a812/thumbnail.jpg","srcSet":"/static/6cd3149c200b28430bab8288d044aa4c/3a812/thumbnail.jpg 320w,\n/static/6cd3149c200b28430bab8288d044aa4c/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/6cd3149c200b28430bab8288d044aa4c/fc5c5/thumbnail.webp 320w,\n/static/6cd3149c200b28430bab8288d044aa4c/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/6cd3149c200b28430bab8288d044aa4c/2d839/thumbnail.jpg","srcSet":"/static/6cd3149c200b28430bab8288d044aa4c/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/6cd3149c200b28430bab8288d044aa4c/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"be7c0ae7-da2d-5b2b-bb0a-9661bfe81244","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9B%90%EB%9E%98-%ED%95%84%EC%9E%90%EC%9D%98-%EA%B3%84%ED%9A%8D\">원래 필자의 계획</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%9C-1-%EA%B4%80%EB%AC%B8-manifestjson\">제 1 관문, Manifest.json</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%9C-2-%EA%B4%80%EB%AC%B8-service-worker\">제 2 관문, Service Worker</a></p>\n<ul>\n<li><a href=\"#%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EC%84%B8%ED%8C%85\">개발환경 세팅</a></li>\n<li><a href=\"#service-worker-%EC%9E%91%EC%84%B1\">Service Worker 작성</a></li>\n<li><a href=\"#service-worker-%EC%84%A4%EC%B9%98\">Service Worker 설치</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%9C-3-%EA%B4%80%EB%AC%B8-pushmanager\">제 3 관문, PushManager</a></p>\n<ul>\n<li><a href=\"#%EC%9E%AC%EC%95%99%EC%9D%98-%EC%8B%9C%EC%9E%91\">재앙의 시작</a></li>\n<li><a href=\"#%EB%B9%A0%EB%A5%B8-%EC%86%90%EC%A0%88\">빠른 손절</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%9C-4-%EA%B4%80%EB%AC%B8-notification-api\">제 4 관문, Notification API</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EC%A1%B4-%EA%B8%B0%EB%8A%A5%EC%97%90-notification-%EB%81%BC%EC%9B%8C%EB%84%A3%EA%B8%B0\">기존 기능에 Notification 끼워넣기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 필자가 회사에서 2019년 7월 5일 금요일 하루 동안 기존 어플리케이션에 PWA(Progressive Web Application) 기능을 붙힌 삽질기를 기록하려고 한다. PWA는 지원하지 않는 브라우저에 대한 예외처리만 꼼꼼하게 해주면 UX, 성능, SEO 등에서 무조건 플러스 요인이기 때문에 예전부터 계속 해보고 싶었다. 하지만 시간이 없어서 계속 미루고 있었는데 마침 어제 간만에 필자에게 여유 시간이 주어졌다. 필자가 지금 작업하고 있는 프로젝트가 회사의 비즈니스 모델과 밀접한 관련이 있는 프로젝트이고, …","html":"<p>이번 포스팅에서는 필자가 회사에서 2019년 7월 5일 금요일 하루 동안 기존 어플리케이션에 PWA(Progressive Web Application) 기능을 붙힌 삽질기를 기록하려고 한다. PWA는 지원하지 않는 브라우저에 대한 예외처리만 꼼꼼하게 해주면 UX, 성능, SEO 등에서 무조건 플러스 요인이기 때문에 예전부터 계속 해보고 싶었다.</p>\n<p>하지만 시간이 없어서 계속 미루고 있었는데 마침 어제 간만에 필자에게 여유 시간이 주어졌다.</p>\n<p>필자가 지금 작업하고 있는 프로젝트가 회사의 비즈니스 모델과 밀접한 관련이 있는 프로젝트이고, 또 워낙 이 기능에 관련된 사내 이해관계자들이 많아서 PO가 테스트를 좀 더 꼼꼼히 하고 싶다고 했기 때문이다.</p>\n<p>그래서 금요일 하루, 정확히 말하면 오전에는 버그 터진거 하나 핫픽스하고 점심먹고나서 자료 조사도 한 시간 정도 해본 다음에 15시 30분 쯤부터 시작해서 22시 55분까지 달렸다. 원래 필자는 근무시간에 열심히 하고 다른 시간은 나에게 투자하자는 주의라 야근은 왠만하면 안하는데, 필자에게 주어진 시간이 하루 밖에 없어서 그 안에 무조건 끝내야 했던 것도 있지만 사실 제일 큰 이유는…</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4b791df3dd464ea532b95b6c21f7e0e7/acb04/tyson.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAeacpxrNRZehUA//xAAbEAEAAgIDAAAAAAAAAAAAAAABABECAxIiMf/aAAgBAQABBQKsV601MVI7Fj7yYNRbn//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABoQAAICAwAAAAAAAAAAAAAAAAAhARECICL/2gAIAQEABj8CmrOsZEi4Qtf/xAAaEAEAAwADAAAAAAAAAAAAAAABABEhMUFR/9oACAEBAAE/IaQV5DR5XUbeiKGKFUpjhHcvPIisiK1n/9oADAMBAAIAAwAAABBb4H7/xAAYEQACAwAAAAAAAAAAAAAAAAABEBEhQf/aAAgBAwEBPxDFJpf/xAAWEQEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQIBAT8QI3//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhMUFRgaH/2gAIAQEAAT8QF9Ka/HtyzwkXSGU40cW/eVRrsWn7hltvCVzeGPY5pUJ44TWsoGOJ7lz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tyson\" title=\"\" src=\"/static/4b791df3dd464ea532b95b6c21f7e0e7/c08c5/tyson.jpg\" srcset=\"/static/4b791df3dd464ea532b95b6c21f7e0e7/0913d/tyson.jpg 160w,\n/static/4b791df3dd464ea532b95b6c21f7e0e7/cb69c/tyson.jpg 320w,\n/static/4b791df3dd464ea532b95b6c21f7e0e7/c08c5/tyson.jpg 640w,\n/static/4b791df3dd464ea532b95b6c21f7e0e7/acb04/tyson.jpg 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<blockquote>\n<p>네, 쉽게 보고 덤볐다가 쳐맞았습니다.</p>\n</blockquote>\n<p>필자는 사실 PWA를 구현해본 경험이 없다. 구글에서 제공해주는 데모는 몇번 돌려본 적이 있지만 나머지는 그냥 다른 굇수분들의 블로그를 보고 “오…나도 해보고 싶군” 정도로만 생각했었다.</p>\n<p>근데 다른 사람들이 구현한 걸 보면 뭐 코드가 복잡한 것도 아니고 서비스 워커(Service Worker)도 작동 원리가 그렇게 생소한 느낌은 아니기에 사실 얕보고 있었다.</p>\n<h2 id=\"원래-필자의-계획\" style=\"position:relative;\">원래 필자의 계획<a href=\"#%EC%9B%90%EB%9E%98-%ED%95%84%EC%9E%90%EC%9D%98-%EA%B3%84%ED%9A%8D\" aria-label=\"원래 필자의 계획 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>원래 필자도 PWA에게 쳐맞기 전까진 그럴싸한 계획이 있었다. 물론 필자는 자세히 공부를 하고 덤비는 타입이 아니라 그냥 대충 알아본 다음에 나머지는 직접 맞아가면서 배우는 타입이라 더 그랬던 것도 있다.</p>\n<p>어쨌든 어제 점심을 먹고 와서 필자가 사무실에 앉아서 가만히 생각을 해본 결과, “PWA나 해볼까…? Manifest 넣고 서비스 워커 붙히면 뭐 나머지는 문서보고 해도 대충 될 거 같은데…?”로 결론이 나왔다.</p>\n<p>그래도 PWA의 모든 기능을 다 구현하는 것은 퇴근 시간인 19시까지는 힘들 것 같아서 작업에 대한 스코프를 잡았다.</p>\n<blockquote>\n<ol>\n<li>기능을 전부 구현하는 건 힘들 것 같으니 일단 기반을 잡아놓는다고 생각하자.</li>\n<li>서비스 워커 설치.</li>\n<li>Manifest.json 추가. 이건 남들 다하는 거니까 우리도 기본적으로 해야함.</li>\n<li>Pusher SDK와 PushManager를 사용해서 브라우저가 꺼져있더라도 사용자에게 푸시 메세지를 보여주자.</li>\n<li>시간 되면 모바일에서 홈스크린에 어플리케이션을 추가하는 것까진 해보고 싶다.(우선순위 낮음)</li>\n<li>오프라인 캐싱은 다음 시간에… (나름 스코프 조절)</li>\n</ol>\n</blockquote>\n<p>자 이제 계획이 잡혔으니 PO와 테스터에게 “프로젝트 테스트 하시는 동안 저는 저만의 놀이터에서 놀다 오겠습니다”라고 협의를 한 뒤 마스터에서 브랜치를 하나 땄다.</p>\n<p>브랜치 이름도 필자의 의지가 돋보이는 <code class=\"language-text\">feature/service-worker-web-push</code>로 딱 지어놓고 15시 30분 쯤 부터 작업을 시작했다. 그래도 이정도면 한 4-5시간 안에 충분히 가능하겠다 싶었는데…</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d1377bc7e60fb06312324f3859994069/f93b5/babo.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMEBQEC/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdSrPFJYcHjMCMH/xAAeEAACAQMFAAAAAAAAAAAAAAAAASECAwQREiIxMv/aAAgBAQABBQKuFumC9xTZrbqMnyPv/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAEQMYFR/9oACAEBAAY/Aio0fC0bP//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQYGxcf/aAAgBAQABPyGcD5GlRp8KuEtEIi3kLVRdxZln4aBx2eR//9oADAMBAAIAAwAAABDPF/8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHRABAAICAwEBAAAAAAAAAAAAAQARITFBcfBhsf/aAAgBAQABPxC5UcBbjFtEpF1DLKYWS+hztSkeXeyy4egbTgYni+R383NXT8n/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"babo\" title=\"\" src=\"/static/d1377bc7e60fb06312324f3859994069/f93b5/babo.jpg\" srcset=\"/static/d1377bc7e60fb06312324f3859994069/0913d/babo.jpg 160w,\n/static/d1377bc7e60fb06312324f3859994069/f93b5/babo.jpg 300w\" sizes=\"(max-width: 300px) 100vw, 300px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>코딩하는 내내 필자의 정신상태</small>\n</center>\n<p>결과적으로 저 중에서 달성한 제대로 달성한 목표는 1, 2, 3번 뿐이다. 4번 목표인 푸시 메시지의 경우, Background 메세징은 삽질만 하다가 시간이 너무 많이 가서 실패하고 Notification API를 사용하여 Foreground에서만 노출되도록 구현했다.</p>\n<p>처음에는 숨고 모바일 앱에서 이미 사용하고 있는 FCM(Firebase Cloud Messaging)을 사용하려고 했는데 그러면 웹 클라리언트의 푸시 채널이 이원화되기 때문에 일단 테스트도 해볼 겸 FCM없이 서비스 워커의 <code class=\"language-text\">PushManager</code>만 사용해서 구현하려고 했다.</p>\n<p>이제 필자가 이것들을 작업하면서 어떤 문제에 봉착했고, 어떻게 해결했는지 한번 설명해보겠다.</p>\n<h2 id=\"제-1-관문-manifestjson\" style=\"position:relative;\">제 1 관문, Manifest.json<a href=\"#%EC%A0%9C-1-%EA%B4%80%EB%AC%B8-manifestjson\" aria-label=\"제 1 관문 manifestjson permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>제일 처음 한 일은 <code class=\"language-text\">manifest.json</code>을 생성하는 것이다. 이건 그냥 말 그대로 생성하면 된다. 또한 <code class=\"language-text\">manifest.json</code>은 어차피 정적인 파일이기도 하고 업데이트도 잦지 않은 파일이기 때문에 굳이 Express에서 응답하지 않아도 된다. 그래서 프로젝트 내부의 <code class=\"language-text\">static</code> 디렉토리에 <code class=\"language-text\">manifest.json</code>을 생성하고 nginx가 바로 응답해주는 방식으로 작성했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// static/manifest.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"숨고\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"short_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"숨고\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"icons\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://d1hhkexwnh74v.cloudfront.net/app_icons/1x.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"image/png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"48x48\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://d1hhkexwnh74v.cloudfront.net/app_icons/2x.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"image/png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"64x64\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://d1hhkexwnh74v.cloudfront.net/app_icons/3x.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"image/png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"128x128\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://d1hhkexwnh74v.cloudfront.net/app_icons/3x.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"image/png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"144x144\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"start_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/?pwa=true\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"display\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fullscreen\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"background_color\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#FFFFFF\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"theme_color\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#00C7AE\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">manifest.json</code>에 대한 자세한 내용은 Google Web Developer 문서의 <a href=\"https://developers.google.com/web/fundamentals/web-app-manifest/\" target=\"_blank\" rel=\"nofollow\">The Web App Manifest</a>를 참고해서 작성했다.</p>\n<p>그리고 저 아이콘은 지금 숨고 앱에서 사용하고 있는 아이콘들이다. 굳이 모바일 앱과 다른 아이콘을 사용할 이유도 없고, 디자이너 분들도 바빠서 멘탈나간 상황이기 때문에 필자의 기술적인 욕심 때문에 아이콘을 만들어 달라고 하기엔 너무 미안했다.</p>\n<p>또한 앱과 웹이 같은 아이콘을 사용해야 브랜딩 측면에서도 좋을 거라 생각해서 모바일 앱 레파지토리를 클론받아서 몰래 훔쳐왔다. 그리고 저 이미지들은 굳이 프로젝트 내에 저장할 필요가 없으므로 회사에서 사용하는 S3 버킷에 업로드하고 CloudFront로 딜리버리했다.</p>\n<p>위에서 설명했듯이 필자는 <code class=\"language-text\">manifest.json</code>에 대한 요청을 Express가 처리하는 것이 아니라 서버 엔진인 nginx가 처리하는 방식을 선택했는데, 이렇게 nginx가 서버 어플리케이션까지 요청을 토스해주지 않고 그냥 알아서 서빙하도록 하고 싶다면 간단한 설정을 추가하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"nginx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-nginx line-numbers\"><code class=\"language-nginx\"><span class=\"token directive\"><span class=\"token keyword\">server</span></span> <span class=\"token punctuation\">{</span>\n  ...\n  <span class=\"token directive\"><span class=\"token keyword\">location</span> ~ ^/static</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">root</span> /your/project/location</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  ...\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이런 식으로 설정하면 바로 프로젝트 내의 <code class=\"language-text\">static</code> 디렉토리에 접근할 수 있다. 위 설정은 “static이라는 경로로 시작하는 요청이 들어오면 <code class=\"language-text\">/your/project/location</code>에서 니가 알아서 찾아줘”라는 의미이다. 하지만 로컬에서 개발 서버를 사용할 때에는 nginx를 사용하지 않고 NodeJS를 사용하여 바로 개발용 서버를 띄우므로 로컬 환경에서는 Express가 직접 파일을 서빙할 수 있도록 해줘야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'local'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/static'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">serve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./static'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이제 브라우저에게 “나의 Manifest 파일이 여기 있으니 가져가시오”라고 알려줄 수 있는 <code class=\"language-text\">link</code> 태그를 하나 넣어주면 끝이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// constants/meta.constant.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token literal-property property\">link</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">rel</span><span class=\"token operator\">:</span> <span class=\"token string\">'manifest'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">href</span><span class=\"token operator\">:</span> <span class=\"token string\">'/static/manifest.json'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>manifest<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/static/manifest.json<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-vue-meta</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>필자는 vue-meta 라이브러리를 사용하고 있기 때문에 이렇게 <code class=\"language-text\">Object</code> 타입 객체를 리턴하는 방식을 사용하면 렌더링 때 <code class=\"language-text\">&lt;head></code> 내부에 알아서 넣어준다. 그 후 브라우저가 <code class=\"language-text\">manifest.json</code>을 제대로 가져가는지는 크롬 개발자 도구의 Application > Manifest 탭에서 확인할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 505px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6752d69a5efe962003e820272d2ac7f7/c0cb9/has-manifest.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 95%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3ElEQVR42p2UT0vjUBTFCw64czHjwmqnNv9e0uSlTaJNUiwt1sERFUZwKMN8Nr+B4pQR3MxiFi6EWc3eD3O852kLgqDJ4vLeS+B37zn3vtfwfR9ZlmEwGMDzPLiuuwyeq0aDwCRJDJQfut0uwjBEFOlaUAN0HMeEUgpaa/R6PfQlSW0gN0EQmErjWJs1TTO4kqQWkJUxCF3s1XOiWsA8zzGZTDAej42H/LEAe56qDqRX9DCKIuOflqaUkqQoCtOgKl4ugVx1HCMWqEr62JFqh+XQfKsMpDRKZYd1GCFME+yORjKbOUJJUAlIGGWlaWqABBcy5NPpAfJiaM61JPMQizx6yCSdzjZsy6o8i8s5XMgmlBVzsGOB1xob27ZNl7nvs8sCLfdG2C1KeErVu8v0zzwK/MEb0mrBlVBODclsSPw8HoFU5MjYbJyfwfr5HXYinla4gi8kK7l6O+Lf5uEhBv/ucfLwH+tfpwg6Fjx6TflvWPCiKWxEJnPXnuxjen2D/u9faA5LhBtN+O1t+J/bZn0X0DyuEr6Ek6T4OJvh048Ztr6dYuvkCM3TI9kfo3X85ala9x1AvjCpjI4lklfml1i5uULj9hKrf66x9neOxt0cH+YXcHr6qXGvyH8E5xc3GuSQDZIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"has manifest\" title=\"\" src=\"/static/6752d69a5efe962003e820272d2ac7f7/c0cb9/has-manifest.png\" srcset=\"/static/6752d69a5efe962003e820272d2ac7f7/69538/has-manifest.png 160w,\n/static/6752d69a5efe962003e820272d2ac7f7/72799/has-manifest.png 320w,\n/static/6752d69a5efe962003e820272d2ac7f7/c0cb9/has-manifest.png 505w\" sizes=\"(max-width: 505px) 100vw, 505px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>자, 여기까지 하는데 거의 10분 정도 걸렸던 것 같다. 아직까지는 필자의 계획대로 순탄히 흘러가고 있었다. 하지만 문제는 이제부터 생기기 시작한다…</p>\n<h2 id=\"제-2-관문-service-worker\" style=\"position:relative;\">제 2 관문, Service Worker<a href=\"#%EC%A0%9C-2-%EA%B4%80%EB%AC%B8-service-worker\" aria-label=\"제 2 관문 service worker permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>기분 좋게 커피 한잔 때리고 와서 이제 서비스 워커를 적용하는 작업을 시작했다. 서비스 워커는 브라우저에 설치하고 나면 백그라운드에서 실행되는 프로세스로, 웹 어플리케이션의 메인 로직과는 전혀 별개로 작동한다.</p>\n<p>서비스 워커와 웹앱의 메인 로직은 서로 메세지를 주고 받는 방식으로 작동한다. <code class=\"language-text\">postMessage</code>로 보내면 <code class=\"language-text\">onMessage</code>로 받는 방식인데, WebView나 Chrome Extension과 같은 방식이기 때문에 이미 우리에겐 익숙한 방식이다.</p>\n<p>단, 아직까지 모든 브라우저에서 지원되는 것이 아니기 때문에 반드시 <code class=\"language-text\">navigator</code> 전역 객체 내부에 <code class=\"language-text\">serviceWorker</code> 객체가 존재하는 지 확인한 후 초기화를 진행해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'serviceWorker'</span> <span class=\"token keyword\">in</span> navigator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>뭐 이 정도 쯤이야 필자같은 프론트엔드 개발자들에게는 굉장히 익숙한 상황이기 때문에 그냥 웃고 넘길 수 있지만 이것보다 더 귀찮은 게 있었다. 바로 서비스 워커의 개발환경 세팅이다.</p>\n<h3 id=\"개발환경-세팅\" style=\"position:relative;\">개발환경 세팅<a href=\"#%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EC%84%B8%ED%8C%85\" aria-label=\"개발환경 세팅 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>서비스 워커는 일반적인 웹 어플리케이션보다 많은 기능에 접근할 수 있기 때문에 보안이 굉장히 중요하다. 그래서 서비스 워커는 제한적인 환경에서만 작동할 수 있도록 만들어졌는데 그 조건은 딱 두가지이다.</p>\n<hr>\n<ol>\n<li>웹 어플리케이션의 호스트가 localhost이거나</li>\n<li>HTTPS 프로토콜을 사용하고 있을 것</li>\n</ol>\n<hr>\n<p>불행히도 필자는 이 두가지 모두 다 해당이 안된다. 필자의 회사는 로컬에서 <code class=\"language-text\">http://local.soomgo.com</code>이라는 오리진을 사용하고 있기 때문에 서비스 워커 객체가 활성화 되지 않는다.</p>\n<p>그럼 해결 방법은 2가지로 줄어든다. 내가 localhost로 접속하거나 로컬에 HTTPS를 붙히거나.</p>\n<p>사실 필자는 이걸 놓쳐서 “아 서비스 워커 어디갔어? 왜 안돼? 죽을래?”로 컴퓨터랑 실랑이하느라 한 30분 날려먹었다. 공식 문서에 버젓이 한국어로 적혀있는 내용이므로 항상 공식 문서를 꼼꼼히 읽자…</p>\n<h4 id=\"개발-서버를-https로-띄우자\" style=\"position:relative;\">개발 서버를 HTTPS로 띄우자!<a href=\"#%EA%B0%9C%EB%B0%9C-%EC%84%9C%EB%B2%84%EB%A5%BC-https%EB%A1%9C-%EB%9D%84%EC%9A%B0%EC%9E%90\" aria-label=\"개발 서버를 https로 띄우자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>필자가 localhost 개발 환경에 접속하면 백엔드 쪽에서 CORS를 허용할 때 내려주는 Access-Control-Allow-Origin 헤더까지 변경해야하는 상황이라, 그냥 개발 환경에 HTTPS를 붙히기로 했다.</p>\n<p>Express는 내장 객체로 HTTPS 객체를 지원해주고 있기 때문에 간단하게 셋업할 수 있다. 먼저 HTTPS를 사용하기 위해서는 SSH 키쌍이 필요하므로 <code class=\"language-text\">openssl</code>을 사용하여 키를 만들어 주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ openssl genrsa <span class=\"token number\">1024</span> <span class=\"token operator\">></span> private.pem <span class=\"token comment\"># 비공개키 생성</span>\n<span class=\"token punctuation\">..</span>.\n$ openssl req <span class=\"token parameter variable\">-x509</span> <span class=\"token parameter variable\">-new</span> <span class=\"token parameter variable\">-key</span> private.pem <span class=\"token operator\">></span> public.pem <span class=\"token comment\"># 공개키 생성</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>그 다음 이 키를 프로젝트의 적당한 곳에 저장한 다음 그냥 사용하면 되는데 여기서 주의 사항이 있다.</p>\n<blockquote>\n<p>> 생성한 ssh키는 로컬 개발환경에서만 사용되어야합니다.<br />\n> 이 디렉토리 내의 *.pem 파일은 gitignore에 추가되어있습니다.</p>\n<p><strong>/keys/README.md</strong></p>\n</blockquote>\n<p><strong>절대 리모트 저장소에 SSH 키를 업로드하지 말자.</strong> 보안 터진다. 물론 이 키로 뭔가 실질적인 인증을 하는 것이 아니라 로컬 개발 서버에서만 사용하기 때문에 뭔가 중요한 걸 털릴 염려는 없지만 그래도 습관이 중요하다. SSH 키는 폭탄 다루듯이 다루자.</p>\n<p>대신 필자는 다른 개발자들이 쉽게 HTTPS 환경을 세팅할 수 있도록 프로젝트 내에 키를 저장하는 디렉토리 내부에 <code class=\"language-text\">README.md</code>를 작성해놓고 이 키가 어떤 용도로 사용될 것인지 주의 사항은 무엇인지 상세하게 적어놓았다.</p>\n<p>그리고 개발할 때는 HTTPS가 아니라 HTTP로 서버를 띄울 일도 생길 수 있으므로 개발 서버를 띄울 때 옵션을 사용하여 프로토콜을 선택할 수 있도록 해주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// package.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"serve\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cross-env NODE_ENV=local node server\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"serve:https\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cross-env NODE_ENV=local node server --https\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// server.js</span>\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> https <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// node의 옵션들은 배열 형태로 process.argv에 담겨있다.</span>\n<span class=\"token keyword\">const</span> useHttps <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span> <span class=\"token operator\">=></span> val <span class=\"token operator\">===</span> <span class=\"token string\">'--https'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isLocal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> localApp <span class=\"token operator\">=</span> app<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>useHttps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    localApp <span class=\"token operator\">=</span> https<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 아까 생성한 키는 여기서 사용한다!</span>\n      <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./keys/private.pem'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">cert</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./keys/public.pem'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> app<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  localApp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>port<span class=\"token punctuation\">,</span> host<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isHttps <span class=\"token operator\">?</span> <span class=\"token string\">'https://'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'http://'</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>host<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>port<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">로 가즈아!!!!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// ...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이런 식으로 작성해놓으면 개발 서버를 올릴 때 원하는 프로토콜을 자유자재로 변경할 수 있기 때문에, 혹시 내가 개발 서버를 HTTPS로 바꿔놔서 다른 개발자 컴퓨터에서 개발 서버가 안 올라가도 일단 시간을 벌어놓고 버그를 수정할 수 있다.</p>\n<p>원래 진짜 고수는 맞기 전에 맞을 곳을 예상해서 미리 힘을 주고 있는 법이다. <small>(많이 맞아본 1인)</small></p>\n<p>개발 서버를 HTTPS로 띄우면 이제 <code class=\"language-text\">navigator</code> 객체 내부에 이쁘게 들어가있는 <code class=\"language-text\">serviceWorker</code> 객체를 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token operator\">></span> navigator<span class=\"token punctuation\">.</span>serviceWorker\n<span class=\"token operator\">&lt;</span> ServiceWorkerContainer <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">ready</span><span class=\"token operator\">:</span> Promise<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">controller</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">oncontrollerchange</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">onmessage</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h4 id=\"https를-쓰지-않고-문제-회피하기\" style=\"position:relative;\">HTTPS를 쓰지 않고 문제 회피하기<a href=\"#https%EB%A5%BC-%EC%93%B0%EC%A7%80-%EC%95%8A%EA%B3%A0-%EB%AC%B8%EC%A0%9C-%ED%9A%8C%ED%94%BC%ED%95%98%EA%B8%B0\" aria-label=\"https를 쓰지 않고 문제 회피하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>사실 필자도 처음에는 로컬에 HTTPS 붙히기가 귀찮아서 리서치하다가 찾은 얌생이인데, 로컬 서버에서도 HTTPS를 사용하지 않고도 서비스 워커를 사용할 수 있는 방법이 있다.</p>\n<p>Chrome Flag의 <a href=\"chrome://flags/#unsafely-treat-insecure-origin-as-secure\" target=\"_blank\" rel=\"nofollow\">unsafely-treat-insecure-origin-as-secure</a> 설정을 활성화하고 텍스트 필드에 원하는 호스트를 입력해놓으면 해당 호스트는 안전하다고 판단하여 서비스 워커를 사용할 수 있게 해준다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b815361813e64140e4a33b94ccc0a44f/0f586/secure-hack.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 26.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFUlEQVR42m2Qy07CQBhGeQti0AjhYlLamRZmesESWgoFpCXGxKVLEx7AvQs3hqWJLHwDVz7icVoSNro4Od+/+W+N8n7G8bjm4yM3rPk8rjgcFiitcMQI4Y4RclxbugrX06YeYTvuH6yhoKG0piwW7MoluyKn2GYUxZJ0viBJKzLm2ZI4nuEHEdEkRusAx5EMbXFqJjyT5amhGIUE+QNyukHEq9rS2AuzGumn5yx0gjRU+cZWPO7feX795unli/3bD1FS0uiKiIttTvMupbk2FBnN5JbWdY9Wu0+r0699WdEZnGh3ueoJvMkGf5KhwhR/usKRioYlfFw9R6pqelpv4BoLw8AJ6dvBvwzMIpZt/mbZ5lTn7F9yj6eT/mq1sAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"secure hack\" title=\"\" src=\"/static/b815361813e64140e4a33b94ccc0a44f/6af66/secure-hack.png\" srcset=\"/static/b815361813e64140e4a33b94ccc0a44f/69538/secure-hack.png 160w,\n/static/b815361813e64140e4a33b94ccc0a44f/72799/secure-hack.png 320w,\n/static/b815361813e64140e4a33b94ccc0a44f/6af66/secure-hack.png 640w,\n/static/b815361813e64140e4a33b94ccc0a44f/d9199/secure-hack.png 960w,\n/static/b815361813e64140e4a33b94ccc0a44f/21b4d/secure-hack.png 1280w,\n/static/b815361813e64140e4a33b94ccc0a44f/0f586/secure-hack.png 1498w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이렇게 등록한 뒤 하단의 <code class=\"language-text\">Relaunch Now</code> 버튼을 클릭하면 크롬이 재시작되면서 설정이 변경된다. 하지만 이 방법은 스스로 보안 취약점을 만들어 내는 것이기 찜찜해서 결국 사용하지는 않았다.</p>\n<h3 id=\"service-worker-작성\" style=\"position:relative;\">Service Worker 작성<a href=\"#service-worker-%EC%9E%91%EC%84%B1\" aria-label=\"service worker 작성 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 개발환경 세팅이 다 끝났다면 이제부터는 딱히 귀찮은 건 없다. 그냥 문서보면서 쭉쭉 작성하면 된다. 일단 서비스 워커의 기능을 구현하기 전에 잘 작동하는 지 부터 확인해야 하므로 아무 내용이 없는 서비스 워커부터 만들었다.</p>\n<p>근데 이것도 <code class=\"language-text\">manifest.json</code>처럼 그냥 웹 어플리케이션과 완전 분리된 <code class=\"language-text\">static/service-worker.js</code>로 따로 작성하면 만들 때는 편하긴 한데, 나중에 서비스 워커에서 웹 어플리케이션에서 사용하고 있는 모듈이나 데이터에 접근하고 싶을 때 굉장히 애매해질 것 같아서 그냥 Webpack을 사용해서 같이 빌드하기로 결정했다.</p>\n<h4 id=\"일단-service-workerjs-파일을-만들자\" style=\"position:relative;\">일단 service-worker.js 파일을 만들자!<a href=\"#%EC%9D%BC%EB%8B%A8-service-workerjs-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%9E%90\" aria-label=\"일단 service workerjs 파일을 만들자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Webpack으로 빌드한다고 해도 이 친구가 무에서 유를 창조하는 친구는 아니기 때문에 당연히 소스 파일은 있어야 한다. 일단 서비스 워커가 작동하는 것을 보는 것이 목적이므로 심플하게 작성해주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// src/service-worker.js</span>\nself<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'저 쪽 테이블에서 보내신 겁니다 -> '</span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"service-worker-webpack-plugin-사용하기\" style=\"position:relative;\">Service Worker Webpack Plugin 사용하기<a href=\"#service-worker-webpack-plugin-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"service worker webpack plugin 사용하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">ServiceWorkerWebpackPlugin</code>은 구글에 “Service Worker Webpack”을 검색하면 가장 상단에 나오는 플러그인이다. <a href=\"https://github.com/oliviertassinari/serviceworker-webpack-plugin\" target=\"_blank\" rel=\"nofollow\">깃허브 레파지토리</a>에 가서 다들 구경 한번 해보자.</p>\n<p>README를 읽어보니 사용법이 초간단 그 자체다. 그냥 Webpack 설정에 넣어주면 끝이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// build/webpack.client.config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>baseConfig<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServiceWorkerWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'../src/service-worker.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>서비스 워커 파일 경로를 찍어주고 <code class=\"language-text\">ServiceWorkerWebpackPlugin</code> 객체를 생성할 때 초기 인자로 넘겨주면 Webpack 설정의 <code class=\"language-text\">output</code>에 정의된 경로에 <code class=\"language-text\">sw.js</code> 파일을 생성해준다. 물론 이 파일 이름은 변경할 수 있으니 모두 각자의 취향대로 애정을 듬뿍 담은 이쁜 이름을 지어주자. 필자는 귀찮으니까 그냥 <code class=\"language-text\">sw.js</code>로 가기로 했다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 309px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d8c4a05ba385d071d692080e75d2241d/532e8/sw.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 28.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVR42oWQy07DMBBF/TlUie24NIkfsWOlkESlXYNYI7Ys+AQ+/DKeVuqilbo4mpE1PnNtoZXH0nkYE1C3CbKNkNsBsktca+kfU3vIJjDCkPC769H5Ec37EebjCL3OMJ8nrmX4obByUD5DDRmi3Xn8fkVYP6CydOhG1Dpch1UhXPu7CR3kc2SE6wP+fiJcpie+LWgOM6oytLFnniyqwsZxLWnuJZR94jBiazySD2gt/VveQ1NsnSeoifo9sbyioUVqnLgvf3sjvQilvQhfEgldhKKLejpLWLiS7LAwepnRnFa+dCMsT95FXvYP50rEEU2GbqEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sw\" title=\"\" src=\"/static/d8c4a05ba385d071d692080e75d2241d/532e8/sw.png\" srcset=\"/static/d8c4a05ba385d071d692080e75d2241d/69538/sw.png 160w,\n/static/d8c4a05ba385d071d692080e75d2241d/532e8/sw.png 309w\" sizes=\"(max-width: 309px) 100vw, 309px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이쁘게 태어난 sw.js</small>\n</center>\n<p>근데 이 방법의 단점이 있는데, 일반적인 서비스 워커보다 파일의 크기가 커진다는 것이다. 아무래도 Webpack으로 빌드하다보니 서비스 워커의 외부에 있는 모듈이나 라이브러리를 끌어오기 때문이다.</p>\n<p>뭐 이건 애초에 필자가 조금 편하게 쓰려고 선택한 상황이니 어쩔 수 없긴하다. 어쨌든 이런 단점이 있으니, 서비스 워커의 크기를 줄이고자 하시는 독자분들은 직접 작성하시는 게 더 좋을 수도 있다.</p>\n<p>이제 서비스 워커의 본체를 만들었으니 이걸 웹 어플리케이션이 초기화될 때 브라우저에 “나 서비스 워커 가지고 있어!”라고 알려주는 일만 남았다.</p>\n<h3 id=\"service-worker-설치\" style=\"position:relative;\">Service Worker 설치<a href=\"#service-worker-%EC%84%A4%EC%B9%98\" aria-label=\"service worker 설치 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>서비스 워커를 설치하는 방법은 간단하다. 이 브라우저에 <code class=\"language-text\">serviceWorker</code> 객체가 지원되는 지 확인한 후 설치하면 된다.</p>\n<p>일반적인 서비스 워커의 설치 방법은 구글의 <a href=\"https://developers.google.com/web/fundamentals/primers/service-workers/?hl=ko\" target=\"_blank\" rel=\"nofollow\">서비스 워커:소개</a> 문서를 보고 따라하면 된다.  필자는 <code class=\"language-text\">ServiceWorkerWebpackPlugin</code>을 사용했기 때문에 해당 플러그인의 문서를 참조하여 작성했다.</p>\n<p>어차피 어떤 방법을 사용하든 설치 자체는 그렇게 어렵지 않다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// settings/service-worker.setting.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> isSupported <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>browser <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'serviceWorker'</span> <span class=\"token keyword\">in</span> navigator<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isSupported<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'서비스 워커가 지원되는 브라우저 입니다.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> runtime <span class=\"token operator\">=</span> <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'serviceworker-webpack-plugin/lib/runtime'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  runtime<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>res <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'서비스 워커 설치 성공 ->'</span><span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span>e <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'서비스 워커 설치 실패 ㅜㅜ -> '</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">isSupported</code> 변수에 <code class=\"language-text\">process.browser</code> 값을 검사하는 이유는, 숨고의 어플리케이션은 Next.js나 Nuxt.js처럼 유니버셜 SSR 환경에서 실행되기 때문이다.</p>\n<p>유니버셜 SSR이 뭔지 궁금하신 분은 이전에 작성한 포스팅인 <a href=\"/2018/09/25/universal-ssr\">Universal Server Side Rendering이란?</a>을 한번 읽어보자.</p>\n<p>해당 모듈은 물론 클라이언트 사이드에서만 호출되지만 그래도 혹시 모르니 왠만하면 현재 실행 컨텍스트가 클라이언트인지 서버인지는 체크해주는 것이 좋다. 서버 사이드 렌더링 사이클 때 브라우저 API인 <code class=\"language-text\">navigator</code>에 접근하려고 하면 당연히 에러가 발생한다.</p>\n<p>서비스 워커의 설치가 성공했다면 <a href=\"chrome://inspect/#service-workers\" target=\"_blank\" rel=\"nofollow\">chrome://inspect/#service-workers</a> 또는 <a href=\"chrome://serviceworker-internals\" target=\"_blank\" rel=\"nofollow\">chrome://serviceworker-internals</a>에 여러분의 서비스 워커가 노출될 것이다. 서비스 워커를 적용하는 방법은 사실 굉장히 심플한 편이다.</p>\n<p>근데 사실 필자가 가장 시간을 많이 잡아먹은 부분이 바로 이 서비스 워커였는데, 그 이유는 서비스 워커 공식 문서에 적혀있다.</p>\n<blockquote>\n<p><strong>설치 실패 알림 기능 부족</strong></p>\n<p>서비스 워커가 등록되더라도 <a href=\"chrome://inspect/#service-workers\" target=\"_blank\" rel=\"nofollow\">chrome://inspect/#service-workers</a> 또는 <a href=\"chrome://serviceworker-internals\" target=\"_blank\" rel=\"nofollow\">chrome://serviceworker-internals</a>에 표시되지 않는 경우 오류가 발생했거나 <code class=\"language-text\">event.waitUntil()</code>에 거부된 프로미스를 전달했기 때문에 설치하지 못했을 수 있습니다.</p>\n<p>이 문제를 해결하려면 <a href=\"chrome://serviceworker-internals\" target=\"_blank\" rel=\"nofollow\">chrome://serviceworker-internals</a>로 이동하여 ‘Open DevTools window and pause JavaScript execution on service worker startup for debugging’을 선택하고 설치 이벤트의 시작 위치에 디버거 문을 추가합니다. 이 옵션을 <a href=\"https://developers.google.com/web/tools/chrome-devtools/javascript/breakpoints?hl=ko\" target=\"_blank\" rel=\"nofollow\">확인할 수 없는 예외 시 일시 중지</a>와 함께 사용하면 문제를 찾을 수 있습니다.</p>\n<p><strong>Matt Gaunt</strong> <em>contributor to WebFundamentals</em></p>\n</blockquote>\n<p>아니 이게 디버깅이 진짜 힘들다. 서비스 워커의 설치가 실패했으면 어디서 에러가 났는지, 왜 났는지 보여줘야 하는데 <code class=\"language-text\">Uncaught DomException</code> 하나만 딸랑 보여주고 끝낸다.</p>\n<p>그래서 뭐가 잘못되었는지 하나하나 코드 라인에 <code class=\"language-text\">debugger</code> 찍고 추리해가면서 수정해야하는데 이게 진짜 힘들다. 근데 이걸 또 공식 문서에 디버깅 힘들다고 버젓이 적어놔서 괜히 더 힘든 거 같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 436px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e57b6ba2e83f7ede90d76af1007b9b33/8574c/conan.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFVklEQVR42i2UW1CU5x3Gv/f9vt1lgbAgsMuyCLscdlGWwy4LLEcBcSEuEBUVMBBMPFAVNRqPoxFzUoxTT9EiMbUaiHaSeiCotUkm6UzbybTptE7bTA9pvelMbtppe5Gr3vz6r+3Ff77v5v19z/v9n+cxdIoX7fSj00MoVzUqqw6V3YJyJ7Dy+8jy9+AtSZAflPfyMczQIYzyE6jwKYyqc6jIJXT0Mrr2Cjr+PQyVHkRnVGJkxbDlxnHkdWJ4n8HKS7C4IERlwMdSn5uKAjc1xT4qK9vIr9lOfmSCRTWHBDSNis9ha54jreM9DJ0ZxcxuwhBF9uwYmTklmL4B7I5FpJiavOwsij0eCnNyCRcVUOP3koj6idUlcda/ha3xHVLbv09Gxw18KwWoctvRnh60dzXKuwbLFcSe6sZm2jC1nXSnU4Bu/Lm5lHk9REsD9NRXsyxcREnTLtJX3MHTPcfyHfe5vPAXUejtRxcMoorG0IGtmIWj2Jx52LSJ3XSgDBNPVibVpX5yMzJorQoysaaNxoYERUt7iW+8zdR7X/KTP/yLS/N/FIUCUAJSpbvRwX2YFW9gebqwGQapKWmERVG0rIhnWmNkP5VOQ7yFgzvGCcWG+daxOT5+9DU3f/w1yRfvkdl6UYClO1Ghg+glk+jwFKrmMvaKVzAMG7HyAKP9XSxPJDl3fB9b+xp5d2o/81ffYvb+Fzz41d8ZmfyUvK4rOOrOYK+dEqCAVOUUuvoCKjqDWX8do+4Wfat3cn5nko+mD/PJjQv89tZpHt86zu9n9zJ7bY4907+juP86joYLOKKnhSEiQvsFWHUWHZlBx66hGm6iW97HWLZA7fpZLh8e5+G53Xx+5SUe357kr/OTzJ1/k/KBm6TEp7HFzmCLnEBXHJVbvogu3iJLqb0qPrqBav4Ae8ddXD33yEl+SO7K2zQOTtPcMczmoVXMHnmO60e24V1+Eav+O9ijp9CiSoUOoEu3o/xjqIK1orDpfWztd3iqe4Hs5D3cyXkat37C0ZlfEl6+k4H+AX50fhcTyxoYro+TVbUNIyyqlh5Gl8kiA5vRhUNoSZVyd2GkJxbI6b2Pu/dDqkYfcmDmEZ8//jeTlx7Q3T3AByfHuXpwkJMTQ7x0+BjNnYN4JSVGYBxdNIL2rUHliY9z2tCLYhKQ3nuUDz9k+9lf89Fv/inzDzaeekR85SH5d3v56gev8OqmJHfeeJ6FM7t5cHEfvX2b5eBaLG8vpgTDXBRHZ1ZjZpRjjLz+c+Z/8Td++qdvOPj2lwTX3cWIXmVs08t8MTPO3RMv8O2JNewfW8uKFeuINA8JqA9DvKolsjorIqAKKZdidNpijJ999Q2nbv6ZqpEf4mx9F3vTFVTsEq66E4wPb2Dr6qdJJAYINW9kSeMwodo+nPntqMxatCssoDIBFUpj5aMdbozW7Z+RJuE2G6/J9qSGImfE4K9hBA9hL53AVbgMf00/JZF+AhUd1LQN4w52Y6SWYaaJKqdPQB5Mew6mlYFhNc9KY3wXM3pBbHASteRl2d4e2d4WHIH1LGnaQHXnJlE3QmXTEA1dz1MQ7sVI8WE6PVj2bCybC9NMRUv2DVV7EV11WmxwDCVZ1sXbnhSEkbeKjMDTRNpHCTaNUBp/lpbujRw4cpZgTY8cdGGzu7Asp8AcMvYnY+iK19HSwrpkxxNz6oL14qmkFG4rJdVJ+ga3sGrDXjpX76Gl5znePDdLXb34zdACTJVrCsyyY2mpO2XJh/5rTv8m9OIhlIB0bqcUbhwlLZ7pi9Kzch3HXz3PkaOn2fXCKE0Nbdgc6f9TJDBLnpaAzP/PfwDrN8WrTqXoQAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"conan\" title=\"\" src=\"/static/e57b6ba2e83f7ede90d76af1007b9b33/8574c/conan.png\" srcset=\"/static/e57b6ba2e83f7ede90d76af1007b9b33/69538/conan.png 160w,\n/static/e57b6ba2e83f7ede90d76af1007b9b33/72799/conan.png 320w,\n/static/e57b6ba2e83f7ede90d76af1007b9b33/8574c/conan.png 436w\" sizes=\"(max-width: 436px) 100vw, 436px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>도와줘요 명탐정... 범인말고 내 버그도 찾아줘...</small>\n</center>\n<h2 id=\"제-3-관문-pushmanager\" style=\"position:relative;\">제 3 관문, PushManager<a href=\"#%EC%A0%9C-3-%EA%B4%80%EB%AC%B8-pushmanager\" aria-label=\"제 3 관문 pushmanager permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이제 서비스 워커도 설치했으니 서비스 워커의 <code class=\"language-text\">PushManager</code>만 연동해주면 모든 것이 끝난다! 라고 생각했지만 이 놈도 복병이었다.</p>\n<p><code class=\"language-text\">PushManager</code> 또한 아직 표준이 아니라서 모든 브라우저에서 지원되는 기능이 아니기 때문에 서비스 워커 설치 시 <code class=\"language-text\">PushManager</code>의 존재 여부도 함께 검사해주어야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// settings/service-worker.setting.js</span>\n<span class=\"token keyword\">const</span> isSupported <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>browser <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'serviceWorker'</span> <span class=\"token keyword\">in</span> navigator <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'PushManager'</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>조건의 가독성이 조금 떨어진 것이 마음에 안들지만 일단은 구동 테스트를 하는 것이므로 그냥 넘어갔다. 딱 여기까지 하고나서 다음 스텝을 봤더니…</p>\n<h3 id=\"재앙의-시작\" style=\"position:relative;\">재앙의 시작<a href=\"#%EC%9E%AC%EC%95%99%EC%9D%98-%EC%8B%9C%EC%9E%91\" aria-label=\"재앙의 시작 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<blockquote>\n<p><strong>애플리케이션 서버 키 가져오기</strong></p>\n<p>이 코드랩으로 작업하려면 애플리케이션 서버 키를 몇 개 생성할 필요가 있는데, 도우미 사이트인 <a href=\"https://web-push-codelab.glitch.me/%EC%97%90%EC%84%9C\" target=\"_blank\" rel=\"nofollow\">https://web-push-codelab.glitch.me/에서</a> 생성할 수 있습니다.</p>\n<p>여기서 공개 키 쌍과 비공개 키 쌍을 생성할 수 있습니다.</p>\n<p>다음과 같이 <code class=\"language-text\">scripts/main.js</code>로 공개 키를 복사하여 <code class=\"language-text\">&lt;Your Public Key></code> 값을 바꾸세요.</p>\n<p><code class=\"language-text\">const applicationServerPublicKey = '&lt;Your Public Key>';</code></p>\n<p>참고: 절대로 비공개 키를 웹 앱에 두면 안 됩니다!</p>\n<p><strong>Matt Gaunt</strong> <em><a href=\"https://developers.google.com/web/fundamentals/codelabs/push-notifications/?hl=ko\" target=\"_blank\" rel=\"nofollow\">웹 앱에 푸시 알림 추가</a></em></p>\n</blockquote>\n<p>응…? SSH 키가 필요하다고…? 예상 못하긴 했지만 HTTPS 환경에서 서버와 클라이언트 통신 채널이 하나 더 생기는 것이므로 SSH 키가 필요한 건 맞는 것 같아서 빠르게 인정했다.</p>\n<p>Google의 공식 문서에서 PushManager로 푸시 채널을 구독하는 예제를 살펴봤더니 확실히 SSH 키가 필요하긴 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">subscribeUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> applicationServerKey <span class=\"token operator\">=</span> <span class=\"token function\">urlB64ToUint8Array</span><span class=\"token punctuation\">(</span>applicationServerPublicKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  swRegistration<span class=\"token punctuation\">.</span>pushManager<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">userVisibleOnly</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">applicationServerKey</span><span class=\"token operator\">:</span> applicationServerKey\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>음 예상은 못했지만 이 정도는 괜찮다. 어차피 <a href=\"https://pusher.com/\" target=\"_blank\" rel=\"nofollow\">Pusher</a>라는 푸시 솔루션을 이미 사용하고 있고 이것도 결국 같은 원리로 작동하기 때문에 내부적으로는 SSH 키쌍을 사용한 인증을 사용했을 것이다.</p>\n<h3 id=\"빠른-손절\" style=\"position:relative;\">빠른 손절<a href=\"#%EB%B9%A0%EB%A5%B8-%EC%86%90%EC%A0%88\" aria-label=\"빠른 손절 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>그렇게 Pusher에서 사용되는 SSH 키가 어디 있는지 찾기를 어언 20분… 결국 못 찾았다.</p>\n<p>Pusher 내부적으로 서버에서 사용하는 <code class=\"language-text\">secret</code> 값과 클라이언트에서 사용하는 <code class=\"language-text\">key</code>를 사용하여 인증을 하는데, 이건 SSH 키쌍이 아니라 그냥 임의의 문자열이었다.</p>\n<p>어차피 SSH 키를 만든다고 해도 웹 푸시에 대한 컨트롤은 백엔드가 가지고 있으므로 필자 혼자 이것저것 건드리면서 테스트 해보기에는 조금 무리가 있다. 게다가 퇴근 시간은 이미 한참 지났기 때문에 백엔드 분들은 퇴근하셨다. <small>(사실 금요일 저녁에 이런 거 하고 있는 사람이 이상한거다.)</small></p>\n<p>이때 이미 필자의 멘탈은 조금 나가있었기 때문에 월요일에 출근해서 모바일 앱에서는 어떻게 Pusher와 FCM을 연동해서 사용하고 있는 지 물어본 후 진행해야겠다고 결론을 내리고 방향을 바꿨다.</p>\n<p>커밋 로그를 보니 이때 시간이 대략 21시 40분 쯤… 아니 그래도 퇴근은 해야하니까… 집에는 가야지…</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 439px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4bb0a72bb04f73e4997f67a28c30bbba/e3b18/giveup.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACCElEQVR42nVTSWtyQRB8f9pbQMSLePAm3gRRL+4xl0RBBXEX92hc4hLEPUo0hmjUCtUwId+HGWjmvZmemq6qHu3r6wvX4nQ6oV6vY7Vayf/Hx4esHY/Hn3h8fESj0UAqlUK320W73YZ2uVzwOzgI8Pn5KQnn81nWOBNE5ai15+dnlEol5HI59Hq9fwHV4c1mg2KxiJeXF/mfzWaIRCLw+/2Ix+N4enrC6+ur7HFmdZVKBdFo9Drg+/s7Wq0WRqMRttstbm9vYbFYoNfrcXNzA51OB6/XK7nT6RTNZhN3d3dwu93QCPJ/EJyUh8OhUDGbzQgEAjAajQiHw6hWq0JfVZjP52G1WmGz2aApPX5ryHE4HITKYrFAMBiEw+GQAy6XS6qnQRzz+RzpdFoksdvt0CaTiVCjTvzu9/sYDAbY7/fodDpygEGD6OhyuRTHyYSXZrNZ2bu/v0csFoNG8QuFgriVTCZF9Ewm8wOoAHw+n2jFfO7tdjuhTbq1Wu2nhTRlBmfVg8qc8Xgsjr69vYl2iURCQGkSGamOoLvUmsw0BfZXP7JqAj48PMDpdIp+7Lv1ei3G0WVeRtPYVto1MIYSna+FIBx8NTRJMeBFrI5UDQYDTCbT34AqWCUroJ7lclncJE1qTt34Olgxe5R5V/uQoSpkRXSQutE8GkAt2ch0nxeGQiF4PB5Z/wYETq25vc6tLQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"giveup\" title=\"\" src=\"/static/4bb0a72bb04f73e4997f67a28c30bbba/e3b18/giveup.png\" srcset=\"/static/4bb0a72bb04f73e4997f67a28c30bbba/69538/giveup.png 160w,\n/static/4bb0a72bb04f73e4997f67a28c30bbba/72799/giveup.png 320w,\n/static/4bb0a72bb04f73e4997f67a28c30bbba/e3b18/giveup.png 439w\" sizes=\"(max-width: 439px) 100vw, 439px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>역시 아니다 싶으면 빠른 손절이 답이다...</small>\n</center>\n<h2 id=\"제-4-관문-notification-api\" style=\"position:relative;\">제 4 관문, Notification API<a href=\"#%EC%A0%9C-4-%EA%B4%80%EB%AC%B8-notification-api\" aria-label=\"제 4 관문 notification api permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>그래서 바꾼 방향은 “Background 푸시 메세지는 포기하고 Foreground 푸시 메세지라도 제대로 받게 하자”였다.</p>\n<p>이렇게 되면 필자가 처음 생각했던 “브라우저가 꺼져있더라도 푸시 메세지를 보여주고 싶다”는 달성하지 못하지만 브라우저가 켜져있고 soomgo.com에 접속되어 있다면 창을 내려놓든 다른 일을 하고 있든 사용자에게 푸시 메세지는 보여줄 수 있으므로 어느 정도 목적 달성은 된다.</p>\n<p>방향을 바꾸고 나니까 기존의 웹 어플리케이션에 구현되어있던 푸시 로직에 노티피케이션을 보여주는 코드만 추가하면 끝나는 간단한 일이 되었다. 어차피 Pusher를 사용하여 인증, 이벤트 구독 등의 로직은 예전에 채팅 기능 개발할 때 다 만들어 놨기 때문이다.</p>\n<h3 id=\"기존-기능에-notification-끼워넣기\" style=\"position:relative;\">기존 기능에 Notification 끼워넣기<a href=\"#%EA%B8%B0%EC%A1%B4-%EA%B8%B0%EB%8A%A5%EC%97%90-notification-%EB%81%BC%EC%9B%8C%EB%84%A3%EA%B8%B0\" aria-label=\"기존 기능에 notification 끼워넣기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>예전에 채팅 기능을 개발할 때 Pusher SDK를 한번 래핑한 헬퍼 클래스도 만들어 놨었기 때문에 나름 구조도 탄탄하다. 이제 여기에 메소드만 몇개 추가하고 웹 푸시 이벤트가 발생했을 때 알림만 보여주면 된다.</p>\n<p>우선 이 브라우저가 <code class=\"language-text\">Notification</code> API를 지원하는 지 확인하는 메소드가 필요하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// src/helpers/Pusher.js</span>\n<span class=\"token function\">isSupportNotification</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> process<span class=\"token punctuation\">.</span>browser <span class=\"token operator\">&amp;&amp;</span> window <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'Notification'</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그 다음 사용자에게 알림에 대한 허가를 받는 메소드를 작성한다. <code class=\"language-text\">Notification</code>은 내부에 <code class=\"language-text\">permission</code> 속성을 가지고 있고 이 속성은 <code class=\"language-text\">granted</code>, <code class=\"language-text\">denied</code>, <code class=\"language-text\">default</code>로 나누어 진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// src/helpers/Pusher.js</span>\n<span class=\"token function\">getNotificationPermission</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isSupportNotification</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isAllowNotification <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'not_supported'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">'granted'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isAllowNotification <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">!==</span> <span class=\"token string\">'denied'</span> <span class=\"token operator\">||</span> Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">'default'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">===</span> <span class=\"token string\">'granted'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isAllowNotification <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">granted</code>는 사용자가 이미 알림을 허용한 상태, <code class=\"language-text\">denied</code>는 거부한 상태, <code class=\"language-text\">default</code>는 아직 알림에 대한 퍼미션을 줄지말지 사용자가 결정을 하지 않은 상태이다.</p>\n<p>따라서 우리는 퍼미션이 <code class=\"language-text\">default</code> 상태일 때 <code class=\"language-text\">Notification.requestPermission</code> 메소드를 사용하여 사용자에게 알림 노출에 대한 허가를 받아야 한다.</p>\n<p>이제 실제로 알림창을 띄워줄 메소드를 작성해보자. <code class=\"language-text\">Notification</code> API 자체가 워낙 심플하다보니 그닥 어렵지 않다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">createForegroundNotification</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">title<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> body<span class=\"token punctuation\">,</span> icon<span class=\"token punctuation\">,</span> link <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> notification <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    body<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> icon <span class=\"token operator\">||</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>AssetsCloudFrontHost<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/app_icons/1x.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  notification<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onshow</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> notification<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  notification<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  notification<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>link<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>link<span class=\"token punctuation\">,</span> <span class=\"token string\">'_blank'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">new</code> 키워드를 사용하여 <code class=\"language-text\">Notification</code> 객체를 생성하면 그 즉시 OSX는 화면 우측 상단에, Windows는 우측 하단에 알림 메세지가 노출된다. 그 다음 생성한 <code class=\"language-text\">Notification</code> 객체의 <code class=\"language-text\">onshow</code>, <code class=\"language-text\">onclick</code> 등의 이벤트 리스너에 핸들러를 등록해주면 된다.</p>\n<p>메소드 명은 Background 메세징을 실현하지 못한 필자의 슬픔을 담아 <code class=\"language-text\">createForegroundNotification</code>으로 결정했다. 굳이 Foreground를 강조한 이유는 언젠가 <code class=\"language-text\">createBackgroundNotification</code> 메소드를 만들겠다는 필자의 야망을 담았다.</p>\n<p>이제 필요한 모든 것을 만들었으니 Pusher SDK에서 Web Socket을 통해 푸시를 보낼 때마다 알림이 작동하도록 연결만 해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token function\">subscribeNotification</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isSupportNotification</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getNotificationPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isAllowNotification<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> channel <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getPrivateUserChannel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">channel</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myUserId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> targetChatRoute <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>provider <span class=\"token operator\">?</span> <span class=\"token string\">'chats'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'pro/chats'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createForegroundNotification</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>response<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">님이 메세지를 보냈어요.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>profile_image<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">link</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>location<span class=\"token punctuation\">.</span>origin<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>targetChatRoute<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>response<span class=\"token punctuation\">.</span>chat<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Pusher SDK는 푸시 채널에 이벤트 핸들러를 바인딩할 수 있는 기능을 제공해준다. <code class=\"language-text\">message</code> 이벤트는 사용자가 채팅 메세지를 받았을 때 호출되는 이벤트이다. 단 자기 자신이 보낸 메세지에도 여과없이 이벤트가 호출되므로 <code class=\"language-text\">response.sender.id === this.myUserId</code> 조건을 통해 자신이 보낸 메세지에는 알림을 보여주지 않도록 처리하였다.</p>\n<p>그 다음은 이제 사용자가 작은 알림 메세지만 보고도 어떤 상황이 벌어지는 것인지 쉽게 알 수 있도록 “OOO님이 메세지를 보냈어요”라는 형식의 제목과 메세지의 내용, 상대방의 프로필 사진을 사용하여 <code class=\"language-text\">Notification</code> 객체를 생성하면 끝이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 499px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/32c54805c2f49dd0192728224f674405/119c7/push.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.12499999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVR42o1R3WuSURh//6cgGOh01YVm+qrDm2mWi6gb16K6qGW4BVpBFwVtXQZhSdNXC+bqIvDGa8UPChkEsiFuil/z8/34dc5598Y0lj3w45zznOfj93sezmAwQINer4dOp4OR3C8sLKj++XmG+VMwGo0TUPPVP46320Fhdzjg8VyFz+eDjbfBcPESLDzP/DZyOhxO8DbyJrEWiwVms5nBZDLh8hUrzFYrXC4XuHPn50AxpzMgFH6G1E4Kd+77EVy9jrXAAzwKbuDh4wCC6xsIhcIIh8Ok6Q243W5CwIMlQuJ9LIrk1y94+eo1uDebm6DY2nqLSCQCYTuGa6u3cfPeEu6u3EJg/SnWngTg969g2bcMr9cLnrfDubgIp5OwJgrefYpC+LaD0Ivn4IrFIigKhQKy2SxyuRx2d1OIfPiIWDyBRDJJzjhiyc+IJgTEY3EkiS9OfIlEAoIgQCDndjyGdDoNDrNMUdgh12rA/gFq7Sb2qwfMNx6PIcvyH1Dj6EUhSadBfZIkqRBFSCSwWSoB5TL2jmoo/dqDSP7q9To6nQ7a7Ta63S5GoxG46UJaJ+WEmXaXacyUf1KIWoM77vVYIGWjBQ+HQ9ax3++j1Wqxt6pbnhjDtDImuU8LkgedhxZUJtLy+TxbUCaTQaVS+Yv1Wca1JBFNcYy+IrPO/5P0z4LfW4co9No4Gg9PVMlMJh00RbPZnNmEjktTyA3IFkeKhAFhShPpJ5WqgUoXScxZi6BGG1erVbXgMRl8/ucPHDYabAmUIQ1okLe28VlG2Q0GA1bwN33ZqDFqNl5aAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"push\" title=\"\" src=\"/static/32c54805c2f49dd0192728224f674405/119c7/push.png\" srcset=\"/static/32c54805c2f49dd0192728224f674405/69538/push.png 160w,\n/static/32c54805c2f49dd0192728224f674405/72799/push.png 320w,\n/static/32c54805c2f49dd0192728224f674405/119c7/push.png 499w\" sizes=\"(max-width: 499px) 100vw, 499px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>필자의 멘탈 상태를 여과없이 보여주는 메세지...잉잉...</small>\n</center>\n<p>어쨌든 이렇게 해서 브라우저에 soomgo.com이 열려있다면 사용자들은 다른 일을 하다가 계속 페이지를 확인하거나 핸드폰을 확인할 필요없이 데스크탑 내에서 새로운 채팅 메세지를 바로 확인할 수 있게 되었다.</p>\n<p>아직도 Background 상태에서 푸시 메세지를 바로 보여주지 못했다는 게 아쉽긴 하다. 하지만 이 정도만 해도 사용자들 입장에서는 꽤나 편할 것이라고 생각한다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 처음 목표했던 걸 다 이루진 못해서 찝찝했지만 너무 피곤했기 때문에 다음을 기약하기로 했다. 이제 월요일에 출근해서 PO한테 이걸 보여주고 혹시 뭐 추가하고 싶은 거 없는지 물어보고 몇가지 테스트를 좀 해본 후 배포할 예정이다.</p>\n<p>서비스 워커에 <code class=\"language-text\">fetch</code> 이벤트 핸들러를 추가하면 Add to Homescreen 기능도 사용할 수 있지만 사실 숨고의 프론트엔드 챕터 공식 입장은 사용자들이 모바일 웹보다는 모바일 앱을 많이 사용했으면 하는 것이기 때문에 이건 할까말까 고민 중이다. <small><del>(인앱 브라우저 크로스브라우징 하기 싫…)</del></small></p>\n<p>일단 처음 스코프를 너무 크게 잡은 것 같기도 하다. 하나하나 좀 자세히 알아보고 작업을 했으면 좋았을 것 같은데 월요일부터는 바로 또 하던 프로젝트 작업을 다시 해야해서 마음이 급했던 것도 있다. 그리고 회사에 프론트엔드 개발자가 부족하기 때문에 이런 기술적인 기능을 붙히는 건 우선 순위가 낮은 편이라서 “지금 아니면 앞으로 언제 할 수 있을 지 모른다”라는 마음도 컸던 것 같다.</p>\n<p>막간을 이용해, 필자와 함께 일해주실 <a href=\"https://www.wanted.co.kr/wd/14044\" target=\"_blank\" rel=\"nofollow\">프론트엔드 개발자 분을 모신다는 JD</a>를 뿌리면서 포스팅을 마무리 하겠다.</p>\n<p>PWA 외에도 다른 하고 싶은 건 많은데 프론트엔드 개발자가 모자라서 못하고 있기 때문에 경력 여하와 상관없이 그냥 재밌는 거 좋아하시는 분이면 된다.<small>(하고 싶은 개발 다 하실 수 있도록 이 한몸 불살라 보필하겠습니다.)</small></p>\n<p>이상으로 PWA 하루 만에 도입하기 포스팅을 마친다.</p>","fields":{"slug":"20190706-pwa-with-notification","path":"/2019/07/06/pwa-with-notification/","lang":"ko"},"frontmatter":{"title":"PWA 하루만에 도입하기","subTitle":"서비스 워커, 웹 푸시, 캐싱까지 – PWA 도입 삽질기","date":"Jul 06, 2019","categories":["프로그래밍","웹","튜토리얼"],"tags":["JavaScript","자바스크립트","Web Push","Web Socket","socket.io","Notification API","Vue","PWA","Progressive Web Application"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ca7838e0f08103b712d883b16d280e71/d803c/thumbnail.png","srcSet":"/static/ca7838e0f08103b712d883b16d280e71/d803c/thumbnail.png 320w,\n/static/ca7838e0f08103b712d883b16d280e71/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ca7838e0f08103b712d883b16d280e71/fc5c5/thumbnail.webp 320w,\n/static/ca7838e0f08103b712d883b16d280e71/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ca7838e0f08103b712d883b16d280e71/01fb2/thumbnail.png","srcSet":"/static/ca7838e0f08103b712d883b16d280e71/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ca7838e0f08103b712d883b16d280e71/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"aa09b406-6c53-5320-939e-0bb424b3f601","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EB%B3%B8%EC%A7%88%EC%9D%B4-%EB%AD%90%EA%B8%B8%EB%9E%98\">데이터의 본질이 뭐길래?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%88%98%EC%A7%91%ED%95%A0%EA%B9%8C\">데이터는 어떻게 수집할까?</a></p>\n<ul>\n<li><a href=\"#%EB%82%98%EB%8F%84-%EB%AA%A8%EB%A5%B4%EA%B2%8C-%EC%8A%A4%ED%86%A0%ED%82%B9-%EB%8B%B9%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8B%A4\">나도 모르게 스토킹 당하고 있다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B4%EC%A0%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B8%B0%EB%B0%98-%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EC%9D%B4%EB%8B%A4\">이제 데이터 기반 의사결정이다!</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B8%B0%EB%B0%98-%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EC%9D%98-%EC%9E%A5%EC%A0%90\">데이터 기반 의사결정의 장점</a></p>\n<ul>\n<li><a href=\"#%EB%B6%88%ED%99%95%EC%8B%A4%EC%84%B1%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94-%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\">불확실성을 최소화 할 수 있다</a></li>\n<li><a href=\"#%ED%83%80%EC%9D%B8%EC%9D%84-%EC%84%A4%EB%93%9D%ED%95%98%EA%B8%B0-%EC%89%BD%EB%8B%A4\">타인을 설득하기 쉽다</a></li>\n<li><a href=\"#%EA%B8%B0%EB%8C%80%EC%99%80-%EC%84%B1%EA%B3%BC%EA%B0%80-%EB%AA%85%ED%99%95%ED%95%98%EB%8B%A4\">기대와 성과가 명확하다</a></li>\n<li><a href=\"#%EB%B3%B5%EC%9E%A1%ED%95%9C-%EB%AC%B8%EC%A0%9C%EB%A5%BC-%EB%8B%A8%EC%88%9C%ED%99%94-%EC%8B%9C%ED%82%AC-%EC%88%98-%EC%9E%88%EB%8B%A4\">복잡한 문제를 단순화 시킬 수 있다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B8%B0%EB%B0%98-%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EC%9D%98-%EB%8B%A8%EC%A0%90\">데이터 기반 의사결정의 단점</a></p>\n<ul>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%EA%B7%B8%EB%83%A5-%EA%B0%92%EC%9D%B4%EB%8B%A4\">데이터는 그냥 값이다.</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%A7%B9%EC%8B%A0%ED%95%98%EB%A9%B4-%EC%9E%98%EB%AA%BB%EB%90%9C-%EA%B2%B0%EC%A0%95%EC%9D%84-%EB%82%B4%EB%A6%B4-%EC%88%98-%EC%9E%88%EB%8B%A4\">데이터를 맹신하면 잘못된 결정을 내릴 수 있다.</a></li>\n<li><a href=\"#%EC%A0%95%EC%84%B1%EC%A0%81%EC%9D%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%AC%B4%EC%8B%9C%ED%95%98%EC%A7%80-%EB%A7%90%EC%9E%90\">정성적인 데이터를 무시하지 말자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 데이터 기반 의사결정에 대해서 이야기해볼까한다. 데이터 기반 의사결정은 2013년 쯤 빅데이터 열풍이 불면서 뜨기 시작했다. 이미 많은 기업들이 사용하고 있는 의사결정 방법이며 또한 여러가지 선례도 많기 때문에 나름 신뢰성을 가지는 의사결정 방법이다. 단, 데이터의 본질을 제대로 이해하고 사용했을 때만 말이다 데이터 기반 의사결정은 세상이 떠드는 것 만큼 신뢰를 가질 수 있는 의사결정 방법일까? 아니, 그 전에 데이터의 본질이라는 게 뭘까? 데이터의 본질이 뭐길래? 우리는 일반적으로 데이터(Data)와 정보(In…","html":"<p>이번 포스팅에서는 데이터 기반 의사결정에 대해서 이야기해볼까한다. 데이터 기반 의사결정은 2013년 쯤 빅데이터 열풍이 불면서 뜨기 시작했다. 이미 많은 기업들이 사용하고 있는 의사결정 방법이며 또한 여러가지 선례도 많기 때문에 나름 신뢰성을 가지는 의사결정 방법이다.</p>\n<blockquote>\n<p>단, 데이터의 본질을 제대로 이해하고 사용했을 때만 말이다</p>\n</blockquote>\n<p>데이터 기반 의사결정은 세상이 떠드는 것 만큼 신뢰를 가질 수 있는 의사결정 방법일까? 아니, 그 전에 데이터의 본질이라는 게 뭘까?</p>\n<h2 id=\"데이터의-본질이-뭐길래\" style=\"position:relative;\">데이터의 본질이 뭐길래?<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EB%B3%B8%EC%A7%88%EC%9D%B4-%EB%AD%90%EA%B8%B8%EB%9E%98\" aria-label=\"데이터의 본질이 뭐길래 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>우리는 일반적으로 데이터(Data)와 정보(Information)를 동일시 한다. 그러나 사실 데이터 그 자체는 정보가 될 수 없다.</p>\n<p>데이터란, 단순히 현실 세계를 관측해서 얻은 값이다. 그냥 값 그 이상 그 이하도 아니라는 것이다.</p>\n<p>반면에 정보란, 이 데이터들을 어떤 방식으로든 처리해서 의미를 가지는 단위로 만든 것이다. 이때 데이터를 처리해서 정보로 만드는 과정을 데이터 마이닝(Data mining)이라고 하는 것이다.</p>\n<p>이렇게 얘기하면 뭔가 전공책에나 나올 것 같은 느낌이니까 쉽게 풀어보자. 예를 들어서 내일 평균 기온이 섭씨 28도라고 한다. 이때 내일 평균 기온이 섭씨 28도라는 사실은 데이터라고 볼 수 있다. 이 값은 기상청 슈퍼컴퓨터를 써서 측정했든 알파고를 썼든 뭘 썼든 간에 아직까지는 그냥 관측한 값일 뿐이다.</p>\n<p>이제 이 데이터를 내일 집에만 있을 예정인 사람한테 건네주면 의미가 있을까?\n뭐 집에 에어컨이 없다면 큰 의미가 있겠지만, 2019년 대한민국에서는 에어컨은 몰라도 선풍기 정도는 집에 하나씩 다 있기 때문에 별 의미는 없다고 본다. 이러면 이 데이터는 별 의미없는 값이 되어버리는 것이다.</p>\n<p>내일 나가지도 않을건데 밖이 얼마나 덥든 별 상관 없지 않은가? 집에서 에어컨 틀어놓고 수박이나 먹으면 된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f75a7021ffd0e5cf8696268973f004e3/07f3a/outside-of-blanket.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAdKlp50xjP/EABoQAQEAAgMAAAAAAAAAAAAAAAEAAgMQETL/2gAIAQEAAQUC82tWTHgur//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/AYf/xAAaEAACAgMAAAAAAAAAAAAAAAAAAhAhAREi/9oACAEBAAY/AuUsYvUZj//EABsQAQADAQADAAAAAAAAAAAAAAEAESFBMVFh/9oACAEBAAE/Ia8wPZzIgFUHFKinFvsCaeN5KT//2gAMAwEAAgADAAAAEBwf/8QAFREBAQAAAAAAAAAAAAAAAAAAEQD/2gAIAQMBAT8QWb//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EMSp/8QAGxABAQEAAgMAAAAAAAAAAAAAAREAIUFRYaH/2gAIAQEAAT8QlNtLAHZNBk/kXfzWKvQXBBSslzhPA5Lo3//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"outside of blanket\" title=\"\" src=\"/static/f75a7021ffd0e5cf8696268973f004e3/c08c5/outside-of-blanket.jpg\" srcset=\"/static/f75a7021ffd0e5cf8696268973f004e3/0913d/outside-of-blanket.jpg 160w,\n/static/f75a7021ffd0e5cf8696268973f004e3/cb69c/outside-of-blanket.jpg 320w,\n/static/f75a7021ffd0e5cf8696268973f004e3/c08c5/outside-of-blanket.jpg 640w,\n/static/f75a7021ffd0e5cf8696268973f004e3/07f3a/outside-of-blanket.jpg 740w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>밖이 섭씨 28도든 말든 이불 밖으로 안나가면 그만이다.</small>\n</center>\n<p>하지만 이 데이터를 내일 종로에서 판교까지 출근해야 하는 사람한테 주면 어떻게 될까? 이제 내일 평균 기온이 섭씨 28도라는 데이터는 이 사람의 생사를 가를 수도 있는 굉장히 의미있는 정보가 된다. <small>(필자는 더위에 약하기 때문에 조금 오버했다)</small></p>\n<p>여기다가 “내일 긴팔 입고 나가면 객사할 수도 있으니 조심하세요!^^“라고 자연어로 표현된 귀여운 정보도 함께 보여주면 좋겠다. 즉, 데이터는 그 자체로는 별로 의미가 없지만 어떤 상황에서 사용되느냐, 어떤 이유로 사용되느냐에 따라 그 정보성의 가치는 천차만별이 되는 것이다. 이게 바로 데이터의 본질이다.</p>\n<h2 id=\"데이터는-어떻게-수집할까\" style=\"position:relative;\">데이터는 어떻게 수집할까?<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%88%98%EC%A7%91%ED%95%A0%EA%B9%8C\" aria-label=\"데이터는 어떻게 수집할까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>그렇다면 데이터 기반 의사결정은 어떤 식으로 하는 걸까?</p>\n<p>별 거 없다. 그냥 데이터를 주구장창 모은다. 방대하게 비축된 데이터는 그것만으로도 회사의 자산이라고 할만큼 가치있다. 데이터가 있으면 어떻게 가공하든 그건 자유지만 데이터가 없으면 가공도 못하기 때문이다.</p>\n<h3 id=\"나도-모르게-스토킹-당하고-있다\" style=\"position:relative;\">나도 모르게 스토킹 당하고 있다<a href=\"#%EB%82%98%EB%8F%84-%EB%AA%A8%EB%A5%B4%EA%B2%8C-%EC%8A%A4%ED%86%A0%ED%82%B9-%EB%8B%B9%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8B%A4\" aria-label=\"나도 모르게 스토킹 당하고 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>우리와 거의 물아일체인 스마트폰을 지배하는 애플과 구글 역시 알게모르게 데이터를 다 모은다. 아이폰 유저라면 연락처 앱 내에서 가장 상단에 위치한 자기 프로필을 눌러보자. 쭉 내려보면 <code class=\"language-text\">주소(Siri가 특별한 위치에서 찾음)</code>이라는 제목으로 보통 여러분의 집이나 직장이 저장되어 있을 것이다.</p>\n<center>\n  <div style=\"max-width: 300px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7a7f89f9e6e92bf96c8753b133e696a6/1d69c/siri.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 178.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAExUlEQVR42q1WS2/kRBD2f+TIEQluHBASIHHlwIEDCAktT5FFK3FY4MIB2I02yyYi2tmNJskkmcx4Hsk87bFn/Hbb7v6oatuTWZQQ0G5rarrdbX9dj6+q2zg+OsFh8xius8Tl5QRJUiDPgSxTJGV/1hngtG3SWq7XWOI4w2Aw0jIez7H9cBtteseY2jHmToaZK7EKiheAhFDg9sfPP+LPB79D0SPP8Tr3DJqmBYJIYmwlCKMcRm8OtCcKxxcSU1eh0NpVGtIYUuKnz+/gl6+2aKhe0J7HsgAWvkJzqOBHgMGLvKBkCZSK8gOeC8MMKy/G7u4xdp8cwqNxnMhqQ35XaSndoPR3Rr3IwqAlMGlKO0dhiGGvS34aotPpom+ayLN8rSX4p66+ZzFq1dMU2HqU44fH+drkL37LceeBZKsh6HlrR+r1vLLk64c57u7UG1SAQpRazch/798T+IDEJZ94ocJrn6R4/bOUnK5oTuKd7wXevSvIbAXHU3jzS4G3vxN6vfa9sY4mgT45LbDfkXrMm+yfSzwzpTYtSVW5TnOsHc/ttQs0uuW6EBUgq8v+4j6ijxKh1lHkMc/x7lFMUayk1ihZv19HXrHJGUXPRxTFBFpoJ7PIqt8cc9vsrxMjCHyYZgeDfo/UFnjZZvgJ0LNJLKA7V1paI4mziaQ5heFCYWArrGL13wDzgnxCZA2Sso+FREi+WUWyei79mBWlTZI4pKhXJQ0peFK7hOdZjJDI2zOJtETgi+FAm77/1x7MbofI3MZJ65jWTBwcPMd8PtdapLEP17MQR0vkyQyxd0KgSm+kg2JZln55uVwSJQQ836fKkmiJokj3QRCUPqaPgtiD83QbzodvIem1KClmNF9UJhNfXNfVYD4B3dbYxCBcIewdwf72Y3iXh5BZWNpPfwbbvVgstIasKWtzPZKqOvKrd4k0GEMkA5xMnqFjN2ijgvhclICO46zNvhFwAzgk/w2tI1xYh7BtE/ujA/KhLE3OiOYMxFpygHgXVTn4n1K3LEthRyMEqUvmUq4nLmRNGwZgx6dcbl5BMxiItWOxbVub3u/31y4Yj8d6nnu2gJukRJYy03EoioxSNrsCjOOYCuhAg/BHDNJqtfR4NBrptel0ivPzc80GbnE4RdA7gHf/G4SjU9pouQ6aps1qtdKUYdNvp01B2RPCP9iD894bCNpPESWrK8BN2rBp7IJ/Cwr33pKSwJnCnw4Q+pQx/kwfYDr1OChMGwarAW+jjbuYwJpdIPAXCFYE6E00P3Xq1RrWQWCf3gYokoDy2UNCGROTJNEKVaqUPGRns3iep/tNzv1v2rDJnPTcs3CQ6lJ0sxTXSFW+2G/NZlODvRJi8199lrwiQFU6VEdJrvvbzb5eDEHH4TIsyz2Xfo/OjjCVOpo1/6Qu/epGfm6KwecsH0xzqq19mw8mKmfhS5gs6PLDaef5AV3fcgpOTgS3iJtO+ZwLqnsC5lRQURB0x8l0dWfuMuWYIZyydcUyUrqGNZ43cXpuIuZrCT0/2nmMRqNRHjxFik9/TfDRfSq8MiWQXN/Gzs7ONGAcJ+h2u3SgdXQ1MoIowWhqwXY8Oi5zuoWmmM3mWnhH1sCcpujPUv1cJ0KtIWcWZxkLH2R/A6lS2Z636FQrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"siri\" title=\"\" src=\"/static/7a7f89f9e6e92bf96c8753b133e696a6/6af66/siri.png\" srcset=\"/static/7a7f89f9e6e92bf96c8753b133e696a6/69538/siri.png 160w,\n/static/7a7f89f9e6e92bf96c8753b133e696a6/72799/siri.png 320w,\n/static/7a7f89f9e6e92bf96c8753b133e696a6/6af66/siri.png 640w,\n/static/7a7f89f9e6e92bf96c8753b133e696a6/1d69c/siri.png 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>필자 역시 시리한테 스토킹당하고 있는 운명이다.</small>\n</center>\n<p>필자도 결국 애플의 노예 중 한명이기 때문에, 시리에게 추적당하고 있다. 필자의 집은 실제로 서울시 강서구 양천로 어딘가이고 밑에 나온 주소는 필자의 직장 사무실 소재지이다.</p>\n<p>어쨌든 이 정보를 실제 애플 서버에 저장하는 지 어떤지는 잘 모르겠지만 어쨌든 이런 식으로 기업들은 여러분의 데이터를 지금 이 순간도 실시간으로 모으고 있다. 물론 애플이나 구글같은 대기업이 아니라 스타트업 규모의 회사라도 사용자의 행동 정보를 모두 추적하고 있다. 기업들은 <a href=\"https://developers.google.com/analytics?hl=ko\" target=\"_blank\" rel=\"nofollow\">Google Analytics</a>, <a href=\"https://amplitude.com/\" target=\"_blank\" rel=\"nofollow\">Amplitude</a>, <a href=\"https://mixpanel.com/\" target=\"_blank\" rel=\"nofollow\">Mixpanel</a>, <a href=\"https://www.hotjar.com/\" target=\"_blank\" rel=\"nofollow\">Hotjar</a> 등의 솔루션을 사용하여 여러분의 행동 정보를 쌓고 최대한 의사결정에 이용한다.</p>\n<p>이쯤 되면 이런 생각이 들 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/03beee14a6b82dfdc65a02cc5df3b69a/41099/watching-you.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAE/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwEC/9oADAMBAAIQAxAAAAHImGkLbY2zf//EABoQAAIDAQEAAAAAAAAAAAAAAAECAwQSEQD/2gAIAQEAAQUCZgxrczIseiMvWb0zdl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BsY//xAAYEAEAAwEAAAAAAAAAAAAAAAAAAhEhQf/aAAgBAQAGPwLHGqWk/8QAGxAAAwEAAwEAAAAAAAAAAAAAAAERITFBYXH/2gAIAQEAAT8hVW/mlGwPdDhVukbC+HBJMxn/2gAMAwEAAgADAAAAEGQv/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERITH/2gAIAQMBAT8QU1IUnT//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QkE//xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMUGB0f/aAAgBAQABPxBHkAU7H35in7mwJfFyh2xQX9zkp2yYrrGxWE53CNHDP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"watching you\" title=\"\" src=\"/static/03beee14a6b82dfdc65a02cc5df3b69a/41099/watching-you.jpg\" srcset=\"/static/03beee14a6b82dfdc65a02cc5df3b69a/0913d/watching-you.jpg 160w,\n/static/03beee14a6b82dfdc65a02cc5df3b69a/cb69c/watching-you.jpg 320w,\n/static/03beee14a6b82dfdc65a02cc5df3b69a/41099/watching-you.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>난 언제나 널 지켜보고 있어...</small>\n</center>\n<p>그렇다. 여러분은 여러분도 모르게 기업들한테 질 좋은 데이터들을 뿜뿜 제공해주고 있다. <a href=\"https://m.yes24.com/Goods/Detail/372300\" target=\"_blank\" rel=\"nofollow\">조지 오웰의 1984</a>에 등장하는 빅브라더가 생각난다.</p>\n<p>물론 대한민국 정부가 이걸 그냥 가만 보고 있을 양반들은 아니라서 어찌어찌 힘쓰고 있긴 하다. 2016년에 행정자치부 및 관계부처가 합동 발표한 개인정보 비식별 조치 가이드라인에 따르면 행동 데이터를 포함한 개인정보 데이터는 개인을 식별할 수 없는 형태로 비식별조치하고 필요한 데이터만 남겨놓는 형태로 사용해야 한다고 권고하고 있긴 하다.</p>\n<blockquote>\n<ol>\n<li><strong>(사전 검토)</strong> 개인정보에 해당하는지 여부를 검토 후, 개인정보가 아닌 것이 명백한 경우 법적 규제 없이 자유롭게 활용</li>\n<li><strong>(비식별 조치)</strong> 정보집합물(데이터 셋)에서 개인을 식별할 수 있는 요소를 전부 또는 일부 삭제하거나 대체하는 등의 방법을 활용, 개인을 알아볼 수 없도록 하는 조치</li>\n<li><strong>(적정성 평가)</strong> 다른 정보와 쉽게 결합하여 개인을 식별할 수 있는지를 「비식별 조치 적정성 평가단」을 통해 평가</li>\n<li><strong>(사후관리)</strong> 비식별 정보 안전조치, 재식별 가능성 모니터링 등 비식별 정보 활용 과정에서 재식별 방지를 위해 필요한 조치 수행</li>\n</ol>\n<p><strong>- 개인정보 비식별 조치 가이드라인, 행정자치부</strong></p>\n</blockquote>\n<p>근데 또 이 권고 사항이 겁나 까다롭기도 하고 말 그대로 권고라서 아마 대부분의 기업에서는 그냥 무시하고 하던대로 하고 있을 거라고 생각한다. 그래도 정상적인 회사라면 회원가입할때 띄워주는 개인정보 처리방침 같은 문서에 여러분의 개인정보를 어떤 이유로, 어떤 방식으로 사용할 것인지 적어놨기 때문에 귀찮더라도 한번 읽어보길 추천한다.</p>\n<h2 id=\"이제-데이터-기반-의사결정이다\" style=\"position:relative;\">이제 데이터 기반 의사결정이다!<a href=\"#%EC%9D%B4%EC%A0%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B8%B0%EB%B0%98-%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EC%9D%B4%EB%8B%A4\" aria-label=\"이제 데이터 기반 의사결정이다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>데이터 기반 의사결정이란 결국 이렇게 수집한 데이터를 분석해서 뭔가 그럴싸한 결론을 도출해내는 것이다.</p>\n<p>아무래도 그냥 밑도 끝도 없이 결정하는 것보다는 뭔가 관측한 값을 기반으로 의사결정을 하기 때문에 상대적으로 리스크가 적은 결정을 할 확률이 높다. 특히 이런 데이터 드리븐 방식은 마케팅에서 굉장히 잘 써먹는데, 바로 여러분이 관심을 가질만한 상품을 추천하는 맞춤 광고 시스템이다.</p>\n<p>맞춤 광고 시스템은 여러분이 웹 상에서 이것저것 하고 다닐 동안 그런 행동 데이터를 수집해서 여러분이 어떤 것에 관심이 있는 지 분석한 후 거기에 맞는 광고를 보여주는 것이다. 이런 맞춤 광고 시스템도 일종의 데이터 기반 의사결정이라고 할 수 있다. 확실히 관심을 가질 확률이 높은 상품을 찔러보는 것이기 때문에 그냥 아무 상품이나 찔러보는 것보다 전환률이 확실히 높다.</p>\n<p>그럼 먼저 데이터 기반 의사결정에는 어떤 장점이 있는지 한번 살펴보자.</p>\n<h2 id=\"데이터-기반-의사결정의-장점\" style=\"position:relative;\">데이터 기반 의사결정의 장점<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B8%B0%EB%B0%98-%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"데이터 기반 의사결정의 장점 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>당연히 데이터 기반 의사결정의 장점은 많다. 하지만 하나하나 다 나열하면 끝이 없으므로 필자가 생각하는 대표적인 장점 몇 가지만 적어보겠다.</p>\n<h3 id=\"불확실성을-최소화-할-수-있다\" style=\"position:relative;\">불확실성을 최소화 할 수 있다<a href=\"#%EB%B6%88%ED%99%95%EC%8B%A4%EC%84%B1%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94-%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"불확실성을 최소화 할 수 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>먼저 제일 단순하고 대표적인 장점으로 의사결정의 후폭풍으로 몰려오는 리스크가 적다는 것이다. 위에서 말했듯이 그래도 관측을 통한 데이터를 가지고 분석해서 의사결정 하는 것이기 때문에 그냥 밑도 끝도 없이 직관만 믿고 결정하는 것 보다는 당연히 리스크가 적다.</p>\n<h3 id=\"타인을-설득하기-쉽다\" style=\"position:relative;\">타인을 설득하기 쉽다<a href=\"#%ED%83%80%EC%9D%B8%EC%9D%84-%EC%84%A4%EB%93%9D%ED%95%98%EA%B8%B0-%EC%89%BD%EB%8B%A4\" aria-label=\"타인을 설득하기 쉽다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>두번째로는 타인을 설득하기 쉽다는 것이 있다. 필자 생각에는 이건 조금 심리적인 이유도 있는 것 같다. 아무래도 그냥 말로만 얘기하는 것보다 그럴싸한 그래프와 표를 그려놓고 숫자를 기반으로 얘기하는 것이 더 신뢰가 가지 않겠는가? 이건 아무래도 논리와 숫자에 익숙한 개발자같은 직군보다는 직관을 잘 활용해야 하는 디자이너같은 직군들에게 더 해당이 되는 이유인 것 같다.</p>\n<blockquote>\n<p>a. UX상 이 버튼은 여기에 위치하는 것이 더 유저들이 발견하기 쉬울 거에요!</p>\n<p>b. 유저 테스트를 해본 결과 78%의 유저들이 페이지 상단 20% 내 공간에서만 행동하다가 이탈했습니다. 그러므로…</p>\n</blockquote>\n<p>이 두 개의 차이인 것 같다. 같은 디자이너끼리야 척하면 척이겠지만 다른 직군, 특히 PO나 CEO, 개발자처럼 디자이너가 아닌 사람들을 상대할 때는 확실히 후자가 더 설득하기 쉽다. 물론 저 숫자를 무조건 신뢰하는 것은 위험하다. 그러나 데이터 수집 방법이나 실험 환경이 신뢰가 갈만한 환경이었다면 충분히 들이대볼만한 방법이다.</p>\n<h3 id=\"기대와-성과가-명확하다\" style=\"position:relative;\">기대와 성과가 명확하다<a href=\"#%EA%B8%B0%EB%8C%80%EC%99%80-%EC%84%B1%EA%B3%BC%EA%B0%80-%EB%AA%85%ED%99%95%ED%95%98%EB%8B%A4\" aria-label=\"기대와 성과가 명확하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>데이터를 기반으로 기능을 기획하면 “우리가 이 기능을 만들면 유저의 이 행동이 증가할거야”라는 식의 기대를 가지고 기획을 하게 된다. 배포한 후에 실제로 해당 행동이 몇 퍼센트나 증가했는지 데이터를 분석해보면 바로 나오기 때문에 성과도 명확하게 가져갈 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 472px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/da19ee09dcc30f318ee0339dd07b576b/3c5de/abtest.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVR42oWTW2+bQBCF+f//qQ+V2qpSVSlK3Di2sBN2WcxtWS67gPHldAaXmKBIffi0MDM7Ys4cvFW+hSprvKUN6v6C5nj9gHEnVN0ZIrfwI4Mgq1G4AXZRZwdA2yO8tRaIawdVOBTdBWZBTg01EVJ+l1R4yxpkdHtZV/ZXJHUP75t6wA9Z4OveQpYdRHn8lJUyeKS6Q3P+NC+rAbvMwXvREYS5NUuagTiNZ0pnam/we2g6yKK9xWa5icydoajG+53+QdxmSJwGSQOSESQZ2hPgZrAkIq9B08EuckxLd0w7wHvKFGSuIQ4pnlWFzaGETwuSpkdUD/84YhvX2MQVjXyaxe9wPNAtvO/RBjJWOIQh6VTjSWpqSlvXNCJrM9JjHVVEiZC0usfvcHzPGj7nPva1xdo4BLTFXVyO4xmaYbIE20mRfopq2B5La32wzUsuEFQOr7QUviS1RUTPmoQy7WWkIMEjEpwpu+t7fA7Hk4ps80U8kql9BGqNX68FVmExrp+tEJCOjKBGk23kLD6H6/3UwvNNjsSQ2Ck3shDakdGH0QYTbAu2jaAJcvqaeW6C4zyZ9zN7QJEkKPYHbEnDkH4xQ55hG7zbYphs0/zXNn8BgPuRDnRA4W0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"abtest\" title=\"\" src=\"/static/da19ee09dcc30f318ee0339dd07b576b/3c5de/abtest.png\" srcset=\"/static/da19ee09dcc30f318ee0339dd07b576b/69538/abtest.png 160w,\n/static/da19ee09dcc30f318ee0339dd07b576b/72799/abtest.png 320w,\n/static/da19ee09dcc30f318ee0339dd07b576b/3c5de/abtest.png 472w\" sizes=\"(max-width: 472px) 100vw, 472px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A/B 테스트를 통해서 배포한 기능으로 인해 실제로 원하는 결과를 얻었는지 테스트하기도 한다</small>\n</center>\n<h3 id=\"복잡한-문제를-단순화-시킬-수-있다\" style=\"position:relative;\">복잡한 문제를 단순화 시킬 수 있다.<a href=\"#%EB%B3%B5%EC%9E%A1%ED%95%9C-%EB%AC%B8%EC%A0%9C%EB%A5%BC-%EB%8B%A8%EC%88%9C%ED%99%94-%EC%8B%9C%ED%82%AC-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"복잡한 문제를 단순화 시킬 수 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>위에서 설명한 맞춤 광고 같은 경우는 사실 굉장히 복잡한 문제이다. 애초에 사람의 관심사라는 추상적인 개념을 수치해석적으로 표현한다는 것은 쉬운 일은 아니다. 그러나 쉬운 일이 아니라는 게 못한다는 말은 아니다.</p>\n<p>예를 들어 필자는 요즘 CSV 전자담배에 관심을 가지고 실제로 구매를 해서 잘 사용하고 있다. 그 과정에서 필자는 블로그와 유튜브를 돌아다니면서 전자담배에 대한 리뷰를 살펴봤고 전자담배에 끼울 수 있는 액상통과 액상을 웹 상에서 구매할 수 있는지 알고 싶어서 전자담배용품 판매 사이트도 들락날락거렸다.</p>\n<p>분명히 필자의 웹 히스토리에는 <code class=\"language-text\">전자담배</code>라는 키워드가 다수 검출될 것이다. 이 키워드를 수집한 후 필자에게 전자담배 키워드를 가진 광고를 노출시켜주는 것은 그렇게 어려운 기술은 아니다.</p>\n<p>이렇게 “이 사람의 관심사를 알고 싶다”라는 복잡한 문제를 단순한 키워드 매칭으로 해결할 수 있는 것도 데이터 기반 의사결정의 장점 중 하나이다.</p>\n<h2 id=\"데이터-기반-의사결정의-단점\" style=\"position:relative;\">데이터 기반 의사결정의 단점<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B8%B0%EB%B0%98-%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"데이터 기반 의사결정의 단점 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 여기까지만 보면 데이터 기반 의사결정은 리스크도 적고 성과도 명확히 측정할 수 있고 복잡한 문제도 쉽게 풀 수 있는 빈틈없는 의사결정 방법인 것 같다!</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b0c8b95e3bbd877f6ccc773a5dab64b5/066f9/nope.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 101.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHu5XGiABQH/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAECESEiMUH/2gAIAQEAAQUCvM94DPE7EPh//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGRAAAQUAAAAAAAAAAAAAAAAAAQACITAx/9oACAEBAAY/AtRDDNH/xAAaEAEBAQADAQAAAAAAAAAAAAABEQAQITHB/9oACAEBAAE/IUkIPuCQw9PBLeqdjrLwCm8b00q7/9oADAMBAAIAAwAAABAjzwD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEAAgMBAQEAAAAAAAAAAAABABEhQVExccH/2gAIAQEAAT8QKNXwUv4gYR9II5uAgC29ilRZxruYNA2hlO/ssBiejtWYpzMpoU6n/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"nope\" title=\"\" src=\"/static/b0c8b95e3bbd877f6ccc773a5dab64b5/066f9/nope.jpg\" srcset=\"/static/b0c8b95e3bbd877f6ccc773a5dab64b5/0913d/nope.jpg 160w,\n/static/b0c8b95e3bbd877f6ccc773a5dab64b5/cb69c/nope.jpg 320w,\n/static/b0c8b95e3bbd877f6ccc773a5dab64b5/066f9/nope.jpg 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>응. 아니야</small>\n</center>\n<p>물론 데이터 기반 의사결정은 장점이 많은 의사결정 방법이지만 위에서 이야기한 데이터의 본질을 제대로 알고 사용하지 않는다면 현실과 전혀 동떨어진 이상한 의사결정을 하게 될 수도 있다. 필자가 생각하기에 주로 놓치게 되는 포인트들은 이렇다.</p>\n<h3 id=\"데이터는-그냥-값이다\" style=\"position:relative;\">데이터는 그냥 값이다.<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%EA%B7%B8%EB%83%A5-%EA%B0%92%EC%9D%B4%EB%8B%A4\" aria-label=\"데이터는 그냥 값이다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>위에서도 한번 얘기했듯이 데이터는 그냥 단순한 값에 불과하다. 즉, 데이터를 분석해서 정보성을 가지도록 만들어야 하는데 이 과정에서 사람의 주관이 들어갈 수 밖에 없다는 것이다.</p>\n<p>보통 조직에서 데이터를 분석하는 역할을 맡은 데이터 분석가(Data Analyst)의 직관이 크게 작용한다. 사실 이 직관이 얼마나 정확하냐가 이 사람들의 능력이기도 하다.</p>\n<p>중요한 것은 데이터를 기반으로 나온 결과는 결국 사람의 주관적인 평가가 들어간 정보라는 것이다. 데이터 기반 의사결정을 너무 신뢰하다보면 이렇게 생각하기 쉽다.</p>\n<blockquote>\n<p>우리가 직접 관측한 값을 기반으로 나온 결과니까 결과도 정확할거야!</p>\n</blockquote>\n<p>데이터가 정확하다고 해서 결과도 정확하리라는 법은 없다. 항상 비판적인 시각으로 결과를 바라봐야 한다. 이 비판적인 시각이란 바로 “왜” 이 결과가 이렇게 나왔는지 따지는 습관을 의미한다.</p>\n<h3 id=\"데이터를-맹신하면-잘못된-결정을-내릴-수-있다\" style=\"position:relative;\">데이터를 맹신하면 잘못된 결정을 내릴 수 있다.<a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%A7%B9%EC%8B%A0%ED%95%98%EB%A9%B4-%EC%9E%98%EB%AA%BB%EB%90%9C-%EA%B2%B0%EC%A0%95%EC%9D%84-%EB%82%B4%EB%A6%B4-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"데이터를 맹신하면 잘못된 결정을 내릴 수 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>데이터는 단지 일어난 현상 그 자체를 설명할 뿐, 절대 여러분에게 이 현상이 발생한 이유에 대해서는 설명해주지 않는다. 그래서 “왜 이런 데이터가 나왔을까”라는 질문은 보통 전문가의 직관에게 맡기거나 좀 더 공을 들여서 정성적 데이터를 수집하는 방식으로 알아내기도 한다.</p>\n<p>그렇다면 이유를 생각하지 않고 현상만 보고 의사결정을 하는 것이 왜 위험할까?</p>\n<h4 id=\"인과관계와-상관관계\" style=\"position:relative;\">인과관계와 상관관계<a href=\"#%EC%9D%B8%EA%B3%BC%EA%B4%80%EA%B3%84%EC%99%80-%EC%83%81%EA%B4%80%EA%B4%80%EA%B3%84\" aria-label=\"인과관계와 상관관계 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>인과관계와 상관관계는 통계학에서 기초 중의 기초이다. 이것도 파고들면 한도 끝도 없으므로 간단한 정의 정도만 설명하고 넘어가겠다.</p>\n<p>먼저 상관관계는 어떤 통계적인 변인이 증가할 때 다른 변인도 증가하거나 감소하는 것을 의미한다. 변인 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>가 감소할 때 변인 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>도 함께 감소하거나 증가한다는 것이다. 이 두개의 변인이 완전 제멋대로 움직이면서 따로 놀고 있다면 이 두개의 변인은 상관관계가 없는 것이다.</p>\n<p>이때 두 변인이 얼마나 상관이 있냐를 나타내는 수를 상관계수라고 한다. 상관계수가 <code class=\"language-text\">0</code>에 가까울 수록 두 변인은 별로 상관관계가 없는 것이고, <code class=\"language-text\">-1</code>에 가까울 수록 음(-)의 상관관계, <code class=\"language-text\">1</code>에 가까울 수록 양(+)의 상관관계가 크다고 할 수 있다.</p>\n<p>그리고 인과관계는 먼저 선행된 한 변인이 후행되는 다른 변인의 원인이라고 판명되는 관계이다.</p>\n<p>한번 “비가 많이 올 수록 한강의 수위가 올라간다”라는 명제를 보자. 사실 이러한 현상에는 다른 숨은 변수들이 더 있을 수는 있지만 대체적으로 “비가 많이 올 수록 한강의 수위가 올라간다”라는 관계에서 “비가 많이 온다”라는 변인은 “한강의 수위가 올라간다”라는 변인에 다른 변수보다 큰 영향을 끼치는 것이 거의 확실하므로 이런 경우 그냥 인과관계라고 친다.</p>\n<p>사실 인과관계와 상관관계의 구분은 생각보다 명확하게 딱 떨어지는 그런 건 아니다.</p>\n<p>“비가 많이 올 수록 한강의 수위가 올라간다”는 인과관계 이지만 “여름이 가까워질수록 한강의 수위가 올라간다”는 상관관계이다. 여름에 한강의 수위가 올라간 이유는 대한민국의 전체 강수량 중 70% 정도가 여름에 집중되어있기 때문이지 단순히 여름이라서 그런건 아니기 때문이다.</p>\n<p>비즈니스에서 대부분의 변인 관계는 대부분 상관관계이기 때문에 항상 숨겨진 다른 변수가 없는 지 생각해야하고 이 결과가 진짜 믿을 만한 결과인지 끊임없이 의심하는 태도를 가져야한다.</p>\n<h4 id=\"잘못된-결정의-예시\" style=\"position:relative;\">잘못된 결정의 예시<a href=\"#%EC%9E%98%EB%AA%BB%EB%90%9C-%EA%B2%B0%EC%A0%95%EC%9D%98-%EC%98%88%EC%8B%9C\" aria-label=\"잘못된 결정의 예시 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>데이터를 맹신하면 어떻게 되는지에 대한 이해를 돕기 위해 데이터의 위험성을 설명할 때의 대표적인 예시인 두 가지 사례를 이야기해보겠다.</p>\n<blockquote>\n<p>한 연구자가 아이스크림 판매량의 연중 증감 추이를 확인하고 있었다. 그리고 연중 익사 사망자의 증감 추이를 함께 놓고 두 데이터 간의 상관분석을 해 보았다.</p>\n<p>결과는 놀라웠다.</p>\n<p>무서울 정도로 명백한 상관관계가 나타나고 있었다. 아이스크림 판매량이 증가하는 동안, 익사 사망자 수도 함께 증가하고 있었으며, 아이스크림 판매량이 감소하는 동안 익사 사망자 수도 감소하고 있었던 것이었다.</p>\n<p>연구자는 몸서리를 치면서 다음과 같은 결론을 내렸다.</p>\n<p><strong>“익사 사망자의 증감은 아이스크림이 그 원인이다.”</strong></p>\n</blockquote>\n<p>이 예시에서 연구자는 “아이스크림이 많이 팔릴 수록 물에 빠져죽는 사람도 많다”라고 얘기하고 있다. 터무니없는 소리 같지만 실제로 아이스크림 판매량 증감과 익사자 수 증감은 어느 정도 일치한다.</p>\n<p>여기서 숨겨진 변수는 바로 기온이다. 여름이 되서 더워지면 아이스크림 판매량이 증가하고, 피서철이라서 바닷가나 계곡에 놀러가는 사람들이 많이지기 때문에 사고로 인한 익사자 수도 증가하는 것이다.</p>\n<p>만약 여기서 숨겨진 변수인 기온을 파악하지 못했다면 이런 의사결정을 내릴 수도 있겠다.</p>\n<blockquote>\n<p>익사자 수를 줄이기 위해서 아이스크림 판매를 금지한다.</p>\n</blockquote>\n<p>자, 이제 두번째 예시를 한번 보자. 이 예시는 TED 2017에서 발표한 수학자이자 데이터 과학자인 Cathy O’Neil님께서 <a href=\"https://www.ted.com/talks/cathy_o_neil_the_era_of_blind_faith_in_big_data_must_end?language=ko\" target=\"_blank\" rel=\"nofollow\">발표한 내용</a>에서 가져온 것이다. 필자는 개인적으로 이 강연, 엄청 재밌게 들었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1ea81507ac3c4c37b9404183bbc6bf60/9ecec/oNeil.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHCtIkioAr/xAAZEAEAAgMAAAAAAAAAAAAAAAABAAIDEDL/2gAIAQEAAQUCmSoUleVTX//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPwFdn//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAgEBPwEMn//EABgQAAIDAAAAAAAAAAAAAAAAABARAAIh/9oACAEBAAY/ApVJnB//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAQIUFx/9oACAEBAAE/IQHgnEYyqLXsO6r/2gAMAwEAAgADAAAAEOQf/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QQBP/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QB1P/xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhYTFRkf/aAAgBAQABPxB2Baw4FmkKce8lRCjGu1v2IFBqvcfM/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"oNeil\" title=\"\" src=\"/static/1ea81507ac3c4c37b9404183bbc6bf60/c08c5/oNeil.jpg\" srcset=\"/static/1ea81507ac3c4c37b9404183bbc6bf60/0913d/oNeil.jpg 160w,\n/static/1ea81507ac3c4c37b9404183bbc6bf60/cb69c/oNeil.jpg 320w,\n/static/1ea81507ac3c4c37b9404183bbc6bf60/c08c5/oNeil.jpg 640w,\n/static/1ea81507ac3c4c37b9404183bbc6bf60/6a068/oNeil.jpg 960w,\n/static/1ea81507ac3c4c37b9404183bbc6bf60/9ecec/oNeil.jpg 1050w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>TED에서 발표 중인 스웩넘치는 캐시 누나</small>\n</center>\n<blockquote>\n<p>1996년에 설립된 폭스 뉴스사는 고용 절차를 효율적으로 진행하기 위해 머신러닝 알고리즘을 도입하기로 했습니다.</p>\n<p>학습에 필요한 데이터셋은 지난 21년간 폭스 뉴스에 지원한 지원자들의 데이터를 사용하면 되겠네요.<br />\n그리고 회사에서 성공적인 역할을 할 수 있는 사람을 가려내기 위해서 <strong>성공</strong>에 대한 정의도 해야겠군요. <br />\n음, 폭스 뉴스에서 4년 정도 근무하면서 적어도 한 번쯤 승진한 사람 정도면 성공했다고 할 수 있겠네요.</p>\n<p>자, 이제 이 알고리즘을 현재의 지원자들에게 적용하면 어떻게 될까요?</p>\n<p><strong>여성 지원자는 절대 합격하지 못할 겁니다.</strong></p>\n</blockquote>\n<p>필자는 개인적으로 이 예시를 듣고 굉장히 충격받았다. 처음 저 이야기를 시작할 때 지난 21년간 폭스 뉴스에 지원한 지원자들의 데이터와 폭스 뉴스에서 4년 정도 근무하면서 적어도 한 번쯤 승진한 사람이라는 정의를 들었을 땐 꽤 공평하고 객관적인 지표라고 생각했기 때문이다.</p>\n<p>하지만 우리 사회에서 성별에 전혀 관계없이 능력만 보고 직원을 고용하게 된 것은 생각보다 그렇게 오래 되지 않았기 때문에 위에서 정의한 규칙대로라면 폭스 뉴스에서 성공한 사람의 절대적인 양 또한 남성이 더 많을 수 밖에 없는 것이다. 게다가 폭스 뉴스는 보수적인 언론사이기 때문에 더더욱 그런 편향이 나타날 것이다.</p>\n<p>이 예시에서는 숨겨진 변수로 사회적 분위기가 있던 것이다.</p>\n<p>이렇게 아무리 객관적이라고 생각했던 지표라고 할지라도 “왜 이런 결과가 나왔지?”를 고민하지 않고 의사결정한다면 현실과 전혀 동떨어진 의사결정을 할 수도 있게 된다.</p>\n<h3 id=\"정성적인-데이터를-무시하지-말자\" style=\"position:relative;\">정성적인 데이터를 무시하지 말자<a href=\"#%EC%A0%95%EC%84%B1%EC%A0%81%EC%9D%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%AC%B4%EC%8B%9C%ED%95%98%EC%A7%80-%EB%A7%90%EC%9E%90\" aria-label=\"정성적인 데이터를 무시하지 말자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>대부분의 조직에서 데이터 기반 의사결정을 할 때, 정성적인 데이터보다는 정량적인 데이터에 집중한다.</p>\n<p>그 이유는 정량적인 데이터가 수집, 비교, 가공 등 정보를 뽑아내는 데이터 마이닝 작업하기가 더 쉽기 때문이다. 반면에 정성적인 데이터를 제대로 수집하려면 유저 테스트, 설문 조사 등 조금 더 공을 들이는 방법을 사용해야 한다.</p>\n<p>또한 수집한 데이터도 숫자가 아닌 자연어인 경우가 많기 때문에 이를 분석하는 것 역시 쉬운 작업이 아니다.</p>\n<p>이런 이유로 정성적인 데이터가 자주 우선순위에서 밀리는 모습을 많이 봐왔는데, 딱히 좋은 태도는 아니다. 왜냐면 정량적인 데이터는 현상을 설명해주지만 정성적인 데이터는 이유를 설명해주기 때문이다.</p>\n<p>예를 들면 둘의 차이는 이런 것이다.</p>\n<blockquote>\n<p>사용자들이 우리의 검색 시스템을 사용한 후 결제를 하는 전환률이 30% 상승했다. (정량적인 데이터)</p>\n<p>설문 조사 결과 사람들은 검색을 해서 자신들에게 더 맞는 상품을 스스로 찾았기 때문이라고 대답했다. (정성적인 데이터)</p>\n</blockquote>\n<p>물론 위의 정성적인 데이터로 든 예시도 정량적인 수치로 변경할 수는 있다. 설문지에 자유롭게 대답할 수 있는 빈 칸이 아니라, 오지선다형으로 답변을 고르도록 하면 정량화할 수 있다.</p>\n<p>그러나 그렇게 하면 결국 답변에 없는 이유는 수집할 수 없기 때문에 결국 “기타(아무거나 적으세요)“라는 칸을 하나씩은 만든다. 그렇다면 기타에 적힌 내용들은 정성적인 데이터가 되는 것이다.</p>\n<p>그냥 단순히 생각해도 기타 란에는 사람들이 직접 하나하나 적은 자연어가 들어갈 것이기 때문에 이걸 또 분류하고 분석하는 작업은 아마 인공지능, 인간지능 둘 중에 하나를 갈아넣어야 할 수 있을 것이다.</p>\n<p>그렇기 때문에 보통 기업들은 좀 더 취급하기 쉬운 정량적인 데이터에 좀 더 집중하고 정성적인 데이터는 보조적인 용도로 많이 활용한다.</p>\n<p>하지만 고객들이 진짜 무엇을 원하는지, 그들의 목소리를 들어보고자 하는 기업이라면 리소스가 많이 투입되더라도 지속적으로 고객들에게 설문조사나 유저 테스트를 통해 정성적인 데이터를 많이 수집하려고 노력한다.</p>\n<p>필자의 직장은 리소스가 부족해서 자주 하지는 못하지만 그래도 큰 기능을 배포할 때는 UI/UX 디자이너들이 선별한 페르소나에 맞는 사용자들을 회사로 초청해서 유저 테스트를 진행하고 있다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 데이터 기반 의사결정은 양날의 검이라고 생각한다. 잘 사용하면 위에서 설명한 장점대로 적은 리스크에 성과 측정도 명확하고 복잡한 문제도 추상화할 수 있는 좋은 도구이지만 잘못 사용하면 뭐가 잘못되고 있는지도 모른채 계속 숫자만 믿고 잘못된 결정을 하게 될 위험도 크기 때문이다.</p>\n<p>또한 기대와 성과가 명확하다는 장점은 반대로 단점이 될 수도 있다. 위에서 계속 말했듯이 결국 데이터 자체는 그냥 값이기 때문에 뽑아낸 결과에는 최종적으로 사람의 주관이 들어갈 수 밖에 없다. 그 말인 즉슨, 뽑고 싶은 결과를 미리 정해놓고 거기에 데이터를 어떻게든 끼워맞춰도 그럴싸한 결과를 만들어 낼 수 있다는 말이다.</p>\n<p>이런 점들은 진짜 고객을 위한 서비스를 만드는 방향이 아닌 회사에서 중요하다고 생각하는 지표만 높히는 방향으로 의사결정을 하거나, 실제로 고객들은 불편함을 느껴서 전환률이 떨어지더라도 자신이 원하는 결과가 나올때까지 변인을 조작하여 결국은 원하는 결과를 뽑아내는 등의 윗 사람들에게 인정받기 위한 정치적인 목적으로 사용되기 쉽다.</p>\n<blockquote>\n<p>이런 행위들은 데이터 기반 의사결정이 아닌, 데이터 기반 의사결정의 탈을 쓴 숫자놀이에 불과하다.</p>\n</blockquote>\n<p>그렇기 때문에 항상 데이터를 기반으로 의사결정을 할때는 자신이 객관적이고 공정한 결론을 내렸는지, 혹은 이 데이터가 정말 오염되지 않았고 유의미한 결과를 가져다 줄 수 있는 데이터인지, 원하는 대로 결과가 나왔다면 왜 이런 결과가 나오게 되었는지 자기 자신에게 끊임없이 되물으며 비판적인 사고를 유지해야한다.</p>\n<p>이상으로 데이터 기반 의사결정, 과연 완벽한 걸까? 포스팅을 마친다.</p>","fields":{"slug":"20190704-danger-of-data-driven","path":"/2019/07/04/danger-of-data-driven/","lang":"ko"},"frontmatter":{"title":"데이터 기반 의사결정, 과연 완벽한 걸까?","subTitle":"숫자 뒤에 숨겨진 함정, 데이터에 속지 않는 법","date":"Jul 04, 2019","categories":["소프트스킬","에세이"],"tags":["Data Driven","Data Driven Decision","데이터 기반 의사결정","비판적 사고","Data Analysis","데이터 분석","TED 데이터드리븐"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/62d8b411322961c62d1d801e6d053f62/3a812/thumbnail.jpg","srcSet":"/static/62d8b411322961c62d1d801e6d053f62/3a812/thumbnail.jpg 320w,\n/static/62d8b411322961c62d1d801e6d053f62/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/62d8b411322961c62d1d801e6d053f62/fc5c5/thumbnail.webp 320w,\n/static/62d8b411322961c62d1d801e6d053f62/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/62d8b411322961c62d1d801e6d053f62/2d839/thumbnail.jpg","srcSet":"/static/62d8b411322961c62d1d801e6d053f62/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/62d8b411322961c62d1d801e6d053f62/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"ec4dbe86-efcb-5536-8294-dbfb4346d875","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%84-%EC%99%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94%EA%B1%B8%EA%B9%8C\">애자일을 왜 사용하는걸까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC-%EC%84%A0%EC%96%B8%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\">애자일 선언에 대해서</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC-%EC%84%A0%EC%96%B8-%EC%9D%B4%EB%A9%B4%EC%9D%98-%EC%9B%90%EC%B9%9912%EA%B0%9C-%EC%9B%90%EC%B9%99\">애자일 선언 이면의 원칙(12개 원칙)</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%98-%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%9A%94%EC%86%8C%EB%93%A4\">애자일의 기본적인 요소들</a></p>\n<ul>\n<li><a href=\"#user-story\">User Story</a></li>\n<li><a href=\"#product-backlog\">Product Backlog</a></li>\n<li><a href=\"#estimation\">Estimation</a></li>\n<li><a href=\"#retrospective\">Retrospective</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%9F%BC-%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%80-%EC%A2%8B%EC%9D%80-%EA%B1%B4%EA%B0%80\">그럼 애자일은 좋은 건가?</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B4%EA%B1%B4-%EC%95%A0%EC%9E%90%EC%9D%BC-%ED%95%98%EC%A7%80-%EC%95%8A%EC%95%84%EC%9A%94\">이건 애자일 하지 않아요!</a></li>\n<li><a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%97%90-%EB%84%88%EB%AC%B4-%EC%96%B6%EB%A7%A4%EC%9D%B4%EC%A7%80%EB%8A%94-%EB%A7%90%EC%9E%90\">애자일에 너무 얶매이지는 말자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 소프트웨어 개발 방법론 중 하나인 애자일 프로세스(Agile Process), 줄여서 애자일이라고 부르는 그것에 대해서 포스팅하려고 한다. 최근 많은 조직들이 애자일 프로세스를 사용하고 있고, 필자가 다니고 있는 현 직장도 마찬가지로 애자일 프로세스를 도입해서 사용하고 있다. 많은 조직이 애자일을 그냥 단순히 이슈마다 스토리 포인트를 매겨서 얼마나 걸릴 지 산출한다, 1-2주 단위의 스프린트를 돌린다, 매일 아침 데일리 스크럼 회의를 한다 등 표면적인 것들에 집중하고 있다. 필자의 직장도 애자일을 계속 해서 해왔…","html":"<p>이번 포스팅에서는 소프트웨어 개발 방법론 중 하나인 애자일 프로세스(Agile Process), 줄여서 애자일이라고 부르는 그것에 대해서 포스팅하려고 한다. 최근 많은 조직들이 애자일 프로세스를 사용하고 있고, 필자가 다니고 있는 현 직장도 마찬가지로 애자일 프로세스를 도입해서 사용하고 있다.</p>\n<p>많은 조직이 애자일을 그냥 단순히 이슈마다 스토리 포인트를 매겨서 얼마나 걸릴 지 산출한다, 1-2주 단위의 스프린트를 돌린다, 매일 아침 데일리 스크럼 회의를 한다 등 표면적인 것들에 집중하고 있다. 필자의 직장도 애자일을 계속 해서 해왔지만 “어떤게 진짜 애자일한 업무 방법인가?”에 대해서 다들 의문만 가질 뿐 제대로 배워볼 기회가 없었다.</p>\n<p>애자일의 본질은 모른 채 그냥 “내가 이렇게 몇번 해봤는데 되게 좋았어!” 혹은 “다른 회사가 이렇게 하면서 좋아졌대!” 정도로 시작했으니 잘 굴러갈리가 없었고 매번 빗나가는 에스티메이션과 망가지는 스프린트로 인한 팀원들의 의욕 저하 등 여러가지 문제점이 발생했다. 그래서 필자의 현 직장인 <a href=\"https://soomgo.com\" target=\"_blank\" rel=\"nofollow\">숨고</a>에서는 꽤나 비싼 돈을 들여 애자일 코치를 초빙해서 약 한달간 애자일에 대한 교육을 시행했었다.</p>\n<p>이번 포스팅에서는 그 경험을 바탕으로 필자가 배웠던 애자일에 대한 내용과 직장에서 실제로 여러가지 시도를 해본 후 느꼈던 점에 대해서 한번 얘기해볼까 한다.</p>\n<h2 id=\"애자일을-왜-사용하는걸까\" style=\"position:relative;\">애자일을 왜 사용하는걸까?<a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%84-%EC%99%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94%EA%B1%B8%EA%B9%8C\" aria-label=\"애자일을 왜 사용하는걸까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>최근에는 많은 조직에서 이미 애자일 프로세스를 사용하고 있기 때문에 애자일이 무엇인지는 많이 알고 계실거라 생각한다.</p>\n<p>애자일(Agile)은 “기민하다”라는 뜻으로 너무 계획이 없는 개발 방법론과 너무 체계적인 계획이 있는 개발 방법론 사이의 균형을 잡아보자는 의도로 나온 개발 방법론이다.</p>\n<p>전통적인 개발 방법론으로는 폭포수 모델(Waterfall)이 대표적인데, 이 개발 방법론의 특징은 바로 앞만 보고 달리되, 굉장히 긍정적인 마인드를 품은 개발 방법론이라는 것이다.</p>\n<p>폭포수 모델을 포함한 이런 전통적인 개발 방법론들은 대략 다음과 같은 큰 틀을 가진다</p>\n<blockquote>\n<p>기획 > 디자인 > 개발 > 테스트 > 배포 > 유지보수</p>\n</blockquote>\n<p>굉장히 익숙하지 않은가? 우리도 알게 모르게 여러 번 겪었을 프로세스다. 이 프로세스는 마감 기한을 정해놓고 그 마감 기한 안에 프로젝트를 끝내기 위해 모든 팀원이 자신이 맡은 일을 끝낸 후 다음 차례로 넘긴다. 이렇게 아무 문제 없이 끝난다면 모두가 행복한 해피엔딩이겠지만 현실은 그렇지 않다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8ac0172a596e7ec9ad9ef898fdec21cf/1ac29/client.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABh0lEQVR42l2T6a6CUAyEz/u/m7+MS8QFFcR9wQ1ErX69mRNzmxAPtJ3OTI/hcrnYfD63+/1u7/fbFouFbTYbI05lacVyaU3T2OPxsOX3vF6vPbfb7SydTu35fNrr9bKiKBwjrFYrS5LEbrebJzudjoMSAAwGAy+s69p6vV4cNpvN/CHK72ByYASmU0zAkGaACXJVVcUcDfwKBNaqI0eE8/nskvkIEIzFEDs400g+z3PbbrcRkHfkksuyzI7Ho4XD4WDj8djBeIbDoUsl8Kvb7UYP+/1+lIxn06+HAMKu3W7/AVL4K1leEsj9lazFEfQwiKCenEumAbpqRBKsCSZi/PV69XfJ8htwOlmapg4GMLZhQ6CALWvyZDKJTchie0xHGpLxnMDrVqvlRAAFHOCARG2IBFNolvEC4Btn5ThLFbZJhXu43+8dnWLOXFoBsiB5DGM1cgN0ySHC2ZdC02g0ilcD6irET3zTMHwSYwaxZS2P2+H/FKbLM3wERNuDhQD+28F3sQVIGB+b05uY7oiTDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"client\" title=\"\" src=\"/static/8ac0172a596e7ec9ad9ef898fdec21cf/6af66/client.png\" srcset=\"/static/8ac0172a596e7ec9ad9ef898fdec21cf/69538/client.png 160w,\n/static/8ac0172a596e7ec9ad9ef898fdec21cf/72799/client.png 320w,\n/static/8ac0172a596e7ec9ad9ef898fdec21cf/6af66/client.png 640w,\n/static/8ac0172a596e7ec9ad9ef898fdec21cf/d9199/client.png 960w,\n/static/8ac0172a596e7ec9ad9ef898fdec21cf/1ac29/client.png 1022w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>M06B님의 \"무리한 요구를 하는 클라이언트\" 카톡 이모티콘</small>\n</center>\n<p>현실 세계에서는 갑인 클라이언트님께서 프로토타입을 보고 수정 사항을 요청할 수도 있고, 인하우스 프로덕트를 개발하는 회사라고 해도 열심히 개발해서 배포했더니 유저의 반응이 예상과는 전혀 다르게 안좋을 수도 있다.</p>\n<p>이런 상황에서의 폭포수 모델은 너무 많은 리스크를 팀원들에게 강요한다. 기껏 한두달 열심히 개발했더니 그동안 고생한게 모두 물거품이 되버리기 쉽다는 얘기다. 또한 이런 경우도 생긴다.</p>\n<blockquote>\n<p>기획 > 디자인 > 개발(어? 이건 지금 상황에선 불가능 한데…?)</p>\n</blockquote>\n<p>개발자가 기획 회의에 참여한 경우 이런 경우를 어느 정도 방지할 수 있지만 그렇지 않은 경우 다시 기획자에게 찾아가서 현재 상황과 불가능한 이유를 설명하고 다시 기획과 디자인 프로세스부터 시작해야한다. 이런 경우, 작게는 시간 낭비부터 시작해서 크게는 팀원간의 감정도 상할 수 있고 그로 인해 팀 사기에도 좋지 않은 영향을 끼치기 때문에 좋은 경험은 아니라고 생각한다. <small>(필자는 팀원들의 감정 상태를 굉장히 중요하게 생각한다)</small></p>\n<p>그럼 전통적인 방법들의 이런 단점을 극복하고자 고안된 애자일이 무엇인지 한번 알아보도록 하자.</p>\n<h2 id=\"애자일-선언에-대해서\" style=\"position:relative;\">애자일 선언에 대해서<a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC-%EC%84%A0%EC%96%B8%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\"애자일 선언에 대해서 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>애자일 개발 방법론은 2001년 발표한 애자일 선언에서부터 시작한다.</p>\n<blockquote>\n<p>우리는 소프트웨어를 개발하고, 또 다른 사람의 개발을 도와주면서 소프트웨어 개발의 더 나은 방법들을 찾아가고있다.\n이 작업을 통해 우리는 다음을 가치 있게 여기게 되었다.</p>\n<ul>\n<li>공정과 도구보다 <strong>개인과 상호작용</strong>을</li>\n<li>포괄적인 문서보다 <strong>작동하는 소프트웨어</strong>를</li>\n<li>계약 협상보다 <strong>고객과의 협력</strong>을</li>\n<li>계획을 따르기보다 <strong>변화에 대응하기</strong>를</li>\n</ul>\n<p>가치 있게 여긴다. 이 말은 왼쪽에 있는 것들도 가치가 있지만, 우리는 오른쪽에 있는 것들에 더 높은 가치를 둔다는 것이다.</p>\n<p><strong>애자일 선언 한국어 원문</strong> <em><a href=\"https://agilemanifesto.org/iso/ko/manifesto.html\" target=\"_blank\" rel=\"nofollow\">agilemanifesto.org</a></em></p>\n</blockquote>\n<p>우리는 이 선언에서 애자일이 어떤 것을 지향하는 지 알 수 있다. 이 얘기를 좀 더 쉽게 풀면 이런 식이다.</p>\n<hr>\n<p>자, 우리는 팀이니까 따로 놀지말고 커뮤니케이션을 잘하고!</p>\n<p>쓸데없는 문서 작성에 너무 시간 뺏기지 말고 일단 작동하는 뭔가를 만들고!</p>\n<p>고객이 실제로 가치를 느낄 수 있는 프로덕트를 만들고!</p>\n<p>계획은 늘상 변하는 거니까 변화에 대응할 수 있게 유연한 작업 방식으로 일하자!</p>\n<hr>\n<p>애자일은 굉장히 이상적이다. 오직 고객만을 위한 제품을 만들기 위해 유연하게 움직이는 조직이 되자는 의미이기 때문이다.</p>\n<h2 id=\"애자일-선언-이면의-원칙12개-원칙\" style=\"position:relative;\">애자일 선언 이면의 원칙(12개 원칙)<a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC-%EC%84%A0%EC%96%B8-%EC%9D%B4%EB%A9%B4%EC%9D%98-%EC%9B%90%EC%B9%9912%EA%B0%9C-%EC%9B%90%EC%B9%99\" aria-label=\"애자일 선언 이면의 원칙12개 원칙 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>애자일은 애자일 선언 외에도 12개의 원칙을 세워놓고 그 원칙을 따르자고 한다.</p>\n<blockquote>\n<p>우리는 다음 원칙을 따른다.</p>\n<ol>\n<li>\n<p>우리의 최우선 순위는 가치 있는 소프트웨어를 일찍 그리고 지속적으로 전달해서 고객을 만족시키는 것이다.</p>\n</li>\n<li>\n<p>비록 개발의 후반부일지라도 요구사항 변경을 환영하라. 애자일 프로세스들은 변화를 활용해 고객의 경쟁력에 도움이 되게 한다.</p>\n</li>\n<li>\n<p>작동하는 소프트웨어를 자주 전달하라. 두어 주에서 두어 개월의 간격으로 하되 더 짧은 기간을 선호하라.</p>\n</li>\n<li>\n<p>비즈니스 쪽의 사람들과 개발자들은 프로젝트 전체에 걸쳐 날마다 함께 일해야 한다.</p>\n</li>\n<li>\n<p>동기가 부여된 개인들 중심으로 프로젝트를 구성하라. 그들이 필요로 하는 환경과 지원을 주고 그들이 일을 끝내리라고 신뢰하라.</p>\n</li>\n<li>\n<p>개발팀으로, 또 개발팀 내부에서 정보를 전하는 가장 효율적이고 효과적인 방법은 면대면 대화이다.</p>\n</li>\n<li>\n<p>작동하는 소프트웨어가 진척의 주된 척도이다.</p>\n</li>\n<li>\n<p>애자일 프로세스들은 지속 가능한 개발을 장려한다. 스폰서, 개발자, 사용자는 일정한 속도를 계속 유지할 수 있어야 한다.</p>\n</li>\n<li>\n<p>기술적 탁월성과 좋은 설계에 대한 지속적 관심이 기민함을 높인다.</p>\n</li>\n<li>\n<p>안 하는 일의 양을 최대화하는 기술이 필수적이다.</p>\n</li>\n<li>\n<p>최고의 아키텍처, 요구사항, 설계는 자기 조직적인 팀에서 창발한다.</p>\n</li>\n<li>\n<p>팀은 정기적으로 어떻게 더 효과적이 될지 숙고하고, 이에 따라 팀의 행동을 조율하고 조정한다.</p>\n</li>\n</ol>\n<p><strong>애자일 선언 이면의 원칙</strong> <em><a href=\"https://agilemanifesto.org/iso/ko/manifesto.html\" target=\"_blank\" rel=\"nofollow\">agilemanifesto.org</a></em></p>\n</blockquote>\n<p>우리가 애자일 프로세스라고 하면 떠올리는 몇가지 일들은 이 12개의 원칙을 기반으로 생겨난 것이다.</p>\n<p>예를 들면 스프린트(Sprint)는 3번 원칙에 기초하며 매 스프린트가 끝날 때마다 행하는 회고(Retrospective)는 12번 원칙에 기초한다.</p>\n<p>또한 애자일에서는 거대한 팀보다는 일명 Task Force Team(TF Team)을 선호하는데, 이건 5번에서 기초한다. 그 이유는 거대한 팀보다 작은 팀이 더 유기적으로 움직이기 편하기 때문이다.</p>\n<p>이 12개의 원칙은 어떻게 하면 더 기민하게 프로덕트를 생산하고 고객에게 전달할 수 있는지에 대한 일종의 가이드라인 역할을 하는 셈이다.</p>\n<h2 id=\"애자일의-기본적인-요소들\" style=\"position:relative;\">애자일의 기본적인 요소들<a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%98-%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%9A%94%EC%86%8C%EB%93%A4\" aria-label=\"애자일의 기본적인 요소들 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f171b9e2a7ab63b5531936a0dc5f935c/6a068/agile_process.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHvZJMqMP8A/8QAGBABAAMBAAAAAAAAAAAAAAAAAQACEhD/2gAIAQEAAQUCmnmKzNYAH//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAEAAgMAAAAAAAAAAAAAAAAAATEQEXH/2gAIAQEABj8CdxSoah//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMVH/2gAIAQEAAT8h5910gRQ1HKenLStPOY0EDf/aAAwDAQACAAMAAAAQBN//xAAWEQEBAQAAAAAAAAAAAAAAAAABACH/2gAIAQMBAT8QRW3/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxASf//EAB4QAQACAgEFAAAAAAAAAAAAAAEAESExUUFhcYGR/9oACAEBAAE/EFL5cwRhYDd4vfz1AliJyRtU3d47zUoVYYIbPWDpP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"agile process\" title=\"\" src=\"/static/f171b9e2a7ab63b5531936a0dc5f935c/c08c5/agile_process.jpg\" srcset=\"/static/f171b9e2a7ab63b5531936a0dc5f935c/0913d/agile_process.jpg 160w,\n/static/f171b9e2a7ab63b5531936a0dc5f935c/cb69c/agile_process.jpg 320w,\n/static/f171b9e2a7ab63b5531936a0dc5f935c/c08c5/agile_process.jpg 640w,\n/static/f171b9e2a7ab63b5531936a0dc5f935c/6a068/agile_process.jpg 960w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>[출처] https://brainhub.eu/blog/differences-lean-agile-scrum/</small>\n  <br>\n</center>\n<p>애자일은 12개의 원칙에 기초하는 여러 개의 요소를 가지고 있다. 이 포스팅에서는 구성 요소들 중 필자가 중요하다고 생각하는 User Story, Backlog, Estimation, Retrospective를 짚고 넘어가겠다. 한번 간단하게 하나하나 살펴보자.</p>\n<h3 id=\"user-story\" style=\"position:relative;\">User Story<a href=\"#user-story\" aria-label=\"user story permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>애자일은 유저 스토리 기반으로 구성된다. 이 스토리라는 것이 상당히 중요한데, 이건 철저히 <strong>유저 중심</strong>으로 만들어져야 한다. 우리가 보통 스토리 혹은 이슈를 생성하면 이런 식으로 작성될 확률이 높다.</p>\n<blockquote>\n<ul>\n<li>SD-1234 요청서 페이지 리뉴얼</li>\n<li>SD-1235 웹뷰로 되어있는 프로필 페이지를 네이티브로 변경</li>\n<li>SD-1236 소셜 로그인을 위한 DB 스키마 설계 및 API 엔드포인트 작성</li>\n<li>SD-1237 유저 채팅에 사진 여러 장 한번에 보내기 기능 추가</li>\n</ul>\n</blockquote>\n<p>필자가 애자일 코칭을 받을 때 애자일 코치님이 가장 먼저 지적한 것이 바로 이것이었다. 애자일 코치님은 스토리에 되도록이면 <strong>누가(Who)</strong>, <strong>무엇을(What)</strong>, <strong>왜(Why)</strong> 세가지 요소가 들어가면 좋다고 했었다.</p>\n<p>이렇게 작성된 스토리는 그 제목 자체만으로 팀이 왜 이 스토리를 해결되어야 하는지 설명해준다. 따라서 위의 스토리들은 이렇게 다시 작성되어야 한다.</p>\n<blockquote>\n<ul>\n<li>SD-1234 <strong>고객</strong>은 요청서를 쉽게 보내기 위해 필요한 정보를 한눈에 확인할 수 있다.</li>\n<li>SD-1235 <strong>고객</strong>은 자연스러운 UX를 위해 프로필 페이지를 웹뷰가 아닌 네이티브로 사용할 수 있다.</li>\n<li>SD-1236 <strong>클라이언트 개발자</strong>는 소셜 로그인 기능 개발을 위해 관련 API 엔드포인트를 사용할 수 있다.</li>\n<li>SD-1237 <strong>고객</strong>은 채팅 내에서 여러 장의 사진을 쉽게 보내기 위해 멀티 셀렉트 기능을 사용할 수 있다.</li>\n</ul>\n</blockquote>\n<p>이렇게 작성된 유저 스토리는 이 스토리들과 전혀 관련없는 제 3의 팀원이 보더라도 별다른 부연 설명없이 원하는 정보를 얻을 수 있다.</p>\n<p>그리고 유저(Who)는 반드시 고객이 아니어도 상관없다. <code class=\"language-text\">SD-1236</code>의 경우 유저는 클라이언트 개발자이다. 이런 경우에도 클라이언트 개발자(Who)는 소셜 로그인 기능 개발을 위해(Why) 관련 API 엔드포인트를 사용할 수 있다.(What)과 같은 정보를 모두 채워서 넣으면 된다. 팀원들은 프로덕트의 생산자이자 서로의 내부 고객이기도 하기 때문이다.</p>\n<h3 id=\"product-backlog\" style=\"position:relative;\">Product Backlog<a href=\"#product-backlog\" aria-label=\"product backlog permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Product Backlog는 앞으로 처리해야할 여러 개의 유저 스토리로 구성되어 있다. 이 스토리들은 PO(Product Owner)가 정의한 우선 순위대로 정렬되어 있으며 이 우선 순위에 대한 권한은 PO의 직권이다. 일단 이 애자일은 팀원들이 PO가 내린 결정을 신뢰해야 한다는 게 기본 전제 조건이다.</p>\n<p>그렇다고 무조건 믿고 까라면 까라는 게 아니고, 당연히 의견이 있다면 자유롭게 토의할 수 있지만 최종 결정은 PO가 한다는 의미이다.</p>\n<p>그리고 백로그는 그냥 방치하면 계속 스토리들이 쌓이게 되는데 PO는 주기적으로 이 스토리들이 실행 여부를 판단하여 스토리들을 정리해주는 작업을 해줘야한다. 그렇지 않으면 스토리들이 계속 쌓여서 어떤 스토리가 의미가 있고 어떤 스토리가 의미가 없는 지 판단하는 데 걸리는 시간이 길어지게 된다.</p>\n<h3 id=\"estimation\" style=\"position:relative;\">Estimation<a href=\"#estimation\" aria-label=\"estimation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Estimation은 한국말로 직역하면 “견적” 정도의 의미이다. 근데 회사에서는 다들 그냥 에스티메이션이라고 하므로 필자도 거기에 익숙하기 때문에 그냥 에스티메이션이라고 하겠다.</p>\n<p>에스티메이션은 PO가 만들어놓은 여러 가지 스토리를 가져와서 실제 그 스토리를 해결할 팀원들이 이 이슈가 어느 정도의 크기를 가진 이슈인지 스토리 포인트를 매기는 것이다.</p>\n<p>이때 많이 하는 방법이 이슈를 처리하는데 걸리는 시간이 1시간이라면 스토리 포인트 1점으로 계산하여 절대값으로 매기는데, 필자의 직장도 처음에는 이렇게 생각하고 하루에 집중해서 일할 수 있는 시간을 4시간으로 정한 후 처리하는데 하루 정도 걸리는 이슈는 4점으로 에스티메이션하는 방법을 사용했다.</p>\n<p>근데 문제는 이 예상이 거의 대부분 빗나간다는 것이다. 물론 자기가 하는 일이 정확히 언제 끝날 지 산정하실 수 있는 굇수분들도 있겠지만 필자와 필자의 팀원들은 그냥 일반인이기 때문에 그러지 못했다. 예상하지 못한 버그가 터지거나 예상하지 못한 회의가 생겼다거나 혹은 갑자기 아파서 병가를 썼다거나 이런 예외 상황은 생각보다 자주 발생했고 그럴때마다 스프린트도 펑펑 터져나갔다.</p>\n<p>그래서 택한 방법은 바로 스토리 포인트를 <strong>상대값</strong> 으로 매기는 것이다. 방법은 이렇다. 과거에 지나갔던 스토리 중에 기준이 될만한 스토리를 하나 가져와서 그 스토리에 대해서 팀원들이 그때의 경험을 토대로 에스티메이션을 한다.</p>\n<blockquote>\n<p><strong>SD-1234 사용자는 요청서를 쉽게 보내기 위해 필요한 정보를 한눈에 확인할 수 있다.</strong></p>\n<p>철수: <em>이거 생각보다 일이 없었던 것 같은데? 저는 3.</em></p>\n<p>영희: <em>이거 디자인하느라 맨날 야근했어. 나는 5.</em></p>\n<p>민철: <em>난 영희를 좋아하니까 나도 5.</em></p>\n</blockquote>\n<p>이런 식으로 어느 정도 팀원들의 의견이 수렴이 되면 “요청서 페이지의 디자인을 바꿨던 스토리가 5정도 된다”라는 기준을 잡을 수 있다. 이제 이 스토리를 기준으로 다른 스토리들의 크기를 상대적으로 측정해나가는 것이다. 측정하는 스토리 포인트는 <code class=\"language-text\">XS, SM, M, L, XL</code>와 같이 티셔츠 사이즈로 하는 방법도 있고 <code class=\"language-text\">1, 2, 3, 4</code>와 같은 자연수를 사용해도 상관없다. 어차피 상대적인 크기를 측정하는 것이므로 추상적인 크기만 설정할 수 있으면 된다.</p>\n<p>참고로 필자의 회사는 <code class=\"language-text\">1, 2, 3, 5, 8...</code>의 피보나치 수열을 사용하고 있다.</p>\n<p>처음에는 상대적인 크기를 측정한다는 것이 어렵게 느껴질 지 모르지만 필자가 경험해본 느낌으로는 시간을 측정하는 것보단 이 방법이 더 정확했다. 단, 팀이 한 스프린트에 어느 정도의 스토리 포인트를 쳐낼 수 있는지에 대한 정보가 먼저 필요하다.</p>\n<p>이건 그냥 적당히 몇번 돌려보면 각이 나온다. 첫번째 스프린트에 <code class=\"language-text\">40</code>, 두번째 스프린트에는 <code class=\"language-text\">20</code>을 쳤다면 다음 스프린트에는 평균 값인 <code class=\"language-text\">30</code>만큼의 스토리만 넣는 것이다.</p>\n<p>비록 첫번째 스프린트에 비해 두번째 스프린트는 달성률이 50%나 떨어졌지만 걱정하지말자!</p>\n<p>두번째 스프린트에 끝내지 못한 이슈는 세번째 스프린트까지 이어진 후 그 스프린트 안에 끝나기 때문에 다음 스프린트의 달성률은 원래 예상치보다 더 높아지므로 세 스프린트의 평균을 내보면 비슷한 값이 나온다. 그런 식으로 몇번 스프린트를 돌려보면 한번의 스프린트가 도는 동안 팀이 평균적으로 몇 만큼의 스토리 포인트를 쳐낼 수 있는지 각이 나온다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 493px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ebd2e73b77c8a5a1b46423a098f0839e/78ff8/dash.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 136.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG2V2i05IVuTk6IsP/EAB0QAAICAgMBAAAAAAAAAAAAAAECAxIAEQQhMTP/2gAIAQEAAQUClVbjplJCyK13hvleYuPJshtFDtYvPRD8/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAfEAABAwQDAQAAAAAAAAAAAAABABEhAhAiYRIxQYH/2gAIAQEABj8CJPqx6WRlOQ5qjSDv8TUiNoGOHtyNql7f/8QAHRABAAMBAQADAQAAAAAAAAAAAQARITFBUXGBsf/aAAgBAQABPyGujYFR5LG+FW+sMFn0geREeCKRZXFUQ0BPFEcYWqJvwRirBMIhL2aZpTGdvTY/jP7M/9oADAMBAAIAAwAAABBAAgD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAgEAEAAgICAQUAAAAAAAAAAAABESEAMUFRYXGRobHw/9oACAEBAAE/EDOoFiohPjeWGCBTJdRvYYyDcrD4yCFIDFi2d1l4fVUnydxzgPMQbHquQTuKCzIMhbglBZVsY175AmSZDjCFDtA7+87VLCpEArozV+rz/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dash\" title=\"\" src=\"/static/ebd2e73b77c8a5a1b46423a098f0839e/78ff8/dash.jpg\" srcset=\"/static/ebd2e73b77c8a5a1b46423a098f0839e/0913d/dash.jpg 160w,\n/static/ebd2e73b77c8a5a1b46423a098f0839e/cb69c/dash.jpg 320w,\n/static/ebd2e73b77c8a5a1b46423a098f0839e/78ff8/dash.jpg 493w\" sizes=\"(max-width: 493px) 100vw, 493px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>저번 스프린트에 망한 달성률만큼 다음 스프린트에는 초과 달성될 확률이 높다!</small>\n</center>\n<p>그리고 중요한 건 스프린트 마감일은 데드라인이 아니다. 배포가 예상보다 늦어졌다면 늦어진 이유를 분석하고 다음에 또 늦지않으면 되는거니 너무 부담가지지는 말자. 두 번 실수하지만 않으면 된다.</p>\n<h3 id=\"retrospective\" style=\"position:relative;\">Retrospective<a href=\"#retrospective\" aria-label=\"retrospective permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>회고(Retrospective)는 스프린트를 마무리하는 단계에서 행하는 것으로 필자는 다른 것들보다 이 회고가 가장 중요하다고 생각한다.\n회고는 팀이 발전하기 위한 방향을 논의하는 가벼운 회의이다. 절대 무거운 분위기로 진행하는 것이 아니다!</p>\n<p>그래서 필자의 직장에서는 회고를 사무실 근처 카페에서 커피를 마시면서 진행하기도 한다. 회고 방법은 타임라인을 그려놓고 팀원들이 각자 따뜻하게 느껴졌던 일과 차갑게 느껴졌던 일을 포스트잇에 적어서 타임라인에 붙히고 투표를 통해 논의하는 방법도 있고 그냥 각자 미리 주제를 정해와서 자유롭게 토론하는 방법도 있다.</p>\n<p>이렇게 회고를 통해서 다음 스프린트에 시행할 액션 아이템(Action Item)을 정한 다음 각 액션 아이템마다 담당자를 붙혀준다. 해당 액션을 관리할 담당자가 없으면 흐지부지 해지기 쉽기 때문이다.</p>\n<p>담당자가 된 팀원은 다른 팀원들에게 주기적으로 노티를 줘서 책임감을 가지고 그 스프린트 안에 해당 액션 아이템을 처리하는 것을 목표로 한다.</p>\n<h2 id=\"그럼-애자일은-좋은-건가\" style=\"position:relative;\">그럼 애자일은 좋은 건가?<a href=\"#%EA%B7%B8%EB%9F%BC-%EC%95%A0%EC%9E%90%EC%9D%BC%EC%9D%80-%EC%A2%8B%EC%9D%80-%EA%B1%B4%EA%B0%80\" aria-label=\"그럼 애자일은 좋은 건가 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>일단 필자는 개인적으로 데드라인에 쫓기는 폭포수 모델보다는 1-2주 안에 작은 스토리를 처리하고 배포하는 애자일을 좋아하긴 한다. 짧은 시간안에 개발과 배포가 이루어지다보니 사용자의 피드백을 빠른 시간안에 받을 수도 있고 뭔가 배포할때마다 느끼는 상쾌함도 자주 돌아오기 때문에 좋다. 그러나 애자일이 모든 상황에서 항상 잘 듣는 만병 통치약은 아니다. 애매한 상황도 생긴다는 얘기다.</p>\n<h3 id=\"이건-애자일-하지-않아요\" style=\"position:relative;\">이건 애자일 하지 않아요!<a href=\"#%EC%9D%B4%EA%B1%B4-%EC%95%A0%EC%9E%90%EC%9D%BC-%ED%95%98%EC%A7%80-%EC%95%8A%EC%95%84%EC%9A%94\" aria-label=\"이건 애자일 하지 않아요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이 대사는 필자가 직장에서 데일리 스크럼 때 꽤나 많이 들었던 말이다. 상황은 대충 이렇다.</p>\n<blockquote>\n<p>뭔가를 해야한다. -> 생각보다 이슈의 크기가 크다. -> 기능 간 디펜던시가 커서 따로 배포는 힘들 것 같다. -> 그냥 한번에 하고 배포하자!</p>\n</blockquote>\n<p>이런 상황에서 누군가 이야기 한다.</p>\n<blockquote>\n<p>흠 근데…이건 애자일 하지 않은 것 같은데요…?</p>\n</blockquote>\n<p>그러면 그 공간에 있는 모두가 머리를 싸매기 시작한다. “애자일하게 이걸 처리하려면 어떻게 해야하지…?” 라는 생각으로 머리가 복잡해지기 시작한다. “그럼 애자일하게 하려면 어떻게 해야할까요?”라고 누군가 질문을 던져보지만 아무도 답을 내지 못한다. 이건 애초에 잘게 쪼갤 수 없는 이슈였기 때문이다.</p>\n<p>하지만 애자일의 본질은 이런게 아니다. 어떤 규칙과 규정으로 정해져 있는게 아니란 뜻이다.</p>\n<p>물론 애자일 선언과 12개의 법칙이 있긴 하지만 그건 그냥 가이드라인일 뿐이다. 각 팀마다 성격이 다른데 어떠한 방법이 전세계 모든 팀에게 모두 좋은 효과를 보인다는 건 말도 안된다.</p>\n<p>필자는 애자일의 기본 가이드 라인을 따라가되, 각 팀에 맞게 유연해서 변형해서 사용하는 것이 더 자연스럽고, 또 그게 맞는 방법이라고 생각한다. 굳이 애자일 선언이나 뭐 저런 법칙이나 그런 걸 굳이 안 따라하더라도 그 팀에 맞는 어떠한 창의적인 방법이라도 괜찮다. 다 일 잘하자고 하는건데 굳이 어떤 규칙을 만들어서 지켜야할 이유는 없다. 일만 잘하면 됐지.</p>\n<h3 id=\"애자일에-너무-얶매이지는-말자\" style=\"position:relative;\">애자일에 너무 얶매이지는 말자<a href=\"#%EC%95%A0%EC%9E%90%EC%9D%BC%EC%97%90-%EB%84%88%EB%AC%B4-%EC%96%B6%EB%A7%A4%EC%9D%B4%EC%A7%80%EB%8A%94-%EB%A7%90%EC%9E%90\" aria-label=\"애자일에 너무 얶매이지는 말자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 사실 애자일 선언을 처음 들었을 때 마치 공산주의같다고 생각했다.</p>\n<p>마르크스가 처음 마르크스 주의를 제창하고 자본론을 집필했을 때의 사회 분위기는 이러했다. 공산주의는 완벽한 체제이고 점점 발전해가며  자본주의는 언젠가 스스로 붕괴할 것이라는 분위기가 노동자들 사이에서 팽배했다. 그러나 현실에 도입된 공산주의는 현실의 벽 앞에 부딪히고 스탈린주의, 마오주의 등으로 점점 변질되어 대부분 독재로 마무리 되었다.</p>\n<p>원래는 “우리 모두 함께 잘살아보세!”에서 시작했지만 현실에 강림한 공산주의의 실체는 “우리 함께 못살자”가 되버린 격이다.</p>\n<p>마찬가지로 현실의 애자일도 생각보다 순탄하게만은 돌아가지 않는다. 방금 위에서 예를 든 상황도 굉장히 애매한 상황 중 하나이다. 이슈를 쪼갤 수 없어서 한 스프린트안에 배포가 힘들 것 같은데 어떻게 해야한단 말인가?</p>\n<p>애자일 선언은 물론 굉장히 좋은 말이고 옳은 말이지만 저기에 너무 집착하게 되면 오히려 일을 위한 일을 만들게 되는 조직이 된다고 생각한다.</p>\n<p>우리가 지금 누리고 있는 자본주의도 원래 애덤 스미스 형의 “시장은 냅두면 알아서 잘 굴러간다” 운운하던 예전 그대로라면 망테크였겠지만, 공산주의에서 제창하던 것들을 좋은 방향으로 잘 섞은 뉴딜정책으로 인한 국유화 사업과 복지 정책 등이 포텐터지면서 지금까지 발전하게 된 것이다. 뭐든지 절대적으로 완전한 건 없다.</p>\n<p>마찬가지로 필자는 애자일이든 폭포수 모델이든 칸반이든 뭐가 됐든 그냥 일만 효율적으로 잘하면 그만이라고 생각하기 때문에 저 애자일 선언은 그냥 한번 듣고 흘렸다. 그냥 좋아보이는 걸 적당히 섞어서 써도 팀에만 잘 맞는다면 상관없다.\n애자일 선언은 너무나도 당연한 말들만 해서 오히려 더 담아두지 않았던 것 같다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 필자가 애자일 코칭을 받고 나서 느낀건 “애자일에는 정답이 없구나”와 동시에 “아니 그럼 저 애자일 선언이고 나발이고 그냥 기민하게 제품을 배포만 할 수 있으면 아무 상관없는 거 아닌가?”라는 아이러니한 생각이었다.</p>\n<p>지금도 필자는 애자일은 그냥 제품을 기민하게 고객에게 배송할 수만 있다면 스프린트를 1주로 하든 2주로 하든 에스티메이션을 어떻게 하든, 방법 따윈 뭐가 됐든 상관없다고 생각한다.</p>\n<p>다만 만약 여러분의 팀에서 애자일을 도입해보고자 한다면 제대로 해보는 게 좋다고 생각하기 때문에 필자가 애자일 코칭을 하면서 배웠던 경험들을 공유한다. 팀원들이 단합해서 이것 저것 다 시도해보고 회고를 통해 어떤 점이 좋았는지, 어떻게 하면 우리 팀이 좋은 방향으로 개선될지에 대해 논의하고 실제로 더 나아지는 경험은 쉽게 얻을 수 없는 좋은 경험이기 때문이다. 해보면 되게 재밌다 진짜로.</p>\n<p>애자일은 제대로 하려면 생각보다 공부가 굉장히 많이 필요한 개발 방법론이다. 알아야 할 것도 많고 이것들을 각자의 팀에 맞게 응용하고 점검할 수 있는 능력도 있어야 한다.\n그러나 필자가 직접 다른 조직에서 경험하거나 근처 개발자들한테 주워들은 얘기를 빌자면, 애자일을 도입한 많은 조직들이 단순히 스프린트를 돌리고 데일리 스크럼 미팅을 하고 JIRA를 사용하기만 하면서 애자일을 한다고 하는 경우도 많이 있다.</p>\n<p>우리 팀이 스프린트에 쳐낼 수 있는 스토리 포인트가 어느 정도인지, 또 우리가 애자일을 하면서 외부 고객과 내부 고객들이 만족하고 있는지, 이런 끊임없는 점검이 부재한 애자일은 그냥 1-2주 단위의 데드라인을 반복할 뿐이다. 이거 해봐서 아는데 진짜 죽을 맛이다. 매일 데드라인의 압박을 느낀다는 건…후</p>\n<p>이 글을 읽는 여러분이 애자일에 관심을 가짐과 동시에 협업에 대한 열정도 뿜뿜하면서 팀에서 재밌고 즐겁게 일할 수 있기를 바란다.</p>\n<p>이상으로 애자일이 도대체 뭐길래? 포스팅을 마친다.</p>","fields":{"slug":"20190702-what-is-agile","path":"/2019/07/02/what-is-agile/","lang":"ko"},"frontmatter":{"title":"애자일이 도대체 뭐길래?","subTitle":"애자일을 도입했지만 제대로 굴러가지 않는 조직을 위해","date":"Jul 02, 2019","categories":["소프트스킬"],"tags":["애자일","애자일 프로세스","Agile","소프트웨어 개발 방법론","조직관리"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ddbff2c3ca65fe24699da104fe514fa7/3a812/thumbnail.jpg","srcSet":"/static/ddbff2c3ca65fe24699da104fe514fa7/3a812/thumbnail.jpg 320w,\n/static/ddbff2c3ca65fe24699da104fe514fa7/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ddbff2c3ca65fe24699da104fe514fa7/fc5c5/thumbnail.webp 320w,\n/static/ddbff2c3ca65fe24699da104fe514fa7/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ddbff2c3ca65fe24699da104fe514fa7/2d839/thumbnail.jpg","srcSet":"/static/ddbff2c3ca65fe24699da104fe514fa7/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ddbff2c3ca65fe24699da104fe514fa7/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"b7fc04f8-7a6d-5bd5-8344-926acd8a6a75","tableOfContents":"<ul>\n<li>\n<p><a href=\"#v8-%EC%97%94%EC%A7%84%EC%9D%B4%EB%9E%80\">V8 엔진이란?</a></p>\n</li>\n<li>\n<p><a href=\"#v8-%EC%97%94%EC%A7%84%EC%9D%98-%EC%9E%91%EB%8F%99%EC%9B%90%EB%A6%AC%EB%A5%BC-%EC%82%B4%ED%8E%B4%EB%B3%B4%EC%9E%90\">V8 엔진의 작동원리를 살펴보자.</a></p>\n<ul>\n<li><a href=\"#parsing-%EC%BD%94%EB%93%9C%EC%9D%98-%EC%9D%98%EB%AF%B8-%ED%8C%8C%EC%95%85%ED%95%98%EA%B8%B0\">Parsing, 코드의 의미 파악하기</a></li>\n<li><a href=\"#ignition%EC%9C%BC%EB%A1%9C-%EB%B0%94%EC%9D%B4%ED%8A%B8-%EC%BD%94%EB%93%9Cbytecode-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\">Ignition으로 바이트 코드(Bytecode) 생성하기</a></li>\n<li><a href=\"#turbofan%EC%9C%BC%EB%A1%9C-%EB%9C%A8%EA%B1%B0%EC%9B%8C%EC%A7%84-%EC%BD%94%EB%93%9C-%EC%8B%9D%ED%9E%88%EA%B8%B0\">TurboFan으로 뜨거워진 코드 식히기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 구글의 V8 엔진이 어떤 방식으로 JavaScript를 해석하고 실행하는지 살펴 보는지에 대해 포스팅하려고 한다. V8은 C++로 작성되었지만 필자의 메인 언어가 C++이 아니기도 하고, 워낙 소스가 방대하기 때문에 자세한 분석까지는 아니라도 최대한 웹 상에 있는 정보들과 필자가 분석한 V8의 소스코드를 비교해가면서 살펴보려고 한다. V8 엔진이란? V8 엔진은 구글이 주도하여 C++로 작성된 고성능의 JavaScript & Webassembly 엔진이다. 또한 V8은 오픈 소스이기 때문에 V8 엔진 깃허브 레파…","html":"<p>이번 포스팅에서는 구글의 V8 엔진이 어떤 방식으로 JavaScript를 해석하고 실행하는지 살펴 보는지에 대해 포스팅하려고 한다. V8은 C++로 작성되었지만 필자의 메인 언어가 C++이 아니기도 하고, 워낙 소스가 방대하기 때문에 자세한 분석까지는 아니라도 최대한 웹 상에 있는 정보들과 필자가 분석한 V8의 소스코드를 비교해가면서 살펴보려고 한다.</p>\n<h2 id=\"v8-엔진이란\" style=\"position:relative;\">V8 엔진이란?<a href=\"#v8-%EC%97%94%EC%A7%84%EC%9D%B4%EB%9E%80\" aria-label=\"v8 엔진이란 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>V8 엔진은 구글이 주도하여 C++로 작성된 고성능의 JavaScript &#x26; Webassembly 엔진이다. 또한 V8은 오픈 소스이기 때문에 <a href=\"https://github.com/v8/v8\" target=\"_blank\" rel=\"nofollow\">V8 엔진 깃허브 레파지토리</a>에서 클론받을 수 있다. 현재 Google Chrome과 NodeJS에서 사용되고 있으며 ECMAScript와 Webassembly를 표준에 맞게 구현하였다.</p>\n<p>2019년 6월 28일 기준으로 <a href=\"https://compat-table.github.io/compat-table/es2016plus/\" target=\"_blank\" rel=\"nofollow\">Kangax Table</a>에서 확인해보면, V8을 사용하고 있는 CH(Chromium)과 Node는 거의 대부분의 ES2016+ 기능을 구현해놓은 반면 마이크로소프트의 Chakra나 모질라의 Spider Monkey의 경우 붉은 색으로 표시된 부분이 꽤 존재한다는 것을 볼 수 있다.</p>\n<blockquote>\n<p>다른 플랫폼과의 호환과 서로 간의 리스크를 줄이기 위해, 마이크로소프트 Edge는 이제 이 변경 사항의 일부분으로 인해 V8 엔진을 사용할 것 입니다. 우리가 배워야할 것들은 아직 많지만 그래도 우리는 V8 커뮤니티의 일원이 된 것과 이 프로젝트에 기여하게 된 것이 매우 기대됩니다.</p>\n<p><strong>ChakraCore team</strong> <em><a href=\"https://github.com/Microsoft/ChakraCore/issues/5865\" target=\"_blank\" rel=\"nofollow\">ChakraCore Github Issue</a></em></p>\n</blockquote>\n<p>하지만 지금까지 Chakra 엔진을 사용하던 Edge 브라우저의 경우, 이제 Chromium 오픈소스 프로젝트에 동참하면서 V8을 사용할 예정이라고 한다. 음… 좋은 건지 나쁜 건지 아직은 잘 모르겠다.</p>\n<p>만약 V8을 빌드해서 실제로 디버깅까지 해보고 싶다면 단순히 git을 사용하여 클론 받는 것으로는 빌드를 할 수 없다. 빌드까지 해보고 싶은 분은 V8 공식 홈페이지의 <a href=\"https://v8.dev/docs/source-code\" target=\"_blank\" rel=\"nofollow\">Checking out the V8 source code</a>를 읽어보자.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0df8b088fb8103f7f024eb0c7acb8d7c/c84e8/meme1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAWqmWguiFRl//8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIABBETIf/aAAgBAQABBQLYGCvstkqh9Sqx5//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/Aaf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEJ/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAESMRARQVH/2gAIAQEABj8CJuV4TXpt2X0//8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFRQfH/2gAIAQEAAT8hoZUK3AiejiFgexiaXKdd9QbNCP/aAAwDAQACAAMAAAAQIz//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAwEBPxCD/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ENFj/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBYbHR/9oACAEBAAE/EKLyBDy1bKKN9MM0wCZHUVaOyn5NGIgL516gUVkB2iif/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meme1\" title=\"\" src=\"/static/0df8b088fb8103f7f024eb0c7acb8d7c/c08c5/meme1.jpg\" srcset=\"/static/0df8b088fb8103f7f024eb0c7acb8d7c/0913d/meme1.jpg 160w,\n/static/0df8b088fb8103f7f024eb0c7acb8d7c/cb69c/meme1.jpg 320w,\n/static/0df8b088fb8103f7f024eb0c7acb8d7c/c08c5/meme1.jpg 640w,\n/static/0df8b088fb8103f7f024eb0c7acb8d7c/c84e8/meme1.jpg 743w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Chromium이 워낙 대형 프로젝트다보니 빌드 한번 하려면 설치 과정부터 까다롭다</small>\n</center>\n<p>필자는 예전에 한번 셋업해본 적이 있는데, 당연하게도 순순히 잘 설치되어주지는 않으니 시간 많은 주말에 시도하는 것을 추천한다. 이번에는 단순히 소스 코드만 분석할 예정이므로 필자는 git을 이용하여 직접 클론받았다.</p>\n<h2 id=\"v8-엔진의-작동원리를-살펴보자\" style=\"position:relative;\">V8 엔진의 작동원리를 살펴보자.<a href=\"#v8-%EC%97%94%EC%A7%84%EC%9D%98-%EC%9E%91%EB%8F%99%EC%9B%90%EB%A6%AC%EB%A5%BC-%EC%82%B4%ED%8E%B4%EB%B3%B4%EC%9E%90\" aria-label=\"v8 엔진의 작동원리를 살펴보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>일반적으로 우리가 JavaScript를 사용할 때 엔진의 작동 원리와 같은 로우 레벨(Low Level)의 내용까지 깊게 신경쓸 필요는 없다. 사실 개발자들이 그런 것까지 일일히 신경쓰지 말라고 엔진을 사용하는 것이기 때문이다. 그러나 정말 JavaScript로 뽑아낼 수 있는 최적의 성능을 사용하고 싶다면 내 코드가 어떤 식으로 실행되는 지에 대한 이해는 어느 정도 있어야한다.</p>\n<p>그럼 먼저 간단한 그림으로 V8이 우리의 JavaScript 소스 코드를 어떻게 해석하고 실행하는 지 살펴보자. 자세한 설명은 밑에서 다시 할 예정이므로 그냥 한번 흝고 넘어간다는 느낌으로 보면 된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/27979b3d2674a00f5b68af5f303fb27c/159fb/v8compiler-pipeline.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVR42nVSO27cMBT04XIJH8MHSJHWvoNLH8BFgJQBUqQIDBd2s81+tZBISqT4E0VSVIbSOrEE7NsnAsvH4ZsZvpvxevR97xwW37nedh12hmFI45imwN+ba0iUWylZXe/3+6Io2lbO+yGOMd8wLsAhBGMsWjnnpJTH47EsS8YYIaQihHOBMz++P989Hr8+vv75/XMBBhJ4HNVaNzxHHKKxFsS7zlmbab+8vn35tru9fy+L/QKMQ9paqRTA2hhQLasKRIRo9bQ1H3t4bp5+qaw/pYXm7EdK8wqj6roB7c1mg4uUUpce2UO/1rwKyihjtZpYYEVmF+e8+PUBRivI673P5MH5VPCaj/PxqYqnQmnS36W0dBtWCSG22y1M5g2n+Hl+NmckdVRYYbQ5nU6ogor3YQGOMUIVyU/Cjbbaa+XVPAzCC2oo2BOKOpVSodOadohRtC3edvIrrQYGLgKJmYlTeUU72s5hpOqmgbphWIBxL+zAmyHxCqC5AHvvIQaytVLGdgPn2Bo/JHkoYmy32x0OB0opOl3Acw+AIQYziJDaDE0zns+XLMsgVYkRJQS0q4r812xN3zIKJR4XxojP/+v5STOKuRQCFIMjnFdK/QX7NF/0AdGOjgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"v8compiler pipeline\" title=\"\" src=\"/static/27979b3d2674a00f5b68af5f303fb27c/6af66/v8compiler-pipeline.png\" srcset=\"/static/27979b3d2674a00f5b68af5f303fb27c/69538/v8compiler-pipeline.png 160w,\n/static/27979b3d2674a00f5b68af5f303fb27c/72799/v8compiler-pipeline.png 320w,\n/static/27979b3d2674a00f5b68af5f303fb27c/6af66/v8compiler-pipeline.png 640w,\n/static/27979b3d2674a00f5b68af5f303fb27c/d9199/v8compiler-pipeline.png 960w,\n/static/27979b3d2674a00f5b68af5f303fb27c/159fb/v8compiler-pipeline.png 1019w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>JSConf EU 2017에서 발표한 Franziska Hinkelmann님의 자료</small>\n</center>\n<p>V8은 우리의 소스 코드를 가져와서 가장 먼저 <code class=\"language-text\">파서(Parser)</code>에게 넘긴다. 이 친구는 소스 코드를 분석한 후 <code class=\"language-text\">AST(Abstract Syntax Tree)</code>, 즉 추상 구문 트리로 변환하게 된다.</p>\n<p>그 다음에 이 AST를 그림에 나와있는 <code class=\"language-text\">Ignition</code>에게 넘기는데 이 친구는 JavaScript를 바이트 코드(Bytecode)로 변환하는 인터프리터이다. 원본 소스 코드보다 컴퓨터가 해석하기 쉬운 바이트 코드로 변환함으로써 원본 코드를 다시 파싱(Parsing)해야하는 수고를 덜고 코드의 양도 줄이면서 코드 실행 때 차지하는 메모리 공간을 아끼려는 것이다.</p>\n<p>이후 이 바이트 코드를 실행함으로써 우리의 소스 코드가 실제로 작동하게 되고, 그 중 자주 사용되는 코드는 <code class=\"language-text\">TurboFan</code>으로 보내져서 <code class=\"language-text\">Optimized Machine Code</code>, 즉 최적화된 코드로 다시 컴파일된다. 그러다가 다시 사용이 덜 된다 싶으면 Deoptimizing 하기도 한다.</p>\n<p>여기서 재미있는 부분은 V8을 구성하는 많은 요소들이 실제 엔진에서 따온 이름을 가지고 있다는 것이다. 사실 V8 엔진은 높은 출력을 추구하는 고급 자동차에 많이 사용되는 엔진인데, 8개의 피스톤이 V자 형태로 배치되어 축 하나를 돌리기 때문에 V8이라고 부른다.</p>\n<p>위에서 설명한 요소들 중 <code class=\"language-text\">Ignition</code>은 엔진에 시동걸 때 사용하는 점화기를 의미한다. 내 소스 코드가 부릉부릉 실행되는 것이다. 그러다가 너무 많이 호출되서 내 코드가 뜨거워지면 <code class=\"language-text\">TurboFan</code>으로 최적화해서 너무 과열되지 않게 식혀주는 그런 느낌이다.</p>\n<p>그리고 V8을 분석한 다른 포스팅들을 보면 <code class=\"language-text\">Full-codegen</code>과 <code class=\"language-text\">Crankshaft</code>라는 요소들도 등장하는데, 이때 <code class=\"language-text\">Crankshaft</code> 또한 실제 엔진에서 따온 이름이며, 원래는 피스톤에 연결되어 피스톤의 왕복 운동을 회전 운동으로 바꿔주는 핵심 부품이다. 하지만 이 친구들은 2019년 6월 19일 기준으로는 더 이상 V8에서 찾아볼 수 없게 되었다.</p>\n<blockquote>\n<p>V8 v5.9부터 처음으로 Ignition과 TurboFan은 JavaScript 실행을 위해 전체적으로 사용됩니다. 또한 V8의 v5.9부터 V8을 잘 지탱해준 기술이었던 Full-codegen과 Crankshaft는 새로운 JavaScript의 기능과 이러한 기능들이 요구하는 최적화 기능을 더 이상 따라갈 수 없기 때문에 V8에서 더 이상 사용되지 않습니다. 우리는 이것들을 곧 완전히 제거할 계획이며, 이는 V8이 앞으로 훨씬 더 단순하고 유지 보수 가능한 아키텍처를 갖게 된다는 것을 의미합니다.</p>\n<p><strong>V8 team</strong> <em><a href=\"https://v8.dev/blog/launching-ignition-and-turbofan\" target=\"_blank\" rel=\"nofollow\">Launching Ignition and TurboFan</a></em></p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/843ec14e0e37c1082ef853b3b1bb2f81/05852/bye.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 74.37499999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAADBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAFx+lmwZkn/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQMREiH/2gAIAQEAAQUCcVmDI+Ipn//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAgEBPwG6r//EABcQAQEBAQAAAAAAAAAAAAAAAAAxECH/2gAIAQEABj8C4irv/8QAHBAAAwABBQAAAAAAAAAAAAAAAAERUSFhgbHw/9oACAEBAAE/IUV2LyKz5QugmW5Lcnmn/9oADAMBAAIAAwAAABBjP//EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAwEBPxCYj//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EAp//8QAGxABAQEBAAMBAAAAAAAAAAAAAREhADFBYZH/2gAIAQEAAT8QQrJ6HKlMVGY/nSyHzTmGgRR5Y15drE3PXQyD9x3/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"bye\" title=\"\" src=\"/static/843ec14e0e37c1082ef853b3b1bb2f81/05852/bye.jpg\" srcset=\"/static/843ec14e0e37c1082ef853b3b1bb2f81/0913d/bye.jpg 160w,\n/static/843ec14e0e37c1082ef853b3b1bb2f81/cb69c/bye.jpg 320w,\n/static/843ec14e0e37c1082ef853b3b1bb2f81/05852/bye.jpg 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>네. V8의 v5.9부터 세대 교체 당했습니다.</small>\n</center>\n<p>v5.9 이전까지는 <code class=\"language-text\">Full-codegen</code>과 <code class=\"language-text\">Crankshaft</code>도 공존하고 있었지만 이건 V8 팀이 원했던 것이 아니라 초창기의 <code class=\"language-text\">Ignition</code>과 <code class=\"language-text\">TurboFan</code>의 성능이 생각만큼 잘 나와주지 않았던 것도 있고 최적화된 코드를 다시 원래대로 되돌릴 때 바이트 코드로 바로 변환할 수 없던 이슈들이 있어서 어쩔 수 없이 중간에 <code class=\"language-text\">Full-codegen</code>과 <code class=\"language-text\">Crankshaft</code>를 살려둔 것이다.</p>\n<p>V8 팀의 원래 목적은 처음부터 <code class=\"language-text\">Ignition</code>과 <code class=\"language-text\">TurboFan</code>만 사용하여 <code class=\"language-text\">바이트 코드 &lt;-> 최적화된 코드</code> 사이를 왔다갔다 하는 것이었다.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.49999999999999%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/r5OWCtuKiAk?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div>\n<br /></p>\n<p>이 영상은 BlinkOn 2016에서 Chrome Mobile Performance London Team팀의 <strong>Ross McIlroy</strong>이 <code class=\"language-text\">Ignition</code>을 소개하는 영상인데, 9:47 ~ 11:14 구간에서 레거시 코드인 <code class=\"language-text\">Full-codegen</code>과 <code class=\"language-text\">Crankshaft</code>를 삭제하지 못한 슬픈 사정을 설명해준다. 본인도 말하면서 웃긴듯.</p>\n<p>그럼 이제 V8이 JavaScript를 어떤 식으로 파싱하고 실행시키는지 간략하게 한번 알아보자.</p>\n<h3 id=\"parsing-코드의-의미-파악하기\" style=\"position:relative;\">Parsing, 코드의 의미 파악하기<a href=\"#parsing-%EC%BD%94%EB%93%9C%EC%9D%98-%EC%9D%98%EB%AF%B8-%ED%8C%8C%EC%95%85%ED%95%98%EA%B8%B0\" aria-label=\"parsing 코드의 의미 파악하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>파싱(Parsing)이란, 소스코드를 불러온 후 AST(추상 구문 트리)로 변환하는 과정이다. AST는 컴파일러에서 널리 사용되는 자료 구조인데, 우리가 일반적으로 작성한 소스 코드를 컴퓨터가 알아먹기 쉽게 구조화한다고 생각하면 된다.</p>\n<p>예를 들어, JavaScript로 JavaScript를 파싱한다고 하면 이런 느낌이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">hello</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Hello,'</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 위 코드는 대략 이렇게 구조화 할 수 있다.</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'FunctionDeclaration'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span>\n  <span class=\"token literal-property property\">arguments</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'Variable'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'name'</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 놓고 보니 생각보다 심플하다. 다만 이것은 예시 중 하나일 뿐이고 컴파일러는 <code class=\"language-text\">for</code>, <code class=\"language-text\">if</code>, <code class=\"language-text\">a = 1 + 2</code>, <code class=\"language-text\">function () {}</code>과 같은 문법도 모두 해석하여 파싱해야 하다보니 파서(Parser)의 내부는 생각보다 거대하다. 당장 V8의 <code class=\"language-text\">parser.cc</code> 파일도 3000줄이 넘는다.</p>\n<p>어쨌든 파싱이라는 개념 자체는 컴퓨터가 분석하기 쉬운 형태인 AST로 변경하는 작업이라는 것만 기억하자. V8 엔진은 방금 예시에서 JavaScript로 표현했던 것을 C++을 사용하여 그대로 할 뿐이다.</p>\n<p>그럼 V8 엔진의 파싱 코드 중 <code class=\"language-text\">1 + 2</code>와 같이 리터럴로 선언된 수식을 담당하는 메소드를 한번 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/parsing/parser.cc</span>\n<span class=\"token keyword\">bool</span> <span class=\"token class-name\">Parser</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShortcutNumericLiteralBinaryExpression</span><span class=\"token punctuation\">(</span>Expression<span class=\"token operator\">*</span><span class=\"token operator\">*</span> x<span class=\"token punctuation\">,</span> Expression<span class=\"token operator\">*</span> y<span class=\"token punctuation\">,</span> Token<span class=\"token double-colon punctuation\">::</span>Value op<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> pos<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>x<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">IsNumberLiteral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> y<span class=\"token operator\">-></span><span class=\"token function\">IsNumberLiteral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">double</span> x_val <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>x<span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">AsLiteral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">AsNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">double</span> y_val <span class=\"token operator\">=</span> y<span class=\"token operator\">-></span><span class=\"token function\">AsLiteral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">AsNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>op<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> Token<span class=\"token double-colon punctuation\">::</span>ADD<span class=\"token operator\">:</span>\n        <span class=\"token operator\">*</span>x <span class=\"token operator\">=</span> <span class=\"token function\">factory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">NewNumberLiteral</span><span class=\"token punctuation\">(</span>x_val <span class=\"token operator\">+</span> y_val<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">case</span> Token<span class=\"token double-colon punctuation\">::</span>SUB<span class=\"token operator\">:</span>\n        <span class=\"token operator\">*</span>x <span class=\"token operator\">=</span> <span class=\"token function\">factory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">NewNumberLiteral</span><span class=\"token punctuation\">(</span>x_val <span class=\"token operator\">-</span> y_val<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// ...</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 코드는 V8 엔진의 <code class=\"language-text\">parser.cc</code>에 선언된 <code class=\"language-text\">Parser</code> 클래스의 <code class=\"language-text\">ShortcutNumericLiteralBinaryExpression</code><small>(이름이 더럽게 길다…)</small> 스태틱 메소드이다.</p>\n<p>인자를 한번 살펴보면 <code class=\"language-text\">Expression</code> 클래스의 객체인 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>는 표현식에 사용된 값들 의미한다. <code class=\"language-text\">op</code>는 이 표현식이 의미하는 것이 <code class=\"language-text\">x + y</code>인지 <code class=\"language-text\">x - y</code>인지와 같은 실제 구문 내용과 그 타입을 의미하고 <code class=\"language-text\">pos</code>는 전체 소스 코드 중 현재 파싱하는 소스 코드의 위치를 의미한다.</p>\n<p>이 메소드는 위에서 설명했듯이 <code class=\"language-text\">1 + 2</code>와 같은 소스 코드를 만났을 경우 호출되며, 인자로 받은 표현을 <code class=\"language-text\">Token::ADD</code>나 <code class=\"language-text\">Token::SUB</code>와 같은 조건으로 검사하여 조건에 맞게 파싱하고 있는 모습을 볼 수 있다. 여기서 말하는 토큰은 소스 코드를 JavaScript의 문법 규칙에 따라 어휘 분석하여 나온 문자열 조각들이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 토큰은 대충 이런 느낌</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'const'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'='</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'+'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이후 알맞게 계산되어 나온 값을 <code class=\"language-text\">AstNodeFactory</code> 클래스의 <code class=\"language-text\">NewNumberLiteral</code> 스태틱 메소드를 사용하여 AST의 노드로 만드는 모습을 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/ast/ast.cc</span>\nLiteral<span class=\"token operator\">*</span> <span class=\"token class-name\">AstNodeFactory</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">NewNumberLiteral</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> number<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> pos<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">int</span> int_value<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">DoubleToSmiInteger</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>int_value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">NewSmiLiteral</span><span class=\"token punctuation\">(</span>int_value<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">(</span>zone_<span class=\"token punctuation\">)</span> <span class=\"token function\">Literal</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>V8은 이 과정에서 변수, 함수, 조건문과 같은 코드의 의미를 파악하며, 우리에게 익숙한 JavaScript의 스코프(Scope) 또한 이 과정에서 설정된다. 이 중 변수 선언에 관한 자세한 내용은 <a href=\"/2019/06/18/javascript-let-const\">JavaScript의 let과 const, 그리고 TDZ</a>를 참고하자.</p>\n<h3 id=\"ignition으로-바이트-코드bytecode-생성하기\" style=\"position:relative;\">Ignition으로 바이트 코드(Bytecode) 생성하기<a href=\"#ignition%EC%9C%BC%EB%A1%9C-%EB%B0%94%EC%9D%B4%ED%8A%B8-%EC%BD%94%EB%93%9Cbytecode-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"ignition으로 바이트 코드bytecode 생성하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<center>\n  <img src=\"/3ef804b01e47419b1954df82e079ed32/ignition.svg\" width=\"300\">\n  <br>\n</center>\n<p>바이트 코드(Bytecode)는 고급 언어로 작성된 소스 코드를 가상머신이 한결 편하게 이해할 수 있도록 중간 코드로 한번 컴파일 한 것을 의미한다. V8에서는 <code class=\"language-text\">Ignition</code>이 이 역할을 수행하고 있다.</p>\n<h4 id=\"ignition이란\" style=\"position:relative;\">Ignition이란?<a href=\"#ignition%EC%9D%B4%EB%9E%80\" aria-label=\"ignition이란 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">Ignition</code>은 기존의 <code class=\"language-text\">Full-codegen</code>을 완벽히 대체하는 인터프리터이다. 기존에 사용하고 있던 <code class=\"language-text\">Full-codegen</code>은 전체 소스 코드를 한번에 컴파일했는데, 위에서 설명했듯 V8팀은 기존의 <code class=\"language-text\">Full-codegen</code>이 모든 소스 코드를 한번에 컴파일할때 메모리 점유를 굉장히 많이 한다는 사실을 인지하고 있었다.</p>\n<p>또 JavaScript는 C++과 같은 정적 타이핑 언어가 아닌 동적 타이핑 언어라서 소스 코드가 실행되기 전에는 알 수 없는 값들이 너무 많았기 때문에 이런 접근 방법으로는 최적화를 하기도 힘들었다고 한다.</p>\n<p>그래서 <code class=\"language-text\">Ignition</code>을 개발할 때는 모든 소스를 한번에 해석하는 컴파일 방식이 아닌 코드 한줄 한줄이 실행될 때마다 해석하는 인터프리트 방식을 채택하여 다음 세가지 이점을 가져가고자 하였다.</p>\n<blockquote>\n<ol>\n<li><strong>메모리 사용량 감소.</strong> JavaScript 코드에서 기계어로 컴파일하는 것보다 바이트 코드로 컴파일하는 것이 더 편하다.</li>\n<li><strong>파싱 시 오버헤드 감소.</strong> 바이트 코드는 간결하기 때문에 다시 파싱하기도 편하다.</li>\n<li><strong>컴파일 파이프 라인의 복잡성 감소.</strong> 최적화 작업, 최적화 해제 작업 모두 바이트 코드 하나만 생각하면 되기 때문에 편하다.</li>\n</ol>\n<p><strong>Ross McIlroy</strong> <em>Ignition - an interpreter for V8</em></p>\n</blockquote>\n<p>이렇게 <code class=\"language-text\">Ignition</code>은 코드가 한줄한줄 실행될 때마다 코드를 바이트 코드로 바꿔주는 친구라는 정도만 알아두면 된다.</p>\n<p>그럼 바이트 코드라는 게 도대체 어떻게 생겨먹었길래 컴퓨터가 해석하기 더 편하다는 걸까? 아까 위에서 사용했던 <code class=\"language-text\">hello</code> 함수를 가져와서 한번 어떤 바이트 코드가 생성되는 지 살펴보자.</p>\n<h4 id=\"바이트-코드를-직접-확인하기\" style=\"position:relative;\">바이트 코드를 직접 확인하기<a href=\"#%EB%B0%94%EC%9D%B4%ED%8A%B8-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%A7%81%EC%A0%91-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"바이트 코드를 직접 확인하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'Hello,'</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 코드를 사용하지 않는다면 바이트 코드로 인터프리팅하지 않기 때문에 호출까지 해준다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Evan'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 NodeJS v8.3+을 사용하고 있다면 <code class=\"language-text\">--print-bytecode</code> 옵션을 주는 것만으로 내 소스 코드가 바이트 코드로 어떻게 인터프리팅되었는지 확인할 수 있다. 혹은 V8이 제공하고 있는 D8 디버깅 도구를 사용해도 되는데 이 친구는 V8을 빌드해야 사용할 수 있고, 위에서 설명했듯이 빌드 환경 세팅이 순탄하지는 않기 때문에 필자는 그냥 <code class=\"language-text\">--print-bytecode</code>를 사용했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">node</span> --print-bytecode add.js\n<span class=\"token punctuation\">..</span>.\n<span class=\"token punctuation\">[</span>generated bytecode <span class=\"token keyword\">for</span> function: hello<span class=\"token punctuation\">]</span>\nParameter count <span class=\"token number\">2</span>\nFrame size <span class=\"token number\">8</span>\n   <span class=\"token number\">15</span> E<span class=\"token operator\">></span> 0x2ac4000d47b2 @    <span class=\"token number\">0</span> <span class=\"token builtin class-name\">:</span> a0                StackCheck\n   <span class=\"token number\">30</span> S<span class=\"token operator\">></span> 0x2ac4000d47b3 @    <span class=\"token number\">1</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">12</span> 00             LdaConstant <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n         0x2ac4000d47b5 @    <span class=\"token number\">3</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">26</span> fb             Star r0\n         0x2ac4000d47b7 @    <span class=\"token number\">5</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">25</span> 02             Ldar a0\n   <span class=\"token number\">46</span> E<span class=\"token operator\">></span> 0x2ac4000d47b9 @    <span class=\"token number\">7</span> <span class=\"token builtin class-name\">:</span> <span class=\"token number\">32</span> fb 00          Add r0, <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n   <span class=\"token number\">53</span> S<span class=\"token operator\">></span> 0x2ac4000d47bc @   <span class=\"token number\">10</span> <span class=\"token builtin class-name\">:</span> a4                Return\n<span class=\"token punctuation\">..</span>.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이것이 필자가 선언한 <code class=\"language-text\">hello</code> 함수가 바이트 코드로 변환된 모습이다. 어라? 근데 필자는 분명히 <code class=\"language-text\">name</code> 인자 한개만 사용했는데 <code class=\"language-text\">Parameter count</code>가 <code class=\"language-text\">2</code>라고 찍혀있다.</p>\n<p>이 중 하나는 암시적 리시버인 <code class=\"language-text\">this</code>이다. 함수 내부에서 <code class=\"language-text\">this</code>를 사용하면 함수 자신을 가리킬 수 있는 그 <code class=\"language-text\">this</code> 맞다. 그 밑으로는 레지스터에 값들을 할당하는 모습을 볼 수 있는데, 간단하게만 설명하고 넘어가겠다.</p>\n<p>혹시 모르실 분들을 위해 간단히 설명하자면, 레지스터(Register)는 CPU가 가지고 있는 고속 메모리이고 누산기(Accumulator)는 계산한 중간 결과를 저장하기 위한 레지스터이다.</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">StackCheck</code>: 스택 포인터의 상한값을 확인한 것이다. 이때 스택이 임계 값을 넘어가면 Stack Overflow가 발생하기 때문에 함수 실행을 중단해버린다.</li>\n<li><code class=\"language-text\">LdaConstant [0]</code>: <code class=\"language-text\">Ld</code>는 <code class=\"language-text\">Load</code>의 약자이다. 말 그대로 어떠한 상수를 누산기(Accumulator)에 불러온 것이다. 이 상수는 <code class=\"language-text\">Hello,</code>이다.</li>\n<li><code class=\"language-text\">Star r0</code>: 누산기에 들어있는 값을 레지스터 <code class=\"language-text\">r0</code>번으로 이동시킨다. <code class=\"language-text\">r0</code>은 지역 변수를 위한 레지스터이다.</li>\n<li><code class=\"language-text\">Ldar a0</code>: 누산기에 레지스터 <code class=\"language-text\">a0</code>번에 있는 값을 담는다. 이 경우 <code class=\"language-text\">a0</code> 레지스터의 값은 인자 <code class=\"language-text\">name</code>이다.</li>\n<li><code class=\"language-text\">Add r0, [0]</code>: <code class=\"language-text\">r0</code>에 있는 <code class=\"language-text\">Hello,</code>와 <code class=\"language-text\">0</code>을 더하고 누산기에 저장한다. 이때 상수 <code class=\"language-text\">0</code>은 코드가 실행될 때 인자 <code class=\"language-text\">name</code>으로 매핑된다.</li>\n<li><code class=\"language-text\">Return</code>: 누산기에 있는 값을 반환한다.</li>\n</ol>\n<hr>\n<p><code class=\"language-text\">hello</code> 함수는 평소에 JavaScript를 사용할 때는 아무 생각 없이 선언할 수 있는 정도의 가벼운 함수였지만 내부적으로는 6단계를 거쳐서 값을 반환하고 있었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e75c06934a527f059c1754c33f12e6ff/779ef/slow.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 126.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEu0lEQVR42l2VWUhXXRTFb2Rv9ZA+CQUGBtFzYIIviUJUZmRhNpelmBOhaKiVRWWDaWJig5qalJhmZE6lVGSllZQTFFhWqIlDlj2EZq6P34778l04/M+955x11l577f13Xr9+raqqKvX39ysnJ0ebNm1SbGysNm/erB07digqKkpXr15VZWWlLl26pIiICKWkpOj79+/Kzs5Wamqqtm/fbuPEiRNyOjs71dzcrKKiIgMJDQ010ISEBIWFhen8+fMqLy/X7t27FRMToytXrmhgYMDAIiMjlZ6ernXr1unw4cM6evSonJKSEtXW1qqsrEw7d+5UYmKibYTd/v37DWDv3r3GuqenR79+/dLFixeNEd/27dtn63Fxcaqvr5eTkZGhO3fu2Dhw4IABrly5UqtWrdLq1asVFBRkF23ZskW3bt3S5cuXtWfPHrsoOTnZJGFtw4YNqqurk9Pd3a0HDx7o2LFjpg+Ly5Yt08aNG7V06VIFBwfbJchw8uRJY0R4Z86c0fHjxy0SZILhs2fP5HR0dKirq8sWd+3apfj4eFtEz4ULF2rFihXy9fXV/Pnz5efnZ1GcPXvWLti2bZtCQkJ07tw5S1pLS8s/hgA2NDRYIk6fPm0b29vblZeXp+XLl2vBggVasmSJhZ6fn28XMo+Ojja9KyoqbG4achCxGYRDIrDH0NCQHj9+rNu3b9tFJIIEoh8JAYhMY6mtW7eafZ4/fy5nZGREL1++tMOtra1Gm6epqUlHjhzRqVOnLBmAkYi1a9eabnixuLjYrMX6z58/1dbWJoeDhN3b22sfebAGNoIpicD4jIMHD2r9+vXmTdiFh4frzZs3dgamyOZ8+fLF9AIQLXl3GVI5169ft3lhYaHWrFmjmzdvCqsdOnRIExMTevHihTkDGYjSoUoIkw1uiY2Pjxvox48fTWjeMTGVQNhkmcvT0tIs21x67949PXnyRM61a9f08OFDM2hNTY2VGQadnp7W7OysZmZmDJzQ0Y1wL1y4YJ7l2/379y3LuANypiEDdiwwqAZkePfunaj1Hz9+2GEqAx1hSFREg8HJME6AmAGSXUAQHkCy52o3NTWlt2/fGms0JQkMIoMxg6YBY2OIHRobGw0AH1HTJIBQCBtd7t69aw6gPeXm5hpDwAmfkqU0qTIIOAUFBaYJmWNzZmamsrKy7BDf8SGZ//37t96/fy/6J2Xq6ekpb29v+fv7W/lR+waIKalf+trTp0+VlJRkWiEBgOjC8+jRI1H3X79+tQtYxypeXl5yHEc+Pj4WqcMBQGBCqITCZtii5+TkpBkfz5H1ubk5u8D9HRwcVEBAgDw8PP7V8qtXr6znUQHoWVpaauYlMZQlCQHUfVw7/f37V3/+/LFv9AE6kvVD6o/WtGjRIqtR/goYNAdC6+vrs0P8YiGaBToC6A6cQN+k85tt0GDevHk26H8YHDBs9O3bNwMcHR21yvnw4YM+ffpk3nRNz3famwESHoD0PJgyp4PzwMTtPjD5/+PqSEkuXrz4X8j0OZchtzDHSq5ebMLIY2NjGh4e1ufPn409czwbGBhonR3bmLHpEPiOdkT4JAMjkwwY8ss7wGSxurragNhLo4Adnr1x44b9p/wHGUBrDK6MFtQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"slow\" title=\"\" src=\"/static/e75c06934a527f059c1754c33f12e6ff/779ef/slow.png\" srcset=\"/static/e75c06934a527f059c1754c33f12e6ff/69538/slow.png 160w,\n/static/e75c06934a527f059c1754c33f12e6ff/779ef/slow.png 204w\" sizes=\"(max-width: 204px) 100vw, 204px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이렇게 일 많이 하니까 가끔 느리다고 너무 뭐라 하지 맙시다</small>\n</center>\n<p>바이트 코드는 직접 CPU 내의 레지스터와 누산기를 어떤 식으로 사용하라고 명령하는 명령문이나 마찬가지기 때문에 사람 입장에서는 머리 터지겠지만 컴퓨터 입장에서는 한결 이해하기가 편한 방식이다.</p>\n<p>V8 엔진은 우리가 작성한 JavaScript 코드를 내부적으로는 이런 모습의 바이트 코드로 전부 변환해놓기 때문에 코드 라인이 처음 실행될 때는 조금 시간이 걸리겠지만 그 이후부터는 거의 컴파일 언어에 가까운 성능을 보일 수 있다.</p>\n<h3 id=\"turbofan으로-뜨거워진-코드-식히기\" style=\"position:relative;\">TurboFan으로 뜨거워진 코드 식히기<a href=\"#turbofan%EC%9C%BC%EB%A1%9C-%EB%9C%A8%EA%B1%B0%EC%9B%8C%EC%A7%84-%EC%BD%94%EB%93%9C-%EC%8B%9D%ED%9E%88%EA%B8%B0\" aria-label=\"turbofan으로 뜨거워진 코드 식히기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<center>\n  <img src=\"/69868eb577b0cc588456498aa200170b/turbofan.svg\" width=\"300\">\n  <br>\n</center>\n<p><code class=\"language-text\">TurboFan</code>은 V8의 v5.9부터 기존에 사용하던 <code class=\"language-text\">Crankshaft</code> 컴파일러를 완전히 대체한 최적화 담당 컴파일러이다. 그럼 <code class=\"language-text\">Crankshaft</code>는 왜 사라졌을까?</p>\n<p>처음 V8이 세상에 나온 이후로 새로운 컴퓨터 아키텍처도 나오고 JavaScript도 계속 발전했기 때문에 V8도 계속해서 이런 것들을 지원해줘야 했다. V8 팀은 이런 새로운 사양에 맞춰서 V8을 계속 개량했어야 했는데, 어떻게든 계속 해서 땜빵치다가 결국 <code class=\"language-text\">Crankshaft</code>의 구조로는 지속적인 확장이 어렵다고 판단했고, 여러 레이어로 계층화되어 좀 더 유연하게 확장에 용이하도록 설계한 <code class=\"language-text\">TurboFan</code>을 만들어서 사용하고 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0b92cf561c8d37d00ae81e4db81baadb/0b533/legacy.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 74.37499999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAADp0lEQVR42j2SWVNiVxSF+WN570ollUpix6HbsXFqTeyYGByAy8wFZJ4RUUCmCzKpOLUoKnZrnvN7vuz4kIdVtc+9+6y91tpHd1OIcnkY5mrfz+d8kC9FP/1Siq/NDC8HLp4OgrxoSe4qcW61FP2aoBThsRjjpRjm+ThNt5xm32/CvPIe3U0xwW0hxk0+wrUQP5cCDMsRHg68fM2YeTx0MdRiPNeSPAnpsJ6UOsFLNcawEOBrKcQ/J0KasGJbm0X3WE3Q3/fRSar0ckHuiyGGrTQPorQXNtPMqtzL+UsjxW0+zH01zmM9zY2oPM/tciv3/25naMYUlNVJdINylLtihFZC5SznY1AMiL0kzT2VesjIVcHLw1GQpyMZVA1xURI34qSb8XAZt3Mj/Q+lKFrQjHlpHF0/o3KzJz9zfq4O/QyqQa6qSc4Pd2mGNjlNO7mrRXkQq/c1IZMch6JqKMNv91VuyyGejrMUAxaMi6PortNuumkXFykbVxErg4KPa7lwtuflJLrJWUqRYW76OY/EINnK4gZ5H/18QJbo404cDkVAN2hkS/+LLCVh5yxmpRG1o0VtDGQZxzE7Oe8m5cAWvbTC54SRRthIO2OnHTfRTdroSc9RVKGSkozrCbmv8Nfcz+guMy5p9FCPuzmVTFohM+dxMxdit+U10PILqW9DlDpoin0t7eV0z0knZKLo3qAl2XUk74JvWyyPoWv4d16XUYqpYlGhIdLb8q21a6AXMFD3GGhHrTJIFhSz0BVFvQNB3MGxDK5Jby1sIRsw4vhdnk0zbKPgtxATFSeS4YWo7ckT0oIKnbiF+u4mWeUTQeMnMrZ1TlNOulGnWHfSEtUF7xZnhZCQ23F/lIftjk7zp/cHdiIjaEU3tawVj38Bj3dasrRyKQPUPxYZGx1BPztGXtS2JaZO1k1HllU5UOgeeMipa6xv/IjOWpvgPxjzb7HkR/GWZliPfs9q6A1qZo5IfgWjf4rFrbes+UZwZ2dR89PY8uNsp3/iY+QNa/5vWfN8x6TrG3SW6iRWbRpnc+EVjoYep8BcncVYncFYmcNUnkOpfmC7NMX20RTG8iSbxXFMFekpTWLRZgRTwjOFzqHN46zrhWhJGmew1eZxaMtyXn6tTUcfsFSWhXSBnaNZwQxbxWkMhYn/iSyanp3Se5TaO3SG/IRMnsQkapSaHmt9GXtjEVdrCbW9gqu5jFvg6fwqWJV6BbX1Gz6pbSLEeSyu6vNCOCWD3vEv/fEw1QLEp/4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"legacy\" title=\"\" src=\"/static/0b92cf561c8d37d00ae81e4db81baadb/0b533/legacy.png\" srcset=\"/static/0b92cf561c8d37d00ae81e4db81baadb/69538/legacy.png 160w,\n/static/0b92cf561c8d37d00ae81e4db81baadb/72799/legacy.png 320w,\n/static/0b92cf561c8d37d00ae81e4db81baadb/0b533/legacy.png 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Crankshaft와 TurboFan을 동시에 굴릴 때 왠지 이런 느낌이었을 것 같다...</small>\n</center>\n<p>7개의 아키텍처를 지원할 때 <code class=\"language-text\">Crankshaft</code>로는 13,000 ~ 16,000 라인의 코드로 작성했던게 <code class=\"language-text\">TurboFan</code>에서는 3,000 라인 미만의 코드로 커버가 가능하다고 한다.</p>\n<p>V8은 런타임 중에 <code class=\"language-text\">Profiler</code>라는 친구에게 함수나 변수들의 호출 빈도와 같은 데이터를 모으라고 시킨다. 이렇게 모인 데이터를 들고 TurboFan에게 가져가면 <code class=\"language-text\">TurboFan</code>은 자기 기준에 맞는 코드를 가져와서 최적화를 하는 것이다.</p>\n<p>최적화 기법으로는 히든 클래스(Hidden Class)나 인라인 캐싱(Inline Caching) 등 여러가지 기법을 사용하지만 이 내용은 추후 다른 포스팅에서 더 자세히 다루도록 하겠다.</p>\n<p>간단히만 설명하자면 히든 클래스는 비슷한 놈들끼리 분류해놓고 가져다 쓰는 것, 인라인 캐싱은 자주 사용되는 코드가 만약 <code class=\"language-text\">hello()</code>와 같은 함수의 호출부라면 이걸 <code class=\"language-text\">function hello () { ... }</code>와 같이 함수의 내용으로 바꿔버리는 것이다. 말 그대로 캐싱(Caching)이다.</p>\n<h4 id=\"어떤-조건으로-최적화-하는-걸까\" style=\"position:relative;\">어떤 조건으로 최적화 하는 걸까?<a href=\"#%EC%96%B4%EB%96%A4-%EC%A1%B0%EA%B1%B4%EC%9C%BC%EB%A1%9C-%EC%B5%9C%EC%A0%81%ED%99%94-%ED%95%98%EB%8A%94-%EA%B1%B8%EA%B9%8C\" aria-label=\"어떤 조건으로 최적화 하는 걸까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>그렇다면 <code class=\"language-text\">TurboFan</code>은 정확히 어떤 조건으로 최적화될 코드를 구분하는 걸까?\n우선 V8 소스 내에서 함수를 최적화할지 말지를 판별하는 <code class=\"language-text\">RuntimeProfiler</code>의 <code class=\"language-text\">ShouldOptimize</code> 메소드를 예시로 한번 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/execution/rumtime-profiler.cc</span>\nOptimizationReason <span class=\"token class-name\">RuntimeProfiler</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShouldOptimize</span><span class=\"token punctuation\">(</span>JSFunction function<span class=\"token punctuation\">,</span> BytecodeArray bytecode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// int ticks = 이 함수가 몇번 호출되었는지</span>\n  <span class=\"token keyword\">int</span> ticks <span class=\"token operator\">=</span> function<span class=\"token punctuation\">.</span><span class=\"token function\">feedback_vector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">profiler_ticks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">int</span> ticks_for_optimization <span class=\"token operator\">=</span>\n      kProfilerTicksBeforeOptimization <span class=\"token operator\">+</span>\n      <span class=\"token punctuation\">(</span>bytecode<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> kBytecodeSizeAllowancePerTick<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ticks <span class=\"token operator\">>=</span> ticks_for_optimization<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 함수가 호출된 수가 임계점인 ticks_for_optimization을 넘기면 뜨거워진 것으로 판단</span>\n    <span class=\"token keyword\">return</span> OptimizationReason<span class=\"token double-colon punctuation\">::</span>kHotAndStable<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>any_ic_changed_ <span class=\"token operator\">&amp;&amp;</span> bytecode<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> kMaxBytecodeSizeForEarlyOpt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 이 코드가 인라인 캐싱되지 않았고 바이트 코드의 길이가 작다면 작은 함수로 판단</span>\n    <span class=\"token keyword\">return</span> OptimizationReason<span class=\"token double-colon punctuation\">::</span>kSmallFunction<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// 해당 사항 없다면 최적화 하지 않는다.</span>\n  <span class=\"token keyword\">return</span> OptimizationReason<span class=\"token double-colon punctuation\">::</span>kDoNotOptimize<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>생각보다 조건이 별로 없어서 당황했다. 물론 이 메소드에서 판별 하지않는 좀 더 디테일한 조건들도 존재하지만 일단 큰 틀은 이 메소드가 거의 다 가지고 있다.</p>\n<p><code class=\"language-text\">kHotAndStable</code>은 코드가 뜨겁고 안정적이라는 것인데, 쉽게 말하면 자주 호출되고(뜨겁고) 코드가 안 변함(안정적)이라는 것이다.\n매번 같은 행동을 수행하는 반복문 내에 있는 코드 같은 경우가 여기에 해당하기 쉽다.</p>\n<p><code class=\"language-text\">kSmallFunction</code>은 말 그대로 인터프리팅된 바이트 코드의 길이를 보고 특정 임계점을 넘기지 않으면 작은 함수라고 판단해서 최적화를 진행하는 것이다. 작고 단순한 함수는 크고 복잡한 함수보다 동작이 매우 추상적이거나 제한적인 확률이 높기 때문에 안정적이라고 볼 수 있다.</p>\n<h4 id=\"turbofan이-일하는-모습-훔쳐보기\" style=\"position:relative;\">TurboFan이 일하는 모습 훔쳐보기<a href=\"#turbofan%EC%9D%B4-%EC%9D%BC%ED%95%98%EB%8A%94-%EB%AA%A8%EC%8A%B5-%ED%9B%94%EC%B3%90%EB%B3%B4%EA%B8%B0\" aria-label=\"turbofan이 일하는 모습 훔쳐보기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>그럼 간단한 코드 예제를 통해 최적화가 어떤 방식으로 진행되는 지 확인해보자. 필자는 작은 함수 하나를 선언하고 반복문을 통해서 계속 호출해줄 것이다.</p>\n<p>필자의 목표는 선언한 함수가 <code class=\"language-text\">ticks >= ticks_for_optimization</code> 조건에 걸려서 <code class=\"language-text\">kHotAndStable</code> 상태가 되는 것이다. 필자 생각으로는 대충 아무 함수나 선언해서 같은 타입의 인자를 사용하고 반복적으로 파바박! 호출하면 <code class=\"language-text\">ShouldOptimize</code> 메소드의 <code class=\"language-text\">ticks >= ticks_for_optimization</code> 조건에 걸릴 것이고, <code class=\"language-text\">kHotAndStable</code> 상태가 되어 최적화가 진행될 거라고 생각한다.</p>\n<p><code class=\"language-text\">NodeJS</code>를 실행할 때 <code class=\"language-text\">--trace-opt</code> 옵션을 주면 런타임 때 코드가 최적화되는 것을 확인해볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">sample</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> c <span class=\"token operator\">-</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> d <span class=\"token operator\">*</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sample</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">node</span> --trace-opt test.js\n\n<span class=\"token punctuation\">[</span>marking 0x010e66b69c09 <span class=\"token operator\">&lt;</span>JSFunction <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4279<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: small function, ICs with typeinfo: <span class=\"token number\">3</span>/3 <span class=\"token punctuation\">(</span><span class=\"token number\">100</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/3 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>marking 0x010e66b6a001 <span class=\"token operator\">&lt;</span>JSFunction sample <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4371<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: small function, ICs with typeinfo: <span class=\"token number\">3</span>/3 <span class=\"token punctuation\">(</span><span class=\"token number\">100</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/3 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>compiling method 0x010e66b6a001 <span class=\"token operator\">&lt;</span>JSFunction sample <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4371<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> using TurboFan<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>compiling method 0x010e66b69c09 <span class=\"token operator\">&lt;</span>JSFunction <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4279<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> using TurboFan OSR<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>optimizing 0x010e66b69c09 <span class=\"token operator\">&lt;</span>JSFunction <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4279<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> - took <span class=\"token number\">0.132</span>, <span class=\"token number\">0.453</span>, <span class=\"token number\">0.027</span> ms<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>optimizing 0x010e66b6a001 <span class=\"token operator\">&lt;</span>JSFunction sample <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4371<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> - took <span class=\"token number\">0.850</span>, <span class=\"token number\">0.549</span>, <span class=\"token number\">0.012</span> ms<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>completed optimizing 0x010e66b6a001 <span class=\"token operator\">&lt;</span>JSFunction sample <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x10eacdd4371<span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>오 최적화가 되긴 했다. <code class=\"language-text\">ICs with typeinfo: 3/3 (100%)</code>라고 적혀있는걸 보니 인라인 캐싱을 했나보다.</p>\n<p>그런데 최적화를 한 이유를 보니 <code class=\"language-text\">small function</code>이라고 적혀있다. 필자가 원했던 조건은 <code class=\"language-text\">kHotAndStable</code>으로 빠지는 것이었기 때문에 코드를 조금 바꿔서 다시 해봐야겠다. 함수가 너무 간단하니까 <code class=\"language-text\">TurboFan</code>이 필자의 함수를 만만하게 봤나보다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">sample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>arguments<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'인자를 주시오'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> array <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> array\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> el <span class=\"token operator\">*</span> el<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> el <span class=\"token operator\">&lt;</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">reverse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sample</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그냥 아무 의미 없지만 적당히 더 복잡하게 만들어 보았다. <code class=\"language-text\">sample</code> 함수는 그냥 인자를 받아서 변형하고 걸러내고 순서를 뒤집어서 반환하는 역할을 수행한다. 여기서 <code class=\"language-text\">Turbofan</code>이 감시하고 있는 최적화 대상은 <code class=\"language-text\">sample</code>, <code class=\"language-text\">map</code>, <code class=\"language-text\">filter</code>, <code class=\"language-text\">reverse</code>, <code class=\"language-text\">Array.from</code> 같은 친구들이 될 것이다.</p>\n<p>감시 대상이 많으므로 로그도 어마무시하게 나오기 때문에 <code class=\"language-text\">TurboFan</code>이 함수를 최적화 대상으로 마킹하는 부분만 가져오겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">node</span> --trace-opt test.js\n\n<span class=\"token punctuation\">[</span>marking 0x1a368a90cc51 <span class=\"token operator\">&lt;</span>JSFunction <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x1a36218d4279<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: small function, ICs with typeinfo: <span class=\"token number\">3</span>/3 <span class=\"token punctuation\">(</span><span class=\"token number\">100</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/3 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span>marking 0x1a36bcfa9611 <span class=\"token operator\">&lt;</span>JSFunction array.map.el <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x1a36218d46f9<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: small function, ICs with typeinfo: <span class=\"token number\">1</span>/1 <span class=\"token punctuation\">(</span><span class=\"token number\">100</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/1 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span>marking 0x1a36bcfa96a1 <span class=\"token operator\">&lt;</span>JSFunction array.map.filter.el <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x1a36218d4761<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: small function, ICs with typeinfo: <span class=\"token number\">1</span>/1 <span class=\"token punctuation\">(</span><span class=\"token number\">100</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/1 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span>marking 0x1a368a90cc11 <span class=\"token operator\">&lt;</span>JSFunction sample <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x1a36218d4371<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: hot and stable, ICs with typeinfo: <span class=\"token number\">10</span>/11 <span class=\"token punctuation\">(</span><span class=\"token number\">90</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/11 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span>marking 0x1a36e4785c01 <span class=\"token operator\">&lt;</span>JSFunction UseSparseVariant <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x1a36660866d9<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: small function, ICs with typeinfo: <span class=\"token number\">1</span>/5 <span class=\"token punctuation\">(</span><span class=\"token number\">20</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/5 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span>marking 0x1a36e4786fc1 <span class=\"token operator\">&lt;</span>JSFunction reverse <span class=\"token punctuation\">(</span>sfi <span class=\"token operator\">=</span> 0x1a3666086f21<span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">for</span> optimized recompilation, reason: hot and stable, ICs with typeinfo: <span class=\"token number\">4</span>/5 <span class=\"token punctuation\">(</span><span class=\"token number\">80</span>%<span class=\"token punctuation\">)</span>, generic ICs: <span class=\"token number\">0</span>/5 <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>오 드디어 <code class=\"language-text\">reason: hot and stable</code>이 나왔다. <code class=\"language-text\">&lt;JSFunction 함수 이름></code>과 같은 포맷으로 함수 정보가 함께 출력되기 때문에 최적화 대상으로 마킹된 친구가 <code class=\"language-text\">sample</code>과 <code class=\"language-text\">reverse</code> 함수라는 것을 알 수 있다. 이와 같이 <code class=\"language-text\">TurboFan</code>은 한가지 데이터가 아니라 여러가지 데이터를 프로파일링하며 이 코드를 최적화할 것인지 구분한다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>최근 잘 짜여진 JavaScript는 C++에 근사하는 성능을 낼 수도 있다고 한다. 처음 이 이야기를 들었을 때는 “인터프리터 언어가 어떻게 컴파일 언어 성능을 내?”라고 생각했었지만 V8의 작동 원리를 살펴보니 생각보다 많은 최적화 기법이 들어가 있어서 놀랐다.</p>\n<p>그리고 이렇게 JavaScript 엔진을 하나하나 뜯어보면서 내가 좋아하는 언어에 대한 이해도를 높히는 과정은 굉장히 재밌었다. <small>(학교 다닐 때 C++ 좀 많이 써볼걸…)</small></p>\n<p>사실 V8 엔진 내부에는 “오…개쩌는데…?” 라는 말이 나올만한 최적화 기법이 많이 적용되어 있기 때문에 이것저것 다 소개하고 싶었지만, 포스팅을 쓰다보니 뭔가 내용이 길어지면서 점점 산으로 가고…</p>\n<p>그래서 이번에는 전체적인 흐름을 설명하는 선까지만 하고 다음 포스팅때 <code class=\"language-text\">Ignition</code>과 <code class=\"language-text\">TurboFan</code>의 작동에 대해서 좀 더 디테일하게 설명해보도록 하겠다.</p>\n<p>특히 <code class=\"language-text\">TurboFan</code>의 동작 흐름을 아는 것은 내 JavaScript 코드를 최적화할 수 있는 지름길이기 때문에 알아두면 요긴하게 써먹을 수 있을 것 같다.</p>\n<p>이상으로 V8 엔진은 어떻게 내 코드를 실행하는 걸까? 포스팅을 마친다.</p>","fields":{"slug":"20190628-v8-analysis","path":"/2019/06/28/v8-analysis/","lang":"ko"},"frontmatter":{"title":"V8 엔진은 어떻게 내 코드를 실행하는 걸까?","subTitle":"바이트 코드부터 최적화 컴파일까지, V8 엔진의 실행 과정","date":"Jun 28, 2019","categories":["프로그래밍","JavaScript"],"tags":["NodeJS","V8","JavaScript","JavaScript","JavaScript 기초","JavaScript 엔진"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/d803c/thumbnail.png","srcSet":"/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/d803c/thumbnail.png 320w,\n/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/fc5c5/thumbnail.webp 320w,\n/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/01fb2/thumbnail.png","srcSet":"/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/c89eb7ad6cf0f0ddc746a5da08d39a3e/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"f303bf14-a278-563b-b4f0-d10bb116f3e6","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%95%B4%EC%8B%9C-%ED%85%8C%EC%9D%B4%EB%B8%94hash-table%EC%9D%B4-%EB%AD%94%EA%B0%80%EC%9A%94\">해시 테이블(Hash Table)이 뭔가요?</a></p>\n<ul>\n<li><a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94direct-address-table\">직접 주소 테이블(Direct Address Table)</a></li>\n<li><a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%9D%98-%EB%8B%A8%EC%A0%90%EC%9D%84-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98%EB%A1%9C-%EB%B3%B4%EC%99%84%ED%95%98%EC%9E%90\">직접 주소 테이블의 단점을 해시 함수로 보완하자!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%95%B4%EC%8B%9C%EC%9D%98-%EC%B6%A9%EB%8F%8Ccollision\">해시의 충돌(Collision)</a></p>\n<ul>\n<li><a href=\"#%EC%B6%A9%EB%8F%8C-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0\">충돌 해결하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%81%AC%EA%B8%B0-%EC%9E%AC%ED%95%A0%EB%8B%B9resizing\">테이블 크기 재할당(Resizing)</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 많이 사용되는 자료구조 중 하나인 해시 테이블(Hash Table)에 대해서 정리하려고 한다. 먼저 해시 테이블이 무엇인지, 왜 사용하는지 알아보자. 해시 테이블(Hash Table)이 뭔가요? 해시 테이블은 어떤 특정 값을 받으면 그 값을 해시 함수에 통과시켜 나온 인덱스(index)에 저장하는 자료구조이다. 보통 배열을 사용해서 구현하는 경우가 많은 것 같다. 일단 해시 함수가 뭐길래 사용한다는 건지 해시가 뭔지 설명하기 전에 해시 테이블이라는 개념이 어디서부터 출발한 것인지 알아보자. 직접 주소 테이블(Di…","html":"<p>이번 포스팅에서는 많이 사용되는 자료구조 중 하나인 해시 테이블(Hash Table)에 대해서 정리하려고 한다. 먼저 해시 테이블이 무엇인지, 왜 사용하는지 알아보자.</p>\n<h2 id=\"해시-테이블hash-table이-뭔가요\" style=\"position:relative;\">해시 테이블(Hash Table)이 뭔가요?<a href=\"#%ED%95%B4%EC%8B%9C-%ED%85%8C%EC%9D%B4%EB%B8%94hash-table%EC%9D%B4-%EB%AD%94%EA%B0%80%EC%9A%94\" aria-label=\"해시 테이블hash table이 뭔가요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>해시 테이블은 어떤 특정 값을 받으면 그 값을 해시 함수에 통과시켜 나온 인덱스(index)에 저장하는 자료구조이다. 보통 배열을 사용해서 구현하는 경우가 많은 것 같다. 일단 해시 함수가 뭐길래 사용한다는 건지 해시가 뭔지 설명하기 전에 해시 테이블이라는 개념이 어디서부터 출발한 것인지 알아보자.</p>\n<h3 id=\"직접-주소-테이블direct-address-table\" style=\"position:relative;\">직접 주소 테이블(Direct Address Table)<a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94direct-address-table\" aria-label=\"직접 주소 테이블direct address table permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>해시 테이블의 아이디어는 직접 주소 테이블(Direct Address Table)이라는 자료구조에서 부터 출발한다. 직접 주소 테이블은 입력받은 값을 키로 사용하는 데이터 매핑 방식이다. 코드로 보면 더 이해가 쉽다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DirectAddressTable</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setValue</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getValue</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getTable</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> myTable <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectAddressTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyTable<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyTable<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyTable<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">90</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myTable<span class=\"token punctuation\">.</span><span class=\"token function\">getTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 데스크톱으로 이 포스팅을 보고 있다면 이 코드를 복붙한 후 브라우저 콘솔이나 NodeJS로 실행해보자. 그러면 콘솔에 우리의 이쁜 테이블이 출력된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">3</span> empty items<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">6</span> empty items<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">79</span> empty items<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span> <span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>우리가 <code class=\"language-text\">3</code>을 테이블에 넣으면 이 값은 배열의 <code class=\"language-text\">3</code>번 인덱스의 요소가 되고 <code class=\"language-text\">90</code>을 넣으면 <code class=\"language-text\">90</code>번 인덱스의 요소가 된다. 그야말로 초 심플하다. 이렇게 직접 주소 테이블을 사용할때는 들어오는 값이 뭔지 알면 이 값이 저장된 인덱스도 함께 알 수 있기 때문에 저장된 데이터에 바로 접근해서 값을 가져올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">myTable<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>찾고자 하는 값과 테이블의 인덱스가 동일하므로 테이블을 뒤적거릴 필요없이 값이 저장된 공간에 바로 접근해서 값을 가져올 수 있으므로 시간복잡도는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>이다. 마찬가지로 테이블에 있는 값을 삽입, 수정, 삭제하는 행위도 값이 어디 있는지만 알고있으면 모두 한방에 해결할 수 있으므로 역시 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>의 시간복잡도로 해결할 수 있다.</p>\n<p>보통 이런 단순한 자료구조에서 값을 탐색, 삽입, 수정, 삭제하는 알고리즘이 시간을 잡아먹게 되는 이유는 대부분 비슷비슷하다.</p>\n<hr>\n<ol>\n<li>내가 찾고 싶은 값이 어디 있는지 모른다. 일단 효율적으로 뒤져보자.(e.g. 이진트리탐색)</li>\n<li>내가 이 값을 삽입하거나 삭제하면 다른 값이 영향을 받는다.(e.g. 링크드 리스트)</li>\n</ol>\n<hr>\n<p>이렇게 직접 주소 테이블은 내가 보고 싶은 값이 어디 있는지 알고 있기 때문에 바로 접근해서 이후 작업을 수행할 수 있다는 점에서 굉장히 편리하다고 할 수 있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 441px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/db3a598bfb9db0b88f1811fc6087af73/eed25/fantastic.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYdSJCD//EABsQAAIDAAMAAAAAAAAAAAAAAAECAAMREiEi/9oACAEBAAEFAmwBY59MdFZ5Svsf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAwADAQAAAAAAAAAAAAAAAAERECFBgf/aAAgBAQAGPwKyZ8psbfWf/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIUExYeH/2gAIAQEAAT8h3S4GWrLbKEY7jnfpGNxtpSf/2gAMAwEAAgADAAAAEDAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITGxQWFx/9oACAEBAAE/ELh8mAdZcho0pQc042Fe5mq2uDFT7k13moKpfjOjP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"fantastic\" title=\"\" src=\"/static/db3a598bfb9db0b88f1811fc6087af73/eed25/fantastic.jpg\" srcset=\"/static/db3a598bfb9db0b88f1811fc6087af73/0913d/fantastic.jpg 160w,\n/static/db3a598bfb9db0b88f1811fc6087af73/cb69c/fantastic.jpg 320w,\n/static/db3a598bfb9db0b88f1811fc6087af73/eed25/fantastic.jpg 441w\" sizes=\"(max-width: 441px) 100vw, 441px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>하지만 직접 주소 테이블도 당연히 단점이 있다. 바로 공간의 효율성이 좋지 않다는 것이다. 방금 선언했던 <code class=\"language-text\">myTable</code>의 테이블 상태를 한번 보면 이해가 바로 된다. 이 테이블에는 <code class=\"language-text\">3</code>, <code class=\"language-text\">10</code>, <code class=\"language-text\">90</code>의 값을 넣었고 이 값들은 크기 차이가 꽤나 큰 편이다.</p>\n<p>그 결과 우리의 <code class=\"language-text\">myTable</code>은 이렇게 듬성듬성한 구조로 데이터를 저장하게 된 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">91</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위에서도 볼 수 있듯이 저장된 데이터를 제외하고 <code class=\"language-text\">0</code>으로 채워진 나머지 공간은 값은 없지만 메모리 공간은 할당되어 있는 상태이다. 즉, 사용하지 않는 아까운 공간이다. 결국 직접 주소 테이블을 사용할 때 테이블에 넣고자 하는 데이터 값의 범위보다 값의 개수가 작다면 공간적인 효율이 떨어지는 것이다.</p>\n<p>이런 상황을 적재율이 낮다고 표현하는데, 적재율은 <code class=\"language-text\">값의 개수/테이블의 크기</code>로 나타내게 된다. 필자가 방금 만든 이 테이블의 현재 적재율은 <code class=\"language-text\">3/91 = 0.03296...</code>으로 약 <code class=\"language-text\">3%</code> 정도이므로 높은 적재율은 아니라고 볼 수 있다.</p>\n<p>만약 <code class=\"language-text\">1000</code>과 같이 큰 값이 하나만 더 테이블에 들어온다고 해도 테이블의 크기는 <code class=\"language-text\">1001</code>이 되고 적재율은 <code class=\"language-text\">0.003996...</code>으로 약 <code class=\"language-text\">0.4%</code>가 된다. 즉, 직접 주소 테이블이 큰 힘을 발휘할 수 있는 순간은 <code class=\"language-text\">1, 2, 3</code>과 같이 연속적인 값을 저장하거나 혹은 값들의 범위 차이가 크지 않은 데이터라고 할 수 있다.</p>\n<h3 id=\"직접-주소-테이블의-단점을-해시-함수로-보완하자\" style=\"position:relative;\">직접 주소 테이블의 단점을 해시 함수로 보완하자!<a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%9D%98-%EB%8B%A8%EC%A0%90%EC%9D%84-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98%EB%A1%9C-%EB%B3%B4%EC%99%84%ED%95%98%EC%9E%90\" aria-label=\"직접 주소 테이블의 단점을 해시 함수로 보완하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 직접 주소 테이블은 값에 접근하기는 편하지만 공간 효율이 좋지 않다는 단점이 있다. 그래서 이 단점을 보완한 게 바로 해시 테이블인 것이다.</p>\n<p>해시 테이블은 직접 주소 테이블처럼 값을 바로 테이블의 인덱스로 사용하는 것이 아니라 해시 함수(Hash Function)라는 것에 한번 통과시켜서 사용한다. 해시 함수는 임의의 길이를 가지는 임의의 데이터를 고정된 길이의 데이터로 매핑하는 함수이다. 이때 이 함수가 뱉어내는 결과물을 해시(Hash)라고 부른다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/9ab3259234eddda6c50fdda48c352e4e/65f94/hashbrown.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHtT2qExoz/AP/EABgQAQEBAQEAAAAAAAAAAAAAAAIBABAS/9oACAEBAAEFAm/GiT6ZDN//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEZ/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BRWf/xAAXEAADAQAAAAAAAAAAAAAAAAAAECEB/9oACAEBAAY/Aia4v//EABgQAQEBAQEAAAAAAAAAAAAAAAERABCh/9oACAEBAAE/ITFR1/w4gkS6IEOf/9oADAMBAAIAAwAAABDbD//EABcRAQADAAAAAAAAAAAAAAAAAAEQITH/2gAIAQMBAT8QAMuP/8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAECAQE/EFDk/8QAHBABAQACAgMAAAAAAAAAAAAAAREAMRAhQXGR/9oACAEBAAE/EC6lGddfcmYabM9XCwu8dCD4cEn2cf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hashbrown\" title=\"\" src=\"/static/9ab3259234eddda6c50fdda48c352e4e/65f94/hashbrown.jpg\" srcset=\"/static/9ab3259234eddda6c50fdda48c352e4e/0913d/hashbrown.jpg 160w,\n/static/9ab3259234eddda6c50fdda48c352e4e/cb69c/hashbrown.jpg 320w,\n/static/9ab3259234eddda6c50fdda48c352e4e/65f94/hashbrown.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>해시(Hash)의 사전적 정의는 사실 \"잘게 썬 요리\" 같은 뉘앙스로 사용된다. 롯데리아에서 파는 해시브라운을 생각해보자.<br>해시 함수도 어떤 값이 들어오든 간에 다 뭉개서 내가 원하는 길이의 값으로 만든다는 점에서 일맥상통한다.</small>\n</center>\n<p>그럼 한번 이해를 돕기위해 간단한 해시 함수를 만들어보겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">hashFunction</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> key <span class=\"token operator\">%</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">102948</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 8</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">191919191</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">997</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 7</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이게 끝이다. 물론 허접한 해시 함수이지만 그래도 해싱이라는 본연의 역할을 잘 수행하는데는 별로 문제가 없다.</p>\n<p>필자의 허접한 해시 함수는 무조건 들어온 값을 <code class=\"language-text\">10</code>으로 나눈 후의 나머지를 반환하는 일을 할 뿐이지만 어떤 값이 들어오든 그 값의 <code class=\"language-text\">1</code>의 자리만 반환될 것이기 때문에 반환되는 값은 무조건 <code class=\"language-text\">0-9</code> 사이의 값이라는 것이 보장된다.</p>\n<p>그리고 해시 함수의 특성 중 하나가 해시만 보고는 인자로 어떤 값을 받았는지 추측하기 힘들다는 것이다. 1의 자리만 보고 원래 수가 얼마였는지 맞출 수는 없을 것이다. 그래서 이러한 해시 함수의 특징은 암호학에서도 아주 잘 사용하고 있다.</p>\n<p>자, 하지만 우리에게 중요한건 암호학이 아니라 바로 이것이다.</p>\n<blockquote>\n<p>어떤 값이 해시 함수로 들어오든 무조건 <strong>0-9</strong>사이의 값이 반환된다!</p>\n</blockquote>\n<p>직접 주소 테이블의 단점이 바로 <code class=\"language-text\">10000</code>이라는 값이 하나만 들어오더라도 <code class=\"language-text\">10000</code>번 인덱스에 값을 저장하기 위해 <code class=\"language-text\">10000</code>의 크기를 가진 테이블을 생성해야하기 때문에 나머지 <code class=\"language-text\">9999</code>개의 버리는 공간이 생기는 것이다.</p>\n<p>그러나 필자의 해시 함수를 사용하면 <code class=\"language-text\">100</code>이 들어오면 <code class=\"language-text\">0</code>을 반환할 것이고 <code class=\"language-text\">10001</code>이 들어오면 <code class=\"language-text\">1</code>을 반환, 심지어 <code class=\"language-text\">8982174981274</code>가 들어와도 <code class=\"language-text\">4</code>를 반환한다.</p>\n<p>즉, 고정된 테이블의 길이를 정해둘 수 있고 그 안에만 데이터를 저장할 수 있게 된 것이다. 해시 함수의 이러한 성질을 이용해서 아주 간단한 해시테이블을 한번 작성해보겠다. 필자는 해시 테이블 크기를 <code class=\"language-text\">5</code>로 설정하고 어떤 값이 들어와도 이 테이블 안에 저장될 수 있도록 해시 함수를 작성할 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myTableSize <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myHashTable <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>myTableSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">hashFunction</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 들어온 값을 테이블의 크기로 나눠주고 나머지를 반환하면 된다.</span>\n  <span class=\"token keyword\">return</span> key <span class=\"token operator\">%</span> myTableSize<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nmyHashTable<span class=\"token punctuation\">[</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">1991</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1991</span><span class=\"token punctuation\">;</span>\nmyHashTable<span class=\"token punctuation\">[</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">1234</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1234</span><span class=\"token punctuation\">;</span>\nmyHashTable<span class=\"token punctuation\">[</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">5678</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">5678</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myHashTable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [empty, 1991, empty, 5678, 1234]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>들어온 값들은 <code class=\"language-text\">1991</code>, <code class=\"language-text\">1234</code>, <code class=\"language-text\">5678</code>로, 해시 테이블의 사이즈인 <code class=\"language-text\">5</code>보다 훨씬 큰 값이지만 해시 함수를 거친 결과 <code class=\"language-text\">0-4</code> 사이의 값만 반환되기 때문에 필자의 작고 귀여운 해시 테이블 안에 값이 차곡차곡 저장될 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 295px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/1c91a/cute.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAADBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe8FGAmHH//EABkQAAMBAQEAAAAAAAAAAAAAAAABAhIRMf/aAAgBAQABBQLiKh2p82yqe0f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAABBQAAAAAAAAAAAAAAAAABAAIRIHH/2gAIAQEABj8CThIGV//EABwQAAEEAwEAAAAAAAAAAAAAAAABESExQWFxUf/aAAgBAQABPyHQh7HMJ6Uy5oQUWhnYy6f/2gAMAwEAAgADAAAAECDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFRQfDx/9oACAEBAAE/EPlYxVVCgEaVetZcEoAbtoFs8256DiUs3jwvGKL7Ty5//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cute\" title=\"\" src=\"/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/1c91a/cute.jpg\" srcset=\"/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/0913d/cute.jpg 160w,\n/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/1c91a/cute.jpg 295w\" sizes=\"(max-width: 295px) 100vw, 295px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>내 해시 테이블...자그마해 귀여워</small>\n</center>\n<p>이로써 직접 주소 테이블의 단점이었던 밑도 끝도 없이 낭비되는 공간을 줄일 수 있게 되었다!</p>\n<h2 id=\"해시의-충돌collision\" style=\"position:relative;\">해시의 충돌(Collision)<a href=\"#%ED%95%B4%EC%8B%9C%EC%9D%98-%EC%B6%A9%EB%8F%8Ccollision\" aria-label=\"해시의 충돌collision permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이렇게 해피 엔딩으로 끝나면 좋겠지만 해시 테이블의 단점도 있다. 그 단점은 바로 해시의 충돌이다. 충돌이 뭔지 설명하기 전에 필자의 해시 함수를 가지고와서 한번 충돌을 일으켜보고 직접 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">1991</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1</span>\n<span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<p>다른 값을 해시 함수에 넣었지만 같은 값이 튀어나오는 것이 바로 <strong>충돌(Collision)</strong> 이다.</p>\n</blockquote>\n<p>사실 상식적으로 생각해보면 직접 주소 테이블은 동적으로 테이블을 늘려나갔지만 해시 테이블은 처음부터 고정적인 공간을 할당하고 값을 계속 우겨넣는 방식이다.</p>\n<p>그렇다면 테이블의 크기를 <code class=\"language-text\">100</code>으로 잡고 그 테이블에 <code class=\"language-text\">200</code>개의 데이터를 넣는다면 100개만 저장되고 100개는 남을텐데 얘네는 어떻게 되는걸까?</p>\n<p>걱정하지 말자. 애초에 해시 테이블은 담고자 하는 데이터의 개수보다 테이블의 크기를 작게 하고 싶다는 의지에서 나온 자료구조이기 때문에 충돌을 해결할 수 있는 방법 또한 같이 고안되었다.</p>\n<h3 id=\"충돌-해결하기\" style=\"position:relative;\">충돌 해결하기<a href=\"#%EC%B6%A9%EB%8F%8C-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0\" aria-label=\"충돌 해결하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이처럼 해시 테이블에는 해시의 충돌이라는 단점이 있기 때문에 해시 테이블을 운용할 때 가장 중요한 것은 사실 해시 함수가 얼마나 균일하게 값을 퍼트릴 수 있느냐이다. 어떤 값을 넣어도 같은 인덱스만 주구장창 나올 확률이 높다면 좋은 해시 함수가 아니라는 것이다.</p>\n<p>그러나 해시 함수를 아무리 잘 짜더라도 근본적으로 충돌을 완전히 방지한다는 것은 힘든 일이다. 그렇기 때문에 어느 정도는 충돌을 감안하되 최소화하기 위해 해시 함수의 알고리즘을 개발하거나, 혹은 충돌이 발생하더라도 우회해서 해결할 수 있는 방법을 사용한다.</p>\n<p>그 중 이 포스팅에서는 충돌이 발생하더라도 우회해서 해결하는 방법 중 몇가지를 설명하려고 한다.</p>\n<h4 id=\"개방-주소법open-address\" style=\"position:relative;\">개방 주소법(Open Address)<a href=\"#%EA%B0%9C%EB%B0%A9-%EC%A3%BC%EC%86%8C%EB%B2%95open-address\" aria-label=\"개방 주소법open address permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>개방 주소법은 해시 충돌이 발생하면 테이블 내의 새로운 주소를 탐사한 후, 비어있는 곳에 충돌된 데이터를 입력하는 방식이다. 해시 함수를 통해서 얻은 인덱스가 아니라 다른 인덱스를 허용한다는 의미로 개방 주소(Open Address)라고 한다.</p>\n<p>개방 주소법은 어떤 방식으로 비어있는 공간을 탐사할 것이냐에 따라 4가지로 나누어 진다.</p>\n<h5 id=\"1-선형-탐사법linear-probing\" style=\"position:relative;\">1. 선형 탐사법(Linear Probing)<a href=\"#1-%EC%84%A0%ED%98%95-%ED%83%90%EC%82%AC%EB%B2%95linear-probing\" aria-label=\"1 선형 탐사법linear probing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>선형 탐사법(Linear Probing)은 말 그대로 선형으로 순차적으로 탐사하는 방법이다. 위에서 해시 충돌의 예로 들었던 <code class=\"language-text\">1991</code>과 <code class=\"language-text\">6</code>의 상황을 한번 예시로 알아보자.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n  <li><dt>5</dt><dd></dd></li>\n  <li><dt>6</dt><dd></dd></li>\n</ul>\n<br />\n<p>처음에 <code class=\"language-text\">1991</code>을 해시 함수에 통과 시킨 후 해시 테이블에 넣었을 때에는 테이블의 <code class=\"language-text\">1</code>번 인덱스에 위치했을 것이다. 그 이후 <code class=\"language-text\">6</code>을 해시 함수에 통과시켰더니 또 <code class=\"language-text\">1</code>이 나왔다. 하지만 이미 <code class=\"language-text\">1</code>번 인덱스에는 <code class=\"language-text\">1991</code>이 들어가 있기 때문에 <code class=\"language-text\">6</code>은 더 이상 해시 테이블에 들어갈 자리가 없게 되었다. 충돌이 발생한 것이다!</p>\n<p>선형 탐사법은 이렇게 충돌이 났을 때 정해진 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 칸만큼의 옆 방을 주는 방법이다. 만약에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">n = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>이라면 <code class=\"language-text\">2</code>번 인덱스를, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">n = 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span></span>이라면 <code class=\"language-text\">4</code>번 인덱스에 <code class=\"language-text\">6</code>을 저장할 것이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd><strong style=\"color: #ff0000;\">6</strong></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n  <li><dt>5</dt><dd></dd></li>\n  <li><dt>6</dt><dd></dd></li>\n</ul>\n<center><small>아쉬운대로 옆 방이라도 들어가야지...</small></center>\n<br />\n<p>이런 식으로 충돌이 났을 때 순차적으로 정해진 만큼의 옆 방을 주는 것이 바로 선형 탐사법이다. 만약 여기서 또 충돌이 발생한다면 이번에는 그 값을 <code class=\"language-text\">3</code>번 인덱스에 저장할 것이다. 이런 방식으로 빈 공간이 나타날 때까지 순차적으로 탐사를 한다.</p>\n<p>선형 탐사법의 단점은 특정 해시 값의 주변이 모두 채워져있는 일차 군집화(Primary Clustering) 문제에 취약하다는 것이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd>6</dd></li>\n  <li><dt>3</dt><dd>13</dd></li>\n  <li><dt>4</dt><dd>21</dd></li>\n  <li><dt>5</dt><dd></dd></li>\n  <li><dt>6</dt><dd></dd></li>\n</ul>\n<br />\n<p>같은 해시가 여러 번 나오는 경우 선형 탐사법을 사용하면 데이터가 연속되게 저장될 가능성이 높아진다. 즉, 데이터의 밀집도가 높아진다는 것이다. 이런 경우 해시의 값이 <code class=\"language-text\">1</code>이 나왔을 때 뿐만 아니라 <code class=\"language-text\">2</code>나 <code class=\"language-text\">3</code>이 나왔을 때도 충돌이 발생한다.</p>\n<p>이게 진짜 악순환의 반복인데, 이런 식으로 충돌이 계속 될 수록 데이터가 연속되게 저장되기 때문에 나중에 가면 데이터가 밀집되어 있는 거대한 덩어리가 생긴다. 그럼 해시로 어떤 값이 나오더라도 그 덩어리가 차지한 인덱스와 충돌이 날 확률이 올라가고, 충돌난 값은 또 그 덩어리 뒤에 저장되게 되므로 데이터 덩어리가 더 커진다.</p>\n<blockquote>\n<p><strong>충돌!</strong> -> 데이터 덩어리 뒤에 충돌난 값 저장 -> 충돌 발생 확률 증가 -> <strong>충돌!</strong> -> 또 저장. 덩어리 더 커짐 -> 충돌 발생 확률 증가 -> <strong>충돌</strong>…</p>\n</blockquote>\n<p>이런 식으로 눈물나는 무한 반복 사이클이 발생한다. 이것이 일차 군집화 문제이다. 이제 이 눈물나는 문제점을 그나마 보완한 다른 방법을 알아보자.</p>\n<h5 id=\"2-제곱-탐사법quadratic-probing\" style=\"position:relative;\">2. 제곱 탐사법(Quadratic Probing)<a href=\"#2-%EC%A0%9C%EA%B3%B1-%ED%83%90%EC%82%AC%EB%B2%95quadratic-probing\" aria-label=\"2 제곱 탐사법quadratic probing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>제곱 탐사법(Quadratic Probing)은 선형 탐사법과 동일하지만 탐사하는 폭이 고정폭이 아닌 제곱으로 늘어난다는 것이 다르다.</p>\n<p>첫번째 충돌이 발생했을 때는 충돌난 지점으로 부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>1</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">1^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>만큼, 두번째 충돌이 발생했을 때는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">2^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>, 세번째는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">3^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>과 같은 식으로 탐사하는 스텝이 빠르게 커진다. 앞서 보았던 선형 탐사법에서의 예시와 동일한 상황에서 제곱 탐사법을 사용하면 해시 테이블은 아래와 같은 모양이 된다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd>6</dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n  <li><dt>5</dt><dd>13</dd></li>\n  <li><dt>6</dt><dd></dd></li>\n  <li><dt>...</dt><dd></dd></li>\n  <li><dt>10</dt><dd>21</dd></li>\n</ul>\n<br />\n<blockquote>\n<p>첫번째 충돌이 났을 때 <code class=\"language-text\">6</code>은 충돌이 난 <code class=\"language-text\">1</code>번 인덱스로부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>1</mn><mn>2</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1^2 = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>만큼의 옆 방에 들어간다.</p>\n<p>두번째 충돌이 났을 때 <code class=\"language-text\">13</code>은 충돌이 난 <code class=\"language-text\">1</code>번 인덱스로부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup><mo>=</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">2^2 = 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span></span>만큼의 옆 방에 들어간다.</p>\n<p>세번째 충돌이 났을 때 <code class=\"language-text\">21</code>은 충돌이 난 <code class=\"language-text\">1</code>번 인덱스로부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>3</mn></msup><mo>=</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">3^3 = 9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">9</span></span></span></span></span>만큼의 옆 방에 들어간다.</p>\n</blockquote>\n<p>이렇게 제곱 탐사법을 사용하면 충돌이 발생하더라도 데이터의 밀집도가 선형 탐사법보다 많이 낮기 때문에 다른 해시값까지 영향을 받아서 연쇄적으로 충돌이 발생할 확률이 많이 줄어든다.</p>\n<p>그래도 결국 해시로 <code class=\"language-text\">1</code>이 여러번 나오면 계속 충돌이 나는 것은 피할 수 없다. 결국 데이터의 군집은 피할 수 없는 숙명이므로 이 현상을 이차 군집화(Secondary Clustering) 문제라고 부른다.</p>\n<p>그럼 여기서 더 개선할 수는 없을까?</p>\n<h5 id=\"3-이중해싱double-hashing\" style=\"position:relative;\">3. 이중해싱(Double Hashing)<a href=\"#3-%EC%9D%B4%EC%A4%91%ED%95%B4%EC%8B%B1double-hashing\" aria-label=\"3 이중해싱double hashing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>그래서 나온 방법이 바로 이중해싱이다. 말 그대로 해시 함수를 이중으로 사용하는 것이다.</p>\n<p>하나는 기존과 마찬가지로 최초 해시를 얻을 때 사용하고, 다른 하나는 충돌이 났을 경우 탐사 이동폭을 얻기 위해 사용한다. 이렇게 하면 최초 해시로 같은 값이 나오더라도 다시 다른 해시 함수를 거치면서 다른 탐사 이동폭이 나올 확률이 높기 때문에 매번 다른 공간에 값이 골고루 저장될 확률도 높아진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myTableSize <span class=\"token operator\">=</span> <span class=\"token number\">23</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 테이블 사이즈가 소수여야 효과가 좋다</span>\n<span class=\"token keyword\">const</span> myHashTable <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getSaveHash</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> value <span class=\"token operator\">%</span> myTableSize<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 스텝 해시에 사용되는 수는 테이블 사이즈보다 약간 작은 소수를 사용한다.</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getStepHash</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token number\">17</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">%</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setValue</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token function\">getSaveHash</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> targetValue <span class=\"token operator\">=</span> myHashTable<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>targetValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      myHashTable<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">번 인덱스에 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 저장! </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myHashTable<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> myTableSize<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'풀방입니다'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">번 인덱스에 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 저장하려다 충돌 발생!ㅜㅜ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      index <span class=\"token operator\">+=</span> <span class=\"token function\">getStepHash</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      index <span class=\"token operator\">=</span> index <span class=\"token operator\">></span> myTableSize <span class=\"token operator\">?</span> index <span class=\"token operator\">-</span> myTableSize <span class=\"token operator\">:</span> index<span class=\"token punctuation\">;</span>\n      targetValue <span class=\"token operator\">=</span> myHashTable<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 테이블 사이즈와 두번째 해시함수에 사용될 수는 둘 다 소수를 사용하는 것이 좋다. 둘 중에 하나가 소수가 아니라면 결국 언젠가 같은 해싱이 반복되기 때문이다. 딱 보기에 뭔가 좀 복잡해보이지만 하나하나 뜯어보면 별 거 없다. 한번 순서대로 살펴보자.</p>\n<hr>\n<ol>\n  <li>저장할 인덱스를 <code class=\"language-text\">getSaveHash</code> 해시 함수로 얻는다.</li>\n  <li>반복문 시작</li>\n  <li>거기 비었니?</li>\n  <ol style=\"list-style: lower-alpha;\">\n    <li>비었어? 오케이 저장!</li>\n    <li>사람 있어? 다음 인덱스 내놔! 다시 3으로...</li>\n    <li>풀방이야? 종료합시다.</li>\n  </ol>\n</ol>\n<hr>\n<p>위 코드를 브라우저 콘솔이나 NodeJS로 실행시켜보면 출력되는 문자열을 통해 이 과정이 어떤 방식으로 흘러가는 지 대략적으로 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">1991</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 13번 인덱스에 1991 저장!</span>\n<span class=\"token comment\">// 6번 인덱스에 6 저장!</span>\n<span class=\"token comment\">// 13번 인덱스에 13 저장하려다 충돌 발생!ㅜㅜ</span>\n<span class=\"token comment\">// 17번 인덱스에 13 저장!</span>\n<span class=\"token comment\">// 21번 인덱스에 21 저장!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>아까 선형 탐사법과 제곱 탐사법을 사용했다면 모두 해시의 결과가 <code class=\"language-text\">1</code>이어서 연쇄적으로 충돌이 발생해야 할 값들이지만 이중 해싱을 사용함으로써 한번의 충돌만으로 모든 값을 저장할 수 있게 되었다.</p>\n<p>위에 코드를 복붙해서 함수를 선언해놨다면 저 콘솔을 여러 번 돌려보고 저장할 값도 바꿔보면서 어떤 식으로 해쉬테이블에 값들이 저장되는지 살펴볼 수 있다. 테이블이 꽉 차면 <code class=\"language-text\">풀방입니다</code>가 출력되니까 그때까진 신나게 돌려봐도 된다.</p>\n<h4 id=\"분리-연결법separate-chaining\" style=\"position:relative;\">분리 연결법(Separate Chaining)<a href=\"#%EB%B6%84%EB%A6%AC-%EC%97%B0%EA%B2%B0%EB%B2%95separate-chaining\" aria-label=\"분리 연결법separate chaining permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>분리 연결법은 개방 주소법과는 다른 개념으로 접근하는 충돌 우회 방법이다. 분리 연결법은 해쉬 테이블의 버킷에 하나의 값이 아니라 링크드 리스트(Linked List)나 트리(Tree)를 사용한다.\n사실 트리를 쓰던 링크드 리스트를 쓰던 개념은 동일하니 링크드 리스트로 설명을 진행하겠다.</p>\n<p>위에서 계속 사용했던 예시를 또 가져와보자. 테이블 크기가 <code class=\"language-text\">5</code>일때 해시로 <code class=\"language-text\">1</code>을 반환하는 <code class=\"language-text\">1991</code>, <code class=\"language-text\">6</code>, <code class=\"language-text\">13</code>, <code class=\"language-text\">21</code>을 저장할 때 분리 연결법을 사용하면 이렇게 된다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>[21, 13, 6, 1991]</dd></li>\n  <li><dt>2</dt><dd></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n</ul>\n<br />\n<p>간단하다. 근데 자세히 보면 <code class=\"language-text\">[1991, 6, 13, 21]</code>의 순서가 아니라 <code class=\"language-text\">[21, 13, 6, 1991]</code>의 순서로 뒤집혀 있다.</p>\n<p>이는 데이터를 삽입할 때 조금이라도 수행 시간을 줄이기 위해서 사용하는 방법이다. 왜 데이터를 뒤집으면 삽입 수행 시간이 줄어드는지 이해하기 위해서 우리 테이블의 <code class=\"language-text\">1</code>번 인덱스에 저장된 링크드 리스트가 <code class=\"language-text\">[1991, 6, 13, 21]</code> 순서일 때 새로운 데이터를 삽입하는 과정을 살펴보자.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>1</dt><dd>{ 값: 1991, 다음 노드: 2 }</dd></li>\n  <li><dt>2</dt><dd>{ 값: 6, 다음 노드: 3 }</dd></li>\n  <li><dt>3</dt><dd>{ 값: 13, 다음 노드: 4 }</dd></li>\n  <li><dt>4</dt><dd>{ 값: 21, 다음 노드: null }</dd></li>\n</ul>\n<center><small>왠지 해쉬테이블이랑 비슷하게 생겼지만 이번엔 링크드 리스트다</small></center>\n<br />\n<p>만약 이번에 추가할 값이 <code class=\"language-text\">11</code>이라고 해보자. 일단 메모리 주소가 <code class=\"language-text\">99</code>인 곳이 남길래 여기에 <code class=\"language-text\">{ 값: 11, 다음 노드: null }</code>을 저장했다. 그 후 이 새로운 노드를 리스트에 붙혀야 하니까 해당 리스트의 마지막 노드인 메모리 <code class=\"language-text\">4</code>에 저장된 노드까지 찾아가야 한다.</p>\n<p>그 다음에 메모리 <code class=\"language-text\">4</code>에 저장된 값을 <code class=\"language-text\">{ 값: 21, 다음 노드: 99 }</code>로 바꿔주면 끝이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>1</dt><dd>{ 값: 1991, 다음 노드: 2 }</dd></li>\n  <li><dt>2</dt><dd>{ 값: 6, 다음 노드: 3 }</dd></li>\n  <li><dt>3</dt><dd>{ 값: 13, 다음 노드: 4 }</dd></li>\n  <li><dt>4</dt><dd>{ 값: 21, 다음 노드: 99 }</dd></li>\n  <li><dt>99</dt><dd>{ 값: 11, 다음 노드: null }</dd></li>\n</ul>\n<br />\n<p>문제는 새 노드를 리스트에 붙히기 위해서 메모리 <code class=\"language-text\">4</code>에 저장된 노드를 찾는 과정이다. 링크드 리스트의 특성 상 메모리 <code class=\"language-text\">4</code>의 데이터를 확인하려면 머리부터 순차적으로 다음 노드를 탐색해나가야 한다.</p>\n<p>결국 데이터를 삽입하려면 먼저 리스트의 머리인 메모리 <code class=\"language-text\">1</code>부터 찾은 다음에 다음 메모리 주소 값을 확인하고 <code class=\"language-text\">2</code>로 이동해서 또 다음 메모리 주소를 확인하는 과정을 거쳐야한다는 것이다.</p>\n<p>링크드 리스트의 크기가 작을 때는 할만 한 작업이지만, 리스트의 크기가 커질수록 수행 시간도 비례해서 늘어나기 때문에 확실히 좋은 방법은 아니다. 하지만 순서를 반대로 뒤집으면 데이터 삽입이 한결 쉬워진다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>99</dt><dd>{ 값: 11, 다음 노드: 1 }</dd></li>\n  <li><dt>1</dt><dd>{ 값: 1991, 다음 노드: 2 }</dd></li>\n  <li><dt>2</dt><dd>{ 값: 6, 다음 노드: 3 }</dd></li>\n  <li><dt>3</dt><dd>{ 값: 13, 다음 노드: 4 }</dd></li>\n  <li><dt>4</dt><dd>{ 값: 21, 다음 노드: null }</dd></li>\n</ul>\n<br />\n<p>맨 앞에 노드를 추가하는 것이기 때문에 다른 노드를 탐색할 필요없이 그냥 메모리에 밀어넣고 <code class=\"language-text\">{ 값: 11, 다음 노드: 1 }</code>이라고 저장해주면 되기 때문이다. 그래서 해시 테이블에 저장할 때도 리스트의 꼬리로 데이터를 붙히기보다는 머리에 붙히는 방법을 보통 많이 사용한다.</p>\n<p>대신 이렇게 분리 연결법을 사용하려면 해시 함수의 역할이 굉장히 중요하다. 결국 균일하지 못한 해시를 사용해서 특정 인덱스에 데이터가 몰리게 된다면 다른 곳은 텅텅 비어있는데 한 버킷에 저장된 리스트의 길이만 계속 길어지기 때문이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>[21, 13, 6, 1991, 7, 11, 25, ...]</dd></li>\n  <li><dt>2</dt><dd></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n</ul>\n<center><small>극단적인 예시긴 하지만... 이건 그냥 링크드 리스트를 쓰는 것과 다를 게 없다</small></center>\n<br />\n<p>결국 내가 찾고자 하는 값이 리스트의 맨 마지막에 위치하고 있다면 링크드 리스트를 처음부터 끝까지 다 탐색해야하기 때문에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>의 시간복잡도를 가지게 된다. 그렇기 때문에 최대한 저장하고 하는 데이터를 균일하게 퍼트려서 리스트의 길이를 어느 정도로 유지해주는 해시 함수의 역할이 중요한 것이다.</p>\n<h2 id=\"테이블-크기-재할당resizing\" style=\"position:relative;\">테이블 크기 재할당(Resizing)<a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%81%AC%EA%B8%B0-%EC%9E%AC%ED%95%A0%EB%8B%B9resizing\" aria-label=\"테이블 크기 재할당resizing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>해시 테이블은 고정적인 공간을 할당해서 많은 데이터를 담기 위한 자료구조인 만큼 언젠가 데이터가 넘치기 마련이다.</p>\n<p>개방 주소법을 사용하는 경우에는 위에서 예시로 작성했던 코드에서 <code class=\"language-text\">풀방입니다</code>가 출력되는 상황, 즉 테이블이 실제로 꽉 차서 더이상 저장을 못하는 상황이 발생할 것이고, 분리 연결법을 사용하는 경우에는 테이블에 빈 공간이 적어지면서 충돌이 발생할 수록 각각의 버킷에 저장된 리스트가 점점 더 길어져서 리스트를 탐색하는 리소스가 너무 늘어난 상황이 발생할 것이다.</p>\n<p>그렇기 때문에 해시 테이블은 꽉꽉 아낌없이 채우기보다는 어느 정도 비워져 있는 것이 성능 상 더 좋으며, 해시 테이블을 운용할 때는 어느 정도 데이터가 차면 테이블의 크기를 늘려줘야한다.</p>\n<p>이건 특별한 알고리즘이라기보다는 그냥 기존 크기의 두 배정도로 새로운 테이블을 선언해서 기존 테이블의 데이터를 그대로 옮겨 담는 방법을 사용한다. 분리 연결법을 사용한 해시 테이블의 경우 재해싱(Rehashing)을 통해 너무 길어진 리스트의 길이를 나누어서 다시 저장하는 방법을 사용하기도 한다.</p>\n<p>이상으로 JavaScript와 함께 해시테이블을 파헤쳐보자 포스팅을 마친다.</p>\n<style>\nul.hash-table-dummy {\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  border: 1px solid #ddd;\n  padding: 0;\n}\nul.hash-table-dummy > li {\n  flex-grow: 1;\n  list-style: none;\n  border-right: 1px solid #ddd;\n  margin: 0;\n  text-align: center;\n  font-size: 14px;\n}\nul.hash-table-dummy dt {\n  border-bottom: 1px solid #ddd;\n  background-color: #f0f0f0;\n}\nul.hash-table-dummy dd {\n  margin: 0;\n}\n</style>","fields":{"slug":"20190625-hashtable-with-js","path":"/2019/06/25/hashtable-with-js/","lang":"ko"},"frontmatter":{"title":"JavaScript와 함께 해시테이블을 파헤쳐보자","subTitle":"해시 함수, 충돌 해결, 테이블 크기 조정까지 깊이 알아보기","date":"Jun 25, 2019","categories":["프로그래밍","알고리즘"],"tags":["자료구조","해시테이블","Hash Table","Data structure","자바스크립트","JavaScript","기술면접","해시 충돌","Hash collision"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/5976bcb3d5c35dab87987842997a2aef/3a812/thumbnail.jpg","srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/3a812/thumbnail.jpg 320w,\n/static/5976bcb3d5c35dab87987842997a2aef/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/fc5c5/thumbnail.webp 320w,\n/static/5976bcb3d5c35dab87987842997a2aef/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/5976bcb3d5c35dab87987842997a2aef/2d839/thumbnail.jpg","srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"aa9608ff-e701-507d-a416-1bfb2995dfc7","tableOfContents":"<ul>\n<li>\n<p><a href=\"#ip-internet-protocol\">IP, Internet Protocol</a></p>\n<ul>\n<li><a href=\"#ipv4%EC%9D%98-%EA%B5%AC%EC%A1%B0\">IPv4의 구조</a></li>\n<li><a href=\"#ipv4%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\">IPv4의 클래스</a></li>\n<li><a href=\"#%ED%8A%B9%EC%88%98%ED%95%9C-%EB%AA%A9%EC%A0%81%EC%9D%98-ipv4-%EC%A3%BC%EC%86%8C\">특수한 목적의 IPv4 주소</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9A%B0%EB%A6%AC-%EC%A7%91%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EB%B3%B4%EC%9E%90\">우리 집에서 구글까지의 경로를 보자</a></p>\n<ul>\n<li><a href=\"#traceroute-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">traceroute 사용하기</a></li>\n<li><a href=\"#%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">좀 더 자세히 알아보자!</a></li>\n</ul>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 우리 집에서 구글까지 어떤 과정을 통해 통신을 하는지에 대해서 간략하게 얘기해보려고 한다. 필자가 대학에서 배운 것 중 재밌다고 생각했던 것이 몇 개 있는데, 그 중 대표적인 것이 바로 인터넷에 연결되어 있는 모든 컴퓨터는 실제로 케이블을 통해 연결되어있다는 사실이었다. 혹자는 당연하다고 생각할 수 있는 이 사실이 그땐 굉장히 신기했던 것 같다. 매일매일 인터넷을 사용하고 있지만 너무 생활 속에 자연스레 녹아있는 요소이다 보니 그 원리에 대해서는 그다지 신경쓰지 않았기 때문이다. 그러다가 학교에서 네트워크에 대해…","html":"<p>이번 포스팅에서는 우리 집에서 구글까지 어떤 과정을 통해 통신을 하는지에 대해서 간략하게 얘기해보려고 한다. 필자가 대학에서 배운 것 중 재밌다고 생각했던 것이 몇 개 있는데, 그 중 대표적인 것이 바로 인터넷에 연결되어 있는 모든 컴퓨터는 실제로 케이블을 통해 연결되어있다는 사실이었다.</p>\n<p>혹자는 당연하다고 생각할 수 있는 이 사실이 그땐 굉장히 신기했던 것 같다. 매일매일 인터넷을 사용하고 있지만 너무 생활 속에 자연스레 녹아있는 요소이다 보니 그 원리에 대해서는 그다지 신경쓰지 않았기 때문이다.</p>\n<p>그러다가 학교에서 네트워크에 대해 점점 자세히 배우면서 “내가 당연하게 사용하고 있는 이 혜택들이 사실은 굉장히 체계적이고 복잡한 시스템이구나”라는 사실을 알게 되었다.</p>\n<p>그래서 이번 포스팅에서는 필자의 집에서 구글 서버에 접속하는 과정을 통해 그 시스템에 대해서 간단하게 풀어보려고 한다. 물론 IP 주소를 기반으로 대략적인 추정을 하는 것이기 때문에 정확한 정보는 아니겠지만 대략적으로 이런 과정을 통해 해외에 있는 서버에 접속할 수 있다는 사실을 중심으로 풀어갈 것이다.</p>\n<h2 id=\"ip-internet-protocol\" style=\"position:relative;\">IP, Internet Protocol<a href=\"#ip-internet-protocol\" aria-label=\"ip internet protocol permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>먼저 우리 집에서 구글까지의 경로를 알기 위해서 인터넷하면 빠질 수 없는 IP에 대해서 간단하게 알아보자. IP 주소라는 단어는 컴퓨터 관련 전공을 하신 분이 아니더라도 굉장히 익숙한 단어이다.</p>\n<p>일반적인 환경에서 우리가 인터넷에 접속할 때 이 IP 주소가 우리 집 주소의 역할을 한다고 생각하면 된다. 마찬가지로 우리 집에서 구글까지 가는 길목에 있는 지점들도 모두 IP 주소를 가지고 있고, 우리는 그 IP 주소를 기반으로 이 지점이 어디인지 대략적으로 추측해볼 수 있다.</p>\n<p>IP에 관해서 굉장히 기본적인 내용을 설명할 예정이므로 이미 다 아시는 분은 그냥 건너뛰셔도 무방하다.</p>\n<h3 id=\"ipv4의-구조\" style=\"position:relative;\">IPv4의 구조<a href=\"#ipv4%EC%9D%98-%EA%B5%AC%EC%A1%B0\" aria-label=\"ipv4의 구조 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>일반적으로 우리가 접할 수 있는 <code class=\"language-text\">192.168.0.1</code>과 같은 형태는 IPv4이다. IPv4는 8비트로 구성된 4개의 필드로 구성되고 이 하나하나의 필드를 옥탯(Octet)이라고 부른다. <small>(참고로 Oct으로 시작하는 용어는 8을 뜻하는 게 많다)</small>.</p>\n<p>예를 들어 <code class=\"language-text\">192.168.0.1</code>은 이진법으로 전환하면 다음과 같이 나타낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">10진법: 192.168.0.1\n2진법: 11000000.10101000.00000000.00000001</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>한 옥탯에 8비트밖에 가지지 못하기 때문에 옥탯은 <code class=\"language-text\">00000000-11111111</code>, 즉 십진법으로는 <code class=\"language-text\">0-255</code>의 수를 가지게 되는 것이다. 그렇기 때문에 IPv4로 생성할 수 있는 주소의 개수는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>=</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>294</mn><mo separator=\"true\">,</mo><mn>967</mn><mo separator=\"true\">,</mo><mn>296</mn></mrow><annotation encoding=\"application/x-tex\">2^{32} = 4,294,967,296</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">32</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">294</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">967</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">296</span></span></span></span></span>로 약 43억개이다. 43억개라니… 꽤 큰 숫자 같아 보인다. 처음에 이 주소 체계를 만들 때만 해도 이런 생각을 했던 것 같다.</p>\n<blockquote>\n<p><em>에이 43억개나 있는데 어느 정도는 버티겠지?</em></p>\n</blockquote>\n<center>\n<br />\n.<br />\n.<br />\n.<br />\n<br />\n</center>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAExEHKPUj//xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIDEiEz/9oACAEBAAEFAqkXdB6lbJ5n/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BZ//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/ASf/xAAWEAEBAQAAAAAAAAAAAAAAAAAQESH/2gAIAQEABj8Cjj//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQIaFh/9oACAEBAAE/IRF6j2fDCWtUsN8x/9oADAMBAAIAAwAAABBcD//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxA4v//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/ELP/xAAdEAEBAAEEAwAAAAAAAAAAAAABEQAQITFBUXGh/9oACAEBAAE/EKbSNjkylivZv19zluOSJXj3iajcCx40/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unexpected result\" title=\"\" src=\"/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg\" srcset=\"/static/de8631a2bb9ad577fae2ba57e8801a22/0913d/unexpected-result.jpg 160w,\n/static/de8631a2bb9ad577fae2ba57e8801a22/cb69c/unexpected-result.jpg 320w,\n/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>생각보다 전세계의 인터넷 사용자가 빠르게 늘면서 결국 2011년 2월 4일부로 모든 주소가 소진되어 현재는 IPv4의 할당이 중지되었다. 다행히 그 동안 손놓고 있지는 않았고, 전세계의 똑똑한 분들이 이미 대책을 다 세워두었으니 너무 걱정하진 말자.</p>\n<h3 id=\"ipv4의-클래스\" style=\"position:relative;\">IPv4의 클래스<a href=\"#ipv4%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"ipv4의 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 IP 주소는 무제한으로 막 퍼줄 수 있는 자원이 아니라 유한한 자원이다 보니, 특정 대역마다 사용처를 나누어서 관리하게 된다. 이때 나누어진 대역을 클래스라고 부르며 A-E의 총 5개의 클래스로 나누어서 관리한다.</p>\n<p>각 클래스는 이진법으로 표현한 IPv4인 <code class=\"language-text\">00000000.00000000.00000000.00000000</code> 중 첫번째 필드에 있는 8비트에 제한을 만들어서 표기하기 때문에 첫번째 필드의 숫자만 보면 해당 IPv4 주소가 어느 클래스에 속해있는 지 알 수 있다.</p>\n<p>이 제한은 바로 첫번째 필드의 최상위 비트를 강제하는 방식이다. 예를 들어 A 클래스는 무조건 비트가 <code class=\"language-text\">0</code>으로 시작해야하기 때문에 <code class=\"language-text\">00000000(0)</code>에서 <code class=\"language-text\">01111111(127)</code>사이의 첫번째 필드를 사용할 수 있고 C 클래스는 무조건 비트가 <code class=\"language-text\">110</code>로 시작해야하기 때문에 <code class=\"language-text\">11000000(192)</code>부터 <code class=\"language-text\">11011111(223)</code>까지의 첫번째 필드를 사용할 수 있는 식이다.</p>\n<table>\n<thead>\n<tr>\n<th>클래스</th>\n<th>첫번째필드</th>\n<th>주소범위</th>\n<th>용도</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0xxxxxxx</td>\n<td>0.0.0.0 ~ 127.255.255.255</td>\n<td>대규모 네트워크</td>\n</tr>\n<tr>\n<td>B</td>\n<td>10xxxxxx</td>\n<td>128.0.0.0 ~ 191.255.255.255</td>\n<td>중규모 네트워크</td>\n</tr>\n<tr>\n<td>C</td>\n<td>110xxxxx</td>\n<td>192.0.0.0 ~ 223.255.255.255</td>\n<td>소규모 네트워크</td>\n</tr>\n<tr>\n<td>D</td>\n<td>1110xxxx</td>\n<td>224.0.0.0 ~ 239.255.255.255</td>\n<td>멀티캐스트</td>\n</tr>\n<tr>\n<td>E</td>\n<td>1111xxxx</td>\n<td>240.0.0.0 ~ 255.255.255.255</td>\n<td>연구/개발 또는 미래 대비로 예약</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"특수한-목적의-ipv4-주소\" style=\"position:relative;\">특수한 목적의 IPv4 주소<a href=\"#%ED%8A%B9%EC%88%98%ED%95%9C-%EB%AA%A9%EC%A0%81%EC%9D%98-ipv4-%EC%A3%BC%EC%86%8C\" aria-label=\"특수한 목적의 ipv4 주소 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 클래스를 나누고 그 클래스 내부에서도 특수한 용도를 위해 미리 예약해놓은 IPv4 주소들이 있다. 이 예약 주소들은 <a href=\"https://tools.ietf.org/html/rfc5735\" target=\"_blank\" rel=\"nofollow\">RFC 5735</a>에 의해 정의되어 있으며 목적에 벗어난 용도로 할당 받는 것이 불가능하다. 이 포스팅에서는 간략하게 대표적인 몇가지만 설명하고 넘어가겠다.</p>\n<table>\n<thead>\n<tr>\n<th>클래스</th>\n<th>주소</th>\n<th>용도</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0.0.0.0 ~ 0.255.255.255</td>\n<td>할당되지 않은 메타 주소</td>\n</tr>\n<tr>\n<td>A</td>\n<td>10.0.0.0 ~ 10.255.255.255</td>\n<td>대규모 사설 네트워크</td>\n</tr>\n<tr>\n<td>A</td>\n<td>100.64.0.0 ~ 100.127.255.255</td>\n<td>Carrier-grade NAT용 주소</td>\n</tr>\n<tr>\n<td>A</td>\n<td>127.0.0.0 ~ 127.255.255.255</td>\n<td>자기 자신. 일명 루프백(Lookback)</td>\n</tr>\n<tr>\n<td>C</td>\n<td>192.168.0.0 ~ 192.168.255.255</td>\n<td>소규모 사설 네트워크. 공유기를 쓰면 많이 보인다.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"우리-집에서-구글까지의-경로를-보자\" style=\"position:relative;\">우리 집에서 구글까지의 경로를 보자<a href=\"#%EC%9A%B0%EB%A6%AC-%EC%A7%91%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EB%B3%B4%EC%9E%90\" aria-label=\"우리 집에서 구글까지의 경로를 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 드디어 이 포스팅의 메인 내용을 시작할 수 있게 되었다.</p>\n<p>집에서 맥북을 열고 웹 브라우저에 <code class=\"language-text\">google.com</code>을 입력하면 웹 브라우저는 전 세계 어딘가에 있는 구글 서버에 페이지를 보내달라는 요청을 보낼 것이다. 하지만 필자의 맥북과 구글 서버까지는 직접 연결되어 있지 않다.</p>\n<p>그렇기 때문에 필자가 보낸 요청은 구글 서버까지 가기 위해 여기저기를 들러가면서 험난한 여정을 겪는다. 그렇다면 이제 필자가 집에서 보낸 요청이 구글 서버까지 도달하기 전에 어디를 들리는 지 한번 알아보자.</p>\n<h3 id=\"traceroute-사용하기\" style=\"position:relative;\">traceroute 사용하기<a href=\"#traceroute-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"traceroute 사용하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 Unix 기반의 MacOS를 사용하고 있기 때문에 MacOS 기준으로 설명하겠다. <code class=\"language-text\">traceroute</code> 유틸리티를 사용하면 내가 보낸 패킷이 어떤 경로를 통해 구글 서버까지 도달하는 지 알아볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">traceroute</span> <span class=\"token parameter variable\">-q</span> <span class=\"token number\">1</span> google.com\n<span class=\"token function\">traceroute</span> to google.com <span class=\"token punctuation\">(</span><span class=\"token number\">172.217</span>.25.196<span class=\"token punctuation\">)</span>, <span class=\"token number\">64</span> hops max, <span class=\"token number\">52</span> byte packets\n <span class=\"token number\">1</span>  <span class=\"token number\">192.168</span>.25.1 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.25.1<span class=\"token punctuation\">)</span>  <span class=\"token number\">3.077</span> ms\n <span class=\"token number\">2</span>  <span class=\"token number\">211.0</span>.0.0 <span class=\"token punctuation\">(</span><span class=\"token number\">211.0</span>.0.0<span class=\"token punctuation\">)</span>  <span class=\"token number\">5.928</span> ms\n <span class=\"token number\">3</span>  <span class=\"token number\">100.71</span>.51.17 <span class=\"token punctuation\">(</span><span class=\"token number\">100.71</span>.51.17<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.693</span> ms\n <span class=\"token number\">4</span>  <span class=\"token number\">10.44</span>.255.240 <span class=\"token punctuation\">(</span><span class=\"token number\">10.44</span>.255.240<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.328</span> ms\n <span class=\"token number\">5</span>  <span class=\"token number\">10.222</span>.18.10 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.18.10<span class=\"token punctuation\">)</span>  <span class=\"token number\">7.319</span> ms\n <span class=\"token number\">6</span>  <span class=\"token number\">10.222</span>.16.201 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.16.201<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.883</span> ms\n <span class=\"token number\">7</span>  <span class=\"token number\">10.222</span>.16.41 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.16.41<span class=\"token punctuation\">)</span>  <span class=\"token number\">3.853</span> ms\n <span class=\"token number\">8</span>  <span class=\"token number\">72.14</span>.204.124 <span class=\"token punctuation\">(</span><span class=\"token number\">72.14</span>.204.124<span class=\"token punctuation\">)</span>  <span class=\"token number\">34.784</span> ms\n <span class=\"token number\">9</span>  <span class=\"token number\">108.170</span>.242.193 <span class=\"token punctuation\">(</span><span class=\"token number\">108.170</span>.242.193<span class=\"token punctuation\">)</span>  <span class=\"token number\">37.751</span> ms\n<span class=\"token number\">10</span>  <span class=\"token number\">108.170</span>.233.79 <span class=\"token punctuation\">(</span><span class=\"token number\">108.170</span>.233.79<span class=\"token punctuation\">)</span>  <span class=\"token number\">36.643</span> ms\n<span class=\"token number\">11</span>  nrt13s50-in-f4.1e100.net <span class=\"token punctuation\">(</span><span class=\"token number\">172.217</span>.25.68<span class=\"token punctuation\">)</span>  <span class=\"token number\">35.416</span> ms</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>두번째 홉은 필자의 디테일한 위치가 노출될 수 있는 공인 IP를 출력하므로 보안상 마스킹했다. 사실 필자가 사용하고 있는 ISP(Internet Service Provider)인 SK 브로드밴드는 관리 지역 내 IP 주소 임대기간이 1시간이기도 하고 필자는 인구밀도가 높은 곳에 거주하고 있으므로 저 IP 주소가 노출된다고 해도 위치를 알기는 쉽지 않지만 그래도 불안하기 때문에 가린다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 83.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMEAQIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHj2K8ubVZWbTBGD//EABwQAAEFAAMAAAAAAAAAAAAAAAIAAQMQERIiMf/aAAgBAQABBQIe0k4MNZiMuSdqPxf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABAwUAAAAAAAAAAAAAAAABABARAiBhcYH/2gAIAQEABj8CGShE9abKNN//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBhQVHw/9oACAEBAAE/IamoDQQdcQdb35xC3XrEofcJ8vbDU//aAAwDAQACAAMAAAAQHP8Agv/EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAwEBPxAkcf/EABcRAAMBAAAAAAAAAAAAAAAAAAEgITH/2gAIAQIBAT8Q0xP/xAAeEAEAAQMFAQAAAAAAAAAAAAABEQAhQRAxUXGh8P/aAAgBAQABPxALIqgsdFTohYWA+aOgUIJbZpMtYnYh+zScBuJWHRXk6F//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meme\" title=\"\" src=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg\" srcset=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/0913d/meme.jpg 160w,\n/static/6d8c691361160ceec51f9bdd1c9b19f0/cb69c/meme.jpg 320w,\n/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>누가 우리 집 알아내면 어떡해...</small>\n</center>\n<p><code class=\"language-text\">traceroute</code>의 결과로 출력되는 하나의 row를 홉(Hop)이라고 부르는데, 필자의 집에서부터 구글의 서버까지 필자의 패킷이 거쳐간 경로를 의미하는 것이다. 홉의 IP 주소 오른쪽에 출력된 시간은 홉이 응답한 시간을 의미한다. 재밌는 것은 8번 홉부터 갑자기 응답 시간이 한자리 수에서 두자리 수로 확 뛴다는 것인데, 여기서부터는 패킷이 국내를 벗어나 해외로 빠져나간 것이다.</p>\n<p>그렇다면 이 IP 주소들은 어디를 의미하는 걸까?</p>\n<h3 id=\"좀-더-자세히-알아보자\" style=\"position:relative;\">좀 더 자세히 알아보자!<a href=\"#%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"좀 더 자세히 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 이 IP 주소들이 각각 어디를 의미하는지, 어떤 회사가 소유하고 있는 어떤 디바이스인지 좀 더 자세히 알아보고 싶다. 간단하게 알아보는 방법은 <code class=\"language-text\">whois</code> 유틸리티를 사용하는 방법이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ whois <span class=\"token number\">172.217</span>.25.68\nNetRange:       <span class=\"token number\">172.217</span>.0.0 - <span class=\"token number\">172.217</span>.255.255\nCIDR:           <span class=\"token number\">172.217</span>.0.0/16\nNetName:        GOOGLE\nNetHandle:      NET-172-217-0-0-1\nParent:         NET172 <span class=\"token punctuation\">(</span>NET-172-0-0-0-0<span class=\"token punctuation\">)</span>\nNetType:        Direct Allocation</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>MacOS의 <code class=\"language-text\">whois</code> 유틸리티는 5개의 <code class=\"language-text\">whois</code> 서비스에 요청을 보내 받아온 결과를 출력해주는 방식이다. 참고로 대한민국의 <code class=\"language-text\">whois</code> 서비스는 KISA(한국인터넷진흥원)의 <a href=\"https://xn--c79as89aj0e29b77z.xn--3e0b707e/kor/main.jsp\" target=\"_blank\" rel=\"nofollow\">후이즈검색</a>에서 제공하고 있다.</p>\n<table>\n<thead>\n<tr>\n<th>whois 도메인</th>\n<th>담당 구역</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>whois.arin.net</td>\n<td>아메리카</td>\n</tr>\n<tr>\n<td>whois.nic.mil</td>\n<td>미국(현재 작동안함)</td>\n</tr>\n<tr>\n<td>whois.ripe.net</td>\n<td>유럽</td>\n</tr>\n<tr>\n<td>whois.apnic.net</td>\n<td>아시아 태평양</td>\n</tr>\n<tr>\n<td>whois.jprs.jp</td>\n<td>일본</td>\n</tr>\n</tbody>\n</table>\n<p>그러나 <code class=\"language-text\">whois</code> 서비스는 기본적으로 도메인이 등록된 IP 주소의 소유주에 대한 정보를 보여주는 서비스라서 도메인이 등록되지 않은 게이트웨이나 라우터에 대한 정보는 나오지 않는다. 그래서 필자는 <a href=\"https://www.ip2location.com/demo\" target=\"_blank\" rel=\"nofollow\">IP2Location</a>이라는 사이트를 이용하여 한번 찾아볼 것이다. <small><strike>(근데 이것도 잘 나올 것 같지는 않다)</strike></small></p>\n<p>먼저 첫 번째 홉인 <code class=\"language-text\">192.168.25.*</code>은 필자 집의 공유기에서 할당해준 사설 IP이고 두 번째 홉은 ISP가 필자에게 부여해준 공인 IP이나, 보안 상 마스킹 했으므로 세 번째 홉인 <code class=\"language-text\">100.71.51.17</code>부터 한번 살펴보겠다.</p>\n<h4 id=\"100715117\" style=\"position:relative;\">100.71.51.17<a href=\"#100715117\" aria-label=\"100715117 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<img src=\"https://images.ip2location.com/18399031.png\">\n<p>앗 역시 생각보다 정보가 별로 안나왔다. 대신 해당 IP 주소가 Carrier Grade NAT에 사용된다는 정보를 출력했다. 위에서 설명한 대로 A 클래스의 <code class=\"language-text\">100.64.0.0 - 100.127.255.255</code> 대역이 Carrier Grade NAT에 사용된다는 것은 이미 표준으로 정의된 것이기 때문에 사실 뻔한 결과를 출력한 것이다. 그럼 Carrier Grade NAT이 뭐길래 중간에 필자의 패킷이 들렀다 가는걸까?</p>\n<p>우선 NAT은 Network Address Translation의 약자로 대개 사설 네트워크에 속한 여러 개의 호스트가 하나의 공인 IP를 사용하여 인터넷에 접속하기 위한 기술이다.</p>\n<p>필자는 SK 브로드밴드의 IPTV나 Wi-Fi 등 여러 개의 서비스를 사용 중이다. 그렇다고 IP 주소를 가입한 서비스마다 나눠주기에는 주소가 매우 부족한 상황이기 때문에 SK 브로드밴드는 필자에게 단 하나의 공인 IP 주소를 할당해주고 NAT 기능이 있는 공유기를 집에 설치해, 필자의 집에 사설 네트워크(Private Network)를 구축해준 것이다.</p>\n<p>Carrier Grade NAT(CGN)은 NAT의 스케일 큰 버전이라고 생각하면 된다. 필자의 집에 설치된 공유기는 필자의 집 내부에 사설망을 구성하는 데에 그치지만 CGN은 백본망에 구성되는 NAT이다. 쉽게 말하면 거대 공유기랄까…?</p>\n<p>필자가 알기로는 원래 스마트폰의 LTE같이 모바일 망에 직접 연결되는 무선 인터넷 디바이스를 NAT로 관리하기 위해 백본망에서 CGN을 운영한다고 알고 있었는데, 왜 집에 있는 공유기를 사용 중인 필자의 패킷이 CGN을 타는지는 잘 모르겠다. SK 브로드밴드가 IPv4가 많은 편은 아니긴 한데… 너무 모자라서 유선 인터넷에도 CGN을 달았나…? <small>(혹시 아시는 분은 좀 알려주세요…궁금해요…)</small></p>\n<h4 id=\"1044255240--102221641\" style=\"position:relative;\">10.44.255.240 ~ 10.222.16.41<a href=\"#1044255240--102221641\" aria-label=\"1044255240  102221641 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>여기서부터는 A클래스 사설망에 할당되는 IP이므로, 추측하건데 SK 브로드밴드의 백본망 내부인 것 같다. ISP들은 자신들의 망 구조를 자세히 알려주지 않기 때문에 정확히 어디에 위치한 노드인지는 알 수 없지만 SK 브로드밴드의 망 구조 상 대략 이쯤 되는 것 같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/40e14dfe7f089d802c42a2c0fcca55dc/82158/skb-network.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7zAAAO8wEcU5k6AAAC4UlEQVR42o1U2VLbMBT1T7b9hvITnfaxfEOf+sBMH2CmdPrQklAYIA2BAA5LiB07i5PYsS1blhdJ1lI5CWmZ0uXOtcf23HN1dO6RNcaY7wcQJiiJOOfy9xBCXT9z9VqFFgLQ0dv+xMrjAc6CZfkat34WT3SVmut6EIaCFZxRRpCg+UO1WCYjmSwKSZnEWFI86RuXZy3f9yvweDTs9y1C6BLCiyjPEsYq/iWnQTRAs36ZRuNRo4CeJOS+3TLPmmmWCSE0lMQ3ndMkiSSJBEWszFA845xhUtiT66l7J7MsRtHXky0XjBX5JIHpzDFMs6RUM00zgYoDXyixFKhattvT68efQGzzOHKC7jTolpSAyI8A2P+48+zF893dXc2zmpPhLaalwJDnkeCl5ET1gvOmcbNt2b3Mcw7Pt+/63+dgWGtshX4wvb/d3tkJgkBLAzPyTSlKxVmQhONY8lzyAheOM+0MBl0KgsncHrqXOYYzd9Y3jMvDb283Ny8u2lrnWnecYcWWKXyqZFoozQQnC9GoTBHK01rjveMZBDOKcau+93Jj4+DgQLu9aiDPkFJVF2osqwlyrPBVx7KUaUIZHU1vUAowydVABARZXk1UQ9C3jOssRZyxlWB8SWERrJQIqsYgmWcF8oDD1ZckXugqtL5lX1x1ur1727bYAi9o9ggcBVk8B54dzYcq4XzEQ285Fa2nt6am3jqqda+vOF9MS+BHdsQFQ5AkgCaAwFDd1ZeVPSfW1ah7enZUv9XblRsrk8yXDhPiSUf/4u3poNM7369/3mk3TyqlCMigu6KwwAuxtvlDrk9V4I2RP7Z7N4O+Ueax2jFOQ8u8j+LYdd1/rIzAIOwdH2+/M/UmKwuc50r52t6XN69f1eq18XicpumftqDpescP4/ZFq9v+oErUOUm9oedYp82GYfTyvHj6D7EEO47jujPfdVDoCFpItrLH/4S2EqYkPA1Z4qnkGCmKf1lwDf4BBWRoCVFWkuUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"skb network\" title=\"\" src=\"/static/40e14dfe7f089d802c42a2c0fcca55dc/6af66/skb-network.png\" srcset=\"/static/40e14dfe7f089d802c42a2c0fcca55dc/69538/skb-network.png 160w,\n/static/40e14dfe7f089d802c42a2c0fcca55dc/72799/skb-network.png 320w,\n/static/40e14dfe7f089d802c42a2c0fcca55dc/6af66/skb-network.png 640w,\n/static/40e14dfe7f089d802c42a2c0fcca55dc/82158/skb-network.png 696w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>여기서 부터 다른 국내 ISP와 연결되거나 해외망으로 연결된다</small>\n</center>\n<h4 id=\"7214204124--10817023379\" style=\"position:relative;\">72.14.204.124 ~ 108.170.233.79<a href=\"#7214204124--10817023379\" aria-label=\"7214204124  10817023379 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<img src=\"https://images.ip2location.com/60603511.png\">\n<p>드디어 구글이 소유하고 있는 디바이스가 나타났다! 근데 위치가 네덜란드 암스테르담이다. 구글은 미국 캘리포니아에 있는 회사인데 왜 뜬금없이 암스테르담이 출현했는지 모르겠다. 뭔가 이상하기 때문에 유럽을 담당하는 <code class=\"language-text\">whois</code> 서비스인 <code class=\"language-text\">whois.ripe.net</code>에 물어봐야겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">whois <span class=\"token parameter variable\">-h</span> whois.ripe.net <span class=\"token number\">72.14</span>.204.124\n\ninetnum:        <span class=\"token number\">69.194</span>.128.0 - <span class=\"token number\">76.255</span>.255.255\nnetname:        NON-RIPE-NCC-MANAGED-ADDRESS-BLOCK\ndescr:          IPv4 address block not managed by the RIPE NCC</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>역시 여기서 관리하고 있는 주소가 아니라고 한다. 그렇다면 아메리카를 담당하는 <code class=\"language-text\">whois.arin.net</code>에 물어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">whois <span class=\"token parameter variable\">-h</span> whois.arin.net <span class=\"token number\">72.14</span>.204.124\n\nNetRange:       <span class=\"token number\">72.14</span>.192.0 - <span class=\"token number\">72.14</span>.255.255\nCIDR:           <span class=\"token number\">72.14</span>.192.0/18\nNetName:        GOOGLE\nNetHandle:      NET-72-14-192-0-1\nParent:         NET72 <span class=\"token punctuation\">(</span>NET-72-0-0-0-0<span class=\"token punctuation\">)</span>\nNetType:        Direct Allocation\nOriginAS:\nOrganization:   Google LLC <span class=\"token punctuation\">(</span>GOGL<span class=\"token punctuation\">)</span>\nRegDate:        <span class=\"token number\">2004</span>-11-10\nUpdated:        <span class=\"token number\">2012</span>-02-24\nRef:            https://rdap.arin.net/registry/ip/72.14.192.0</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>오 이번에는 제대로 된 정보가 나왔다. <code class=\"language-text\">72.14.204.124</code> 주소를 가진 디바이스는 구글이 소유하고 있는 무언가인듯하다. IP2Location은 이제 필자에게 신뢰를 잃었기 때문에 가차없이 버리기로 하고 <a href=\"https://db-ip.com\" target=\"_blank\" rel=\"nofollow\">DB IP</a>라는 새로운 솔루션을 사용하겠다.</p>\n<p>DB IP를 사용하여 검색해보니 위치가 <code class=\"language-text\">Ashburn, Loudoun, Virginia, United States</code>로 잡히고 Connection Type은 <code class=\"language-text\">Hosting</code>으로 되어있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6aa63397ba4132502a4856ab76647df1/a6d66/db-ip-result.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACbUlEQVR42p1UiW7bMAz1/3/RPmEYVgzoiqJJ3DSJj/iWLcm35TeSbgK0w4BiAmjrIJ/J9yh7tu2Q5QXqpsG0LJhmtvlu4zRhcQ4t+aVZDvbn9XZOvtPmN1PsQmtvGEcBa7ueHBfwel4c1tXBkXGwW1c0VYUiDqGyK+osRl0msCpHkV/RkOWHHarrBZ7WGkmSYCQgDsz0hLIDzABoMrdCRtso6DyWoCI8IvD3CN5ekQc0Px3hv/xCHO/g9X0vYDwcRavGoOtHLAQ0O0Dw6NHVBVQZUaYJmiTA8fWAlx8PODz+RhQH+Lk/4PvxzIAD8jyHUgoL8aCp/Jk4+TyMLhClPqLIp7ID6PSM2H/Cw2GPMDrDP+7x7SWEt1KZjnlyzNsqZTN32/563+87jdZUMGUGU6VEQYGkyPCc5NhfU/hhiMcghVdWNVJSOUkzaNOK0uM0i7GK/GYFOWsWj8F5dBOgiKk6pcrojHf5TDI0jYUlMN4c2gHzuAiIKhWdGQEYhhGXS4Asy2StDcW0PVaq4vYRrs7jya56RWQS2XwuD7i2W9BTsUNi8y0jEo+5rustS2MZ0H7geb0BRjZF2SvZDEwMNTT3ednXMudO0NpQI0+ytgTIgv4FaK1Boxo09OWyKqVE3WjibpR28auTZL9SDx3f3nA6n4VPY4x0Rtu20h13QKU75EpTCYacLHGjxbnrOnnbrhVnziwl4RhAMqS3UrUItdDNugPOROr8Tuy/7AYYhJGII6JQ+UVRygfYbn4evjj4J8BXlG+WiCQVWPl5rM59FOUrg0WJouguBItSlFuG7n8A+dZw2bfSlvdm/6zyH6Vx13b7DHTLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"db ip result\" title=\"\" src=\"/static/6aa63397ba4132502a4856ab76647df1/6af66/db-ip-result.png\" srcset=\"/static/6aa63397ba4132502a4856ab76647df1/69538/db-ip-result.png 160w,\n/static/6aa63397ba4132502a4856ab76647df1/72799/db-ip-result.png 320w,\n/static/6aa63397ba4132502a4856ab76647df1/6af66/db-ip-result.png 640w,\n/static/6aa63397ba4132502a4856ab76647df1/d9199/db-ip-result.png 960w,\n/static/6aa63397ba4132502a4856ab76647df1/21b4d/db-ip-result.png 1280w,\n/static/6aa63397ba4132502a4856ab76647df1/a6d66/db-ip-result.png 2070w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>그 이후 9번 홉인 <code class=\"language-text\">108.170.242.193</code>과 10번 홉인 <code class=\"language-text\">108.170.233.79</code> 또한 버지니아 주에 위치한 호스팅 서버인 것으로 표시되었다. 여기에 도대체 뭐가 있길래 다 여기에 옹기종기 모여있는걸까…?</p>\n<p>조금 구글링을 해보니 구글이 Ashburn에서 일할 사람을 찾고 있는 공고를 발견했다. 또한 같은 버지니아 주의 옆 동네인 Sterling과 Reston으로도 채용공고가 많이 올라와있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fa825b93f209cad6a735204a4c4504b1/6d2da/google-hiring.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVR42pVTa4/aMBDM//9bfOJaaGlVroU8DkggJI4d8g6JPd11G3ToDl270mhtxxmPd9aOAWC6DmhqtJSLoiCU6NoaGCuYK0GPMMb8Exzig3ie4dviJxKZY/3jO758XUGle6D2oQsf0D2mMHgcN8K4PuJZCjQkNCutZkjKSW4wauLtDCKh0Q0G/UD7pbZ73lVY1zUu6oKWcpZlUOWAS20oa2SFRl5rmms7z2ld0lrd9CznXZVOR3UTmYBSCkKkyKuBYFA0TGpuYyZTNOZDOpZJ0fe9xfV6BfOM4whHa22lTjUwd3P9Som5Yboek7Rta3PTNBiGAU6appjNZlitVlgul3h6+mTxebGAHwSYz+fw/QBaxBjb5o8p5rE1TlVV2Gw2cF0PnfLQn5do0l8Iwwj7/R673Q7n8/mhq28I2RTXdXE4HMBqw/CAKAwhpbQ/cElel+WjcLiop9PJqhBCWNKMyKZxkiT225QZURTheDwijmNrJh94p3C73cLzPAvfcy1eXgK7HlAdeX29XlsSPpzVMzETshF3Ctly7j8pFfKcWkdViEWF/FIip9O5xuxgWZa2RT68MsudbO+oBSp6LYqecc+v4m9v/U/8BqA969jZ9pErAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"google hiring\" title=\"\" src=\"/static/fa825b93f209cad6a735204a4c4504b1/6af66/google-hiring.png\" srcset=\"/static/fa825b93f209cad6a735204a4c4504b1/69538/google-hiring.png 160w,\n/static/fa825b93f209cad6a735204a4c4504b1/72799/google-hiring.png 320w,\n/static/fa825b93f209cad6a735204a4c4504b1/6af66/google-hiring.png 640w,\n/static/fa825b93f209cad6a735204a4c4504b1/6d2da/google-hiring.png 936w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>날 뽑아줘요...엉엉</small>\n</center>\n<p>공고를 쭉 스캔해보니 주로 Network Engineer, Administrative Business Partner, Data Center, Google Cloud와 같은 키워드가 많이 보이는 걸로 봐서는 아무래도 여기에 구글 데이터센터가 있나보다. 좀 더 정보를 찾아보니 <a href=\"https://wtop.com/business-finance/2019/02/google-to-double-its-virginia-workforce/\" target=\"_blank\" rel=\"nofollow\">구글이 버지니아에서 일하는 인원을 두배 늘린다는 기사</a>도 올해 2월에 작성되었었다.</p>\n<p>여기에 구글 데이터센터가 있는 것은 아무래도 확실한 것 같다.</p>\n<h4 id=\"1722172568googlecom\" style=\"position:relative;\">172.217.25.68(google.com)<a href=\"#1722172568googlecom\" aria-label=\"1722172568googlecom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0d61b84bb06d96dea7054db728e40209/6f175/final.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACRElEQVR42l1TaW/TQBD1//8bCIpA8IVSKqRyiCI1JE3cxCaU1Hadqz7i+r7Wx2NmkxTESOPdbHbfvDdvV0nzHJ6/Q5QkaNoWoqEUDWpK0dDYCLRdh4T2bR0PYZKiEi2qWqCsa0rxlBWdUfKiwPbBQZKm6PoOWVGhanpwdH2Pltb4l+nu8F638EEzcaEZWBg6luYMFz8tnP5a4d3cxldzC6UoS7ieR6yEBImJQZxkSJIYNTE4xnjt47lq4ouqQtd/QLu5wmQywtvJLU5mFv1n4Ox2BSXLMnBKRl2PXVJTCgRZg7DoiOUecGZa+DZRcTe/xtYYYjq6wqfvI7yZmXitWXh5Y+L895ok5wVy6k9D/eqoV49hhLKqpcyWPn2/RzSMBaaDS6jE6uNYw9m1jlfjBV4Q0AnlM2J4ygxZahRFiONYAhbUUx6PcSCIpetgbi8xWTn4fO/j0nAwXO8wolZwDmwX+taHUhOgTHKJXWVG7Cpnd5jzyAp8P5B7OchoMrAhGS3+Vu+hhFFMLrsyM2LH1+FYpCgrkl9JUDbowXFITSzP8j428F8VHAp/2JSS3JZz6icfZtm7IKBDiVznAildreagglsVhiH+Dwl47Wu4i225MPSmsJKVnA9cFXa6OTCqYC+XMK17WbAlqZ7nyyLHWyIBpSlZTC8hhSAZUR4jLTL0xDCvSwRFiFwUEsBxXKQHmfyaguBRmsmsnwAZPaSrwr0J2W0aE9ok6MmBzLbjDTapI+eO66Kinu4BBV2xUAIeHwW34g91epBEkzIrowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"final\" title=\"\" src=\"/static/0d61b84bb06d96dea7054db728e40209/6af66/final.png\" srcset=\"/static/0d61b84bb06d96dea7054db728e40209/69538/final.png 160w,\n/static/0d61b84bb06d96dea7054db728e40209/72799/final.png 320w,\n/static/0d61b84bb06d96dea7054db728e40209/6af66/final.png 640w,\n/static/0d61b84bb06d96dea7054db728e40209/d9199/final.png 960w,\n/static/0d61b84bb06d96dea7054db728e40209/21b4d/final.png 1280w,\n/static/0d61b84bb06d96dea7054db728e40209/6f175/final.png 2036w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>자 드디어 마지막 <code class=\"language-text\">google.com</code> 도메인의 종착점인 <code class=\"language-text\">172.217.25.68</code> 주소를 가진 서버이다. 이 주소도 역시 DB IP를 통해 검색해본 결과 일본에 있는 서버라고 한다.</p>\n<p>사실 한국에 있는 필자가 미국에 있는 서버에서 계속 정보를 받는 것보다 가까운 일본에 있는 서버에서 정보를 받는 게 훨씬 빠르기 때문에 이건 당연하긴 하다. 필자의 패킷은 태평양을 건너 미국에 갔다가 다시 일본으로 건너가는 기묘한 루트를 그리고 있었다는 것이다…</p>\n<p>자세하게 파고 들어가면 왜 이런 루트를 그리는지 알 수 있겠지만 너무 포스팅이 길어질 것 같아 여기까지만 파보겠다. <small>(다음에 좀 더 자세히 파보는 걸로…)</small>\n늘 아무 생각없이 접속하던 구글도 자세히 들여다보면 이렇게 다양한 경로를 통해 나에게 전달된다. 새삼 신기한 사실이다.</p>\n<p>이상으로 우리 집에서 구글까지 가는 길 포스팅을 마친다.</p>","fields":{"slug":"20190622-my-home-to-google","path":"/2019/06/22/my-home-to-google/","lang":"ko"},"frontmatter":{"title":"우리 집에서 구글까지 가는 길","subTitle":"매일 사용하는 인터넷, 그 속을 들여다보자","date":"Jun 22, 2019","categories":["프로그래밍","네트워크"],"tags":["네트워크","Network","IP","TCP","IP 클래스","traceroute","인터넷","네트워크 기초","기술면접"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/b9d22b130aacc561550df26f133f469d/d803c/network-structure.png","srcSet":"/static/b9d22b130aacc561550df26f133f469d/d803c/network-structure.png 320w,\n/static/b9d22b130aacc561550df26f133f469d/2a1fd/network-structure.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/b9d22b130aacc561550df26f133f469d/fc5c5/network-structure.webp 320w,\n/static/b9d22b130aacc561550df26f133f469d/e9225/network-structure.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/b9d22b130aacc561550df26f133f469d/01fb2/network-structure.png","srcSet":"/static/b9d22b130aacc561550df26f133f469d/01fb2/network-structure.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/b9d22b130aacc561550df26f133f469d/b384d/network-structure.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"4cac42eb-8760-52a9-a0d2-720bd7c06bf1","tableOfContents":"<ul>\n<li>\n<p><a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C\">var 키워드</a></p>\n<ul>\n<li><a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\">변수의 중복 선언이 가능하다.</a></li>\n<li><a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4\">호이스팅 당한다.</a></li>\n<li><a href=\"#%ED%95%A8%EC%88%98-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84\">함수 레벨 스코프</a></li>\n<li><a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C-%EC%83%9D%EB%9E%B5-%EA%B0%80%EB%8A%A5\">var 키워드 생략 가능</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%EB%93%B1%EC%9E%A5\">let과 const 키워드의 등장</a></p>\n</li>\n<li>\n<p><a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\">let과 const 키워드의 특징</a></p>\n<ul>\n<li><a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\">변수의 중복 선언이 불가능하다.</a></li>\n<li><a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4-1\">호이스팅 당한다?</a></li>\n<li><a href=\"#%EB%B8%94%EB%A1%9D-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\">블록 레벨 스코프를 사용한다</a></li>\n<li><a href=\"#let-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%8A%94-%EC%83%9D%EB%9E%B5%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\">let, const 키워드는 생략이 불가능하다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\">const 키워드의 특징</a></p>\n<ul>\n<li><a href=\"#%EC%83%81%EC%88%98%EB%A5%BC-%EC%84%A0%EC%96%B8%ED%95%A0-%EB%95%8C-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\">상수를 선언할 때 사용한다</a></li>\n<li><a href=\"#%EB%B0%98%EB%93%9C%EC%8B%9C-%EC%84%A0%EC%96%B8%EA%B3%BC-%EB%8F%99%EC%8B%9C%EC%97%90-%EC%B4%88%EA%B8%B0%ED%99%94-%ED%95%B4%EC%A4%98%EC%95%BC-%ED%95%9C%EB%8B%A4\">반드시 선언과 동시에 초기화 해줘야 한다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 JavaScript ES6에서 추가되었던 과  키워드에 대해서 자세히 포스팅하려고 한다. 부끄럽지만 지금까지 필자는 과 는 호이스팅이 되지 않는다고 생각하고 있었다. 하지만 얼마 전 친구와 대화하던 중에 과 도 호이스팅 대상체이지만 TDZ라는 특수한 영역을 사용하여 참조를 방어하는 것임을 알게 되었다. 다른 분: 근데 와 다르게 이랑 는 왜 참조 에러가 발생하는 건가요? 필자: 이랑 는 호이스팅 안될 거에요. 친구: 이랑 도 호이스팅 되는데…? TDZ에 들어가 있어서 참조 에러 나는거야 필자: 된다고??? TDZ…","html":"<p>이번 포스팅에서는 JavaScript ES6에서 추가되었던 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code> 키워드에 대해서 자세히 포스팅하려고 한다. 부끄럽지만 지금까지 필자는 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>는 호이스팅이 되지 않는다고 생각하고 있었다. 하지만 얼마 전 친구와 대화하던 중에 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>도 호이스팅 대상체이지만 TDZ라는 특수한 영역을 사용하여 참조를 방어하는 것임을 알게 되었다.</p>\n<hr>\n<p><strong>다른 분</strong>: 근데 <code class=\"language-text\">var</code>와 다르게 <code class=\"language-text\">let</code>이랑 <code class=\"language-text\">const</code>는 왜 참조 에러가 발생하는 건가요?</p>\n<p><strong>필자</strong>: <code class=\"language-text\">let</code>이랑 <code class=\"language-text\">const</code>는 호이스팅 안될 거에요.</p>\n<p><strong>친구</strong>: <code class=\"language-text\">let</code>이랑 <code class=\"language-text\">const</code>도 호이스팅 되는데…? TDZ에 들어가 있어서 참조 에러 나는거야</p>\n<p><strong>필자</strong>: 된다고??? TDZ는 또 뭐여?</p>\n<hr>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/32cc521a6a3381f1b8091672aa70ed2c/20e5d/no-yes.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 141.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAcABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF9MajFAplbjnfJB//EAB0QAAIBBAMAAAAAAAAAAAAAAAECAwAEEhMhIiP/2gAIAQEAAQUCuThLBKWETkLq9EORL4ncgPSVhHwiKUVjHdB2Nf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACEQAAEDBAEFAAAAAAAAAAAAAAEAAhESITFBAxAiMlGB/9oACAEBAAY/AjS4icwi52kbb0uR7offxRr7T6UY+KCU5ojoCWzpGnVllf/EABwQAQADAAMBAQAAAAAAAAAAAAEAESExQVFhsf/aAAgBAQABPyFSECwu4pOgof2DBfW2bhiKE1O7yDQcBsjLbPVmOaX6Q77a1KALxhtwriHl5csfXBfkE2P/2gAMAwEAAgADAAAAEJAHDP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB4QAQEAAgIDAQEAAAAAAAAAAAERACExYUFxgVGx/9oACAEBAAE/EAemkY15/swDPZIu09o4KaGQBLbfuFHoCKyE+HVxpMSGz+DNn3HidEPIB5mPkWmyXfnjr2TAvqLNajG678OLBQQqA43ciABEpEhLud5ZSrzJUys2egz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no yes\" title=\"\" src=\"/static/32cc521a6a3381f1b8091672aa70ed2c/20e5d/no-yes.jpg\" srcset=\"/static/32cc521a6a3381f1b8091672aa70ed2c/0913d/no-yes.jpg 160w,\n/static/32cc521a6a3381f1b8091672aa70ed2c/cb69c/no-yes.jpg 320w,\n/static/32cc521a6a3381f1b8091672aa70ed2c/20e5d/no-yes.jpg 450w\" sizes=\"(max-width: 450px) 100vw, 450px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>호...호이스팅이 된다고...?</small>\n</center>\n<p>이런 부끄러운 일을 겪고 이번 기회에 변수 선언 키워드들에 대해 제대로 공부도 할겸 이번 포스팅을 작성하게 되었다.</p>\n<h2 id=\"var-키워드\" style=\"position:relative;\">var 키워드<a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C\" aria-label=\"var 키워드 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">var</code>키워드는 JavaScript ES5까지 변수를 선언할 수 있는 키워드로 사용되었다. <code class=\"language-text\">var</code> 키워드는 다른 언어랑 조금 다른 방식으로 작동했기에 다른 언어를 사용하다가 JavaScript로 처음 입문한 개발자들의 멘탈을 털어버리는 데 혁혁한 공을 세웠다.</p>\n<p><code class=\"language-text\">var</code> 키워드의 특징은 다음과 같다.</p>\n<h3 id=\"변수의-중복-선언이-가능하다\" style=\"position:relative;\">변수의 중복 선언이 가능하다.<a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"변수의 중복 선언이 가능하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Evan2</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이 코드는 변수 선언부가 가까이 붙어있으니 한눈에 “아 name이 두번 선언되었구나”라고 한눈에 알 수 있지만 첫번째 선언부와 두번째 선언부 사이에 500줄의 코드가 있다면 이제 문제가 심각해진다. 이런 변수의 중복 선언 허용은 의도하지 않은 변수의 변경이 일어날 가능성이 충분하다.</p>\n<h3 id=\"호이스팅-당한다\" style=\"position:relative;\">호이스팅 당한다.<a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4\" aria-label=\"호이스팅 당한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>호이스팅은 쉽게 얘기해서 스코프 안에 있는 선언들을 모두 스코프의 최상단으로 끌어올리는 것을 의미한다. 호이스팅은 JavaScript 인터프리터가 코드를 해석할 때 변수 및 함수의 선언 처리, 실제 코드 실행의 두단계로 나눠서 처리하기 때문에 발생하는 현상인데 이게 또 굉장히 사람 헷갈리게 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undeinfed</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>필자도 처음 JavaScript를 시작했을 때 “아니 이게 왜 참조 에러가 안나지?”라고 생각했었다. 사실 호이스팅이 발생하면서 이 코드는 아래와 같은 방식으로 동작한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 선언부를 제일 위로 끌어올린다.</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nname <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 이건 JavaScript 인터프리터가 내부적으로 코드를 이런 방식으로 처리한다는 거지 실제 코드 라인이 변경되거나 하는건 아니다.</p>\n<p>어쨌든 이 호이스팅을 당하게 되면 <small><strike>(호이스팅은 왠지 “당한다”는 표현이 잘 어울린다. 나도 여러번 당했기 때문에…)</strike></small> 인터프리터 언어임에도 불구하고 개발자가 코드를 읽는 순서와 코드가 실행되는 순서가 달라지게 되는 것이기 때문에 JavaScript에 입문할 때 헷갈리게 만드는 요인 중 하나다.</p>\n<h3 id=\"함수-레벨-스코프\" style=\"position:relative;\">함수 레벨 스코프<a href=\"#%ED%95%A8%EC%88%98-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84\" aria-label=\"함수 레벨 스코프 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>대부분의 프로그래밍 언어는 블록 레벨 스코프를 사용하지만 JavaScript는 역시 다르다. <code class=\"language-text\">var</code> 키워드로 선언된 변수는 함수 레벨 스코프 내에서만 인정된다. 이건 사실 JavaScript에 익숙한 개발자들이라면 큰 문제가 되지는 않지만 역시 늅늅이 시절에는 굉장히 헷갈린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> local <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>local<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: local is not defined</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 10</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>함수 스코프만 인정되기 때문에 심지어 <code class=\"language-text\">for</code> 문 내부에서 선언한 변수 <code class=\"language-text\">i</code>도 외부에서 참조 가능하다.</p>\n<h3 id=\"var-키워드-생략-가능\" style=\"position:relative;\">var 키워드 생략 가능<a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C-%EC%83%9D%EB%9E%B5-%EA%B0%80%EB%8A%A5\" aria-label=\"var 키워드 생략 가능 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>변수를 선언할 때 <code class=\"language-text\">var</code> 키워드를 붙혀도 되고 안붙혀도 된다. 역시 자유의 상징 JavaScript 답다. 너무 자유로워서 개발자가 한시도 긴장의 끈을 놓을 수 없게 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'global!'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>globalVariable <span class=\"token operator\">===</span> <span class=\"token string\">'global!'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  globlVariable <span class=\"token operator\">=</span> <span class=\"token string\">'global?'</span> <span class=\"token comment\">// 오타 냄</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globalVariable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// global!</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globlVariable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// global?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>실수로 <code class=\"language-text\">globalVariable</code> 변수를 <code class=\"language-text\">globlVariable</code> 변수로 오타를 냈다. 순진한 개발자는 <code class=\"language-text\">globalVariable</code> 변수의 값이 <code class=\"language-text\">global?</code>로 변경되었으리라 기대를 하겠지만 아쉽게도 그 값은 오타낸 변수명인 <code class=\"language-text\">globlVariable</code>이 가져갔다.</p>\n<p>이런 경우도 간단한 코드에서는 디버깅이 쉽지만 조금만 코드가 복잡해져도 눈물이 흐르는 케이스이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1909feea74565c3861f0bd9dfb9951c1/72747/off-work.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdzrM1Fw/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAERIDIv/aAAgBAQABBQLIohVbJELeuts1T//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB8QAAIBAgcAAAAAAAAAAAAAAAABEQIQEiExQVFhkf/aAAgBAQAGPwLQxVboyUi4gdPUe2//xAAdEAEAAgICAwAAAAAAAAAAAAABABExQSFRYXHR/9oACAEBAAE/IQ/JiOEaoA13BLwFu1jg7UfsQXAfe0CAdE//2gAMAwEAAgADAAAAEMMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRABAQABBQEBAAAAAAAAAAAAAREAITFBYYFxkf/aAAgBAQABPxBTRdyZAkF0gNT6mAOkhN2OnLiVRPLp+sRoKpeEV+B7m82BXoz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"off work\" title=\"\" src=\"/static/1909feea74565c3861f0bd9dfb9951c1/c08c5/off-work.jpg\" srcset=\"/static/1909feea74565c3861f0bd9dfb9951c1/0913d/off-work.jpg 160w,\n/static/1909feea74565c3861f0bd9dfb9951c1/cb69c/off-work.jpg 320w,\n/static/1909feea74565c3861f0bd9dfb9951c1/c08c5/off-work.jpg 640w,\n/static/1909feea74565c3861f0bd9dfb9951c1/72747/off-work.jpg 764w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이런 것들에게 한번 걸리면 얄짤없이 11시까지 일하고 택시타고 집에 가야한다</small>\n</center>\n<h2 id=\"let과-const-키워드의-등장\" style=\"position:relative;\">let과 const 키워드의 등장<a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%EB%93%B1%EC%9E%A5\" aria-label=\"let과 const 키워드의 등장 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">var</code> 키워드의 경우 전역 변수를 남발하기가 쉽고 또 로컬 변수라고 해도 변수의 스코프가 너무 넓기 때문에 변수의 선언부와 호출부가 너무 멀리 떨어져 있거나 값이 의도하지 않게 바뀌는 경우를 추적하기 힘들다.</p>\n<p>그래서 2015년에 발표된 JavaScript ES6에는 새로운 변수 선언 키워드로 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>가 추가되었다.</p>\n<p><code class=\"language-text\">let</code> 키워드는 <code class=\"language-text\">var</code>와 마찬가지로 변수를 선언할 때 사용하는 키워드이고 <code class=\"language-text\">const</code> 키워드는 상수를 선언할 때 사용하는 키워드이다. 즉 <code class=\"language-text\">const</code> 키워드는 리터럴 값의 재할당이 불가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> callEvan <span class=\"token operator\">=</span> <span class=\"token string\">'Hello, Evan!'</span><span class=\"token punctuation\">;</span>\ncallEvan <span class=\"token operator\">=</span> <span class=\"token string\">'Bye, Evan!'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>그럼 이 친구들이 기존의 <code class=\"language-text\">var</code> 키워드와 다른 점은 무엇일까? 위에서 설명했던 <code class=\"language-text\">var</code> 키워드의 특징은</p>\n<hr>\n<ul>\n<li>변수의 중복 선언이 가능하다.</li>\n<li>호이스팅 당한다.</li>\n<li>블록 레벨 스코프가 아닌 함수 레벨 스코프를 사용한다</li>\n<li>var 키워드는 생략이 가능하다.</li>\n</ul>\n<hr>\n<p>이상 4개 였다. 여기에 대조되는 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code> 키워드의 특징부터 먼저 살펴보자.</p>\n<h2 id=\"let과-const-키워드의-특징\" style=\"position:relative;\">let과 const 키워드의 특징<a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"let과 const 키워드의 특징 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>우선 위에서 설명한 <code class=\"language-text\">var</code> 키워드의 특징과 대조되는 점 부터 살펴보자.</p>\n<h3 id=\"변수의-중복-선언이-불가능하다\" style=\"position:relative;\">변수의 중복 선언이 불가능하다.<a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"변수의 중복 선언이 불가능하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이 친구들은 <code class=\"language-text\">var</code> 키워드와는 다르게 한번 키워드를 사용해서 선언한 변수는 재선언이 불가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 아무 일도 일어나지 않았다...</span>\n\n<span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught SyntaxError: Identifier 'name' has already been declared</span>\n\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught SyntaxError: Identifier 'name' has already been declared</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이로써 나도 모르게 변수를 두번 선언해서 값이 변경되어 야근하게 되는 일을 방어할 수 있게 되었다.</p>\n<h3 id=\"호이스팅-당한다-1\" style=\"position:relative;\">호이스팅 당한다?<a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4-1\" aria-label=\"호이스팅 당한다 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이게 바로 필자가 이 포스팅을 작성하게 된 이유이다. 필자는 <code class=\"language-text\">let</code>이나 <code class=\"language-text\">const</code> 키워드가 호이스팅 되지 않는 줄 알았다.</p>\n<p>그러나 위에서 설명했듯이 호이스팅은 JavaScript 인터프리터가 코드를 해석하는 과정에서 발생하는 일이기 때문에 <code class=\"language-text\">let</code>이나 <code class=\"language-text\">const</code>라고 한들 피해갈 수 있을리가 없다. 그렇다면 이 문제를 어떻게 해결했을까?</p>\n<h4 id=\"변수-선언-키워드에-따라-다른-에러가-발생한다\" style=\"position:relative;\">변수 선언 키워드에 따라 다른 에러가 발생한다<a href=\"#%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%97%90-%EB%94%B0%EB%9D%BC-%EB%8B%A4%EB%A5%B8-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%9C%EB%8B%A4\" aria-label=\"변수 선언 키워드에 따라 다른 에러가 발생한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>aaa<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Uncaught ReferenceError: aaa is not defined</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: Cannot access 'name' before initialization</span>\n<span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>첫번째는 호이스팅 당한 <code class=\"language-text\">var</code> 키워드를 사용하여 선언한 변수를 호출한 모습이다. 당연히 참조 에러따윈 나지 않고 깔끔하게 <code class=\"language-text\">undefined</code>가 출력된다.</p>\n<p>두번째는 아예 선언한 적이 없는 변수를 호출하는 모습이다. <code class=\"language-text\">Uncaught ReferenceError</code>가 발생하고 메세지는 <code class=\"language-text\">aaa is not defined</code>라고 한다.</p>\n<p>세번째는 <code class=\"language-text\">let</code> 키워드를 사용하여 선언한 변수를 선언부 이전에 호출한 모습이다. 두번째와 마찬가지로 <code class=\"language-text\">Uncaught ReferenceError</code>가 발생했지만 에러 메세지는 <code class=\"language-text\">Cannot access 'name' before initialization</code>라고 나온다.</p>\n<h4 id=\"v8-엔진을-뜯어보자\" style=\"position:relative;\">V8 엔진을 뜯어보자<a href=\"#v8-%EC%97%94%EC%A7%84%EC%9D%84-%EB%9C%AF%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"v8 엔진을 뜯어보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이 두개의 에러는 전혀 다른 에러로, V8 엔진 내부에서 사용하는 <code class=\"language-text\">MESSAGE_TEMPLATE</code>에도 엄밀히 구분되어 있고 실제 호출되는 케이스도 다르다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token function\">T</span><span class=\"token punctuation\">(</span>NotDefined<span class=\"token punctuation\">,</span> <span class=\"token string\">\"% is not defined\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">T</span><span class=\"token punctuation\">(</span>AccessedUninitializedVariable<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Cannot access '%' before initialization\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><a href=\"https://github.com/v8/v8\" target=\"_blank\" rel=\"nofollow\">V8 엔진의 깃허브 레파지토리</a>을 클론받아서 살펴본 결과 내부적으로 <code class=\"language-text\">var</code> 키워드로 선언된 JS 객체와 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>로 선언된 JS 객체를 분기로 갈라놓은 코드가 굉장히 많았다. 코드를 계속 분석해보면서 <code class=\"language-text\">var</code>, <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 중 어떤 키워드를 사용하여 값을 선언하든 호이스팅은 항상 이루어진다는 것을 알 수 있었다. V8 엔진 내부의 호이스팅 플래그인 <code class=\"language-text\">should_hoist</code> 값을 JavaScript 객체에 할당할 때 변수 선언 키워드에 대한 구분을 하지않고 무조건 <code class=\"language-text\">true</code>를 할당한다.</p>\n<p>그렇다면 <code class=\"language-text\">var</code> 키워드와 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드의 차이는 어디서 오는 것일까? 변수를 선언할 때, 즉 V8이 변수 객체를 생성할 때는 전부 동일하게 처리하지만 변수를 위해 메모리에 공간을 확보하는 초기화 단계에서는 이 키워드들을 다르게 처리한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token keyword\">static</span> InitializationFlag <span class=\"token function\">DefaultInitializationFlag</span><span class=\"token punctuation\">(</span>VariableMode mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">DCHECK</span><span class=\"token punctuation\">(</span><span class=\"token function\">IsDeclaredVariableMode</span><span class=\"token punctuation\">(</span>mode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> mode <span class=\"token operator\">==</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kVar <span class=\"token operator\">?</span> kCreatedInitialized\n                                    <span class=\"token operator\">:</span> kNeedsInitialization<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러나 이후 진행 로직을 보면 <code class=\"language-text\">DefaultInitializationFlag</code>라는 함수를 통해 V8 엔진 내부에서 사용되는 <code class=\"language-text\">VariableKind</code>라는 타입을 반환하는데, 이때 <code class=\"language-text\">var</code> 키워드를 사용하여 선언한 변수는 <code class=\"language-text\">kCreatedInitialized</code> 값을, 그 외의 키워드인 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>로 선언한 변수는 <code class=\"language-text\">kNeedsInitialization</code> 키워드를 반환하고 있다.</p>\n<blockquote>\n<p>즉 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 리터럴 값은 호이스팅은 되나 특별한 이유로 인해 “초기화가 필요한 상태”로 관리되고 있다.</p>\n</blockquote>\n<p>라고 말할 수 있다.</p>\n<h4 id=\"초기화가-필요한-상태는-무엇을-의미할까\" style=\"position:relative;\">초기화가 필요한 상태는 무엇을 의미할까?<a href=\"#%EC%B4%88%EA%B8%B0%ED%99%94%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EC%83%81%ED%83%9C%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%9D%98%EB%AF%B8%ED%95%A0%EA%B9%8C\" aria-label=\"초기화가 필요한 상태는 무엇을 의미할까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>JavaScript 인터프리터 내부에서 변수는 총 3단계에 걸쳐 생성된다.</p>\n<hr>\n<ul>\n<li><code class=\"language-text\">선언 (Declaration)</code>: 스코프와 변수 객체가 생성되고 스코프가 변수 객체를 참조한다.</li>\n<li><code class=\"language-text\">초기화(Initalization)</code>: 변수 객체가 가질 값을 위해 메모리에 공간을 할당한다. 이때 초기화되는 값은 <code class=\"language-text\">undefined</code>이다.</li>\n<li><code class=\"language-text\">할당(Assignment)</code>: 변수 객체에 값을 할당한다.</li>\n</ul>\n<hr>\n<p><code class=\"language-text\">var</code> 키워드를 사용하여 선언한 객체의 경우 선언과 초기화가 동시에 이루어진다. 선언이 되자마자 <code class=\"language-text\">undefined</code>로 값이 초기화 된다는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/parsing/parser.cc</span>\n<span class=\"token comment\">// Var 모드로 변수 선언 시</span>\n<span class=\"token keyword\">auto</span> var <span class=\"token operator\">=</span> scope<span class=\"token operator\">-></span><span class=\"token function\">DeclareParameter</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kVar<span class=\"token punctuation\">,</span> is_optional<span class=\"token punctuation\">,</span>\n                                         is_rest<span class=\"token punctuation\">,</span> <span class=\"token function\">ast_value_factory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> beg_pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nvar<span class=\"token operator\">-></span><span class=\"token function\">AllocateTo</span><span class=\"token punctuation\">(</span>VariableLocation<span class=\"token double-colon punctuation\">::</span>PARAMETER<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>V8 엔진의 코드를 보면 <code class=\"language-text\">kVar</code> 모드로 변수 객체를 생성한 후 바로 <code class=\"language-text\">AllocateTo</code> 메소드를 통해 메모리에 공간을 할당하는 모습을 볼 수 있다. 그러나 <code class=\"language-text\">let</code>이나 <code class=\"language-text\">const</code> 키워드로 생성한 변수 객체는 다르다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/parsing/parser.cc</span>\n<span class=\"token comment\">// kLet 모드로 변수 선언 시</span>\nVariableProxy<span class=\"token operator\">*</span> proxy <span class=\"token operator\">=</span>\n      <span class=\"token function\">DeclareBoundVariable</span><span class=\"token punctuation\">(</span>variable_name<span class=\"token punctuation\">,</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kLet<span class=\"token punctuation\">,</span> class_token_pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nproxy<span class=\"token operator\">-></span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">set_initializer_position</span><span class=\"token punctuation\">(</span>end_pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Const 모드로 변수 선언 시</span>\nVariableProxy<span class=\"token operator\">*</span> proxy <span class=\"token operator\">=</span>\n          <span class=\"token function\">DeclareBoundVariable</span><span class=\"token punctuation\">(</span>local_name<span class=\"token punctuation\">,</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kConst<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nproxy<span class=\"token operator\">-></span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">set_initializer_position</span><span class=\"token punctuation\">(</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">kLet</code> 모드나 <code class=\"language-text\">kConst</code> 모드로 생성한 변수 객체들은 <code class=\"language-text\">AllocateTo</code> 메소드가 바로 호출되지 않았고 대신 소스 코드 상에서 해당 코드의 위치를 의미하는 <code class=\"language-text\">position</code>값만 정해주는 것을 볼 수 있다.</p>\n<p>바로 이 타이밍에 <code class=\"language-text\">let</code> 키워드나 <code class=\"language-text\">const</code> 키워드로 생성된 변수들이 <code class=\"language-text\">TDZ(Temporal Dead Zone)</code> 구간에 들어가는 것이다. 즉, <code class=\"language-text\">TDZ</code> 구간에 있는 변수 객체는 “선언은 되어있지만 아직 초기화가 되지않아 변수에 담길 값을 위한 공간이 메모리에 할당되지 않은 상태”라고 할 수 있는 것이다.</p>\n<p>이때 해당 변수에 접근을 시도하면 얄짤없이 <code class=\"language-text\">Cannot access '%' before initialization</code> 에러 메세지를 만나게 된다.</p>\n<h3 id=\"블록-레벨-스코프를-사용한다\" style=\"position:relative;\">블록 레벨 스코프를 사용한다<a href=\"#%EB%B8%94%EB%A1%9D-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\" aria-label=\"블록 레벨 스코프를 사용한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>함수 레벨 스코프를 사용하는 <code class=\"language-text\">var</code> 키워드와 다르게 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>는 블록 레벨 스코프를 사용한다. 블록 레벨 스코프를 사용하지 않기 때문에 블록 내부에서 선언한 변수 또한 전역 변수로 취급된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>globalVariable <span class=\"token operator\">===</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'am I local?'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globalVariable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// am I local?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러나 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code> 키워드의 경우에는 블록 내부에서 선언한 변수는 지역 변수로 취급된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>globalVariable <span class=\"token operator\">===</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'am I local?'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> localVariable <span class=\"token operator\">=</span> <span class=\"token string\">'I am local'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globalVariable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// I am global</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>localVariable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: localVariable is not defined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 경우 블록 내부에서 선언된 <code class=\"language-text\">localVariable</code>은 지역 변수로 취급되어 전역 스코프에서는 참조가 불가능하다. 참고로 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>는 호이스팅도 블록 단위로 발생한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Global Evan'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'Global Evan'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: Cannot access 'name' before initialization</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Local Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 경우 <code class=\"language-text\">if</code>문 내부에서도 전역 변수로 선언한 <code class=\"language-text\">name</code> 변수의 값인 <code class=\"language-text\">Global Evan</code>이 출력될 것이라고 생각할 수 있지만 <code class=\"language-text\">if</code>문의 블록 내부에서도 호이스팅이 발생하여 지역 변수인 <code class=\"language-text\">name</code>의 선언부가 블록의 최상단으로 끌어올려졌기 때문에 참조 에러가 발생한다.</p>\n<h3 id=\"let-const-키워드는-생략이-불가능하다\" style=\"position:relative;\">let, const 키워드는 생략이 불가능하다.<a href=\"#let-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%8A%94-%EC%83%9D%EB%9E%B5%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"let const 키워드는 생략이 불가능하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span>\n<span class=\"token comment\">// 상기 코드는</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span>\n<span class=\"token comment\">// 과 같다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>변수 선언 키워드를 사용하지 않으면 <code class=\"language-text\">var</code> 키워드를 사용한 것으로 취급되기 때문에 무조건 써줘야 한다.</p>\n<h2 id=\"const-키워드의-특징\" style=\"position:relative;\">const 키워드의 특징<a href=\"#const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"const 키워드의 특징 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">let</code> 키워드의 경우 위에서 설명한 이유들을 제외하면 변수를 선언할 때 사용한다는 점에서 <code class=\"language-text\">var</code> 키워드와 동일한 역할을 한다고 할 수 있다. 그러면 기존의 <code class=\"language-text\">var</code> 키워드와 다른 역할을 하는 <code class=\"language-text\">const</code>에 대해서 조금 더 알아보자.</p>\n<h3 id=\"상수를-선언할-때-사용한다\" style=\"position:relative;\">상수를 선언할 때 사용한다<a href=\"#%EC%83%81%EC%88%98%EB%A5%BC-%EC%84%A0%EC%96%B8%ED%95%A0-%EB%95%8C-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\" aria-label=\"상수를 선언할 때 사용한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>위에서 설명했듯이 <code class=\"language-text\">const</code>는 상수를 선언할 때 사용하는 키워드이다. 상수는 어떠한 불변 값을 의미한다. 즉, 한번 <code class=\"language-text\">const</code> 키워드를 사용하여 선언한 값은 두번 다시 변경할 수 없다는 뜻이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> maxCount <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\nmaxCount <span class=\"token operator\">=</span> <span class=\"token number\">40</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>만약 <code class=\"language-text\">const</code> 키워드로 선언한 값을 재할당하려고 시도하면 친절한 에러메세지와 함께 불가능하다고 알려준다.</p>\n<p>하지만 여기에 중요한 점이 있다. 바로 Call by Reference 호출 방식을 사용하는 타입을 <code class=\"language-text\">const</code> 키워드로 선언 했을 때다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span>\nobj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'John'</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이 경우 당연히 <code class=\"language-text\">obj</code> 변수가 바라보는 값 자체의 참조를 변경하려고 했기 때문에 에러가 발생한다. 그러나 객체 내부의 프로퍼티들은 <code class=\"language-text\">const</code> 키워드의 영향을 받지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span>\nobj<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'John'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span> <span class=\"token comment\">// { name: 'John' }</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이건 Call by Reference 호출 방식을 사용하는 다른 타입인 <code class=\"language-text\">Array</code>도 마찬가지다. <code class=\"language-text\">const</code> 키워드를 사용하여 선언했더라도 <code class=\"language-text\">push</code>나 <code class=\"language-text\">splice</code> 등으로 배열 내부의 원소를 변경하는 행위에는 아무런 제약이 없다.</p>\n<h3 id=\"반드시-선언과-동시에-초기화-해줘야-한다\" style=\"position:relative;\">반드시 선언과 동시에 초기화 해줘야 한다<a href=\"#%EB%B0%98%EB%93%9C%EC%8B%9C-%EC%84%A0%EC%96%B8%EA%B3%BC-%EB%8F%99%EC%8B%9C%EC%97%90-%EC%B4%88%EA%B8%B0%ED%99%94-%ED%95%B4%EC%A4%98%EC%95%BC-%ED%95%9C%EB%8B%A4\" aria-label=\"반드시 선언과 동시에 초기화 해줘야 한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">let</code> 키워드의 경우 명시적으로 선언만 했더라도 인터프리터가 해당 코드 라인을 해석함과 동시에 묵시적으로는 <code class=\"language-text\">undefined</code>가 할당되며 초기화된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hi<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>hi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>그러나 <code class=\"language-text\">const</code> 키워드를 사용하는 경우 반드시 선언과 동시에 값을 할당해줘야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> hi<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught SyntaxError: Missing initializer in const declaration</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"결론\" style=\"position:relative;\">결론<a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>반드시 JavaScript ES5로 코드를 작성해야하는 안습한 경우를 제외한다면 <code class=\"language-text\">var</code> 키워드는 이제 더이상 사용하지 않는 것을 추천한다.</p>\n<p>그렇다면 남은 것은 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>인데 <code class=\"language-text\">이 친구들을 어떻게 사용하는 것이 좋을까?</code> 라는 고민이 생긴다.</p>\n<p>사실 <code class=\"language-text\">var</code> 키워드만 쓰다보니까 생각도 안해본 사실인데, 생각보다 프로그램 내부에서 반드시 변수에 값을 재할당 해야하는 경우는 많지 않다. 필자도 별다른 생각없이 코딩하다가 어느 날 작성했던 소스코드를 봤는데 대부분 <code class=\"language-text\">const</code> 키워드를 사용하여 변수를 선언했고 <code class=\"language-text\">let</code> 키워드는 몇군데 사용하지 않은 것을 알 수 있었다.</p>\n<p>만약 <code class=\"language-text\">let</code> 키워드를 사용해야한다면 절대 전역 스코프에서는 사용하지말고 가능하면 블록 스코프를 작게 만들고 그 내부에서 사용하는 것을 추천한다.</p>\n<p>그리고 <code class=\"language-text\">const</code> 키워드의 경우 값을 재할당하려고 하면 바로 에러를 뿜뿜 해주기 때문에 개발자가 의도하지 않게 변수의 값이 재할당되는 슬픈 상황을 방지할 수 있다. 그렇기에 <code class=\"language-text\">const</code> 키워드를 잘 활용하여 안전한 코딩 라이프를 즐기고 다들 야근하지말고 칼퇴하시길 바란다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 313px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a64125e9e9cda049bccec09014083a9e/aa65c/off-work2.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 79.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIFAQT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGxwUFNED//xAAZEAADAQEBAAAAAAAAAAAAAAAAAhEBFCL/2gAIAQEAAQUCOVGRMiF9XT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABIQAQEVH/2gAIAQEABj8CIBcCw9g1qsr/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFRcf/aAAgBAQABPyF8BmQJoE0O/ZSVYAvsy26zuBduS4g4z//aAAwDAQACAAMAAAAQUw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhMVFhofH/2gAIAQEAAT8QbKCtGheYh51Snb9sSnYJ0HcEtB0rzzNuAg+Qd/mLBAvCMz//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"off work2\" title=\"\" src=\"/static/a64125e9e9cda049bccec09014083a9e/aa65c/off-work2.jpg\" srcset=\"/static/a64125e9e9cda049bccec09014083a9e/0913d/off-work2.jpg 160w,\n/static/a64125e9e9cda049bccec09014083a9e/aa65c/off-work2.jpg 313w\" sizes=\"(max-width: 313px) 100vw, 313px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>빨리 집에 가서 밥먹고 넷플릭스봐야지!</small>\n</center>\n<p>이상으로 JavaScript의 let과 const, 그리고 TDZ 포스팅을 마친다.</p>","fields":{"slug":"20190618-javascript-let-const","path":"/2019/06/18/javascript-let-const/","lang":"ko"},"frontmatter":{"title":"JavaScript의 let과 const, 그리고 TDZ","subTitle":"V8 엔진을 뜯어보며 살펴보는 JavaScript 변수의 내부 동작","date":"Jun 18, 2019","categories":["프로그래밍","자바스크립트"],"tags":["JavaScript","자바스크립트","Temporal Dead Zone","TDZ","호이스팅","Hoisting","V8","기술면접","자바스크립트 기초"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/d803c/js.001.png","srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/d803c/js.001.png 320w,\n/static/2cc989808d5cc4f4cafd05e0c479f2cc/6131a/js.001.png 734w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/fc5c5/js.001.webp 320w,\n/static/2cc989808d5cc4f4cafd05e0c479f2cc/d6c14/js.001.webp 734w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/17e8c/js.001.png","srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/17e8c/js.001.png 734w","sizes":"100vw"},"sources":[{"srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/88dbe/js.001.webp 734w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"8c3b6d10-8340-5f90-af3d-1b06e755935f","tableOfContents":"<ul>\n<li>\n<p><a href=\"#jira-software%EB%9E%80\">Jira Software란?</a></p>\n</li>\n<li>\n<p><a href=\"#jira-%EC%9D%B4%EC%8A%88-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95-%ED%95%98%EA%B8%B0\">Jira 이슈 커스터마이징 하기</a></p>\n<ul>\n<li><a href=\"#jira-%EC%84%B8%ED%8C%85-%EB%A9%94%EB%89%B4-%EC%B0%BE%EA%B8%B0\">Jira 세팅 메뉴 찾기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#issues-%EB%A9%94%EB%89%B4\">Issues 메뉴</a></p>\n<ul>\n<li><a href=\"#issue-types\">Issue Types</a></li>\n<li><a href=\"#workflows\">Workflows</a></li>\n<li><a href=\"#screens\">Screens</a></li>\n<li><a href=\"#fields\">Fields</a></li>\n<li><a href=\"#issue-features\">Issue Features</a></li>\n</ul>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 Atlassian의 대표 제품 중 하나인 Jira에 대해서 포스팅 하려고 한다. 요즘 많은 IT회사들에서 애자일 개발 방법론을 사용하여 소프트웨어 개발을 진행하고 있다. Jira는 애자일 방법론에서 사용하는 다양한 방법들을 좀 더 쉽고 편하게 사용할 수 있게 도와준다. 사실 애자일 프로세스는 일종의 방법론일 뿐 어떤 원칙이 아니기 때문에 팀마다 그 구성이나 개발 과정이 조금씩 달라지게 될 수 밖에 없고, 또 회고를 통해 이런 저런 방법들을 계속 시도해보기 때문에 어떠한 규칙으로 똑부러지게 정해지는 게 아니다. J…","html":"<p>이번 포스팅에서는 Atlassian의 대표 제품 중 하나인 Jira에 대해서 포스팅 하려고 한다. 요즘 많은 IT회사들에서 애자일 개발 방법론을 사용하여 소프트웨어 개발을 진행하고 있다. Jira는 애자일 방법론에서 사용하는 다양한 방법들을 좀 더 쉽고 편하게 사용할 수 있게 도와준다.</p>\n<p>사실 애자일 프로세스는 일종의 방법론일 뿐 어떤 원칙이 아니기 때문에 팀마다 그 구성이나 개발 과정이 조금씩 달라지게 될 수 밖에 없고, 또 회고를 통해 이런 저런 방법들을 계속 시도해보기 때문에 어떠한 규칙으로 똑부러지게 정해지는 게 아니다. Jira는 이렇게 매번 달라지는 규칙들에 대응하기 위해서 다양하게 프로젝트를 커스터마이징할 수 있는 기능을 제공한다.</p>\n<p>그러나 기능이 너무 많고 용어가 복잡해서 처음 접하는 사람은 이걸 도대체 어떻게 써야할지 감이 안오는 것도 사실이다. 아마 많은 분들이 그냥 기본적으로 제공해주는 칸반이나 스프린트 기능 정도만 사용하고 있지 않을까 싶다.</p>\n<p>그래서 오늘은 Jira를 사용할 때 제일 기본적인 단위를 이루는 Issue를 커스터마이징하는 방법을 설명해볼까 한다.</p>\n<h2 id=\"jira-software란\" style=\"position:relative;\">Jira Software란?<a href=\"#jira-software%EB%9E%80\" aria-label=\"jira software란 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Jira는 호주의 Atlassian이라는 기업에서 제공하는 애자일 소프트웨어 개발 방법론을 지원하는 일종의 프로젝트 관리 솔루션이다. 간단하게는 칸반보드부터 깊게는 애자일 프로세스에 필요한 스프린트 단위의 관리 기법이나 스프린트를 분석할 수 있는 다양한 보고서까지도 제공해주고 있다.</p>\n<p>이런 점이 바로 Trello나 Asana와 같은 다른 프로젝트 관리 툴과 차별화되는 점인 것 같다. <small>(참고로 Trello도 Atlassian이 먹은 지 좀 됐다)</small></p>\n<p>또한 Atlassian에서 제공하는 다른 서비스들인 Bitbucket, Confluence, Source Tree 등과 서로 연동이 잘되어있는 부분도 좋은 것 같다. 예를 들면 어떤 브랜치에서 기능을 개발하다가 해당 브랜치로 Pull Request를 생성하면 Jira에 연결된 이슈가 자동으로 Code Review 상태로 변경되게도 할 수 있고 커밋 메세지에 <code class=\"language-text\">LU-0000 first commit</code> 처럼 Jira 이슈 번호를 넣어준다면 Jira 이슈 내에 해당 커밋과 브랜치가 자동으로 추적되기도 한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/55b2f630f3f5627e2c7f65f96e3a36b4/d10fb/jira-branch.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 131.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAByklEQVR42qWTPUsdQRSG9xfYxkrTXUijWMQqdiKkC5JGUqggCREsgjaSgMZCyxSCBAKCYJEmTYiFEAj5BcFPbhJUELzszuzszO7s95wzmd2rpAnc2ZthmS3OPHPe98w5jtbIGO+4LMlVXqACjdp2OXkBT7baD1eOp9bajzd+jS2fDs7/2D5wTUxBj3ucosRXu9fP3l0svb9a3Lmc3mw/Wj3f/+5bwd2fEdtE7x2MSrkHh1d7H71Pn/Ov35Ivh9lZG0wE0QJOUz4xGQzeZ8MtOtwiA/fkm7dVRKnesAYof/4ujk6Kk9Py7Lw8OoZOR9tmBvBccnPjUspuGbQ174Dvk5FxrzVKHoz5I+N0qCVfr9vKRhHGCy/l7IKcex7NvxBPZ9IPuzUMFp61LlDnqLNqt1JsTpW1rgpmPCSMm48yARY4AMZxWnsGEGHEhWQBz/OyYZMgRjIOeGjGI81yG80mM9SdW8GEMp8FHmWRTHrCMk4CLrgIjUGnexli48a+LZhPmUd8wD4GA9EYFqHsM7MpOPQnu6p2FJtSx0naD8y4IDSwead/yE6SLM2K//AMoJQye2PZhPpuPdKkO9KNMpuCNc35Fy5LhXerEfwHYRvX4/RCr9wAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira 브랜치 추적\" title=\"\" src=\"/static/55b2f630f3f5627e2c7f65f96e3a36b4/d10fb/jira-branch.png\" srcset=\"/static/55b2f630f3f5627e2c7f65f96e3a36b4/69538/jira-branch.png 160w,\n/static/55b2f630f3f5627e2c7f65f96e3a36b4/72799/jira-branch.png 320w,\n/static/55b2f630f3f5627e2c7f65f96e3a36b4/d10fb/jira-branch.png 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이슈에서 추적되고 있는 브랜치와 커밋의 모습</small>\n</center>\n<p>저런 공유 기능으로 인해서 제일 좋은 점은 사실 PO(Product Owner)들의 업무가 많이 편해진다는 것이다. Jira의 스프린트 대시보드는 일종의 상황판이다. 누가 어떤 업무를 어느 정도 진행했는지 브랜치와 커밋을 통해 상세히 알아볼 수도 있고 또 전체 스프린트의 이슈의 몇 퍼센트가 Done 상태인지, 팀이 얼마나 더 빡쎄게 달려야 이 스프린트를 마칠 수 있는지와 같은 정보를 실시간으로 보여준다.</p>\n<p>뭐 사실 이러지 저러니 해도 Jira는 툴일 뿐, 애자일에는 “일을 효율적으로 하고 싶다”라는 팀의 의지가 가장 중요하긴 하지만 그래도 Jira가 굉장히 세심한 기능들을 제공해준다는 건 사실이다.</p>\n<h2 id=\"jira-이슈-커스터마이징-하기\" style=\"position:relative;\">Jira 이슈 커스터마이징 하기<a href=\"#jira-%EC%9D%B4%EC%8A%88-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95-%ED%95%98%EA%B8%B0\" aria-label=\"jira 이슈 커스터마이징 하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<blockquote>\n<p>이 문서에 작성되는 사항들은 프로젝트의 Administrator 권한이 있는 사용자만 수행할 수 있습니다.</p>\n</blockquote>\n<h3 id=\"jira-세팅-메뉴-찾기\" style=\"position:relative;\">Jira 세팅 메뉴 찾기<a href=\"#jira-%EC%84%B8%ED%8C%85-%EB%A9%94%EB%89%B4-%EC%B0%BE%EA%B8%B0\" aria-label=\"jira 세팅 메뉴 찾기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Jira 메인 화면에 접속하였을 때 Jira 프로젝트 설정에 대해 수정 권한이 있는 사용자라면 왼쪽 메뉴 리스트의 제일 하단에 <code class=\"language-text\">Jira settings</code>라는 메뉴가 보일 것이다. 이 메뉴에 접속하면 시스템, 프로젝트, 이슈 등 Jira에 대한 모든 설정을 수정할 수 있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 442px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4946e82a095e3c5c767dc4fe3cf160b9/e03bf/jira1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSUlEQVR42m2Ua0hTYRjHj07dzEs5ykgruxgkUVSEkaA783bcnCwNKzOJpMKI6ms3KDW6aB/MIoIgdPNsmjc0XVkQ1qdMIsjCyowiMoqy2TRLt/173vfMUtwLf5733TnPb8/tPUKoZEVQai3CDVZSHdhZk2kha/FZ5awmRRplqOjdpEO3MT7+G5OTk3C73dPsBIRF+S2Qjj1EcEYdgjJlsHPM9lbE7mjFit3t3E79FpZdD0FnwZHqHrA1+us3vg2P4KdrDM6RUYyOjUNYTA6G4wxoRQgBVxJk3X4HEvZ2YP2BO1hT3ImNJXf5fm5OAweeuNHLgR+HvqKr+wn6+gdxv7sX/QMfIGiybJhjqKeU6qCWbAjU1UCltyCAJNA+QFeLQNqr0qwIpXcF0YKkgw54PF4O9Srm3xKizLd4RMGZNqj115CQfw3z0y9hcXYV4nKqsdRUDW1qBYI2l0OTdBbChlKkHO3kzhNuL4bHPHD+8ioa90KIoLrE5DdTujZoCBifexXzUisRY6zCEtNlLDdfgTatEqrEsn/A5MMdHOgiwJsvbrz+PEH6g1dDfyCEE3DJzlaEUFPCjHbEFbRAa27Asl2tVE9qhMEGVTp1mtINNSgpJx+9C48v1x/On3j2vB8Dgx/wsv+tAtRS2qzLcwx2RG9rRqSpAQtymxDLOmtsQFCGTCWRCWgnoJUDvQT0eDxwUy2Z2JmJpxy9rYkDWdE3HexCdF4T7/bywjbEF7Vh7T4HVhW1+4CWGcCpSL86JzA0TCmzUQmmCNSSzBsTU0COpkbMy2vhitzajHAzRW1u8nV5doRsPXrpQlXHFwhsVFh9GDgs04qcw21YnWfBpkI7kosbEW+uhVa8joiMGmj8RTgt3UnqugKk6AKkeqToy5BtPIek9PMQpQtIM1SQLmJL6jlIupOYm2UlYN0MoNeXMrslzhHXf2AgA4plSCxxICKXrt2eTq71JfcQVeBAYko5Fko3CSjTHE6P0MOB795/Qs/TFzOBG/UXkaE7BZ1YClE8A1GnSC+epj8rRXiWPKuGU8AHj/tw6Wa7AuSiqxci2enrIvuVmj3zU0O3WwFele8g70jFNCA5abijza/YM39zODU2350uvHk/hL/YUzbRBT1qkgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"jira1\" title=\"\" src=\"/static/4946e82a095e3c5c767dc4fe3cf160b9/e03bf/jira1.png\" srcset=\"/static/4946e82a095e3c5c767dc4fe3cf160b9/69538/jira1.png 160w,\n/static/4946e82a095e3c5c767dc4fe3cf160b9/72799/jira1.png 320w,\n/static/4946e82a095e3c5c767dc4fe3cf160b9/e03bf/jira1.png 442w\" sizes=\"(max-width: 442px) 100vw, 442px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p><code class=\"language-text\">Jira settings</code> 메뉴를 클릭하여 세팅 메뉴가 노출되면 <code class=\"language-text\">System</code>, <code class=\"language-text\">Products</code>, <code class=\"language-text\">Projects</code>, <code class=\"language-text\">Issues</code>, <code class=\"language-text\">Apps</code> 총 5개의 메뉴가 보인다. 이 포스팅에서는 이 설정들 중에서 <code class=\"language-text\">Issues</code>에 대한 설정만을 다룰 것이다.</p>\n<h2 id=\"issues-메뉴\" style=\"position:relative;\">Issues 메뉴<a href=\"#issues-%EB%A9%94%EB%89%B4\" aria-label=\"issues 메뉴 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3d8e2b163d5a7432cfbc4d1b01ffb236/2e237/menu.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3ElEQVR42q3SSQ6CQBAFUDYiUXBE47zyKqKCihPoxtvRgKJivOC3uzQmLqFdVNK9efk1KKPjA9VFjOryjJ53R2d/oyrbEVQrRHGarZThMSWwvroQZK4TdD0JsMkBbcYwPj1hbq4YHFKU5hEKE5YZI7DhJijNQtSWMQwngjZlvAIUrXyl6HZMiIANJ86d7JuQHhZDhc+x4V54++F/QHOT0JYFqFpMHmy6Yrt3Qg2eNi9KoPpJKM5G4xuWafubUCzHWJyl5veTsLXlM/RveP+lwQDt3RV9P4XOT0em5RcQDNgToqVsagAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira 이슈 메뉴들\" title=\"\" src=\"/static/3d8e2b163d5a7432cfbc4d1b01ffb236/6af66/menu.png\" srcset=\"/static/3d8e2b163d5a7432cfbc4d1b01ffb236/69538/menu.png 160w,\n/static/3d8e2b163d5a7432cfbc4d1b01ffb236/72799/menu.png 320w,\n/static/3d8e2b163d5a7432cfbc4d1b01ffb236/6af66/menu.png 640w,\n/static/3d8e2b163d5a7432cfbc4d1b01ffb236/2e237/menu.png 790w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>Jira settings 내의 Issues 메뉴를 클릭해보면 이슈에 관련된 수많은 메뉴들이 노출된다. 하나하나 알아보자.</p>\n<h3 id=\"issue-types\" style=\"position:relative;\">Issue Types<a href=\"#issue-types\" aria-label=\"issue types permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<hr>\n<h4 id=\"issue-types-1\" style=\"position:relative;\">Issue Types<a href=\"#issue-types-1\" aria-label=\"issue types 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/94c2af86fde11b597a2a92c29a3c5595/612f7/issue-types.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 13.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAs0lEQVR42h2Na0+DMBhG+f//TJfMMMY2NGYK9AbthiOxXYs5Nv1wct5b3qfS84oxM9+94Po1IKRmEIox0zvJInvUdWSYVqTMMzlib3esuxWb2TLNDucW5N1QHT4sdXvhrWl53de8ZHZ1Q3PqOJzOdN07x+OF9vxZdvuuLYFSG9Q0M0qTwzUqP/vxDyplV5QyiHwgswct0MtEShvxGYtTSoWQ+xgTPgSCz4Rnwef6N3q2v41/jnne7iZi1GMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira 이슈 타입\" title=\"\" src=\"/static/94c2af86fde11b597a2a92c29a3c5595/6af66/issue-types.png\" srcset=\"/static/94c2af86fde11b597a2a92c29a3c5595/69538/issue-types.png 160w,\n/static/94c2af86fde11b597a2a92c29a3c5595/72799/issue-types.png 320w,\n/static/94c2af86fde11b597a2a92c29a3c5595/6af66/issue-types.png 640w,\n/static/94c2af86fde11b597a2a92c29a3c5595/612f7/issue-types.png 773w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이슈 타입은 <code class=\"language-text\">Story</code>, <code class=\"language-text\">Bug</code>, <code class=\"language-text\">Task</code>와 같이 Jira 내에서 사용할 수 있는 이슈의 타입을 의미한다. 이런 이슈 타입들은 크게 <code class=\"language-text\">Standard</code> 타입과 <code class=\"language-text\">Sub-Task</code> 타입으로 나누어진다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">이슈 타입</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><strong>Standard</strong></td>\n<td>부모 이슈로써 자식 이슈를 가질 수 있는 이슈</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>Sub-Task</strong></td>\n<td>부모 이슈의 자식 이슈로만 존재할 수 있는 이슈. 단독으로는 존재 불가능</td>\n</tr>\n</tbody>\n</table>\n<p>현재 직장의 애자일 팀에서는 <code class=\"language-text\">Bug</code>, <code class=\"language-text\">Epic</code>, <code class=\"language-text\">Research</code>, <code class=\"language-text\">Story</code>, <code class=\"language-text\">Sustain</code>, <code class=\"language-text\">Task</code>, <code class=\"language-text\">Sub-task</code>로 총 7개의 이슈 타입을 사용 중이다. 각 이슈 타입의 의미에 대해서는 이슈 타입 밑에 적혀져 있는 설명을 읽어보자.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/083cd514af9e20714b7ed1f6324fe2c1/bff4e/jira2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVR42nWSi26DMAxF+f8/3DRp09qttJDmBYnz4tYOWjVNzJIFxOHkXjuDU3dMSiNVoDQg5QLvF7Rtw2wClEtwoYI/D7O1DWbJnAUhNQx+VrDGIBEhp4RSCtZ15c0bRp1wmjMmm5+AvyFLPjZoARIDnV1htGFVHs45xEioDBXg5xTx8kV4vxJsaKB8QOTIdWNnDYWfHTizSkrEsNgz59yByheMpvDpu2Uc85DKhsh2BTxYdcM4XrgXrRfFskDlX+md5Vyo4b+Qg1auy96YBejv0FqDpIesLPNQ5F0UnibC6zfhPKcOjQeWZSWw3YX7SKx00OrKludeFJW11l2h9PAW8XYhtp156vtEj0Km638UautgrO1WJQQYQnhO+eOWcFYJkyt8Neqhwt+WH4L5ca4xipvJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira 이슈 타입 리스트\" title=\"\" src=\"/static/083cd514af9e20714b7ed1f6324fe2c1/6af66/jira2.png\" srcset=\"/static/083cd514af9e20714b7ed1f6324fe2c1/69538/jira2.png 160w,\n/static/083cd514af9e20714b7ed1f6324fe2c1/72799/jira2.png 320w,\n/static/083cd514af9e20714b7ed1f6324fe2c1/6af66/jira2.png 640w,\n/static/083cd514af9e20714b7ed1f6324fe2c1/d9199/jira2.png 960w,\n/static/083cd514af9e20714b7ed1f6324fe2c1/21b4d/jira2.png 1280w,\n/static/083cd514af9e20714b7ed1f6324fe2c1/bff4e/jira2.png 2660w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>슬프게도 영어로 되어있지만 그냥저냥 읽을 수 있는 수준이다. 다른 사람들도 이렇게 영어로 설명을 읽어야하는 고통을 경험하게 만들고 싶지 않다면 우리가 희생해서 전부 한글로 번역해두면 된다. 이슈 타입들은 맨 마지막 컬럼인 <code class=\"language-text\">Actions</code> 컬럼의 메뉴를 통해 수정 및 삭제할 수 있다.</p>\n<hr>\n<ul>\n<li>Edit: 이슈 타입의 이름, 설명, 아이콘 등을 수정.</li>\n<li>Translate: 이슈 타입 이름과 설명의 번역 내용을 설정.</li>\n<li>Delete: 되도록이면 쓰지말자. 쳐다도 보지 말자.</li>\n</ul>\n<hr>\n<h4 id=\"issue-type-schemes\" style=\"position:relative;\">Issue Type Schemes<a href=\"#issue-type-schemes\" aria-label=\"issue type schemes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이슈 타입 스키마는 이슈 타입들을 묶어놓은 일종의 그룹이다. 각 프로젝트에 이슈 타입을 적용할 때 이슈 타입을 각각 할당하는 것이 아닌 이슈 타입 스키마를 할당하게 된다. 또한 이슈 타입 스키마 설정 페이지의 Projects 컬럼에는 해당 스키마가 어떤 프로젝트에서 사용되고 있는지 명시되어 있으므로 수정 및 삭제 시 반드시 이 부분을 확인하고 진행하도록하자.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f485337e6a8a3f09e61456c591849c48/26781/jira3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 38.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+klEQVR42p1R7W7DIAzM+z9kpUxRphTaQAkBzMfNJlo6Vd2fWjohfPhsfEMiQs4ZtVagASlltNY6JGIizh1vSiknJ5Aa4alUlHrkhnH8wjRNWJYFu9+hFg3iJr8RY4T3viOEgL8hPfdY4EIB5WOAQR5JUWCgZKjxgtt9xacxvLbU+spfTJ8LSrHsRiA7uWnTJ372aH0/uTS0NwJMdV5OWcEwzzOstTDrCh8ilN1gjTkLUq4wvmCLFe1FUe4+VTz2g4/EpiilYFhA4NiU79V18VOQKgIXvYtuCnNiyimote4OOufYGMLVbHjY54TEE8p3/xMUERENfFJp+AFArnUBrrbOrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira 이슈 타입 스키마 리스트\" title=\"\" src=\"/static/f485337e6a8a3f09e61456c591849c48/6af66/jira3.png\" srcset=\"/static/f485337e6a8a3f09e61456c591849c48/69538/jira3.png 160w,\n/static/f485337e6a8a3f09e61456c591849c48/72799/jira3.png 320w,\n/static/f485337e6a8a3f09e61456c591849c48/6af66/jira3.png 640w,\n/static/f485337e6a8a3f09e61456c591849c48/d9199/jira3.png 960w,\n/static/f485337e6a8a3f09e61456c591849c48/21b4d/jira3.png 1280w,\n/static/f485337e6a8a3f09e61456c591849c48/26781/jira3.png 2664w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이슈 타입 스키마도 이슈 타입과 마찬가지로 맨 마지막 컬럼인 <code class=\"language-text\">Actions</code> 컬럼의 메뉴를 통해 이슈 타입 스키마를 수정, 삭제, 할당, 복사할 수 있다.</p>\n<hr>\n<ul>\n<li>Edit - 이슈 타입 스키마의 이름, 설명, 기본 이슈 타입, 사용할 이슈 타입의 종류를 설정.</li>\n<li>Associate - 이슈 타입 스키마를 프로젝트에 할당.</li>\n<li>Copy - 이슈 타입 스키마를 복사.</li>\n<li>Delete - 이슈 타입 스키마를 삭제.</li>\n</ul>\n<hr>\n<h4 id=\"sub-tasks\" style=\"position:relative;\">Sub-tasks<a href=\"#sub-tasks\" aria-label=\"sub tasks permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>서브 태스크들의 이슈 타입을 관리한다. 아무것도 설정하지 않았다면 기본적으로 제공해주는 <code class=\"language-text\">Sub-task</code>라는 이름의 이슈 타입만 사용하게 되어있다.</p>\n<h3 id=\"workflows\" style=\"position:relative;\">Workflows<a href=\"#workflows\" aria-label=\"workflows permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>워크 플로우는 지라 프로젝트 내 이슈들의 작업 흐름을 의미한다. <code class=\"language-text\">To Do</code>, <code class=\"language-text\">In Progress</code>, <code class=\"language-text\">Done</code> 등이 여기에 해당한다.</p>\n<hr>\n<h4 id=\"workflows-1\" style=\"position:relative;\">Workflows<a href=\"#workflows-1\" aria-label=\"workflows 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a348840b3719021e8e3475e9d94505a9/a30c9/jira4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHUlEQVR42oVRi26DMAzM/38lhU3TBC0k5O2Em82rq6qxkywj7JztOzVbD+cjBMuCFyz8o9a65itI/ehR3nsMwx3TpJEz7cWt0fqM70fAYDJsLChlqx1R9z7jCdoRMi1Qxhi0bYvb7Yau65h4Oie7UPB5z+iGtOavMSOX5ddmW9auoteEmHdCIWuaZo1xHJ+EkfDBZG2fVlKJRO+EkytPQiKCcxZaawh5Sul8QKUyaYXhTWcOGypr+q6nDPGponBNiSmTsf+IfW3KJur2qebZ4vEYIeZYayEDDseICkJMPLm+OHny7NkGvpJNk7KSU0W7tmvR9z3MPPOp5Tl4uV5MMO4aimEqxrgaIe7mnFmjcm6SqL6Y8BcC6xdyXU/+ARdFwZJW9IkSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira workflows\" title=\"\" src=\"/static/a348840b3719021e8e3475e9d94505a9/6af66/jira4.png\" srcset=\"/static/a348840b3719021e8e3475e9d94505a9/69538/jira4.png 160w,\n/static/a348840b3719021e8e3475e9d94505a9/72799/jira4.png 320w,\n/static/a348840b3719021e8e3475e9d94505a9/6af66/jira4.png 640w,\n/static/a348840b3719021e8e3475e9d94505a9/d9199/jira4.png 960w,\n/static/a348840b3719021e8e3475e9d94505a9/21b4d/jira4.png 1280w,\n/static/a348840b3719021e8e3475e9d94505a9/a30c9/jira4.png 2614w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>워크 플로우를 자세히 보려면 <code class=\"language-text\">Actions</code> 컬럼의 <code class=\"language-text\">View</code> 버튼을 클릭하면 된다. 워크 플로우는 다이어그램과 텍스트 2가지 방식으로 볼 수 있는데 텍스트 방식은 작업의 흐름을 읽기가 불편하니 다이어그램 방식으로 보는 것을 추천한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/90703cf619057cf05e820e1a1c7778bd/53639/jira5.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVR42q2Ty0vDQBDG+1creJWeFD16t3iqWh8gVkR6UUtB1FJQK7SWtCVJS9K8H7ubz80moQ8aKpiBgQ07+fh+M7MlpEEpg++H+G+UskNICGzbLU6wqBCCjEVwvQCm5XB0CkIobCd2GyGK8pMxtl6Q8P5Jowk+vgdw3AAWF+v2pI1uYtFCkXMFn79sVBpT1Joaqk8aHJ9B0w2O7SEjoLwthEaiPRsFz5s6dk6G2L+UUa6OYTgMijqFbli5P/4JebEgO/YVH9uVIcqnY2wdS7h9nSEbZK5gjOMFfLFDhoAkhVRMMII6C0Ub6m+GIHn/SXY1vg8ZTevmZkqr7tatxyrFYu1ah5pNcVRXeKpodMwlJJYOY56Jo/t+B4etG1x1X2IQDIYKv6OpoEVwcC1j70LGQ9tc6mHeIO56bew+1nD22RLfI3kiHkXhT+8Xv5VDAKkxw+IAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira workflow diagram\" title=\"\" src=\"/static/90703cf619057cf05e820e1a1c7778bd/6af66/jira5.png\" srcset=\"/static/90703cf619057cf05e820e1a1c7778bd/69538/jira5.png 160w,\n/static/90703cf619057cf05e820e1a1c7778bd/72799/jira5.png 320w,\n/static/90703cf619057cf05e820e1a1c7778bd/6af66/jira5.png 640w,\n/static/90703cf619057cf05e820e1a1c7778bd/d9199/jira5.png 960w,\n/static/90703cf619057cf05e820e1a1c7778bd/21b4d/jira5.png 1280w,\n/static/90703cf619057cf05e820e1a1c7778bd/53639/jira5.png 1358w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>워크 플로우는 <code class=\"language-text\">Status</code>와 <code class=\"language-text\">Transition</code>으로 구분된다. <code class=\"language-text\">To Do</code>, <code class=\"language-text\">Done</code>과 같은 사각형이 <code class=\"language-text\">Status</code>를 의미하고 그 사각형들을 이어주는 화살표는 <code class=\"language-text\">Transition</code>이다. 워크 플로우를 수정하려면 우측 상단의 <code class=\"language-text\">Edit</code> 버튼을 누르면 된다. 그러면 다이어그램 UI를 사용하여 워크 플로우 수정 화면이 노출된다.</p>\n<p>PowerPoint나 Google Draw.io와 유사한 UX를 제공해주기 때문에 처음이라도 무리없이 수정할 수 있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 548px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6f4d8fb99d8595800cd1210f425d514f/a58fe/jira6.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 109.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQklEQVR42q1Vy27TQBT1B3UBCxCIPwEJCSQ2qBJSpUplhWCNBAIJ2FDBogsEiKy6YMM7pS2itElK0tS1nXdTx4/EcWzH9uGOY6c2RVZKMtLVjGfkc++cc67NIWX4vh/EaQaHGY9UQFXtQqGYCaDruhCkBnihFqxnUmFH0aHpxv9XyPhn4YU6aF0Dtu1Mf+VIWE3vjQEnFTsB2O8P0O310TNMGLQ+PFLhOMPgzPO8iYI7FsFDhxQdUEWWZVNldjBHiWRFg6J1EyETx+yd+B4XGVfTdfAHAl3NA2Gjb/uwhz4cErgp92DZkyk9Bmy329jY3AyyVpoa8uUmdopV/CxI2OVbkOoKLEJnCSN+v67voNGSQ0r8gOcTHGa3eAI4xHZ+D+8/biCz+hm/ciXkKEGzY8L3RpWW9iUs3HmMT9mtMWBClHjfypqJSttEQzYoRuuObp64HhPs717/hw8JGMe2GYTC+FP5MJz1bn86YzMemMLMh/yBCLFSQ7FUhiBWYA6s4CziKv4O819qhY5jgy8XIYkC+P09VCWBPDmYvMIo68oXBReXfuPyAwHXn9Zx9ZGIa0+quPGsjisPBVxYKuLlh6OwMoRqV/BjuwQ77KgA0A0B763UwF36hrmbOczN53B2oYBziwWcX9zFmVv54Oz2czFg2RmO7PPi1Sru3l+GSgKOASPl+ZaFzLqKzHcVbyleZxW8YbFGz2sK3tFeuWklPhbMFXFeU7+HPt0r8pkfI/4UKpMgrH/DYP1rO15i7XrpP7I/3JyeuErfne4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira workflow diagram editing\" title=\"\" src=\"/static/6f4d8fb99d8595800cd1210f425d514f/a58fe/jira6.png\" srcset=\"/static/6f4d8fb99d8595800cd1210f425d514f/69538/jira6.png 160w,\n/static/6f4d8fb99d8595800cd1210f425d514f/72799/jira6.png 320w,\n/static/6f4d8fb99d8595800cd1210f425d514f/a58fe/jira6.png 548w\" sizes=\"(max-width: 548px) 100vw, 548px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>Status를 클릭하면 Status의 정보를 수정할 수 있는 창이 노출되는데, 이 창 내부에서 <code class=\"language-text\">Allow all statuses to transition to this one</code>에 체크를 하면 이슈가 어떤 Status를 가지고 있는지와 관계없이 자유롭게 현재 Status로 변경할 수 있도록 설정된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d54d49db136163f93da3d06d5db0ac4/889a4/jira7.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAABlklEQVR42qVUaXOCMBT0//+yfnF6aXVA5RCCHIIgypVkm0SxFRkr9s0sDMzLZt85gjDOOShlAlSBMTYYkkNiJB9N01x+SJMOLfkQKEJ5WBrxI0xmS7xNdITbHYaaFCW5zoQcUZzhQxC+TxdwSHBSelZ9D72EUm7XfjsPUkiVQoqxBcydEvrCgO36cLwAK4tgZbrQDQem7cH1QvWtLdeY6xaSXXa5/DpkThHmgBsdoC8tfM5WMGyiDkbbFNskRZrlyPIDdukesSCKRJ6LsuonbEM+FiX8MFbqyCZSitg5dN7B3aK0hEPy1nW9ImSMqsY21xsRqoe1G6hL9kcKwy+xSWoEaQMvEYhr7At6X6FEXTeqCEvjVAQm8poXDFP7CI2UMINKvedOocjRCf3PtvlnY0MUIsTLeIpXMSlfmqkKJE2mgjF+g25ztztg1A52ts9Vy9iOB2tNRArqy1w/Mi1XhOAMQUaheY3CzK1Akqa3mg+FzAR7WXP4SSWqWCHY1UgP9DnCny6X64dd4an11Tb0TeIf2DR9+AYG8IFFk2xsfQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Allow all statuses to transition to this one\" title=\"\" src=\"/static/6d54d49db136163f93da3d06d5db0ac4/6af66/jira7.png\" srcset=\"/static/6d54d49db136163f93da3d06d5db0ac4/69538/jira7.png 160w,\n/static/6d54d49db136163f93da3d06d5db0ac4/72799/jira7.png 320w,\n/static/6d54d49db136163f93da3d06d5db0ac4/6af66/jira7.png 640w,\n/static/6d54d49db136163f93da3d06d5db0ac4/889a4/jira7.png 658w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p><code class=\"language-text\">Transition</code>을 클릭하면 Transition 설정 창이 노출된다. 이 창에서는 Transition의 <code class=\"language-text\">이름</code>, <code class=\"language-text\">속성</code>, <code class=\"language-text\">트리거</code>, <code class=\"language-text\">조건</code>, <code class=\"language-text\">유효성 검사</code> 등을 설정할 수 있다. 특히 트리거와 조건은 굉장히 유용하게 사용할 수 있다.</p>\n<hr>\n<ul>\n<li>트리거 - 임의의 이벤트가 발생하면 자동으로 해당 Transition을 실행한다. (e.g. Pull Request가 생성되면 자동으로 이슈를 Code Review 상태로 변경)</li>\n<li>조건 - 이 Transition이 실행되기 위한 조건들을 설정한다. (e.g. 이슈를 Done으로 바꾸려면 이슈에 할당된 모든 Reporter가 동의해야한다)</li>\n</ul>\n<hr>\n<p>이후 모든 수정을 마쳤다면 상단의 <code class=\"language-text\">Publish Draft</code>를 클릭하여 설정을 배포하면 된다. 이때 이전 워크플로우를 백업할 것이냐고 물어보는 창이 노출되는데 백업을 할지말지는 그냥 본인 판단하에 알아서 하면된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/56c289065a19ebda8681f8bb1601d1ce/6aca1/save.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABoyx68geFf//EABsQAAICAwEAAAAAAAAAAAAAAAECAAMREyEi/9oACAEBAAEFAtPkUqYUqERjnojoGb//xAAWEQEBAQAAAAAAAAAAAAAAAAAAIkH/2gAIAQMBAT8BxL//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AZtr/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERITH/2gAIAQEABj8C2nCM0tGz/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFRYf/aAAgBAQABPyFDbCXtOjMiPB+scDVzqrHk9qT/2gAMAwEAAgADAAAAEAvv/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAwEBPxAhBgnq7//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEUH/2gAIAQIBAT8QSdbeb//EABwQAQEAAgIDAAAAAAAAAAAAAAERAEExUSGBsf/aAAgBAQABPxAS+4fmsZYxqkru45QDS3BiOC955bn0ie94pSXZOM//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"save\" title=\"\" src=\"/static/56c289065a19ebda8681f8bb1601d1ce/c08c5/save.jpg\" srcset=\"/static/56c289065a19ebda8681f8bb1601d1ce/0913d/save.jpg 160w,\n/static/56c289065a19ebda8681f8bb1601d1ce/cb69c/save.jpg 320w,\n/static/56c289065a19ebda8681f8bb1601d1ce/c08c5/save.jpg 640w,\n/static/56c289065a19ebda8681f8bb1601d1ce/6aca1/save.jpg 650w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>편집한 이슈는 내 마음 속에 저장!</small>\n</center>\n<p>그리고 한번 <code class=\"language-text\">Edit</code> 버튼을 눌러 워크플로우 수정 화면으로 들어가면 아무 것도 수정하지 않았더라도 Jira는 현재 상태를 자동 저장한다. 그러니까 아무것도 수정하지 않았더라도 상단의 <code class=\"language-text\">Discard Draft</code> 버튼을 클릭하여 수정 상태를 종료해주도록 하자.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d2ce750162bea9034a18b5e5d5e6dcbc/21b4d/jira8.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAw0lEQVR42oWOUW+DMAyE+f9/bZqmSmthHVsYgoJonBAIoXFiZ+m0p/Vhp5Plh/N3LlJiihtRDCEgYvjR70J8Q/aRYyRE8phDFIl9uDulVDCFHV53Z5XSUl4BQMo8QCswW+jAT0u0ehta6Ftlpnl1cdSYzZyKDMgwojvpP/3NFHpen17Kw7H+aLq2H8tzc6yEBF2eTp+NGOw02muv9sl4fjw2i30+VG91W56/qvemFp3Kr7ldCHEZLotfl9s6OzQuPDZ/A85yHlYJPn49AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira discard draft\" title=\"\" src=\"/static/d2ce750162bea9034a18b5e5d5e6dcbc/6af66/jira8.png\" srcset=\"/static/d2ce750162bea9034a18b5e5d5e6dcbc/69538/jira8.png 160w,\n/static/d2ce750162bea9034a18b5e5d5e6dcbc/72799/jira8.png 320w,\n/static/d2ce750162bea9034a18b5e5d5e6dcbc/6af66/jira8.png 640w,\n/static/d2ce750162bea9034a18b5e5d5e6dcbc/d9199/jira8.png 960w,\n/static/d2ce750162bea9034a18b5e5d5e6dcbc/21b4d/jira8.png 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<h4 id=\"workflow-schemes\" style=\"position:relative;\">Workflow schemes<a href=\"#workflow-schemes\" aria-label=\"workflow schemes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Jira는 프로젝트의 이슈 타입마다 다른 워크 플로우를 사용할 수 있게끔 해준다. 워크 플로우 스키마는 이슈 타입마다 워크 플로우를 할당하는 그룹이다.</p>\n<hr>\n<ul>\n<li>Bug: <code class=\"language-text\">To Do → In Progress → Resolved</code></li>\n<li>Story: <code class=\"language-text\">To Do → In Progress → Test → Review → Deployed</code></li>\n<li>Research: <code class=\"language-text\">To Do → In Progress → Done</code></li>\n</ul>\n<hr>\n<p>이런 식으로 이슈 타입마다 다른 워크 플로우를 적용할 수 있다.</p>\n<h3 id=\"screens\" style=\"position:relative;\">Screens<a href=\"#screens\" aria-label=\"screens permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>스크린은 스크럼 보드에서 이슈를 클릭했을 때 나오는 이슈의 자세한 정보를 보여주는 화면을 의미한다. 이 메뉴는 다른 메뉴들에 비해 직관적이므로 설명보다는 예시 스크린샷을 주로 보여주겠다.</p>\n<hr>\n<h4 id=\"screens-1\" style=\"position:relative;\">Screens<a href=\"#screens-1\" aria-label=\"screens 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>스크린 메뉴에서는 해당 스크린에 들어갈 탭과 필드들을 설정할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e3096f52b849f0dde2d8cbff31eced48/136a2/jira9.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 151.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABYlAAAWJQFJUiTwAAACb0lEQVR42q1UaW/TQBTs//9JfAIhPlAhFUFJ2ly+cvi+1rcTDzsvTUSoKG1cS5O3steTefPGezMMAxarNaZzEw9zC0VZg9f+MOBwOIDP33Ld8GdpbfBzusSvRwNldSR8I88lYRhlsB0Ps4UDy3YxX1owTAcPMxNZXpwVU+3hhMMJhwsIoelt8en+Fh/uvuDz/Q98nWzw8buFbxMTbdv+pWF46mD4t0JVF7CjLdzch58l2AQFLF8hUbVYUJQVclXKWuk1fSaoPoozxEmOKMlkLYSlfuj5McIwQxCmcL1Q11iqF8TwwwRbN5QXXD+SvaymvcNs5cB0XKysLQwNIXS22r+ljSvn8Lzltuv1YFJR4GtFcZoLIt1KGCWCPFdSA62W7SeZkla5j+8muuZFeSSs6kYkUyXjY9hbTHSEZgsLC8vF/SrC1IzxaCeYGKHsZcS4Z65bZr29m0i9OU2s0dOs6lbI66aVARBN26HqBhTNEarZ6/sNVFEJquq4nwOi8jMhkec5XNfVwwkFjMwu6WAFLSLV/xGa/3jIQPJqmkZIlVL6nyvs93ukRYdYtVBVp/ft5d5LEMKuaxEEgcD3fSEbNWUyk6QsS1FIpZffBV4dqSeFnXi2Xq/Fw5MFIxT26PtOo79QdzUhyXzfw263w2azQZZlLx4Ar/aQKIoCdV2PU0gPoygSHzlprke23IuyOI6RpqlguPLIPhMyzCQ8KR1FyJZJSLLnJ/SVCjkQKnyX2FAhh2HbtrQ7mpCxYatUSfJ3Ueh5HhzHgWEYo1SePaR3xLsM5eihL4fDmFBfeMhg8xtmvTaDFy3z6+DBMCbUJPwNjYcqGt12xA4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"jira9\" title=\"\" src=\"/static/e3096f52b849f0dde2d8cbff31eced48/6af66/jira9.png\" srcset=\"/static/e3096f52b849f0dde2d8cbff31eced48/69538/jira9.png 160w,\n/static/e3096f52b849f0dde2d8cbff31eced48/72799/jira9.png 320w,\n/static/e3096f52b849f0dde2d8cbff31eced48/6af66/jira9.png 640w,\n/static/e3096f52b849f0dde2d8cbff31eced48/136a2/jira9.png 884w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<h4 id=\"screen-schemes\" style=\"position:relative;\">Screen Schemes<a href=\"#screen-schemes\" aria-label=\"screen schemes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이슈를 <code class=\"language-text\">생성할 때</code>, <code class=\"language-text\">수정할 때</code>, <code class=\"language-text\">열람할 때</code> 각각 다른 스크린을 할당할 수 있다. 기본적으로 <code class=\"language-text\">Default</code>로 설정되어있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5865127bb3feb4dd7fbbb0690bb1dace/a13c9/jira10.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1ElEQVR42pWSTW8SURSG+Xf+Ejca48LEaFjYkLgyMaFJ0QLFtqkRh7YpOLT4wUc/YKGxLly50YTaGQpTGGYGKMydebxMIcHP4knenHvOnPvck7wTerS8w8bOIbnXVXbf1VDf1sjPatqb+aa+qcr5o5+ULRyymMgQ2q8dI4SgY1q0TRvL7gWynR5dy5E9C8vp0+5YODKbXZv+4IJp+L4f5DFjNb1LqFw9xukPOdGanDYMtLNz9LM2p7ohey0pg0azjaa3aBod6t8bEm7/GfgifwmUJT1HvtyzGV4MghpfXOZAHn+L3zZUi+95XNAIv/xKZPsb4c06dzd17m3p3Je6o2g8LWq4Ygz18Tz/38BMrshC9DmRJYWHMYXbkSfceBDj5kKMW/J8PRxlcTU7/4Z7xSp5Ncf62gbptEIymSIRT/AslWIluUIyEedgvzI/sFL7xHDkoklDmoZJ69yc5G5ggiHdNbtO4LwQ3tXA0tHHoOG6IrgwlufJLOUKEQyOXJeRfNTz/RnQRPz620yAvu9zVUz9ODGGXIt8Ifehgz0Q6B03WOK/gdMRsydYKrT4XO8H9UjMbLi8nmXrVZlMrjSXlGyJbbVMpXKAulcJeuP7SrZINK7wA5sQXxcBXMg+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira Screen schemes\" title=\"\" src=\"/static/5865127bb3feb4dd7fbbb0690bb1dace/6af66/jira10.png\" srcset=\"/static/5865127bb3feb4dd7fbbb0690bb1dace/69538/jira10.png 160w,\n/static/5865127bb3feb4dd7fbbb0690bb1dace/72799/jira10.png 320w,\n/static/5865127bb3feb4dd7fbbb0690bb1dace/6af66/jira10.png 640w,\n/static/5865127bb3feb4dd7fbbb0690bb1dace/d9199/jira10.png 960w,\n/static/5865127bb3feb4dd7fbbb0690bb1dace/a13c9/jira10.png 1178w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이슈 생성은 보통 실무자들이 플래닝할 때 생성하는 경우가 많으므로 빠르게 생성하기 위해 최소한의 필드만 입력하도록 하고 이후 PO들이 다시 이슈의 내용을 검토하며 자세히 작성하는 경우에 사용하면 좋다.</p>\n<h4 id=\"issue-type-screen-schemes\" style=\"position:relative;\">Issue Type Screen Schemes<a href=\"#issue-type-screen-schemes\" aria-label=\"issue type screen schemes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이슈 타입마다 다른 스크린 스키마를 할당할 수 있다. 기본 값으로 <code class=\"language-text\">Default 이슈</code>와 <code class=\"language-text\">Bug 이슈</code>로 구분되어있다. <code class=\"language-text\">Bug</code> 같은 경우는 이슈 특성 상 에스티메이션을 할 수 없는 경우도 많고 뭔가를 개발하는 것이 아닌 고치는 것이기 때문에 이슈에 필요한 정보가 일반 이슈들과는 많이 다르기 때문에 나누어져 있는 것 같다.</p>\n<blockquote>\n<p>참고로 스크린이 아니라 <strong>스크린 스키마</strong>를 할당하는 것이다.</p>\n</blockquote>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5e79ac71d05deb907fceea9d6576399c/f02b9/jira11.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABC0lEQVR42oWRCZKEIAxFuf8xZ2wX0FYWcWH5nYCz9lQPVa9+EpIYorB+h3Mexnq41cMWeyV7K361SdeAxWcsa4JxG7RxJde6tdaQcq5w1LDtJaEwqAm3TqJjW07ohwlvzVBirVzw3s9olUbTKTQt14zohpF8WXxG7PuBfjTo5xPdnex5v/RAiBExpksrKaUSq3zdh1DvxXkGCnAw4yTCN/46OXOjUMj5OUdINf6qQElkUvoJx/wWcJOOnm6hlh2ad+tC0UhDCCUl/RQHrTWMMfDe49XhybVPWPcMQ2p8hN2q8sBivt/Llz/2w7w6R8iQOmA0AcpUHcnfjlon/mvwvEMg0vM/iewD6VrnAwD/b/kXTk0aAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira Issue Type Screen Schemes\" title=\"\" src=\"/static/5e79ac71d05deb907fceea9d6576399c/6af66/jira11.png\" srcset=\"/static/5e79ac71d05deb907fceea9d6576399c/69538/jira11.png 160w,\n/static/5e79ac71d05deb907fceea9d6576399c/72799/jira11.png 320w,\n/static/5e79ac71d05deb907fceea9d6576399c/6af66/jira11.png 640w,\n/static/5e79ac71d05deb907fceea9d6576399c/d9199/jira11.png 960w,\n/static/5e79ac71d05deb907fceea9d6576399c/21b4d/jira11.png 1280w,\n/static/5e79ac71d05deb907fceea9d6576399c/f02b9/jira11.png 1554w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<h3 id=\"fields\" style=\"position:relative;\">Fields<a href=\"#fields\" aria-label=\"fields permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>스크린에 들어가는 항목들을 수정할 수 있는 항목이다. <code class=\"language-text\">Custom Fields</code> 메뉴에서 항목을 추가하고 위에서 설명한 <code class=\"language-text\">Screens</code>에서 불러와서 사용하면 된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/90f13ac4e9f2b21060002914ea47404a/b4098/custom-fields.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB1ElEQVR42p1T7Y6kIBD0/Z9v/15mb9aMn4gIKgLaV4XrZjbZXDLrpIQBrO6qbgpjrHyUtaS0y2+fLQRZvZd58VI4N8ujaqXtlDzqXtL+GvGB32SdaCRmJivFtgVMnDi3yIjFfX890xBizjLEKAUJIuTGmPLoEYBgoJTSy+SZMIDsQkyfQLRfEW7bJgvMPI4jyyVIdCFn/oll9dl8FnCeVxnhmUUNJlh2ricpzGjkfr9L0zTStihO08owaNF6zBjHE8YYqes6n60w8uztdpOyLOXR9PL3oXBmlMKDues66ftelOrzqLX+InrGMAxfewxQVRXwkKod5O0PO0WDEDK6tsOfDpLWLJn+XUjXCDkz5Glkb60VthvJLVqG+4uPkI0q07vLL87/3x5oYATlOWKaJrTc9L0oy7LgppRSAxre8INneL8KC0fQHmZGMpLTHko/GxzAq+AGC2Pgy4RNi4iUxDmjW1Tykk07ruz4zIvNZy/CnKFHFqyYQpUNfGRDM8hPN4akszs9CzHgGysBvn2TTBlKKdFdKw6Zkow49iNrePaV6zMs4hJJjXZnAuhRu/BCHJAMb0b02wQyB3kMEEP8sSj0Ww0q310G4nzQCmRR3ptVZp/kH9c1kkK0VMOaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Jira Custom fields\" title=\"\" src=\"/static/90f13ac4e9f2b21060002914ea47404a/6af66/custom-fields.png\" srcset=\"/static/90f13ac4e9f2b21060002914ea47404a/69538/custom-fields.png 160w,\n/static/90f13ac4e9f2b21060002914ea47404a/72799/custom-fields.png 320w,\n/static/90f13ac4e9f2b21060002914ea47404a/6af66/custom-fields.png 640w,\n/static/90f13ac4e9f2b21060002914ea47404a/b4098/custom-fields.png 816w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>상단의 <code class=\"language-text\">Add custom field</code>를 누르면 다양한 폼을 선택할 수 있다. 폼 종류는 <code class=\"language-text\">Standard</code>와 <code class=\"language-text\">Advanced</code>가 있는 데, 필자는 <code class=\"language-text\">Standard</code> 밖에 사용을 안해봤다. 사실 <code class=\"language-text\">Standard</code> 폼만 사용하더라도 왠만한 정보는 전부 표현할 수 있다.</p>\n<h3 id=\"issue-features\" style=\"position:relative;\">Issue Features<a href=\"#issue-features\" aria-label=\"issue features permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<hr>\n<h4 id=\"time-tracking\" style=\"position:relative;\">Time Tracking<a href=\"#time-tracking\" aria-label=\"time tracking permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>타임 트래킹은 이슈를 진행할때 남기는 워크 로그를 통해 해당 이슈를 수행하는 데 얼마나 걸렸는지를 추적해주는 기능이다. 근데 워크 로그를 매번 남기는 게 생각보다 번거로운 작업인지라 팀 내에 정착이 잘 안됐다. <small>(다들 코멘트를 애용하심…)</small></p>\n<h4 id=\"issue-linking\" style=\"position:relative;\">Issue Linking<a href=\"#issue-linking\" aria-label=\"issue linking permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이슈 링킹에서는 이슈들의 관계를 정의하는 필드에 들어갈 내용을 수정할 수 있다. 하나의 관계에는 자동태와 수동태로 두가지 상세 관계를 설정할 수 있다. 기본적으로 Jira는 6가지의 상태를 제공해준다.</p>\n<hr>\n<ul>\n<li>Blocks(병목) - <code class=\"language-text\">blocks</code> / <code class=\"language-text\">is blocked by</code></li>\n<li>Cloners(복제) - <code class=\"language-text\">clones</code> / <code class=\"language-text\">is cloned by</code></li>\n<li>Duplicate(중복) - <code class=\"language-text\">duplicates</code> / <code class=\"language-text\">is duplicated by</code></li>\n<li>Issue split(분리) - <code class=\"language-text\">split to</code> / <code class=\"language-text\">split from</code></li>\n<li>Problem/Incident(문제, 원인, 사건 등) - <code class=\"language-text\">causes</code> / <code class=\"language-text\">is caused by</code></li>\n<li>Relates(관계됨) - <code class=\"language-text\">relates to</code></li>\n</ul>\n<hr>\n<p>만약 A 이슈와 B 이슈가 있을 때 A 이슈가 반드시 먼저 끝나야 B 이슈를 작업할 수 있는 상황이 있을 수 있다. 예를 들면 A가 DB 스키마 변경 작업이고 B가 REST API를 개발하는 작업과 같은 상황이다. 모델이 어떻게 변경될지 모르니까 섣불리 API를 개발할 수 없지 않은가?</p>\n<p>이런 경우 <code class=\"language-text\">A blocks B</code> 또는 <code class=\"language-text\">B is blocked by A</code>로 표현할 수 있다. 만약 A 이슈에 B 이슈로 통하는 <code class=\"language-text\">blocks</code> 링크를 건다면 B 이슈에 자동으로 <code class=\"language-text\">is blocked by</code>가 추가된다.</p>\n<p><strong>A blocks B</strong>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 548px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6adb2523b53c3730e2b2e6d9adbc2fe4/a58fe/blocks.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABBElEQVR42q2S2XLCMAxF/f//1udSCgMkOHtiZ3USLxc5NEy3hwLVzBmNJc+1JItt3k/YHc4L+xPHdh8SAd6IthvgzTn82dghiBElBUKeIiBKUaPrFeqmwzxr3GuMxwUq0SDLBc5RjkFNDwndBB31c+Vrwj0qGKUFPIoq+w9jQjaQNC9Zt+gH9byg++jVe2vd84KcfjhOy+VjVuEb38/r459m7EOeiT5y1hqsrORSmbX2rkpWoR8VHsWE1s+QqGgH81IiK2iFeAZBc/XnhDrwu5pkFcqK7lBeyBZqnLGNFF52DV7DfnmAjdrAEJrK1eT9Dq7oJX7N/RYzxmKcDIbRQJH3I7kAzRdfm9EslwIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blocks\" title=\"\" src=\"/static/6adb2523b53c3730e2b2e6d9adbc2fe4/a58fe/blocks.png\" srcset=\"/static/6adb2523b53c3730e2b2e6d9adbc2fe4/69538/blocks.png 160w,\n/static/6adb2523b53c3730e2b2e6d9adbc2fe4/72799/blocks.png 320w,\n/static/6adb2523b53c3730e2b2e6d9adbc2fe4/a58fe/blocks.png 548w\" sizes=\"(max-width: 548px) 100vw, 548px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span></p>\n<p><strong>B is blocked by A</strong></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 535px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ac3602b8a48fe865370cb89700eed5b8/b5245/is-blocked-by.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTklEQVR42q1T127DMAzU//9bH/rUFEHbOMtT1rBleci+knKaPnQgSCvgQE2Sx6PE/pgjOWbYvh6w2SY4Z1W0T4S8rPGyO0Wc0hJv+zSe8Xqz3eGUlXHOPvjc9wPEw+MzskKikIqclWhah1pZFJXCME7xkrEtNKHWNs6NdRRMQdG6dR2c8xiGEfM8Q1S1xhQClmVBuNh5XnDvEAmly9FWemeUUsM23Q/X10AU84ovDmfaXS7glDm7zz1cz27OkCmneRXr8x9DFEQ1OaTYEdKcxCH6bEsSicVh9Vg07/vbHDLFQFRDmDGSqqws23EKUaxhWNe3CiVKosxZfbTJvYMDek99qLRBRjXUpv1z/Vg8cbQTpHHUKg6GIJWBMg2qmqxufnUwUVmMsZBSUq0rSHojTB/QUZePBNd56nwfbU8i+L6/tNL34I/AYjm3JsQ/5h2Npqfp+SHSdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"is blocked by\" title=\"\" src=\"/static/ac3602b8a48fe865370cb89700eed5b8/b5245/is-blocked-by.png\" srcset=\"/static/ac3602b8a48fe865370cb89700eed5b8/69538/is-blocked-by.png 160w,\n/static/ac3602b8a48fe865370cb89700eed5b8/72799/is-blocked-by.png 320w,\n/static/ac3602b8a48fe865370cb89700eed5b8/b5245/is-blocked-by.png 535w\" sizes=\"(max-width: 535px) 100vw, 535px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이슈 링킹 기능은 해당 이슈 담당자로 하여금 이 이슈가 어디서 파생된 이슈인지 혹은 어떤 작업이 선행되어야 하는지 명시적으로 알려줄 수 있는 기능이므로 잘 사용하면 커뮤니케이션 비용을 상당히 아낄 수 있다.</p>\n<p>이상으로 JIRA 프로젝트 이슈 커스터마이징하기 포스팅을 마친다.</p>","fields":{"slug":"20190616-jira-customizing-issue","path":"/2019/06/16/jira-customizing-issue/","lang":"ko"},"frontmatter":{"title":"JIRA 프로젝트 이슈 커스터마이징하기","subTitle":"애자일 팀을 위한 Jira 이슈 관리 최적화 방법","date":"Jun 16, 2019","categories":["소프트스킬","튜토리얼"],"tags":["Jira","지라","애자일","Agile","협업","Atlassian","스토리 포인트","Story Point","Estimation","에스티메이션","Jira 이슈"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/1646c2abb370108d4e92353ae1304230/d803c/jira-logo.png","srcSet":"/static/1646c2abb370108d4e92353ae1304230/d803c/jira-logo.png 320w,\n/static/1646c2abb370108d4e92353ae1304230/2a1fd/jira-logo.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/1646c2abb370108d4e92353ae1304230/fc5c5/jira-logo.webp 320w,\n/static/1646c2abb370108d4e92353ae1304230/e9225/jira-logo.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/1646c2abb370108d4e92353ae1304230/01fb2/jira-logo.png","srcSet":"/static/1646c2abb370108d4e92353ae1304230/01fb2/jira-logo.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/1646c2abb370108d4e92353ae1304230/b384d/jira-logo.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}],"pageInfo":{"currentPage":6,"pageCount":7}}},"pageContext":{"limit":15,"skip":75,"lang":"ko","totalCount":105}},"staticQueryHashes":["3523904809","650499039"],"slicesMap":{}}