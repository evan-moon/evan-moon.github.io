{"componentChunkName":"component---src-templates-post-tsx","path":"/2019/06/22/my-home-to-google/","result":{"data":{"markdownRemark":{"id":"a83ec053-a11f-530a-80f3-6e049699f987","excerpt":"이번 포스팅에서는 우리 집에서 구글까지 어떤 과정을 통해 통신을 하는지에 대해서 간략하게 얘기해보려고 한다. 필자가 대학에서 배운 것 중 재밌다고 생각했던 것이 몇 개 있는데, 그 중 대표적인 것이 바로 인터넷에 연결되어 있는 모든 컴퓨터는 실제로 케이블을 통해 연결되어있다는 사실이었다.","html":"<p>이번 포스팅에서는 우리 집에서 구글까지 어떤 과정을 통해 통신을 하는지에 대해서 간략하게 얘기해보려고 한다. 필자가 대학에서 배운 것 중 재밌다고 생각했던 것이 몇 개 있는데, 그 중 대표적인 것이 바로 인터넷에 연결되어 있는 모든 컴퓨터는 실제로 케이블을 통해 연결되어있다는 사실이었다.</p>\n<!-- more -->\n<p>혹자는 당연하다고 생각할 수 있는 이 사실이 그땐 굉장히 신기했던 것 같다. 매일매일 인터넷을 사용하고 있지만 너무 생활 속에 자연스레 녹아있는 요소이다 보니 그 원리에 대해서는 그다지 신경쓰지 않았기 때문이다.</p>\n<p>그러다가 학교에서 네트워크에 대해 점점 자세히 배우면서 “내가 당연하게 사용하고 있는 이 혜택들이 사실은 굉장히 체계적이고 복잡한 시스템이구나”라는 사실을 알게 되었다.</p>\n<p>그래서 이번 포스팅에서는 필자의 집에서 구글 서버에 접속하는 과정을 통해 그 시스템에 대해서 간단하게 풀어보려고 한다. 물론 IP 주소를 기반으로 대략적인 추정을 하는 것이기 때문에 정확한 정보는 아니겠지만 대략적으로 이런 과정을 통해 해외에 있는 서버에 접속할 수 있다는 사실을 중심으로 풀어갈 것이다.</p>\n<h2 id=\"ip-internet-protocol\" style=\"position:relative;\">IP, Internet Protocol<a href=\"#ip-internet-protocol\" aria-label=\"ip internet protocol permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>먼저 우리 집에서 구글까지의 경로를 알기 위해서 인터넷하면 빠질 수 없는 <code class=\"language-text\">IP</code>에 대해서 간단하게 알아보자. <code class=\"language-text\">IP 주소</code>라는 단어는 컴퓨터 관련 전공을 하신 분이 아니더라도 굉장히 익숙한 단어이다.</p>\n<p>일반적인 환경에서 우리가 인터넷에 접속할 때 이 <code class=\"language-text\">IP 주소</code>가 <code class=\"language-text\">우리 집 주소</code>의 역할을 한다고 생각하면 된다. 마찬가지로 우리 집에서 구글까지 가는 길목에 있는 지점들도 모두 IP 주소를 가지고 있고, 우리는 그 IP 주소를 기반으로 이 지점이 어디인지 대략적으로 추측해볼 수 있다.</p>\n<p><code class=\"language-text\">IP</code>에 관해서 굉장히 기본적인 내용을 설명할 예정이므로 이미 다 아시는 분은 그냥 건너뛰셔도 무방하다.</p>\n<h3 id=\"ipv4의-구조\" style=\"position:relative;\">IPv4의 구조<a href=\"#ipv4%EC%9D%98-%EA%B5%AC%EC%A1%B0\" aria-label=\"ipv4의 구조 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>일반적으로 우리가 접할 수 있는 <code class=\"language-text\">192.168.0.1</code>과 같은 형태는 <code class=\"language-text\">IPv4</code>이다. IPv4는 <code class=\"language-text\">8비트</code>로 구성된 4개의 필드로 구성되고 이 하나하나의 필드를 <code class=\"language-text\">옥탯(Octet)</code>이라고 부른다<small>(참고로 Oct으로 시작하는 용어는 8을 뜻하는 게 많다)</small>. 예를 들어 <code class=\"language-text\">192.168.0.1</code>은 이진법으로 전환하면 다음과 같이 나타낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">10진법: 192.168.0.1\n2진법: 11000000.10101000.00000000.00000001</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>한 옥탯에 8비트밖에 가지지 못하기 때문에 옥탯은 <code class=\"language-text\">00000000 ~ 11111111</code>, 즉 십진법으로는 <code class=\"language-text\">0~255</code>의 수를 가지게 되는 것이다. 그렇기 때문에 IPv4로 생성할 수 있는 주소의 개수는 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>=</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>294</mn><mo separator=\"true\">,</mo><mn>967</mn><mo separator=\"true\">,</mo><mn>296</mn></mrow><annotation encoding=\"application/x-tex\">2^{32} = 4,294,967,296</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8388800000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">2</span><span class=\"mord\">9</span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">9</span><span class=\"mord\">6</span><span class=\"mord\">7</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">2</span><span class=\"mord\">9</span><span class=\"mord\">6</span></span></span></span>로 약 43억개이다.\n43억개라니… 꽤 큰 숫자 같아 보인다. 처음에 이 주소 체계를 만들 때만 해도 이런 생각을 했던 것 같다.</p>\n<blockquote>\n<p><em>에이 43억개나 있는데 어느 정도는 버티겠지?</em></p>\n</blockquote>\n<center>\n<br>\n.<br>\n.<br>\n.<br>\n<br>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 500px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAExEHKPUj//xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIDEiEz/9oACAEBAAEFAqkXdB6lZJ5n/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BZ//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/ASf/xAAWEAEBAQAAAAAAAAAAAAAAAAAQESH/2gAIAQEABj8Cjj//xAAZEAEAAgMAAAAAAAAAAAAAAAABESEAEHH/2gAIAQEAAT8hEmT3Hd5prSi8Yr1//9oADAMBAAIAAwAAABBMD//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxA4v//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/EKP/xAAdEAACAQQDAAAAAAAAAAAAAAABETEAECFBUXGh/9oACAEBAAE/ECKxFpNELTKlnXtikQmjunSGQA0OLf/Z&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unexpected result\" title=\"unexpected result\" src=\"/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg\" srcset=\"/static/de8631a2bb9ad577fae2ba57e8801a22/0913d/unexpected-result.jpg 160w,\n/static/de8631a2bb9ad577fae2ba57e8801a22/cb69c/unexpected-result.jpg 320w,\n/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>생각보다 전세계의 인터넷 사용자가 빠르게 늘면서 결국 <code class=\"language-text\">2011년 2월 4일</code>부로 모든 주소가 소진되어 현재는 IPv4의 할당이 중지되었다. 다행히 그 동안 손놓고 있지는 않았고, 전세계의 똑똑한 분들이 이미 대책을 다 세워두었으니 너무 걱정하진 말자.</p>\n<h3 id=\"ipv4의-클래스\" style=\"position:relative;\">IPv4의 클래스<a href=\"#ipv4%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"ipv4의 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 IP 주소는 무제한으로 막 퍼줄 수 있는 자원이 아니라 유한한 자원이다 보니, 특정 대역마다 사용처를 나누어서 관리하게 된다. 이때 나누어진 대역을 <code class=\"language-text\">클래스</code>라고 부르며 <code class=\"language-text\">A~E</code>의 총 5개의 클래스로 나누어서 관리한다. 각 클래스는 이진법으로 표현한 IPv4인 <code class=\"language-text\">00000000.00000000.00000000.00000000</code> 중 첫번째 필드에 있는 8비트에 제한을 만들어서 표기하기 때문에 첫번째 필드의 숫자만 보면 해당 IPv4 주소가 어느 클래스에 속해있는 지 알 수 있다.</p>\n<p>이 제한은 바로 첫번째 필드의 <code class=\"language-text\">최상위 비트</code>를 강제하는 방식이다. 예를 들어 <code class=\"language-text\">A 클래스</code>는 무조건 비트가 <code class=\"language-text\">0</code>으로 시작해야하기 때문에 <code class=\"language-text\">00000000(0)</code>에서 <code class=\"language-text\">01111111(127)</code>사이의 첫번째 필드를 사용할 수 있고 <code class=\"language-text\">C 클래스</code>는 무조건 비트가 <code class=\"language-text\">110</code>로 시작해야하기 때문에 <code class=\"language-text\">11000000(192)</code>부터 <code class=\"language-text\">11011111(223)</code>까지의 첫번째 필드를 사용할 수 있는 식이다.</p>\n<table>\n<thead>\n<tr>\n<th>클래스</th>\n<th>첫번째필드</th>\n<th>주소범위</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0xxxxxxx</td>\n<td>0.0.0.0 ~ 127.255.255.255</td>\n</tr>\n<tr>\n<td>B</td>\n<td>10xxxxxx</td>\n<td>128.0.0.0 ~ 191.255.255.255</td>\n</tr>\n<tr>\n<td>C</td>\n<td>110xxxxx</td>\n<td>192.0.0.0 ~ 223.255.255.255</td>\n</tr>\n<tr>\n<td>D</td>\n<td>1110xxxx</td>\n<td>224.0.0.0 ~ 239.255.255.255</td>\n</tr>\n<tr>\n<td>E</td>\n<td>1111xxxx</td>\n<td>240.0.0.0 ~ 255.255.255.255</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"특수한-목적의-ipv4-주소\" style=\"position:relative;\">특수한 목적의 IPv4 주소<a href=\"#%ED%8A%B9%EC%88%98%ED%95%9C-%EB%AA%A9%EC%A0%81%EC%9D%98-ipv4-%EC%A3%BC%EC%86%8C\" aria-label=\"특수한 목적의 ipv4 주소 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 클래스를 나누고 그 클래스 내부에서도 특수한 용도를 위해 미리 예약해놓은 IPv4 주소들이 있다. 이 예약 주소들은 <a href=\"https://tools.ietf.org/html/rfc5735\" target=\"_blank\" rel=\"nofollow\">RFC 5735</a>에 의해 정의되어 있으며 목적에 벗어난 용도로 할당 받는 것이 불가능하다. 이 포스팅에서는 간략하게 대표적인 몇가지만 설명하고 넘어가겠다.</p>\n<table>\n<thead>\n<tr>\n<th>클래스</th>\n<th>주소</th>\n<th>용도</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0.0.0.0 ~ 0.255.255.255</td>\n<td>할당되지 않은 메타 주소</td>\n</tr>\n<tr>\n<td>A</td>\n<td>10.0.0.0 ~ 10.255.255.255</td>\n<td>대규모 사설 네트워크</td>\n</tr>\n<tr>\n<td>A</td>\n<td>100.64.0.0 ~ 100.127.255.255</td>\n<td>Carrier-grade NAT용 주소</td>\n</tr>\n<tr>\n<td>A</td>\n<td>127.0.0.0 ~ 127.255.255.255</td>\n<td>자기 자신. 일명 루프백(Lookback)</td>\n</tr>\n<tr>\n<td>C</td>\n<td>192.168.0.0 ~ 192.168.255.255</td>\n<td>소규모 사설 네트워크. 공유기를 쓰면 많이 보인다.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"우리-집에서-구글까지의-경로를-보자\" style=\"position:relative;\">우리 집에서 구글까지의 경로를 보자<a href=\"#%EC%9A%B0%EB%A6%AC-%EC%A7%91%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EB%B3%B4%EC%9E%90\" aria-label=\"우리 집에서 구글까지의 경로를 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 드디어 이 포스팅의 메인 내용을 시작할 수 있게 되었다.</p>\n<p>집에서 맥북을 열고 웹 브라우저에 <code class=\"language-text\">google.com</code>을 입력하면 웹 브라우저는 전 세계 어딘가에 있는 구글 서버에 페이지를 보내달라는 요청을 보낼 것이다. 하지만 필자의 맥북과 구글 서버까지는 직접 연결되어 있지 않다.</p>\n<p>그렇기 때문에 필자가 보낸 요청은 구글 서버까지 가기 위해 여기저기를 들러가면서 험난한 여정을 겪는다. 그렇다면 이제 필자가 집에서 보낸 요청이 구글 서버까지 도달하기 전에 어디를 들리는 지 한번 알아보자.</p>\n<h3 id=\"traceroute-사용하기\" style=\"position:relative;\">traceroute 사용하기<a href=\"#traceroute-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"traceroute 사용하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 <code class=\"language-text\">Unix</code> 기반의 MacOS를 사용하고 있기 때문에 MacOS 기준으로 설명하겠다. <code class=\"language-text\">traceroute</code> 유틸리티를 사용하면 내가 보낸 패킷이 어떤 경로를 통해 구글 서버까지 도달하는 지 알아볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">traceroute</span> -q <span class=\"token number\">1</span> google.com\n<span class=\"token function\">traceroute</span> to google.com <span class=\"token punctuation\">(</span><span class=\"token number\">172.217</span>.25.196<span class=\"token punctuation\">)</span>, <span class=\"token number\">64</span> hops max, <span class=\"token number\">52</span> byte packets\n <span class=\"token number\">1</span>  <span class=\"token number\">192.168</span>.25.1 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.25.1<span class=\"token punctuation\">)</span>  <span class=\"token number\">3.077</span> ms\n <span class=\"token number\">2</span>  <span class=\"token number\">211.0</span>.0.0 <span class=\"token punctuation\">(</span><span class=\"token number\">211.0</span>.0.0<span class=\"token punctuation\">)</span>  <span class=\"token number\">5.928</span> ms\n <span class=\"token number\">3</span>  <span class=\"token number\">100.71</span>.51.17 <span class=\"token punctuation\">(</span><span class=\"token number\">100.71</span>.51.17<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.693</span> ms\n <span class=\"token number\">4</span>  <span class=\"token number\">10.44</span>.255.240 <span class=\"token punctuation\">(</span><span class=\"token number\">10.44</span>.255.240<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.328</span> ms\n <span class=\"token number\">5</span>  <span class=\"token number\">10.222</span>.18.10 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.18.10<span class=\"token punctuation\">)</span>  <span class=\"token number\">7.319</span> ms\n <span class=\"token number\">6</span>  <span class=\"token number\">10.222</span>.16.201 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.16.201<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.883</span> ms\n <span class=\"token number\">7</span>  <span class=\"token number\">10.222</span>.16.41 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.16.41<span class=\"token punctuation\">)</span>  <span class=\"token number\">3.853</span> ms\n <span class=\"token number\">8</span>  <span class=\"token number\">72.14</span>.204.124 <span class=\"token punctuation\">(</span><span class=\"token number\">72.14</span>.204.124<span class=\"token punctuation\">)</span>  <span class=\"token number\">34.784</span> ms\n <span class=\"token number\">9</span>  <span class=\"token number\">108.170</span>.242.193 <span class=\"token punctuation\">(</span><span class=\"token number\">108.170</span>.242.193<span class=\"token punctuation\">)</span>  <span class=\"token number\">37.751</span> ms\n<span class=\"token number\">10</span>  <span class=\"token number\">108.170</span>.233.79 <span class=\"token punctuation\">(</span><span class=\"token number\">108.170</span>.233.79<span class=\"token punctuation\">)</span>  <span class=\"token number\">36.643</span> ms\n<span class=\"token number\">11</span>  nrt13s50-in-f4.1e100.net <span class=\"token punctuation\">(</span><span class=\"token number\">172.217</span>.25.68<span class=\"token punctuation\">)</span>  <span class=\"token number\">35.416</span> ms</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>두번째 홉은 필자의 디테일한 위치가 노출될 수 있는 <code class=\"language-text\">공인 IP</code>를 출력하므로 보안 상 마스킹했다. 사실 필자가 사용하고 있는 <code class=\"language-text\">ISP(Internet Service Provider)</code>인 SK 브로드밴드는 관리 지역 내 IP 주소 임대기간이 1시간이기도 하고 필자는 인구밀도가 높은 곳에 거주하고 있으므로 저 IP 주소가 노출된다고 해도 위치를 알기는 쉽지 않지만 그래도 불안하기 때문에 가린다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 420px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 83.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHxdeW/NyJLO3BAH//EABwQAAEEAwEAAAAAAAAAAAAAAAIAAQMSEBEyIf/aAAgBAQABBQLop42EVXwys2sFwy//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAZEAACAwEAAAAAAAAAAAAAAAAQIQABEQL/2gAIAQEABj8CpRaNjPA//8QAHRABAAICAgMAAAAAAAAAAAAAAQARIUExsRBRkf/aAAgBAQABPyETCF0UQc/YrwbBBITx63FXjMNTtdzhP//aAAwDAQACAAMAAAAQDDCA/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQEg/9oACAEDAQE/EIFcf//EABYRAAMAAAAAAAAAAAAAAAAAACAhQf/aAAgBAgEBPxCoP//EACAQAQACAgEEAwAAAAAAAAAAAAEAESExcRBBUWGRocH/2gAIAQEAAT8QwE1QY8XLNiNKXwro4LhsBzKEPL0/XMN2DpJrwn0JbOZ//9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meme\" title=\"meme\" src=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg\" srcset=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/0913d/meme.jpg 160w,\n/static/6d8c691361160ceec51f9bdd1c9b19f0/cb69c/meme.jpg 320w,\n/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xB204;&#xAC00; &#xC6B0;&#xB9AC; &#xC9D1; &#xC54C;&#xC544;&#xB0B4;&#xBA74; &#xC5B4;&#xB5A1;&#xD574;...</small>\n</center>\n<p><code class=\"language-text\">traceroute</code>의 결과로 출력되는 하나의 row를 <code class=\"language-text\">홉(Hop)</code>이라고 부르는데, 필자의 집에서부터 구글의 서버까지 필자의 패킷이 거쳐간 경로를 의미하는 것이다. 홉의 IP 주소 오른쪽에 출력된 시간은 홉이 응답한 시간을 의미한다. 재밌는 것은 8번 홉부터 갑자기 응답 시간이 한자리 수에서 두자리 수로 확 뛴다는 것인데, 여기서부터는 패킷이 국내를 벗어나 해외로 빠져나간 것이다.</p>\n<p>그렇다면 이 IP 주소들은 어디를 의미하는 걸까?</p>\n<h3 id=\"좀-더-자세히-알아보자\" style=\"position:relative;\">좀 더 자세히 알아보자!<a href=\"#%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"좀 더 자세히 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 이 IP 주소들이 각각 어디를 의미하는지, 어떤 회사가 소유하고 있는 어떤 디바이스인지 좀 더 자세히 알아보고 싶다. 간단하게 알아보는 방법은 <code class=\"language-text\">whois</code> 유틸리티를 사용하는 방법이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ whois <span class=\"token number\">172.217</span>.25.68\nNetRange:       <span class=\"token number\">172.217</span>.0.0 - <span class=\"token number\">172.217</span>.255.255\nCIDR:           <span class=\"token number\">172.217</span>.0.0/16\nNetName:        GOOGLE\nNetHandle:      NET-172-217-0-0-1\nParent:         NET172 <span class=\"token punctuation\">(</span>NET-172-0-0-0-0<span class=\"token punctuation\">)</span>\nNetType:        Direct Allocation</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>MacOS의 <code class=\"language-text\">whois</code> 유틸리티는 5개의 <code class=\"language-text\">whois</code> 서비스에 요청을 보내 받아온 결과를 출력해주는 방식이다. 참고로 대한민국의 <code class=\"language-text\">whois</code> 서비스는 KISA(한국인터넷진흥원)의 <a href=\"https://xn--c79as89aj0e29b77z.xn--3e0b707e/kor/main.jsp\" target=\"_blank\" rel=\"nofollow\">후이즈검색</a>에서 제공하고 있다.</p>\n<table>\n<thead>\n<tr>\n<th>whois 도메인</th>\n<th>담당 구역</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>whois.arin.net</td>\n<td>아메리카</td>\n</tr>\n<tr>\n<td>whois.nic.mil</td>\n<td>미국(현재 작동안함)</td>\n</tr>\n<tr>\n<td>whois.ripe.net</td>\n<td>유럽</td>\n</tr>\n<tr>\n<td>whois.apnic.net</td>\n<td>아시아 태평양</td>\n</tr>\n<tr>\n<td>whois.jprs.jp</td>\n<td>일본</td>\n</tr>\n</tbody>\n</table>\n<p>그러나 <code class=\"language-text\">whois</code> 서비스는 기본적으로 도메인이 등록된 IP 주소의 소유주에 대한 정보를 보여주는 서비스라서 도메인이 등록되지 않은 게이트웨이나 라우터에 대한 정보는 나오지 않는다. 그래서 필자는 <a href=\"https://www.ip2location.com/demo\" target=\"_blank\" rel=\"nofollow\">IP2Location</a>이라는 사이트를 이용하여 한번 찾아볼 것이다.<small><strike>(근데 이것도 잘 나올 것 같지는 않다)</strike></small></p>\n<p>먼저 첫번째 홉인 <code class=\"language-text\">192.168.25.*</code>은 필자 집의 공유기에서 할당해준 <code class=\"language-text\">사설 IP</code> 이고 두번째 홉은 <code class=\"language-text\">ISP(Internet Service Provider)</code>가 필자에게 부여해준 <code class=\"language-text\">공인 IP</code>이나, 보안 상 마스킹 했으므로 세번째 홉인 <code class=\"language-text\">100.71.51.17</code>부터 한번 살펴보겠다.</p>\n<h4 id=\"100715117\" style=\"position:relative;\">100.71.51.17<a href=\"#100715117\" aria-label=\"100715117 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<center>\n  <img src=\"https://images.ip2location.com/18399031.png\">\n  <br>\n</center>\n<p>앗 역시 생각보다 정보가 별로 안나왔다. 대신 해당 IP 주소가 <code class=\"language-text\">Carrier Grade NAT</code>에 사용된다는 정보를 출력했다. 위에서 설명한 대로 <code class=\"language-text\">A 클래스</code>의 <code class=\"language-text\">100.64.0.0 ~ 100.127.255.255</code> 대역이 <code class=\"language-text\">Carrier Grade NAT</code>에 사용된다는 것은 이미 표준으로 정의된 것이기 때문에 사실 뻔한 결과를 출력한 것이다. 그럼 <code class=\"language-text\">Carrier Grade NAT</code>이 뭐길래 중간에 필자의 패킷이 들렀다 가는걸까?</p>\n<h5 id=\"carrier-grade-nat\" style=\"position:relative;\">Carrier Grade NAT<a href=\"#carrier-grade-nat\" aria-label=\"carrier grade nat permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>우선 <code class=\"language-text\">NAT</code>은 <code class=\"language-text\">Network Address Translation</code>의 약자로 대개 사설 네트워크에 속한 <code class=\"language-text\">여러 개의 호스트</code>가 <code class=\"language-text\">하나의 공인 IP</code>를 사용하여 인터넷에 접속하기 위한 기술이다.\n필자는 SK 브로드밴드의 IPTV나 Wi-Fi 등 여러 개의 서비스를 사용 중이다. 그렇다고 IP 주소를 가입한 서비스마다 나눠주기에는 주소가 매우 부족한 상황이기 때문에 SK 브로드밴드는 필자에게 단 하나의 공인 IP 주소를 할당해주고 <code class=\"language-text\">NAT</code> 기능이 있는 공유기를 집에 설치해, 필자의 집에 <code class=\"language-text\">사설 네트워크(Private Network)</code>를 구축해준 것이다.</p>\n<p><code class=\"language-text\">Carrier Grade NAT(CGN)</code>은 <code class=\"language-text\">NAT</code>의 스케일 큰 버전이라고 생각하면 된다. 필자의 집에 설치된 공유기는 필자의 집 내부에 사설망을 구성하는 데에 그치지만 <code class=\"language-text\">CGN</code>은 <code class=\"language-text\">백본망에 구성되는 NAT</code>이다. 쉽게 말하면 거대 공유기랄까…?</p>\n<p>필자가 알기로는 원래 스마트폰의 LTE같이 모바일 망에 직접 연결되는 무선 인터넷 디바이스를 <code class=\"language-text\">NAT</code>로 관리하기 위해 백본망에서 <code class=\"language-text\">CGN</code>을 운영한다고 알고 있었는데, 왜 집에 있는 공유기를 사용 중인 필자의 패킷이 <code class=\"language-text\">CGN</code>을 타는지는 잘 모르겠다. SK 브로드밴드가 IPv4가 많은 편은 아니긴 한데… 너무 모자라서 유선 인터넷에도 <code class=\"language-text\">CGN</code>을 달았나…?<small>(혹시 아시는 분은 좀 알려주세요…궁금해요…)</small></p>\n<h4 id=\"1044255240--102221641\" style=\"position:relative;\">10.44.255.240 ~ 10.222.16.41<a href=\"#1044255240--102221641\" aria-label=\"1044255240  102221641 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>여기서부터는 A클래스 사설망에 할당되는 IP이므로, 추측하건데 SK 브로드밴드의 백본망 내부인 것 같다. ISP들은 자신들의 망 구조를 자세히 알려주지 않기 때문에 정확히 어디에 위치한 노드인지는 알 수 없지만 SK 브로드밴드의 망 구조 상 대략 이쯤 되는 것 같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/675c61f655e114d47535a3331750e396/63ea1/skb-network.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB93MuOa1ZRFCv/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECEBES/9oACAEBAAEFAkdEZEXWIwSyv//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABcQAQADAAAAAAAAAAAAAAAAABAgITH/2gAIAQEABj8CjhR//8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAIRAxQVH/2gAIAQEAAT8h0wa2DRXJQQeQhwC4vdRQx7uABAhj/9oADAMBAAIAAwAAABCvz8D/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAVEQEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAgEBPxAh/8QAHRABAAIDAAMBAAAAAAAAAAAAAQARITFBEFFhof/aAAgBAQABPxDW9dyzTVGbKyVKZQsnr9+xkChgYlsSsalsgqtAy+4Kps7dgcgaDx//2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"skb network\" title=\"skb network\" src=\"/static/675c61f655e114d47535a3331750e396/c08c5/skb-network.jpg\" srcset=\"/static/675c61f655e114d47535a3331750e396/0913d/skb-network.jpg 160w,\n/static/675c61f655e114d47535a3331750e396/cb69c/skb-network.jpg 320w,\n/static/675c61f655e114d47535a3331750e396/c08c5/skb-network.jpg 640w,\n/static/675c61f655e114d47535a3331750e396/63ea1/skb-network.jpg 696w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC5EC;&#xAE30;&#xC11C; &#xBD80;&#xD130; &#xB2E4;&#xB978; &#xAD6D;&#xB0B4; ISP&#xC640; &#xC5F0;&#xACB0;&#xB418;&#xAC70;&#xB098; &#xD574;&#xC678;&#xB9DD;&#xC73C;&#xB85C; &#xC5F0;&#xACB0;&#xB41C;&#xB2E4;</small>\n</center>\n<h4 id=\"7214204124--10817023379\" style=\"position:relative;\">72.14.204.124 ~ 108.170.233.79<a href=\"#7214204124--10817023379\" aria-label=\"7214204124  10817023379 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<center>\n  <img src=\"https://images.ip2location.com/60603511.png\">\n  <br>\n</center>\n<p>드디어 구글이 소유하고 있는 디바이스가 나타났다! 근데 위치가 네덜란드 암스테르담이다. 구글은 미국 캘리포니아에 있는 회사인데 왜 뜬금없이 암스테르담이 출현했는지 모르겠다. 뭔가 이상하기 때문에 유럽을 담당하는 <code class=\"language-text\">whois</code> 서비스인 <code class=\"language-text\">whois.ripe.net</code>에 물어봐야겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">whois -h whois.ripe.net <span class=\"token number\">72.14</span>.204.124\n\ninetnum:        <span class=\"token number\">69.194</span>.128.0 - <span class=\"token number\">76.255</span>.255.255\nnetname:        NON-RIPE-NCC-MANAGED-ADDRESS-BLOCK\ndescr:          IPv4 address block not managed by the RIPE NCC</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>역시 여기서 관리하고 있는 주소가 아니라고 한다. 그렇다면 아메리카를 담당하는 <code class=\"language-text\">whois.arin.net</code>에 물어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">whois -h whois.arin.net <span class=\"token number\">72.14</span>.204.124\n\nNetRange:       <span class=\"token number\">72.14</span>.192.0 - <span class=\"token number\">72.14</span>.255.255\nCIDR:           <span class=\"token number\">72.14</span>.192.0/18\nNetName:        GOOGLE\nNetHandle:      NET-72-14-192-0-1\nParent:         NET72 <span class=\"token punctuation\">(</span>NET-72-0-0-0-0<span class=\"token punctuation\">)</span>\nNetType:        Direct Allocation\nOriginAS:\nOrganization:   Google LLC <span class=\"token punctuation\">(</span>GOGL<span class=\"token punctuation\">)</span>\nRegDate:        <span class=\"token number\">2004</span>-11-10\nUpdated:        <span class=\"token number\">2012</span>-02-24\nRef:            https://rdap.arin.net/registry/ip/72.14.192.0</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>오 이번에는 제대로 된 정보가 나왔다. <code class=\"language-text\">72.14.204.124</code> 주소를 가진 디바이스는 구글이 소유하고 있는 무언가인듯하다. <code class=\"language-text\">IP2Location</code>은 이제 필자에게 신뢰를 잃었기 때문에 가차없이 버리기로 하고 <a href=\"https://db-ip.com\" target=\"_blank\" rel=\"nofollow\">DB IP</a>라는 새로운 솔루션을 사용하겠다.\n<code class=\"language-text\">DB IP</code>를 사용하여 검색해보니 위치가 <code class=\"language-text\">Ashburn, Loudoun, Virginia, United States</code>로 잡히고 Connection Type은 <code class=\"language-text\">Hosting</code>으로 되어있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6aa63397ba4132502a4856ab76647df1/a6d66/db-ip-result.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACfklEQVQ4y41U72+bMBDl//+H9n3fK1VbV6VLICUNFDBgY5uYX+btzllYOk3VTjpxGN/zu3tnIucGVKJG3bQYpxnTvGCi53jn87JgHEeUlYDqNL172jcH/7PHY6bciJN5kzEWCyUOlMigq1/gyXnNryt6a1CdT5BlDlW9Q4ocVlZoQvyOOjlAvMaIhmFAnufo+wvYWjtDWMCMgHLA7MMyLgTYVTlk8QaRHZHFexxjAjnFyNIEh903pOkTIi7FOReSVmKiTQ9tLwFoWtbAjs0ZBVlnUG0OXZ1xJjbPD49IHh9xPKXYHRN8/XlANFMf6roOzuUbYzAM1wPoCD4lRH2vUFQJzvkezfsJRryhTJ7xfb/DjgDL0x5ffrwiYlbe++D3sf+wDoyuh9UNTCug6wJWCSJR4qUQeMpKpNS2h2OGSBOjoqzo9ApSdUGQYZpI1WlTkZkvpGKndTiUbVwASX2WtcHcO6zXniFiJhfqmZaaWNE4DATkRizErJMdtOIxmYPaGbE4Zxl9W+BITNkZeDpo9X7TIOIgtyWem31YTHWGlzYJcSxTHMjZJmLNfW7aFtx3ng6l1K3TAewKSG/toHAyefhY9TUyW4S46MUWM6Cmkkd6ciIztNbiZhugcxcaBQmjDN0WajqVyOU7VpoqqW2LXXPASiOUZTkOcUyK98RwREtsGZRHbyu5sw5VQ70icXhkdHAdkvjd0EAv4dZ4CMFXrwvJDCilDGV/AJz9Ggb4Rvneb6PExjGLorW5DjpdBkH/AL6y1vZBNLYI/2kMWNJocR+vDIcwRszuBhYY/ovZ374xzPINkBlyz7lFrPqHsfnM7gFZ6VsbmNX0W/F7lX8BEVLWq9ov/Y0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"db ip result\" title=\"db ip result\" src=\"/static/6aa63397ba4132502a4856ab76647df1/6af66/db-ip-result.png\" srcset=\"/static/6aa63397ba4132502a4856ab76647df1/69538/db-ip-result.png 160w,\n/static/6aa63397ba4132502a4856ab76647df1/72799/db-ip-result.png 320w,\n/static/6aa63397ba4132502a4856ab76647df1/6af66/db-ip-result.png 640w,\n/static/6aa63397ba4132502a4856ab76647df1/d9199/db-ip-result.png 960w,\n/static/6aa63397ba4132502a4856ab76647df1/21b4d/db-ip-result.png 1280w,\n/static/6aa63397ba4132502a4856ab76647df1/a6d66/db-ip-result.png 2070w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>그 이후 9번 홉인 <code class=\"language-text\">108.170.242.193</code>과 10번 홉인 <code class=\"language-text\">108.170.233.79</code> 또한 버지니아 주에 위치한 호스팅 서버인 것으로 표시되었다. 여기에 도대체 뭐가 있길래 다 여기에 옹기종기 모여있는걸까…?\n조금 구글링을 해보니 구글이 <code class=\"language-text\">Ashburn</code>에서 일할 사람을 찾고 있는 공고를 발견했다. 또한 같은 버지니아 주의 옆 동네인 <code class=\"language-text\">Sterling</code>과 <code class=\"language-text\">Reston</code>으로도 채용공고가 많이 올라와있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fa825b93f209cad6a735204a4c4504b1/6d2da/google-hiring.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1ElEQVQ4y5VTi47aMBDM//8YOhVKWiHg4BJIS97v98v2dNdw6A5xrbrSyBsrGc/sOIZSChCEecQ0zxiGAeM4Yp5GSHGDlAQFfpfxsX+EAary8IK39SuiLMd28wOr7yaKyAE6C6p8A+SAayn8re6Ebmlj5Xvo6LuomKGkQNFI6oVW148KXirJgcJMbsJcafKnCvu+R9v0kNOAsqpR1AIdETBhWkk0vUTdSWT1dS1bWtuJ5TxX2LYtfFIXxTE8z0VSjKSMCCqh11j3V/K4VAgyUjxMmoBnPt8wTZN2Y+C/690ujbjrNNhl0zSa1EiSBIvFApvNBmvzJ76t1liuTJimCcf5heVyhfPZgYgDiK690t3m9ayMuq6x3W6x37+iCveoLy8ovA1s+wTLsnA4HHC5XChpQWHJL6/LPRSe4fF4JDUOsjRC4Drwvd/Isux25+SXah4D0Qr5Ivu+j5hCSZKUwkmQphkhRVEUmpj7jMDj4T4IAoRhqJ/zPNeHfkqZFbI9xskmnCw457Pet21b7+92O7iuq+1HUUQ3wtPPLAgf5mrwb/Z+WkqIkhxeSKror+E9VllVlVbGif7TshBCx85Kh75DTQemDTDOoNP7u51nH+MhcV7/ALos6yq1rDGLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"google hiring\" title=\"google hiring\" src=\"/static/fa825b93f209cad6a735204a4c4504b1/6af66/google-hiring.png\" srcset=\"/static/fa825b93f209cad6a735204a4c4504b1/69538/google-hiring.png 160w,\n/static/fa825b93f209cad6a735204a4c4504b1/72799/google-hiring.png 320w,\n/static/fa825b93f209cad6a735204a4c4504b1/6af66/google-hiring.png 640w,\n/static/fa825b93f209cad6a735204a4c4504b1/6d2da/google-hiring.png 936w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xB0A0; &#xBF51;&#xC544;&#xC918;&#xC694;...&#xC5C9;&#xC5C9;</small>\n</center>\n<p>공고를 쭉 스캔해보니 주로 <code class=\"language-text\">Network Engineer</code>, <code class=\"language-text\">Administrative Business Partner, Data Center</code>, <code class=\"language-text\">Google Cloud</code>와 같은 키워드가 많이 보이는 걸로 봐서는 아무래도 여기에 구글 데이터센터가 있나보다. 좀 더 정보를 찾아보니 <a href=\"https://wtop.com/business-finance/2019/02/google-to-double-its-virginia-workforce/\" target=\"_blank\" rel=\"nofollow\">구글이 버지니아에서 일하는 인원을 두배 늘린다는 기사</a>도 올해 2월에 작성되었었다.</p>\n<p>여기에 구글 데이터센터가 있는 것은 아무래도 확실한 것 같다.</p>\n<h4 id=\"1722172568googlecom\" style=\"position:relative;\">172.217.25.68(google.com)<a href=\"#1722172568googlecom\" aria-label=\"1722172568googlecom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0d61b84bb06d96dea7054db728e40209/6f175/final.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACPklEQVQozz1TaW/aQBD1//8dTaRGqiKlhyrxIa1SqS2FcJoj1BhqArbBXt+3/Tqz2BlptOtd5s178xYlThLY5wtc4SEvShQlZVEgzymLa5ZVhShJcbRsuJ6PrKiQ0X2a5Uh5bZPPlDRNcTqZEARY1zXiJENaNOComwZVVcv9wRH4utDxebZFb65hsVHxupvh+0LDx5WBT8s9epsDlDzPYVkWGJgjCCN4QYjAJyZZiis0sLRc3Ix19EZTzNQ+5pNfGD/38TBa4naq43ai4V7dQUlIsh8EsogIwQlznIOc1gJuXJHcK+SLccC35xHWiyGOWh+L8W88PvVxP9VwN9fxfrrFA7FUEmIWhqGcG0sWNKMoTiQzVsuyOYzDHqOfT5g9/0FvMMOXgYq74Ro3k61k9278Fx+YYUkmeCRPCEHzqqT0qirRUW5aQNO5QNX3mBonPO7O+KGZ6P87Y/h6wcCwaW9jYlhQmFlGc+xcZYCKmDK4XNtk9ueLQw2zt/FECTUu2+bXUygBGXA8WZQmGRJK4IyeAz8hLubkp8RKTNOE67qylM+EH6CpGzmWpk2FL1lmTHPjYJM6x7lYeJ78IQNyQ2Zetwp4TN1IGsm6BVwJDVNnJS9UsYHqvsg9n63FtmVUwCCnte0WURTLYtu2ZRM2tTNPKUmaHwfwYh8FyeU9J0tJixRu4iHIIvltEYBHjDmYoesK+c0+oGMYxzGEvLg67dPKezYKFbkb2tA9Q2rif1QURbKYR+A4rqzJsuwN8D93LI+yQ2zY0gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"final\" title=\"final\" src=\"/static/0d61b84bb06d96dea7054db728e40209/6af66/final.png\" srcset=\"/static/0d61b84bb06d96dea7054db728e40209/69538/final.png 160w,\n/static/0d61b84bb06d96dea7054db728e40209/72799/final.png 320w,\n/static/0d61b84bb06d96dea7054db728e40209/6af66/final.png 640w,\n/static/0d61b84bb06d96dea7054db728e40209/d9199/final.png 960w,\n/static/0d61b84bb06d96dea7054db728e40209/21b4d/final.png 1280w,\n/static/0d61b84bb06d96dea7054db728e40209/6f175/final.png 2036w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>자 드디어 마지막 <code class=\"language-text\">google.com</code> 도메인의 종착점인 <code class=\"language-text\">172.217.25.68</code> 주소를 가진 서버이다. 이 주소도 역시 <code class=\"language-text\">DB IP</code>를 통해 검색해본 결과 일본에 있는 서버라고 한다.</p>\n<p>사실 한국에 있는 필자가 미국에 있는 서버에서 계속 정보를 받는 것보다 가까운 일본에 있는 서버에서 정보를 받는 게 훨씬 빠르기 때문에 이건 당연하긴 하다. 필자의 패킷은 태평양을 건너 미국에 갔다가 다시 일본으로 건너가는 기묘한 루트를 그리고 있었다는 것이다…</p>\n<p>자세하게 파고 들어가면 왜 이런 루트를 그리는지 알 수 있겠지만 너무 포스팅이 길어질 것 같아 여기까지만 파보겠다.<small>(다음에 좀 더 자세히 파보는 걸로…)</small>\n늘 아무 생각없이 접속하던 구글도 자세히 들여다보면 이렇게 다양한 경로를 통해 나에게 전달된다. 새삼 신기한 사실이다.</p>\n<p>이상으로 우리 집에서 구글까지 가는 길 포스팅을 마친다.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#ip-internet-protocol\">IP, Internet Protocol</a></p>\n<ul>\n<li><a href=\"#ipv4%EC%9D%98-%EA%B5%AC%EC%A1%B0\">IPv4의 구조</a></li>\n<li><a href=\"#ipv4%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\">IPv4의 클래스</a></li>\n<li><a href=\"#%ED%8A%B9%EC%88%98%ED%95%9C-%EB%AA%A9%EC%A0%81%EC%9D%98-ipv4-%EC%A3%BC%EC%86%8C\">특수한 목적의 IPv4 주소</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9A%B0%EB%A6%AC-%EC%A7%91%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EB%B3%B4%EC%9E%90\">우리 집에서 구글까지의 경로를 보자</a></p>\n<ul>\n<li><a href=\"#traceroute-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">traceroute 사용하기</a></li>\n<li><a href=\"#%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">좀 더 자세히 알아보자!</a></li>\n</ul>\n</li>\n</ul>","fields":{"lang":"ko"},"frontmatter":{"title":"우리 집에서 구글까지 가는 길","date":"2019-06-22","categories":["Programming","Network"],"tags":["컴퓨터 공학","네트워크","Network","IP","traceroute"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz02SzUsCQRjG/Ru7dQhy9kM3JYqiIJCOUgR1iM5eOnT0qBBhWqhrbpnurh8EitlBi9Qws92eZmd3Zz0M837Nb5553wmhKePPlIGmxHZmm9TmcWdfyrE6icd9381LCAVBWtwiQJtwqHMIpp/zITIHzmoiXu9kjKsiZ4S4QgobagcYVBIUQrhCHzB5isEyli+X8V4mKKcF9PPhAOjLRSeM3v022rkdqnKdP89R9quL6OYVWGac+qKnVMTluYCzo31cHEcw1ZzXeQqdg7PGJiaazBLT5y0GWuhRzOsRfNV3UckcwsisUZUK5g2FgV9uCNS0CD1LYOluGzwgQfU6iX5pDyNVQSl7yoBDdQO9QhSdQgJXqSRSJyt4K8YxKMaYmqkmoJ6RMSwJrAVLQ6GOIeC7JuDzgcCmtqPaMmTYZgTzWhj921Wq1o05yznzQ/1ujr7oUQyAfPwtd2rjanAb6yFdNu3nqCzSXkretF0RNq35UAkWjeAb/QN3B/tSHLM9hgAAAABJRU5ErkJggg==","aspectRatio":2.5316455696202533,"src":"/static/b9d22b130aacc561550df26f133f469d/ee604/network-structure.png","srcSet":"/static/b9d22b130aacc561550df26f133f469d/69585/network-structure.png 200w,\n/static/b9d22b130aacc561550df26f133f469d/497c6/network-structure.png 400w,\n/static/b9d22b130aacc561550df26f133f469d/ee604/network-structure.png 800w,\n/static/b9d22b130aacc561550df26f133f469d/84758/network-structure.png 895w","sizes":"(max-width: 800px) 100vw, 800px"}}}}},"allMarkdownRemark":{"edges":[]}},"pageContext":{"slug":"/20190622-my-home-to-google/","previous":{"fields":{"slug":"/20190618-javascript-let-const/","path":"/2019/06/18/javascript-let-const/","lang":"ko","postGroup":"20190618-javascript-let-const"},"frontmatter":{"title":"JavaScript의 let과 const, 그리고 TDZ"}},"next":{"fields":{"slug":"/20190625-hashtable-with-js/","path":"/2019/06/25/hashtable-with-js/","lang":"ko","postGroup":"20190625-hashtable-with-js"},"frontmatter":{"title":"JavaScript와 함께 해시테이블을 파헤쳐보자"}},"lang":"ko","postGroup":"20190622-my-home-to-google"}}}