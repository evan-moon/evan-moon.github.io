{"componentChunkName":"component---src-templates-post-page-template-index-tsx","path":"/2017/05/03/calculate-orbit-2/","result":{"data":{"markdownRemark":{"id":"cdaa1c4a-3da0-5f44-ab08-59709658e623","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0\">데이터 정의하기</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%8B%9C%EA%B0%84-%EC%84%A4%EC%A0%95%EA%B3%BC-%EA%B6%A4%EB%8F%84-%EC%9A%94%EC%86%8C-%EA%B3%84%EC%82%B0%ED%95%98%EA%B8%B0\">시간 설정과 궤도 요소 계산하기</a></p>\n<ul>\n<li><a href=\"#%EB%B6%80%EA%B6%A4%EB%8F%84-%EC%9A%94%EC%86%8C-%EA%B3%84%EC%82%B0%ED%95%98%EA%B8%B0\">부궤도 요소 계산하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%96%89%EC%84%B1%EC%9D%98-%EC%9C%84%EC%B9%98-%EB%8F%84%EC%B6%9C%ED%95%98%EA%B8%B0\">행성의 위치 도출하기</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 저번 포스팅에 이어 실제 궤도의 모양과 크기, 위치, 방향을 정의하고 JavaScript코드로 작성을 해보려고 한다. 실제 어플리케이션을 작성할 때는 TypeScript를 사용하였으나, 편의상 JavsScript ES6로 포스팅을 진행한다. 궤도를 구하는 방법은 저번 포스팅의 용어 정리에서 언급했던 케플러 6요소를 이용하면 된다. 데이터 정의하기 지구의 궤도 데이터는 다음과 같다. 먼저 프로퍼티에 들어있는 값은 천문학에서의 역기점인 2000년 1월 1일 정오, 즉 때 측정된 궤도의 케플러 6요소들을 의미한다. 그…","html":"<p>이번 포스팅에서는 <a href=\"/2017/05/03/calculate-orbit-1\">저번 포스팅</a>에 이어 실제 궤도의 모양과 크기, 위치, 방향을 정의하고 JavaScript코드로 작성을 해보려고 한다. 실제 어플리케이션을 작성할 때는 TypeScript를 사용하였으나, 편의상 JavsScript ES6로 포스팅을 진행한다.</p>\n<p>궤도를 구하는 방법은 <a href=\"/2017/05/03/calculate-orbit-1\">저번 포스팅</a>의 용어 정리에서 언급했던 케플러 6요소를 이용하면 된다.</p>\n<h2>데이터 정의하기</h2>\n<p>지구의 궤도 데이터는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">AU</span> <span class=\"token operator\">=</span> <span class=\"token number\">149597870</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">EARTH_ORBIT</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">base</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">1.00000261</span> <span class=\"token operator\">*</span> <span class=\"token constant\">AU</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">e</span><span class=\"token operator\">:</span> <span class=\"token number\">0.01671123</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">i</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.00001531</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">o</span><span class=\"token operator\">:</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">l</span><span class=\"token operator\">:</span> <span class=\"token number\">100.46457166</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">lp</span><span class=\"token operator\">:</span> <span class=\"token number\">102.93768193</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">cy</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">0.00000562</span> <span class=\"token operator\">*</span> <span class=\"token constant\">AU</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">e</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.00004392</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">i</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.01294668</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">o</span><span class=\"token operator\">:</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">l</span><span class=\"token operator\">:</span> <span class=\"token number\">35999.37244981</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">lp</span><span class=\"token operator\">:</span> <span class=\"token number\">0.32327364</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>먼저 <code class=\"language-text\">base</code>프로퍼티에 들어있는 값은 천문학에서의 역기점인 2000년 1월 1일 정오, 즉 <code class=\"language-text\">J2000</code>때 측정된 궤도의 케플러 6요소들을 의미한다.</p>\n<p>그리고 <code class=\"language-text\">cy</code>프로퍼티에 있는 값들은 1세기당 궤도 요소들의 변화량이다. <code class=\"language-text\">a</code>는 장반경, <code class=\"language-text\">e</code>는 이심률, <code class=\"language-text\">i</code>는 기울기, <code class=\"language-text\">o</code>는 승교점 적경, <code class=\"language-text\">l</code>은 평균 경도, <code class=\"language-text\">lp</code>는 근일점 경도를 의미한다.</p>\n<p>이 중 장반경의 경우 태양과 지구 사이의 거리를 의미하는 AU 단위로 선언되어있기 때문에 1AU를 km로 환산한 값인 <code class=\"language-text\">149597870</code>를 곱해줘야 한다.</p>\n<p>문제는 이 데이터에는 케플러 6요소 중 <code class=\"language-text\">근일점 편각</code>과 <code class=\"language-text\">근일점 통과시각</code>이 없다는 점이다.</p>\n<p>먼저 근일점 편각은 이미 주어진 근일점 경도와 승교점 적경을 사용하여 계산할 수 있으며, 근일점 통과 시각은 어차피 궤도 계산에 필요한 평균근점이각(Mean anomaly)을 구할 때 필요한 것인데 평균근점이각을 구할 때는 근일점 통과 시각보다 근일점 경도와 평균 경도를 사용하는 방법이 훨씬 간단하기 때문에 오히려 편해진 상황이다.</p>\n<h2>시간 설정과 궤도 요소 계산하기</h2>\n<p>참고로 천문학에서는 우리가 평소 사용하는 그레고리력이 아닌 율리우스력을 사용하는데, 이건 기원전 4713년 1월 1일 월요일 정오를 기점으로 계산하는 것이기 때문에 현재 시점인 서기 2017년까지의 날짜를 다루기에는 자릿수가 너무 커진다. 그래서 이번 작업에는 1976년 IAU(국제천문연맹)에서 결정한 J2000을 사용하는 것이다.</p>\n<p>이제 날짜 요소들을 선언해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">DAY</span> <span class=\"token operator\">=</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span><span class=\"token number\">24</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">YEAR</span> <span class=\"token operator\">=</span> <span class=\"token number\">365.25</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">CENTURY</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span> <span class=\"token operator\">*</span> <span class=\"token constant\">YEAR</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">J2000</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2000-01-01T12:00:00-00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> today <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> epochTime <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>today <span class=\"token operator\">-</span> <span class=\"token constant\">J2000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Date객체끼리 연산하면 값이 ms로 나오기 때문에 1000으로 나눠서 초 단위로 나오게끔 환산해준다</span>\n<span class=\"token keyword\">let</span> tDays <span class=\"token operator\">=</span> epochTime <span class=\"token operator\">/</span> <span class=\"token constant\">DAY</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 일수로 환산</span>\n<span class=\"token keyword\">let</span> <span class=\"token constant\">T</span> <span class=\"token operator\">=</span> tDAys <span class=\"token operator\">/</span> <span class=\"token constant\">CENTURY</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 몇 세기나 지났는지 환산</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 글을 작성하고 있는 지금은 2017년 5월 3일 22시 27분이다. 계산 결과 <code class=\"language-text\">J2000</code>으로부터 약 <code class=\"language-text\">6332.06028991</code>일이 지났으며 <code class=\"language-text\">0.17336236</code>세기가 지났다는 것을 알 수 있었다.</p>\n<p>그럼 이제 아까 선언한 데이터 중 지구의 한 세기당 변화량에 방금 구한 <code class=\"language-text\">0.17336236</code>을 곱한 후 궤도의 기본 요소 값에 더해주면 <code class=\"language-text\">J2000</code>이후 오늘 이 시점의 궤도 요소 값이 나올 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> keys <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span><span class=\"token constant\">EARTH</span><span class=\"token punctuation\">.</span>base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> computed <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">time</span><span class=\"token operator\">:</span> epochTime <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\ncomputed <span class=\"token operator\">=</span> keys<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">carry<span class=\"token punctuation\">,</span> el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> variation <span class=\"token operator\">=</span> <span class=\"token constant\">EARTH</span><span class=\"token punctuation\">.</span>cy <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  carry<span class=\"token punctuation\">[</span>el<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token constant\">EARTH</span><span class=\"token punctuation\">.</span>base<span class=\"token punctuation\">[</span>el<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>variation <span class=\"token operator\">*</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> carry<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> computed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*\n  a: 149598406.2031184\n  e: 0.016703615925039474\n  i: -0.0022597770311920135\n  l: 6341.400827688619\n  lp: 102.9937254119609\n  o: 0.0\n*/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>부궤도 요소 계산하기</h3>\n<p>이제 현재 시점 기준의 궤도 요소 값을 구했으면 부궤도 요소를 구할 차례이다.</p>\n<p>가장 먼저 케플러 6요소 중 하나지만 우리의 데이터에는 없는 근일점 편각을 구해보도록 하자. 근일점 편각 <code class=\"language-text\">w</code>는 근일점 경도에서 승교점 적경을 뺀 값이다. 하지만 지구의 승교점 적경 <code class=\"language-text\">o</code>는 <code class=\"language-text\">0.0</code>이므로 근일점 경도와 근일점 편각이 일치하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">computed<span class=\"token punctuation\">.</span>w <span class=\"token operator\">=</span> computed<span class=\"token punctuation\">.</span>lp <span class=\"token operator\">-</span> computed<span class=\"token punctuation\">.</span>o<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// w = 102.9937254119609 - 0.0 = 102.9937254119609</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>다음은 <a href=\"https://ko.wikipedia.org/wiki/%ED%8F%89%EA%B7%A0_%EA%B7%BC%EC%A0%90_%EC%9D%B4%EA%B0%81\" target=\"_blank\" rel=\"nofollow\">평균근점이각</a>을 구해야한다. 평균근점이각은 어떤 물체가 공전 속도와 공전 주기를 유지한 채 정확한 원 궤도로 옮겨간다고 가정했을 때 물체와 궤도 근점간의 각거리를 의미한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 260px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/51cda683e15b56138af5597de73d956e/86c28/mean-anomaly.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 99.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADP0lEQVR42oWUe1caSRDF+f6fJH/s5mx2IxrlLSiiJgKCIKDI+yXPgZmBmf5tdQ8xJGfN9jl15lV9+1bdWxPi/5a7hd4ESi9wXUVNprDdgeOA5wU5Sr2lh94F0kneDlXrQLQAqbJECTVfobeb6I7hefAT6LuAamOD76McF7IVSD+Y0IBm7YTdTQ2lD2v0fs9Qg6nd7sdzewSJe/x0mXWvz2g2YfpQw4sL2OUjRPKo1vAdQKGu8g2od4Ne7d9tsiXmJ1c85q74+PcHns9SqGSRdeIbFJuosfTW9w4A9z1QMykpWTKMVFbKHLxiuzbl9Dmcl8lnzvkWjZr7h7M4sZNPrBbzYK/tEHJchbXxsdYeRjNdXqwImYowEOBkmZfzLJ+P/qT9JclDPEE7dkEhmeTqOk2jUWU+nwaArkuo9zylWXmlWRpjL9aimpSaq8FtHSXB7RPVVJpUJkIudkohHKZa+MpTq850MsReLpn1e+wmwnK2JLRaLvCVDxsB225FVYdf2+C4Gxgv6WWuuQ3/QyWW4DmW5urLCZ/Df3AVPoK4WKrUJLRcLPHUXlltYgF9M6xeqzXbuxp29JbUaZhm4oJyKkkxHsO9uGcSyTKQICmWEvuErJXFVgyM1G/cr/2lLaOBa12UWIVEiXbykqPIJ8qncbY3VSKJY86O/2J2J98vq8KwKIJKyY6AWJYVVCj9MNeRNPlCFE7eB4bOyKalRbffphpJiFj39AtFcjdZnJ0QWUt1ja4ZhJCSPi3m82CUrDVqq5m6YpmKsYaxz2M3KF82WIk73OgdfK2bZ0NAj+i+TcaHm/WazWYTfJSeYkRyULlqwFT3Vi/ZZKeLbGJ541Wv3gnm/UDIUCBmwNLTp0gEoDIxGrQ/CkQy4eMm8qyOc3KQ+PSxbQAP19uk7EQIU7q2ioQ/ecXvD/Z/nb1QwnTXGrBq9X6w/mX9NMtbUdYw1b0REK9aY1eU0l5a5t5rPJm85Wol3lXm8O/x7t9Gl71YLExPTaIGN7FnqQHFDf5ekN8yPFy2bZuNlgjmiEc1gGalr9PplMFwyGAwoNPt0mq1TP5/Ah7S1/e6DTrZkjK1X/UhnU6H8WTCaDiir0Hl+Tvgv1wd7wlZv0wTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"mean anomaly\" title=\"\" src=\"/static/51cda683e15b56138af5597de73d956e/86c28/mean-anomaly.png\" srcset=\"/static/51cda683e15b56138af5597de73d956e/69538/mean-anomaly.png 160w,\n/static/51cda683e15b56138af5597de73d956e/86c28/mean-anomaly.png 260w\" sizes=\"(max-width: 260px) 100vw, 260px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>즉 위 그림에서 실제 물체의 궤도는 회색 궤도이나, 저 궤도를 원이라고 가정한 빨간 궤도에서의 각거리를 구하는 것이다.</p>\n<p>저 두 궤도의 공전 주기는 같기 때문에 같은 지역을 같은 시간 동안 지나간다. 근데 그림을 보면 원 궤도는 각 호들의 넓이가 일정하지만 타원 궤도인 회색 궤도는 일정하지 않다.</p>\n<p>타원 궤도를 도는 물체는 초점과의 거리에 따라 각속도가 변하기 때문이다. 그래서 좀 더 구하기 쉬운 평균근점이각을 먼저 구한 후 타원 궤도에 이를 적용하게 된다. 이러한 접근 방법이 가능한 이유는 케플러 제2법칙인 <a href=\"https://ko.wikipedia.org/wiki/%EC%BC%80%ED%94%8C%EB%9F%AC%EC%9D%98_%ED%96%89%EC%84%B1%EC%9A%B4%EB%8F%99%EB%B2%95%EC%B9%99\" target=\"_blank\" rel=\"nofollow\">면적속도 일정</a>의 법칙 때문이다.</p>\n<p>평균근점이각을 구하는 공식은 여러 개가 있으나 필자는 이미 주어진 근일점 경도와 평균 경도값을 가지고 평균근점이각을 구하는 공식을 사용하려고 한다.</p>\n<p>평균근점이각 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span></span>은 평균 경도 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">l</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span>과 근일점 경도 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ω</span></span></span></span></span>의 차로 나타내어 질 수 있다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>M</mi><mo>=</mo><mi>l</mi><mo>−</mo><mi>ω</mi></mrow><annotation encoding=\"application/x-tex\">M = l-\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ω</span></span></span></span></span></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">computed<span class=\"token punctuation\">.</span><span class=\"token constant\">M</span> <span class=\"token operator\">=</span> computed<span class=\"token punctuation\">.</span>l <span class=\"token operator\">-</span> computed<span class=\"token punctuation\">.</span>lp\n<span class=\"token comment\">/* M = 6341.42938740066 - 102.99372566842652 =  6238.435661732234 */</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>평균근점이각까지 구했다면 이제는 <a href=\"https://ko.wikipedia.org/wiki/%ED%8E%B8%EC%8B%AC%EC%9D%B4%EA%B0%81\" target=\"_blank\" rel=\"nofollow\">편심이각(Eccentric anomaly)</a>을 구할 차례이다. 이때 앞으로의 계산을 원활하게 하기 위해 Digree 단위로 표현되어있는 값들을 모두 Radian으로 변경해주겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">DEG_TO_RAD</span> <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">;</span>\n\ncomputed<span class=\"token punctuation\">.</span>a <span class=\"token operator\">*=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 149598406204.91275</span>\ncomputed<span class=\"token punctuation\">.</span>i <span class=\"token operator\">*=</span> <span class=\"token constant\">DEG_TO_RAD</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// -0.000039441031811489665</span>\ncomputed<span class=\"token punctuation\">.</span>o <span class=\"token operator\">*=</span> <span class=\"token constant\">DEG_TO_RAD</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0.0</span>\ncomputed<span class=\"token punctuation\">.</span>w <span class=\"token operator\">*=</span> <span class=\"token constant\">DEG_TO_RAD</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1.7975796293754245</span>\ncomputed<span class=\"token punctuation\">.</span><span class=\"token constant\">M</span> <span class=\"token operator\">*=</span> <span class=\"token constant\">DEG_TO_RAD</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 108.8812424710587</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>편심이각은 타원 카플러 궤도를 따라 움직이는 물체의 위치를 결정하는 중요한 궤도 요소이다. 그림으로 보면 더 직관적으로 이해하기가 쉽다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 598px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/33f77c9a2fce957c60f7cfb7522b088a/0c69d/eccentric-anomaly.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAADWElEQVR42mNgwAD/GePr73OEFj7iBGH7+Psc6PJAgokBH6ivr2fySzrC6552TdK94JqkR+4tURh2zbgg5pJ9Xcop75K4cdoZLqiBDAgai4tAiqEGsNvb72dBU8BYDxSzB7raN++uuFnKNhk+GS0hvIaGMoQyMxAEEM02UVuUjH2n+/t1/ucFWUZIA+NkUwbhCdYccrN1GMSnaDFIgNgzjRn4QSq06v+z2ZV+VHUv/67gnXlJEBQ8mMYADVklwyDUb86m2ezFYVUVyG/UYc8ps1CDQRiE2935FepDhczanBlMc/wrbbvtw3QSjN1cgVq5AiqeCIPCGMPQ0khe1bQ8QbnQei02XF4Nqu6WDyuN9ZpmzmDcZGxYXS/NIAN0DJNtwQNJUISiaEloFpRNqxeUA8c4UBHI1SBcz1APTh5OwMhwyztrnFgvpxTYrSTmUHvHutU8WXyRMoNKvb2/gFXpaymM8Iwv51dIqxKRhIYDStJwy7qt4l24WTq9ikG6vn4/S1hOs4tt1TXJ/QwMLAtUGJRTQicp6nX/50ZJGiAipUJELalcxBBZzD7/vIBz5kOl0FUMzCBLGf7/Z/QtWKAdXJKnZ1//nwPk7XYTE0P/hB2yaOH0nzF0VShzYqWEVla9Fg8swXsXP9fxyP3HnpbGwJpULSBvb/+fxT3/ukJ4ubmCb85ORZC69fIMAgWeOdY4cg0DW3IFu8p/oLddM+6IWYavtgKGES9QnAkUzqGh/5ld8t7J5dczCAQUrVNzy7mvYRixS6reJdoizTiNFWyIP9BboOh3zTgqZpH8QSi0fKacT2KAvUXUVmt503gDt5wrZn7Zy6TCSqONvLKuSLjl3TEOzC2TCS6ZoKdp126oG7bYIi+41XkVAwMklYASqVPyJXGIoRfE7NOeikirWznq+/crJG34z+te9UoytPKZaETlHvGAiv/Cvnn/xQPLFsvE1Ner8EvaGGuFLpSr8UzTXSTOwI0vr4lCsSAQC0AxKBGLADGPsSO7sqo+pzSQDcIM7TbexnAvwyIFgUH5DJjIxcWBNkoCSxgQLQ8sxtgVGBj4gAWDFpt3opiShqmUMIg9U5KBq9AtzZGBXBAaysCc2yohCuP3aYhIpoQ2K5JjFiNSamBCtgDmMwCDwQuB3rpoFgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"eccentric anomaly\" title=\"\" src=\"/static/33f77c9a2fce957c60f7cfb7522b088a/0c69d/eccentric-anomaly.png\" srcset=\"/static/33f77c9a2fce957c60f7cfb7522b088a/69538/eccentric-anomaly.png 160w,\n/static/33f77c9a2fce957c60f7cfb7522b088a/72799/eccentric-anomaly.png 320w,\n/static/33f77c9a2fce957c60f7cfb7522b088a/0c69d/eccentric-anomaly.png 598w\" sizes=\"(max-width: 598px) 100vw, 598px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>위 그림에서 <code class=\"language-text\">P</code>는 궤도를 돌고 있는 행성위 위치를 나타내며, 그에 따른 편심이각을 <code class=\"language-text\">E</code>로 나타내고 있다. 그리고 타원의 중심은 <code class=\"language-text\">C</code>이고 타원의 초점은 <code class=\"language-text\">F</code>이다.</p>\n<p>이때 편심이각 <code class=\"language-text\">E</code>는 타원의 중심에 꼭지점 하나를 찍고 궤도 장반경과 같은 길이의 빗변 <code class=\"language-text\">a</code>를 그은 후, 장반경 <code class=\"language-text\">e</code>와 수직하면서도 <code class=\"language-text\">P</code>에 닿도록\n선분을 그어 만들어진 직각삼각형에서 관찰되는 각이다.</p>\n<p>평균근점이각과 마찬가지로 편심이각도 여러 개의 정의로 나타내어질 수 있는데, 필자는 이미 평균근점이각을 구했기 때문에 평균근점이각으로부터 유도되는 공식을 사용하겠다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>E</mi><mo>=</mo><mfrac><mrow><mi>M</mi><mo>+</mo><mi>e</mi><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mi>M</mi></mrow></mrow><mrow><mn>1</mn><mo>−</mo><mi>e</mi><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>M</mi></mrow></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">E = \\frac{M+e{sinM}}{1-e{cosM}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1297em;vertical-align:-0.7693em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\">cos</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></div>\n<p>여기서 <code class=\"language-text\">e</code>는 이심률, <code class=\"language-text\">M</code>은 평균근점이각을 의미한다. 그러나 한가지 슬픈 사실은 여기서 나오는 E값이 근사값이라는 것이다. 그렇기 때문에 보통 이 공식을 통해 나온 해는 <a href=\"https://en.wikipedia.org/wiki/Newton%27s_method\" target=\"_blank\" rel=\"nofollow\">Newton-Raphson method</a>를 사용하여 오차를 줄여줘야한다.</p>\n<p><code class=\"language-text\">Newton-Raphson method</code>는 미분 가능한 함수의 해를 찾는 방법인데, 계속적인 급수 형태로 계산되어지며 계산을 반복할수록 더 정확한 근사치를 뱉어준다고 보면 된다.</p>\n<p>값의 오차는 이심률이 높을 수록 더 커지게 되는데, 데이터 상 지구의 이심률은 <code class=\"language-text\">0.0167703</code>정도니까 오차율이 그렇게 크진 않을 것이라고 예상된다. 그럼 코드를 작성해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">getEccentricity</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback<span class=\"token punctuation\">,</span> x0<span class=\"token punctuation\">,</span> maxCount</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> x2 <span class=\"token operator\">=</span> x0<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> maxCount<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    x <span class=\"token operator\">=</span> x2<span class=\"token punctuation\">;</span>\n    x2 <span class=\"token operator\">=</span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">kepler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e<span class=\"token punctuation\">,</span> <span class=\"token constant\">M</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">M</span> <span class=\"token operator\">+</span> e <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> x<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> e <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ncomputed<span class=\"token punctuation\">.</span><span class=\"token constant\">E</span> <span class=\"token operator\">=</span> <span class=\"token function\">getEccentricity</span><span class=\"token punctuation\">(</span><span class=\"token function\">kepler</span><span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">,</span> computed<span class=\"token punctuation\">.</span><span class=\"token constant\">M</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> computed<span class=\"token punctuation\">.</span><span class=\"token constant\">M</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/* E =108.8962365500302 */</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>행성의 위치 도출하기</h2>\n<p>이렇게 특정 날짜를 기준으로 행성의 위치를 알아내기 위해 필요한 값들을 모두 구했다.</p>\n<p>이 값들이 있다면 근일점 쪽을 X축으로 하는 황도좌표평면에 대한 직각 좌표 값을 계산할 수 있으며, 이 좌표 값의 유클리드거리 <code class=\"language-text\">r</code>과 항성과 궤도의 근일점 기준으로 어느 각도에 행성이 위치하고 있는지를 나타내는 진근점이각 <code class=\"language-text\">v</code>를 통해 행성의 위치를 표현할 수 있다.</p>\n<p>즉, 행성은 항성으로부터 <code class=\"language-text\">r</code>만큼의 거리만큼 떨어져 있고 궤도의 근일점으로부터 <code class=\"language-text\">v</code>만큼 돌아간 위치에 존재하고 있다는 것이다. 이렇게 거리랑 각만 알면 3D Scene내에서의 로컬좌표를 정의할 수 있게된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">RAD_TO_DEG</span> <span class=\"token operator\">=</span> <span class=\"token number\">180</span> <span class=\"token operator\">/</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span>\n\ncomputed<span class=\"token punctuation\">.</span>pos <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\ncomputed<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> computed<span class=\"token punctuation\">.</span>a <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span><span class=\"token constant\">E</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> computed<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncomputed<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> computed<span class=\"token punctuation\">.</span>a <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span>e <span class=\"token operator\">*</span> computed<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span><span class=\"token constant\">E</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncomputed<span class=\"token punctuation\">.</span>r <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncomputed<span class=\"token punctuation\">.</span>v <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">atan2</span><span class=\"token punctuation\">(</span>computed<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> computed<span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncomputed<span class=\"token punctuation\">.</span>r <span class=\"token operator\">/=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token constant\">AU</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncomputed<span class=\"token punctuation\">.</span>v <span class=\"token operator\">*=</span> <span class=\"token constant\">RAD_TO_DEG</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\n  r = 1.0081888306835929 AU\n  v = 120.17208256525967 도\n*/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 이 포스팅 작성 시점을 기준으로 지구는 태양으로부터 <code class=\"language-text\">1.0081...</code>AU 떨어진 위치에 지구 궤도의 근일점으로부터 약 <code class=\"language-text\">120</code>도 돌아간 곳에 위치하고 있다는 결과를 얻을 수 있다.</p>\n<h2>마치며</h2>\n<p>사실 제일 마지막 <code class=\"language-text\">pos</code>를 구하는 공식과 <code class=\"language-text\">진근점이각</code>을 구하는 공식은 아직 이해가 잘 안된다. 하지만 중요한 것은 이런 공식을 사용해서 내가 원하는 뭔가를 만들어 볼 수 있다는 것이 아닐까 생각한다.</p>\n<p>이 공식들을 사용하여 필자가 만든 시뮬레이터는 <a href=\"https://solar-system-ts.herokuapp.com/\" target=\"_blank\" rel=\"nofollow\">여기</a>에서 확인해볼 수 있고, 전체 소스는 <a href=\"https://github.com/evan-moon/solarsystemts\" target=\"_blank\" rel=\"nofollow\">Solarsystem 프로젝트 깃허브 레파지토리</a>에서 확인해볼 수 있다.</p>\n<p>이상으로 행성 위치 게산하기 포스팅을 마친다.</p>","fields":{"slug":"20170503-calculate-orbit-2","path":"/2017/05/03/calculate-orbit-2/","lang":"ko"},"frontmatter":{"title":"[JavaScript로 천체 구현하기] 행성의 움직임을 구현해보자","date":"2017-05-03","categories":["프로그래밍","그래픽스"],"tags":["궤도 구현하기","케플러 궤도 방정식","케플러 6요소","JavaScript","자바스크립트","WebGL","ThreeJS","수학","튜토리얼"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282838","images":{"fallback":{"src":"/static/746a090a9954b09cea8d75079269697d/3a812/thumbnail.jpg","srcSet":"/static/746a090a9954b09cea8d75079269697d/1cda5/thumbnail.jpg 80w,\n/static/746a090a9954b09cea8d75079269697d/b1a47/thumbnail.jpg 160w,\n/static/746a090a9954b09cea8d75079269697d/3a812/thumbnail.jpg 320w,\n/static/746a090a9954b09cea8d75079269697d/698e2/thumbnail.jpg 640w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/746a090a9954b09cea8d75079269697d/3e5ca/thumbnail.webp 80w,\n/static/746a090a9954b09cea8d75079269697d/b72f1/thumbnail.webp 160w,\n/static/746a090a9954b09cea8d75079269697d/fc5c5/thumbnail.webp 320w,\n/static/746a090a9954b09cea8d75079269697d/c5332/thumbnail.webp 640w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#282838","images":{"fallback":{"src":"/static/746a090a9954b09cea8d75079269697d/2c11c/thumbnail.jpg","srcSet":"/static/746a090a9954b09cea8d75079269697d/23110/thumbnail.jpg 750w,\n/static/746a090a9954b09cea8d75079269697d/da421/thumbnail.jpg 1080w,\n/static/746a090a9954b09cea8d75079269697d/a2093/thumbnail.jpg 1366w,\n/static/746a090a9954b09cea8d75079269697d/2c11c/thumbnail.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/746a090a9954b09cea8d75079269697d/6858b/thumbnail.webp 750w,\n/static/746a090a9954b09cea8d75079269697d/f5547/thumbnail.webp 1080w,\n/static/746a090a9954b09cea8d75079269697d/29310/thumbnail.webp 1366w,\n/static/746a090a9954b09cea8d75079269697d/dc0d9/thumbnail.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}},"allMarkdownRemark":{"edges":[]}},"pageContext":{"slug":"20170503-calculate-orbit-2","previous":{"fields":{"slug":"20170503-calculate-orbit-1","path":"/2017/05/03/calculate-orbit-1/","lang":"ko","postGroup":"20170503-calculate-orbit-1"},"frontmatter":{"title":"[JavaScript로 천체 구현하기] 케플러 6요소 알아보기"}},"next":{"fields":{"slug":"20170506-gravity-via-js-1","path":"/2017/05/06/gravity-via-js-1/","lang":"ko","postGroup":"20170506-gravity-via-js-1"},"frontmatter":{"title":"[JavaScript로 중력 구현하기] 1. 중력이란 무엇일까?"}},"lang":"ko","postGroup":"20170503-calculate-orbit-2"}},"staticQueryHashes":["3129619726","3523904809","376081736","650499039"],"slicesMap":{}}