{"componentChunkName":"component---src-templates-post-page-template-tsx","path":"/2020/12/12/draw-arc-with-svg-clippath/","result":{"data":{"markdownRemark":{"id":"f30b30af-f27a-561f-858d-4465b7031bbd","excerpt":"이번 포스팅에서는 얼마 전에 필자가 삽질했던 내용인 SVG로 도넛 차트 그려보기에 대해서 이야기해볼까 한다. 사실 도넛 차트를 그리는 것 자체는 SVG가 제공하는  엘리먼트를 사용하면 되기 때문에 간단하게 만들 수 있지만, 필자가 삽질했던 부분은 바로 애니메이션이었다.","html":"<p>이번 포스팅에서는 얼마 전에 필자가 삽질했던 내용인 SVG로 도넛 차트 그려보기에 대해서 이야기해볼까 한다. 사실 도넛 차트를 그리는 것 자체는 SVG가 제공하는 <code class=\"language-text\">circle</code> 엘리먼트를 사용하면 되기 때문에 간단하게 만들 수 있지만, 필자가 삽질했던 부분은 바로 애니메이션이었다.</p>\n<!-- more -->\n<p>물론 <a href=\"https://www.chartjs.org/\" target=\"_blank\" rel=\"nofollow\">chartjs</a>나 <a href=\"https://nivo.rocks/\" target=\"_blank\" rel=\"nofollow\">nivo</a>같은 차트 라이브러리를 사용하면 쉽게 도넛 차트를 사용할 수 있기는 하지만, 사실 필자에게 필요한 건 막대 차트와 도넛 차트 뿐이었기 때문에 이런 라이브러리를 사용하는 것이 과하다는 생각이 들었고, 결정적으로 이 정도 차트는 그냥 캔버스나 SVG로 대충 그려서 뚝딱하면 될 것 같다는 생각에 직접 구현하는 것으로 방향을 잡았다.</p>\n<h2 id=\"사건의-발단\" style=\"position:relative;\">사건의 발단<a href=\"#%EC%82%AC%EA%B1%B4%EC%9D%98-%EB%B0%9C%EB%8B%A8\" aria-label=\"사건의 발단 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/d73af6df8335316c67a49ab5b03887cb/doughnut_clipped.gif\" width=\"100%\">\n  <div>\n</div></div></center>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// 원래는 이런 인터페이스를 가지고 있었다</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DoughnutChart</span></span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">rate</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">80</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>사건의 발단은 바로 이렇게 생긴 도넛 차트였다. 사실 이 녀석은 필자가 맡고 있는 특정 서비스에서만 사용하고 있던 녀석이라서 굉장히 안일한 인터페이스를 가지고 있던 녀석이었지만, 최근 다른 곳들에서 이 녀석을 사용해야하는 니즈가 늘어나게 되면서 이 인터페이스를 조금 더 추상화해야할 일이 생겼다.</p>\n<p>기존 인터페이스는 빈 도넛차트에 1개의 데이터를 <code class=\"language-text\">rate</code>라는 퍼센테이지 값을 사용하여 렌더하는 방식이었기 때문에, 도넛 차트에 들어오는 데이터가 반드시 하나라는 가정이 성립되어야만 사용할 수 있는 인터페이스였다.</p>\n<p>하지만 이 도넛 차트를 여러 곳에서 자유롭게 사용할 수 있게 하려면 1개 데이터가 아니라 여러 개의 데이터를 시각화할 수 있게 변경해야했고, 이 과정에서 도넛 차트의 로직과 애니메이션 또한 뜯어고칠 수 밖에 없었다.</p>\n<h2 id=\"도넛-차트-그리기\" style=\"position:relative;\">도넛 차트 그리기<a href=\"#%EB%8F%84%EB%84%9B-%EC%B0%A8%ED%8A%B8-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"도넛 차트 그리기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 SVG 도넛 차트를 그리는 것 자체는 <code class=\"language-text\">circle</code> 엘리먼트와 <code class=\"language-text\">stroke</code>를 조합하면 꽤나 간단하게 해결할 수 있다. 한번 간단하게 SVG로 동그라미를 그려보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 509px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQ4y61Uu6rCQBCNgrZWfoKCH6A/oLXYW/gBCmJhY2Vhb2Mh2Ap2go2NnyBooZ0WYqeQRhQhr3Mzd1h387jJvdwMHDbZOXMyM5ldTdd1vF4vPJ/PRKCRWJKmkSqZ4ziJwCPIK4PMsgDTBGybQc+05+dFZCgdIjDMVJ9fNFRQBByPQKcDVCpAuQy028Dh4OX4Mw2ULIiLBZBOuwTNi1QKmM+DoqGCgrDfS4FuF9jteK/Xk/vbbXhrPILUdLJWi4P6/WD/BgP2NZv8TjGRJdNSKnHQ+cwkw2CQnU7sI877HVGybTufLxaLHHS9yixE9pcL97ZQAMSZoJGK7GGjwYLjcbDkyYR99brsYexP2Ww4KJMBplPgdgPud2A2A7JZ9q3XMvvIORTpj0byj+ZyDPE+HMpSY+dQJaxWQK0G5POMahVYLoMD/aOgSlAb7d5w3xAmMos9eiqBVnExqELq3P3icggHjRThT9dXYhfs4/Fwx8VyT4LhlmP+G18KbNGK/64ilQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"circle\" title=\"circle\" src=\"/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png\" srcset=\"/static/928ae352c7a3d1872f030ad036c7c03d/69538/circle.png 160w,\n/static/928ae352c7a3d1872f030ad036c7c03d/72799/circle.png 320w,\n/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</center>\n<p>SVG 상에서 아무런 단위를 붙히지 않은 숫자는 암묵적으로 <code class=\"language-text\">px</code> 단위로 정의된다. 필자는 <code class=\"language-text\">width</code>와 <code class=\"language-text\">height</code>가 <code class=\"language-text\">500px</code>인 정사각형의 박스를 렌더하고 <code class=\"language-text\">viewBox=&quot;0 0 100 100&quot;</code>을 사용하여 이 뷰박스 내부 세계에는 가로 <code class=\"language-text\">100px</code> 세로 <code class=\"language-text\">100px</code>을 가진 좌표를 정의한 것이다.</p>\n<p>만약 <code class=\"language-text\">viewBox</code> 속성을 사용하지 않았다면 SVG는 자동으로 <code class=\"language-text\">width</code>와 <code class=\"language-text\">height</code>에 주어진 값만큼의 픽셀을 가진 뷰박스를 렌더했을테지만, 좌표가 0 ~ 100으로 떨어지는 편이 도형의 좌표를 생각하기 더 쉬우므로 이렇게 정의한 것이다.</p>\n<p>즉, 실제 우리 눈에 보이는 이 박스의 크기는 가로세로 <code class=\"language-text\">500px</code>이지만 내부적으로는 <code class=\"language-text\">100 x 100</code>의 좌표계로 동작한다. 이후 필자는 이 뷰박스의 중심인 <code class=\"language-text\">(50px, 50px)</code>을 기준으로 지름이 <code class=\"language-text\">20px</code>이고 선 굵기가 <code class=\"language-text\">10px</code>인 원을 렌더했다.</p>\n<p>그리고 이 원 자체가 하나의 데이터가 차트의 100%를 차지하고 있는 도넛 차트라고 볼 수 있다. 도넛 차트는 이렇게 SVG의 <code class=\"language-text\">circle</code> 엘리먼트 만으로도 기본적인 모양을 잡을 수 있기 때문에 시각화 자체가 그렇게 어려운 편은 아니다.</p>\n<p>하지만 도넛 차트라고 하면 하나의 데이터가 아니라 여러 개의 데이터를 동시에 시각화 할 수 있어야할텐데, 그렇다면 여러 개의 데이터를 표현하고 싶다면 어떻게 해야할까?</p>\n<h3 id=\"여러-개의-데이터를-시각화해보자\" style=\"position:relative;\">여러 개의 데이터를 시각화해보자<a href=\"#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%8B%9C%EA%B0%81%ED%99%94%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"여러 개의 데이터를 시각화해보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>도넛 차트는 결국 하나의 도넛 도형을 각 데이터가 부분부분 나누어 가지고 있는 형태의 그래프이다. 즉, 데이터 별로 원의 일부분을 차지하고 있는 모양을 그려줘야 한다는 이야기이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 508px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABbElEQVQ4y61Uuw6CQBD0oy3siT/gD2BDpxXRGG1s0EKNGml8oQ0UJPiKkBjRMbvJGZQFLdhkc5tjbzIz3F4pCAKEYYjr9VpIlgisyCgRKsXz+SwkPwCTwKp+PB7vvWSdPJPLUIXUrEIBS30ioFqPxyPG4zF6vR663S5GoxEOh4NIQARMrp7nodlsQtd1GIbBWa/XUavVMJlM3ky/WYoML5cLs2q1WpjNZjidTrxHbKvVKqfruh+guYC2bcM0TaxWq5Qky7JQqVTQaDRSfoqSKYbDITqdDtQ3OqSYkIflchmapuF2u+VLVutgMGDAKIpS7AlkOp1isVggjuP/PJzP5yzZcZyU5PP5jM1mA9/3xb8tApKsdruNfr/PV+d+v3MS2Ha7ZW8lqzJHj2K32zHT9XrNTCmXyyWD0YMincn0UNXkId3H/X7PSbXql+5u7qQkm8h89QOypurnpEhyvvf+Gr0stnkKfgIW9sAWES/4Wwsa7sTBsQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut\" title=\"doughnut\" src=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" srcset=\"/static/733cf6be71679daf82979b47834fb780/69538/doughnut.png 160w,\n/static/733cf6be71679daf82979b47834fb780/72799/doughnut.png 320w,\n/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xD558;&#xB098;&#xC758; &#xB370;&#xC774;&#xD130;&#xAC00; &#xC6D0;&#xC758; &#xAC01; &#xBD80;&#xBD84;&#xBD80;&#xBD84;&#xC744; &#xCC28;&#xC9C0;&#xD558;&#xACE0; &#xC788;&#xB2E4;</small>\n</center>\n<p>다행히도 SVG는 선을 그릴 때 점선(대시)을 표현할 수 있는 <code class=\"language-text\">stroke-dasharray</code>라는 속성을 제공하고 있기 때문에 어떤 데이터를 얼마나 그려줄 것이냐를 표현하고 싶을 때 이 속성을 이용하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span>\n  <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10 5<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">stroke-dasharray</code>는 숫자와 공백으로 구분되는 일련의 데이터 셋을 전달받아 점선을 정의하며, 첫 번째 인자는 선을 얼마나 그릴 것인지를 결정하고 두 번째 인자는 공백을 얼마나 그릴 것인지를 결정한다. 즉, 위 예제 코드는 <code class=\"language-text\">10px</code> 만큼 선을 그리고 <code class=\"language-text\">5px</code>만큼 공백을 그리는 것을 반복하기 때문에 이런 결과를 볼 수 있을 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 510px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABNElEQVQ4y62UO8vCQBBF8///hKBYWQg2IjY22mgl+AAVFR+FFoE8DCSao/OFJbvJZxIwFwZ2SfbsHWZnLNu28X0fz/N+Dtd1sQRWl6IowhKyKI7jn0IUhqEJVJKlim97XYVA/eDrlYQutTcvKAHqB0W3G1yveWipwyxsNoPdDsZjaDbhcIDNxkw7cVrgUMGOR2g04PEw3bRaMJlk0y9x+HwmzpRkL6EkTs1ifQGqG5dL6HRSmA4WicPFInVZCtzvYb3OV1UBez2YTisAda1W6QEByWcF73bhcqkA1A9JysNhvr222+QZmZWu8A4/bcnpBPM59PtJtQcDaLfz3VNaZT378xlGI7jf4TOYjPas9A71H7MdkW+5Cin/18+qKN8GREHKNY6v2gas4zh/C6H/EsIIgoA3NbMiWKciiP8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dasharray\" title=\"dasharray\" src=\"/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png\" srcset=\"/static/2a7989e6f31606ad23b405a597271acd/69538/dasharray.png 160w,\n/static/2a7989e6f31606ad23b405a597271acd/72799/dasharray.png 320w,\n/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>10px&#xC758; &#xC120;, 5px&#xC758; &#xACF5;&#xBC31;&#xC774; &#xBC18;&#xBCF5;&#xB41C; &#xC810;&#xC120;&#xC774; &#xD45C;&#xD604;&#xB41C; &#xBAA8;&#xC2B5;</small>\n</center>\n<p>즉, 이 속성을 사용하여 원의 일부분만을 차지하는 선을 하나 그린 후 나머지는 공백으로 두는 점선을 표현한다면 도넛 차트에서의 여러 데이터의 표현이 가능한 것이다. </p>\n<p>하지만 위 예제를 자세히 보면 원의 오른쪽 부분에 있는 선의 길이가 다른 곳에 비해서 더 긴 것을 확인할 수 있다. 그 이유는 필자가  <code class=\"language-text\">stroke-dasharray</code> 속성에 넘긴 저 숫자가 원주의 길이와 정확히 맞아떨어지는 숫자가 아니기 때문이다.</p>\n<p><code class=\"language-text\">stroke-dasharray</code> 속성은 렌더할 선과 공백의 길이, 즉 <code class=\"language-text\">px</code> 단위의 값을 받는 녀석이다. 그 말인 즉슨 점선을 딱 떨어지게 그리고 싶다면 원주의 길이, 즉 원의 둘레 길이를 먼저 알아낸 후에 이 길이에 정확히 나누어 떨어지는 값들을 넣어줘야 한다는 것이다.</p>\n<p>SVG는 원을 그릴 때 원점의 오른쪽 방향인 <code class=\"language-text\">(cx + r, cy)</code> 좌표를 기준점으로 삼아서 원을 렌더한다. 그래서 <code class=\"language-text\">stroke-dasharray</code>를 사용하여 점선을 렌더할 때 원이 끝나는 지점과 정확히 아다리가 맞지 않는다면 위 예제처럼 원의 오른쪽 부분의 점선만 길어보이는 현상이 발생할 수 있는 것이다.</p>\n<p>원주의 길이를 구하는 공식은 초심플한 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span>이기 때문에 그냥 <code class=\"language-text\">Math.PI</code> 상수를 사용하여 쉽게 구할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>diameter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 125.66370614359172</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>필자는 이 원의 반지름을 <code class=\"language-text\">20px</code>으로 설정했으니 원주의 길이는 약 <code class=\"language-text\">126px</code>이지만, 이 값을 <code class=\"language-text\">stroke-dasharray</code>에 넣었던 값들의 합인 <code class=\"language-text\">15</code>로 나누어 보면 <code class=\"language-text\">8.37</code>이 나오며 정확히 나누어 떨어지지 않는다. 그래서 점선이 8번 반복되고 남은 <code class=\"language-text\">0.37</code> 만큼은 어정쩡하게 시작점에 붙어있는 형태로 렌더되는 것이다.</p>\n<p>즉, 도넛 차트에 여러 데이터를 제대로 시각화하고 싶다면 기본적으로 다음 두 가지 정보들이 필요하다.</p>\n<blockquote>\n<ol>\n<li>원주의 길이(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span>)</li>\n<li>도넛 차트에 그릴 데이터와 총 합의 비율</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ratio <span class=\"token operator\">=</span> data <span class=\"token operator\">/</span> total<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> strokeLength <span class=\"token operator\">=</span> diameter <span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> spaceLength <span class=\"token operator\">=</span> diameter <span class=\"token operator\">-</span> strokeLength<span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">stroke-dasharray = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>strokeLength<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>spaceLength<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">stroke-dasharray = 51.4078797860148 74.25582635757692\nstroke-dasharray = 28.559933214452663 97.10377292913907\nstroke-dasharray = 22.847946571562133 102.81575957202959\nstroke-dasharray = 17.135959928671596 108.52774621492013\nstroke-dasharray = 5.711986642890533 119.95171950070119</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이처럼 원주의 길이와 각 데이터의 비율, 이 두 가지 정보를 이용하면 각 데이터가 원주의 어느 정도의 비율을 차지하고 렌더할 지를 정의할 수가 있다.</p>\n<p>하지만 이 정보들만 가지고 차트를 렌더하려고 하면 한 가지 문제가 발생하는데, 바로 데이터들이 렌더되는 기준점이 전부 <code class=\"language-text\">(cx + r, cy)</code> 좌표라는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/95e06fb4efbe157747f5fe4cb2318dae/6fffd/blog-Page-9.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 94.375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH3pYVRjQcAf//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEg/9oACAEBAAEFAtKLZ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABsQAQEBAAIDAAAAAAAAAAAAAAEAERAhMUFx/9oACAEBAAE/Ierc9MBZBE937wk+b//aAAwDAQACAAMAAAAQAwA8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAIDAQEBAAAAAAAAAAAAAQAxESFBcVGR/9oACAEBAAE/EAA67EWTfIbOAubDd/YNGQHNzr2MM11GPf2LAds//9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog Page 9\" title=\"blog Page 9\" src=\"/static/95e06fb4efbe157747f5fe4cb2318dae/c08c5/blog-Page-9.jpg\" srcset=\"/static/95e06fb4efbe157747f5fe4cb2318dae/0913d/blog-Page-9.jpg 160w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/cb69c/blog-Page-9.jpg 320w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/c08c5/blog-Page-9.jpg 640w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/6a068/blog-Page-9.jpg 960w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/eea4a/blog-Page-9.jpg 1280w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/6fffd/blog-Page-9.jpg 1364w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</center>\n<p>그래서 아무리 데이터를 렌더할 선의 길이를 제대로 구했다고 해도 모든 데이터가 렌더링되는 기준점이 동일하기 때문에 당연히 이대로 렌더링을 해버린다면 이런 슬픈 모양의 차트가 그려지게 된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 508px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6ElEQVQ4y+2UzwpFQBTGvbStxWy9g1I8hZUVhQewMBuys1CUFJ+OmhtjMLdmcRf31BfN8M3v/MHqug7jOGIYBiOyyMxkWORKsa6rEZ0MjRP+DU8h9uUmyO9+Rah6Rl7TMjzSLMuCaZp2aRHKqQiREUXf93AcB67r7qZahk/EeZ7Dtm34vn8BuE1Z3M/zvBPRlWg45/A8D4wxVFX1KcFjDY8nNk2DsiyRZRmiKEIYhgiCAEVRXEryakiivbZtkaYp4jhGkiSo61o5Slopi6CUSaquv46NivRoRDV7atwt4duXcTcFv/9z2ABwAiHKmumHxAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut failed\" title=\"doughnut failed\" src=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png\" srcset=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/69538/doughnut_failed.png 160w,\n/static/d4cb50a4f4bcede54c55b2ae29f0585c/72799/doughnut_failed.png 320w,\n/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC815;&#xCCB4;&#xB97C; &#xC54C; &#xC218; &#xC5C6;&#xB294; &#xBB34;&#xC5B8;&#xAC00;&#xAC00; &#xC5F0;&#xC131;&#xB418;&#xC5C8;&#xB2E4;</small>\n</center>\n<p>도넛 차트는 각 데이터가 누적되어 최종적으로는 하나의 원을 그리는 차트기 때문에 한번 데이터를 렌더하고 나면 그 다음 데이터가 렌더될 시작점을 지금까지 렌더된 데이터들의 총 합만큼 밀어줘야한다.</p>\n<p>다행히도 SVG는 <code class=\"language-text\">stroke-dashoffset</code> 속성을 통해 점선이 시작되는 부분을 변경할 수 있는 기능을 제공하고 있기 때문에 우리는 그냥 잘 계산만 해서 이 속성에 알맞은 값을 넣어주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 각 데이터를 누적하여 저장하고 있자!</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>result<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>첫 번째 데이터가 렌더될 때는 시작점을 밀어줄 필요가 없기 때문에 오프셋이 <code class=\"language-text\">0</code>이어야한다. <code class=\"language-text\">reduce</code> 함수의 두 번째 인자는 누산을 시작할 때 사용하는 초기 값을 의미하므로 여기에 그냥 <code class=\"language-text\">0</code>을 담은 배열을 넘겨주면 된다.</p>\n<p>그리고 초기 값으로 <code class=\"language-text\">0</code>을 이미 담고 있는 배열을 넘기기 때문에 누산된 값들을 담고 있는 배열은 데이터셋 배열보다 길이가 1만큼 더 긴데, 사실 배열의 가장 마지막 원소인 <code class=\"language-text\">22</code>는 필요가 없는 값이다.</p>\n<p>왜냐하면 이 값들은 데이터가 렌더될 시작점을 정의하는 값들이기 때문이다. 맨 마지막 원소인 <code class=\"language-text\">22</code>는 데이터 셋의 총 합과 동일한 값이기 때문에 도넛 차트의 모든 데이터의 렌더가 끝났음을 의미하는 값이라, 만약 <code class=\"language-text\">acc[i] === total</code>과 같은 논리식으로 “렌더 끝났어?” 같은 조건을 정의할 게 아니라면 사실 쓸 데가 없다.</p>\n<p>이렇게 데이터 셋의 값을 누산하고 나면 데이터 셋의 값에 해당하는 차트를 렌더한 후 <code class=\"language-text\">(acc[i] / total) * diameter</code>와 같은 공식을 사용하여 정확히 몇 <code class=\"language-text\">px</code>만큼 오프셋 해야하는 지를 알 수가 있게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>result<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> diameter<span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">stroke-dashoffset = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token operator\">-</span>offset<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">stroke-dashoffset = 0\nstroke-dashoffset = -51.4078797860148\nstroke-dashoffset = -79.96781300046746\nstroke-dashoffset = -102.8157595720296\nstroke-dashoffset = -119.9517195007012</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 굳이 <code class=\"language-text\">reduce</code> 함수를 사용하지 않고 <code class=\"language-text\">let</code>을 사용하여 계속 차트를 렌더할 때마다 지금까지 그린 선들의 길이를 계속 더하며 재할당해도 상관은 없다. 어찌되었든 포인트는 “내가 지금 어디까지 렌더를 했느냐”를 알고 있는 것이기 때문이다.</p>\n<p>그리고 위 예시에서 필자는 오프셋 값에 <code class=\"language-text\">-</code> 부호를 줘서 값을 반전시키고 있는데, 이건 SVG가 기본적으로 선을 렌더하는 방향이 반시계 방향이기 때문이다.</p>\n<p>상식적으로는 우리가 그리는 도넛 차트 데이터의 시작점부터 끝점까지 진행되는 방향이 시계 방향이기 때문에 SVG도 시계 방향으로 선을 렌더할 것 같지만, 사실 SVG는 그딴 거 신경쓰지 않는다.</p>\n<p>지금 이 도넛 차트에서는 데이터가 시계 방향으로 쌓이고 있지만 좌표를 어떻게 정의하냐에 따라서 반시계 방향도 얼마든지 가능하지 않은가? 이렇게 좌표의 위치가 변경될 때마다 렌더하는 방향을 바꾸는 것은 꽤나 비효율적이기 때문에 SVG는 기본적으로 무조건 반시계 방향으로 선을 그린다.</p>\n<p>이 개념은 밑에서 후술할 호에서도 똑같이 적용되기 때문에 이 사실을 기억하고 있으면 호를 렌더하는 방법에 대해서 조금 더 이해가 쉬울 것이라고 생각한다. 이렇게 SVG가 선을 그리는 방향을 쉽게 알아보기 위해서는 원이 아니라 라인으로 그려서 테스트해보면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 452px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20.625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAp0lEQVQY0z2PiQqAIBBE+/8PLCjIiJBK6bSLjokZKEF3130+NbquC1mWYds2FEWBcRzRNA3qulZujMFxHGK+uK4ryrJE13VwzinneJ4HEZe2bUFx3/cSL8si2Xme8N4LJkOWNffZJ0ee4l9IEScbIYRfzPGBrLk/zzP2fddLp2nCfd8/y1pCAsMw6Ol5nksax7EOMfKiNE11sKoqWGuVf19PkkQMexS+dNIxfZDMR8EAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"line offset plus\" title=\"line offset plus\" src=\"/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png\" srcset=\"/static/3ac1afa110392b8bc30dc4a4874b889c/69538/line_offset_plus.png 160w,\n/static/3ac1afa110392b8bc30dc4a4874b889c/72799/line_offset_plus.png 320w,\n/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png 452w\" sizes=\"(max-width: 452px) 100vw, 452px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC624;&#xD504;&#xC14B;&#xC744; 3&#xC73C;&#xB85C; &#xC8FC;&#xBA74; &#xBC11;&#xC5D0; &#xC788;&#xB294; &#xC120;&#xC774; &#xC67C;&#xCABD;&#xC73C;&#xB85C; 3px&#xB9CC;&#xD07C; &#xBC00;&#xB9B0;&#xB2E4;</small>\n</center>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>-3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 451px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 23.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAn0lEQVQY062QzQqDMBCEff8Xk+hFzCEnY9BrouBPDjE6ZbYU2tJCDx0IG/jC7EyKZVnAcxwHvPe4rgshBKSUsK7rV7Zt2ws7zxNU0fc9nHPY9x1N0yDnjLZt5fEwDCD/xMZxhLUWMUZhNBZD/FFsUDCqUgrzPKPrOhhjpGpZlrK1qipM0yRpyFj1weq6li9gQ631PSFdacr5fH+fvzDqBlrNf4B0EqC1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"line offset minus\" title=\"line offset minus\" src=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png\" srcset=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/69538/line_offset_minus.png 160w,\n/static/6c9e6de0fef414a907f7acb5218e6d4c/72799/line_offset_minus.png 320w,\n/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png 451w\" sizes=\"(max-width: 451px) 100vw, 451px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC624;&#xD504;&#xC14B;&#xC744; -3&#xC73C;&#xB85C; &#xC8FC;&#xBA74; &#xBC11;&#xC5D0; &#xC788;&#xB294; &#xC120;&#xC774; &#xC624;&#xB978;&#xCABD;&#xC73C;&#xB85C; 3px&#xB9CC;&#xD07C; &#xBC00;&#xB9B0;&#xB2E4;</small>\n</center>\n<p>이제 여기까지 파악했다면 원주를 따라 어느 정도만큼 데이터를 렌더할 것인지와 누적되어 표현되는 데이터를 렌더하기 위해 몇 px만큼 선의 시작점을 밀어줘야 할 지를 <code class=\"language-text\">stroke-dasharray</code>와 <code class=\"language-text\">stroke-dashoffset</code> 속성을 사용하여 자유롭게 표현할 수 있다.</p>\n<h3 id=\"전체-코드로-보자\" style=\"position:relative;\">전체 코드로 보자!<a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C%EB%A1%9C-%EB%B3%B4%EC%9E%90\" aria-label=\"전체 코드로 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 100 x 100 짜리 뷰 박스를 그린다 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>svg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 차트의 반지름</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 차트의 둘레</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'#ddd'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#bbb'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#aaa'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#888'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#666'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 전체 데이터셋의 총 합</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 데이터셋의 누적 값</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> last <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr<span class=\"token punctuation\">,</span> last <span class=\"token operator\">+</span> v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 프로퍼티 할당 노가다 시작...</span>\n<span class=\"token keyword\">const</span> svg <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ratio <span class=\"token operator\">=</span> data <span class=\"token operator\">/</span> total<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> fillSpace <span class=\"token operator\">=</span> diameter <span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> emptySpace <span class=\"token operator\">=</span> diameter <span class=\"token operator\">-</span> fillSpace<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> diameter<span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">const</span> circle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElementNS</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'circle'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'50'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'50'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span>radius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fill'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'transparent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke'</span><span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-width'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-dasharray'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fillSpace<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>emptySpace<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-dashoffset'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>offset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>circle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 508px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABbElEQVQ4y61Uuw6CQBD0oy3siT/gD2BDpxXRGG1s0EKNGml8oQ0UJPiKkBjRMbvJGZQFLdhkc5tjbzIz3F4pCAKEYYjr9VpIlgisyCgRKsXz+SwkPwCTwKp+PB7vvWSdPJPLUIXUrEIBS30ioFqPxyPG4zF6vR663S5GoxEOh4NIQARMrp7nodlsQtd1GIbBWa/XUavVMJlM3ky/WYoML5cLs2q1WpjNZjidTrxHbKvVKqfruh+guYC2bcM0TaxWq5Qky7JQqVTQaDRSfoqSKYbDITqdDtQ3OqSYkIflchmapuF2u+VLVutgMGDAKIpS7AlkOp1isVggjuP/PJzP5yzZcZyU5PP5jM1mA9/3xb8tApKsdruNfr/PV+d+v3MS2Ha7ZW8lqzJHj2K32zHT9XrNTCmXyyWD0YMincn0UNXkId3H/X7PSbXql+5u7qQkm8h89QOypurnpEhyvvf+Gr0stnkKfgIW9sAWES/4Wwsa7sTBsQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut\" title=\"doughnut\" src=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" srcset=\"/static/733cf6be71679daf82979b47834fb780/69538/doughnut.png 160w,\n/static/733cf6be71679daf82979b47834fb780/72799/doughnut.png 320w,\n/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC644;&#xC131;&#xB41C; &#xB3C4;&#xC6B0;&#xB11B; &#xCC28;&#xD2B8;!</small>\n</center>\n<h2 id=\"호를-사용하여-애니메이션을-만들어보자\" style=\"position:relative;\">호를 사용하여 애니메이션을 만들어보자<a href=\"#%ED%98%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"호를 사용하여 애니메이션을 만들어보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 이렇게 해서 원하는 데이터셋을 자유롭게 사용해서 이쁜 도넛 차트를 렌더할 수 있게 되었다. 하지만 진짜 복병은 도넛 차트 렌더 따위가 아니였다. 다시 한번 필자가 구현했던 차트를 보자.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/d73af6df8335316c67a49ab5b03887cb/doughnut_clipped.gif\" width=\"100%\">\n  <div>\n</div></div></center>\n<center>\n.<br>\n.<br>\n.<br>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/acb04/um.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgME/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAHpssgzczMP/8QAGhAAAwEAAwAAAAAAAAAAAAAAAQIDEQAEE//aAAgBAQABBQIvtw6hjm1T27E5FOMTv//EABYRAQEBAAAAAAAAAAAAAAAAAAABEv/aAAgBAwEBPwFmv//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AYr/xAAcEAEAAQUBAQAAAAAAAAAAAAABEQACEBMyQXH/2gAIAQEABj8C1rBE/atLXrxwhWyeWMf/xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhMUFhkf/aAAgBAQABPyEiaFox9MoCUUqJq1D5lkBDzupkuMTjN//aAAwDAQACAAMAAAAQDD//xAAWEQADAAAAAAAAAAAAAAAAAAAAESH/2gAIAQMBAT8QcGU//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAgEBPxDrZI5f/8QAGxABAAIDAQEAAAAAAAAAAAAAAREhADFRQYH/2gAIAQEAAT8QXEgpjNS2G2sBiaj0mS1h5PMmpU+4ojnLTRPg9xofUXZ4/cpRCTef/9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"um\" title=\"um\" src=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/c08c5/um.jpg\" srcset=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/0913d/um.jpg 160w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/cb69c/um.jpg 320w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/c08c5/um.jpg 640w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/acb04/um.jpg 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#x3153;...&#xC774;&#xC05C; &#xC560;&#xB2C8;&#xBA54;&#xC774;&#xC158;&#xC774; &#xB4E4;&#xC5B4;&#xAC00;&#xC788;&#xB2E4;</small>\n</center>\n<p>물론 이런 애니메이션을 구현하는 방법이 엄청 다양한 것은 아니라서, 결국 최대한 가볍게 만드려면 크게 두 가지 정도의 방법이 나온다.</p>\n<blockquote>\n<ol>\n<li>SVG의 <code class=\"language-text\">clippath</code>나 <code class=\"language-text\">mask</code>를 사용한다</li>\n<li>각 데이터를 렌더할 때 <code class=\"language-text\">stroke-dasharray</code>와 <code class=\"language-text\">stroke-offset</code> 속성에 애니메이션을 준다</li>\n</ol>\n</blockquote>\n<p>사실 이것도 어느 정도 정답은 정해져있는 고민인데, 2번 방법처럼 각 데이터마다 <code class=\"language-text\">stroke-dasharray</code>과 <code class=\"language-text\">stroke-offset</code>에 애니메이션을 적용한다는 것은 결국 도넛 차트의 각 부분마다 애니메이션을 따로 따로 정의해서 적용하겠다는 의미이다.</p>\n<p>하지만 첫 번째 데이터의 렌더 애니메이션이 끝나고 바로 이어서 두 번째 데이터의 렌더 애니메이션이 매끄럽게 재생되도록 만드는 건 꽤나 번거로운 일이다. <small>(결국 개별로 수행되는 애니메이션이기 때문에 아무리 타이밍을 잘 맞춰도 뭔가 삐그덕거릴 확률이 높다)</small></p>\n<p>그런 이유로 필자는 1번 방법인 클립패스를 선택했는데, 처음에는 그냥 “차트 그릴 때랑 비슷한 원리로 클립패스를 그리면 되는거 아니야?”라고 생각했지만 나중에 알고 보니 여기도 지옥길이었다.</p>\n<h3 id=\"circle-엘리먼트를-사용하지-못한다\" style=\"position:relative;\">circle 엘리먼트를 사용하지 못한다<a href=\"#circle-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%AA%BB%ED%95%9C%EB%8B%A4\" aria-label=\"circle 엘리먼트를 사용하지 못한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>지옥길의 시작은 바로 <code class=\"language-text\">circle</code> 엘리먼트를 사용하지 못한다는 것을 깨달았을 때였다. 이 애니메이션은 특정 시작점으로부터 시계방향으로 원을 쭈욱 렌더하는 녀석이기 때문에 당연히 <code class=\"language-text\">circle</code> 엘리먼트로 그릴 수 있을 것이라고 생각했었지만, 조금 더 생각해보니 저건 원이 아니다.</p>\n<p>즉, 이 애니메이션은 마지막 애니메이션이 종료되었을 때만 원이 될 뿐이지 애니메이션이 진행되는 중간 과정은 원이 아니기 때문에 <code class=\"language-text\">circle</code> 엘리먼트로는 구현이 불가능한 것이다.</p>\n<p>도넛 차트를 그릴 때처럼 <code class=\"language-text\">stroke-dasharray</code>와 <code class=\"language-text\">stroke-offset</code> 속성을 사용하면 안되냐고 할 수도 있지만 본래 <code class=\"language-text\">clippath</code> 기능은 도형의 면과 면이 겹쳐지는 부분을 마스킹하는 것이기 때문에 선을 렌더하는 속성인 <code class=\"language-text\">stroke-*</code> 속성으로는 마스킹을 구현할 수가 없다.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/3411be000f4591fc8094072520231528/pie.gif\">\n  </div>\n  <br>\n  <small>&#xC774; &#xC560;&#xB2C8;&#xBA54;&#xC774;&#xC158;&#xC740; &#xC774;&#xB7F0; &#xB3C4;&#xD615;&#xB4E4;&#xC744; &#xD558;&#xB098;&#xD558;&#xB098; &#xB80C;&#xB354;&#xD558;&#xBA70; &#xC9C4;&#xD589;&#xB41C;&#xB2E4;</small>\n</center>\n<p>애니메이션이 진행되는 중간 과정의 도형들은 원이라고 정의할 수가 없는 녀석들이다. 원은 애초에 원점으로 부터 일정한 거리만큼 떨어진 점들의 집합으로 정의되는데, 중간에 있는 저 쥐가 파먹은 도형들은 이 정의가 들어맞지 않기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/716a0371418c438cea6811c21c0d9d6f/84f4d/arc_render_animation.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABS0lEQVQoz3WSfW+CMBDG+f5faP8vguKSLcsmCGjUKbo3NkWgLW/PerSVGbYmTSF97nd3z9Vq2xa0ct4i3JdIzjXMMnfm2/ynRYPVq0D4UmDzUaFg9UVjGdHxJDDyCthzjmXM5G1zBTK6OKkwnjPYPoMjtXS6fobPVEF74JFjIoXTkHfgw1c1qOw7qyWEYRLwTueGSj/W/0w0sBotPuV1l9mVFxT0tBEDIFni+EpjNsEJTDHr9wqW8ehxLXA7kxkjlfFhUaAqqysvn2USR3dBrd7c5xfwOGDwtgKWEDXCWOhWTIVcV0jV9cAgLjudqox1EBWj/FztMlh3Qa6yRn0bo1mOQ1IOWqYXYP9qeao3QSfyzLn0kEAEJG9oU8Biz4Hm7ylvpE+2b6asTqr07ainzMu2E813AhG9w/T/d2gWTZu03rbEUiY/Z/0AfwDBEqenpKM96QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render animation\" title=\"arc render animation\" src=\"/static/716a0371418c438cea6811c21c0d9d6f/6af66/arc_render_animation.png\" srcset=\"/static/716a0371418c438cea6811c21c0d9d6f/69538/arc_render_animation.png 160w,\n/static/716a0371418c438cea6811c21c0d9d6f/72799/arc_render_animation.png 320w,\n/static/716a0371418c438cea6811c21c0d9d6f/6af66/arc_render_animation.png 640w,\n/static/716a0371418c438cea6811c21c0d9d6f/d9199/arc_render_animation.png 960w,\n/static/716a0371418c438cea6811c21c0d9d6f/84f4d/arc_render_animation.png 1208w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</center>\n<p>위 그림을 보면 오른쪽 도형은 원점에서 도형의 선에 놓여진 점들과의 거리가 모두 동일하지만, 왼쪽 도형은 원점과 도형의 선에 놓여진 점들과의 거리가 모두 동일하지는 않다. 즉, 오른쪽 도형은 “원점으로 부터 일정한 거리만큼 떨어진 점들의 집합”이라는 조건을 만족하기 때문에 <strong>원</strong>이 되는 것이고 왼쪽 도형은 원주의 일부분을 의미하는 <strong>호</strong>인 것이다.</p>\n<p>이 예시에서는 원을 기준으로 호를 그렸기 때문에 헷갈릴 수 있지만 호는 원의 일부분이 아니라 원주의 일부분이라고 정의된다. 원주는 꼭 원이 아니라 타원이더라도 가질 수 있는 것이므로 호의 모양도 굉장히 가지각색으로 나올 수 있게 된다.</p>\n<p>결국 호는 원이 아니기 때문에 <code class=\"language-text\">circle</code> 엘리먼트로는 이 클립패스 애니메이션을 구현할 수 없다.</p>\n<h3 id=\"svg가-호를-렌더하는-원리를-알아보자\" style=\"position:relative;\">SVG가 호를 렌더하는 원리를 알아보자<a href=\"#svg%EA%B0%80-%ED%98%B8%EB%A5%BC-%EB%A0%8C%EB%8D%94%ED%95%98%EB%8A%94-%EC%9B%90%EB%A6%AC%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"svg가 호를 렌더하는 원리를 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>SVG는 호를 그리기 위한 별도의 엘리먼트를 제공하지는 않지만 <code class=\"language-text\">path</code> 엘리먼트에 <code class=\"language-text\">A</code>라는 명령어를 사용함으로써 호를 정의할 수 있는 기능을 제공하고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a rx ry x축-회전각 큰-호-플래그 쓸기-방향-플래그 dx dy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>\n  M 50 50\n  A 45 45, 0, 1, 0, 275 125\n  L 275 80 Z\n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게만 보면 호를 그리는 것이 간단할 것 같지만 생각보다 이 녀석이 렌더되는 원리가 직관적이지는 않다. 일반적으로 사람이 호라는 도형을 보면 단순히 그 원의 일부라고 생각하기 때문에 호의 중심각을 먼저 생각하게 되지만 저 인터페이스를 보면 알 수 있듯이 그 어디에도 각도를 의미하는 인자는 없다.</p>\n<p>사실 SVG가 호를 렌더하는 과정도 좌표 평면 상에 원을 정의하는 것부터 시작되기는 한다. 앞서 이야기 했듯이 호라는 도형은 원주의 일부이기 때문에 호를 그리려면 일단 원부터 그려야하기 때문이다.</p>\n<p>이때 정의되는 원은 <code class=\"language-text\">A</code> 명령어의 첫 번째 인자인 <code class=\"language-text\">rx</code>와 <code class=\"language-text\">ry</code>로 정의된다. 원인데 반지름을 받는 게 아니라 굳이 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>축 길이를 받는 이유는 앞서 말했듯이 호는 원의 일부분이 아니라 원주의 일부분을 의미하기 때문에 타원을 기준으로 그릴 수도 있기 때문이다. </p>\n<p>어찌되었던 원도 결국은 타원의 일종이므로 <code class=\"language-text\">A</code> 명령어는 추상적인 인터페이스를 위해 타원의 <code class=\"language-text\">x</code>축 반지름과 <code class=\"language-text\">y</code>축 반지름을 받도록 설계되어 있다. 하지만 호를 이해하기 위해서 반드시 예시가 타원일 필요는 없으므로, 조금 더 이해하기 쉽도록 모든 예시는 원으로 설명을 하도록 하겠다.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3c5013d03ac4f509c0333f538f8322e0/d48f1/arc_render1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAABaElEQVQ4y41U23KEIAz1/7+yL1u7613ugp4a21hEdMsMQyaQQ05uBX7XsiyHk2Xn3GHP84ycDctFDozOYRjQti3G9Xw8X/j4LCHGcdP1fY8QQha0SMGmaUJd11BK/enCDOWm/Z0xZntDZwpapGBVVUW//1Czk4de6aYhaZoGWuuD/uAh/RpT4Tu/6r66AcqeQVObHXBc40M0czGdfEA9SpiINt9Za9F13RmQgp1meDdKKPMzvifq7GXBv1BWY6AY0HlKisfV0kbt7C4BYw+ck+jaCloFWOPxKgWejxFGe1gdUD4aCCH/DzgHDaeHFXiGs36thrBtkoNf8CxbSCnfU04zek9ZHjvlLilpXNNPydZ7f6xD8jAt0px3uc4iwFPZUNNTl+T6+i4MVNgEmm09imUKekWT6y9thtNwYFBu/NyiMcYD5HY4xPRpRJEHQojNkDaVBumo1TgJp/F1VXssExCBEhjtdwP2G7f2irUHLIi6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render1\" title=\"arc render1\" src=\"/static/3c5013d03ac4f509c0333f538f8322e0/6af66/arc_render1.png\" srcset=\"/static/3c5013d03ac4f509c0333f538f8322e0/69538/arc_render1.png 160w,\n/static/3c5013d03ac4f509c0333f538f8322e0/72799/arc_render1.png 320w,\n/static/3c5013d03ac4f509c0333f538f8322e0/6af66/arc_render1.png 640w,\n/static/3c5013d03ac4f509c0333f538f8322e0/d48f1/arc_render1.png 796w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  </div>\n  <small>&#xC77C;&#xB2E8; &#xC774;&#xB7F0; &#xAC00;&#xC0C1;&#xC758; &#xC6D0;&#xC744; &#xADF8;&#xB9AC;&#xBA74;&#xC11C; SVG&#xAC00; &#xD638;&#xB97C; &#xB80C;&#xB354;&#xD558;&#xB294; &#xACFC;&#xC815;&#xC774; &#xC2DC;&#xC791;&#xB41C;&#xB2E4;</small>\n  <br>\n</center>\n<p>이때 주의해야할 점은 이때 호가 그려지기 시작하는 시작점은 원의 중심이 아니라는 것이다. 다시 필자가 위에서 예시로 들었던 <code class=\"language-text\">path</code> 엘리먼트 예제를 보면 원의 중심점을 정하는 인자가 없는 것을 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>\n  M 50 50\n  A 45 45, 0, 1, 0, 275 125\n  L 275 80 Z\n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 명령어 집합은 <code class=\"language-text\">M 50 50</code>이라는 명령어로 시작하게 되는데, <code class=\"language-text\">path</code> 엘리먼트의 <code class=\"language-text\">M</code> 명령어는 렌더 시작점을 임의의 위치로 옮기는 Move를 의미하는 명령어이다.</p>\n<p>하지만 이 위치는 원의 중심점이 아니라 호를 그리기 시작할 렌더 시작점을 의미한다. 즉, 이 호는 <code class=\"language-text\">(50, 50)</code> 좌표부터 <code class=\"language-text\">A</code> 명령어의 마지막 인자인 <code class=\"language-text\">(dx, dy)</code> 좌표까지 그려지게 되며, 이때 <code class=\"language-text\">rx, ry</code>에 의해 정의된 가상의 원주를 따라서 호가 그려지는 것이다.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/345642d6dabfe22074ecf24472c1a351/0fcea/arc_render2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQ4y31Ta4+bMBDk//+ySr1KfXxo1artXe9oIAGDjd8mme7SMwFCbiULY+NhZnZcgOpyuUwjz3OllBBCQNf3UEphHEd4q1AdDqjrehrW2tW5YvmSnwzUE0jXddDDgFMv0UpFcwKrfqE6CQTvYIxBjBFLUsUWzHuPtm0nZrlcTIjEjutLafDwKFG2Gnu1YsggDJYrr1taDylCmEhgCh+fB7z7KfFUn2DUidSoSZGUcs2Qwc7nM7a+2hDxV3T4Xml8eBomhp9fLITq8fz4DYdDjbIscTwer4Dsh9Yae5468qk3Hp+I2fvfEj9qS4z/W6AGvWrkDMgN4GYs2eW9OCb8ae3ErpJh5Zm1BgM1jovVzR6yB1u5M3tn8bXsiWXiU+gaYugTeNtoR96p+VyRY8KG3suktwKSFHg7UnQCzR20CnA2QTQGx7q9AuZDzHB8jca9oNPqTUw85TFLvgHchnQJujf2mlksA72UvX2ugC7XPSHESlmx/Btvblm+NWdmfMfv3mXuctM0M+guu9diqUxg+83NXWb6fGPY6ByjZfE++81je0Xn2Ox1lOVw2JkFg7M0njOQc24XjOsfU/jlXxB+yTEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render2\" title=\"arc render2\" src=\"/static/345642d6dabfe22074ecf24472c1a351/6af66/arc_render2.png\" srcset=\"/static/345642d6dabfe22074ecf24472c1a351/69538/arc_render2.png 160w,\n/static/345642d6dabfe22074ecf24472c1a351/72799/arc_render2.png 320w,\n/static/345642d6dabfe22074ecf24472c1a351/6af66/arc_render2.png 640w,\n/static/345642d6dabfe22074ecf24472c1a351/0fcea/arc_render2.png 851w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  </div>\n  <small>&#xC54C;&#xC544;&#xBCF4;&#xAE30; &#xC27D;&#xAC8C; &#xD638;&#xB97C; &#xBA74;&#xC73C;&#xB85C; &#xD45C;&#xD604;&#xD588;&#xC9C0;&#xB9CC;<br>&#xC2E4;&#xC81C;&#xB85C;&#xB294; x,y &#xBD80;&#xD130; dx,dy&#xB85C; &#xC774;&#xC5B4;&#xC9C0;&#xB294; &#xD638;&#xC758; &#xBA38;&#xB9AC; &#xBD80;&#xBD84;&#xC758; &#xC120;&#xB9CC; &#xB80C;&#xB354;&#xB41C;&#xB2E4;</small>\n  <br>\n</center>\n<p>여기까지가 SVG가 호를 그리는 가장 기본적인 원리이다. 하지만 문제는 <code class=\"language-text\">(x, y)</code>와 <code class=\"language-text\">(dx, dy)</code>를 잇는 방법이 하나가 아니라는 것이다. 호라는 것은 그저 원주에 놓여있는 두 점을 원주를 따라서 이어주기만 하는 것이기 때문에 특정 방향으로만 그려야한다는 법이 없다.</p>\n<p>그래서 SVG는 <code class=\"language-text\">(x, y)</code>와 <code class=\"language-text\">(dx, dy)</code>라는 점을 원주에 위치시킬 수 있는 두 개의 원을 사용하여 호를 정의한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1fa1f37669b1e0df075146506faacf30/2bef9/arc_with_circle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQ4y31T7W6DMAzk/R9wfyZ1EtMmDViBhG9IPA7kYId0kVBpa5/vzpeMEsd7rz5xuq6jtm3VMwzDrSejF4cLnHPUNA2N46gG4HcMMcaonuwVM34Hk2VZVI0EBktr7R0wJXOeZ1UsAeOh67pekmMwAEFiVf0e0uKhMVOwnKbpBEwxez6flOeflH+87QwN9X0fgP22e+km1bNtW1ByYwj6ADg3aw8pYFvX9cH8rHMKEAxRExjyH9gmN+GM4xTAedvslezDpoOHcgrn6iy+GEMSS8N3yQ7ecXSOLcsp3MhgDCLldt3lJ8DAWloWPISp8YL8NgS5GNi2hpq6oO+vnIqi3FNQ3W8KvwAwbJIB3ay2fzC0DT0e71SW5Q76c8toljLWn5qTmTPG/nvvMxlmaW7qRsAzG9XEGVaxwWXngMYHA+MFxHaoYMv4cLj5wRCwTzGKzx9OeO0/2SiJlQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc with circle\" title=\"arc with circle\" src=\"/static/1fa1f37669b1e0df075146506faacf30/6af66/arc_with_circle.png\" srcset=\"/static/1fa1f37669b1e0df075146506faacf30/69538/arc_with_circle.png 160w,\n/static/1fa1f37669b1e0df075146506faacf30/72799/arc_with_circle.png 320w,\n/static/1fa1f37669b1e0df075146506faacf30/6af66/arc_with_circle.png 640w,\n/static/1fa1f37669b1e0df075146506faacf30/d9199/arc_with_circle.png 960w,\n/static/1fa1f37669b1e0df075146506faacf30/2bef9/arc_with_circle.png 1024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>(x, y)&#xC640; (dx, dy)&#xB97C; &#xB3D9;&#xC2DC;&#xC5D0; &#xC6D0;&#xC8FC;&#xC5D0; &#xC704;&#xCE58;&#xC2DC;&#xD0AC; &#xC218; &#xC788;&#xB294; &#xC6D0;&#xC740; &#xB2E8; &#xB450; &#xAC1C; &#xBFD0;&#xC774;&#xB2E4;</small>\n</center>\n<p>이때 두 개의 원의 원주에 위치한 <code class=\"language-text\">(x, y)</code>와 <code class=\"language-text\">(dx, dy)</code> 점들을 사용하여 호를 만들 수 있는 방법은 총 4개가 나오게 되는데, 이때 어떤 호를 그릴 지를 위 예시의 “큰 호 플래그”와 “쓸기 방향 플래그”로 결정하게 되는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a rx ry x축-회전각 큰-호-플래그 쓸기-방향-플래그 dx dy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"호의-플래그-이해하기\" style=\"position:relative;\">호의 플래그 이해하기<a href=\"#%ED%98%B8%EC%9D%98-%ED%94%8C%EB%9E%98%EA%B7%B8-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\"호의 플래그 이해하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>백문이 불여일견이니 이번에도 한번 직접 그려보면서 호가 그려지는 과정과 저 플래그들이 정확히 어떤 일을 하는 것인지 이해해보도록 하자. 도넛 차트를 그릴 때와 마찬가지로 좌표에 대한 이해가 쉽도록 이번에도 가로 100, 세로 100의 좌표를 가진 뷰박스를 그리고 간단한 호를 한번 그려보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>\n    M 50 10\n    A 40 40, 0, 0, 0, 10 50<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li><code class=\"language-text\">(50, 10)</code>으로 렌더 시작점을 옮긴다.</li>\n<li>rx, ry를 모두 <code class=\"language-text\">40</code>으로 할당하며 반지름이 40인 원을 정의한다.</li>\n<li>회전각 <code class=\"language-text\">0</code>, 큰 호 플래그 <code class=\"language-text\">0</code>, 쓸기 방향 플래그 <code class=\"language-text\">0</code>으로 설정한다.</li>\n<li>끝점 <code class=\"language-text\">(10, 50)</code>까지 호를 그린다.</li>\n</ol>\n</blockquote>\n<p>현재 필자가 설정한 큰 호 플래그와 쓸기 방향 플래그는 모두 <code class=\"language-text\">0</code>이기 때문에 SVG는 기본적으로 두 점을 이을 수 있는 작은 호를 그리며, SVG가 선을 그리는 방향인 반시계 방향으로 그릴 수 있는 호를 그린다.</p>\n<p>회전각 같은 경우는 호의 기준이 되는 원을 얼마나 기울일 것이냐를 의미하는데, 어차피 이 예시는 한 쪽으로 길쭉한 타원이 아니기 아니라 모든 반지름이 동일한 원이기 때문에 기울이는 것이 의미가 없다.</p>\n<p>어쨌든 이 명령어들을 사용하여 호를 그리면 실제로 이런 모양의 이쁜 호가 그려지는 것을 확인할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 509px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9ElEQVQ4y+XTUQuCMBAHcL//5+qhqJfoJeylsCjIkU23OTf3zy0mDK1EfevgQNj87cbdIkIIGGMoiiLIPM9dcsYhueysf8rIYt9CaAEiCIZGZFUbxhjUpm4XkizB5rLB9rpFnMZQWjWb3vu+ZQt6rFQlVucV9vc9hBLB6faHwRV6bHFaIBNZgNjDPPYLDcBlsgQtqfvWte690s8KbSdtHB9HHNJDi/lqhiC94PqyhtRyNNSCggs85RO72y7ARoN2aFOeuq76bo/FHMgK1oyXcR2eet1Ol6dAvS9lDrQDzl7hn4FzZDA2s1RIKYXWGlVVQSk1OV/hzSyau48YfwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 0\" title=\"arc 0 0\" src=\"/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png\" srcset=\"/static/a084d433d6987120384f775cc95cd1e5/69538/arc_0_0.png 160w,\n/static/a084d433d6987120384f775cc95cd1e5/72799/arc_0_0.png 320w,\n/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</center>\n<h4 id=\"쓸기-플래그\" style=\"position:relative;\">쓸기 플래그<a href=\"#%EC%93%B8%EA%B8%B0-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"쓸기 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>비록 호의 플래그는 두 개 밖에 없지만 이 값이 바뀔 때마다 호의 모양이 휙휙 바뀌기 때문에 SVG가 정확히 어떤 방식으로 호를 그리는 것인지 잘 이해하고 있지 않다면 동작이 난해하다고 느껴질 수도 있다.</p>\n<p>하지만 아까 필자가 이야기했던 SVG가 선을 그리는 방향이 기본적으로 반시계 방향이라는 것만 기억하고 있다면 사실 그렇게 어려운 동작은 아니다.</p>\n<p>필자가 위에서 렌더했던 호를 조금 더 자세하게 다시 그려보자면 사실 이런 모양이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/94400700b6bb656957fa15af90fe1e42/73b94/arc_0_0_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAAB9ElEQVQ4y21U226DMAzl//+o73uotK0Sk1ahqX3p1E1b1UKBkIQEvJyAmaFEiuI4yfHxJU7KsqTD4UB5nhNG13Vx9n0fp5TlXt7D6r2Pa1LXNWVZRufzmbTWVFUVwUgZVpwVRUH3sEKHfTXqsUq5bdsImoAVgIwx5JyLB9ZacuOF9C2l7WZD2X4f9TjnGe+FNzAKOTIEZbaAEV0LB8qaMBv6Lio6PW3JlndqgwHck+5jgCXrEyjhDhhChsUbXNGKauPoUoX4ILb9cAYmzAyT3z8whAJyrmrSNoSg7elSDyCdd9F9ORkUbwA4MWRAxKwJl1QA021Hv5Wfsud9N2UVe7xhthgcshkgDpVpqNKOfsqBUT+GgEsCK7vJLCHPAFmhmpCA0tBNI15DYhwAwkUG5SpgGXGHvIhhyKgyZOovOn1u6X3/Qa8vz7EuMZiRdJllNvSQZSisUdTZe2SLulJKTbGSyZB7sMLKIYsM2WVjQtE6P6uxJcByz6U2A8Rjpuy9mz1Yuij3zFB+jLnLowWuL364xlDe4zpccfn/p0CW2ZSA/IfbMfurP4UZytjJBiBLhveyyFcLWzYH2QNlPJc9UDYHGMSYXEapcI+DC9zrpCzPYs8ME435er3GMkOokuVnX8ZIyrIHQgbA8Xik3W5HaZrGRv0HuY/MPLDUh4wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 0 example\" title=\"arc 0 0 example\" src=\"/static/94400700b6bb656957fa15af90fe1e42/6af66/arc_0_0_example.png\" srcset=\"/static/94400700b6bb656957fa15af90fe1e42/69538/arc_0_0_example.png 160w,\n/static/94400700b6bb656957fa15af90fe1e42/72799/arc_0_0_example.png 320w,\n/static/94400700b6bb656957fa15af90fe1e42/6af66/arc_0_0_example.png 640w,\n/static/94400700b6bb656957fa15af90fe1e42/d9199/arc_0_0_example.png 960w,\n/static/94400700b6bb656957fa15af90fe1e42/73b94/arc_0_0_example.png 1004w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xD1B5;&#xD574; &#xC815;&#xC758;&#xB41C; &#xAC00;&#xC0C1;&#xC758; &#xC6D0;&#xC8FC;&#xB97C; &#xB530;&#xB77C; &#xD638;&#xAC00; &#xADF8;&#xB824;&#xC9C4;&#xB2E4;</small>\n</center>\n<p>위 그림에서 붉은 점은 필자가 <code class=\"language-text\">M</code> 명령어를 사용하여 이동한 시작점을 의미하고 노란 점은 <code class=\"language-text\">A</code> 명령어의 가장 마지막 인자로 할당한 <code class=\"language-text\">(10, 50)</code> 좌표에 있는 끝점을 의미한다.</p>\n<p>파란색 화살표는 SVG가 실제로 선을 렌더하는 방향을 나타낸 것인데, 실제로 저 시작점부터 끝점을 향하면서 반시계 방향으로 작은 호를 그릴 수 있는 방법은 저것밖에 없다. <small>(잘 이해가 안 간다면 종이에 직접 그려보면 감이 온다)</small></p>\n<p>그렇다면 만약 이 호의 시작점과 끝점을 뒤바꾼다면 어떻게 될까? 이번에는 아까와 반대로 시작점을 <code class=\"language-text\">(10, 50)</code>으로 옮기고 끝점을 <code class=\"language-text\">(50, 10)</code>으로 변경하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>\n    M 10 50\n    A 40 40, 0, 0, 0, 50 10<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4a6a8910a7786f804c830459a4f05322/d74fe/arc_0_1_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAABxUlEQVQ4y41Ua2+DMAzk//+3SetEVyS0VWL7UnVlvAnPWy7IkaF0KpIh2M7lbB8E4ziC1nUd+r73T71mfBgGSK6s93wBb7J5miafIEkSexqQCx2gEVhsnmcPLD7m0K9zZR3wdL7wSpIEURR5RlLycihB4P3b+B0grW1bXK9XVFWFuq5RliWapkGeF3gPD/j8iJGmv86n42ma+l67kjVtJvBiSTT6yS6MDkjOLzAdmSwVMcaLe4jDfM9Q+kR28m6MLa3vULQjLmWHbrCDszFjzEoB3CM4gTRbps0yeJLzDz3ydnJWNrVjqpVAEOYSUHD8lJfSBjS2N26DAxtRmhnGsizbZpmsmrIwlJIdoBa1Y2hPY2cKy4pmOoOsrnY15/fYqnzJMhAG2JuqyJGev/D9UyAtc8usXSSxozk5gBNfMRQjaGMZXsIQx2OI17fDHStZS4toqx5uAUmfopCpD/8Aiqhlyg5Ql+GGYhusN23LnJ4ZypahJGtJ7ZnIhntWstkKW/qjBazz6NPC5lD8p6fLYjKD8unpVmx/WfrTW/VQkoXh7XZzPWEZ+ifBNZ+P3gU8eDQ5P2X13Pq5L8synE4nhFZqcRzjDxWjz8trad3HAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 1 example\" title=\"arc 0 1 example\" src=\"/static/4a6a8910a7786f804c830459a4f05322/6af66/arc_0_1_example.png\" srcset=\"/static/4a6a8910a7786f804c830459a4f05322/69538/arc_0_1_example.png 160w,\n/static/4a6a8910a7786f804c830459a4f05322/72799/arc_0_1_example.png 320w,\n/static/4a6a8910a7786f804c830459a4f05322/6af66/arc_0_1_example.png 640w,\n/static/4a6a8910a7786f804c830459a4f05322/d9199/arc_0_1_example.png 960w,\n/static/4a6a8910a7786f804c830459a4f05322/d74fe/arc_0_1_example.png 1164w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xB300;&#xCC99;&#xC810;&#xC5D0; &#xC788;&#xB294; &#xAC00;&#xC0C1;&#xC758; &#xC6D0;&#xC744; &#xB530;&#xB77C; &#xD638;&#xAC00; &#xADF8;&#xB824;&#xC9C0;&#xB294; &#xBAA8;&#xC2B5;</small>\n</center>\n<p>이번에도 같은 반지름을 가진 원을 따라 호가 그려졌지만, 이번에는 첫번째 예시의 원과 대척점에 있는 다른 가상의 원을 따라 호가 그려진다.</p>\n<p>왜냐하면 아까와 마찬가지로 저 시작점부터 끝점을 향하면서 반시계 방향으로 작은 호를 그릴 수 있는 방법이 저것밖에 없기 때문이다. 만약 이 시작점과 끝점을 이으면서 첫번째 예시의 원을 따라서 호를 그려보면 반시계 방향이 아니라 시계 방향이 된다.</p>\n<p>이게 바로 쓸기 플래그의 원리이다. 굳이 시작점과 끝점을 뒤바꿀 필요 없이 선을 그리는 방향만 바꿔주면 이 두 가지 호를 모두 정의할 수 있게 되기 때문이다. </p>\n<h4 id=\"큰-호-플래그\" style=\"position:relative;\">큰 호 플래그<a href=\"#%ED%81%B0-%ED%98%B8-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"큰 호 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>큰 호 플래그는 시작점과 끝점을 잇는 호 중에 작은 호를 그릴 것인지, 큰 호를 그릴 것인지를 선택한다. 위에서 보았듯이 SVG는 호를 렌더하기 위해 2개의 가상의 원을 정의하기 때문에 큰 호나 작은 호 같은 개념이 존재하게된다.</p>\n<p>작은 호에 대한 예시는 방금 전 그림에서 보았으니 이번에는 큰 호를 그릴 경우 SVG가 어떤 경로를 선택하여 호를 그리는 지 살펴보자.</p>\n<p>만약 쓸기 플래그가 <code class=\"language-text\">0</code>, 즉 반시계 방향이라면 각각 큰 호와 작은 호는 이 경로가 된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/762ad0bb83895985025acc4e8a438a41/d74fe/arc_1_0_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQ4y41Ua2/iMBDk//807ktbcYUe0qlC1080kJCn43XmdmzWNYhKjeT4tbue2Vl7JSIIQTA0Hn0l6Crtz4L+pONPj7ER0EbEX3uB9/6mL8crCcl5qD3CEiALe4lNgga8pH3/04B0GC8BGuq6QcQhNpEA6M7UBT0wHZLWBcuyILELeY39qvskEgG/w+GA3W4H51w8kf3s5ohurBcogbye9+c5o0sBq3QykY3jiOPxiK7r0Pc92rbFMAxouwtefr1iv/2Lc33C0A83+6fTKQaOlIdzwIJEjws04EdK+sOs6Bo34c96jX/rJ0w6D5IYERE/+hAlfVZUNagQfvbxFKKLiVaDRlGwOc/9GcEnFNM0Zbqc04fziLCPlBM6GpCGQkY7Kq1pjCiJxLk5sggiWVkGISoGpG/MIRWeWtJO0hO+UyQMuFwV5Lo5lCobQqMcA7JgWWfjRZ2802R3aB3HSTU6mar3Ncc9Y5Up85bQkTei1ZvRHFW9+l0Dt9qGjOJRzdk6FS8QmrHmZNLTzgPOH694e/uN5+eXfOXuEVoq2G5y+GUkV5VbLWTo2N+gexTQitpUjgFLGiZKKJzuaf5AlK8ysASbsdEobeRB2dAnUy5fDitsy09ZwKUd18rCpij56pW0aMxNu3plKu6frPLq3eTQjA1hVVXpQVAa5SPBMfvv5hZ89Z1ydkDZ36/Tr65rbLdbbDYb7Pd7/Adg+88TALNjrAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 1 0 example\" title=\"arc 1 0 example\" src=\"/static/762ad0bb83895985025acc4e8a438a41/6af66/arc_1_0_example.png\" srcset=\"/static/762ad0bb83895985025acc4e8a438a41/69538/arc_1_0_example.png 160w,\n/static/762ad0bb83895985025acc4e8a438a41/72799/arc_1_0_example.png 320w,\n/static/762ad0bb83895985025acc4e8a438a41/6af66/arc_1_0_example.png 640w,\n/static/762ad0bb83895985025acc4e8a438a41/d9199/arc_1_0_example.png 960w,\n/static/762ad0bb83895985025acc4e8a438a41/d74fe/arc_1_0_example.png 1164w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC4F8;&#xAE30; &#xD50C;&#xB798;&#xADF8;&#xAC00; 0&#xC778; &#xACBD;&#xC6B0; &#xB9CC;&#xB4E4; &#xC218; &#xC788;&#xB294; &#xC791;&#xC740; &#xD638;&#xC640; &#xD070; &#xD638;</small>\n</center>\n<p>이것도 직접 그려보면 쉽게 이해할 수 있는데, 이 두 개의 가상의 원에 놓인 시작점과 끝점을 반시계 방향으로 선을 그려 이으면서 만들 수 있는 가장 작은 호와 가장 큰 호는 실제로 저 경로들 밖에 없다.</p>\n<p>만약 쓸기 플래그를 <code class=\"language-text\">1</code>로 할당하여 호를 그리는 방향을 시계방향으로 바꾼다면 위의 쓸기 플래그의 예시에서 보았던 것과 마찬가지로 대척점에 있는 가상의 원을 따라 호가 그려지게 된다.</p>\n<h3 id=\"삼각함수로-호의-끝점-구하기\" style=\"position:relative;\">삼각함수로 호의 끝점 구하기<a href=\"#%EC%82%BC%EA%B0%81%ED%95%A8%EC%88%98%EB%A1%9C-%ED%98%B8%EC%9D%98-%EB%81%9D%EC%A0%90-%EA%B5%AC%ED%95%98%EA%B8%B0\" aria-label=\"삼각함수로 호의 끝점 구하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>자, 이렇게 SVG가 호가 그리는 원리를 알았다면 이제는 애니메이션을 만들면 된다. 필자가 만들려고 했던 애니메이션은 원주를 따라 그려지는 호의 중심각이 <code class=\"language-text\">0도</code>에서 시작해서 <code class=\"language-text\">360도</code>까지 스르륵 변경되게 만들면 되는 것이니 이제 그냥 만들기만 하면 되지 않을까?</p>\n<center>\n.<br>\n.<br>\n.<br>\n</center>\n<center>\n<div style=\"max-width:300px\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 550px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAv/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABs2jsloRDWQOxjX//xAAbEAEBAAIDAQAAAAAAAAAAAAACAQASAwQFEf/aAAgBAQABBQKFKKzQOKed9vXVUzdYTDxxbXP/xAAYEQACAwAAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPwHShR//xAAXEQEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/AWpr/8QAHhAAAgIBBQEAAAAAAAAAAAAAAAERIQIQEjJCcWH/2gAIAQEABj8CpCwTeP0kyvsTMObg5MW2vDzT/8QAHBABAQEAAgMBAAAAAAAAAAAAAREAITEQUXGB/9oACAEBAAE/IUDYx0NBg0ep9JpRXo/hiQ1QORle8dQMs4Xi5EoHTjx//9oADAMBAAIAAwAAABBzFwP/xAAYEQACAwAAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPxBti5qP/8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQETH/2gAIAQIBAT8QALW4x//EAB4QAQEAAgICAwAAAAAAAAAAAAERACExQRBhgZGx/9oACAEBAAE/EHLlQaAvy4y5Aum2jvlR+84UDHcuMvSjsNjMCqo10PFPXMxG0eofhg+WVJC2KHdzS3QxKb2+/H//2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no\" title=\"no\" src=\"/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg\" srcset=\"/static/f4617a9e1f692a7df11953b0a4b86f44/0913d/no.jpg 160w,\n/static/f4617a9e1f692a7df11953b0a4b86f44/cb69c/no.jpg 320w,\n/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg 550w\" sizes=\"(max-width: 550px) 100vw, 550px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</div>\n<small>&#xADF8;&#xB807;&#xAC8C; &#xC27D;&#xAC8C; &#xB05D;&#xB0A0;&#xB9AC;&#xAC00; &#xC5C6;&#xB2E4;</small>\n<br>\n<br>\n</center>\n<p>사실 필자가 위에서 예시로 들었던 호의 중심각은 모두 90도나 270도였다. 사실 여기에는 한 가지 이유가 숨어있는데 그게 무엇일까?</p>\n<p>바로 호라는 녀석이 시작점과 끝점을 정의해서 그리는 녀석이기 때문이다. 즉, 원주를 따라서 이쁘게 호를 그리고 싶다면 호의 시작점과 끝점은 반드시 원주 위에 올라가 있는 좌표를 가지고 있어야 한다. 하지만 호의 각도가 90도, 180도, 270도라면 별다른 계산 없이 X축과 Y축에 올라가 있는 점을 선택하기만 되기 때문에 필자가 예시로 들었던 모든 케이스에서 이런 각도들을 선택한 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/73b94/coords_default.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAACOklEQVQ4y3VU247aMBDl//+mj1WfWqnd9qFUaBFCXArZXaCwoiCSkMR2cjpnyIC51JLjcTxz5szF7hwOB0wmE+x2O3DUda2zaRqd8eA+BDnnGulxDSHo2smyDMPhEIvFAkVRIE1T0AnXXM7m8znGsxle3970X5GnKI8ZqmOqe9pzdc4paIeeCVSWJbz3elBVla7cj0Yj9L98xkyiqFyF178Oy73DeOPgRI86+/1ebZQhKZsHC8tCoDIY3q+fEI8a5o/Eo/cHGGwaVL5WmzTN1J62HRozRDKkTBDK9EhQZSpGzgf5enxPHD4M6NyhrDzM/o4hf1C2cK04dBBk1gKuiZfZ1EGcnsKlDQHPDGNACzOYcVS9iwPuG9WjDaKU3QFSyaYBxXJ941DTdAtoOWClfVuYS8+Fc7WNvRaqHdoqsjdCpxzKJ5dNsXhD9vQVy/d3vCSJtgIHAeJmp2EivZksV9g8fYOfjJG5UwudGbI5y2OOQkBmojwYDLBery8sopwyEp4/9/tYvSTi0V0z5Ic/SuYwhKurdlukc2+2g/qhtb9qGzK0XMU5s6LEewO2G9U8KgoBzYNV2wAeMY71rA/vQ45uCvNkHmfyMPTlPo/lLsfMLJKHN8UYxvfYDFarFaafPmIhxXJtM8fhN/9r7NvHIX4P699TiddrE8dvoKWEhKxY55DZd1zj95CKKgurlO+eyHZ2aGU+zNvtFnmea9o6VjVL8m2OVOYZm7c9Mz0CTKdTdLtd9Ho9faj/AW02xtANM+hxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"coords default\" title=\"coords default\" src=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/6af66/coords_default.png\" srcset=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/69538/coords_default.png 160w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/72799/coords_default.png 320w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/6af66/coords_default.png 640w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/d9199/coords_default.png 960w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/73b94/coords_default.png 1004w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC6D0;&#xC8FC;&#xC5D0; &#xC874;&#xC7AC;&#xD558;&#xB294; &#xBE68;&#xAC04;&#xC0C9; &#xC810;&#xC758; &#xC88C;&#xD45C;&#xB294; &#xACC4;&#xC0B0;&#xC5C6;&#xC774;&#xB3C4; &#xC554;&#xC0B0;&#xC774; &#xC27D;&#xC9C0;&#xB9CC;<br>&#xD30C;&#xB780;&#xC0C9; &#xC810;&#xC740; &#xC544;&#xB2C8;&#xB2E4;...</small>\n</center>\n<p>하지만 클립패스를 이루는 호의 애니메이션은 90, 180, 270, 360도로 텔레포트하면서 움직이는 것이 아니기 때문에 결국 필자는 애니메이션이 진행되는 동안 호의 끝점이 되어 줄 무수히 많은 파란점들의 좌표를 구해야한다. 이걸 어떻게 할 수 있을까?</p>\n<blockquote>\n<p>답은 바로 <strong>삼각함수</strong>이다.</p>\n</blockquote>\n<h4 id=\"도와줘요-삼각함수\" style=\"position:relative;\">도와줘요 삼각함수!<a href=\"#%EB%8F%84%EC%99%80%EC%A4%98%EC%9A%94-%EC%82%BC%EA%B0%81%ED%95%A8%EC%88%98\" aria-label=\"도와줘요 삼각함수 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>위에서도 이야기했지만 우리가 일상 속에서 호를 보았을 때 직관적으로 떠올리는 단위는 바로 <code class=\"language-text\">각(Degree)</code>이다. 그래서 필자는 호를 그리는 인터페이스도 이런 식으로 설계되면 편할 것이라고 생각했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ArcData</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원의 중심의 x 좌표</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원의 중심의 y 좌표</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원의 반지름</span>\n  degree<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원점에서 부터 호를 그릴 각도 </span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">drawArc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ArcData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">M 어쩌고 A 어쩌고 L Z</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 대충 호 그리는 명령어</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2be3abdad9703847459d8b18dcb32f6e/27b7a/arc_func.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACMklEQVQ4y41U227bMAzN/3/WsIdhD8MaDGi7rUGDdW2ywPerbEtnPHToyV4eqoAxKVGHd+2OxyPqukZRFEiSBGVZKpHnHvk0TfVLOeZN33h+d/zj8t4jhLAQ1zRNum/nlG3FukbUUUAywzAo8dI4jui6Dm3bou973XfO6R7J9kjUJZm8y7Js8caIl6lE3iybh/zyzEDt3O6uAM2TLYDxBIplgprOAlhVlVqxMGMFAzDlW7KBmrxj1QjIA3pnB5aXW/J2z1KkgBbyyn31QnKlcljlKQ7ZZMe715xfQ5bLA3MnbRHYJkJBeJG7ocdbkeFc5ujFE4gBL8ZmkqKxSKwBafYwVS8upUPrJuSdx+8i4FR5VL1YF+370xseTq8YGOL15ybRZ5oEqNzfoX18UFDNIcP7lQ1IGo/nLODuFPDtHATYiwHgkGTYP7/g8KXF/Qehjy1enhqUrkIpRl73X5F9f2Rc/6o8jU5D1HCVGPI4hy7LDSMuWYU+FV4imMR7hgsZqkJA6amP+5BFGcdJCzJeC0LZCsDLRSdeDQ0HT/TmStOZpCqXDlgBcnPbZwvPioqhtK5Q95164+W8cT2ypp6Lw6LwtbBZ5uzGYNu+U4PCX1hxGpZw/xS5Fuu/PnzX6E2jesKsnp9+4Hz4ic7Pubw5y+96HEiin3/+hEKqu72rIdssx7Nqz5WB03sbTx1R64UIbDXL25xZCuK3zmS9HL2f8Wzv8jxfuW3hLe0S1rN8632M5b9X6h1WhXY/tAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc func\" title=\"arc func\" src=\"/static/2be3abdad9703847459d8b18dcb32f6e/6af66/arc_func.png\" srcset=\"/static/2be3abdad9703847459d8b18dcb32f6e/69538/arc_func.png 160w,\n/static/2be3abdad9703847459d8b18dcb32f6e/72799/arc_func.png 320w,\n/static/2be3abdad9703847459d8b18dcb32f6e/6af66/arc_func.png 640w,\n/static/2be3abdad9703847459d8b18dcb32f6e/27b7a/arc_func.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xB300;&#xCDA9; &#xD589;&#xBCF5;&#xD68C;&#xB85C;&#xC758; &#xACB0;&#xACFC;&#xBB3C;</small>\n</center>\n<p>필자가 설계한 인터페이스처럼 임의의 각을 사용하여 호를 그리려면, 임의의 시작점을 정한 후 이 각을 이용하여 끝점의 좌표를 구해야한다.</p>\n<p>사실 시작점은 그냥 호를 그리기 시작할 임의의 점을 자유롭게 정하면 되기 때문에 원주 위에 있는 아무 점이나 골라잡아도 된다. 앞서 이야기했듯이 SVG는 원을 그릴 때 <code class=\"language-text\">(cx + r, cy)</code> 좌표를 렌더 시작점으로 정의하고 있으므로 필자도 동일하게 이 좌표를 0도의 기준으로 잡도록 하겠다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c6251100be299d7bb20ac6580128e408/27b7a/0degree.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABuklEQVQ4y6VU7W7CMAzs+7/V2CuMP/vQBKilgKC0QGn65fmiXmeydtK0SG7sxLnaFzvRarWS6/UqeZ7L8XiUoii8QMca9NPp5GfYVqc/dcwRPhhd10nf96NgtG3r17kPm8P6UuDjAaHUde0Fh5qmkfv9LmVZSlVVft0559cgXIPAF0I7yrJsjIaCw3CCzj8zQszYIyj3efYBkJGEANQBZG2A0mcEvFwu/i9M0zoQgM5TNkFpR7g1AGID0XGDvEzZ4ZrTs962HNrwbVr9cPtTFLSIWM86pz/Cmvr5lOHA6B74azspXSXbPJNdkYtTADs6tft0K7Vi1FotbrP+TtnerE1LN+V1v5VlvJbydpObyvl89lJqQ+wPB9ktnqRavkijWXpARFQNPFgwp5wAMNEI3+KN7NNUUpU4jiVJEtmp/qlz8ryQ+uNdEP94y2HKI09Dp/w24AEwcDp7KYzU6yjmIeqQEt8IKLdBfwBECYR1NgUQrtlyi/BasJfRu9YxrLspm9xT/tR6tMH5bOv993EIf+hTZi/bXuVzRXCmB5trUxyPhR1yRArsW0d7jlMPiIq3Kf/oZfMaz1Fg7S9PWB/FUyjqJAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"0degree\" title=\"0degree\" src=\"/static/c6251100be299d7bb20ac6580128e408/6af66/0degree.png\" srcset=\"/static/c6251100be299d7bb20ac6580128e408/69538/0degree.png 160w,\n/static/c6251100be299d7bb20ac6580128e408/72799/0degree.png 320w,\n/static/c6251100be299d7bb20ac6580128e408/6af66/0degree.png 640w,\n/static/c6251100be299d7bb20ac6580128e408/27b7a/0degree.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  <small>&#xC6D0;&#xC758; &#xC911;&#xC2EC;&#xACFC; &#xC800; &#xC810;&#xC744; &#xC774;&#xC73C;&#xBA74; 0&#xB3C4;&#xC758; &#xAE30;&#xC900;&#xC774; &#xB418;&#xB294; &#xC2DC;&#xCD08;&#xC120;&#xC774; &#xB41C;&#xB2E4;</small>\n</center>\n<p>이렇게 각의 출발점이 될 시초선을 정했다면 이제 저 점으로 부터 각 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">θ</span></span></span></span> 만큼 벌렸을 때 원주 위의 어떤 점이 나오는지만 찾아내면 호를 그릴 수 있게 된다.</p>\n<p>이때 삼각함수를 사용하면 시초선으로부터 특정 각만큼 벌어진 선과 원주가 맞닿는 부분의 좌표를 쉽게 구할 수 있게 된다. 자 한번 어릴 때 배웠던 삼각함수를 한번 되새김질해보도록 하자.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/93359637e4ee5965580fb27914c67df8/7321b/triangle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAEgUlEQVQ4y3VUWUxjZRS+idDb27v09pYutIA4YjKoD7745JNREkNCBuIDhCU8EAKRhJAosfpgfBASMEYwYR+2EvaylAAF7TAEZSBs3ZwWkCUBBpCwV0IjI/Wc+tfUBx/+e/7lnO+e852FcrlcAi6n06kGyYKUyB2/trYmXV5eMj09Pa91dXU9uLm5YVZXV0V4w8UTXT5iz1HwUcIhfBECxDMqgbGEIAD2ent7e9Ld3R2zvLwswrsYtiEyvGcpt9vNgrECgT0eD43ewZ0CFrOysqLc2NigR0dHYwYGBrTb29s0AHIup5NzO50MSNRlUJ/YySniLnqGYTDk7ywYsvv7+0IwGJTNzMxoJycndbCnXxwccMsOh+Dw+RTOf0JnSWQhewREgDCHnMPhQCmcnZ1xjY2NsdnZ2YbS0tJkWG/l5uYamlse6/Z/25Z+fTojOldW1C63W4i0x5AZ2MgJuTKUfr+fTklJ0QFYfEVFhaKpqUlXV1enr/n+B+69Dz/QN3z0/hun33yd5LH/JDq2tmm3wxGyBywZeqgiYWqAMwHCVBcVFb1qMpkMkBDVxcUFNz09bZyYtCUEg+f06dWf+rn556a8jx/FHv9+ol5aWhJJlDHoKYV8QXkoAEyELMpqamq06enpBuRrbm5O3N3dpUetY/puc7uGevQiyr3rH/ceBJ5SFMU8buvUQzQMgLKYQKgKhtrc3GROTk5on8/HA8grWVlZBgBlMRmQYQ5k9NiYVd1tbpOe7922+OHCdxCwAiD16Wefx+M76Mlvb28Z2EdRs7OzGqvVapiYmEiAbGrKy8vfNpvNRpvNpofMxk/ZftR3mBvjZn9e/25t/czv2rn8w7F51v/tV5/wpi++fAd09KCr6+7uToYGiKPGx8eVHR0dmr6+vliLxSICfw9ra2u18Kju7+/Xd3WZVW3tHYlDo9PvTj15lmCz/5I0PjWT2NLcpC4sLEwGIDXoSs3NzUn19fU6an19Xdjb2+O8Xq8KXJaXlJQkdHZ2ioFAgAUaVCAZSIpu2NKrQRp8njXu/mWAraqqkiBxkKigAuk6Pz8XIIEMBXUnAJk8kCpB7THwJ11mZiZyw8zPz0s+r1cBlOgtliHjxuYWO/9sQXz51z2fkZER39raqj0+PmYhKTw0ggow2Mg6FBYWFmRXV1dcWloaZjoGQDE5UUNDQzG9vb1a3GMUUOCxqampGkgECzZybLnIOlSGK520oAQU8AUFBcbi4uIH1dXVqpGREcPg4KCxsrJSlZ+fn1hWVhZ/enqK5SaR1hUipw0eOFgqHBJAgQoUufv7e0VDQ4M2JydHB8APYb2Zl5enBeLV19fXOInCNhyusP1/pg1xXYnnxcVFxeHhIQ6HaKgEzfDwMA6H6KOjoxBnhColmTQKAFSGpw22jZK0Dk8kgiqB5BioAg4AjQAYB00QIp/MvjBNSrJwz1PkDwyZZzQq4hk9gNBx6sggKVpIig7aTIahYojojZPMQzL2Qvb/ApILWQSgHPjkt7a2aLvdLkI3iDs7OzTcsf8DiDTQfwNverD0zHukZQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"triangle\" title=\"triangle\" src=\"/static/93359637e4ee5965580fb27914c67df8/6af66/triangle.png\" srcset=\"/static/93359637e4ee5965580fb27914c67df8/69538/triangle.png 160w,\n/static/93359637e4ee5965580fb27914c67df8/72799/triangle.png 320w,\n/static/93359637e4ee5965580fb27914c67df8/6af66/triangle.png 640w,\n/static/93359637e4ee5965580fb27914c67df8/d9199/triangle.png 960w,\n/static/93359637e4ee5965580fb27914c67df8/7321b/triangle.png 1184w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</center>\n<p>이건 좌표평면 위에 정의된 반지름이 <code class=\"language-text\">1</code>인 원을 정의하고 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span> 축을 각의 출발점인 시초선으로 정의한 후 반시계 방향으로 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">θ</span></span></span></span> 만큼 각을 진행시킨 것이다.</p>\n<p>이때 이 각을 타고 원주로 일직선으로 뻗어나가는 선이 만나는 지점 <code class=\"language-text\">(x, y)</code>가 우리가 삼각함수를 사용하여 알고 싶은 점의 좌표가 될 것이다. 그리고 이 점에서 시초선으로 수직하게 선을 내려꽂으면 위 그림과 같은 모양의 직각삼각형이 그려지게 된다.</p>\n<p>이때 이 삼각형의 삼각함수를 사용하여 점 <code class=\"language-text\">(x, y)</code>의 구성 요소인 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>는 이렇게 정의할 수 있다.</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>sin</mi><mo>⁡</mo><mi>θ</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>cos</mi><mo>⁡</mo><mi>θ</mi><mo>=</mo><mi>x</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n\\sin{\\theta} = y \\\\\n\\cos{\\theta} = x \\\\\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.0000000000000004em;vertical-align:-1.2500000000000002em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">sin</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">θ</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">cos</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">θ</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathdefault\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em;\"><span></span></span></span></span></span></span></span></span></span></span></span>\n<p>사실 이 내용은 고1 쯤에 배웠던 내용이기는 하지만, 사실 너무 오래되었던지라 필자도 오랜만에 한번 찾아봤었다. <small><del>(추억의 얼싸안코가 떠오른 건 덤…)</del></small></p>\n<p>이게 만약 수학 문제였다면 각 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">θ</span></span></span></span>와 삼각비를 사용하여 직접 풀어내야했겠지만 다행히도 자바스크립트는 <code class=\"language-text\">Math.sin</code>과 <code class=\"language-text\">Math.cos</code> 메소드를 제공하고 있기 때문에 저걸 직접 계산하지는 않아도 된다.</p>\n<p>단, 여기서 한 가지 신경써줘야 할 점은 저 각 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">θ</span></span></span></span>의 단위이다. 우리가 보통 각을 생각할 때는 60분법인 90도(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>90</mn><mi mathvariant=\"normal\">°</mi></mrow><annotation encoding=\"application/x-tex\">90\\degree</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\">9</span><span class=\"mord\">0</span><span class=\"mord\">°</span></span></span></span>)를 떠올리지만, 사실 이렇게 “도”라는 특별한 단위가 붙은 값은 다른 일반적인 숫자와 계산이 불가능하기 때문에 이 값을 가지고는 삼각함수를 사용할 수가 없다.</p>\n<p>잘 이해가 되지 않는다면, 10km와 6을 더한다고 해서 16km가 되는 게 아니라는 사실을 생각해보면 조금 이해가 쉽다. 마찬가지로 10km와 6마일을 더한다고 해서 16km가 되는 것도 아니다. 단위가 붙은 어떤 물리량을 연산하려면 피연산 대상도 반드시 같은 단위가 붙어있어야 한다.</p>\n<p>결국 삼각함수도 일종의 함수이기 때문에 이렇게 특별한 단위가 붙은 값을 가지고는 연산을 수행할 수가 없다. 그냥 90이면 90이지, 90도라는 값으로는 삼각함수를 사용할 수가 없다는 이야기이다. 그래서 우리는 이 “도”라는 단위가 붙은 값을 단위가 없고 물리량만을 가진 호도법, 즉 라디안으로 변환해주어야한다.</p>\n<p>호도법, 라디안하면 어려워보일 수 있겠지만 그냥 “180도를 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>라디안이라고 부르자”와 같이 그냥 같은 요소를 표현하는 방법만 바뀌는 것이다. 우리가 일상생활 속에서 1근이라는 단위를 600그램으로 변환할 수 있는 것처럼 말이다.</p>\n<p>라디안은 60분법과 마찬가지로 각을 표현하는 방법이지만, 호의 길이와 반지름의 길이를 통해 각의 크기를 정의하는 방법이기 때문에 단위가 붙지않은 순수한 숫자로만 정의된다. </p>\n<center>\n  <div style=\"max-width: 300px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 506px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAABfElEQVQ4y5VTXauCQBDd//977KEnwehBRDMlQzLIQvqQKDX6sprLmdju6i3tLgyzurNnZ86cEdSyHo8H+/v9zn6/39NoNPpzLr34D9jhcCDf92k+n1MQBK8YaY2A9ZcvlwsNBgM6n8/8vVgsaDKZvB6EIVZ8A4Zg13U5Q6zb7cY+DENar9eVu6INDGs4HNJut3uBqzGe53HWvV6PY8QnMLkHZ5vNpsKlut9utwxq23a15Hdg4/GYkiSpAKjn0qPr1+v1t2Q1SF6MoojiOG4Ek3vwOJvNnoDvwACkdrAujTpgWZZcDZdcB1sul3z4qbw65/IeOl4UxbNk+TNNUyb4G7B6zGq1Yr6FOlLoaJOMPpmcImTJGZ5OJ84M8sAewkW2x+OxMUP1LM9zbqQAQKfToSzLWMC6rpOmaewxbipXTRkCB/MtMJ/dbpcsy2JxOo5D/X6fTNPk5iAINp1OuSRoTv6ThjhUCMoEfbnwGBTQRoFoIlvVmWEYLIu2Bv0A5BwlT2/v2q4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"1rad\" title=\"1rad\" src=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png\" srcset=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/69538/1rad.png 160w,\n/static/a34b977dc5fad2e1f8aa536c40cf7580/72799/1rad.png 320w,\n/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png 506w\" sizes=\"(max-width: 506px) 100vw, 506px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n  </div>\n  <small>&#xD638;&#xC758; &#xAE38;&#xC774;&#xC640; &#xBC18;&#xC9C0;&#xB984;&#xC758; &#xAE38;&#xC774;&#xAC00; &#xAC19;&#xC744; &#xB54C;&#xC758; &#xAC01;&#xB3C4;&#xB97C; 1&#xB77C;&#xB514;&#xC548;&#xC774;&#xB77C;&#xACE0; &#xD55C;&#xB2E4;</small>\n</center>\n<p>일단 호의 길이가 반지름의 길이와 같은 경우의 중심각을 1라디안이라고 하는 것만 알면 그 다음부터는 조금 더 쉬워진다.</p>\n<p>우리는 이미 원주의 전체 길이가 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>로 정의된다는 것을 알고 있다. 그렇다면 원을 그리려면 1라디안의 중심각을 가진 호가 몇 개나 필요할까?</p>\n<blockquote>\n<p>바로 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>개 이다. 즉, 원의 중심각인 360도는 1라디안에 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>를 곱한 값인 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>라디안이다.</p>\n</blockquote>\n<p>1라디안의 중심각을 가진 호의 길이는 무조건 원의 반지름 길이인 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>이기 때문에 전체 원주 길이를 모두 채우려면 당연히 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>개의 호가 필요하고, 이 호의 총 길이는 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span></span></span></span>, 중심각은 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>라디안이라고 할 수 있는 것이다.</p>\n<p>여기까지 왔다면 원의 반만 채우려면 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>개의 호가 필요하다는 것도 쉽게 유추해볼 수 있다. 즉, 중심각이 180도인 반원의 원주 길이와 동일한 호의 개수는 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>개이기 때문에 180도는 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span>라디안이 되는 것이다.</p>\n<p>그럼 90도는 몇 라디안일까? 90도는 다시 180도를 반으로 나눈 값이기 때문에 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mi>π</mi><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{\\pi}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.040392em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.695392em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>라디안이 된다. 이 과정을 일반화 시켜보면 이런 모양이 된다.</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>m</mi><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>n</mi><mi mathvariant=\"normal\">°</mi></mrow><mrow><mn>180</mn><mi mathvariant=\"normal\">°</mi></mrow></mfrac><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">m_{rad} = \\frac{n\\degree}{180\\degree} \\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault mtight\">a</span><span class=\"mord mathdefault mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mord\">8</span><span class=\"mord\">0</span><span class=\"mord\">°</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\">n</span><span class=\"mord\">°</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathdefault\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>\n<p>이 공식 자체는 굉장히 심플하기 때문에 코드로 작성해도 이렇게 한줄 컷이 나온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> degree <span class=\"token operator\">=</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> radian <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>라디안은 이렇게 각의 크기를 그저 호의 길이와 반지름의 길이를 사용하여 나타내는 것이라서 어떠한 단위도 붙지않기 때문에 이 값을 가지고 다른 숫자들과 자유롭게 연산을 할 수 있게 되고, 우리는 라디안으로 표현한 값과 삼각함수를 사용하여 시초선으로부터 원하는 각도에 위치한 원주 상의 좌표를 구할 수 있게 되는 것이다.</p>\n<p>이렇게 알아낸 모든 정보를 토대로 코드를 작성하면 이렇게 호를 그리는 <code class=\"language-text\">path</code> 엘리먼트의 명령어를 뱉어내는 함수를 만들 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 호를 그릴 때 필요한 값들</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">ArcData</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  degree<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 삼각함수로 시초선에서 n도 벌어진 점의 좌표를 구하는 함수</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getCoordsOnCircle</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ArcData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> radian <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token operator\">:</span> x <span class=\"token operator\">+</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>radian<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token operator\">:</span> y <span class=\"token operator\">+</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>radian<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_DEGREE</span> <span class=\"token operator\">=</span> <span class=\"token number\">359.9</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// x, y를 중심 축으로 하여 degree(θ)만큼 +방향으로 호를 그리는 함수</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getArc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token operator\">:</span> ArcData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> startCoord <span class=\"token operator\">=</span> <span class=\"token function\">getCoordsOnCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">,</span> degree<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> finishCoord <span class=\"token operator\">=</span> <span class=\"token function\">getCoordsOnCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isLargeArc <span class=\"token operator\">=</span> degree <span class=\"token operator\">></span> <span class=\"token number\">180</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isEnd <span class=\"token operator\">=</span> degree <span class=\"token operator\">===</span> <span class=\"token constant\">MAX_DEGREE</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">M </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startCoord<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startCoord<span class=\"token punctuation\">.</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> A </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 0 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isLargeArc<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 1 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>finishCoord<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n    finishCoord<span class=\"token punctuation\">.</span>y\n  <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> L </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isEnd <span class=\"token operator\">?</span> <span class=\"token string\">'z'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이후 <code class=\"language-text\">getArc</code> 함수의 <code class=\"language-text\">degree</code> 값에 <code class=\"language-text\">0</code> ~ <code class=\"language-text\">359.9</code>을 순서대로 넘기면 애니메이션에 사용될 모든 호를 렌더할 수 있게된다. <small>(필자는 <code class=\"language-text\">react-spring</code>으로 구현했다)</small></p>\n<p>이때 주의해야할 점은 호의 최대 각이 <code class=\"language-text\">360</code>이 아니라는 것이다. 호의 중심각이 360도가 되면 호의 시작점과 끝점의 좌표가 같아지기 때문에 SVG는 호를 렌더하지 않는다. 그래서 필자는 최대 값으로 <code class=\"language-text\">359.9</code>까지만 넘기고 이 값이 들어오면 <code class=\"language-text\">Z</code> 명령어를 사용하여 바로 시작점으로 선을 그리며 렌더를 마치도록 만들었다.</p>\n<p>물론 이 최대 값이 <code class=\"language-text\">360</code>도에 근사하면 근사할수록 더 원에 가까운 호가 그려질테지만, 어차피 사람 눈으로 보면 그 나물에 그 밥이기 때문에 그냥 이 정도만 하기로 했다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 필자처럼 직접 도넛 차트를 구현하지 않더라도 그냥 기존에 이미 존재하는 차트 라이브러리를 사용하면 간단하게 문제를 해결할 수 있다. 하지만 필자에게 필요한 차트는 바 차트와 도넛 차트 뿐이었기 때문에 오직 이것들만을 위해 무거운 차트라이브러리를 번들에 포함시키는 것이 더 손해라고 생각했기 때문에 이렇게 직접 구현하게 되었다. <small>(물론 예상보다 시간을 많이 쓰긴 했다)</small></p>\n<p>간혹 이렇게 2D나 3D 그래픽스를 사용한 작업을 하다보면 삼각함수나 선형대수 같은 수학 이론이 필요한 경우가 있다. 어떤 분들은 이렇게 수학적인 지식이 필요한 예제를 보면 “난 수학을 못 해서 안돼”라고 생각하고 포기하실 수도 있겠지만, 필자도 수학을 잘 하는 것이 절대 아니다.</p>\n<p>사실 필자는 수능 볼 때도 수학 공부를 하나도 안 했고, 그냥 OMR 카드의 답안을 일자로 쭉 그어버리고 자버려서 8등급이 나온 사람이다. 아마 필자 밑에 있던 녀석들도 전부 필자처럼 아예 수학을 포기하고 찍고 자버린 녀석들일 것이다. 이렇게 아예 공부를 안 했던 필자도 이해할 수 있을 정도면 아마 대부분의 사람들도 조금만 고민하고 생각해보면 충분히 이해할 수 있는 것들이라고 생각한다.</p>\n<p>물론 이론이나 공식들을 깊게 파고들려고 하면 끝이 없기도 하고 어렵기도 하다. 아니, 어차피 봐도 이해를 못 할 가능성이 더 높다. 하지만 실제로 우리가 어플리케이션을 만들 때 만나는 문제를 해결할 정도의 수학 이론이나 공식은 이해하기가 그리 어렵지도 않은 편이라고 생각한다.</p>\n<p>어린 시절 학교에서는 삼각함수를 알려줄 때 이 이론이나 함수가 어떤 문제를 해결할 수 있는지에 대해서는 알려주지 않고, 그저 시험을 위해 공식과 이론들을 외우게만 시켰었다. <small>(수업시간에 그렇게 잤는데도 얼싸안코는 기억이 난다…)</small></p>\n<p>하지만 지금은 그 때와 다르다. 이 공식이나 이론들이 어떤 문제를 해결할 수 있는지도 명확히 알고 있을 뿐더러 그 문제를 겪고 있는 당사자가 바로 나이기 때문에, 수능만을 위해 공부하던 그때보다 동기 부여도 더 확실하게 될 수 있다고 생각한다.</p>\n<p>이상으로 SVG와 삼각 함수로 도넛 차트 만들어보기 포스팅을 마친다.</p>","tableOfContents":"<ul>\n<li><a href=\"#%EC%82%AC%EA%B1%B4%EC%9D%98-%EB%B0%9C%EB%8B%A8\">사건의 발단</a></li>\n<li>\n<p><a href=\"#%EB%8F%84%EB%84%9B-%EC%B0%A8%ED%8A%B8-%EA%B7%B8%EB%A6%AC%EA%B8%B0\">도넛 차트 그리기</a></p>\n<ul>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%8B%9C%EA%B0%81%ED%99%94%ED%95%B4%EB%B3%B4%EC%9E%90\">여러 개의 데이터를 시각화해보자</a></li>\n<li><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C%EB%A1%9C-%EB%B3%B4%EC%9E%90\">전체 코드로 보자!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%98%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\">호를 사용하여 애니메이션을 만들어보자</a></p>\n<ul>\n<li><a href=\"#circle-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%AA%BB%ED%95%9C%EB%8B%A4\">circle 엘리먼트를 사용하지 못한다</a></li>\n<li><a href=\"#svg%EA%B0%80-%ED%98%B8%EB%A5%BC-%EB%A0%8C%EB%8D%94%ED%95%98%EB%8A%94-%EC%9B%90%EB%A6%AC%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">SVG가 호를 렌더하는 원리를 알아보자</a></li>\n<li><a href=\"#%ED%98%B8%EC%9D%98-%ED%94%8C%EB%9E%98%EA%B7%B8-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\">호의 플래그 이해하기</a></li>\n<li><a href=\"#%EC%82%BC%EA%B0%81%ED%95%A8%EC%88%98%EB%A1%9C-%ED%98%B8%EC%9D%98-%EB%81%9D%EC%A0%90-%EA%B5%AC%ED%95%98%EA%B8%B0\">삼각함수로 호의 끝점 구하기</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></li>\n</ul>","fields":{"lang":"ko","slug":"20201212-draw-arc-with-svg-clippath"},"frontmatter":{"title":"SVG와 삼각 함수로 도넛 차트 만들어보기","date":"2020-12-12","categories":["프로그래밍","그래픽스"],"tags":["SVG","삼각함수","차트","도넛 차트","Doughnut Chart","SVG 호"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABRElEQVQoz42STUsCYRSF/RXRoh/QL6ptME3OOGNltHUZrWIiE9NKpxArK2fe+yZ9aA6kJFFhtWkKchPRbrRsPpyit0FwYY0mnMVZ3Idz7+F6DOBcpQPfMnzbuMjjhnEm9n0DZSDWQMwnovqFnRwbs5rEH+I0On+QS/eVXMpAPhN8/cHgndkoD2+ScNlcuzSFClGUgoVo48/+HfAH8ATTxd2FoVVCizc1ebIGgUzpcfmaPGfnbDTx6/4OuAF+gsfiW9uDUZLfW1JjI7eRUfUkLFxZd8crXzKlg79HsgNTRzuhgRhZTCqvKfopyeWUROiiWD0I2sjbK9np2QJOQ1wwrs5HiCxW99dfhLSOC0ndab6fwpqYecvM5sWzeKyRiL6fioomBSxg/ymsLd7EjAV0XZquS1NNGHclu8Fca5S3MOvI6P5hPzwfx9sLB3wiAAAAAElFTkSuQmCC","aspectRatio":1.7699115044247788,"src":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/ee604/thumbnail.png","srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/69585/thumbnail.png 200w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/497c6/thumbnail.png 400w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/ee604/thumbnail.png 800w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/f3583/thumbnail.png 1200w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/5707d/thumbnail.png 1600w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/eeb1b/thumbnail.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}}},"allMarkdownRemark":{"edges":[]}},"pageContext":{"slug":"20201212-draw-arc-with-svg-clippath","previous":{"fields":{"slug":"20201128-making-your-components-extensible-with-typescript","path":"/2020/11/28/making-your-components-extensible-with-typescript/","lang":"ko","postGroup":"20201128-making-your-components-extensible-with-typescript"},"frontmatter":{"title":"타입스크립트와 함께 컴포넌트를 단계 별로 추상화해보자"}},"next":null,"lang":"ko","postGroup":"20201212-draw-arc-with-svg-clippath"}}}