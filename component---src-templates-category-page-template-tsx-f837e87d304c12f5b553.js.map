{"version":3,"sources":["webpack:///./src/containers/CategoryPage/index.tsx","webpack:///./src/templates/CategoryPageTemplate.tsx"],"names":["logger","generateLogger","handleCategoryClick","categoryName","click","useStyles","makeStyles","items","transition","textDecoration","transform","CategoryPage","data","location","pageContext","category","totalCount","styles","allMarkdownRemark","edges","pageInfo","pathname","split","path","posts","useMemo","map","p","node","lang","useRecoilState","languageAtom","useEffect","view","Layout","title","Title","description","right","Box","Categories","onClickCategory","SEO","RowList","Grid","item","xs","key","frontmatter","className","to","fields","onClick","handlePostClick","post","Paginator","pageCount","currentPage","defaultUrl","pageQuery","CategoryTemplate","props"],"mappings":"8UAcMA,EAASC,YAAe,iBACxBC,EAAsB,SAACC,GAC3BH,EAAOI,MAAM,iBAAkB,CAAED,kBAM7BE,EAAYC,YAAW,CAC3BC,MAAO,CACLC,WAAY,6BACZ,MAAO,CACLC,eAAgB,QAElB,UAAW,CACTC,UAAW,kBAkDFC,EAtCM,SAAC,GAAqE,IAAnEC,EAAmE,EAAnEA,KAAMC,EAA6D,EAA7DA,SAA6D,IAAnDC,YAAeC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,WACzDC,EAASZ,IAD0E,EAIrFO,EADFM,kBAAqBC,EAHkE,EAGlEA,MAAOC,EAH2D,EAG3DA,SAH2D,EAKlDP,EAASQ,SAASC,MAAM,KACzDC,EAAO,IAN4E,KAM/E,IAN+E,KAM/E,IACJC,EAAQC,mBAAQ,kBAAMN,EAAMO,KAAI,SAAAC,GAAC,OAAIA,EAAEC,UAAO,CAACT,IAC9CU,EAAQC,yBAAeC,KAR2D,GAczF,OAJAC,qBAAU,WACRhC,EAAOiC,SACN,IAGD,kBAACC,EAAA,EAAD,CACEC,MAAO,kBAACD,EAAA,EAAOE,MAAR,CAAcD,MAAOpB,EAAUsB,YAAW,KAAOrB,EAAP,UACjDsB,MACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAgBC,gBAAiBvC,MAIrC,kBAACwC,EAAA,EAAD,CAAKP,MAAOpB,IACZ,kBAAC4B,EAAA,EAAD,KACGnB,EAAME,KAAI,SAAAC,GAAC,OACV,kBAACiB,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,IAAKpB,EAAEqB,YAAYb,MAAOc,UAAWhC,EAAOV,OAC7D,kBAAC,OAAD,CAAM2C,GAAIvB,EAAEwB,OAAO5B,KAAM6B,QAAS,kBAlDtB,SAAC7B,GACvBvB,EAAOI,MAAM,gBAAiB,CAAEmB,SAiDkB8B,CAAgB1B,EAAEwB,OAAO5B,QAC/D,kBAAC,IAAD,CAAe+B,KAAM3B,UAK7B,kBAAC4B,EAAA,EAAD,CAAWC,UAAWpC,EAASoC,UAAWC,YAAarC,EAASqC,YAAaC,WAAYnC,EAAMM,KAAMA,MChE9F8B,GAFEC,UAJU,SAACC,GACxB,OAAO,kBAAC,EAAiBA,IAKF","file":"component---src-templates-category-page-template-tsx-f837e87d304c12f5b553.js","sourcesContent":["import React, { useMemo, useEffect } from 'react';\nimport Layout from 'components/Layout';\nimport SEO from 'components/SEO';\nimport CategoriesCard from 'components/Cards/Widgets/Categories';\nimport Paginator from 'components/Utils/Paginator';\nimport { generateLogger } from 'utils/loggers';\nimport { Box, makeStyles, Grid } from '@material-ui/core';\nimport { PostListPageQueryResult } from 'models/query';\nimport RowList from 'components/Lists/RowList';\nimport { Link } from 'gatsby';\nimport PostIntroCard from 'components/Cards/Posts';\nimport { useRecoilState } from 'recoil';\nimport { languageAtom } from 'atoms/language';\n\nconst logger = generateLogger('category_page');\nconst handleCategoryClick = (categoryName: string) => {\n  logger.click('click_category', { categoryName });\n};\nconst handlePostClick = (path: string) => {\n  logger.click('click_posting', { path });\n};\n\nconst useStyles = makeStyles({\n  items: {\n    transition: 'transform 0.2s ease-in-out',\n    '& a': {\n      textDecoration: 'none',\n    },\n    '&:hover': {\n      transform: 'scale(1.01)',\n    },\n  },\n});\n\ninterface Props extends PostListPageQueryResult {\n  location: Location;\n  pageContext: {\n    category: string;\n    totalCount: number;\n  };\n}\nconst CategoryPage = ({ data, location, pageContext: { category, totalCount } }: Props) => {\n  const styles = useStyles();\n  const {\n    allMarkdownRemark: { edges, pageInfo },\n  } = data;\n  const [, categoryPath, categorySlug] = location.pathname.split('/');\n  const path = `/${categoryPath}/${categorySlug}/`;\n  const posts = useMemo(() => edges.map(p => p.node), [edges]);\n  const [lang] = useRecoilState(languageAtom);\n\n  useEffect(() => {\n    logger.view();\n  }, []);\n\n  return (\n    <Layout\n      title={<Layout.Title title={category} description={`총 ${totalCount}개 포스팅`} />}\n      right={\n        <Box>\n          <CategoriesCard onClickCategory={handleCategoryClick} />\n        </Box>\n      }\n    >\n      <SEO title={category} />\n      <RowList>\n        {posts.map(p => (\n          <Grid item xs={12} key={p.frontmatter.title} className={styles.items}>\n            <Link to={p.fields.path} onClick={() => handlePostClick(p.fields.path)}>\n              <PostIntroCard post={p} />\n            </Link>\n          </Grid>\n        ))}\n      </RowList>\n      <Paginator pageCount={pageInfo.pageCount} currentPage={pageInfo.currentPage} defaultUrl={path} lang={lang} />\n    </Layout>\n  );\n};\n\nexport default CategoryPage;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport CategoryPage from 'containers/CategoryPage';\n\nconst CategoryTemplate = (props: any) => {\n  return <CategoryPage {...props} />;\n};\n\nexport default CategoryTemplate;\n\nexport const pageQuery = graphql`\n  query CategoryQuery($skip: Int!, $limit: Int!, $category: String!, $lang: String!) {\n    allMarkdownRemark(\n      skip: $skip\n      limit: $limit\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { categories: { in: [$category] } }, fields: { lang: { eq: $lang } } }\n    ) {\n      edges {\n        node {\n          ...PostQueryFragment\n        }\n      }\n      pageInfo {\n        currentPage\n        pageCount\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}