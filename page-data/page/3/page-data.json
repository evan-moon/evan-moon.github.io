{"componentChunkName":"component---src-templates-posts-page-template-index-tsx","path":"/page/3/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"198db2f8-2aa3-5519-a026-aa9af4081cdc","tableOfContents":"<ul>\n<li>\n<ul>\n<li><a href=\"#declaration\">declaration</a></li>\n<li><a href=\"#declarationdir\">declarationDir</a></li>\n<li><a href=\"#declarationmap\">declarationMap</a></li>\n<li><a href=\"#downleveliteration\">downlevelIteration</a></li>\n<li><a href=\"#emitbom\">emitBOM</a></li>\n<li><a href=\"#emitdeclarationonly\">emitDeclarationOnly</a></li>\n<li><a href=\"#importhelpers\">importHelpers</a></li>\n<li><a href=\"#importsnotusedasvalues\">importsNotUsedAsValues</a></li>\n<li><a href=\"#inlinesourcemap\">inlineSourceMap</a></li>\n<li><a href=\"#inlinesources\">inlineSources</a></li>\n<li><a href=\"#noemit\">noEmit</a></li>\n<li><a href=\"#noemithelpers\">noEmitHelpers</a></li>\n<li><a href=\"#noemitonerror\">noEmitOnError</a></li>\n<li><a href=\"#preserveconstenums\">preserveConstEnums</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 지난 [tsconfig의 모든 것] Compiler options / Modules 포스팅에 이어 의 컴파일 옵션 중 출력 파일을 컨트롤 하는 옵션들을 소개할 예정이다.","html":"<p>이번 포스팅에서는 지난 <a href=\"/20210808-tsconfig-compiler-options-modules\">[tsconfig의 모든 것] Compiler options / Modules</a> 포스팅에 이어 <code class=\"language-text\">tsconfig</code>의 컴파일 옵션 중 출력 파일을 컨트롤 하는 옵션들을 소개할 예정이다.</p>\n<!-- more -->\n<p>이 옵션들은 타입스크립트에서만 지원되는 문법들을 자바스크립트로 어떻게 표현할 것인지, 혹은 ES6 이상의 문법을 ES5로 트랜스파일링할 때 어떻게 표현할 것인지와 같이 타입스크립트로 작성된 코드를 컴파일한 이후에 생성되는 자바스크립트 코드의 모습을 결정하는 옵션들이다.</p>\n<p>물론 Babel과 같은 트랜스파일러가 제공해주는 기능과 중복되는 부분이 있기 때문에, TSC와 Babel을 함께 사용하는 경우에는 tsconfig에서 모든 옵션을 섬세하게 설정해주지 않아도 되는 경우도 있다.</p>\n<h2 id=\"declaration\" style=\"position:relative;\">declaration<a href=\"#declaration\" aria-label=\"declaration permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>컴파일 할 때 타입 선언 파일도 함께 생성한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>컴파일 할 때 자바스크립트 파일만을 생성한다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">declaration</code> 옵션은 타입스크립트의 <code class=\"language-text\">*.d.ts</code> 파일을 내보낼지 말지를 결정하는 옵션이다. 만약 기본적으로 이 옵션은 꺼져있기 때문에, 별도의 설정 없이 타입스크립트를 컴파일하게 되면 <code class=\"language-text\">*.js</code> 파일만 덩그러니 생성되는 모습을 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// math.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>하지만 <code class=\"language-text\">declaration</code> 옵션을 켜게 되면, 생성된 자바스크립트 파일 외에도 타입 선언을 담고 있는 <code class=\"language-text\">*.d.ts</code> 파일을 함께 생성하게된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.d.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>만약 여러분이 만든 모듈이 타입스크립트를 지원하도록 하고 싶다면, 사용자가 직접 모듈의 소스코드를 가져올 수 있도록 허용하거나 자바스크립트 파일을 제공하되 타입 선언 파일인 <code class=\"language-text\">*.d.ts</code> 파일을 함께 제공해줘야 하기 때문에, 타입스크립트 대상의 라이브러리를 개발한다면 이 옵션을 사용하여 컴파일 시 타입 선언 파일까지 함께 생성하는 것을 추천한다.</p>\n<h2 id=\"declarationdir\" style=\"position:relative;\">declarationDir<a href=\"#declarationdir\" aria-label=\"declarationdir permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string</code></td>\n<td>타입 선언 파일을 내보낼 디렉토리의 경로</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">declarationDir</code> 옵션은 이름 그대로 타입 선언 파일을 내보낼 경로를 설정할 수 있는 옵션이다. 이때 <code class=\"language-text\">.</code>가 의미하는 현재 경로는 <code class=\"language-text\">tsconfig</code> 파일이 위치한 곳을 의미하기 때문에, 만약 컴파일된 파일들이 위치한 디렉토리 안 쪽에 타입 선언 파일을 내보내고 싶다면 <code class=\"language-text\">./types</code>와 같은 경로가 아닌, <code class=\"language-text\">./{outDir}/types</code>와 같이 디렉토리를 직접 지정해줘야 한다.</p>\n<p>만약 <code class=\"language-text\">declarationDir</code> 옵션을 별도로 설정해주지 않는다면 타입 선언 파일은 자신의 원본 자바스크립트 파일과 동일한 위치에 생성된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">declarationDir 옵션을 설정하지 않은 경우\n\nmyProject\n├── math.ts\n├── dist\n│   ├── math.d.ts &lt;\n│   └── math.js\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">declarationDir 옵션을 \"./dist/types\"로 설정한 경우\n\nmyProject\n├── math.ts\n├── dist\n│   ├── math.js\n│   └── types\n│       └── math.d.ts &lt;\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 하나의 디렉토리에 타입 선언 파일을 모아두게 되면 추후 <code class=\"language-text\">package.json</code>의 <code class=\"language-text\">types</code> 프로퍼티를 사용하여 편하게 해당 패키지의 타입 선언 파일들의 위치를 지정할 수 있으므로 필자는 <code class=\"language-text\">declarationDir</code> 옵션을 사용하여 타입 선언을 한 곳에 모아두는 편이다.</p>\n<h2 id=\"declarationmap\" style=\"position:relative;\">declarationMap<a href=\"#declarationmap\" aria-label=\"declarationmap permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>타입 선언과 소스 코드를 연결하는 매핑 파일을 생성한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>매핑 파일을 생성하지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">declarationMap</code> 옵션은 개발자가 IDE에서 제공하는 “Go to Definition” 같은 네비게이션 기능을 통해 원본 소스 파일로 이동할 수 있도록 도와주는 맵핑 파일을 함께 생성할 것인지에 대한 여부를 결정한다.</p>\n<p>앞서 알아보았듯이 <code class=\"language-text\">declaration</code> 옵션을 사용하여 타입 선언 파일을 생성하게 되면 다음과 같은 결과물이 컴파일된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.ts (원본 소스 파일)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// math.js (자바스크립트)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.d.ts (타입 선언)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이때 실제로 실행되는 코드를 담고 있는 자바스크립트 코드와 타입 선언을 담고 있는 타입 선언 파일의 연관 관계를 정의한 매핑 파일이 없다면, IDE에서 네비게이팅 기능을 사용했을 때 소스 코드가 아닌, <code class=\"language-text\">math.d.ts</code> 파일의 타입 선언으로 이동하게 된다.</p>\n<p>하지만 어차피 개발자 자신의 소스 코드에도 타입 선언에 대한 정보는 다 노출되고 있기 때문에, 네비게이팅을 사용하는 경우는 타입 선언 정의를 알고 싶다기 보다는 실제로 함수의 내부 구현을 보고 싶은 경우가 대부분일 것이다.</p>\n<p>이런 상황에서 <code class=\"language-text\">declarationMap</code> 옵션을 사용하면 개발자가 네비게이팅 기능을 사용했을 때 타입 선언이 아닌 소스 코드로 이동할 수 있도록 별도의 매핑 파일을 함께 생성해줄 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.d.ts (타입 선언)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=math.d.ts.map</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// math.d.ts.map</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"math.d.ts\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sourceRoot\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sources\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"../../../utils/math.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"names\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAA,eAAO,MAAM,GAAG,MAAO,MAAM,SAAS,MAAM,WAAU,CAAC\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>매핑 파일은 JSON 포맷으로 구성되어 있으며, 타입 선언이 정의된 파일과 같은 경로에 생성된다. 이 매핑 파일은 원본 소스 코드의 경로를 가지고 있기 때문에, IDE의 네비게이팅 기능을 사용했을 때 “소스코드는 여기가 아니라 이 경로에 있음”이라고 알려줄 수 있는 것이다.</p>\n<p>즉, 이 기능을 100% 활용하고 싶다면 npm 레지스트리에 모듈을 배포할 때 반드시 소스 코드가 함께 포함되어야 한다. 일반적으로 npm 레지스트리에 배포할 때 소스코드가 아닌 빌드 결과물만을 배포하는 경우가 많은데, 이렇게 되면 어차피 라이브러리 내에 소스코드가 포함되어 있지 않기 때문에 매핑 파일을 함께 넣어줘도 의미가 없어지는 것이다.</p>\n<p>단순히 npm 레지스트리에 소스코드까지 포함해서 배포한다고 해서 내가 만든 모듈을 사용한 어플리케이션의 번들 사이즈가 늘어나는 것도 아니니, 내가 만든 라이브러리를 사용하는 개발자들의 생산성과 편의성을 많이 높혀주기 위해 <code class=\"language-text\">declarationMap</code>을 켜고 소스코드까지 포함해서 npm 레지스트리에 배포하는 것을 추천한다.</p>\n<h2 id=\"downleveliteration\" style=\"position:relative;\">downlevelIteration<a href=\"#downleveliteration\" aria-label=\"downleveliteration permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>ES6에 추가된 이터레이션 기능에 대한 명확한 구현을 함께 생성한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>기본적인 트랜스파일링만을 수행한다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">downlevelIteration</code> 옵션은 타입스크립트가 ES6에서 추가된 <code class=\"language-text\">for/of</code>, <code class=\"language-text\">Spread</code>, <code class=\"language-text\">Symbol.iterator</code> 등의 기능을 보다 명확하게 트랜스파일링을 하도록 만들 수 있는 옵션이다.</p>\n<p>컴파일 타겟인 자바스크립트 버전이 ES6 이상이라면 이 옵션은 크게 의미가 없지만, 크로스 브라우징 등을 위해 ES5 이하의 버전을 컴파일 타겟으로 삼는 경우에는 자바스크립트가 실행되는 런타임 때 이터레이터들이 개발자의 의도와 다르게 동작하는 것을 방지할 수 있다.</p>\n<p>예를 들어 <code class=\"language-text\">for/of</code>를 사용한 타입스크립트 코드를 ES5로 트랜스파일링한다면, 아래와 같은 결과물을 만나볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> s <span class=\"token keyword\">of</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> _i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> str_1 <span class=\"token operator\">=</span> str<span class=\"token punctuation\">;</span> _i <span class=\"token operator\">&lt;</span> str_1<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> _i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> str_1<span class=\"token punctuation\">[</span>_i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">for/of</code>는 ES5에는 없는 기능이므로 타입스크립트는 <code class=\"language-text\">for/of</code>를 일반적인 <code class=\"language-text\">for</code>문으로 트랜스파일링 한 것이다.</p>\n<p>여기까지 보면 별로 문제가 없는 것 같지만, 사실 이렇게 트랜스파일링된 코드는 원본 코드와 정확히 일치하는 동작을 보여주지는 않는다. 바로 이런 코드 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'🙏'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> s <span class=\"token keyword\">of</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 코드에서 사용된 🙏 이모지는 필자가 개인적으로도 아주 애용하고 있는 이모지이다. 단순히 눈에 보이는 문자의 수가 한 개이기 때문에 이 이모지의 길이도 당연히 <code class=\"language-text\">1</code>이라고 생각할 수 있지만, 사실 이모지들의 길이는 <code class=\"language-text\">1</code>이 아니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'🙏'</span><span class=\"token punctuation\">.</span>length <span class=\"token comment\">// 2</span>\n<span class=\"token string\">'👩‍❤️‍💋‍👩'</span><span class=\"token punctuation\">.</span>length <span class=\"token comment\">// 11</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>즉, 이 이모지의 길이를 사용하여 일반적인 <code class=\"language-text\">for</code> 문을 작성하게 되면 제대로 된 문자를 뽑아내기가 어려울 수 있다는 것이다. 무슨 말인지 잘 이해가 안 된다면, 아래 코드를 크롬 개발자도구에 복붙해서 한번 실행시켜보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">\"🙏\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> str<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">for문 > </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>str<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> s <span class=\"token keyword\">of</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">for/of문 > </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>s<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">for문 > �\nfor문 > �\n\nfor/of문 > 🙏</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이것이 바로 <code class=\"language-text\">for/of</code> 문을 그냥 <code class=\"language-text\">for</code>문으로 트랜스파일링하면 안 되는 이유이다.</p>\n<p>이처럼 이모지의 길이가 1이 아닌 이유를 간단히만 설명하자면, 일단 이모지가 멀티바이트 문자이기 때문이기도 하고 계속 해서 새로운 이모지가 추가되기도 하고 기존 이모지들을 결합한 이모지들이 나오면서 이모지를 표현하는 방법이 괴랄해져서 그렇기도 하다. 이모지 길이에 대한 자세한 내용은 <a href=\"https://blog.jonnew.com/posts/poo-dot-length-equals-two\" target=\"_blank\" rel=\"nofollow\">이 포스팅</a>에 잘 설명되어있으니 한번 읽어보도록 하자.</p>\n<p>어찌됐던 여기서 중요한 포인트는 <code class=\"language-text\">for/of</code>와 <code class=\"language-text\">for</code>의 동작이 유사하다고 해서 묻어놓고 트랜스파일링을 했다가는 이런 참사가 발생할 수도 있다는 것이다.</p>\n<p>그래서 타입스크립트는 <code class=\"language-text\">downlevelIteration</code>이라는 옵션을 별도로 제공해서 <code class=\"language-text\">for/of</code>, <code class=\"language-text\">Spread</code>, <code class=\"language-text\">Symbol.iterator</code>와 같은 이터레이션 기능이 개발자의 의도와 다르게 동작하지 않도록 <code class=\"language-text\">Symbol.iterator</code> 같은 기능이 있는지 검사하거나, 아예 이런 기능을 구현해놓은 폴리필까지 함께 추가할 수 있도록 만들어 두었다.</p>\n<h2 id=\"emitbom\" style=\"position:relative;\">emitBOM<a href=\"#emitbom\" aria-label=\"emitbom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>타입스크립트가 출력 파일을 생성할 때 BOM을 표시한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>타입스크립트가 출력 파일을 생성할 때 BOM을 표시하지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">emitBOM</code> 옵션은 타입스크립트가 출력 파일을 생성할 때 <a href=\"https://ko.wikipedia.org/wiki/%EB%B0%94%EC%9D%B4%ED%8A%B8_%EC%88%9C%EC%84%9C_%ED%91%9C%EC%8B%9D\" target=\"_blank\" rel=\"nofollow\">BOM(Bite Order Mark)</a>를 표시할지 말지를 결정할 수 있는 옵션이다.</p>\n<p>Bite Order Mark는 특별한 유니코드를 파일의 가장 앞 부분에 추가해서 이 파일이 어떤 인코딩 방식을 사용했는지를 나타내는 방법이다.</p>\n<p>BOM은 애초에 사람이 읽을 목적이 아니라 컴퓨터에게 현재 파일의 인코딩 정보를 알리기 위해서만 사용하기 때문에, 텍스트 에디터나 vim 같은 곳에서 파일을 열어보아도 BOM을 보여주지는 않는다.</p>\n<p>그러나 일반적으로 자바스크립트가 실행되는 런타임 환경에서 굳이 BOM까지 필요한 경우가 흔치 않기도 하고, 유니코드 3.2부터는 BOM을 사용하지 않을 것을 권장하고 있기도 해서, 굳이 켤 필요가 없는 옵션이기도 하다. <small>(타입스크립트 공식 문서에서도 굳이 안 켜도 된다고 하고 있다)</small></p>\n<h2 id=\"emitdeclarationonly\" style=\"position:relative;\">emitDeclarationOnly<a href=\"#emitdeclarationonly\" aria-label=\"emitdeclarationonly permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>자바스크립트 없이 타입 선언 파일만을 출력한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>자바스크립트 파일을 포함하여 출력한다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">emitDeclarationOnly</code> 옵션은 Declaration only라는 이름 그대로, 컴파일을 진행할 때 자바스크립트 파일 없이 타입 선언 파일만을 출력할지에 대한 여부를 결정하는 옵션이다.</p>\n<p>보통 타입스크립트를 자바스크립트로 변환할 때 타입스크립트 컴파일러가 아닌 별도의 도구를 사용하는 경우나, 기존에 자바스크립트로 만들어진 모듈에 타입 선언만을 제공해야하는 경우에 사용하게 된다.</p>\n<h2 id=\"importhelpers\" style=\"position:relative;\">importHelpers<a href=\"#importhelpers\" aria-label=\"importhelpers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>출력 파일 내에서 tslib가 제공하는 헬퍼 함수들을 사용한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>tslib가 제공하는 헬퍼 함수를 사용하지 않고 직접 헬퍼를 구현하도록 한다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">importHelpers</code> 옵션은 타입스크립트를 자바스크립트 ES5 이하의 버전으로 트랜스파일링할 때 발생하는 헬퍼 함수들을 출력 파일 내에 직접 작성할 것이냐, 아니면 <code class=\"language-text\">tslib</code> 라이브러리가 제공하는 헬퍼 함수로 대체할 수 있도록 할 것이냐를 결정할 수 있는 옵션이다.</p>\n<p>한번 소스 코드와 출력 파일을 함께 보면서 이해해보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arr<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">fn</code> 함수는 인자로 받은 배열의 맨 앞에 <code class=\"language-text\">1</code>이라는 원소를 추가해서 반환하는 간단한 함수이다. 여러분도 아시다시피 <code class=\"language-text\">[...arr]</code>라는 문법으로 사용할 수 있는 Spread 기능은 ES5에 포함되어있지 않으므로, 타입스크립트는 <code class=\"language-text\">__spreadArray</code> 라는 헬퍼 함수를 출력 파일 내에 추가하여 Spread 기능을 트랜스파일링한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> __spreadArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>__spreadArray<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">to<span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">,</span> pack</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pack <span class=\"token operator\">||</span> arguments<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> l <span class=\"token operator\">=</span> from<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> ar<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> l<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ar <span class=\"token operator\">||</span> <span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> from<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ar<span class=\"token punctuation\">)</span> ar <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      ar<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> from<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> to<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>ar <span class=\"token operator\">||</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__spreadArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>여기서 중요한 것은 ES6의 Spread 기능을 구현하기 위해 <code class=\"language-text\">__spreadArray</code>라는 함수의 구현이 출력 파일 내에 함께 포함되었다는 것이다. 사실 이런 구현이 출력 파일내에 포함되는 것이 큰 문제는 아닐 수 있지만, 만약 저 <code class=\"language-text\">__spreadArray</code>를 다른 곳에서 또 사용해야하는 경우에는 그 모듈에 또 다시 <code class=\"language-text\">__spreadArray</code> 함수의 구현이 추가되기 때문에 중복된 코드가 발생하게 된다.</p>\n<p>이때 <code class=\"language-text\">importHelpers</code> 옵션을 사용하게 되면 이러한 헬퍼 함수들을 <code class=\"language-text\">tslib</code> 라이브러리에서 가져오도록 변경하여 코드의 중복을 제거할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> __spreadArray <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'tslib'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__spreadArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 되면 <code class=\"language-text\">__spreadArray</code> 함수를 <code class=\"language-text\">tslib</code>에서 불러와서 사용하게 되므로, 매번 <code class=\"language-text\">__spreadArray</code> 함수를 선언할 필요가 사라지기 때문에 코드의 중복을 제거할 수 있다. 하지만 이 옵션을 사용하여 트랜스파일링된 코드는 당연히 <code class=\"language-text\">tslib</code> 패키지를 설치되어있어야 제대로 작동하므로, 헬퍼 함수의 중복된 구현을 허용하는 것과 <code class=\"language-text\">tslib</code>를 내 어플리케이션에 설치하는 것의 득과 실을 잘 따져보고 옵션을 사용하도록 하자.</p>\n<h2 id=\"importsnotusedasvalues\" style=\"position:relative;\">importsNotUsedAsValues<a href=\"#importsnotusedasvalues\" aria-label=\"importsnotusedasvalues permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">remove</code></td>\n<td>출력 파일에서 런타임 때 필요없는 import 문을 제거한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">preserve</code></td>\n<td>출력 파일에서 타입 정보는 제거하되, import 문은 유지한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">error</code></td>\n<td>타입 정보만 가져오는 import 문을 사용했을 때 에러를 발생시킨다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">importsNotUsedAsValues</code> 옵션은 타입스크립트가 출력 파일을 생성할 때 필요없는 import 구문을 처리하는 방법을 제어할 수 있는 옵션이다. 이 옵션이 가지는 의미를 알기 위해서는 타입스크립트가 import 문을 처리하는 방법에 대해서 조금 알아야 한다.</p>\n<p>기본적으로 타입스크립트가 컴파일을 통해 자바스크립트 파일을 생성할 때, 타입과 관련된 정보는 지워버린다. 코드를 보면서 한번 이해해보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> InterfaceFoo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/bar'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> classBar<span class=\"token operator\">:</span> InterfaceFoo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/bar'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> classBar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>위 코드를 보면 <code class=\"language-text\">InterfaceFoo</code> 인터페이스를 가져오는 import 문이 자바스크립트 출력 파일 내에서는 사라진 것을 볼 수 있다. 왜냐하면 자바스크립트에는 타입스크립트의 타입이나 인터페이스 같은 기능이 없으니, 타입 정보를 남겨놔봤자 의미가 없기 때문이다.</p>\n<p>물론 앞서 이야기한대로 타입 정보는 어차피 자바스크립트에서 사용할 수 없으니, 이런 정보는 제거하는 것이 맞지만, 만약 <code class=\"language-text\">../utils/foo</code> 모듈이 의도적인 사이드이펙트를 포함하고 있을 경우에는 문제가 발생할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// utils/foo.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">InterfaceFoo</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello world!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">utils/foo.ts</code> 모듈은 인터페이스만을 노출하고 있는 모듈이지만, 내부에는 <code class=\"language-text\">console.log</code>라는 사이드 이펙트를 포함하고 있다. 이 예시에서는 단순한 콘솔 출력이지만, 실제로 Angular 같은 경우는 이런 모듈 내부에서 명시적으로 모듈을 주입하고 등록하는 사이드 이펙트가 포함되기도 한다.</p>\n<p>문제는 이런 경우에도 타입스크립트는 자바스크립트를 출력할 때 <code class=\"language-text\">utils/foo</code> 모듈을 import 했던 구문 자체를 지워버린다는 것이다. 그러면 당연히 <code class=\"language-text\">console.log</code>라는 사이드 이펙트는 자바스크립트 런타임에서 실행되지 않는다. 그래서 이런 경우 개발자들은 의도적으로 사이드 이펙트를 실행시키기 위해 타입스크립트를 속일 수 있는 import 문을 하나 더 추가해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> InterfaceFoo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'../utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/bar'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> classBar<span class=\"token operator\">:</span> InterfaceFoo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'./utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../utils/bar\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> classBar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>그래서 타입스크립트 3.8버전에는 “이 import문이 타입 정보만을 가져오는 구문이다”라는 것을 명시적으로 표현할 수 있는 <code class=\"language-text\">import type</code> 기능을 추가했고, 혹여나 일반적인 import 문을 사용하여 타입 정보만을 가져오더라도 import문을 남겨둘 수 있도록 제어할 수 있는 <code class=\"language-text\">importsNotUsedAsValues</code> 옵션을 제공하는 것이다.</p>\n<h2 id=\"inlinesourcemap\" style=\"position:relative;\">inlineSourceMap<a href=\"#inlinesourcemap\" aria-label=\"inlinesourcemap permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>소스맵 파일을 따로 생성한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>소스맵 파일의 내용을 Base64로 인코딩하여 소스 파일에 추가한다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">inlineSourceMap</code> 옵션은 타입스크립트가 컴파일 시 어떤 방식으로 소스맵을 생성할 것인지를 결정하는 옵션이다. 기본적으로 타입스크립트는 <code class=\"language-text\">*.js.map</code> 파일의 형태로 소스맵을 제공하는데, 만약 <code class=\"language-text\">inlineSourceMap</code>이 <code class=\"language-text\">true</code>일 경우에는 소스 파일 내부에 주석으로 소스맵을 추가한다.</p>\n<p>간단한 함수를 가지고 있는 모듈을 직접 컴파일해보며 어떤 차이가 있는지 직접 알아보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>만약 <code class=\"language-text\">inlineSourceMap</code> 옵션이 꺼져 있는 경우, 타입스크립트는 별도의 소스맵 파일을 생성하고, 컴파일된 JS 파일에는 해당 소스맵의 경로만을 적어두는 형태로 소스맵을 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// math.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=math.js.map</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// math.js.map</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"math.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"sourceRoot\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"sources\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"../../utils/math.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"names\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAA,MAAM,CAAC,IAAM,GAAG,GAAG,UAAC,CAAS,IAAK,OAAA,UAAC,CAAS,IAAK,OAAA,CAAC,GAAG,CAAC,EAAL,CAAK,EAApB,CAAoB,CAAC\"</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이때 컴파일된 JS 파일에는 소스맵 파일의 경로가 <code class=\"language-text\">#sourceMappingURL=math.js.map</code>의 형태로 추가되고, 소스맵 파일에는 <code class=\"language-text\">\"sources\": [\"../../utils/math.ts\"]</code>처럼 원본 타입스크립트 소스 파일의 경로가 적혀있는 것을 확인할 수 있다.</p>\n<p>만약 <code class=\"language-text\">inlineSourceMap</code> 옵션을 켜게되면 이제 타입스크립트는 소스맵 파일을 생성하지 않고, 컴파일된 JS 파일 내에 직접 소스맵 파일의 내용을 Base64로 인코딩해서 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0aC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3V0aWxzL21hdGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sR0FBRyxHQUFHLFVBQUMsQ0FBUyxJQUFLLE9BQUEsVUFBQyxDQUFTLElBQUssT0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFMLENBQUssRUFBcEIsQ0FBb0IsQ0FBQyJ9</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h2 id=\"inlinesources\" style=\"position:relative;\">inlineSources<a href=\"#inlinesources\" aria-label=\"inlinesources permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>인라인 소스맵에 소스 코드의 내용은 포함시키지 않는다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>인라인 소스맵에 소스 코드의 내용도 함께 포함시킨다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">inlineSources</code> 옵션은 <code class=\"language-text\">inlineSourceMap</code> 옵션을 사용하여 만들어낸 인라인 소스맵에 원본 소스 코드의 내용도 함께 포함시킬 것인지 여부를 결정한다.</p>\n<p>이 옵션의 값이 <code class=\"language-text\">true</code>인 경우, 인라인 소스맵에 <code class=\"language-text\">sourceContent</code>라는 필드가 추가되고 해당 필드에는 소스 코드의 내용이 함꼐 포함된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0aC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3V0aWxzL21hdGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sR0FBRyxHQUFHLFVBQUMsQ0FBUyxJQUFLLE9BQUEsVUFBQyxDQUFTLElBQUssT0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFMLENBQUssRUFBcEIsQ0FBb0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBhZGQgPSAoeDogbnVtYmVyKSA9PiAoeTogbnVtYmVyKSA9PiB4ICsgeTtcbiJdfQ==</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// Decoding된 소스맵</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"math.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sourceRoot\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sources\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"../../utils/math.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"names\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAA,MAAM,CAAC,IAAM,GAAG,GAAG,UAAC,CAAS,IAAK,OAAA,UAAC,CAAS,IAAK,OAAA,CAAC,GAAG,CAAC,EAAL,CAAK,EAApB,CAAoB,CAAC\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sourcesContent\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"export const add = (x: number) => (y: number) => x + y;\\n\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>애초에 <a href=\"https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/preview#\" target=\"_blank\" rel=\"nofollow\">소스맵의 스펙</a> 상 <code class=\"language-text\">sourceContent</code> 필드는 원본 소스 파일에 접근하지 못한 경우를 대응하기 위한 일종의 예외처리에 가까우므로, 굳이 켜지 않아도 큰 문제가 없는 옵션이기도 하다.</p>\n<h2 id=\"noemit\" style=\"position:relative;\">noEmit<a href=\"#noemit\" aria-label=\"noemit permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>컴파일 후에 출력 파일을 내보낸다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>컴파일 후에 출력 파일을 내보내지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noEmit</code> 옵션은 이름 그대로 타입스크립트가 컴파일을 한 이후에 출력 파일들을 내보낼 것인지에 대한 동작을 결정한다. 설명만 들어보면 이런 경우가 필요할까 싶기는 한데, 생각보다 유용하게 자주 쓰이는 옵션이다.</p>\n<p>대표적인 예로는 CI나 Git Hook 같은 타이밍에 정적 타입 체크만 진행해야 하는 경우 <code class=\"language-text\">tsc --noEmit</code>와 같은 명령어를 NPM 스크립트로 등록해놓거나, Webpack, Parcel, Rollup 등의 도구를 사용하여 컴파일을 진행할 때도 정적 타입 체크만을 TSC에게 시키기 위해 해당 옵션을 사용하는 경우가 많다.</p>\n<h2 id=\"noemithelpers\" style=\"position:relative;\">noEmitHelpers<a href=\"#noemithelpers\" aria-label=\"noemithelpers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>컴파일된 파일에 <code class=\"language-text\">__awaiter</code>와 같은 헬퍼 함수를 포함시킨다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>컴파일된 파일에는 <code class=\"language-text\">__awaiter</code>와 같은 헬퍼 함수를 포함시키지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noEmitHelpers</code> 옵션은 컴파일이 완료된 출력 파일에 <code class=\"language-text\">__awaiter</code>나 <code class=\"language-text\">__generator</code>와 같은 헬퍼 함수들을 포함시킬지 여부를 결정한다.</p>\n<p><code class=\"language-text\">noEmitHelpers</code> 옵션의 동작이 <a href=\"#importhelpers\">importHelpers</a>와 유사하기 때문에 조금 헷갈릴 수 있다. <code class=\"language-text\">importHelpers</code> 옵션은 헬퍼 함수들의 구현을 “소스에 포함할지”, “다른 곳에서 import할지”를 결정한다면, <code class=\"language-text\">noEmitHelpers</code> 옵션은 헬퍼 함수들의 구현을 “소스에 포함할지”, “아예 하지 않을 것인지”를 결정하기 때문이다.</p>\n<p>이 차이점을 직접 컴파일된 코드를 보면서 알아보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// importHelpers, noEmitHelpers가 모두 꺼져있는 경우에는 출력 파일에 헬퍼의 구현도 포함된다</span>\n\n<span class=\"token keyword\">var</span> __awaiter <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>__awaiter<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">thisArg<span class=\"token punctuation\">,</span> _arguments<span class=\"token punctuation\">,</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">,</span> generator</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> __generator <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>__generator<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">thisArg<span class=\"token punctuation\">,</span> body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__awaiter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">__generator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token comment\">/*return*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// importHelper가 켜져있는 경우에는 외부에서 헬퍼를 가져온다</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> __awaiter<span class=\"token punctuation\">,</span> __generator <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"tslib\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__awaiter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">__generator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token comment\">/*return*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// noEmitHelpers가 켜져있는 경우에는 아예 헬퍼를 가져오거나 선언하는 코드 조차 없다</span>\n\n<span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__awaiter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">__generator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token comment\">/*return*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 <code class=\"language-text\">importHelpers</code>와 <code class=\"language-text\">noEmitHelpers</code> 옵션이 모두 켜져있다면 헬퍼 함수를 “외부에서 가져올 것이냐”, “출력 파일에 포함시키지 않을 것이냐”라는 설정이 충돌하게 되는데, 이 경우에는 <code class=\"language-text\">importHelpers</code>의 동작을 우선적으로 따르게 되니 이 점을 주의하도록 하자.</p>\n<h2 id=\"noemitonerror\" style=\"position:relative;\">noEmitOnError<a href=\"#noemitonerror\" aria-label=\"noemitonerror permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>컴파일 중 에러가 발생하더라도 출력 파일을 내보낸다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>컴파일 중 에러가 발생한 경우 출력 파일을 내보내지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noEmitOnError</code> 옵션은 이름 그대로 컴파일 중 여러가지 요인으로 인해 에러가 발생하게 되는 경우 출력 파일을 내보낼 것인지에 대한 여부를 결정한다. 만약 이 옵션이 켜져있는 경우, 컴파일 중 에러가 발생하면 출력 파일이 내보내지지 않는다.</p>\n<p>이렇게만 보면 “당연히 에러가 나면 출력 파일을 안 만드는 게 맞지 않나?”라고 생각할 수 있지만, TSC의 Watch 옵션을 사용하고 있는 개발환경 같은 경우는 컴파일 중 에러가 발생해도 출력 파일을 생성하고 그로 인해 발생하는 사이드 이펙트 또한 함께 관찰하는 것이 더 편할 수도 있기 때문에, 개발환경에서는 해당 옵션을 끄고 운영환경 배포를 위한 빌드 타임 때는 켜놓는 것을 추천한다.</p>\n<h2 id=\"preserveconstenums\" style=\"position:relative;\">preserveConstEnums<a href=\"#preserveconstenums\" aria-label=\"preserveconstenums permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td><code class=\"language-text\">const enum</code> 키워드를 사용한 Enum 선언을 컴파일 타임 때 제거한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">const enum</code> 키워드를 사용한 Enum 선언을 컴파일 타임 때 제거하지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">preserveConstEnums</code> 옵션은 컴파일 타임 때 <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#const-enums\" target=\"_blank\" rel=\"nofollow\">const enum</a> 키워드를 사용한 Enum 선언을 제거할 것인지에 대한 옵션이다. 타입스크립트는 런타임 때의 메모리 비용을 절약하기 위해 <code class=\"language-text\">const enum</code> 키워드로 선언한 Enum의 값을 참조하는 부분을 해당 Enum의 값으로 치환한다.</p>\n<p><code class=\"language-text\">enum</code> 키워드만을 사용하여 선언한 Enum과 다르게 <code class=\"language-text\">const enum</code> 키워드를 사용한 Enum은 반드시 상수 값만 가지는 것이 보장되기 때문에 참조 투명성 또한 보장되고, 결국 컴파일 타임 때 값을 그냥 치환해버려도 아무 문제가 없는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token keyword\">enum</span> Foo <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">A</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">B</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> Foo<span class=\"token punctuation\">.</span><span class=\"token constant\">A</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> Foo<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">Foo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Foo<span class=\"token punctuation\">[</span>Foo<span class=\"token punctuation\">[</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"A\"</span><span class=\"token punctuation\">;</span>\n    Foo<span class=\"token punctuation\">[</span>Foo<span class=\"token punctuation\">[</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span><span class=\"token punctuation\">;</span>\n    Foo<span class=\"token punctuation\">[</span>Foo<span class=\"token punctuation\">[</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"C\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Foo <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>Foo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token comment\">/* A */</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;= Foo.A가 아닌, 값으로 치환되었다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 컴파일된 코드를 자세히 보면, Enum을 표현하기 위해 <code class=\"language-text\">Foo</code>라는 변수를 선언하고 IIFE를 사용하여 해당 변수에 값을 할당하고 있지만, 정작 이 변수에 접근하는 부분은 없는 것을 알 수 있다. 즉, 이 JS 코드가 실행되는 런타임 환경에서는 <code class=\"language-text\">Foo</code>라는 변수가 없어도 아무 문제가 없다는 것이다.</p>\n<p>이때 <code class=\"language-text\">preserveConstEnums</code> 옵션의 값을 <code class=\"language-text\">false</code>로 설정하면 이렇게 런타임에서는 아무 의미없는 Enum 선언을 제거할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token comment\">/* A */</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h1 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>이렇게 <code class=\"language-text\">tsconfig</code> 4번째 시리즈인 <code class=\"language-text\">Emit</code> 편을 마무리했다. Emit과 관련된 역할을 하는 옵션들은 주로 TSC와 다른 도구를 결합하여 사용하거나, 번들 사이즈를 최적화해야하는 경우에 주로 건드리게 되는데, 필자 또한 꽤나 오랜만에 이 옵션들을 공부하게 되었던 지라 예전에 써본 옵션들이 있음에도 불구하고 기억이 가물가물 했던 것 같다.</p>\n<p>이상으로 [tsconfig의 모든 것] Compiler options / Emit 포스팅을 마친다.</p>","fields":{"slug":"20211030-tsconfig-compiler-options-modules-emit","path":"/2021/10/30/tsconfig-compiler-options-modules-emit/","lang":"ko"},"frontmatter":{"title":"[tsconfig의 모든 것] Compiler options / Emit","subTitle":"빌드 결과물의 형태를 제어하는 옵션들, 출력 전략을 설계하는 법","date":"Oct 30, 2021","categories":["프로그래밍","튜토리얼","자바스크립트"],"tags":["TypeScript","타입스크립트","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/d96f04d4b1d49fa98ee91007f9ad0674/d803c/thumbnail.png","srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/d803c/thumbnail.png 320w,\n/static/d96f04d4b1d49fa98ee91007f9ad0674/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/fc5c5/thumbnail.webp 320w,\n/static/d96f04d4b1d49fa98ee91007f9ad0674/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/d96f04d4b1d49fa98ee91007f9ad0674/01fb2/thumbnail.png","srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"9e9d2020-917d-5b7d-a39b-600096acd250","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%B0%A9%ED%96%A5%EC%84%B1%EC%9D%B4-%EB%AA%A8%ED%98%B8%ED%95%9C-%EB%85%B8%EB%A0%A5\">방향성이 모호한 노력</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%85%B8%EB%A0%A5%EC%97%90-%EB%93%A4%EC%96%B4%EA%B0%80%EB%8A%94-%EB%B9%84%EC%9A%A9-%EC%83%9D%EA%B0%81%ED%95%98%EA%B8%B0\">노력에 들어가는 비용 생각하기</a></p>\n<ul>\n<li><a href=\"#%EC%8B%9C%EC%9E%A5%EC%97%90%EC%84%9C%EC%9D%98-%EC%8B%9C%EA%B0%81\">시장에서의 시각</a></li>\n<li><a href=\"#%EA%B0%9C%EC%9D%B8%EC%9D%98-%EC%A7%80%EC%86%8D%EC%A0%81%EC%9D%B8-%EC%84%B1%EC%9E%A5%EC%97%90%EC%84%9C%EC%9D%98-%EC%8B%9C%EA%B0%81\">개인의 지속적인 성장에서의 시각</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%9F%AC%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EC%95%BC%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B1%B4%EA%B0%80%EC%9A%94\">그러면 어떻게 해야한다는 건가요?</a></p>\n<ul>\n<li><a href=\"#%ED%96%89%EC%9C%84-%EC%9E%90%EC%B2%B4%EC%97%90%EB%A7%8C-%EC%A7%91%EC%B0%A9%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%84-%EA%B2%BD%EA%B3%84%ED%95%98%EC%9E%90\">행위 자체에만 집착하는 것을 경계하자</a></li>\n<li><a href=\"#%EC%84%B1%EC%8B%A4%ED%95%A8%EC%9D%80-%EC%A2%8B%EC%9D%80-%EB%AC%B4%EA%B8%B0%EA%B0%80-%EC%95%84%EB%8B%88%EB%8B%A4\">성실함은 좋은 무기가 아니다</a></li>\n<li><a href=\"#%EB%82%B4%EC%9E%AC%EC%A0%81%EC%9D%B8-%EB%AA%A8%ED%8B%B0%EB%B2%A0%EC%9D%B4%EC%85%98%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%9E%90\">내재적인 모티베이션을 만들자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"최근 개인적으로 이런 저런 멘토링을 하며 이력서 리뷰, 모의 면접을 진행하는 등 개발자로써 일을 시작한 지 오래 되지 않으신 분들의 고민을 듣고 궁금한 점들을 물어보며 함께 성장의 방향성에 대해서 논의하는 경험이 점점 잦아지고 있다. 이런 경험이 반복되다보니 이 분들이 어려움을 겪고 있는 상황에 대해서 어느 정도 패턴이 보이기 시작했는데, 오늘은 이 패턴에 대한 이야기를 조금 해보려고 한다.","html":"<p>최근 개인적으로 이런 저런 멘토링을 하며 이력서 리뷰, 모의 면접을 진행하는 등 개발자로써 일을 시작한 지 오래 되지 않으신 분들의 고민을 듣고 궁금한 점들을 물어보며 함께 성장의 방향성에 대해서 논의하는 경험이 점점 잦아지고 있다.</p>\n<p>이런 경험이 반복되다보니 이 분들이 어려움을 겪고 있는 상황에 대해서 어느 정도 패턴이 보이기 시작했는데, 오늘은 이 패턴에 대한 이야기를 조금 해보려고 한다.</p>\n<!-- more -->\n<p>또한 이 패턴은 비단 멘토링 뿐 아니라 면접에서도 자주 보이는 패턴이기 때문에, 어떻게 보면 면접에 대한 팁이 될 수도 있을 거라고 생각한다. 물론 연차가 어느 정도 되시는 분들은 짬에서 나오는 바이브가 있는 만큼 알잘딱하고 계실 것이라고 생각하기 때문에, 이 글은 상대적으로 일을 해온 경험이 적은 신입 ~ 2년차 정도의 분들에게 더 도움이 될만한 글이라는 점을 말씀드리고 싶다.</p>\n<p>그러므로 이후의 글에서도 계속 신입 ~ 2년차 분들의 감정과 상황에 맞춰서 이야기를 풀어나갈 예정인데, 매번 신입 ~ 2년차라고 이야기하기에는 손가락도 아프고 번거로우니 이 세그먼트를 “주니어”라고 부르도록 하겠다.</p>\n<h2 id=\"방향성이-모호한-노력\" style=\"position:relative;\">방향성이 모호한 노력<a href=\"#%EB%B0%A9%ED%96%A5%EC%84%B1%EC%9D%B4-%EB%AA%A8%ED%98%B8%ED%95%9C-%EB%85%B8%EB%A0%A5\" aria-label=\"방향성이 모호한 노력 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자가 멘토링을 하면서 주니어 개발자 분들에게서 가장 많이 듣는 고민 중 하나는 바로 “성장의 방향성을 못 잡겠다”라는 것이다.</p>\n<p>지금까지의 필자의 경험상, <a href=\"https://lubycon.io\" target=\"_blank\" rel=\"nofollow\">루비콘 멘토링 프로젝트</a>에 참여하고 계신 분들이나 다른 플랫폼을 통해 필자에게 멘토링을 신청하시는 분들은 스스로 성장에 대한 모티베이션을 부여하고 열심히 노력하고 계신 분들이 많았다.</p>\n<p>하지만 이 노력의 방향성이 명확하지 않다보니 “이 길이 맞나…?”와 같은 의문이 들게 되고, 열심히 노력을 하면서도 불안한 마음이 드는 것이다.</p>\n<p>그렇기 때문에 이 불안감을 지우고 안정성을 찾기 위해 어느 정도 안정성이 보장된 방향, 즉 많은 사람들이 하고 있는 방향으로 노력이라는 리소스를 사용하게 되기가 굉장히 쉽다. 그런 방향 중 대표적인 예는 1일 1커밋, TIL 작성, 클론 코딩 등이 있는데, 실제로 멘토링을 하거나 면접을 보다보면 요즘 정말 많은 주니어 개발자 분들이 이런 활동들을 하고 있는 것을 볼 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/39cecaa3a513c543dbe8543953b2ff61/07d7d/contributions.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42h2O21KCUABF+f8/qabppcnKptKki6WN2qQoGmDckcMBQVBzxfi2935YaytZkTP2ZvxmLvPYRAvmiEIS5YJxNEcLF0RZjJk6zGIDp/DRpYWd+7hlgC5MvoWOnhhsdiVKICJUp88g0rizn3nwXuiEfYZ1V4Mej8s3hr7GuBZdW21uww5PfpfRasqZ3eDUaNDyuvSTL6JKoCRlipb+sJBLLs17mo5aw6Z4acir+OTcuKHtvfPhjWhaKld2qwb2mEmTC7PJyeSSkdSOgnJfoVT7Lb6MCOQKJ/ZZCpckTY/35X5NUmakuzWiSlnvcuS23upc/G0QG4mbBQxWExa+xeFw4B9gECNpMFTS+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"contributions\" title=\"\" src=\"/static/39cecaa3a513c543dbe8543953b2ff61/6af66/contributions.png\" srcset=\"/static/39cecaa3a513c543dbe8543953b2ff61/69538/contributions.png 160w,\n/static/39cecaa3a513c543dbe8543953b2ff61/72799/contributions.png 320w,\n/static/39cecaa3a513c543dbe8543953b2ff61/6af66/contributions.png 640w,\n/static/39cecaa3a513c543dbe8543953b2ff61/d9199/contributions.png 960w,\n/static/39cecaa3a513c543dbe8543953b2ff61/21b4d/contributions.png 1280w,\n/static/39cecaa3a513c543dbe8543953b2ff61/07d7d/contributions.png 1478w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>깃허브 계정의 잔디는 이 사람이 평소에 얼마나 개발과 관련된 활동을 많이 하는지를 나타내는 데이터이기도 하다</small>\n</center>\n<p>물론 이렇게 자신의 성장을 위해 뭐라도 하는 것은 아주 좋은 자세이다. 하지만 이렇게 덮어놓고 남들이 많이 하기 때문에, 혹은 부트캠프나 학원에서 취업하려면 해야한다고 해서 일단 해보는 식으로 덤비는 것은 좋지 않을 수도 있다.</p>\n<p>처음 개발을 시작하는 분이라면 단순히 커밋을 매일 한다거나 블로그에 오늘 배운 것을 적는다는 행위만으로도 어느 정도 성장을 만들어 낼 수 있을지 모른다. 왜냐하면 이 시기는 코딩 자체에 빠르게 익숙해지는 것이 그대로 성장과 이어지는 시기이기 때문이다.</p>\n<p>하지만 여러분도 아시다시피 이 시기는 꽤나 빠르게 지나간다. 그리고 점점 코딩에 익숙해지면 익숙해질수록 새로 접하는 것보다는 익숙해지는 것이 많아질 것이고, 그때부터는 단순히 코딩을 하는 것만으로는 실력이 늘거나 새로운 지식을 접하는 것이 점점 더 어려워 질 것이다.</p>\n<p>결국 어느 순간부터는 이제 더 이상 단순하게 매일 커밋을 하는 것이나 TIL을 적는 것만으로는 예전처럼 성장의 속도가 빨리지지 않는다는 것이 느껴지기 시작한다. 그러면 이제 이런 고민을 하게 되는 것이다.</p>\n<blockquote>\n<p>여기서 더 나아가려면 이제 뭘 공부해야하지? 이제 어떤 노력을 해야하지?</p>\n</blockquote>\n<p>이것이 바로 방향성이 모호한 노력을 쏟고 있는 상황이다. 결국 이 노력의 양과 방향성, 이 두 가지 모두를 잡을 수 있어야 여러분이 똑같은 노력을 쏟아붓더라도 최소의 비용으로 최대의 이윤을 얻을 수 있게 된다.</p>\n<h2 id=\"노력에-들어가는-비용-생각하기\" style=\"position:relative;\">노력에 들어가는 비용 생각하기<a href=\"#%EB%85%B8%EB%A0%A5%EC%97%90-%EB%93%A4%EC%96%B4%EA%B0%80%EB%8A%94-%EB%B9%84%EC%9A%A9-%EC%83%9D%EA%B0%81%ED%95%98%EA%B8%B0\" aria-label=\"노력에 들어가는 비용 생각하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사람들은 자신이 어떤 것을 이루기 위해 들인 노력을 일종의 비용이라고 생각하고, 실제로 비용이 맞기도 하다. 내 시간과 에너지를 투자해서 새로운 가치를 창출해내는 것이니 말이다. 그렇기 때문에 본능적으로 가장 효율적인 노력, 즉, 내가 최소의 노력을 들여서 최대의 이윤을 얻을 수 있는 방향을 찾고자 한다.</p>\n<p>안타깝지만 세상에 그렇게 정답이 정해진 지름길은 없다. 다만, 스스로 올바른 노력의 방향이 어디일지를 끊임없이 고민하며 내 노력의 효율을 조금씩 높혀볼 수는 있다. 왜냐하면 노력의 효율이 극대화되는 방법은 사람마다 다르고, 그 방법이 무엇인지는 본인이 스스로 고민해봐야 알 수 있기 때문이다.</p>\n<p>하지만 문제는 많은 분들이 이런 고민을 진지하게 해볼 수 있는 여유를 가지지 못 한다는 것이다. 지금까지 1일 1커밋이나 TIL을 통해 빠른 성장을 경험했던 사람은 그 경험 때문에, 혹은 관성 때문에 “내가 노력이 부족해서 성장을 못 하는 거야”라고 생각하기 쉽기 때문이다.</p>\n<p>하지만 앞서 이야기 했듯이 잘못된 방향성으로 인해 노력의 효율은 떨어질 수 있으며, 노력의 효율이 떨어진다는 것을 다른 말로 하면 내 노력으로 만들어낸 무언가의 가치가 떨어진다고 볼 수도 있다.</p>\n<p>내 노력으로 만들어낸 무언가의 가치가 떨어진다는 것이 어떤 의미인지 잘 이해가 가지 않는 분들을 위해, 크게 두 가지의 시각에서 이 부분을 이야기하려고 한다. 첫 번째는 시장에서의 시각, 그리고 두 번째는 개인의 지속적인 성장에 대한 시각이다.</p>\n<h3 id=\"시장에서의-시각\" style=\"position:relative;\">시장에서의 시각<a href=\"#%EC%8B%9C%EC%9E%A5%EC%97%90%EC%84%9C%EC%9D%98-%EC%8B%9C%EA%B0%81\" aria-label=\"시장에서의 시각 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>첫 번째. 내가 노력함으로써 얻고자 하는 이익이 가장 빛을 드러내는 대표적인 예는 바로 채용 시장이다. 그리고 채용 시장은 말 그대로 시장이기 때문에 일반적으로 우리가 알고 있는 시장의 요소들이 대부분 적용된다.</p>\n<p>그 중 필자가 이야기하고 싶은 요소는 바로 “인플레이션”이다. 인플레이션의 기본적인 정의는 시장 내에서 어떤 재화가 평범한 것이 되어버리면서 가치가 떨어지는 것이다. 이때 보통은 돈의 가치가 떨어지는 상황을 많이 이야기하지만, 채용 시장에서는 능력이나 경력의 가치라고 보면 될 것이다.</p>\n<p>이러한 인플레이션의 가장 대표적인 예는 바로 학력이다. 예를 들어 1970년대에 대학을 나온 사람은 어느 정도 인정도 받고 취업에도 꽤나 유리한 위치를 점할 수 있었지만, 2020년대에는 대학 진학률 자체가 79%에 육박하게 되면서 대학을 졸업하고 학사 학위를 가지고 있다는 것 자체가 큰 메리트가 되지 않는다는 상황을 생각해보면 된다.</p>\n<p>즉, 우리가 초딩 때부터 고3 수능 때까지 장장 12년의 노력을 들여서 따낸 이 학사 학위는 이제 채용 시장에 나와있는 대부분의 사람들이 가치고 있는 것이 되어버렸기 때문에, 예전에 비해 학사 학위라는 것이 굉장히 평범한 재화가 되어버렸다는 것이다. 누구나 가지고 있는 평범한 재화가 되었다는 것은 결국 가치가 떨어졌다는 말과 똑같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAVMlaZvHOGX/xAAZEAADAQEBAAAAAAAAAAAAAAAAAQITETH/2gAIAQEAAQUCUigXmlGtc0s//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAEDAQE/Aco//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAECAQE/AdK//8QAGBAAAgMAAAAAAAAAAAAAAAAAABABMnH/2gAIAQEABj8Ceq0n/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAUUHx/9oACAEBAAE/IVzhKz3u7ZRq5cRjZvob/9oADAMBAAIAAwAAABDTH//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQMBAT8QEan/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFB/9oACAECAQE/EDeL/8QAHBABAQADAAMBAAAAAAAAAAAAAREAIUFRYXHw/9oACAEBAAE/EB7Wh4MPhuTX4HAgJvocRvUKzX7uFKtsFkmiZYKuuvP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"graduate\" title=\"\" src=\"/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg\" srcset=\"/static/16a130e56cdf12fffd6fd91b275a887d/0913d/graduate.jpg 160w,\n/static/16a130e56cdf12fffd6fd91b275a887d/cb69c/graduate.jpg 320w,\n/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    2021년 현재는 과거에 비해 대학 졸업자의 비율이 늘어나며,<br>\n    대학을 졸업했다는 사실이 내가 특별한 인재라는 것을 나타내는 시대가 아니게 되었다.\n  </small>\n</center>\n<p>이처럼 남들이 다 가지고 있는 재화는 가치가 떨어진다는 것이 기본적인 시장의 원리이다. 그리고 이 원리는 취업에도 마찬가지로 적용된다. 여러분도 아시다시피 채용 시장이라는 것은 결국 수요와 공급으로 이루어진, 다른 사람과 경쟁해서 살아야 하는 정글이나 마찬가지이기 때문이다.</p>\n<p>즉, 이 정글에서 살아남기 위해서는 내가 남들보다 더 일을 잘한다, 내가 남들보다 더 성장 가능성이 높다는 것을 어필하며 “나한테 투자하면 절대 손해보지 않을걸?”이라는 메세지를 우리들의 소비자인 기업들에게 던져야 한다는 것이고, 그렇기 때문에 사람들이 어떻게 해서든 좋은 대학을 졸업하고 자격증도 따고 어학 연수도 다녀오고 하는 것이다.</p>\n<p>결국 남들과 차별화된 사람, 가지고 싶은 상품이 되어야 취업 시장에서 유리하다는 것이며, 이는 개발자라고 해서 크게 다르지 않다. 다만 그 차별점이 학력이나 자격증이 아니라 프로그래밍 실력과 같은 기준에 초점이 맞춰져 있을 뿐이다.</p>\n<p>하지만 문제는 많은 사람들이 이 가치가 채용 시장에서 나에게 어떤 무기가 될 지, 혹은 아예 무기가 될 수 없는지는 깊게 생각하지 않고, 그저 다른 사람들이 이미 가지고 있기 때문에 나도 갖춰야 한다고 생각한다는 것이다. 마치 부모님이 우리에게 대한민국에서 먹고 살려면 무조건 대학은 나와야한다고 말씀하셨던 것처럼 말이다.</p>\n<p>물론 없는 것보다는 있는 게 나을 수도 있다. 하지만 여러분이 들인 12년 동안 노력에 비해 학사 학위라는 것이 그 만큼의 가치를 보장하지는 않을 것이다. 특히 학력보다 실력을 더 중요하게 생각하는 이 IT 업계에서는 더 그렇다고 생각한다.</p>\n<p>마찬가지로 1일 1커밋, TIL, 클론 코딩과 같은 활동들은 이미 많은 사람들에게 알려져버린 활동들이며, 심지어 부트캠프 같은 곳에서는 이런 활동들을 해야 취업에 도움이 된다는 가이드까지 주고 있다. 확실히 이력서를 보다보면 예전에 비해 확실히 이런 활동을 하시는 분들이 많다는 것이 체감되기도 한다.</p>\n<p>즉, 이런 활동들은 이제 너무나도 많은 사람들이 하고 있는 재화가 되었기 때문에, 이제 단순히 이런 활동을 했다는 것만으로는 면접관에게 어떠한 감명을 주기 어려워졌다는 것이다. 마치 학사 학위처럼 말이다.</p>\n<h3 id=\"개인의-지속적인-성장에서의-시각\" style=\"position:relative;\">개인의 지속적인 성장에서의 시각<a href=\"#%EA%B0%9C%EC%9D%B8%EC%9D%98-%EC%A7%80%EC%86%8D%EC%A0%81%EC%9D%B8-%EC%84%B1%EC%9E%A5%EC%97%90%EC%84%9C%EC%9D%98-%EC%8B%9C%EA%B0%81\" aria-label=\"개인의 지속적인 성장에서의 시각 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>두 번째. 앞서 이야기한 것과 같이 특별한 목표 없이 수행하는 1일 1커밋, TIL 작성, 클론 코딩 등의 활동이 만들어 주는 성장은 개발을 처음 접한 아주 극초반 뿐이다. 단순히 코딩을 자주 접하는 것만으로 이뤄내는 성장에는 한계가 있다는 것이다.</p>\n<p>게다가 이런 활동들은 꾸준함을 강조하기 때문에 자칫하면 그저 습관처럼 하게 되기가 쉽다. 즉, 내가 이것들을 실천함으로써 배울 수 있는 점은 무엇인지, 내가 왜 이런 것들을 해야 하는 지에 대한 깊은 고민 없이 말 그대로 그저 “하게만 되기 쉽다는 것”이다.</p>\n<p>이것들을 그저 습관처럼 하게 되는 이유들은 지금까지 꾸준히 해왔다는 관성이나 뭐라도 하지 않으면 뒤쳐질 것이라는 불안감 등 다양한 이유가 있겠지만, 뭐가 되었든 이런 방향성이 모호한 노력을 계속 하는 것으로는 절대 지속적인 성장을 만들어낼 수 없다.</p>\n<p>게다가 만약 이런 활동들의 본래 목적을 잊고 단지 기계처럼 반복하고 있는 상태라면, 하루 할당량을 채우기 위해 의미없는 커밋을 하거나 심지어는 커밋 타임을 변경하는 등 목적보다는 결과 자체에만 몰두하게 되어버릴 위험도 있다. 실제로 이런 상황은 실제로 많은 분들의 1일 1커밋 회고에 등장하는 단골 소재이기도 하다.</p>\n<p>결국 아무리 성장을 원하는 열정과 액션 아이템을 실천할 수 있는 에너지가 모두 있더라도, 명확한 방향성을 스스로 정의하지 못 한다면 오히려 여러분의 에너지가 엉뚱한 곳으로 투자될 가능성이 있다는 것이다.</p>\n<h2 id=\"그러면-어떻게-해야한다는-건가요\" style=\"position:relative;\">그러면 어떻게 해야한다는 건가요?<a href=\"#%EA%B7%B8%EB%9F%AC%EB%A9%B4-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EC%95%BC%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B1%B4%EA%B0%80%EC%9A%94\" aria-label=\"그러면 어떻게 해야한다는 건가요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 그렇다면 뭘 어떻게 해야한다는 걸까? 물론 필자가 이 포스팅에서 모든 상황에 딱딱 들어맞는 정답과 명확한 액션 아이템을 제시하는 것은 불가능하다.</p>\n<p>하지만 적어도 여러분이 한번 각 잡고 지난 행동들을 뒤돌아 보며 고민해볼 수 있는 것들에 대한 이야기를 해볼 수는 있을 것 같다.</p>\n<h3 id=\"행위-자체에만-집착하는-것을-경계하자\" style=\"position:relative;\">행위 자체에만 집착하는 것을 경계하자<a href=\"#%ED%96%89%EC%9C%84-%EC%9E%90%EC%B2%B4%EC%97%90%EB%A7%8C-%EC%A7%91%EC%B0%A9%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%84-%EA%B2%BD%EA%B3%84%ED%95%98%EC%9E%90\" aria-label=\"행위 자체에만 집착하는 것을 경계하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>행위 자체에 집착한다는 것은 어떤 상황일까? 많은 분들이 노력을 하고 있는 대표적인 활동인 1일 1커밋을 예로 들어보도록 하겠다.</p>\n<p>사실 1일 1커밋이라는 행위가 가지는 의미는 단순히 하루에 한번 이상 커밋을 한다는 것 그 이상 그 이하도 아니다. 그렇기 때문에 이 행위 자체에 집중하게 되면 누군가 여러분에게 “1일 1커밋은 왜 해야하는 거에요?”라는 질문을 던졌을 때 “꾸준히 뭐라도 하는 게 중요하니까요”와 같은 답변을 할 수 밖에 없는 것이다.</p>\n<p>하지만 앞서 이야기 했듯이 개발을 처음 접한 극초반 단계를 넘어서게 되면 이런 꾸준함만으로 지속적인 성장을 만들어내는 것에는 무리가 있다. 만약 여러분이 이 단계에 들어섰다면 이제 스스로에게 이런 질문을 던져봐야 할 차례이다.</p>\n<blockquote>\n<p>1일 1커밋이 본질적으로 만들어내는 가치는 무엇일까?</p>\n</blockquote>\n<p>이 질문에 대한 답변은 사람마다 다르겠지만, 필자는 1일 1커밋이 가지는 본질적인 가치가 바로 “매일 나만의 개발을 놓지않고 꾸준히 하는 것”에 가깝다고 생각한다.</p>\n<p>즉, 1일 1커밋이라는 단어에서 “커밋”이라는 것이 가지는 의미는 아무 커밋이 아니라, 나만의 토이 프로젝트를 개발하거나 오픈소스에 기여를 하거나 하는 커밋이라는 것이다.</p>\n<p>여러분도 아시다시피 커밋이라는 것은 결국 무언가를 만들기 위한 과정이다. 하지만 이 커밋이라는 행위 자체에만 집착하게 되면 무언가를 만들어야 한다는 목표는 저 멀리 사라지고 그저 “커밋”만 남게 되는 것이다.</p>\n<p>이렇게 행위 자체에만 집중하게 되면 이 활동이 가져다주는 좋은 이점들을 제대로 취하지 못 하고 에너지를 낭비하게 될 수 있다.</p>\n<h3 id=\"성실함은-좋은-무기가-아니다\" style=\"position:relative;\">성실함은 좋은 무기가 아니다<a href=\"#%EC%84%B1%EC%8B%A4%ED%95%A8%EC%9D%80-%EC%A2%8B%EC%9D%80-%EB%AC%B4%EA%B8%B0%EA%B0%80-%EC%95%84%EB%8B%88%EB%8B%A4\" aria-label=\"성실함은 좋은 무기가 아니다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>몇 년전에 모 부트캠프를 수료하신 분과 사적인 자리에서 이런저런 이야기를 나눴던 적이 있다. 이때 필자는 한 가지 특이한 이야기를 들었는데, 그 분이 수료했던 부트캠프에서는 취업하려면 블로그에 TIL(Today I Learned)라는 글을 작성해야 한다고 가이드했다는 것이다.</p>\n<p>물론 부트캠프는 자원봉사단체가 아니라 기업이기 때문에 최소한의 리소스로 최대한의 이익을 얻어야 한다. 모든 사람에게 맞춤형 교육을 제공한다는 것은 현실적으로 비용이 너무 많이 드는 일이고, 그렇기 때문에 이런 식의 특정한 커리큘럼이나 가이드를 만들고 그것들에 사람들을 밀어넣는 형태로 운영하게 될 수 밖에 없는 것이다. <small>(사실 대부분의 교육업이 이런 식이기는 하다)</small></p>\n<p>그래서 필자는 그 분에게 이런 질문을 던졌었다.</p>\n<blockquote>\n<p>“블로그에 TIL을 작성하는 게 왜 취업에 도움이 되는 거에요?”</p>\n</blockquote>\n<p>왜냐하면 필자는 채용이라는 것에 기업의 규모와 현재 사업 상황, 채용 시장의 인재풀 상태, 기존 조직원들의 여유 리소스 등 굉장히 많은 변수가 작용한다고 생각하기 때문에, 어떤 특정한 행동을 하는 것이 무조건 취업에 도움이 된다고 하는 입장에는 딱히 공감이 되지 않았기 때문이다.</p>\n<p>당시 그 분은 “성실함을 보여줄 수 있는 데이터가 아닐까요?”라는 답변을 하셨었다.</p>\n<p>솔직히 매일 뭔가를 한 개 이상 새로운 것을 배우고 블로그에 적는다는 것은 보통 어려운 일이 아니다. 사람이 어떻게 매일매일 새로운 것을 배울 수 있단 말인가.</p>\n<p>물론 코딩을 시작한 지 얼마 안 된 개발자라면 매일매일 새로운 지식을 접할 수도 있다. 하지만 여러분이 코딩이라는 행위에 익숙해지면 익숙해질수록 이런 것들은 점점 사라질 것이다. 여러분이 능동적으로 새로운 지식을 찾아나선다면 이런 패턴을 계속 해서 만들어 낼 수도 있겠지만, 상당히 많은 노력이 필요한 부분이다.</p>\n<p>하지만 이런 노력의 결과가 단지 “성실함”을 보여주기 위해서라면, 글쎄…개인적으로 필자는 수지타산이 전혀 맞지 않는 장사라고 생각한다.</p>\n<blockquote>\n<p>왜냐하면 기업은 <strong>성실함만으로 사람을 채용하지 않기 때문이다.</strong></p>\n</blockquote>\n<p>기업은 애초에 금전적인 이윤을 만들어 내기 위한 집단이다. 그러니 당연히 사람을 채용할 때도 투자한 금액보다 더 돈을 많이 벌어다 줄 수 있는 사람을 원하는 것이다. 성실함은 그런 사람을 판단할 수 있는 기준 중 하나가 될 수는 있겠지만, 중요한 팩터는 아니다. 남들 보다 조금 게으르더라도 일 잘 하고 팀을 성장시킬 수 있으며 돈을 만들어 낼 수 있는 사람이라면 상관없다는 것이다.</p>\n<p>게다가 앞서 이야기했듯이 TIL은 이미 여러 부트캠프들이 가이드하고 있는 활동이고 실제로도 많은 주니어 개발자 분들이 하고 있는 활동이기 때문에 이미 인플레이션이 왔고, 이 활동을 꾸준히 했다는 것만으로는 이제 채용 시장에서 그렇게 매력적으로 보이지 않는다.</p>\n<p>즉, 여러분이 TIL을 여러분의 무기로 삼고 싶다면 단순히 꾸준함과 성실함 뿐만 아니라 남들과 차별화 될 수 있는 무언가가 더 얹어져야 한다. 예를 들어 남들이 잘 공부하지 않는 부분들을 깊게 판다던가, 5년이라는 엄청난 시간동안 하루도 빼먹지 않고 매일 TIL을 적는 미친 성실함을 보여준다던가 하는 것처럼 말이다.</p>\n<p>이런 차별 요소를 만들어내기 위해서는 이 TIL이라는 것이 주는 진정한 가치가 무엇인지를 한번 고민해봐야 한다.</p>\n<p>TIL은 취업하기 위해서 하는 활동이 아니라 실제로 여러분이 뭔가를 보고 배우고 기록하여 미래의 자신에게 건네주기 위한 아카이브이다. 하지만 많은 분들이 TIL을 작성할 때 정돈되지 않은 메모 정도의 글을 적는다. 그리고 이렇게 정돈되지 않은 글을 적어놓았으니 1-2년 뒤에 다시 예전에 적어둔 TIL을 복기하며 공부하기도 쉽지 않을 것이다.</p>\n<p>이게 바로 TIL이라는 좋은 도구를 좋지 않은 수단으로 사용하고 있는 대표적인 상황이다. 지금까지 TIL이나 1일 1커밋과 같은 행위들을 취업을 위해 하고 있었다면, 이제는 이 활동들을 통해 내가 진짜로 얻을 수 있는 가치가 무엇인지, 그리고 그 가치가 나를 어떻게 성장시킬 수 있을 지에 대해서 스스로 고민해보자.</p>\n<p>이런 고민은 그 누구도 여러분을 대신해서 해주지 않으며, 고민에 대한 정답은 어디에서도 가르쳐 주지 않는다. 물론 빠른 시간 안에 답이 나오는 고민은 아니겠지만, 매일매일 조금씩이라도 내가 지금 하고 있는 이 활동이 진정 의미가 있는 것인지 고민해보는 연습을 해보는 것을 추천한다.</p>\n<h3 id=\"내재적인-모티베이션을-만들자\" style=\"position:relative;\">내재적인 모티베이션을 만들자<a href=\"#%EB%82%B4%EC%9E%AC%EC%A0%81%EC%9D%B8-%EB%AA%A8%ED%8B%B0%EB%B2%A0%EC%9D%B4%EC%85%98%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%9E%90\" aria-label=\"내재적인 모티베이션을 만들자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>마지막으로 이야기하고 싶은 것은 내재적인 모티베이션을 만들라는 것이다. 이는 앞서 말한 “취업이나 이직을 위한 활동”과도 약간은 이어지는 맥락인데, 이 취업이나 이직이라는 목표가 외부적인 모티베이션의 가장 대표적인 예이기 때문이다.</p>\n<p>만약 취업이나 이직을 위해 매일 1일 1커밋이나 TIL을 꾸준히 했다고 생각해보자.</p>\n<p>현재 개발자 시장은 공급에 비해 수요가 많은 상황이고, 이런 저런 회사의 대표님들은 항상 “주변에 좋은 개발자 없어요?”라는 질문을 뿌리고 다니는 세상이니 분명 언젠가는 취업이나 이직을 성공할 수 있을 것이다. <small>(당연히 채용 과정 중에는 다들 불안해하지만 생각보다 척척 잘 붙는다)</small></p>\n<p>자, 그러면 여러분은 이제 목표를 이뤘는데, 1일 1커밋이나 TIL을 계속 해야 할까?</p>\n<p>물론 지금까지 해오던 관성이 있기 때문에 계속 이어나갈 수 있을지도 모른다. 하지만 입사 후 새로운 사람들, 새로운 코드, 새로운 환경에 적응하다 보면 피곤하다는 이유로, 지금은 자기 계발보다는 회사 일에 적응하는 것이 우선이라는 이유로 쉽게 그만 두게 된다.</p>\n<p>사실 이런 행위들을 그만 두게 되는 이유는 그렇게 중요하지 않을 지도 모른다. 왜냐하면 여러분이 취업이나 이직이라는 목표를 달성함과 동시에, 1일 1커밋이나 TIL처럼 엄청난 노동력과 성실함이 필요한 작업을 계속 이어가야 하는 모티베이션 자체가 사라졌기 때문이다.</p>\n<p>이것이 바로 외부적인 모티베이션의 문제점이다. 외부에서 오는 모티베이션에 의존한 행위는 그 모티베이션의 원천이 사라지는 순간 쉽게 그만 두게 되기 쉽다.</p>\n<p>그렇기 때문에 모티베이션의 원천은 취업이나 이직과 같은 외부 조건이 아니라, 성장이나 흥미와 같은 내재적인 부분에서 비롯되는 것이 훨씬 건강하다.</p>\n<p>물론 이런 내재적인 모티베이션도 번아웃과 같은 내부적 요인 때문에 무너질 수는 있지만, 적어도 목표를 달성하는 순간 내가 달릴 수 있는 원동력이 사라져버리는 상황보다는 훨씬 탄탄한 모티베이션이다.</p>\n<p>사실 이렇게 외부적인 모티베이션이나 내재적인 모티베이션에 대해 깊은 고민을 안 해본 사람이라고 해도, 본능적으로 어떤 것이 더 탄탄한 모티베이션인지는 누구나 다 알고 있다.</p>\n<p>여러분이 만약 면접관이라면 “왜 TIL을 쓰시는 거에요?”라는 질문에 “취업하기 위해서요”라고 말하는 사람에게 더 신뢰가 가겠는가, 아니면 “개발하는 것이 재미있어서요”, “제가 성장하기 위해서요”라고 말하는 사람에게 더 신뢰가 갈 것 같은가?</p>\n<p>전자의 답변같은 경우에는 당연히 “그럼 취업하면 안 하겠다는 건가?”라는 생각이 들 수 밖에 없는 답변이다. 그리고 이런 생각이 들게 만드는 것이 바로 외부적인 모티베이션이 주는 리스크인 것이다.</p>\n<p>물론 이런 예시와 함께 이야기하면 대부분 고개를 끄덕이며 공감하지만, 사실 우리는 모두 외부적인 모티베이션에 의존하는 삶에 굉장히 익숙하고, 이런 이야기를 하고 있는 필자 또한 나이가 점점 들면서 돈이라는 외부적인 모티베이션에 의존하는 경향이 강해지고 있다. <small><del>(집 값 너무 킹받는다…)</del></small></p>\n<p>결국 필자가 이 포스팅에서 이야기하고 싶은 것은 외부적인 모티베이션을 완전히 없애라는 것은 아니다. 이것은 불가능하기도 하고, 때로는 이러한 모티베이션이 더 뛰어난 모멘텀을 만들어 내기도 한다. 하지만 적어도 내가 현재 의존하고 있는 이 모티베이션이 앞으로도 지속 가능한 모티베이션인지, 정말로 나의 성장에 도움이 되는 모티베이션인지에 대한 고찰은 한번 쯤 해봐야 한다고 생각한다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>어찌보면 약간은 이상적인 이야기를 하는 것처럼 들릴 수도 있다. 왜냐하면 현실적으로 취업이나 이직이 당장 급하고 절박한 상황이라면 이런 고민을 해볼 여유를 가지기가 쉽지 않기 때문이다.</p>\n<p>하지만 필자가 이 포스팅에서 이야기한 내용들은 당연히 여러분의 취업이나 이직에 도움이 되는 것들이다. 여러분의 진정한 적은 “다른 사람들은 열심히 하고 있는데, 나만 이런 고민하느라 시간을 낭비하는 게 아닐까?”, “내가 고민할 시간이 어딨어. 일단 뭐라도 해야지”라고 속삭이는 여러분 마음 속의 불안감이다.</p>\n<p>물론 상대적으로 일을 해온 경험이 부족한 개발자는 채용 시장에서 내세울 수 있는 무기가 그렇기 많지 않은 경우가 많다. 그래서 면접에서 조금이라도 더 좋은 모습을 보여주기 위해서 알고리즘 문제나 언어에 대한 이해와 같은 펀더멘탈에 집중하거나 1일 1커밋과 같이 당장 내가 실천할 수 있는 활동들에 집중하게 되는 것이다.</p>\n<p>물론 이런 펀더멘탈들을 공부하는 것은 개발자의 기본적인 소양이라고 할 수 있을만큼 중요하기도 하고, 1일 1커밋이나 TIL 같은 활동을 통해 성실함 같은 요소들을 어필할 수도 있겠지만, 중요한 것은 결과적으로 면접관이 찾는 사람이 단순히 이론에 빠삭하거나 성실하기만 한 사람이 아니라 “뭐가 됐든 일을 잘 할 수 있는 사람”이라는 사실이다.</p>\n<p>즉, 여러분은 채용 시장에서 눈에 띄는 인재가 되기 위한 전략이 필요한 것이고, 이 전략을 만드는 과정에서 “방향성이 명확한 노력”이 필요한 것이다.</p>\n<p>뭔가를 시작하기 전에 내가 이 노력을 통해서 뭘 원하는 지, 어떤 모습이 되고 싶은 지를 한번 머릿속에 그려보고 방향성을 수립한 후 실행하는 연습을 꾸준히 하다보면 언젠가는 여러분만의 노하우나 전략을 통해 시장에서 특별함을 뽐낼 수 있는 인재가 될 수 있을 것이라고 믿는다.</p>\n<p>이상으로 나만의 색깔을 찾는 방법 – 성장의 방향성을 설정하자 포스팅을 마친다.</p>","fields":{"slug":"20210910-developer-direction-of-effort","path":"/2021/09/10/developer-direction-of-effort/","lang":"ko"},"frontmatter":{"title":"나만의 색깔을 찾는 방법 – 성장의 방향성을 설정하자","subTitle":"개발자의 성장은 꾸준함이 아니다 – 방향성과 차별성을 고민하자","date":"Sep 10, 2021","categories":["에세이"],"tags":["개발자","면접","채용","개발자 공부","1일 1커밋","TIL","클론코딩"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ee5062e1a1df98afe98d15537f8d4da0/3a812/thumbnail.jpg","srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/3a812/thumbnail.jpg 320w,\n/static/ee5062e1a1df98afe98d15537f8d4da0/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/fc5c5/thumbnail.webp 320w,\n/static/ee5062e1a1df98afe98d15537f8d4da0/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ee5062e1a1df98afe98d15537f8d4da0/2d839/thumbnail.jpg","srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"2212aca4-174d-5d3e-82d1-d5d732a31cca","tableOfContents":"<ul>\n<li>\n<p><a href=\"#allowumdglobalaccess\">allowUmdGlobalAccess</a></p>\n</li>\n<li>\n<p><a href=\"#baseurl\">baseUrl</a></p>\n</li>\n<li>\n<p><a href=\"#paths\">paths</a></p>\n</li>\n<li>\n<p><a href=\"#module\">module</a></p>\n<ul>\n<li><a href=\"#commonjs\">CommonJS</a></li>\n<li><a href=\"#amd\">AMD</a></li>\n<li><a href=\"#umd\">UMD</a></li>\n<li><a href=\"#system\">System</a></li>\n<li><a href=\"#es-module\">ES Module</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#moduleresolution\">moduleResolution</a></p>\n<ul>\n<li><a href=\"#classic\">Classic</a></li>\n<li><a href=\"#node\">Node</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#noresolve\">noResolve</a></p>\n</li>\n<li>\n<p><a href=\"#resolvejsonmodule\">resolveJsonModule</a></p>\n</li>\n<li>\n<p><a href=\"#rootdir\">rootDir</a></p>\n</li>\n<li>\n<p><a href=\"#rootdirs\">rootDirs</a></p>\n</li>\n<li>\n<p><a href=\"#typeroots\">typeRoots</a></p>\n</li>\n<li>\n<p><a href=\"#types\">types</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 지난 [tsconfig의 모든 것] Compiler options / Type Checking 포스팅에 이어 의 컴파일 옵션 중 모듈과 관련된 옵션들에 대한 이야기를 해보려고 한다.","html":"<p>이번 포스팅에서는 지난 <a href=\"/20210808-tsconfig-compiler-options-type-check\">[tsconfig의 모든 것] Compiler options / Type Checking</a> 포스팅에 이어 <code class=\"language-text\">tsconfig</code>의 컴파일 옵션 중 모듈과 관련된 옵션들에 대한 이야기를 해보려고 한다.</p>\n<!-- more -->\n<p>이 옵션들은 타입스크립트를 컴파일할 때 모듈들이 어떤 모듈 시스템을 따르도록 할 것인지, 어떤 경로에 있는 파일들을 컴파일 할 것인지, 빌드된 자바스크립트 파일들이 어떤 모듈 방식을 따르게 할 것인지 등을 컨트롤 할 수 있는 것들인데, 일반적인 서비스를 만드는 경우보다는 타입스크립트로 작성된 라이브러리를 만들 때 자주 다루게 되는 옵션들이기도 하다.</p>\n<h2 id=\"allowumdglobalaccess\" style=\"position:relative;\">allowUmdGlobalAccess<a href=\"#allowumdglobalaccess\" aria-label=\"allowumdglobalaccess permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>umd 모듈로의 접근을 허용한다</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>umd 모듈로의 접근을 허용하지 않는다</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">allowUmdGlobalAccess</code> 옵션은 타입스크립트 모듈이 전역 객체에 모듈을 포함시켜 내보내는 UMD(Universal Module Definition)형태의 모듈에 접근이 가능하게 할 것인지를 컨트롤 하는 옵션이다.</p>\n<p>만약 이 옵션이 꺼져 있다면 jQuery의 <code class=\"language-text\">$</code>와 같은 전역 변수에 그냥 접근하는 것이 불가능해지고, 무조건 <code class=\"language-text\">import</code> 문을 통해서 모듈을 가져와야 한다.</p>\n<p>UMD 방식을 사용하여 만들어진 라이브러리들은 보통 이런 형태의 글로벌 타입 선언을 가지고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">doThing1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> version<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AnInterface</span> <span class=\"token punctuation\">{</span>\n  foo<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">namespace</span> myLibrary<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 타입 파일이 네임스페이스를 export 하도록 선언되어 있는 경우, 타입스크립트는 이 모듈이 암묵적으로 전역 변수인 <code class=\"language-text\">myLibrary</code>에 할당된다고 판단한다. 그렇기 때문에 이런 타입 선언을 내 소스에 포함시키면 <code class=\"language-text\">myLibrary</code>라는 네임스페이스를 통해 이 모듈의 내용물에 접근할 수가 있는 것이다.</p>\n<p>만약 <code class=\"language-text\">allowUmdGlobalAccess</code> 옵션이 꺼져있는 상태라면 이런 에러를 만나게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> myLibrary<span class=\"token punctuation\">.</span><span class=\"token function\">doThing1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 'myLibrary' refers to a UMD global, but the current file is a module. Consider adding an import instead.ts(2686)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 <code class=\"language-text\">allowUmdGlobalAccess</code> 옵션을 켜게 되면 네임스페이스로 export된 UMD 모듈에 접근하는 것이 허용된다. 하지만 굳이 암묵적으로 전역 변수에 선언되어있는 모듈에 접근해서 사용하는 것보다 <code class=\"language-text\">import</code> 키워드로 명시적으로 모듈을 가져와서 사용하는 것이 더 안전하니, 피치 못하는 경우가 아니라면 가급적 해당 옵션을 켜두도록 하자.</p>\n<h2 id=\"baseurl\" style=\"position:relative;\">baseUrl<a href=\"#baseurl\" aria-label=\"baseurl permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">baseUrl</code> 옵션은 상대 경로로 모듈의 경로를 지정할 때 기준이 되는 위치를 지정할 수 있는 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n├── index.ts\n├── utils\n│   └── foo.ts\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>예를 들어 위와 같은 상황일 때, <code class=\"language-text\">index.ts</code>에서 상대 경로를 사용하여 <code class=\"language-text\">foo.ts</code> 모듈을 가져오려면 <code class=\"language-text\">./utils/foo</code>와 같이 현재 기준이 되는 위치를 <code class=\"language-text\">./</code> 처럼 지정한 후 해당 모듈에 접근하게 된다.</p>\n<p>하지만 잘 생각해보면 아무리 상대 경로를 사용한다고 해도, 기준이 되는 위치 자체가 변하는 경우는 많지 않다는 것을 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n├── index.ts\n├── utils\n│   └── foo.ts\n├── remotes\n│   └── bar.ts\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 이런 구조의 프로젝트의 <code class=\"language-text\">remotes/bar</code> 모듈에서 <code class=\"language-text\">utils/foo</code> 모듈에 접근하려고 한다면 결국 <code class=\"language-text\">../utils/foo</code> 처럼 프로젝트의 루트까지 올라간 후 다시 내려오는 방식으로 접근을 하기 때문이다.</p>\n<p>그래서 <code class=\"language-text\">baseUrl</code> 옵션은 상대경로를 사용할 때마다 반복되는 “루트로의 여정”을 없애주는 역할을 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 <code class=\"language-text\">baseUrl</code>에 입력하는 상대 경로의 기준은 <code class=\"language-text\">tsconfig</code>가 위치하는 곳이기 때문에 일반적으로는 프로젝트의 루트가 된다. 즉, 이렇게 설정한 후 우리가 모듈에 접근하기 위해 상대 경로를 사용하게 되면, 타입스크립트는 <code class=\"language-text\">baseUrl</code>에 입력된 루트의 위치에서부터 해당 모듈을 찾아가게 되는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> foo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'utils/foo'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 사실 .(루트)/utils/foo</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> bar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'remotes/bar'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 사실 .(루트)/remotes/bar</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이렇게 <code class=\"language-text\">baseUrl</code> 옵션을 사용하면 매번 <code class=\"language-text\">./</code>나 <code class=\"language-text\">../</code> 등을 사용하여 루트를 먼저 찾은 후 모듈에 접근하는 상대 경로를 절대 경로처럼 사용할 수 있다.</p>\n<h2 id=\"paths\" style=\"position:relative;\">paths<a href=\"#paths\" aria-label=\"paths permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">paths</code> 옵션은 특정한 모듈 이름을 지정했을 때 컴파일러가 어디서 부터 모듈을 탐색해야 할 지를 지정할 수 있는 맵을 제공한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"paths\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"app/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"app/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"config/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"app/_config/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"environment/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"environments/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"shared/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"app/_shared/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"helpers/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"helpers/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"tests/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"tests/*\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>맵에 포함되는 경로들은 <code class=\"language-text\">baseUrl</code>을 기준으로 상대 경로로 계산되기 때문에, <code class=\"language-text\">paths</code> 옵션을 사용하기 위해서는 반드시 <code class=\"language-text\">baseUrl</code> 옵션에 값을 채워주어야 한다. 즉, 위 예시의 <code class=\"language-text\">app/*</code>는 <code class=\"language-text\">./src/app/*</code>를 의미하며, 모듈을 불러올 때 <code class=\"language-text\">import foo from 'app/math'</code>와 같이 접근하게 되면, 타입스크립트는 자동으로 맵에 해당하는 경로인 <code class=\"language-text\">./src/app/math</code>를 탐색한 후 모듈을 가져오게 된다.</p>\n<p>만약 <code class=\"language-text\">paths</code> 옵션에 설정된 위치들을 전부 탐색했는데도 모듈을 찾지 못 했다면, <code class=\"language-text\">moduleResolution</code> 옵션에서 설정한 전략에 따라 추가적인 탐색을 진행하게 된다.</p>\n<p>사실 패스 매핑 자체는 워낙 간단한 설정이기 때문에 크게 어려울 것이 없지만, 종종 패스 매핑이 반드시 <code class=\"language-text\">baseUrl</code>을 기준으로 시작한다는 점을 까먹어서 실수를 하곤 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n├── src\n│   └── index.ts\n├── node_modules\n│   └── foo\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위와 같은 구조의 프로젝트에서 <code class=\"language-text\">baseUrl</code>로 <code class=\"language-text\">./src</code>를 지정한 상황을 생각해보자. 우리가 <code class=\"language-text\">foo</code>라는 패스에 <code class=\"language-text\">node_modules/foo</code>를 매핑하려면 어떻게 해야할까?</p>\n<p>이때 자주 하는 실수는 <code class=\"language-text\">tsconfig.json</code>의 위치를 기준으로 <code class=\"language-text\">\"foo\": \"./node_modules/foo\"</code>라고 설정하는 것이다. 아무래도 내가 지금 패스 매핑 작업을 하고 있는 파일이 <code class=\"language-text\">tsconfig.json</code>이니 별 생각없이 현재 파일 기준으로 경로를 지정하는 것이다.</p>\n<p>하지만 패스 매핑은 <code class=\"language-text\">baseUrl</code>을 기준으로 진행되기 때문에 이 경우에는 <code class=\"language-text\">src</code> 디렉토리가 기준점이 된다. 즉, <code class=\"language-text\">\"foo\": \"../node_modules/foo\"</code>로 매핑을 진행해주어야 한다는 것이다.</p>\n<p>간혹 이 점을 잊고 <code class=\"language-text\">tsconfig.json</code>의 위치를 기준으로 패스 매핑을 진행했다가 모듈 탐색에 실패하는 경우가 왕왕 있으니 주의하도록 하자.</p>\n<h2 id=\"module\" style=\"position:relative;\">module<a href=\"#module\" aria-label=\"module permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">CommonJS</code> (default)</td>\n<td>CommonJS 형식으로 모듈을 컴파일한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">AMD</code></td>\n<td>Asynchronous Module Definition 형식으로 모듈을 컴파일한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">UMD</code></td>\n<td>Universal Module Definition 디자인 패턴을 사용하여 모듈을 컴파일한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">System</code></td>\n<td>System.js 형식으로 모듈을 컴파일한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">ES6</code>, <code class=\"language-text\">ES2015</code>, <code class=\"language-text\">ES2020</code>, <code class=\"language-text\">ESNext</code></td>\n<td>ESM(ES Module) 방식으로 모듈을 컴파일한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">module</code> 옵션은 컴파일을 마친 자바스크립트 모듈이 어떤 모듈 시스템을 사용할 지를 설정하는 옵션이다.</p>\n<p>물론 ECMAScript에서 지정한 공식 모듈 시스템은 <code class=\"language-text\">import</code>, <code class=\"language-text\">export</code> 키워드를 사용하는 ESM 방식이기는 하지만, 현실적으로 이러한 모듈 시스템을 지원하는 브라우저가 아직 많지 않고, NodeJS 같은 경우 지난 12.0.0 버전에서 <code class=\"language-text\">--experimental-modules</code> 플래그 없이 ESM을 사용할 수 있는 기능이 추가되기는 했지만, 아직 생태계 전체에 ESM 시스템이 퍼져있는 상황은 아니다. <small>(NodeJS 진영은 아직 CommonJS를 많이 사용한다)</small></p>\n<p>이런 이유들로 인해 우리의 모듈이 무조건 ESM 시스템을 사용하도록 컴파일하기는 현실적으로 어렵기 때문에, 적절히 상황에 맞는 모듈 시스템을 선택할 수 있어야 하는 것이다.</p>\n<p>이 포스팅에서 자바스크립트의 모듈 시스템에 대한 모든 것을 다룰 수는 없으니, 각 모듈 시스템들의 특징 정도만 간단하게 알아보고 넘어가도록 하겠다. 한번 간단하게 두 개의 모듈로 구성된 어플리케이션을 상상해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// utils/math.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 어플리케이션의 <code class=\"language-text\">index.ts</code> 모듈은 <code class=\"language-text\">utils/math.ts</code> 모듈에서 <code class=\"language-text\">add</code>라는 함수를 가져와서 커링을 통해 <code class=\"language-text\">add2</code> 함수를 생성하고 다시 내보내는 모듈이다. 이제 이 어플리케이션을 각각의 모듈 시스템을 사용하도록 컴파일하면 <code class=\"language-text\">index.ts</code>가 어떻게 변경되는지, 그리고 각 모듈 시스템의 특징이 무엇인지 살펴보도록 하자.</p>\n<h3 id=\"commonjs\" style=\"position:relative;\">CommonJS<a href=\"#commonjs\" aria-label=\"commonjs permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> math_1 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> math_1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">CommonJS</code>는 Common이라는 이름답게, 자바스크립트 모듈을 브라우저 뿐 아니라 서버 환경이나 데스크탑 어플리케이션 내에서도 자유롭게 사용하는 것을 표방하고 있는 모듈 시스템이다.</p>\n<p>그런 이유로 서버 사이드에서 주로 사용하는 런타임인 NodeJS 같은 경우에는 아직까지 CommonJS 시스템을 사용하고 있는 환경이 많기 때문에 서버 사이드에서 사용할 라이브러리 등을 만든다면 해당 CommonJS 시스템을 사용하는 것을 고민해봐야 한다.</p>\n<p>CommonJS는 <code class=\"language-text\">exports</code> 또는 <code class=\"language-text\">module.exports</code> 객체의 프로퍼티에 모듈을 할당하고, 전역함수 <code class=\"language-text\">require</code>를 통해 동기적으로 모듈을 직접 가져오는 방식을 사용한다. 위 예시에서도 <code class=\"language-text\">math_1</code>이라는 변수에 <code class=\"language-text\">require</code>라는 함수를 통해 모듈을 할당하고, <code class=\"language-text\">exports.add2</code> 프로퍼티에 <code class=\"language-text\">add2</code> 함수를 다시 할당하고 있는 것을 볼 수 있다.</p>\n<p>이렇게 <code class=\"language-text\">require</code> 함수가 실행될 때 동기적으로 모듈을 가져오는 CommonJS의 특징 덕분에 <code class=\"language-text\">if</code> 문을 사용하여 “이럴 땐 A 모듈, 저럴 땐 B 모듈을 가져와!” 같은 짓을 하는 것도 가능하다.</p>\n<h3 id=\"amd\" style=\"position:relative;\">AMD<a href=\"#amd\" aria-label=\"amd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"require\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exports\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> math_1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> math_1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">AMD(Asynchronous Module Definition)</code>는 이름에 걸맞게 비동기적으로 모듈을 가져오는 방식을 사용하는 모듈 시스템이다.</p>\n<p>기존의 CommonJS는 동기적으로 모듈을 가져오는 것을 전제로 개발되었기 때문에 항상 비동기적으로 모듈을 가져오는 방식을 구현하기 위한 활발한 논의가 있었는데, 이 논의 과정 속에서 기존의 CommonJS의 정신인 “모든 환경에서 작동하는 자바스크립트 모듈”에 공감하지 못하는 사람들이 나왔고, 이 사람들이 따로 독립하여 AMD 그룹을 만들게 되었다.</p>\n<p>사실 브라우저 환경은 애초에 서버와 다르게, 필요한 모듈들을 서버로부터 받아와서 사용해야 하는 환경이다. 그렇기 때문에 필요한 모든 모듈을 한번에 받아서 실행하는 것보다 모듈 중에서 필요한 부분만 서버로부터 비동기적으로 가져와서 사용하는 것이 더 효율적인 것이다. 하지만 “모든 환경에서 작동하는 자바스크립트 모듈”을 목표로 하는 CommonJS 그룹에서는 이런 환경 차이를 통합하기가 쉽지 않았다.</p>\n<p>이 과정에서 “브라우저만이라도 제대로 해보자”라는 의견을 가진 사람들이 독립하여 AMD 시스템이 탄생하게 되었고, 그런 이유로 AMD 시스템은 브라우저에서의 비동기 모듈 호출에 초점을 맞추고 개발되었다. <small>(물론 CommonJS도 이후 비동기 모듈 로딩 기능을 따로 추가했다)</small></p>\n<p>하지만 결국 CommonJS에서 떨어져 나온 그룹인만큼 CommonJS와 AMD는 서로 호환할 수 있는 기능들을 많이 제공하고 있기 때문에, 기존의 CommonJS 모듈을 AMD 방식으로 래핑해서 사용하는 등의 응용도 가능하다.</p>\n<p>위 예시에서도 AMD 시스템의 <code class=\"language-text\">define</code> 함수가 기본적으로 CommonJS의 <code class=\"language-text\">require</code>, <code class=\"language-text\">export</code> 함수를 가져와서 사용하고 있는 모습을 볼 수 있다. 기본적으로 내부 구조는 CommonJS와 비슷하지만, <code class=\"language-text\">require</code>함수를 통해 모듈을 가져오는 것이 아니라, <code class=\"language-text\">define</code> 함수의 3번째 인자인 <code class=\"language-text\">math_1</code>을 통해 모듈을 주입받고 있다는 것이 CommonJS 시스템과의 결정적인 차이이다.</p>\n<h3 id=\"umd\" style=\"position:relative;\">UMD<a href=\"#umd\" aria-label=\"umd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">factory</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> module <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> v <span class=\"token operator\">=</span> <span class=\"token function\">factory</span><span class=\"token punctuation\">(</span>require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> define <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">&amp;&amp;</span> define<span class=\"token punctuation\">.</span>amd<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"require\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exports\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> math_1 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> math_1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">UMD(Universal Module Definition)</code>은 모듈 시스템이라기보다 다양한 환경에서 Universal, 즉, 범용으로 사용할 수 있는 형태의 디자인 패턴이라고 볼 수 있다.</p>\n<p>그렇기 때문에 UMD 패턴은 보통 <code class=\"language-text\">RequireJS</code> 같은 라이브러리를 통해 사용하는 AMD나 CommonJS와 다르게, 직접 개발자가 직접 UMD 패턴을 사용한 코드를 작성해줘야 한다. 쉽게 말해 위의 예시처럼 IIFE(Immediately Invoked Function Expression, 즉시실행함수)를 사용하여 개발자가 직접 소스 코드 내에서 분기를 쳐주는 것이 결국 UMD 패턴이라는 것이다.</p>\n<p>위 예시를 보면 <code class=\"language-text\">module</code>과 <code class=\"language-text\">module.exports</code>가 존재한다면 CommonJS 시스템을, <code class=\"language-text\">define</code> 함수가 존재한다면 AMD 시스템을 사용하는 것을 볼 수 있다. 이처럼 UMD 패턴은 모듈이 사용되는 환경이 어떤 모듈 시스템을 사용하는지 여부와 상관없이 항상 동일한 경험을 제공할 수 있다는 장점이 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/9a3cbcb2d8922dd1e01e855b408e4af4/22475/all_taken.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC10lEQVR42k2SSU9TURiGK1opBUpRFBREoy5ETYhKjDGaOEaN08aoCyMhaqIGB9hoxAEBK8YBp1Kwg9iR3tKWFluo4oSgSAMBozaGpYk7/QuP361GXTy55yb3Puf93nM0RX1PKertSTMnHmGWuk7EWNgbYGHMx/xoiNJwmBKhKNhFcTDMXCWEwauQ7e4UfGS7fpMjaAp7/xPGIqzzPqLYaqY8YWNt4iHL4iHKYrJBNMKSaJSybnmGujG6veg8frK9gtP7TzgjHKRAUsyJRyno66HM5+S4uZVLE5/Y9WaAc2NjVI+McHBgkKvjHzk9PELlwHvKXWZKLS3k2DrQq0ldIpVNNAa/n/xQF4VPu5mtCu+1UHfxIq9SXzieTOKanKR+fILDQ+/o//ady6Pj7In3s995h/VnjpDf1IxeCUpKz29hbqcfY0BhpiQtjIbZbGqgreEUV/pitHydpGpwiCqRbU8849S7Qfa9eEW5v4u5dVeYd7IanekW+j8d/hXmSso8RaFASi/pDqOLRDg2/IHUj5/cSn2lJt7HI1sblf2d7I4naJTvNjQ2sfxsLfuvNlDicJKZ7tGNJsfnR0UVGoNB8oIhpvuV9Ijmzyk2979ksRR/2mGn1uOlSrqskfWh2lq2XL/BxkAAvQj1HZ50j2lhrioUSZ4/gFFQT+/E0DAXkmPc/ZTi6NAHHKMTWOS9ZjjJoZ4Y8x62UnLvAfntdrQOd1qoIoeioI6dJ2MbJIlBZDrpY+fzl+ztfcbWrgCbFB/1g28wJUc58vY9B1+8Zqb8o3W6ybI/IcvmQmd3keVwibBTkgk6KTRDZFphmtNHxhMP2sduFjWZONBQx47GenaamimSRBkeH9oOJ1Otj5ki12a63Y1BUuaLXKOmyhTJOhHubjez0uZgjd3KUquDBdZ2tl2uZk3zTVbcvsPq89eouN/GKpudJa0WKtpaqbC0Y7TYKJW7WGzr4BekrCjuRnfpjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"all taken\" title=\"\" src=\"/static/9a3cbcb2d8922dd1e01e855b408e4af4/6af66/all_taken.png\" srcset=\"/static/9a3cbcb2d8922dd1e01e855b408e4af4/69538/all_taken.png 160w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/72799/all_taken.png 320w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/6af66/all_taken.png 640w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/d9199/all_taken.png 960w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/22475/all_taken.png 1039w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>UMD === 뭘 좋아할 지 몰라서 모든 모듈 시스템을 다 준비했어</small>\n</center>\n<p>추가적으로, 모듈을 사용하는 환경이 CommonJS, AMD 두 시스템 모두 지원하지 않는 경우에는 UMD 패턴을 사용하여 전역 객체인 <code class=\"language-text\">globalThis</code>, <code class=\"language-text\">window</code>, <code class=\"language-text\">global</code> 등의 프로퍼티로 모듈을 넣는 최후의 방법도 있기는 하다.</p>\n<p>하지만 이 방법은 전역 스코프를 오염시키기 때문에 가급적이면 피하는 것이 좋기도 하고, 최근의 자바스크립트 런타임 환경에서 모듈 시스템 자체가 지원되지 않는 환경이 강제되는 경우는 흔치 않으므로 타입스크립트는 이런 방법까지는 사용하지 않는 것으로 보인다.</p>\n<h3 id=\"system\" style=\"position:relative;\">System<a href=\"#system\" aria-label=\"system permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">System<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">exports_1<span class=\"token punctuation\">,</span> context_1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> math_1<span class=\"token punctuation\">,</span> add2<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> __moduleName <span class=\"token operator\">=</span> context_1 <span class=\"token operator\">&amp;&amp;</span> context_1<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">setters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">math_1_1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                math_1 <span class=\"token operator\">=</span> math_1_1<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">execute</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">exports_1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add2\"</span><span class=\"token punctuation\">,</span> add2 <span class=\"token operator\">=</span> math_1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>UMD 패턴이 “네가 뭘 좋아할 지 몰라서 다 준비했어”의 디자인 패턴 버전이라면, <code class=\"language-text\">SystemJS</code>는 이걸 라이브러리로 구현한 모듈 로더이다. <small>(한 술 더 떴다)</small></p>\n<p>즉, SystemJS는 모듈 로더이기 때문에 모듈을 어떻게 정의하는지에 대한 것은 관여하지 않고, 그저 이미 CommonJS, AMD, ESM 방식으로 정의된 모듈을 로드해주기만 하는 녀석이다.</p>\n<p>SystemJS는 2016년 ECMA 재단이 ES6의 공식 모듈 스펙으로 <code class=\"language-text\">import</code>, <code class=\"language-text\">export</code> 키워드를 사용하는 ESM 패턴을 발표했을 때 즈음 꽤나 많이 사용되던 녀석인데, 그 이유는 이 당시 브라우저들이 이 스펙을 지원하지 않았기 때문이다.</p>\n<p>모듈링에 대한 공식 스펙은 정해졌으나 정작 그걸 실행시킬 브라우저 벤더들의 대응이 늦는 상황이라 ESM을 사용하고 싶어도 할 수가 없는 상황이었는데, 이때 SystemJS가 이 중간 다리 역할을 해줬었다. 당시에는 <a href=\"https://github.com/ModuleLoader/es-module-loader\" target=\"_blank\" rel=\"nofollow\">es-module-loader</a>라는 폴리필을 사용하여 ESM 방식의 모듈을 불러오도록 구현되어있었다.</p>\n<p>그런데 여기서 한 가지 의문이 드는 것이 “브라우저가 지원하지 않는 모듈을 불러와도 트랜스파일링을 하지 않으면 실행을 시킬 수 없는 경우도 있을텐데, SystemJS는 이 문제를 어떻게 해결하는 걸까?”라는 것인데, 정답은 의외로 가까운 곳에 있었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/934e6cd11f70c175f5171121f4db2f65/47311/cool.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB56Spyjs0/wD/xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEUL/2gAIAQEAAQUCjrIGbBb8VHJOuf/EABgRAAIDAAAAAAAAAAAAAAAAAAABESEx/9oACAEDAQE/AVTk0//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/AYf/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIRITH/2gAIAQEABj8Ct2YOiCHrOn//xAAYEAADAQEAAAAAAAAAAAAAAAABESEAMf/aAAgBAQABPyGnEOXAlvy4sBMDcyKrzDMHBp5B5//aAAwDAQACAAMAAAAQj/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEhMf/aAAgBAwEBPxC4NaP/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EKUMh//EAB0QAQEAAgEFAAAAAAAAAAAAABEBACExUWFxgZH/2gAIAQEAAT8QEYDaY9sW2mi1n25ZldIzxkYiAAnnD+oHA9cvhnpz/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cool\" title=\"\" src=\"/static/934e6cd11f70c175f5171121f4db2f65/c08c5/cool.jpg\" srcset=\"/static/934e6cd11f70c175f5171121f4db2f65/0913d/cool.jpg 160w,\n/static/934e6cd11f70c175f5171121f4db2f65/cb69c/cool.jpg 320w,\n/static/934e6cd11f70c175f5171121f4db2f65/c08c5/cool.jpg 640w,\n/static/934e6cd11f70c175f5171121f4db2f65/6a068/cool.jpg 960w,\n/static/934e6cd11f70c175f5171121f4db2f65/47311/cool.jpg 1080w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>복잡한 건 잘 모르겠고, 그냥 babel 가져와서 런타임에 쿨하게 트랜스파일링 돌리자</small>\n</center>\n<p>그렇다. 이 방법을 쓰면 불러올 대상 모듈의 언어가 ES2020나 타입스크립트라도 아무 문제가 없고, 모듈 시스템으로 CommonJS를 사용하던 AMD를 사용하던 아무 문제가 없다. 물론 이 기능은 SystemJS의 기본 기능이 아니라서 <a href=\"https://github.com/systemjs/systemjs-babel\" target=\"_blank\" rel=\"nofollow\">systemjs-babel</a>이라는 익스텐션을 사용해야 하지만, 문제 해결 방식 자체가 상당히 화끈한 것이 인상적이다.</p>\n<p>하지만 런타임에 모듈을 트랜스파일링한다는 것은 단순히 트랜스파일링만의 문제가 아니라 모듈 간의 의존관계도 파악해야하고, 심지어 타입스크립트를 사용하는 경우에는 정적 타입 체크를 거친 컴파일까지 해야하기 때문에, 당연히 빌드 타임에 이런 무거운 작업을 수행해버리면 퍼포먼스가 떨어질 수 밖에 없다.</p>\n<p>2021년 현재, 모두가 알다시피 이런 무거운 작업들은 모두 빌드 타임에 진행해도 아무 문제가 없으니, 굳이 런타임에 이런 짓을 벌이는 SystemJS는 특수한 상황이 아니면 쓰이지 않는 분위기인 것 같다.</p>\n<h3 id=\"es-module\" style=\"position:relative;\">ES Module<a href=\"#es-module\" aria-label=\"es module permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">ESM(ES Module)</code> 방식은 ECMA 재단에서 공식으로 정의한 자바스크립트 생태계의 모듈 시스템이다.</p>\n<p>그런 이유로 <code class=\"language-text\">require</code>나 <code class=\"language-text\">define</code> 같은 별도의 함수에 의존하여 모듈을 불러오는 CommonJS나 AMD와 다르게 <code class=\"language-text\">import</code>, <code class=\"language-text\">export</code>라는 키워드를 사용하여 모듈을 불러오는 것을 볼 수 있다.</p>\n<p>2015년에 등장한 ESM은 2009년부터 사용하던 CommonJS나 AMD에 비하면 후발 주자인 주제에, 모듈에 <code class=\"language-text\">use strict</code> 디렉티브가 반드시 포함되어야 한다던가, <code class=\"language-text\">this</code>가 전역 객체인 <code class=\"language-text\">window</code>를 바라보지 않는 등의 변경 사항이 많았던 스펙이기도 했다.</p>\n<p>그래서 이런 제약이 없는 CommonJS나 AMD 시스템을 사용하던 어플리케이션들이 손쉽게 마이그레이션을 할 수 있는 상황이 아니였고, 그 상황이 지금까지도 이어져오고 있다.</p>\n<p>그런 이유로 오늘 날에도 네이티브 자바스크립트 환경에서 ESM을 사용하기 위해서 <code class=\"language-text\">script</code> 태그에 <code class=\"language-text\">type=\"module\"</code> 속성을 추가하거나, <code class=\"language-text\">package.json</code>에 <code class=\"language-text\">\"type\": \"module\"</code>이라는 필드를 추가해줘야 하는 등 별도의 작업이 필요한 것이다.</p>\n<p>물론 예전에 비하면 최근 많은 벤더들이 ESM을 지원하고 있지만, 그래도 아직까지 ESM을 안전하게 사용하기 위해서는 Webpack이나 Babel같은 번들러와 트랜스파일러를 조합하여 빌드 타임에 모듈 간의 의존 관계를 파악하고 런타임이 알아들을 수 있는 형태로 변환해주는 과정이 필요하기 때문에, 모듈을 사용하는 환경이 어떤 환경인지에 따라서 때로는 사용하기 번거로운 포맷이 될 수 있다는 것을 염두에 두어야 한다.</p>\n<p>다만 ESM은 이런 단점을 모두 씹어먹을 수 있을 정도의 한 가지 장점을 가지고 있는데, 바로 Webpack으로 모듈을 번들링할 때 트리쉐이킹이 수월하다는 것이다.</p>\n<p>Webpack의 <a href=\"https://webpack.js.org/plugins/module-concatenation-plugin/\" target=\"_blank\" rel=\"nofollow\">ModuleConcatenationPlugin</a>은 모듈들을 하나의 클로저로 통합하여 브라우저 환경에서 더 높은 퍼포먼스를 만들어내는데, 이때 CommonJS와 ESM 중 어떤 모듈 시스템을 사용하냐에 따라 결과물이 많이 달라지게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// CommonJS</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* harmony import */</span> <span class=\"token keyword\">var</span> _utils__WEBPACK_IMPORTED_MODULE_0__ <span class=\"token operator\">=</span> <span class=\"token function\">__webpack_require__</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>_utils__WEBPACK_IMPORTED_MODULE_0__<span class=\"token comment\">/* .add */</span> <span class=\"token punctuation\">.</span><span class=\"token constant\">DG</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Webpack을 통해 번들링 했을 때 CommonJS 시스템을 사용한 모듈은  <code class=\"language-text\">__webpack_require__</code>라는 함수를 통해 불러와지게 되는데, 문제는 이게 모듈 내부에 있는 <code class=\"language-text\">add</code> 함수만 불러오는 것이 아니라 전체 모듈을 다 불러오는 코드라는 것이다.</p>\n<p>다음 라인인 <code class=\"language-text\">(0,_utils__WEBPACK_IMPORTED_MODULE_0__/* .add */ .DG)</code>를 보면, 불러온 모듈의 <code class=\"language-text\">DG</code>라는 프로퍼티에 접근하고 있는 것을 볼 수 있는데, 이 <code class=\"language-text\">DG</code>가 난독화된 <code class=\"language-text\">add</code> 함수의 이름이다.</p>\n<p>애초에 CommonJS는 <code class=\"language-text\">exports</code>라는 전역 객체의 프로퍼티에 값들을 할당하는 방식을 사용하기 때문에, “이 모듈에서 A라는 함수만 사용한다”라는 것을 파악하기가 쉽지가 않은 것이다.</p>\n<p>하지만 ESM 시스템을 사용한 모듈은 각각의 <code class=\"language-text\">export</code> 키워드를 사용하여 원하는 값을 따로 내보낼 수 있고, 그로 인해 상세한 의존 관계를 파악하기가 한결 수월하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// ESM</span>\n\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// webpackBootstrap</span>\n<span class=\"token comment\">/******/</span>    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// CONCATENATED MODULE: ./utils/math.js**</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// CONCATENATED MODULE: ./index.js**</span>\n<span class=\"token keyword\">var</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Webpack을 통해 번들링한 ESM 시스템의 모듈을 보면, 애초에 모듈을 불러오는 코드 자체가 없고 심지어 모듈 내부에 있던 함수를 인라인으로 박아버렸다.</p>\n<p>물론 필자가 불러온 <code class=\"language-text\">add</code> 함수는 매우 작은 함수라 이런 식으로 표현될 수 있는 것이기는 하지만, 중요한 점은 모듈 내부에 있는 “특정 함수”만 가져왔다는 것이다.</p>\n<p>앞서 이야기 했듯이 ESM은 <code class=\"language-text\">import</code>, <code class=\"language-text\">export</code> 키워드를 통한 상세 의존 관계 파악이 쉬운 편이기 때문에 빌드 타임에 효율적으로 사용하는 코드와 사용하지 않는 코드를 발라내는 것이 가능하다.</p>\n<p>이렇게 트리쉐이킹이 쉽다는 강력한 이유 때문에 <del>Lodash를 제외한</del> 유명한 라이브러리들은 대부분 ESM 방식을 공식적으로 지원하고 있다.</p>\n<h2 id=\"moduleresolution\" style=\"position:relative;\">moduleResolution<a href=\"#moduleresolution\" aria-label=\"moduleresolution permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">Node</code></td>\n<td>Node 전략을 사용하여 모듈을 탐색한다. <code class=\"language-text\">module</code> 옵션이 CommonJS일 때 Default.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">Classic</code></td>\n<td>Classic 전략을 사용하여 모듈을 탐색한다. <code class=\"language-text\">module</code> 옵션이 CommonJS가 아닐 때 Default.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">moduleResolution</code> 옵션은 타입스크립트가 모듈을 불러올 때 이 모듈이 정확히 무엇을 참조하는 지를 확인하는 프로세스를 다루는 옵션이다. 이건 그냥 말로 설명하면 너무 어려우니 직접 코드를 보면서 알아보도록 하자.</p>\n<p>우선 타입스크립트는 크게 상대 경로와 절대 경로, 2가지 방법을 사용하여 모듈의 경로를 정의하는 방법을 사용하고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 상대 경로</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> debounce <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 절대 경로</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>상대 경로의 경우에는 현재 위치를 나타내는 <code class=\"language-text\">.</code>이나 상위 디렉토리를 나타내는 <code class=\"language-text\">..</code> 등의 식별자를 사용하여 탐색을 위한 기점을 지정함으로써 정확한 모듈의 위치를 나타낼 수 있는 반면, 절대 경로의 경우에는 단순히 모듈의 이름만 적고 있기 때문에 정확한 모듈의 위치를 찾기 위해서 특정한 규칙을 기반으로 모듈을 찾아나서는 여행을 떠나야 한다.</p>\n<p>또한 상대 경로, 절대 경로 두 방법 모두 모듈의 확장자까지는 적고 있지 않기 때문에, 이 모듈이 <code class=\"language-text\">math.ts</code>, <code class=\"language-text\">math.d.ts</code> 등 어떤 확장자를 가지고 있는 파일인지도 알아내어야 한다.</p>\n<p>그렇기 때문에 타입스크립트는 모듈의 정확한 위치를 찾아내는 전략을 세워야 하는데, 이때 <code class=\"language-text\">moduleResolution</code> 옵션으로 Classic과 Node 중 어떤 전략을 사용할 것인지를 선택할 수 있는 것이다.</p>\n<p>사실 두 전략 모두 모듈의 위치를 찾는 기본적인 방법 자체는 크게 다르지 않다.</p>\n<p>만약 <code class=\"language-text\">import { add } from './math'</code>와 같이 상대 경로를 사용한 모듈을 찾을 때는 찾아 볼 디렉토리가 명확하기 때문에 해당 디렉토리 내에서만 파일을 찾아보고, <code class=\"language-text\">import { add } from 'math'</code>와 같이 절대 경로를 사용한 모듈을 찾을 때는 찾아야 할 디렉토리가 명확하지 않으니, 우선 해당 모듈을 불러온 파일이 위치한 디렉토리부터 뒤져보고, 없다면 한 단계 상위 디렉토리로, 그래도 없다면 또 한 단계 상위 디렉토리로 거슬러 올라가는 방식으로 모듈을 찾는다.</p>\n<p>이때 찾고자 하는 파일의 확장자가 무엇인지, 그리고 모듈을 찾을 때 어디를 먼저 찾아보는지에 따라서 Classic 전략과 Node 전략 간의 차이가 발생한다.</p>\n<h3 id=\"classic\" style=\"position:relative;\">Classic<a href=\"#classic\" aria-label=\"classic permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Classic</code> 전략은 사실 상 타입스크립트의 기본 모듈 탐색 전략으로, 예전부터 사용하던 전략이기도 해서 하위 버전의 타입스크립트과의 호환성을 맞출 때에도 사용한다.</p>\n<p>Classic 전략은 상대 경로를 사용하여 불러온 모듈을 찾을 때, 해당 모듈을 불러오는 모듈의 위치를 기점으로 <code class=\"language-text\">*.ts</code>, <code class=\"language-text\">*.d.ts</code>의 순서로 탐색을 시작한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.d.ts</code></p>\n</li>\n</ol>\n</blockquote>\n<p>앞서 이야기 했듯이 상대 경로를 사용한 경우에는 찾아봐야 하는 디렉토리의 위치가 명확하기 때문에 후보가 되는 확장자만 탐색을 진행한 후, 해당 모듈이 없는 경우 탐색을 종료하게 된다.</p>\n<p>반면 <code class=\"language-text\">import { add } from 'math'</code>와 같이 절대 경로를 사용한 모듈의 경우에는 현재 모듈을 불러온 경로부터 시작해서 한 단계씩 부모 디렉토리로 거슬러 올라가면서 탐색을 진행하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/math.ts</code></p>\n</li>\n</ol>\n</blockquote>\n<p>절대 경로를 사용한 경우, 가장 처음으로 모듈을 불러온 파일이 위치한 <code class=\"language-text\">/root/src</code>에서부터 탐색을 시작한다. 이후 이 디렉토리에서 모듈을 찾지 못 하면 한 단계 씩 거슬러 올라가며 다시 탐색을 진행하고, 루트까지 탐색했는데도 해당 모듈이 없는 경우 탐색을 종료하게 된다.</p>\n<h3 id=\"node\" style=\"position:relative;\">Node<a href=\"#node\" aria-label=\"node permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Node</code> 전략은 이름 그대로 NodeJS가 모듈을 찾는 방식을 그대로 모방하는 전략이며, Node 전략은 Classic 전략과 다르게 <code class=\"language-text\">*.ts</code>나 <code class=\"language-text\">*.d.ts</code> 확장자를 탐색하는 것을 넘어서서 조금 더 다양한 형태의 모듈까지 탐색을 한다.</p>\n<p>상대 경로를 사용한 경우는 Classic 전략과 비슷하게, 지정된 디렉토리 내부에서 다음과 같은 순서로 파일을 탐색하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math/package.json</code> (<code class=\"language-text\">types</code> 필드를 사용하는 경우에 한해)</p>\n</li>\n<li>\n<p><code class=\"language-text\">root/src/math/index.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">root/src/math/index.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">root/src/math/index.d.ts</code></p>\n</li>\n</ol>\n</blockquote>\n<p>뭔가 많이 추가된 것 같지만, 기본적으로는 Classic 전략과 마찬가지로 지정된 디렉토리 내부의 파일을 찾되, <code class=\"language-text\">*.tsx</code> 확장자를 가진 모듈과 <code class=\"language-text\">package.json</code> 내부의 <code class=\"language-text\">types</code> 속성, 그리고 모듈 이름과 동일한 디렉토리의 <code class=\"language-text\">index.*</code> 파일을 추가로 탐색할 뿐이다.</p>\n<p>이처럼 상대 경로를 사용한 모듈을 탐색할 때는 Node 전략과 Classic 전략 모두 비슷한 순서로 디렉토리 트리를 탐색하지만, 절대 경로로 지정된 모듈을 찾을 때는 차이가 커진다.</p>\n<p>왜냐하면 Node 전략은 Classic과 다르게, 절대 경로를 사용한 모듈을 찾을 때는 <code class=\"language-text\">node_modules</code> 디렉토리를 탐색하기 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/package.json</code> (<code class=\"language-text\">types</code> 필드를 사용하는 경우에 한해)</p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/@types/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/index.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/index.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/index.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/node_modules/math.ts</code> (부모 디렉토리로 이동 후 반복)</p>\n</li>\n</ol>\n<p>…</p>\n</blockquote>\n<p>Node 전략을 사용하게 되면 가장 먼저 <code class=\"language-text\">math</code> 모듈을 호출한 파일이 위치한 <code class=\"language-text\">/root/src</code> 디렉토리에 있는 <code class=\"language-text\">node_modules</code> 디렉토리에서 탐색을 진행한다.</p>\n<p>이때 상대 경로에서와 동일하게 <code class=\"language-text\">*.ts</code>, <code class=\"language-text\">*.tsx</code>, <code class=\"language-text\">*.d.ts</code> 파일과 <code class=\"language-text\">package.json</code>의 <code class=\"language-text\">types</code> 필드를 찾아보며, 그 이후에는 <code class=\"language-text\">@types</code> 디렉토리와 모듈 이름과 동일한 이름을 가진 디렉토리 밑에 있는 <code class=\"language-text\">index</code> 파일을 탐색한다.</p>\n<p>이렇게 한 번의 탐색 과정이 끝나도 원하는 모듈을 찾지 못했다면, 부모 디렉토리로 이동한 후 이 과정을 다시 반복한다. 그 후 루트에 도달하여 로컬 머신에 전역 설치된 모듈이 있는지까지 탐색했는데도 해당 모듈이 없다면 탐색을 종료하게 된다.</p>\n<p>이러한 탐색 과정은 NodeJS가 모듈을 찾는 과정과 동일하지는 않지만, 매우 비슷하다. NodeJS는 먼저 모듈과 동일한 이름의 파일을 찾은 후, <code class=\"language-text\">package.json</code>의 <code class=\"language-text\">main</code> 필드에 적힌 경로의 파일을 찾아 보고, 마지막으로 모듈과 동일한 디렉토리 밑에 있는 <code class=\"language-text\">index</code> 파일을 탐색하는데, 타입스크립트의 Node 전략이 바로 이 탐색 과정을 모방한 것이기 때문이다.</p>\n<p>타입스크립트 공홈에는 NodeJS가 사용하는 방식과 비교해서 크게 복잡하지 않으니 걱정말라고 하지만, 사실 애초에 NodeJS가 사용하고 있는 패키지 탐색 방식 자체가 비효율적이기는 하다. 그런 이유로 타입스크립트 4.0 버전부터는 불러오지 않은 모듈에 대해서는 더 이상 위와 같은 과정을 통해 타입 정보를 찾지 않도록 업데이트가 되었다.</p>\n<h2 id=\"noresolve\" style=\"position:relative;\">noResolve<a href=\"#noresolve\" aria-label=\"noresolve permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>어플리케이션에 포함된 모든 모듈을 해석한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>명시적으로 어플리케이션에 포함하기로한 모듈만 해석한다.</td>\n</tr>\n</tbody>\n</table>\n<p>기본적으로 타입스크립트 컴파일러는 어플리케이션에 포함된 모든 모듈을 컴파일하려고 시도한다. 즉, tsconfig 루트의 <a href=\"/2021/07/30/tsconfig-options-root-fields/#include\">include</a>나 <a href=\"/2021/07/30/tsconfig-options-root-fields/#files\">files</a> 필드에 포함하지 않은 파일이라고 해도, 어플리케이션 내에서 직접 <code class=\"language-text\">import</code> 문이나 <code class=\"language-text\">/// &lt;reference path=\"...\" /></code> 같은 디렉티브를 사용하여 모듈을 불러왔다면, 그 모듈 또한 컴파일 대상이라는 것이다.</p>\n<p>어찌보면 암시적으로 모듈을 컴파일 대상에 포함시킨다는 이야기인데, 이때 <code class=\"language-text\">noResolve</code> 옵션을 <code class=\"language-text\">true</code>로 설정하면 이런 암시적인 모듈 컴파일을 막을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/index.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noResolve\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// src/index.ts</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시의 <code class=\"language-text\">include</code> 필드에는 <code class=\"language-text\">src/index.ts</code>만 포함되어 있고, <code class=\"language-text\">utils/math</code> 모듈은 포함되어있지 않다.</p>\n<p>이런 경우일 때 <code class=\"language-text\">noResolve</code> 옵션의 값이 <code class=\"language-text\">false</code>라면 <code class=\"language-text\">index.ts</code>에서 사용하는 <code class=\"language-text\">utils/math</code> 모듈도 아무 문제 없이 컴파일되지만, <code class=\"language-text\">true</code>인 경우에는 해당 모듈을 찾을 수 없다는 에러가 발생하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">src/index.ts:1:21 - error TS2307: Cannot find module './utils/math' or its corresponding type declarations.\n\n1 import { add } from './utils/math';</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>즉, 반드시 명시적으로 <code class=\"language-text\">include</code>나 <code class=\"language-text\">files</code> 필드에 선언된 모듈들만 컴파일을 하고 있는 것이다. 이와 마찬가지 이유로 <code class=\"language-text\">/// &lt;reference path=\"...\" /></code> 같이 디렉티브를 사용하여 불러온 모듈들도 해당 필드에 포함되어 있지 않기 때문에 컴파일 대상에서 제외된다.</p>\n<p><code class=\"language-text\">noResolve</code> 옵션은 개발자가 타입스크립트의 컴파일 대상을 명시적으로 선언하게 만듦으로써 수월한 모듈 관리를 도와주기는 하지만, 디렉티브를 사용하여 불러온 모듈까지 컴파일 대상에서 제외한다는 특성 때문에 디렉티브를 사용하여 타입 정의 파일을 불러오는 NextJS 같은 라이브러리를 사용하고 있는 상황에서는 그냥 기본 값인 <code class=\"language-text\">false</code>로 사용하는 것이 정신 건강에 이롭다.</p>\n<h2 id=\"resolvejsonmodule\" style=\"position:relative;\">resolveJsonModule<a href=\"#resolvejsonmodule\" aria-label=\"resolvejsonmodule permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td><code class=\"language-text\">*.json</code> 확장자로 끝나는 모듈의 import를 허용하지 않는다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">*.json</code> 확장자로 끝나는 모듈의 import를 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">resolveJsonModule</code> 옵션은 이름 그대로 JSON 파일로 구현된 모듈을 끌어다 쓸 수 있게 허용할 것인지에 대한 여부를 결정한다.</p>\n<p>만약 해당 옵션이 <code class=\"language-text\">false</code>라면, JSON 모듈을 가져왔을 때 타입스크립트는 해당 모듈을 찾을 수 없다는 에러를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// me.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"evan-moon\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Frontend Engineer\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> me <span class=\"token keyword\">from</span> <span class=\"token string\">'./me.json'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Cannot find module './settings.json'. Consider using '--resolveJsonModule' to import module with '.json' extension.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">resolveJsonModule</code> 옵션을 켜게 되면 일반적인 타입스크립트 모듈과 동일하게 JSON 모듈을 가져와서 사용할 수 있게 되고, 심지어 해당 파일을 분석하여 자동으로 타입 추론까지 해준다.</p>\n<p>하지만 이 경우 당연히 Enum이나 Union Type을 사용한 추론은 불가능하기 때문에 모든 값들은 <code class=\"language-text\">string</code>이나 <code class=\"language-text\">number</code> 등의 원시 타입으로 추론된다. 그러니 만약 강력한 타입 선언을 강제해야하는 경우라면 JSON 모듈이 아니라 타입스크립트 모듈을 사용하여 모델을 선언해주는 것이 좋다.</p>\n<h2 id=\"rootdir\" style=\"position:relative;\">rootDir<a href=\"#rootdir\" aria-label=\"rootdir permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">rootDir</code> 옵션은 모듈을 컴파일 한 이후 어떤 디렉토리를 루트로 하여 현재 구조를 유지할 것 인지를 결정한다.</p>\n<p>기본적으로 타입스크립트는 컴파일을 수행할 때 입력된 디렉토리의 구조를 그대로 유지하며 컴파일된 파일들을 출력하는데, 이때 <code class=\"language-text\">rootDir</code> 옵션을 사용하여 어떤 디렉토리를 루트로 설정할 것인지를 정하는 것이다.</p>\n<p>만약 이 옵션을 따로 설정하지 않는다면, 타입스크립트는 자동으로 해당 모듈의 엔트리 포인트가 되는 파일을 찾고, 해당 파일이 위치한 디렉토리를 루트로 설정하여 출력 디렉토리 구조를 설정하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n├── src\n│   ├── index.ts\n│   └── utils\n│       └── math.ts\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위와 같은 구조의 프로젝트가 있다고 생각해보자. <code class=\"language-text\">rootDir</code> 옵션이 주어지지 않았을 때의 타입스크립트는 이 어플리케이션의 엔트리 포인트인 <code class=\"language-text\">src/index.ts</code>를 찾아내고, 이 파일의 위치인 <code class=\"language-text\">src</code>를 루트로 인식하게 된다.</p>\n<p>그렇기 때문에 출력 디렉토리는 루트를 <code class=\"language-text\">src</code> 디렉토리로 하는 다음과 같은 구조를 가지게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">dist\n├── index.ts\n└── utils\n    └── math.ts</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러나 만약 이 상태에서 <code class=\"language-text\">rootDir</code> 옵션을 현재 경로를 의미하는 <code class=\"language-text\">.</code>로 설정하게 되면, 출력 디렉토리의 구조가 변경되게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rootDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\".\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">dist\n└── src\n    ├── index.ts\n    └── utils\n        └── math.ts</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>필자가 루트 디렉토리를 현재 <code class=\"language-text\">tsconfig.json</code>이 위치한 <code class=\"language-text\">myProject</code> 디렉토리로 변경했기 때문에, 출력 디렉토리인 <code class=\"language-text\">dist</code>는 기존 프로젝트 디렉토리와 완전히 동일한 구조를 가지게 되고, 이로 인해 디렉토리 내부에 <code class=\"language-text\">src</code> 디렉토리까지 함께 생성된 형태로 출력되게 된다.</p>\n<p>어찌보면 굉장히 간단한 동작이지만, 이 옵션을 사용할 때는 한 가지 주의해야 할 점이 있다. 바로 <code class=\"language-text\">rootDir</code> 옵션은 컴파일 대상에 아무런 영향을 끼치지 않는다는 것이다.</p>\n<p>즉, 만약 <code class=\"language-text\">rootDir</code> 옵션을 사용한다면 모든 컴파일 대상 파일은 해당 디렉토리 밑에 위치해야 한다는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n├── src\n│   ├── index.ts\n│   └── utils\n│       └── math.ts\n├── foo.ts\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rootDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 설정을 살펴보면 루트 디렉토리로 <code class=\"language-text\">src</code> 디렉토리를 설정하고, <code class=\"language-text\">include</code> 옵션을 사용하여 모든 파일을 컴파일 할 것이라고 설정해주었다.</p>\n<p>문제는 이 “모든 파일”의 대상 중 하나인 <code class=\"language-text\">foo.ts</code>는 <code class=\"language-text\">src</code> 디렉토리에 들어가 있지 않은 녀석이라는 것이다. 즉, 설정에 모순이 발생한 것이다.</p>\n<p>이렇게 <code class=\"language-text\">rootDir</code> 옵션으로 루트 디렉토리를 정했다고 해도, 타입스크립트는 자동으로 <code class=\"language-text\">foo.ts</code>를 컴파일 대상에 포함시키지 않고, 이런 에러를 발생시킨다.</p>\n<blockquote>\n<p>File ‘/Users/john/myProject/foo.ts’ is not under ‘rootDir’ ‘/Users/john/myProejct/src’. <strong>‘rootDir’ is expected to contain all source files.</strong></p>\n</blockquote>\n<p>이 에러를 보면 알 수 있듯이, <code class=\"language-text\">rootDir</code> 옵션을 사용하여 루트 디렉토리를 설정했다면 반드시 모든 소스 파일들은 루트 디렉토리 내부에 들어있어야 하며, 만약 <code class=\"language-text\">include</code> 등을 사용하여 루트 디렉토리 밖에 있는 파일을 컴파일 대상으로 지정했다고 해도 자동으로 컴파일 해주거나 하지 않는다.</p>\n<h2 id=\"rootdirs\" style=\"position:relative;\">rootDirs<a href=\"#rootdirs\" aria-label=\"rootdirs permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">rootDirs</code> 옵션은 일종의 가상 루트를 만들어 줄 수 있는 옵션이다. 이 옵션은 말로 설명하기 보다 코드로 보는 것이 훨씬 이해가 편하니, 바로 예시를 보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n├── core\n│   └── index.ts\n├── utils\n│   └── math.ts\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 이런 구조의 어플리케이션이 있다고 생각해보자. 만약 <code class=\"language-text\">core/index.ts</code>에서 <code class=\"language-text\">utils/math.ts</code> 모듈을 가져오고 싶다면 어떻게 해야할까?</p>\n<p>만약 <code class=\"language-text\">paths</code> 옵션을 사용하지 않았다면, 상대 경로를 사용하여 한 단계 상위 디렉토리로 거슬러 올라가서 해당 모듈에 접근할 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// core/index.ts</span>\n<span class=\"token keyword\">import</span> math <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">rootDirs</code> 옵션은 이런 상황일 때 가상의 루트를 만들어서, <code class=\"language-text\">core</code> 디렉토리와 <code class=\"language-text\">utils</code> 디렉토리 내부에 있는 모듈들이 마치 “하나의 디렉토리” 내부에 있는 것처럼 사용할 수 있도록 만들어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rootDirs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"core\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utils\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// core/index.ts</span>\n<span class=\"token keyword\">import</span> math <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 마치 같은 디렉토리에 있는 것처럼 사용한다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>만약 <code class=\"language-text\">core/components/Foo/index.tsx</code>와 같이 디렉토리 깊이가 깊다고 해도 <code class=\"language-text\">rootDirs</code>에 해당 디렉토리를 등록하게 되면, <code class=\"language-text\">rootDirs</code>에 등록된 디렉토리 끼리는 항상 같은 디렉토리에 있는 것처럼 모듈을 불러올 수 있다.</p>\n<p>그리고 <code class=\"language-text\">rootDirs</code> 옵션은 일종의 “가상 디렉토리”를 만들어서 이런 기능을 구현하는 방식을 사용하기 때문에, 컴파일한 이후의 출력 디렉토리 구조에는 전혀 영향을 주지 않는다. 말 그대로 가상이다.</p>\n<p>이처럼 <code class=\"language-text\">rootDirs</code> 옵션은 디렉토리의 깊이가 깊은 상황에도 간단하게 상대 경로를 사용할 수 있도록 만들어 주기 때문에 어찌 보면 편하다고 생각할 수도 있다.</p>\n<p>하지만 이런 설정을 사용하게 되면 실제 디렉토리 구조와 코드에서 모듈에 접근하기 위해 사용하는 경로 간의 괴리가 발생하게 됨으로써 직관적인 이해가 어려운 코드가 될 수도 있으며, 심지어 이 괴리의 원인을 확인하기 위해서는 <code class=\"language-text\">tsconfig.json</code>을 까봐야 하는 슬픈 상황이 발생할 수도 있다는 점을 꼭 염두에 두도록 하자.</p>\n<h2 id=\"typeroots\" style=\"position:relative;\">typeRoots<a href=\"#typeroots\" aria-label=\"typeroots permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>기본적으로 타입스크립트는 <code class=\"language-text\">@types</code> 패키지 디렉토리 밑에 있는 파일들을 자동으로 컴파일 대상으로 포함한다. 이때 앞서 설명했던 <code class=\"language-text\">resolve</code> 전략에 따라 <code class=\"language-text\">./node_modules/@types</code>, <code class=\"language-text\">../node_modules/@types</code> 등 디렉토리를 거슬러 올라가면서 <code class=\"language-text\">node_modules</code> 내부에 있는 <code class=\"language-text\">@types</code> 디렉토리를 탐색하는 것이다.</p>\n<p>하지만 <code class=\"language-text\">typeRoots</code> 옵션을 사용하면 타입스크립트가 찾아 헤매는 타입 파일들이 특정한 곳에 있다고 지정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"typeRoots\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./typings\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./node_modules/@types\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">typeRoots</code> 옵션에 적용하는 경로는 <code class=\"language-text\">tsconfig.json</code> 기준의 상대 경로이다. 또한 위 예시에서는 <code class=\"language-text\">./node_modules/@types</code> 디렉토리를 옵션에 포함시켰지만, 사실 없어도 아무 문제 없다.</p>\n<p>이렇게 <code class=\"language-text\">typeRoots</code>를 지정한 경우, 타입스크립트는 기존의 모듈 탐색 전략을 버리고 배열에 들어있는 경로에서만 타입 선언 모듈들을 찾기 때문에, 계속 부모 디렉토리로 거슬러 올라가며 타입 선언 모듈을 찾는 기존의 모듈 탐색 전략보다 효율적인 탐색 전략을 가져갈 수 있다.</p>\n<h2 id=\"types\" style=\"position:relative;\">types<a href=\"#types\" aria-label=\"types permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>앞서 설명했듯이 타입스크립트는 <code class=\"language-text\">@types</code> 패키지 디렉토리 밑에 있는 모든 파일들을 자동으로 컴파일 대상으로 포함하고, 이 과정에서 타입 선언을 전역 스코프에 뿌려버린다.</p>\n<p>이 타입 선언이 전역 스코프에 존재하기 때문에 우리가 <code class=\"language-text\">@types/node</code> 같은 모듈 내부에 포함된 <code class=\"language-text\">process</code> 객체 같은 녀석들을 별도의 타입 선언 없이도 사용할 수 있는 것이다.</p>\n<p>하지만 <code class=\"language-text\">types</code> 옵션을 사용하면, 특정한 패키지들의 타입만 전역 스코프에 포함시킬 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// @types/node, @types/jest, @types/express만 가져온다</span>\n    <span class=\"token property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"jest\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"express\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위와 같이 설정할 경우, <code class=\"language-text\">node</code>, <code class=\"language-text\">jest</code>, <code class=\"language-text\">express</code> 패키지의 타입은 전역 스코프에 포함되어 <code class=\"language-text\">import express from 'express';</code>라는 구문만 적어도 자동으로 타입 평가가 진행되지만, 여기에 포함되지 않은 다른 라이브러리들은 직접 타입 선언 모듈을 가져와야 한다.</p>\n<p>여기서 주의해야할 점은 <code class=\"language-text\">types</code> 옵션의 대상 자체가 애초에 <code class=\"language-text\">@types</code> 패키지 디렉토리 내부에 존재하는 타입 선언 모듈들이라는 것이다.</p>\n<p>예를 들어 날짜 관련 라이브러리인 <code class=\"language-text\">moment</code>는 <code class=\"language-text\">@types/moment</code> 같은 타입 패키지를 추가적으로 설치하지 않고, 자체적으로 내장하고 있는 타입 선언 모듈을 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"moment\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./moment.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jsnext:main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/moment.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typings\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./moment.d.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// 자체적으로 타입 선언 파일을 포함하고 있다</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이런 경우는 <code class=\"language-text\">import moment from 'moment'</code> 구문으로 이 라이브러리를 가져옴과 동시에 <code class=\"language-text\">moment.d.ts</code>도 자동으로 컴파일 대상으로 포함되므로, 당연히 제대로 타입을 사용할 수 있다.</p>\n<p>즉, <code class=\"language-text\">types</code> 옵션의 대상은 어디까지나 <code class=\"language-text\">@types/*</code> 패키지 내부에 포함된 타입 선언 모듈이고, 타입스크립트가 해당 타입 선언 모듈을 전역 공간에 뿌리는 경우에만 해당된다는 점을 헷갈리지 말자.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이렇게 <code class=\"language-text\">tsconfig</code> 3번째 시리즈인 <code class=\"language-text\">Modules</code> 편을 마무리 했다. 모듈과 관련된 옵션들의 개수 자체는 많지 않지만, 아무래도 컴파일 과정에서 어떤 모듈 시스템을 사용할 지, 어떤 모듈 탐색 전략을 사용할 지 등을 다루는 옵션이다보니 부연 설명이 길어진 것 같다.</p>\n<p>그리고 여기까지 적고 나서 새삼스럽게 드는 생각은…</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2f03c5fd1831cbdc146edbf1130bd061/00d43/tsconfig.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 94.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVR42oVTZ1PbQBTU//8vhJrQMcaUDKGXTBKKcbflpi5Zstnsni1iEmbyYefda/v2nk5WEIXo9HuwB320e10EoxhjABlekb5O3tkc8j/EOIMVPj/BvblG+vhgkPz8geD7Pfy7WwT3d/9Y7/YGIfOqzebx8AtprQorPj9DvLmBeHcHCZEV95HuFz6EyRX2kNJmf2NvF+nFOSzv9BT9tVUMtzYRqvjoEEnpwCA+KGJ0WMKoVJr6xSJS+gnj8rPjoz9gPOVNreDsGwKSqWjy9QTR/h5aS0toL09hryyjM4O9sgJ7dYX5RWMDqvJ5K9mRVF5fwUquLzGhKk0ZExFVNhYW0Fz8ZBpFZOzylFTxNn0NU6z3eQ1d3tBZ/4KI4qz46hLZnPwRz5rq7WwbGxYK8GdKTHymKOBgd3sLDuGqljYyOzw5hk92Q6rdsHDIqQPtldbb2IDLvLe5zvO6UTJg3OXZ195JFnFATMLs8oKEzQaSVhOp3TGI6Q/4lIblZzgvZbiVl3foPz0a65TLJh+xPqjXEBIZ37Ll+R6SdIQ0S5FNxvDDAFW+p0argVqjblBlcYXQuVKvokxCod6c1lRYL/iBz4/CP2VCsjFJs1GCgAOaLBLsThv9ro0h/ySH03u8wYB/k9BlTnG73TK5iGTislxniAETQwZTEsYM6uwMB/A9FyELVSN4rmP8sW4jAXNQr2CpSM2yCiRxZFTOQzlZkWmg6kZJ/A5vhCKzeRU1aFLEHUqhVOfKVKNB883/VZhfWYStZhNtfvkO9yObQ369VjO7zVehXlkNNITak0gFkSlhlM0G5evId5j7Dn2JEJTTAKm38sY+v5ysSKWgx6/b5So6PA/600b5dqdj1pHndQ58n33hlFCBuh4mJ7zyHcqKUMV5Q5fN5glxqIhyZVqBrG6lj2UIpUpFUqblBiSsVSvcVdW8xRYfb6/bfXtGOfLnJpvHRPwbAA92vl9EkpcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tsconfig\" title=\"\" src=\"/static/2f03c5fd1831cbdc146edbf1130bd061/6af66/tsconfig.png\" srcset=\"/static/2f03c5fd1831cbdc146edbf1130bd061/69538/tsconfig.png 160w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/72799/tsconfig.png 320w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/6af66/tsconfig.png 640w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/d9199/tsconfig.png 960w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/00d43/tsconfig.png 1000w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>어...? 아직도 여기까지밖에 못 썼다고...?</small>\n</center>\n<p>사실 <code class=\"language-text\">tsconfig</code> 옵션이 많은 줄은 이미 알고 있었지만 이렇게까지 힘들 줄은 상상도 못 했다. <small><del>(글 쓰다가 손목이 아픈 적은 또 처음…)</del></small></p>\n<p>물론 공식 문서를 번역하는 느낌으로 쭉쭉 써내려간다면 금방 끝내겠지만, 애초에 이 포스팅 시리즈를 시작한 것은 그 정도의 정보를 원해서가 아니라 <code class=\"language-text\">tsconfig</code>를 완전 분석해보자는 목적이었으므로 한번 달려보도록 하겠다.</p>\n<p><a href=\"/2021/10/30/tsconfig-compiler-options-modules-emit/\">다음 포스팅</a>에서는 타입스크립트가 출력 파일을 생성할 때의 동작들을 다루는 방법에 대한 옵션들에 대해서 이야기해볼 예정이다.</p>\n<p>이상으로 [tsconfig의 모든 것] Compiler options / Modules 포스팅을 마친다.</p>","fields":{"slug":"20210822-tsconfig-compiler-options-modules","path":"/2021/08/22/tsconfig-compiler-options-modules/","lang":"ko"},"frontmatter":{"title":"[tsconfig의 모든 것] Compiler options / Modules","subTitle":"모듈 해석부터 경로 매핑까지, import 동작을 결정하는 핵심 옵션","date":"Aug 22, 2021","categories":["프로그래밍","튜토리얼","자바스크립트"],"tags":["TypeScript","타입스크립트","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/d803c/thumbnail.png","srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/d803c/thumbnail.png 320w,\n/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/fc5c5/thumbnail.webp 320w,\n/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/01fb2/thumbnail.png","srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"15882f84-a7e3-57de-9c8b-d0e275040f44","tableOfContents":"<ul>\n<li>\n<p><a href=\"#unreachable-unused\">Unreachable, Unused</a></p>\n<ul>\n<li><a href=\"#allowunreachablecode\">allowUnreachableCode</a></li>\n<li><a href=\"#allowunusedlabels\">allowUnusedLabels</a></li>\n<li><a href=\"#nounusedlocals\">noUnusedLocals</a></li>\n<li><a href=\"#nounusedparameters\">noUnusedParameters</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%95%94%EB%AC%B5%EC%A0%81%EC%9D%B8-%EC%84%A0%EC%96%B8-%EA%B8%88%EC%A7%80\">암묵적인 선언 금지</a></p>\n<ul>\n<li><a href=\"#noimplicitany\">noImplicitAny</a></li>\n<li><a href=\"#noimplicitoverride\">noImplicitOverride</a></li>\n<li><a href=\"#noimplicitreturns\">noImplicitReturns</a></li>\n<li><a href=\"#noimplicitthis\">noImplicitThis</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#strict\">Strict</a></p>\n<ul>\n<li><a href=\"#alwaysstrict\">alwaysStrict</a></li>\n<li><a href=\"#strictbindcallapply\">strictBindCallApply</a></li>\n<li><a href=\"#strictfunctiontypes\">strictFunctionTypes</a></li>\n<li><a href=\"#strictnullchecks\">strictNullChecks</a></li>\n<li><a href=\"#strictpropertyinitialization\">strictPropertyInitialization</a></li>\n<li><a href=\"#useunknownincatchvariables\">useUnknownInCatchVariables</a></li>\n<li><a href=\"#strict-1\">strict</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#etc\">etc</a></p>\n<ul>\n<li><a href=\"#exactoptionalpropertytypes\">exactOptionalPropertyTypes</a></li>\n<li><a href=\"#nofallthroughcasesinswitch\">noFallthroughCasesInSwitch</a></li>\n<li><a href=\"#nopropertyaccessfromindexsignature\">noPropertyAccessFromIndexSignature</a></li>\n<li><a href=\"#nouncheckedindexedaccess\">noUncheckedIndexedAccess</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 의 컴파일 옵션의 타입 체킹 옵션들에 대한 이야기를 해보려고 한다. 사실 타입스크립트를 사용하는 이유는 대부분 자바스크립트가 제공하지 않는 강력한 타입 시스템이 가져다 주는 안정성 때문이므로 수없이 많은 컴파일 옵션들 중에서도 타입 체크에 대한 옵션들은 타입스크립트의 가장 핵심 기능을 관리하는 옵션들이라고 할 수 있다.","html":"<p>이번 포스팅에서는 <code class=\"language-text\">tsconfig</code>의 컴파일 옵션의 타입 체킹 옵션들에 대한 이야기를 해보려고 한다.</p>\n<p>사실 타입스크립트를 사용하는 이유는 대부분 자바스크립트가 제공하지 않는 강력한 타입 시스템이 가져다 주는 안정성 때문이므로 수없이 많은 컴파일 옵션들 중에서도 타입 체크에 대한 옵션들은 타입스크립트의 가장 핵심 기능을 관리하는 옵션들이라고 할 수 있다.</p>\n<!-- more -->\n<p>그만큼 타입스크립트는 “이런 코드는 금지야”라는 느낌의 단순한 옵션부터 타입 시스템의 원리를 알고 있어야 동작을 제대로 이해할 수 있는 옵션까지, 굉장히 다양한 옵션들을 제공하고 있다.</p>\n<p>대부분의 타입체크 컴파일 옵션들은 모두 타입스크립트의 타입 안정성을 더욱 단단하게 만들어 줄 수 있는 옵션들이기 때문에, 타입스크립트 팀에서도 가급적 모든 옵션을 켜는 것을 추천하고 있다.</p>\n<p>하지만 타입 안정성이 단단해진다는 것을 반대로 말하면, 평소라면 그냥 <code class=\"language-text\">any</code>타입을 타고 어물쩍 넘어갈 수 있었던 것들도 허용되지 않는다는 의미이다.</p>\n<p>즉, 타입스크립트를 점진적으로 도입하고 있는 어플리케이션에서는 타입 에러만 고치다가 많은 시간을 허비할 수도 있기 때문에, 현재 내가 속해있는 조직의 비즈니스 상황까지 잘 고려하여 옵션을 켜는 것을 추천한다.</p>\n<p>그럼 이제 타입스크립트의 타입 체킹 컴파일 옵션들이 실제로 내 코드에 어떤 영향을 끼치는 지에 대해서 한번 자세히 알아보도록 하자.</p>\n<h2 id=\"unreachable-unused\" style=\"position:relative;\">Unreachable, Unused<a href=\"#unreachable-unused\" aria-label=\"unreachable unused permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">Unreachable, Unused</code> 라는 이름으로 시작하는 옵션들은 소스코드에서 사용하지 않거나, 절대로 실행될 수 없는 코드를 어떻게 관리할 것인지에 대한 옵션들이다.</p>\n<h3 id=\"allowunreachablecode\" style=\"position:relative;\">allowUnreachableCode<a href=\"#allowunreachablecode\" aria-label=\"allowunreachablecode permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">undefined</code> (default)</td>\n<td>도달 할 수 없는 코드를 만나면 경고를 띄운다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>도달 할 수 없는 코드를 만나도 무시한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>도달 할 수 없는 코드를 만나면 에러를 발생시킨다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">allowUnreachableCode</code> 옵션은 컴파일러가 도달 할 수 없는 코드를 만났을 때 어떻게 반응할 것인지에 대한 설정을 의미한다. 도달할 수 없는 코드란, 다시 말해 실행될 수 없는 코드라는 뜻이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Unreachable code detected.ts(7027)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">foo</code> 함수는 <code class=\"language-text\">if-else</code> 문에서 어떤 조건에 걸리던 무조건 값을 반환하고 함수를 종료시키는 동작을 가지고 있기 때문에, 함수 맨 마지막 라인의 <code class=\"language-text\">return true</code> 구문은 절대로 실행될 수가 없다. 바로 이 부분이 도달 할 수 없는 코드, Unreachable 코드인 것이다.</p>\n<p>이 옵션은 기본 값으로만 설정해도 저런 코드를 무시하는 것이 아니라 경고를 띄우도록 되어있기 때문에 딱히 해당 옵션을 켜지 않아도 어느 정도는 Unreachable 코드가 발생하는 상황을 방어할 수는 있다.</p>\n<p>그래도 저런 의미없는 구문이 소스코드에 남아있다면 개발자가 어플리케이션의 흐름을 잘못 이해하는 경우가 발생할 수도 있고, 저런 코드는 어차피 죽은 라인이라 그냥 지워버려도 어플리케이션에 어떠한 영향을 주지 않기 때문에, 되도록이면 옵션을 켜고 컴파일 타임 때 에러가 나도록 설정하는 것을 추천한다. <small><del>(물론 알 수 없는 이유로 저런 코드를 지웠는데 버그가 나는 경우도 간혹 있…)</del></small></p>\n<h3 id=\"allowunusedlabels\" style=\"position:relative;\">allowUnusedLabels<a href=\"#allowunusedlabels\" aria-label=\"allowunusedlabels permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">undefined</code> (default)</td>\n<td>사용하지 않는 라벨을 만나면 경고를 띄운다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>사용하지 않는 라벨을 만나도 무시한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>사용하지 않는 라벨을 만나면 에러를 발생시킨다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">allowUnusedLabels</code> 옵션은 컴파일러가 코드 내에서 사용하지 않는 라벨을 만났을 때 어떻게 반응할 것인지에 대한 설정을 의미한다.</p>\n<p>프로그래밍을 시작한 지 오래 되지 않은 분들은 이 “라벨”이라는 것이 익숙하지 않으실 수도 있는데, 사실 이 라벨이라는 기능은 타입스크립트에만 있는 것은 아니고 다른 언어들에도 있는 기능이다.</p>\n<p>필자는 6년 전 쯤 학교에서 C를 처음 배울 때 라벨을 사용해보기는 했는데, 그 이후로는 딱히 사용해본 적이 없다.</p>\n<p>라벨은 특정 문(statements)을 대상으로 하기 때문에 <code class=\"language-text\">if</code> 문, <code class=\"language-text\">for</code> 문 등에 이름을 붙히는 것이 가능해지며, 이렇게 이름을 붙힌 문의 이름을 통해 해당 문으로 접근하여 <code class=\"language-text\">break</code>나 <code class=\"language-text\">continute</code> 등의 명령으로 제어할 수 있게 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> i<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">;</span>\n\nouterLoop<span class=\"token operator\">:</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  innerLoop<span class=\"token operator\">:</span> <span class=\"token comment\">// Unused Label</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> j <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// i도 1이고 j도 1이면 바깥 루프를 건너뛴다.</span>\n      <span class=\"token keyword\">continue</span> outerLoop<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">i=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, j=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>j<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">번 루프 끝</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">i=0, j=0\ni=0, j=1\ni=0, j=2\n1번 루프 끝\ni=1, j=0\ni=2, j=0\ni=2, j=1\ni=2, j=2\n3번 루프 끝</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시를 보면 안 쪽에 위치한 <code class=\"language-text\">for</code> 문에서 <code class=\"language-text\">i</code>와 <code class=\"language-text\">j</code>가 둘 다 <code class=\"language-text\">1</code>인 상황을 만나면 바깥 쪽 <code class=\"language-text\">for</code> 문을 건너뛰도록 동작하고 있다. 그래서 출력을 확인해보면 <code class=\"language-text\">i=1, j=0</code>이 찍힌 이후 “n번 루프 끝”이라는 로그도 출력되지 않고 바로 세번째 순회를 실행하는 모습을 확인할 수 있다.</p>\n<p>이 때, 바깥 쪽 <code class=\"language-text\">for</code> 문의 라벨인 <code class=\"language-text\">outerLoop</code>는 안 쪽 <code class=\"language-text\">for</code> 문에서 사용된 것을 볼 수 있지만, 안 쪽 <code class=\"language-text\">for</code> 문의 라벨인 <code class=\"language-text\">innerLoop</code>는 어디서도 사용되지 않았다. 이것이 바로 Unused Label인 것이고, 우리는 <code class=\"language-text\">allowUnusedLabels</code> 옵션을 통해 타입스크립트 컴파일러가 이러한 사용되지 않은 라벨을 만났을 때 어떻게 반응할 지를 설정할 수 있는 것이다.</p>\n<p>하지만 라벨은 대부분 위에서 밑으로 실행되는 프로그램의 실행 흐름을 역행하게 만드는 주범이기도 하고, 함수처럼 명확한 스코프를 가지고 관심사가 분리된 녀석도 아니기 때문에, 가독성을 해쳐 개발자가 프로그램의 흐름을 읽기 어렵게 만드는 주범이다. <small>(애초에 라벨 + goto 문은 어셈블리 쓰던 시절에 나온 개념이라 C에서도 안티패턴이라고 싫어한다. )</small></p>\n<p>그러니 이 옵션을 켤지 말지를 고민하는 것이 아니라, 아예 라벨 자체를 사용하지 않는 것을 추천한다.</p>\n<h3 id=\"nounusedlocals\" style=\"position:relative;\">noUnusedLocals<a href=\"#nounusedlocals\" aria-label=\"nounusedlocals permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>사용하지 않는 로컬 변수가 있다면 에러를 발생시킨다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>사용하지 않는 로컬 변수가 있어도 무시한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noUnusedLocals</code> 옵션은 함수 내부에 사용하지 않는 지역 변수가 존재할 경우 어떻게 처리할 지에 대한 옵션이다. 만약 이 옵션이 <code class=\"language-text\">true</code>일 경우, 컴파일러는 사용하지 않는 지역 변수에 대해 에러를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 'bar' is declared but its value is never read.ts(6133)</span>\n  <span class=\"token keyword\">const</span> bar <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">noUnusedLocals</code> 옵션은 옵션 이름에 충실하게 함수 스코프가 아닌, 전역 스코프나 모듈 스코프에 있는 변수는 사용하지 않더라도 어떠한 에러나 경고도 발생시키지 않으니, 이 점을 유의하도록 하자.</p>\n<h3 id=\"nounusedparameters\" style=\"position:relative;\">noUnusedParameters<a href=\"#nounusedparameters\" aria-label=\"nounusedparameters permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>사용하지 않는 인자가 있다면 경고를 발생시킨다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>사용하지 않는 인자가 있어도 무시한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noUnusedParameters</code> 옵션은 함수의 인자 중 사용하지 않는 것이 있을 경우 어떻게 처리할 지에 대한 옵션이다. 만약 이 옵션이 <code class=\"language-text\">true</code>일 경우, 컴파일러는 사용하지 않는 인자에 대해 에러를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 'name' is declared but its value is never read.ts(6133)</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"암묵적인-선언-금지\" style=\"position:relative;\">암묵적인 선언 금지<a href=\"#%EC%95%94%EB%AC%B5%EC%A0%81%EC%9D%B8-%EC%84%A0%EC%96%B8-%EA%B8%88%EC%A7%80\" aria-label=\"암묵적인 선언 금지 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>타입스크립트의 타입 체킹 컴파일 옵션들을 보면 <code class=\"language-text\">noImplicit</code>라는 이름으로 시작하는 많은데, 이 의미는 “암묵적인 무언가”를 금지한다는 말이다.</p>\n<p>암묵적이라는 말은 결국 어떤 정보도 제공하지 않은채 몰래 뭔가를 수행한다는 의미이기 때문에, 개발자가 예측하지 못한 곳에서 문제가 발생할 가능성이 높아지는 것이다.</p>\n<p>그러니 되도록 <code class=\"language-text\">noImplicit</code>로 시작하는 옵션들을 모두 켜서, 타입스크립트 컴파일 타임에 나 몰래 뭔가를 알아서 평가해버리는 상황을 최대한 방어하도록 하자.</p>\n<h3 id=\"noimplicitany\" style=\"position:relative;\">noImplicitAny<a href=\"#noimplicitany\" aria-label=\"noimplicitany permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>타입 추론이 불가능하고 타입 선언도 되지 않은 값을 암묵적으로 <code class=\"language-text\">any</code> 타입으로 사용하는 것을 금지한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>타입 추론이 불가능하고 타입 선언도 되지 않은 값을 암묵적으로 <code class=\"language-text\">any</code> 타입으로 사용하는 것을 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p>타입스크립트는 딱히 개발자가 타입을 명시적으로 선언하지 않았고, 추론도 불가능한 값에 대해서 <code class=\"language-text\">any</code> 타입으로 평가하는데, <code class=\"language-text\">noImplicitAny</code> 옵션은 이렇게 <code class=\"language-text\">any</code> 타입으로 평가된 값이 존재할 때 에러를 발생시킬 지 여부를 결정하는 옵션이다.</p>\n<p>물론 이렇게 <code class=\"language-text\">any</code>타입으로 평가된 값이 존재한다면 타입 안정성에 좋지 않은 영향을 끼치기 때문에, 타입스크립트는 이 옵션을 켜지 않아도 <code class=\"language-text\">any</code> 타입에 대해서 경고를 띄워주기는 한다.</p>\n<p>하지만 단순 경고는 컴파일 타임 때 그냥 무시하고 넘어가게 되기 때문에, <code class=\"language-text\">noImplicitAny</code> 옵션을 사용하여 이런 <code class=\"language-text\">any</code> 타입에 대해서 아예 컴파일 타임 때 에러를 발생시키고 컴파일을 막아버리는 편이 훨씬 안전하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Parameter 's' implicitly has an 'any' type.ts(7006)</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">subtr</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"noimplicitoverride\" style=\"position:relative;\">noImplicitOverride<a href=\"#noimplicitoverride\" aria-label=\"noimplicitoverride permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>서브 클래스의 암묵적인 오버라이딩을 금지한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>서브 클래스의 암묵적인 오버라이딩을 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noImplicitOverride</code> 옵션은 클래스를 상속받은 서브 클래스가 슈퍼 클래스의 멤버 변수나 메소드를 암묵적으로 오버라이딩하는 것을 허용할 것인지에 대한 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Album</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SharedAlbum</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Album</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// This member must have an 'override' modifier because it overrides a member in the base class 'Album'.ts(4114)</span>\n  <span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// overriding 키워드를 사용한 명시적 오버라이딩은 허용</span>\n  override <span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 이런 암묵적인 오버라이딩이 발생했을 때 컴파일러가 아무런 경고 또는 에러를 띄워주지 않는다면, 개발자가 인지하지 못한 채 슈퍼 클래스의 기능을 오버라이딩 해버리는 상황이 발생할 수 있다. <small>(<del>슈퍼 클래스의 모든 멤버 변수와 메소드 이름을 외우고 있는 것도 아니니 말이다</del>)</small></p>\n<p>이 경우 개발자가 의도치 않게 슈퍼 클래스의 기능을 훼손하여 예상하지 못한 에러가 발생할 수 있으므로, 가급적이면 암묵적인 오버라이딩을 금지하는 <code class=\"language-text\">noImplicitOverride</code>을 켜고 개발하는 것을 추천한다.</p>\n<h3 id=\"noimplicitreturns\" style=\"position:relative;\">noImplicitReturns<a href=\"#noimplicitreturns\" aria-label=\"noimplicitreturns permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>함수가 암묵적으로 <code class=\"language-text\">undefined</code>를 반환하는 상황을 금지한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>함수가 암묵적으로 <code class=\"language-text\">undefined</code>를 반환하는 상황을 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noImplicitReturns</code> 옵션은 함수가 암묵적으로 <code class=\"language-text\">undefined</code>를 반환하는 상황을 어떻게 처리할 것인지에 대한 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Not all code paths return a value.ts(7030)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span>v<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시의 <code class=\"language-text\">foo</code> 함수는 자신이 받은 인자가 <code class=\"language-text\">1</code>일 경우에는 <code class=\"language-text\">true</code>를 반환하고 그 외에는 아무것도 반환하지 않기 때문에 타입스크립트는 이 함수가 <code class=\"language-text\">boolean</code> 타입의 값을 반환한다고 추론한다.</p>\n<p>하지만 실제로는 <code class=\"language-text\">foo(2)</code>와 같이 조건에 맞지 않는 인자와 함께 함수를 호출하게 되면 아무것도 명시적으로 반환하지 않고 함수가 종료되면서, 암묵적으로 <code class=\"language-text\">undefined</code>가 반환되게 된다. 이 동작은 브라우저의 개발자 도구에서 아무 함수가 선언한다음 호출해보면 바로 확인해볼 수 있으니 한번 해보도록 하자.</p>\n<p>여기서 문제는 타입스크립트가 추론한 함수의 반환 타입은 분명 <code class=\"language-text\">boolean</code> 타입이지만, 실제로는 암묵적인 반환 타입인 <code class=\"language-text\">undefined</code>가 합쳐져 최종적으로 <code class=\"language-text\">boolean | undefined</code>가 반환될 수 있다는 것이다. 결국 이 모순으로 인해 런타임 때 예상하지 못한 에러가 발생할 수 있는 빌미를 제공하게 된다.</p>\n<p>그래서 <code class=\"language-text\">noImplicitReturns</code> 옵션은 이렇게 함수가 암묵적으로 <code class=\"language-text\">undefined</code>를 반환하는 상황일 경우, 함수가 값을 제대로 반환하고 있지 않다는 경고를 보여주는 역할을 한다. 해당 옵션을 켜는 경우, 위 예시의 <code class=\"language-text\">foo</code> 함수는 명시적으로 <code class=\"language-text\">undefined</code>를 반환하는 형태로 변경되어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span>v<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"noimplicitthis\" style=\"position:relative;\">noImplicitThis<a href=\"#noimplicitthis\" aria-label=\"noimplicitthis permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">this</code>가 암묵적으로 <code class=\"language-text\">any</code>로 평가되는 경우를 금지한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td><code class=\"language-text\">this</code>가 암묵적으로 <code class=\"language-text\">any</code>로 평가되는 경우를 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noImplicitThis</code> 옵션은 <code class=\"language-text\">this</code>가 암묵적으로 <code class=\"language-text\">any</code>로 평가되는 경우를 금지한다. 이 옵션의 동작을 이해하려면 우선 자바스크립트나 타입스크립트의 <code class=\"language-text\">this</code>가 어떤 녀석인지 알아야 할 필요가 있지만, 이 포스팅은 <code class=\"language-text\">this</code>의 동작에 대한 주제가 아니므로 간단하게만 설명하고 넘어가도록 하겠다. <code class=\"language-text\">this</code>에 대해 더 깊은 지식을 원하시는 분은 이 <a href=\"https://poiemaweb.com/js-this\" target=\"_blank\" rel=\"nofollow\">포스팅</a>을 참고하도록 하자.</p>\n<p>기본적으로 자바스크립트의 <code class=\"language-text\">this</code>라는 녀석은 동적으로 바인딩 된다. 함수가 어떤 방식으로 호출되냐에 따라서 이 <code class=\"language-text\">this</code>가 가리키고 있는 것이 달라진다는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Human</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sayThis</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Human</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sayThis <span class=\"token operator\">=</span> evan<span class=\"token punctuation\">.</span>sayThis<span class=\"token punctuation\">;</span>\n\nevan<span class=\"token punctuation\">.</span><span class=\"token function\">sayThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Human {}</span>\n<span class=\"token function\">sayThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// globalThis</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시를 보면, 같은 <code class=\"language-text\">Human</code> 클래스의 메소드인데도 호출 방법에 따라 <code class=\"language-text\">this</code>가 동적으로 변경되고 있는 것을 확인할 수 있다. 자바스크립트의 <code class=\"language-text\">this</code>는 이처럼 예측하기 어려운 동작을 하기 때문에 개발자가 직접 <code class=\"language-text\">this</code>가 무엇인지를 정할 수 있는 <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>와 같은 메소드들이나 <code class=\"language-text\">this</code> 바인딩 자체를 하지 않는 ES6의 화살표 함수 같은 녀석들이 필요한 것이다.</p>\n<p>바로 이 동적 바인딩이라는 방식 때문에 타입스크립트가 <code class=\"language-text\">this</code>의 타입 추론을 할 수 없는 상황도 왕왕 발생하는데, 그 중 대표적인 예가 함수 안의 함수, 흔히들 이야기하는 Inner Function에서 <code class=\"language-text\">this</code>에 접근하는 경우이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Human</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sayThis</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">say</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 'this' implicitly has type 'any' because it does not have a type annotation.ts(2683)</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Human</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nevan<span class=\"token punctuation\">.</span><span class=\"token function\">sayThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// globalThis</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시를 보면 <code class=\"language-text\">sayThis</code> 메소드 내부에서 다시 <code class=\"language-text\">say</code> 함수를 선언한 후 호출하고 있고, 안 쪽에 선언된 함수에서 <code class=\"language-text\">this</code>에 접근하고 있다. 상식적으로 생각하면 이 함수의 <code class=\"language-text\">this</code>는 왠지 <code class=\"language-text\">Human</code> 클래스가 되어야 할 것 같지만, 현실은 시궁창처럼 <code class=\"language-text\">globalThis</code>가 튀어나온다. <small>(이런 경우에는 화살표 함수 씁시다…)</small></p>\n<p>바로 이런 경우가 타입스크립트가 <code class=\"language-text\">this</code>에 대한 추론을 하지 못하는 경우이다. 이때 타입스크립트는 암묵적으로 <code class=\"language-text\">say</code> 함수 내부의 <code class=\"language-text\">this</code>를 <code class=\"language-text\">any</code>타입으로 바인딩하게 되고, 이로 인해 타입 안정성이 와장창 깨지게 된다.</p>\n<p>즉, <code class=\"language-text\">noImplicitThis</code> 옵션은 이렇게 <code class=\"language-text\">this</code> 타입이 암묵적으로 <code class=\"language-text\">any</code>로 평가되는 상황을 용인할 것인지에 대한 옵션인 것이다. 애초에 메소드 내부에 선언된 함수의 <code class=\"language-text\">this</code>에 전역 객체가 바인딩되는 동작을 응용하는 상황 자체가 거의 없으므로 이 옵션 또한 가급적이면 켜는 것을 추천한다.</p>\n<h2 id=\"strict\" style=\"position:relative;\">Strict<a href=\"#strict\" aria-label=\"strict permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">Strict</code> 옵션들은 타입스크립트가 일반적인 상황에서 타입을 평가할 때 얼마나 엄격하게 평가할 것인지를 관리하는 옵션들이다.</p>\n<p>이런 옵션들을 타입스크립트 팀에서는 Strict mode family라고 호칭하고 있는데, 간단하게는 자바스크립트의 <code class=\"language-text\">'use strict'</code> 디렉티브로 켤 수 있는 Strict 모드의 동작을 위반했는지 검사하는 옵션부터, 타입의 공변성과 반공변성을 검사하는 옵션까지, 다양한 상황에서 타입스크립트가 조금 더 엄격하게 타입을 평가할 수 있는 옵션들을 제공하고 있다.</p>\n<h3 id=\"alwaysstrict\" style=\"position:relative;\">alwaysStrict<a href=\"#alwaysstrict\" aria-label=\"alwaysstrict permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>소스 코드 내에서 Strict 룰을 위반하는 방법을 사용하면 에러를 발생시킨다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>소스 코드 내에서 Strict 룰을 위반하는 방법을 사용해도 무시한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">alwaysStrict</code> 옵션은 개발자가 타입스크립트를 사용할 때 자바스크립트의 Strict 룰을 위반하는 방법을 사용했을 때 에러를 발생시킨다. 이 옵션을 <code class=\"language-text\">true</code>로 설정하게 되면 타입스크립트는 각 소스 파일들의 상단에 마치 <code class=\"language-text\">use strict</code> 디렉티브가 선언되어 있는 것처럼 구문을 파싱하게 된다.</p>\n<p>참고로 타입스크립트의 대부분의 Strict 모드 관련 옵션들은 “모듈이 아닌 코드”를 위한 것이다. 타입스크립트는 ECMAScript 2015의 <a href=\"https://262.ecma-international.org/6.0/#sec-strict-mode-code\" target=\"_blank\" rel=\"nofollow\">Strict Mode Code</a> 섹션의 정의에 따라 모든 모듈 코드는 반드시 Strict 모드로 컴파일하기 때문이다.</p>\n<p>이 옵션을 사용할 때 한 가지 알아둬야 할 점은 <code class=\"language-text\">use strict</code> 디렉티브를 “소스 파일”에 내보내는 것이지, 결과물에 내보낸다는 것이 아니라는 것이다. 예시를 한번 보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// index.ts</span>\n\n<span class=\"token comment\">// Octal literals are not allowed in strict mode.ts(1121)</span>\n<span class=\"token keyword\">const</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n\n<span class=\"token keyword\">var</span> number <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>위 예시 같은 경우 IDE에서 <code class=\"language-text\">Octal literals are not allowed in strict mode.ts(1121)</code>라는 에러를 보여주기는 하지만, 정작 컴파일을 할 때는 아무 에러가 발생하지 않고 컴파일 후에 생긴 결과 파일을 확인해도 <code class=\"language-text\">use strict</code> 디렉티브는 포함되어 있지 않은 것을 볼 수 있다. 즉, 소스 코드를 파싱할 때는 에러를 인지하지만, 컴파일 결과에서까지 Strict 모드가 적용되는 것은 보장하지 않는 것이다.</p>\n<p>하지만 앞서 말한대로 모듈을 사용하고 있을 경우, 타입스크립트는 해당 옵션의 여부와 상관없이 소스 코드 파싱 및 컴파일 결과물에도 Strict 모드를 적용하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// index.ts</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js (common.js)</span>\n\n<span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">.</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"strictbindcallapply\" style=\"position:relative;\">strictBindCallApply<a href=\"#strictbindcallapply\" aria-label=\"strictbindcallapply permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>를 사용하여 함수를 호출했을 때에도 인자의 타입을 검사한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td><code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>를 사용하여 함수를 호출했을 때에도 인자의 타입을 검사하지 않는다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">strictBindCallApply</code> 옵션은 <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>와 같이 함수의 실행 컨텍스트를 변경할 수 있는 메소드를 사용하여 함수를 호출하거나 선언을 했을 때에도 함수에 올바른 타입의 인자가 주어졌는지를 검사할 수 있는 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hi, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"evan\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token comment\">// Argument of type 'boolean' is not assignable to parameter of type 'string'.ts(2345)</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 함수의 실행 컨텍스트를 변경하는 일이 자주 발생하는 것은 아니지만, 이 옵션이 꺼져있는 상태에서 <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>를 사용하게 되면 타입스크립트는 함수의 인자에 제대로 된 타입이 넘겨졌는지 검사하지 않기 때문에, 이로인한 런타임 타입 에러가 발생할 수도 있다.</p>\n<h3 id=\"strictfunctiontypes\" style=\"position:relative;\">strictFunctionTypes<a href=\"#strictfunctiontypes\" aria-label=\"strictfunctiontypes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>함수의 인자가 반공변적인 타입으로 평가된다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>함수의 인자가 이변적인 타입으로 평가된다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">strictFunctionTypes</code> 옵션은 함수의 인자를 반공변적으로 평가되게 할 것인지에 대한 옵션이다. 이 포스팅은 공변성과 반공변성에 대한 주제가 아니니, 공변과 반공변에 대해 자세히 알고 싶으신 분들은 이 <a href=\"https://seob.dev/posts/%EA%B3%B5%EB%B3%80%EC%84%B1%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80/\" target=\"_blank\" rel=\"nofollow\">포스팅</a>을 한번 보고 오도록 하자.</p>\n<p>이 포스팅에서는 공변과 반공변에 대해서 간략하게만 설명하고 넘어가도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> foo<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> bar<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\nType '(string | number)[]' is not assignable to type 'string[]'.\n  Type 'string | number' is not assignable to type 'string'.\n    Type 'number' is not assignable to type 'string'.ts(2322)\n*/</span>\nfoo <span class=\"token operator\">=</span> bar<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시에서 필자는 <code class=\"language-text\">Array&lt;string></code>인 <code class=\"language-text\">foo</code> 변수에 <code class=\"language-text\">Array&lt;string | number></code> 타입인 <code class=\"language-text\">bar</code> 변수의 값을 할당하려고 했고, 타입스크립트는 <code class=\"language-text\">string | number</code> 타입은 <code class=\"language-text\">string</code> 타입인 값에 할당할 수 없다고 말하고 있다.</p>\n<p>왜 에러가 발생하는 것일까? 그 이유는 <code class=\"language-text\">string</code> 타입이 <code class=\"language-text\">string | number</code> 타입보다 작은 개념이기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b0ad89a090e9426b629aea7e838d5c43/38124/unionset.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABsklEQVR42q2TX2+bMBTF+f7fZJqqSn1YXzZtT9vDlLSEAqEBG8JfQ+uQhjTb1HB6L4SUTOlbQQcsS/752PdcA4enbVus9Q6xWEHMHxA4FaKFxmO5xf6lBb/rPw2K5hHJkyKVUI3G5u8zrx4wMPjzQgsY5ExzODc57GkK9zYnFXAmOcSiQrIuIVcphE7pn0HqfixoTtEm+3b/BkxkDXuSwbcrTH76uLr4gctPX/Ht+jd85wG39xJmKJA2FX7ZE3z+comr79dwswAxuRU6gdrqHvhU78hVAc9S8GYKc5Nc3WS4mya0SQrHSzAjmBkIeEWMkNwtVAS/WnbjqM47sfuGjm+kYQ2XgTN11L1VHmUFIQHJoZC4i0JaXHSuWANsAJbk0uACsKsxsJNJbq0CliCglEdJnZ2ABrHbbFPBkN4HA88deSwriAgkRkfOz4orX25XfVHcUVH+d2nPh6JIeHmM5bp4F9j82w2x6TN4Fkpz5kLCiiQd6z13fUFOgs1Qdsph5jtldcGmjaRfIT0Em+8qrA/igHfB1qfBfmu9Z8QEDtyq09I/03qbofVU1yHceu2o9V4BQOhy3IbwEtMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unionset\" title=\"\" src=\"/static/b0ad89a090e9426b629aea7e838d5c43/6af66/unionset.png\" srcset=\"/static/b0ad89a090e9426b629aea7e838d5c43/69538/unionset.png 160w,\n/static/b0ad89a090e9426b629aea7e838d5c43/72799/unionset.png 320w,\n/static/b0ad89a090e9426b629aea7e838d5c43/6af66/unionset.png 640w,\n/static/b0ad89a090e9426b629aea7e838d5c43/38124/unionset.png 953w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>string | number 타입은 string과 number가 합쳐진 합집합을 의미한다.</small>\n</center>\n<p>이처럼 <code class=\"language-text\">string | number</code> 타입은 두 개의 타입이 합쳐진 합집합을 의미하고 있으니, 당연하게도 <code class=\"language-text\">string</code> 타입은 자신보다 더 큰 개념인 <code class=\"language-text\">string | number</code> 타입을 품을 수 없다.</p>\n<p>이 경우, 작은 개념인 <code class=\"language-text\">string</code> 타입을 <code class=\"language-text\">string | number</code> 타입의 “서브 타입”이라고 부르고, 큰 개념인 <code class=\"language-text\">string | number</code>을 <code class=\"language-text\">string</code> 타입의 “슈퍼 타입”이라고 부른다. <small>(참고로 부분 집합, 상위 집합도 영어로 subset, superset이다. 사실 상 여기서 이름을 따온 것이라고 보면 된다.)</small></p>\n<p>이와 동일하게 <code class=\"language-text\">Array&lt;string></code> 또한 <code class=\"language-text\">Array&lt;string | number></code> 타입보다 작은 개념이다. <code class=\"language-text\">string</code>만 가지고 있도록 선언한 배열에 <code class=\"language-text\">string</code>과 <code class=\"language-text\">number</code>를 모두 가진 배열을 할당할 수는 없는 노릇이니 타입스크립트는 에러를 발생시킨다.</p>\n<blockquote>\n<p>이처럼 어떠한 타입 <code class=\"language-text\">T</code>가 타입 <code class=\"language-text\">T'</code>의 서브 타입인 경우, <code class=\"language-text\">C&lt;T></code> 또한 <code class=\"language-text\">C&lt;T'></code>의 서브 타입이라면 이때 타입 <code class=\"language-text\">C</code>를 <strong>공변적</strong>, 또는 <strong>공변성을 가지고 있다</strong>고 이야기한다.</p>\n</blockquote>\n<p>공변성이 무엇인지 이해했다면 나머지는 쉽다. 반공변성은 공변성의 반대이기 때문이다. 즉 타입 <code class=\"language-text\">T</code>가 타입 <code class=\"language-text\">T'</code>의 서브 타입일 때, 반대로 <code class=\"language-text\">C&lt;T'></code>가 <code class=\"language-text\">C&lt;T></code>의 서브 타입이 된다면, 이때 타입 <code class=\"language-text\">C</code>를 <strong>반공변적</strong>이라고 한다.</p>\n<p>이렇게 타입이 반공변적으로 평가되어야 하는 경우가 있을까 싶기도 한데, 의외로 가까운 곳에 있다. 바로 <code class=\"language-text\">strictFunctionTypes</code> 옵션이 다루고 있는 주체인 함수의 인자이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Func<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> stringOrNumber<span class=\"token operator\">:</span> Func<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> onlyString<span class=\"token operator\">:</span> Func<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\nType 'Func&lt;string>' is not assignable to type 'Func&lt;string | number>'.\n  Type 'string | number' is not assignable to type 'string'.\n    Type 'number' is not assignable to type 'string'.ts(2322)\n*/</span>\nstringOrNumber <span class=\"token operator\">=</span> onlyString<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>앞서 보았던 공변성 예시에서 <code class=\"language-text\">string</code> 타입은 <code class=\"language-text\">string | number</code>의 서브 타입이라고 이야기 했었다.</p>\n<p>만약 함수의 인자가 공변적으로 평가된다면, <code class=\"language-text\">Func&lt;string></code> 또한 <code class=\"language-text\">Func&lt;string | number></code>의 서브 타입이 되어야한다는 의미이기 때문에 <code class=\"language-text\">Func&lt;string></code> 타입에 <code class=\"language-text\">Func&lt;string | number></code> 타입을 할당해도 문제가 발생하지 않아야 한다.</p>\n<p>하지만 이 예시를 보면 그게 아니라는 것을 알 수 있다. <code class=\"language-text\">Func&lt;string | number></code>는 분명 슈퍼 타입인 <code class=\"language-text\">string | number</code>를 인자로 받는 함수 타입이지만, 이 타입에 인자로 서브 타입인 <code class=\"language-text\">string</code>만을 받는 <code class=\"language-text\">Func&lt;string></code> 타입의 함수를 할당하려고 하면 타입스크립트는 에러를 발생시킨다.</p>\n<p>즉, 함수의 인자는 반공변적으로 평가되기 때문에, 공변성을 가지고 있는 <code class=\"language-text\">Array</code> 타입과는 정반대로 작동하고 있는 것이다.</p>\n<p>이 동작이 어렵게 느껴질 수도 있지만 잘 생각해보면 이해가 되는 것이, <code class=\"language-text\">onlyString</code> 함수는 <code class=\"language-text\">Func&lt;string></code> 타입이기 때문에 인자가 반드시 <code class=\"language-text\">string</code> 타입일 것이라고 가정하고 정의된 함수이기 때문이다.</p>\n<p>만약 이런 함수를 <code class=\"language-text\">string | number</code> 타입의 인자를 받을 수 있다는 함수라고 인정해버린다면, 개발자가 실수로 <code class=\"language-text\">onlyString</code> 함수에 <code class=\"language-text\">number</code> 타입의 인자를 넘길 수도 있다는 것이고, 이 경우 <code class=\"language-text\">onlyString</code> 함수는 장렬한 런타임 타입 에러와 함게 전사할 것이다.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/300c81767ca8abe09ea1f7f958e3a5ae/80e3c/cube.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHtRRi95grMG6AX/8QAGhAAAgIDAAAAAAAAAAAAAAAAAhIAAQMQEf/aAAgBAQABBQIzShzPrNF6ddiU5BR6/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/ARIiv//EABgRAAIDAAAAAAAAAAAAAAAAAAARARAh/9oACAECAQE/AdYyK//EABwQAAIBBQEAAAAAAAAAAAAAAAABIQIQERJBUf/aAAgBAQAGPwImmyxL8KdnAzfos8m3/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARIRAxUUH/2gAIAQEAAT8hPQV8IVhguu4AFBkvo1fDNLB0Psa1mxQ6oVMJ704//9oADAMBAAIAAwAAABDL14L/xAAZEQACAwEAAAAAAAAAAAAAAAABIQAQEYH/2gAIAQMBAT8Qb0OdjgbX/8QAGREAAgMBAAAAAAAAAAAAAAAAAREAECFx/9oACAECAQE/ECeUDBqYOV//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhMUEQUXH/2gAIAQEAAT8QpkXMAhFRdFyOYPM3RXZKl7M0/EK4Pn9cviwwp0+8W+3O9Rx5s8Rm/j//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cube\" title=\"\" src=\"/static/300c81767ca8abe09ea1f7f958e3a5ae/c08c5/cube.jpg\" srcset=\"/static/300c81767ca8abe09ea1f7f958e3a5ae/0913d/cube.jpg 160w,\n/static/300c81767ca8abe09ea1f7f958e3a5ae/cb69c/cube.jpg 320w,\n/static/300c81767ca8abe09ea1f7f958e3a5ae/c08c5/cube.jpg 640w,\n/static/300c81767ca8abe09ea1f7f958e3a5ae/80e3c/cube.jpg 720w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>이건 마치 네모만 끼울 수 있게 만든 구멍에<br>별 모양도 어떻게든 끼울 수 있다고 설명서를 제공하는 꼴이랄까...</small>\n  <br>\n  <br>\n</center>\n<p>이런 함수의 특성으로 인해 함수의 인자는 반공변적으로 평가되는 것이 훨씬 안전하기 때문에, 타입스크립트는 <code class=\"language-text\">strictFunctionTypes</code> 옵션을 제공하고 있는 것이다.</p>\n<p>만약 이 옵션이 꺼져있다면 함수의 인자가 반공변적으로 평가되지 않기 때문에 위 예시에서 보았던 할당의 제약이 모두 사라지게 된다. 이렇게 되면 앞서 말한대로 개발자의 실수로 함수의 인자로 잘못된 타입을 넘겨 런타임 에러가 발생할 확률이 커지게 되므로 가급적이면 <code class=\"language-text\">strictFunctionTypes</code>을 켜도록 하자. <small><del>(생각보다 크게 불편하지도 않다)</del></small></p>\n<h3 id=\"strictnullchecks\" style=\"position:relative;\">strictNullChecks<a href=\"#strictnullchecks\" aria-label=\"strictnullchecks permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>구체적인 값이 존재해야하는 상황에서 값이 <code class=\"language-text\">null</code>이거나 <code class=\"language-text\">undefined</code>일 가능성이 존재하는 경우 에러를 발생시킨다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>구체적인 값이 존재해야 하는 상황에서, 값이 <code class=\"language-text\">null</code>이거나 <code class=\"language-text\">undeinfed</code>일 가능성이 존재해도 무시한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">strictNullChecks</code> 옵션은 구체적인 값이 반드시 존재해야하는 상황일 때, 어떠한 값이 <code class=\"language-text\">null</code>이거나 <code class=\"language-text\">undefined</code>일 가능성이 존재한다면 에러를 발생시키는 옵션이다.</p>\n<p>구체적인 값이 반드시 존재해야하는 상황은 대부분 <code class=\"language-text\">foo.a</code>처럼 어떤 객체의 프로퍼티에 접근하려고 시도하는 상황이라고 볼 수 있는데, 이렇게 접근할 때 만약 <code class=\"language-text\">foo</code> 변수의 값이 <code class=\"language-text\">null</code>이거나 <code class=\"language-text\">undefined</code>라면 레퍼런스 런타임 에러가 발생하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> people<span class=\"token operator\">:</span> Person<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'evan'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myPerson <span class=\"token operator\">=</span> people<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> name <span class=\"token operator\">===</span> <span class=\"token string\">'john'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Uncaught ReferenceError: myPerson is not defined</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myPerson<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시에서 사용한 <code class=\"language-text\">Array.prototype.find</code> 메소드는 <code class=\"language-text\">T | undefined</code> 타입을 반환하도록 정의되어있는데, 이는 <code class=\"language-text\">find</code> 메소드가 배열에서 목표로 했던 원소를 찾을 수도 있고 없을 수도 있기 때문이다.</p>\n<p>그렇기 때문에 이 예시에서의 <code class=\"language-text\">myPerson</code> 변수는 <code class=\"language-text\">Human | undefined</code>의 타입을 가지게 되며, 실제로 위 코드를 실제로 실행시켜보면 이름으로 <code class=\"language-text\">evan</code>이라는 값을 가지고 있는 원소가 배열 내에 없기 때문에 결국 <code class=\"language-text\">myPerson</code> 변수의 값은 <code class=\"language-text\">undefined</code>가 되고, 마지막 콘솔 라인에서 런타임 레퍼런스 에러가 발생하게 된다.</p>\n<p>만약 <code class=\"language-text\">strictNullChecks</code> 옵션이 꺼져있는 상태라면 이런 상황이라도 타입스크립트는 값이 <code class=\"language-text\">undefined</code>일 가능성이 존재하는 <code class=\"language-text\">myPerson</code>의 프로퍼티에 접근할 때 어떠한 경고나 에러도 주지 않지만, 옵션을 켜게되면 다음과 같은 에러가 발생하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> people<span class=\"token operator\">:</span> Person<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'evan'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myPerson <span class=\"token operator\">=</span> people<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=></span> value<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'john'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Object is possibly 'undefined'.ts(2532)</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myPerson<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이런 상황에서는 명시적으로 <code class=\"language-text\">if</code> 문을 사용하여 <code class=\"language-text\">myPerson</code> 변수가 <code class=\"language-text\">null</code> 또는 <code class=\"language-text\">undefined</code> 인지 검사하거나, <code class=\"language-text\">myPerson?.name</code> 처럼 옵셔널 체이닝을 사용하여 프로퍼티에 접근함으로써 타입 안정성을 유지하며 문제를 해결할 수 있다.</p>\n<h3 id=\"strictpropertyinitialization\" style=\"position:relative;\">strictPropertyInitialization<a href=\"#strictpropertyinitialization\" aria-label=\"strictpropertyinitialization permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>객체가 생성된 시점에 반드시 존재해야 하는 멤버 변수가 초기화되지 않았다면 에러를 발생시킨다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>객체가 생성된 시점에 반드시 존재해야 하는 멤버 변수가 초기화되지 않았어도 무시한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">strictPropertyInitialization</code> 옵션은 클래스의 멤버 변수가 안전하지 않은 타입을 가지게 되었을 때 어떻게 처리할 지에 대한 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">UserAccount</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Property 'email' has no initializer and is not definitely assigned in the constructor.</span>\n  email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n  address<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n \n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시에서 클래스 <code class=\"language-text\">UserAccount</code>는 총 3개의 멤버 변수를 가지고 있는데, <code class=\"language-text\">name</code>과 <code class=\"language-text\">email</code>은 값이 반드시 존재해야하는 타입으로 선언된 멤버 변수이고, <code class=\"language-text\">address</code>는 값이 <code class=\"language-text\">undefined</code>일 수도 있는 옵셔널한 타입으로 선언된 멤버 변수이다.</p>\n<p>하지만 클래스의 생성자를 보면 <code class=\"language-text\">name</code> 멤버 변수만 초기화를 하고 있다. 이대로라면 객체가 생성되었을 때 반드시 <code class=\"language-text\">string</code> 타입의 값을 가지고 있어야 하는 <code class=\"language-text\">email</code> 멤버 변수가 <code class=\"language-text\">undefined</code>로 할당된 채로 객체가 생성되어 버리는 것이다. 즉, 타입 안정성이 깨져버리게 된다.</p>\n<p><code class=\"language-text\">strictPropertyInitialization</code> 옵션을 사용하면 이렇게 클래스를 사용하여 생성한 객체가 정의된 타입과 맞지 않는 멤버 변수를 가지게 되는 경우에 에러를 발생시키기 때문에, 높은 타입 안정성을 가지고 갈 수 있다.</p>\n<h3 id=\"useunknownincatchvariables\" style=\"position:relative;\">useUnknownInCatchVariables<a href=\"#useunknownincatchvariables\" aria-label=\"useunknownincatchvariables permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>catch 문의 error 인자를 <code class=\"language-text\">unknown</code> 타입으로 평가한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>catch 문의 error 인자를 <code class=\"language-text\">any</code> 타입으로 평가한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">useUnknownInCatchVariables</code> 옵션은 그 이름이 말해주듯이, catch 문의 인자로 주어지는 <code class=\"language-text\">error</code> 값을 어떤 타입으로 평가할 지에 대한 옵션이다.</p>\n<p>기본적으로 타입스크립트는 Catch 문의 인자를 <code class=\"language-text\">any</code> 타입으로 평가하기 때문에 이런 느낌으로 코드를 작성하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>reason<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>whatever<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>기본적으로 아무런 옵션도 주지 않았을 때, 타입스크립트는 catch 문의 인자인 <code class=\"language-text\">e</code>를 <code class=\"language-text\">any</code> 타입으로 평가하기 때문에, 이 값을 가지고 어떤 짓을 하던 컴파일 타임에는 아무 에러도 발생하지 않는 것이다. 하지만 만약 <code class=\"language-text\">e</code>가 <code class=\"language-text\">null</code>이나 <code class=\"language-text\">undefined</code>라면 바로 런타임 레퍼런스 에러가 발생할 수 있는 위험한 상황이다.</p>\n<p>이제 <code class=\"language-text\">useUnknownInCatchVariables</code>을 켜게 되면 타입스크립트는 이제 catch 문의 인자로 넘어오는 값을 더 이상 <code class=\"language-text\">any</code> 타입이 아닌, <code class=\"language-text\">unknown</code> 타입으로 평가하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Property 'message' does not exist on type 'unknown'.ts(2339)</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 이건 통과</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>단순히 “무시해라”라는 의미를 가진 <code class=\"language-text\">any</code> 타입과 다르게, <code class=\"language-text\">unknown</code> 타입은 “타입을 알 수 없으니 정의가 필요하다”라는 의미를 가지고 있기 때문에, 반드시 타입에 대한 정보를 타입스크립트에게 알려줘야 한다.</p>\n<p>물론 이렇게 catch 문의 인자를 <code class=\"language-text\">unknown</code>으로 평가하게 되면, catch 문 내부에서 인자의 타입을 체크하는 과정이 필요해지기 때문에 조금 귀찮아 질 수는 있지만, 개인적으로는 예상하지 못 한 순간에 런타임 에러가 터지느니 프로그래밍할 때 조금 귀찮은 게 훨씬 낫다고 생각한다.</p>\n<h3 id=\"strict-1\" style=\"position:relative;\">strict<a href=\"#strict-1\" aria-label=\"strict 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>컴파일러 옵션의 Strict 관련 옵션들을 일괄적으로 켠다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>컴파일로 옵션의 Strict 관련 옵션들을 개별적으로 켠다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">strict</code> 옵션은 그 자체로 어떤 역할을 하는 것이 아니라, 다른 Strict 관련 옵션들을 일괄적으로 켜고 끌 수 있는 옵션이다. <code class=\"language-text\">strict</code> 옵션으로 켜고 끌 수 있는 일명 Strict mode family는 다음과 같다.</p>\n<hr>\n<ul>\n<li><a href=\"#alwaysstrict\">alwaysStrict</a></li>\n<li><a href=\"#strictbindcallapply\">strictBindCallApply</a></li>\n<li><a href=\"#strictfunctiontypes\">strictFunctionTypes</a></li>\n<li><a href=\"#strictnullchecks\">strictNullChecks</a></li>\n<li><a href=\"#strictpropertyinitialization\">strictPropertyInitialization</a></li>\n<li><a href=\"#useunknownincatchvariables\">useUnknownInCatchVariables</a></li>\n<li><a href=\"#noimplicitany\">noImplicitAny</a></li>\n<li><a href=\"#noimplicitthis\">noImplictThis</a></li>\n</ul>\n<hr>\n<p>만약 <code class=\"language-text\">strict</code> 옵션을 <code class=\"language-text\">true</code>로 설정하면 Strict mode family 옵션들의 값도 함께 <code class=\"language-text\">true</code>로 적용되지만, 만약 개별 옵션을 <code class=\"language-text\">false</code>로 오버라이딩한다면 해당 옵션만 끌 수도 있다.</p>\n<p>타입스크립트 팀은 추후 배포될 타입스크립트 버전에 추가되는 새로운 Strict mode family 옵션도 모두 <code class=\"language-text\">strict</code> 옵션으로 관리할 수 있도록 만들 예정이라고 하니, 타입스크립트 버전을 업데이트하게 되면 기존에는 없던 새로운 타입 에러가 발생할 수도 있다는 사실을 유념하도록 하자.</p>\n<h2 id=\"etc\" style=\"position:relative;\">etc<a href=\"#etc\" aria-label=\"etc permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이 섹션은 필자가 옵션들을 정리하면서, 카테고라이징을 하기 애매하다고 생각한 옵션들을 모아둔 섹션이다. 물론 이 옵션들 또한 안전한 프로그래밍에 큰 도움이 되는 옵션들이기 때문에 가급적 켜는 것을 추천한다.</p>\n<h3 id=\"exactoptionalpropertytypes\" style=\"position:relative;\">exactOptionalPropertyTypes<a href=\"#exactoptionalpropertytypes\" aria-label=\"exactoptionalpropertytypes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>옵셔널 프리픽스가 정말로 객체 내에 없다는 것을 보장한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>옵셔널 프리픽스를 사용한 값에 <code class=\"language-text\">undefined</code>를 할당하는 것을 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">exactOptionalPropertyTypes</code> 옵션은 <code class=\"language-text\">?</code> 프리픽스로 표현되는 타입이나 인터페이스 내부의 옵셔널 프로퍼티를 얼마나 엄격하게 처리할 지를 결정하는 옵션이다. 한번 같이 예시를 보면서 어떤 차이점이 있는지 살펴보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">UserDefaults</span> <span class=\"token punctuation\">{</span>\n  color<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dark\"</span> <span class=\"token operator\">|</span> <span class=\"token string\">\"light\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>위 인터페이스가 가지고 있는 <code class=\"language-text\">color</code> 프로퍼티는 <code class=\"language-text\">?</code>로 표현되는 옵셔널 프리픽스와 함께 선언되었기 때문에, 해당 프로퍼티가 인터페이스 내에 존재할 수도 있고 없을 수도 있다는 것을 표현하고 있다. 그렇기 때문에 기본적으로 타입스크립트는 이 프로퍼티의 타입을 <code class=\"language-text\">dark | light | undefiend</code>로 평가하게 된다.</p>\n<p>여기서 약간 모순이 생기는데, 옵셔널 프로퍼티는 사실 “이 프로퍼티가 있을 수도 있고 없을 수도 있어”라는 의미이지, “이 프로퍼티가 존재는 하는데 값이 <code class=\"language-text\">undefined</code>야”라는 의미가 아니기 때문이다. 그러나 타입스크립트에서는 옵셔널로 선언된 프로퍼티에 <code class=\"language-text\">undefined</code>를 직접 할당함으로써 옵셔널 프로퍼티의 조건을 만족시킬 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> user<span class=\"token operator\">:</span> UserDefaults <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  color<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// dark | light | undefined</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>하지만 <code class=\"language-text\">exactOptionalPropertyTypes</code> 옵션을 켜게 되면 이제 이런 행위가 불가능해진다. 개발자는 옵셔널 프로퍼티로 선언된 프로퍼티에 <code class=\"language-text\">undefined</code>를 할당할 수 없으며, 만약 할당을 시도했다가는 다음과 같은 에러를 만나며 컴파일러에게 혼쭐이 나게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> user<span class=\"token operator\">:</span> UserDefaults <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Type 'undefined' is not assignable to type '\"light\" | \"dark\"'.ts(2322)</span>\n  color<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 컴파일러가 던진 에러 메세지를 보면, 기존에는 <code class=\"language-text\">dark | light | undefeind</code>와 같이 <code class=\"language-text\">undefined</code>까지 유니온 타입으로 묶어서 선언하던 방식과 다르게, 타입 자체는 <code class=\"language-text\">dark | light</code>으로만 정의되어있고 키의 존재 유무로만 옵셔널 프로퍼티를 판단하는 모습을 볼 수 있다.</p>\n<h3 id=\"nofallthroughcasesinswitch\" style=\"position:relative;\">noFallthroughCasesInSwitch<a href=\"#nofallthroughcasesinswitch\" aria-label=\"nofallthroughcasesinswitch permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">switch</code> 문 내에 Fallthrough 케이스가 존재하면 경고를 보여준다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td><code class=\"language-text\">switch</code> 문 내에 Fallthrough 케이스가 존재해도 무시한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noFallthroughCasesInSwitch</code> 옵션은 Fallthrough, 즉 <code class=\"language-text\">switch</code> 문이 완료되지 않는 케이스가 존재하는 경우에 경고를 보여줄 지에 대한 옵션이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> v<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span>\n    <span class=\"token comment\">// Fallthrough case in switch.ts(7029)</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">2</span><span class=\"token operator\">:</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 경우 첫 번째 케이스 문이 수행되고 <code class=\"language-text\">switch</code> 문이 종료되는 것이 아니라, 이에 이어서 두 번째 케이스 문까지 수행되기 때문에, 개발자가 의도하지 않은 동작이 되어버릴 가능성이 존재한다.</p>\n<p>이렇게 <code class=\"language-text\">switch</code> 문을 종료시키지 않고 다음 케이스로 그냥 흘려버리는 케이스를 <code class=\"language-text\">Fallthrough case</code>라고 부르는데, C++이나 Swift 같은 언어에서는 이런 케이스에 명시적으로 <code class=\"language-text\">[[fallthrough]]</code>와 같은 키워드를 작성하게 함으로써 개발자가 한 눈에 “이 케이스 문은 다음 케이스까지 실행시키겠구나”라는 것을 알 수 있지만, 자바스크립트는 이렇게 명시적으로 Fallthrough case를 표현하는 문법이 없기 때문에 개발자가 실수하기 쉬운 구조이다.</p>\n<p>그래서 타입스크립트는 이런 Fallthrough case가 발생했을 때 경고를 보여주는  <code class=\"language-text\">noFallthroughCasesInSwitch</code> 옵션을 제공함으로써 개발자가 Fallthrough case를 확실하게 인지할 수 있도록 도와주고 있다.</p>\n<h3 id=\"nopropertyaccessfromindexsignature\" style=\"position:relative;\">noPropertyAccessFromIndexSignature<a href=\"#nopropertyaccessfromindexsignature\" aria-label=\"nopropertyaccessfromindexsignature permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>인덱스 시그니처로 선언된 프로퍼티에 <code class=\"language-text\">.</code> 문법을 사용하여 접근하는 것을 방어한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>인덱스 시그니처로 선언된 프로퍼티에 <code class=\"language-text\">.</code> 문법을 사용하여 접근하는 것을 허용한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noPropertyAccessFromIndexSignature</code> 옵션은 인터페이스나 타입에 미리 정의되지 않은 프로퍼티에 <code class=\"language-text\">.</code> 문법을 사용하여 접근하는 것을 방어한다.</p>\n<p>물론 아예 정의되지 않은 프로퍼티에 접근한다는 상황은 당연히 에러가 나야하는 상황이지만, 이 옵션이 관여하는 상황은 조금 애매하게 타입 선언이 되어있는 경우이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">GameSettings</span> <span class=\"token punctuation\">{</span>\n  speed<span class=\"token operator\">:</span> <span class=\"token string\">'fast'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'medium'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'slow'</span><span class=\"token punctuation\">;</span>\n  quality<span class=\"token operator\">:</span> <span class=\"token string\">'high'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'low'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">GameSettings</code> 인터페이스는 명확하게 선언된 <code class=\"language-text\">speed</code>와 <code class=\"language-text\">quality</code>라는 프로퍼티와, <code class=\"language-text\">[key: string]: string</code> 이라는 인덱스 시그니처 프로퍼티를 가지고 있다. 이렇게 인덱스 시그니처로 선언한 프로퍼티는 키의 타입과 값의 타입이 <code class=\"language-text\">string</code> 타입이만 하면 모든 것을 허용하겠다는 것과 마찬가지이므로 모호한 타입이라고 하는 것이다.</p>\n<p>이런 타입 정의를 바탕으로 개발자가 <code class=\"language-text\">GameSettings</code> 타입인 객체의 프로퍼티에 접근하는 상황을 생각해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> getSettings <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> GameSettings <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    speed<span class=\"token operator\">:</span> <span class=\"token string\">'fast'</span><span class=\"token punctuation\">,</span>\n    quality<span class=\"token operator\">:</span> <span class=\"token string\">'high'</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> settings <span class=\"token operator\">=</span> <span class=\"token function\">getSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsettings<span class=\"token punctuation\">.</span>speed<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Good</span>\nsettings<span class=\"token punctuation\">.</span>quality<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Good</span>\nsettings<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Good...?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시에서 개발자는 <code class=\"language-text\">GameSettings</code> 타입인 <code class=\"language-text\">settings</code> 객체의 프로퍼티들에 접근하고 있다. 물론 명확하게 선언된 <code class=\"language-text\">speed</code>와 <code class=\"language-text\">quality</code> 프로퍼티는 반드시 존재하는 것이 확실하지만, <code class=\"language-text\">settings.user</code>는 다르다.</p>\n<p>이 프로퍼티는 <code class=\"language-text\">[key: string]: string</code> 이라는 타입 선언에 의존하고 있는 녀석이기 때문에, 이 값이 명확히 존재한다고 말할 수 없기 때문이다.</p>\n<p><code class=\"language-text\">noPropertyAccessFromIndexSignature</code> 옵션은 이처럼 반드시 존재하는 프로퍼티는 <code class=\"language-text\">.</code> 문법을 통해 접근할 수 있게 하되, 존재하지 않을 가능성이 있는 프로퍼티는 <code class=\"language-text\">settings['user']</code>와 같은 Index 문법을 사용하여 접근하도록 함으로써 이 두 가지 케이스를 구분하도록 강제한다.</p>\n<h3 id=\"nouncheckedindexedaccess\" style=\"position:relative;\">noUncheckedIndexedAccess<a href=\"#nouncheckedindexedaccess\" aria-label=\"nouncheckedindexedaccess permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>인덱스 시그니처로 선언된 프로퍼티를 Optional 타입으로 평가한다.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>인덱스 시그니처로 선언된 프로퍼티도 정의된 타입으로만 평가한다.</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">noUncheckedIndexedAccess</code> 옵션은 인덱스 시그니처로 선언한 프로퍼티를 어떻게 추론할 것인지에 대한 옵션이다.</p>\n<p>기본적으로 타입스크립트는 <code class=\"language-text\">[key: string]: string</code> 처럼 인덱스 시그니처로 선언된 프로퍼티가 있다면, 딱 선언된 대로만 추론해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">EnvironmentVars</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">const</span> env<span class=\"token operator\">:</span> EnvironmentVars <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> nodeEnv <span class=\"token operator\">=</span> env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// string</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>하지만 앞서 말했듯이 인덱스 시그니처로 선언된 프로퍼티는 실제로는 있을 수도 있고 없을 수도 있는 옵셔널한 값이다. 즉, <code class=\"language-text\">env.NODE_ENV</code>의 타입은 사실 <code class=\"language-text\">string</code>이 아니라 <code class=\"language-text\">string | undefined</code>인 것이다.</p>\n<p><code class=\"language-text\">noUncheckedIndexedAccess</code> 옵션은 이렇게 인덱스 시그니처로 선언한 프로퍼티를 <code class=\"language-text\">T | undefined</code> 타입으로 평가하여 혹시나 발생할 수 있는 런타임 레퍼런스 에러를 방지해준다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>타입스크립트의 타입 체킹 컴파일 옵션들은 높은 타입 안정성을 유지할 수 있도록 도움을 주는 녀석들이지만, 타입스크립트와 같은 정적 타이핑 언어 자체에 익숙하지 않은 개발자에게는 가파른 러닝 커브로 다가올 수도 있는 부분이다.</p>\n<p>또한 처음 프로젝트를 생성할 때부터 타입스크립트를 사용하는 경우도 있지만, 자바스크립트를 사용하다가 점진적으로 타입스크립트를 도입하고 있는 조직도 존재하기 때문에, 이렇게 다양한 옵션을 제공하여 개발자가 원하는 정적 타이핑 환경을 구축할 수 있게 해주는 것은 큰 장점이라고 생각한다. <small><del>(물론 옵션도 공부해야 함…)</del></small></p>\n<p><a href=\"/2021/08/22/tsconfig-compiler-options-modules/\">다음 포스팅</a>에서는 컴파일 옵션 중에서도 타입스크립트가 컴파일을 수행할 때 “어떤 소스코드를 어떤 방식으로 컴파일하여 결과물을 만들어 낼 지에 관여하는 옵션들”에 대해서 이야기해보도록 하겠다.</p>\n<p>이상으로 [tsconfig의 모든 것] Compiler options / Type Checking 포스팅을 마친다.</p>","fields":{"slug":"20210808-tsconfig-compiler-options-type-check","path":"/2021/08/08/tsconfig-compiler-options-type-check/","lang":"ko"},"frontmatter":{"title":"[tsconfig의 모든 것] Compiler options / Type Checking","subTitle":"타입 검사의 강도와 안정성, 실무에서 체감되는 옵션들의 차이","date":"Aug 08, 2021","categories":["프로그래밍","튜토리얼","자바스크립트"],"tags":["TypeScript","타입스크립트","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/56bd7d19cbdec50908e5f57ff0589f62/d803c/thumbnail.png","srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/d803c/thumbnail.png 320w,\n/static/56bd7d19cbdec50908e5f57ff0589f62/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/fc5c5/thumbnail.webp 320w,\n/static/56bd7d19cbdec50908e5f57ff0589f62/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/56bd7d19cbdec50908e5f57ff0589f62/01fb2/thumbnail.png","srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"0ac439ab-855f-5520-af64-44ebedcb8b80","tableOfContents":"<ul>\n<li><a href=\"#include\">include</a></li>\n<li><a href=\"#files\">files</a></li>\n<li><a href=\"#exclude\">exclude</a></li>\n<li><a href=\"#extends\">extends</a></li>\n<li><a href=\"#references\">references</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></li>\n</ul>","excerpt":"필자가 타입스크립트를 사용하게 된 지도 어언 4년 정도가 지났다. 필자는 자바스크립트에는 없던 타입스크립트가 제공하는 강력한 정적 타입 검사 기능에 흠뻑 빠져버렸고, 지금까지 꽤 많은 프로젝트들을 타입스크립트로 작성해왔다.","html":"<p>필자가 타입스크립트를 사용하게 된 지도 어언 4년 정도가 지났다. 필자는 자바스크립트에는 없던 타입스크립트가 제공하는 강력한 정적 타입 검사 기능에 흠뻑 빠져버렸고, 지금까지 꽤 많은 프로젝트들을 타입스크립트로 작성해왔다.</p>\n<!-- more -->\n<p>그러다가 며칠 전 타입스크립트로 작성한 프로젝트를 새롭게 만들게 되면서 평소처럼 자연스럽게 <code class=\"language-text\">tsconfig</code>를 세팅하고 있었는데, 뭔가 마음처럼 잘 안되어서 <a href=\"https://www.typescriptlang.org/tsconfig\" target=\"_blank\" rel=\"nofollow\">tsconfig 공식 문서</a>를 한참 들여다보던 중 문득 이런 생각이 들었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5fe0821bc535c0c02b3be547c5507fb8/7bf67/jordan-peele.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHlNNiqGkC//8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIAAxARIf/aAAgBAQABBQIjTNg9iypQV//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/Aar/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAEAAwAAAAAAAAAAAAAAAAAAASAx/9oACAEBAAY/AkUx/8QAGBABAAMBAAAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8hG5ex2OHCabs3Y6Syttn/2gAMAwEAAgADAAAAEKjv/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/EMBH/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxB5So//xAAbEAEAAwEAAwAAAAAAAAAAAAABABFBITFRcf/aAAgBAQABPxBRQTZsIZvplZEPynD7tjX44cc5GAlctn//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"jordan peele\" title=\"\" src=\"/static/5fe0821bc535c0c02b3be547c5507fb8/c08c5/jordan-peele.jpg\" srcset=\"/static/5fe0821bc535c0c02b3be547c5507fb8/0913d/jordan-peele.jpg 160w,\n/static/5fe0821bc535c0c02b3be547c5507fb8/cb69c/jordan-peele.jpg 320w,\n/static/5fe0821bc535c0c02b3be547c5507fb8/c08c5/jordan-peele.jpg 640w,\n/static/5fe0821bc535c0c02b3be547c5507fb8/7bf67/jordan-peele.jpg 680w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>어...? 내가 이걸 진짜 알고 쓰는 게 맞나...?</small>\n</center>\n<p>필자만 그런 것일 수도 있지만, 사실 이런저런 프로젝트를 만들다보면 <code class=\"language-text\">tsconfig</code>를 직접 손으로 한땀 한땀 작성하는 경우가 많지는 않게 되는 것 같다.</p>\n<p>물론 맨 처음 타입스크립트로 프로젝트를 개발했을 때는 손수 정성을 들여 작성했을 것이다. <small><del>(사실 오래 되서 잘 기억이…)</del></small> 하지만 언젠가부터는 그냥 기존에 잘 돌아가고 있는 프로젝트의 <code class=\"language-text\">tsconfig</code>를 복붙해서 새로운 프로젝트에 꽂아넣고 약간의 커스터마이징만 직접 해주는 방식으로 프로젝트를 세팅하고 있었던 것이다.</p>\n<p>그래서 다시 초심으로 돌아가 <code class=\"language-text\">tsconfig</code>에 있는 옵션들이 내 타입스크립트 프로젝트에 어떤 영향을 주는 지 한번 찬찬히 뜯어보려고 한다.</p>\n<p>사실 <code class=\"language-text\">tsconfig</code>의 모든 것을 하나의 포스팅으로 풀어내고 싶었지만, 이 놈의 컴파일 옵션들이 워낙 많다보니 포스팅이 500줄이 넘어가는 슬픈 상황을 마주하게 되었으므로, 이번 포스팅에서는 <code class=\"language-text\">tsconfig</code>의 루트에 있는 필드들에 대해서만 자세히 알아보고, 이후 다른 포스팅에서 컴파일 옵션들에 대한 설명을 이어가도록 하겠다.</p>\n<h2 id=\"include\" style=\"position:relative;\">include<a href=\"#include\" aria-label=\"include permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>기본 값</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string[]</code></td>\n<td><code class=\"language-text\">[]</code>, <code class=\"language-text\">['**/*']</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"src/**/*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"tests/**/*\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">include</code> 필드는 타입스크립트 어플리케이션에 포함할 파일 목록을 선언할 때 사용하며, <code class=\"language-text\">files</code> 필드의 존재 여부에 따라 기본값이 변경되는데, 만약 <code class=\"language-text\">ㅋ</code> 필드가 선언되어 있다면 <code class=\"language-text\">[]</code>로, 선언되어 있지 않다면 <code class=\"language-text\">[\"**/*\"]</code>으로 기본 값이 설정된다.</p>\n<p>이 필드는 <code class=\"language-text\">files</code> 필드와 하는 일이 비슷하지만, <code class=\"language-text\">include</code> 필드에는 glob 문법을 사용하여 포함할 파일 경로의 패턴을 표현할 수 있기 때문에 일반적으로는 <code class=\"language-text\">files</code> 보다 <code class=\"language-text\">include</code>를 주로 사용한다.</p>\n<p>glob 문법은 <code class=\"language-text\">*</code>이나 <code class=\"language-text\">?</code> 같은 와일드 카드를 사용하여 여러 파일 이름의 패턴을 나타내게 되는데, 문법 자체는 정규 표현식과 유사하기 때문에 익히기에 크게 어렵지 않다.</p>\n<table>\n<thead>\n<tr>\n<th>와일드카드</th>\n<th>설명</th>\n<th>예시</th>\n<th>일치하는 파일이름</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">*</code></td>\n<td><code class=\"language-text\">/</code>를 제외한 0번 이상 나타나는 문자를 매칭</td>\n<td><code class=\"language-text\">types*.ts</code></td>\n<td>types.d.ts, types.ts, types.test.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">**</code></td>\n<td><code class=\"language-text\">/</code>를 포함한 0번 이상 나타나는 문자를 매칭</td>\n<td><code class=\"language-text\">src/**/index.ts</code></td>\n<td>src/index.ts, src/utils/index.ts, src/test/index.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">?</code></td>\n<td>하나의 문자를 매칭, 정규식의 <code class=\"language-text\">.</code>과 동일</td>\n<td><code class=\"language-text\">?at.ts</code></td>\n<td>Cat.ts, Bat.ts, Rat.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">[ab]</code></td>\n<td><code class=\"language-text\">[]</code> 안에 있는 문자 중 하나를 매칭</td>\n<td>`[C</td>\n<td>B]at.ts`</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">[a-z]</code></td>\n<td><code class=\"language-text\">[]</code> 안에 있는 문자의 범위</td>\n<td><code class=\"language-text\">test[0-9].ts</code></td>\n<td>test0.ts, test1.ts, test9.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">{ab,bc}</code></td>\n<td><code class=\"language-text\">{}</code> 안에 있는 문자열 중 하나를 매칭</td>\n<td><code class=\"language-text\">*.{ts,tsx}</code></td>\n<td>foo.ts, foo.tsx</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">{ab,bc}</code></td>\n<td><code class=\"language-text\">{}</code> 안에 있는 문자열 중 하나를 매칭</td>\n<td><code class=\"language-text\">*.{ts,tsx}</code></td>\n<td>foo.ts, foo.tsx</td>\n</tr>\n</tbody>\n</table>\n<p>glob 문법은 파일 경로를 통해 원하는 파일을 잡아내야하는 거의 모든 상황에서 유용하게 사용되기 때문에, 한번만 익숙해지고 나면 앞으로 프로그래밍을 하면서 만나게 될 설정 파일들이 조금은 친숙하게 다가올 것이다.</p>\n<h2 id=\"files\" style=\"position:relative;\">files<a href=\"#files\" aria-label=\"files permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>기본 값</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string[]</code></td>\n<td><code class=\"language-text\">false</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/index.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"./src/utils.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"./src/models.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">files</code> 필드는 타입스크립트 어플리케이션에 포함할 파일 목록을 명시적으로 선언할 때 사용한다. <code class=\"language-text\">includes</code> 필드와 비슷하지만, <code class=\"language-text\">files</code> 필드는 <code class=\"language-text\">src/**/*</code>와 같은 glob 문법을 사용할 수 없기 때문에, 일일히 파일명을 입력해줘야 한다는 단점이 있다.</p>\n<p>만약 <code class=\"language-text\">files</code> 필드에 값이 존재한다면 <code class=\"language-text\">includes</code> 필드의 기본 값은 <code class=\"language-text\">['**/*']</code>에서 빈 배열인 <code class=\"language-text\">[]</code>으로 변경된다. 즉, 기존에 <code class=\"language-text\">includes</code> 필드의 기본 값에 의존하고 있었다면, <code class=\"language-text\">files</code> 필드에 값을 추가함으로써 컴파일 결과물이 완전히 달라질 수 있으니 이 점을 유의해야 한다.</p>\n<h2 id=\"exclude\" style=\"position:relative;\">exclude<a href=\"#exclude\" aria-label=\"exclude permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>기본 값</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string[]</code></td>\n<td><code class=\"language-text\">['node_modules', 'bower_components', 'jspm_packages']</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"src/**/*\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"exclude\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"src/**/*.test.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"node_modules\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">exclude</code> 필드는 “제외하다”라는 사전적 의미 그대로 <code class=\"language-text\">include</code> 필드에 선언한 파일들 중에서 “이 파일들은 포함하지마”라는 설정을 할 때 사용한다.</p>\n<p>이 필드의 기본 값인 <code class=\"language-text\">node_modules</code>, <code class=\"language-text\">bower_components</code>, <code class=\"language-text\">jspm_packages</code> 라는 친구들을 보면 알 수 있겠지만, 보통 타입스크립트로 작성된 패키지는 <code class=\"language-text\">js</code> + <code class=\"language-text\">*.d.ts</code> 파일들의 조합으로 빌드해서 배포하기 때문에, 타입스크립트는 기본적으로 이런 외부 패키지들이 빌드가 되어있다고 가정하고 있는 것이다.</p>\n<p>만약 외부에서 받아온 패키지도 컴파일이 필요한 상황이라면 <code class=\"language-text\">exclude</code> 필드를 수정해주면 된다. <small>(참고로 <code class=\"language-text\">Next.js</code>는 이 필드에 기본적으로 <code class=\"language-text\">node_modules</code>가 포함되어 있도록 프로젝트를 세팅하고, 이 값을 지워도 빌드할 때 자동으로 다시 넣어버린다…)</small></p>\n<p>그리고 한 가지 중요한 점은 <code class=\"language-text\">exlucde</code> 필드는 단지 <code class=\"language-text\">include</code> 필드에 세팅해준 파일들을 찾아올 때 “이건 찾지마”라는 의미이기 때문에 이 필드에 넣어준 파일들이라고 해서 반드시 내 어플리케이션에 포함되지 않는 것이 아니라는 것이다.</p>\n<p>즉, <code class=\"language-text\">exlucde</code> 필드에 <code class=\"language-text\">node_modules</code> 같은 디렉토리가 세팅되어있다고 해도 코드 내에서 import 문을 사용하여 직접 해당 모듈을 가져오는 경우나 <code class=\"language-text\">/// &lt;reference path=\"...\" /></code> 처럼 트리플 슬래시 디렉티브를 사용하여 컴파일러에게 특정 모듈을 포함하라고 직접 지시하는 경우, 그리고 <code class=\"language-text\">files</code> 필드를 사용하여 직접 컴파일할 파일을 명시하는 경우에는 <code class=\"language-text\">exlucde</code> 필드에 뭘 세팅했던 무시하고 해당 모듈을 가져온다.</p>\n<h2 id=\"extends\" style=\"position:relative;\">extends<a href=\"#extends\" aria-label=\"extends permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>기본 값</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string</code></td>\n<td><code class=\"language-text\">false</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.base.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"noImplicitAny\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"strictNullChecks\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// tsconfig.base.json의 설정을 가져와서 확장한다.</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.base.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/main.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">extends</code> 필드는 이름 그대로 다른 <code class=\"language-text\">tsconfig</code>의 경로를 지정하면 해당 <code class=\"language-text\">tsconfig</code>를 상속할 수 있는 필드이다. 필자 같은 경우에는 다른 사람이 미리 만들어 놓은 설정을 가져와서 조금 커스터마이징하는 상황이나, 모노 레포지토리에 포함된 모든 프로젝트에 공통적으로 적용하고 싶은 설정이 있는 경우에 주로 사용했던 것 같다.</p>\n<p>만약 상속 대상인 <code class=\"language-text\">tsconfig.base.json</code>의 내부 필드에 <code class=\"language-text\">./src</code>와 같은 상대 경로가 지정되어 있는 경우에는 해당 상속 파일을 불러온 주체인 <code class=\"language-text\">tsconfig.json</code> 기준으로 상대 경로가 계산된다.</p>\n<p>또한 이렇게 다른 <code class=\"language-text\">tsconfig</code>를 상속하여 새로운 <code class=\"language-text\">tsconfig</code>를 정의하는 경우, <code class=\"language-text\">files</code>, <code class=\"language-text\">include</code>, <code class=\"language-text\">exclude</code> 처럼 배열을 사용하여 선언된 필드들은 확장되는 것이 아니라 필드 자체가 덮어씌워지기 때문에 이 점을 유의해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.base.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/main.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.base.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/index.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러므로 위의 예시 같은 상황이라면 최종 <code class=\"language-text\">files</code>필드는 <code class=\"language-text\">[\"./src/main.ts\", \"./src/index.ts\"]</code>로 합쳐지는 것이 아니라 <code class=\"language-text\">[\"./src/index.ts\"]</code>로 평가된다. <code class=\"language-text\">extends</code>라는 필드 이름을 보면 왠지 필드의 값도 확장해줄 것 같지만, 아무런 경고나 에러도 없이 그냥 쿨하게 오버라이팅 해버리므로 주의하도록 하자.</p>\n<h2 id=\"references\" style=\"position:relative;\">references<a href=\"#references\" aria-label=\"references permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>기본 값</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">Array&lt;{ path: string; prepend: boolean; }></code></td>\n<td><code class=\"language-text\">false</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// my-project/test/tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"references\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// my-project/src/tsconfig.json을 참조한다</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../src\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">reference</code> 필드는 같은 프로젝트 안에서 모듈 별로 여러 개의 <code class=\"language-text\">tsconfig</code>를 사용하는 경우, 이 모듈들의 참조 관계를 표현하기 위한 필드이다. 보통 하나의 프로젝트에서는 하나의 <code class=\"language-text\">tsconfig</code>만 사용하는 경우가 많기 때문에 거의 사용할 일이 없기는 하다.</p>\n<p>사실 타입스크립트가 이런 옵션을 제공하는 이유는 바로 이런 경우 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">├── src/\n│   ├── converter.ts\n│   └── units.ts\n├── test/\n│   ├── converter-tests.ts\n│   └── units-tests.ts\n└── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 프로젝트는 소스 코드와 테스트 코드가 별도의 디렉토리로 분리되어있고, 루트에는 하나의 <code class=\"language-text\">tsconfig</code>가 전체 프로젝트의 컴파일 옵션을 관리하고 있다. 이런 구조의 프로젝트는 상당히 흔한 구조이기는 하지만, 막상 이렇게 만들어놓고 개발을 하다보면 몇 가지 불편한 점이 생긴다.</p>\n<blockquote>\n<ol>\n<li>소스 코드인 <code class=\"language-text\">src</code> 모듈에서도 테스트 코드인 <code class=\"language-text\">test</code> 모듈을 불러올 수가 있음…</li>\n<li>소스 코드에서 절대 오류가 발생하지 않는 부분을 수정했는데도 테스트 코드까지 다시 타입 검사해야 함…</li>\n<li>반대로 테스트 코드를 고치면 소스 코드까지 다시 타입 검사해야 함…</li>\n</ol>\n</blockquote>\n<p>물론 평소라면 어느 정도 감당이 가능한 불편함이기는 하지만, 프로젝트의 크기가 커지면 커질 수록 컴파일러의 타입 검사도 비례해서 느려지기 때문에 어느 순간부터는 개발 자체에 어려움을 느낄 수도 있다. 그렇다면 프로젝트의 모듈마다 <code class=\"language-text\">tsconfig</code>를 만들어 두고 따로 컴파일하면 어떨까?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">├── src/\n│   ├── converter.ts\n│   ├── units.ts\n│   └── tsconfig.json\n└── test/\n    ├── converter-tests.ts\n    ├── units-tests.ts\n    └── tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 각각의 모듈 별로 <code class=\"language-text\">tsconfig</code>를 가지도록 구성하면 위에서 이야기했던 문제들은 어느 정도 해결된다. 하지만 이 경우에는 각각의 모듈 별로 따로 컴파일해줘야 하는데다가, 기본적으로 <code class=\"language-text\">tsc</code>는 하나의 프로세스만 띄울 수 있도록 만들어졌기 때문에 동시에 여러 개의 <code class=\"language-text\">tsconfig</code>를 토대로 빌드를 하거나 소스 코드의 변경 사항을 감시하는 것이 불가능하다.</p>\n<p>그래서 타입스크립트 팀에서는 <code class=\"language-text\">references</code>라는 필드로 이 문제를 해결하려고 하는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// my-project/test/tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"references\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// my-project/src/tsconfig.json을 참조한다</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../src\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 예시는 <code class=\"language-text\">references</code> 필드를 사용하여 <code class=\"language-text\">test</code> 모듈에서 <code class=\"language-text\">src</code> 모듈을 참조하고 있다는 것을 표현하고 있다. 이때 <code class=\"language-text\">test</code> 모듈에서 <code class=\"language-text\">src</code> 모듈에 있는 하위 모듈들을 불러오게 되면 소스 코드인 <code class=\"language-text\">*.ts</code>가 아니라 빌드가 완료된 결과물인 <code class=\"language-text\">*.d.ts</code> 파일을 가져온다. <small>(<code class=\"language-text\">tsc --build</code>를 사용하면 해당 모듈의 최신 상태를 감지하고 증분 빌드도 해준다.)</small></p>\n<p>프로젝트 레퍼런스에 대한 자세한 내용은 이 포스팅의 주제는 아니니, 더 궁금하신 분들은 타입스크립트 공식 문서의 <a href=\"https://www.typescriptlang.org/docs/handbook/project-references.html\" target=\"_blank\" rel=\"nofollow\">Project Referneces</a> 문서를 확인해보도록 하자.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이번 포스팅에서는 <code class=\"language-text\">tsconfig</code>의 루트에 있는 몇 가지 필드들의 역할을 알아보았다. 사실 하나의 포스팅으로 <code class=\"language-text\">tsconfig</code>를 깔끔하게 정리하고 싶었는데, 이 친구가 워낙 방대한 옵션들을 가지고 계신지라 부득이하게 여러 개의 포스팅으로 나눠서 집필하게 되었다.</p>\n<p>이어지는 <a href=\"/2021/08/08/tsconfig-compiler-options-type-check/\">다음 포스팅</a>에서는 타입스크립트의 컴파일 옵션들 중 타입 체크에 관한 옵션들에 대해서 이야기해보도록 하겠다.</p>\n<p>이상으로 [tsconfig의 모든 것] Root fields 포스팅을 마친다.</p>","fields":{"slug":"20210730-tsconfig-options-root-fields","path":"/2021/07/30/tsconfig-options-root-fields/","lang":"ko"},"frontmatter":{"title":"[tsconfig의 모든 것] Root fields","subTitle":"복붙하던 tsconfig를 다시 읽다 - 루트 필드가 만드는 프로젝트의 기준점","date":"Jul 30, 2021","categories":["프로그래밍","튜토리얼","자바스크립트"],"tags":["TypeScript","타입스크립트","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/18562cf9f40ec5572baa9105e9ecddbd/d803c/thumbnail.png","srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/d803c/thumbnail.png 320w,\n/static/18562cf9f40ec5572baa9105e9ecddbd/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/fc5c5/thumbnail.webp 320w,\n/static/18562cf9f40ec5572baa9105e9ecddbd/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/18562cf9f40ec5572baa9105e9ecddbd/01fb2/thumbnail.png","srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"f6c1b949-ce24-5e8c-aec1-e95e9cc27972","tableOfContents":"","excerpt":"","html":"","fields":{"slug":"tsconfig-guide","path":"/books/tsconfig-guide/","lang":"ko"},"frontmatter":{"title":"tsconfig의 모든 것","subTitle":"복붙하던 tsconfig를 제대로 이해하기","date":"Jul 30, 2021","categories":null,"tags":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/18562cf9f40ec5572baa9105e9ecddbd/d803c/thumbnail.png","srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/d803c/thumbnail.png 320w,\n/static/18562cf9f40ec5572baa9105e9ecddbd/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/fc5c5/thumbnail.webp 320w,\n/static/18562cf9f40ec5572baa9105e9ecddbd/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/18562cf9f40ec5572baa9105e9ecddbd/01fb2/thumbnail.png","srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"114ba070-14fa-55a2-bb32-c7bbb8f92298","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9E%98%EB%AA%BB%EB%90%9C-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%B4-%EB%A7%8C%EB%93%9C%EB%8A%94-%EC%95%BC%EA%B7%BC-%EC%83%81%ED%99%A9\">잘못된 정규 표현식이 만드는 야근 상황</a></p>\n<ul>\n<li><a href=\"#%EC%98%81%EC%9B%90%ED%9E%88-%EB%81%9D%EB%82%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D\">영원히 끝나지 않는 정규 표현식</a></li>\n<li><a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9C%BC%EB%A1%9C%EB%8A%94-%ED%95%B4%EA%B2%B0%ED%95%A0-%EC%88%98-%EC%97%86%EB%8A%94-%EB%AC%B8%EC%A0%9C\">정규 표현식으로는 해결할 수 없는 문제</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%80-%EC%99%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%A7%84-%EA%B2%83%EC%9D%BC%EA%B9%8C\">정규 표현식은 왜 만들어진 것일까?</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EA%B3%84%EA%B0%80-%EC%95%8C%EC%95%84%EB%93%A4%EC%9D%84-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%96%B8%EC%96%B4%EB%A5%BC-%ED%91%9C%ED%98%84%ED%95%B4%EB%B3%B4%EC%9E%90\">기계가 알아들을 수 있는 언어를 표현해보자</a></li>\n<li><a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%B4-%EA%B5%AC%EB%8F%99%EB%90%98%EB%8A%94-%ED%99%98%EA%B2%BD-%EC%9C%A0%ED%95%9C-%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80\">정규 표현식이 구동되는 환경, 유한 오토마타</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%98-%ED%95%9C%EA%B3%84\">정규 표현식의 한계</a></p>\n<ul>\n<li><a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%B4-html%EC%9D%84-%EC%9D%B4%ED%95%B4%ED%95%98%EC%A7%80-%EB%AA%BB-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">정규 표현식이 HTML을 이해하지 못 하는 이유</a></li>\n<li><a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%80-%EA%B2%B0%EA%B5%AD-%EC%9C%A0%ED%95%9C-%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80%EC%9D%B4%EB%8B%A4\">정규 표현식은 결국 유한 오토마타이다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 이름만 들어도 땀이 나기 시작하는 마성의 그 녀석, 정규 표현식에 대한 세 번째 이야기를 해보려고 한다. 필자도 알고 여러분도 알고 세상 모두가 다 알다시피 정규 표현식은 평소 악랄한 문법으로 유명한 녀석이기 때문에, 지난 번 필자가 썼던 불규칙 속에서 규칙을 찾아내는 정규 표현식 포스팅처럼 정규 표현식의 문법을 분석하고 사용법을 알려주는 포스팅들 또한 굉장히 많다.","html":"<p>이번 포스팅에서는 이름만 들어도 땀이 나기 시작하는 마성의 그 녀석, 정규 표현식에 대한 세 번째 이야기를 해보려고 한다.</p>\n<p>필자도 알고 여러분도 알고 세상 모두가 다 알다시피 정규 표현식은 평소 악랄한 문법으로 유명한 녀석이기 때문에, 지난 번 필자가 썼던 <a href=\"/2020/07/24/about-regular-expression\">불규칙 속에서 규칙을 찾아내는 정규 표현식</a> 포스팅처럼 정규 표현식의 문법을 분석하고 사용법을 알려주는 포스팅들 또한 굉장히 많다.</p>\n<!-- more -->\n<p>반면 그 악랄한 문법에 익숙해지고 나면 문자열과 관련된 굉장히 다양한 문제를 짧은 정규 표현식만으로 빠르게 해결할 수 있기 때문에, 개발자들에게는 상당한 애증의 대상이라고 할 수 있다. <small><del>(필자 주변 개발자들도 대부분 정규식 별로 안 좋아한다…)</del></small></p>\n<p>그래서 정규 표현식으로 어떤 문제를 해결할 때, 구글링을 통해 찾은 정규 표현식을 복붙하거나 <a href=\"https://regexr.com/\" target=\"_blank\" rel=\"nofollow\">regexr</a> 같은 사이트에서 삽질을 하며 해결하는 경우가 많은데, 이 과정에서 잘못된 정규 표현식을 아무 검증없이 사용하여 피를 보는 케이스가 왕왕 존재한다.</p>\n<p>물론 어떤 정규 표현식을 보고 이게 올바른 정규 표현인지 아닌지를 파악하는 것은 쉽지 않다. 하지만 정규 표현식이라는 것이 왜 세상에 나오게 되었는지, 어떤 환경에서 구동되는 것을 전제로 만들어진 것인지부터 알고 나면 자연스럽게 정규 표현식의 한계점도 이해할 수 있게 된다.</p>\n<p>이번 포스팅에서는 필자와 같은 프론트엔드 개발자에게는 너무나도 익숙한 HTML이라는 언어를 정규 표현식만으로 파싱할 수 있는가라는 질문을 통해 정규 표현식이 개발된 목적과 한계에 대해서 이야기 해보려고 한다.</p>\n<h2 id=\"잘못된-정규-표현식이-만드는-야근-상황\" style=\"position:relative;\">잘못된 정규 표현식이 만드는 야근 상황<a href=\"#%EC%9E%98%EB%AA%BB%EB%90%9C-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%B4-%EB%A7%8C%EB%93%9C%EB%8A%94-%EC%95%BC%EA%B7%BC-%EC%83%81%ED%99%A9\" aria-label=\"잘못된 정규 표현식이 만드는 야근 상황 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>본격적인 설명에 들어가기에 앞서, 잘못 작성된 정규 표현식이 어떤 상황을 불러올 수 있는지부터 함께 살펴보자.</p>\n<p>필자가 이 포스팅에서 이야기하는 잘못 작성된 정규 표현식은 “정규 표현식이 <code class=\"language-text\">a</code>를 찾아야 하는데, <code class=\"language-text\">b</code>를 찾았어”와 같은 느낌은 아니다. 사실 이런 문제는 그냥 정규 표현식 문법이 익숙하지 않아서 실수한 것이기 때문에, 시간을 가지고 정규 표현식을 조금만 자세히 들여다 보면 누구든지 잘못 작성한 표현을 찾아낼 수 있다.</p>\n<p>필자가 이야기하고 싶은 것은 정규 표현식이 작동하는 원리를 잘 모르고 사용했을 때 발생할 수 있는 퍼포먼스 이슈나, 혹은 정규 표현식으로는 아예 해결이 불가능한 문제를 어떻게든 해결하려고 붙잡고 있는 슬픈 상황들이다.</p>\n<p>물론 개발자들이 이런 원리 같은 건 몰라도 정규 표현식을 사용할 수 있도록 정규 표현식 엔진이라는 추상화 계층이 존재하는 것이기는 하지만, 그렇다고 너무 엔진만 믿고 있다가는 믿었던 정규 표현식한테 뒷통수를 얻어맞는 상황이 얼마든지 발생할 수 있다.</p>\n<h3 id=\"영원히-끝나지-않는-정규-표현식\" style=\"position:relative;\">영원히 끝나지 않는 정규 표현식<a href=\"#%EC%98%81%EC%9B%90%ED%9E%88-%EB%81%9D%EB%82%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D\" aria-label=\"영원히 끝나지 않는 정규 표현식 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>첫 번째 뒷통수 상황은 정규 표현식이 패턴을 매칭하는 과정을 잘 모르고 사용했을 때 발생할 수 있는 퍼포먼스 이슈이다.</p>\n<p>정규 표현식은 DFS(깊이 우선 탐색) 알고리즘을 기반으로 하는 <a href=\"https://docs.microsoft.com/ko-kr/dotnet/standard/base-types/backtracking-in-regular-expressions\" target=\"_blank\" rel=\"nofollow\">백트래킹</a> 알고리즘을 사용하여 문자열의 패턴을 매칭한다. 즉, 어떤 노드를 어떤 조건으로 탐색하냐에 따라서 패턴을 매칭하는 시간이 생각보다 많이 길어질 수도 있다는 것이다.</p>\n<p>특히 자바스크립트 엔진에 포함되어있는 정규 표현식 엔진은 비동기가 아닌 동기식으로 작동하기 때문에 정규 표현식이 패턴 매칭하느라 시간을 오래 잡아먹는다면, 그 시간 동안 다른 일을 전혀 수행할 수 없는 눈물나는 상황이 발생할 수도 있다.</p>\n<p>이게 어떤 상황인지 이해가 되지 않는다면 브라우저에서 새 탭을 열고 아래 코드를 콘솔에서 실행해보도록 하자. <small>(이 탭에서 하면 글을 못 읽을테니 다른 탭에서 하자…)</small></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 문자열 길이와 상관없이 무조건 탐색 8회</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123123123123123123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 탐색 26회</span>\n<span class=\"token comment\">// 이 정도는 금방 끝난다</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 탐색 98,306회</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123123123123123!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// 어...? 연산이 안 끝난다....</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123123123123123123123123123123123123123123!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>첫 번째 예시는 문자열 길이와 상관없이 무조건 8회의 탐색만으로 빠르게 패턴을 매칭하고 결과를 반환하지만 두 번째 예시를 보면 문자열 끝에 특수문자가 하나 붙었을 뿐인데 연산 횟수가 기하급수적으로 늘어나더니, 급기야 연산이 끝나지 않는 수준까지 도달한다.</p>\n<p>만약 이런 상황이 실제 비즈니스 어플리케이션에서 발생했다면 유저는 어떠한 UI 요소와도 상호 작용을 하지 못하고 멈춰버린 화면만 보고 있게 될 것이다. 심지어 이런 정규 표현식의 작동원리를 악용하여 시스템을 멈추게 하는 <a href=\"https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS\" target=\"_blank\" rel=\"nofollow\">ReDoS</a>라는 공격 방식도 존재한다.</p>\n<p>바로 이런 경우가 정규 표현식의 작동 원리를 제대로 알지 못하고 사용하게 되면 가끔 맛 볼 수있는 야근 상황이다.</p>\n<p>더 화딱지가 나는 건 저런 정규 표현식을 작성해도 그저 수행 시간만 기하급수적으로 늘어날 뿐 에러는 아니라는 것이다. 그래서 믿었던 정규 표현식한테 뒷통수 맞기가 더 쉬운 상황이다. 게다가 이런 종류의 에러는 진짜 찾기도 힘들다. <small><del>(어찌어찌 찾았아도 정규 표현식이 원인이란 걸 알면 눈앞이 막막해진다…)</del></small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/eb72386d97e23ce4f176bfa012c913c9/6a068/noway.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGQ9ugmcLFf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQMAAhIRQf/aAAgBAQABBQLyy8ViaAx6xjpn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABkQAAIDAQAAAAAAAAAAAAAAAAABEBEhUv/aAAgBAQAGPwIWwrL5j//EABkQAQEAAwEAAAAAAAAAAAAAAAEAEBEhYf/aAAgBAQABPyGEvpcArrduSs9r/9oADAMBAAIAAwAAABCc7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxATG2//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EJqRp//EABoQAQADAQEBAAAAAAAAAAAAAAEAETEhUUH/2gAIAQEAAT8QqwCCmsVKH0+ZPNyDdb1h2MA0cFsRaqUcvP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"noway\" title=\"\" src=\"/static/eb72386d97e23ce4f176bfa012c913c9/c08c5/noway.jpg\" srcset=\"/static/eb72386d97e23ce4f176bfa012c913c9/0913d/noway.jpg 160w,\n/static/eb72386d97e23ce4f176bfa012c913c9/cb69c/noway.jpg 320w,\n/static/eb72386d97e23ce4f176bfa012c913c9/c08c5/noway.jpg 640w,\n/static/eb72386d97e23ce4f176bfa012c913c9/6a068/noway.jpg 960w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>내 야근이 잘못 작성한 정규 표현식 한 줄 때문이란 것을 알았을 때의 표정.jpg</small>\n</center>\n<p>이렇게 백트래킹 알고리즘을 사용하는 정규 표현식의 특성 상 어떤 탐색 과정을 거치냐에 따라서 퍼포먼스가 많이 떨어질 수도 있기 때문에, 정규 표현식을 사용할 때는 이런 뜻하지 않은 상황이 발생할 수도 있다는 것을 항상 염두에 둬야한다.</p>\n<h3 id=\"정규-표현식으로는-해결할-수-없는-문제\" style=\"position:relative;\">정규 표현식으로는 해결할 수 없는 문제<a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9C%BC%EB%A1%9C%EB%8A%94-%ED%95%B4%EA%B2%B0%ED%95%A0-%EC%88%98-%EC%97%86%EB%8A%94-%EB%AC%B8%EC%A0%9C\" aria-label=\"정규 표현식으로는 해결할 수 없는 문제 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>그리고 두 번째 뒷통수 상황은 정규 표현식만으로는 절대 해결할 수 없는 문제를 정규 표현식으로 해결하려고 하는 상황이다.</p>\n<p>첫 번째 상황은 퍼포먼스 모니터링을 통해 “정규 표현식이 이상한데?”라는 문제라도 알아낼 수 있지만, 이 두 번째 상황은 정규 표현식의 원리와 한계를 모른다면 진짜 일주일 내내 삽질만 하며 시간만 날릴 수도 있는 상황이기 때문에 개인적으로는 이 두 번째 상황이 조금 더 슬픈 상황이라고 생각한다.</p>\n<p>아래에서 다시 후술하겠지만, 사실 정규 표현식은 세상 모든 문자열의 패턴을 찾아낼 수 있는 만능 열쇠가 아니라 오히려 엄격한 한계가 존재하는 도구이다.</p>\n<p>대표적으로 HTML, CSS와 같이 무한하게 열릴 수 있는 태그나 괄호가 존재하는 언어는 정규 표현식으로 검증이 불가능하다. 그래서 이 포스팅의 제목이었던 “HTML을 정규 표현식으로 파싱할 수 있을까?”라는 질문에 대한 대답은 바로</p>\n<center>\n.<br/>\n.<br/>\n.<br/>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1f85f28d9af3c34a4c07a14d96563b68/066f9/x.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 116.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHJSPJcQS1AyCv/xAAdEAACAQQDAAAAAAAAAAAAAAABAgADERIyEyEx/9oACAEBAAEFAqZXj6WPuptSzj7hrByRD7//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwFj/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BI//EABwQAAICAgMAAAAAAAAAAAAAAAABAhEhcRAxMv/aAAgBAQAGPwJXRHOx7EzpDFhM8RV8f//EAB0QAAICAgMBAAAAAAAAAAAAAAERACExYRBBUaH/2gAIAQEAAT8hEyigBia/XBVc9QWob1PthiyIKDmX6BCO7zP/2gAMAwEAAgADAAAAEIPoQP/EABURAQEAAAAAAAAAAAAAAAAAACAh/9oACAEDAQE/EIH/xAAWEQEBAQAAAAAAAAAAAAAAAAAQESH/2gAIAQIBAT8Q0U//xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMbFBcVGBwf/aAAgBAQABPxAJEjA+4AjKsBBKeOIteG3FOBiiTWTdQgB5RgvplO/uAoEhyHZwDA4qjJh3PM2vuf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"x\" title=\"\" src=\"/static/1f85f28d9af3c34a4c07a14d96563b68/066f9/x.jpg\" srcset=\"/static/1f85f28d9af3c34a4c07a14d96563b68/0913d/x.jpg 160w,\n/static/1f85f28d9af3c34a4c07a14d96563b68/cb69c/x.jpg 320w,\n/static/1f85f28d9af3c34a4c07a14d96563b68/066f9/x.jpg 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\"No\" 이다.</small>\n</center>\n<p>만약 여러분이 HTML을 정규 표현식만으로 파싱하는 것은 불가능하다는 사실을 모르고 있었다면, 절대 해결할 수 없는 문제를 해결하기 위해 많은 시간을 날려먹을 수도 있다는 것이다.</p>\n<p>그런데 필자를 포함한 많은 분들이 평소에 정규 표현식을 사용하여 HTML 태그가 올바르게 열리고 닫혔는지를 검사해본 경험이 있는데, 왜 필자는 정규 표현식으로 HTML을 파싱할 수 없다고 이야기하는 것일까?</p>\n<p>그 이유를 알기 위해서는 정규 표현식이라는  도구가 어떤 맥락에서 개발된 것인지, 어떤 환경에서 구동되는 것을 전제로 하고 있는 것인지를 살펴보며 정규 표현식이 가지고 있는 한계가 무엇인지 알아봐야 할 필요가 있다.</p>\n<h2 id=\"정규-표현식은-왜-만들어진-것일까\" style=\"position:relative;\">정규 표현식은 왜 만들어진 것일까?<a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%80-%EC%99%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%A7%84-%EA%B2%83%EC%9D%BC%EA%B9%8C\" aria-label=\"정규 표현식은 왜 만들어진 것일까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>개발자들에게 정규 표현식이라는 단어는 이미 익숙하다. 개발자들 사이에서 정규 표현식의 줄임말인 정규식을 규식이형처럼 변형해서 부르는 것이 밈이 될 정도이기도 하니 말이다.</p>\n<p>하지만 정규 표현식이 왜 “정규 표현식”이라는 요상한 이름으로 불리는 지를 궁금해 하는 사람은 그렇게 많지 않다. 그러니 정규 표현식이 정확히 어떤 역할을 하는 도구인지를 알기 위한 첫 걸음으로 우리에게 이미 익숙한 이 “정규 표현식”이라는 이름의 의미부터 한번 생각해보도록 하자.</p>\n<p>정규(正規)라는 단어의 의미는 규칙적인 무언가, 패턴이다. 즉, 정규 표현이라는 것은 결국 말 그대로 규칙적인 패턴을 표현하고 있다는 의미이기 때문에 우리는 일반적으로 정규 표현식이 문자열에서 내가 원하는 패턴을 매칭하는 도구라고 알고 있다.</p>\n<p>이 패턴이라는 단어는 <code class=\"language-text\">12121212</code>처럼 단순히 반복되는 규칙만을 의미하는 것이 아니라, 우리가 정규 표현식을 사용할 때 정의하는 규칙처럼 “a가 2번 나오고 그 뒤에 바로 b가 나타난다”와 같이 사용자가 정의하는 모든 규칙까지 포함하는 의미이다.</p>\n<p>이처럼 정규 표현식의 가장 기본적인 용도는 문자열 속에서 패턴을 찾는 것이지만, 사실 정규 표현식은 단순히 문자열의 패턴을 찾을 수 있다는 니즈만을 위해서 만들어진 것이 아니다. 그렇다면 정규 표현식은 도대체 무엇을 위한 패턴을 표현하고 있는 것일까?</p>\n<h3 id=\"기계가-알아들을-수-있는-언어를-표현해보자\" style=\"position:relative;\">기계가 알아들을 수 있는 언어를 표현해보자<a href=\"#%EA%B8%B0%EA%B3%84%EA%B0%80-%EC%95%8C%EC%95%84%EB%93%A4%EC%9D%84-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%96%B8%EC%96%B4%EB%A5%BC-%ED%91%9C%ED%98%84%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"기계가 알아들을 수 있는 언어를 표현해보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>앞서 이야기했듯이 정규 표현식은 어떤 패턴을 표현하기 위해 태어난 도구이지만, 사실 정규 표현식의 탄생 배경을 이해하려면 “왜 문자열 내에서 패턴을 찾으려고 했는지”를 아는 것이 더 중요하다.</p>\n<p>결론부터 이야기하자면 정규 표현식의 시작은 바로 기계가 알아들을 수 있는 언어를 표현하기 위한 고민에서부터 출발했다. 즉, 기계가 언어라는 개념을 인지할 수 있도록 언어를 수학적으로 표현하기 위해 태어난 개념이라는 것이다.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 562px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4f4d2658e241ef2ff07b2ea1ebe8d947/9f2bf/kleene.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 142.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAwH/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABroo6pqJCLVJzJUOi/wD/xAAbEAEBAQADAQEAAAAAAAAAAAACAwEAERITBP/aAAgBAQABBQL6Hn6L+eCrRROW+M9CkZrN6pR+hgyppRSUabQRzof/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAADAAIBBQAAAAAAAAAAAAAAAQIRMSESIlFiof/aAAgBAQAGPwLZwzJXfm38F1rnWRzVjbF7SKsrRUp8ZJb2rMeD/8QAGxAAAwEBAQEBAAAAAAAAAAAAAAERITFxQVH/2gAIAQEAAT8hxskCauX0WQ46yvMY2BEauD2FX45g++ad2YxCieNj8HbZekqWpoYE4L6hX31Ef//aAAwDAQACAAMAAAAQaCD8/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQEf/aAAgBAwEBPxBbwn//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAgEAEAAgEEAgMAAAAAAAAAAAABESEAMUFxkVGBodHw/9oACAEBAAE/EGdoyUm44w4zG9VoisIB2H3hxLJEGF8mIcZk32CbRK9ZMGUixUVWSWqgKTn4xBVqlzFs864rVAhh7JyCACCe44rAtSaixJr9OTtJVNK1D1MZ/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kleene\" title=\"\" src=\"/static/4f4d2658e241ef2ff07b2ea1ebe8d947/9f2bf/kleene.jpg\" srcset=\"/static/4f4d2658e241ef2ff07b2ea1ebe8d947/0913d/kleene.jpg 160w,\n/static/4f4d2658e241ef2ff07b2ea1ebe8d947/cb69c/kleene.jpg 320w,\n/static/4f4d2658e241ef2ff07b2ea1ebe8d947/9f2bf/kleene.jpg 562w\" sizes=\"(max-width: 562px) 100vw, 562px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>1951년, 처음으로 정규 집합을 사용하여 언어를 수학적으로 기술한 클레이니 형</small>\n  <br>\n  <br>\n</center>\n<p>단, 이 시절에 이야기하는 기계가 알아들을 수 있는 언어라는 것은 오늘 날 연구하고 있는 것처럼 사람이 사용하는 자연어 같은 고수준의 언어를 의미하는 것은 당연히 아니다.</p>\n<p>여기서 언어라고 하는 것은 한국어나 영어 같은 자연어가 아니라 조금 더 추상적인 의미이다. 평소에 우리가 사용하는 프로그래밍 언어도 “언어(Language)“라고 부르는 것처럼 컴퓨터 과학과 수학의 세계에서 언어라는 것은 단순히 어떤 특정한 규칙을 가진 문자열의 집합을 의미하기 때문이다.</p>\n<h4 id=\"수학적으로-정의된-언어의-의미\" style=\"position:relative;\">수학적으로 정의된 언어의 의미<a href=\"#%EC%88%98%ED%95%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%A0%95%EC%9D%98%EB%90%9C-%EC%96%B8%EC%96%B4%EC%9D%98-%EC%9D%98%EB%AF%B8\" aria-label=\"수학적으로 정의된 언어의 의미 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>우리는 언어라고 하는 것이 무엇인지 느낌적으로는 알고 있지만 정확히 이게 무엇이라고 고민해본 적은 많이 없을 것이다.</p>\n<p>하지만 컴퓨터 과학이나 수학의 세계에서는 이런 느낌적인 지식을 절대 허용하지 않기 때문에, 언어라는 개념을 이 세계에서 사용하고 싶다면 언어가 정확히 어떤 것이라고 정의하는 과정이 반드시 필요하다.</p>\n<p>사실 수학과 컴퓨터 과학에서 정의하는 언어라는 것은 단순하게 어떤 문자열들의 집합을 의미하는 것 그 이상 그 이하도 아니다.</p>\n<center>\n  <div style=\"max-width: 500px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6ddec89701fd0b1be27aa0c351fb400f/3534c/language_set.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 105%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVR42n1VWU9TYRC9PxAoW4FuQAsJWygF2SWENSmlgO8+EaDCpfokxgARxKAoxEQkbMGG4ANqQvTFGOS2x55pptwWtcnkW+58Z+acme+rgTu/FK5vLDz9cIXF3a8w975h8e0lltJm7n5BbOcSzz5e4cZKim/+z7AvksmkjD+vLSzsfcf9h88RmnqE4OSC2L0ZE6GZZZjvf+DXbysTPpX6O6B+SCQ+IRyJIrr4Eg+evEN06RWml19jOv4mM3+8g8nYC0xGp/D54uIOqGHPbGNjAx6PB8XFxXB73PB4ffD6fDLq3JseKysr4SgqQnV1Nba3t3PYGTpZW1sToIqKCjngdDrTcyeqqqpyzO12IRDwo6amRnzLysqwtbWVBZUMT09P4XK5xKG2thYNDQ2or69HXV2d7KsRkECjo6Nobm6WNYN7vV6cn5/fUh4eHs7QdLsFaGxsDAMDA+jo6JA9OyBHgmSydQuYw+FAOBzOAB4cHKC8vDx7gM5c00ib+zxIbX1pDRWce2SkUpA6mRqzs7MSgVRpjMgDBKAjaQ8NDWF8fBxdXV0CxKCtra3CrLe3FyMjIwiFQjBNEwadCcAPnDc2Nkpkpaq0NJAaA1JPZq0FmpiYgNHe3i7U7FrZjdnQWaufXyTVsqSkBH19ff8H5F4gEBDaLBbn9mrzrGZLwP7+fhjkX1paKqnzgz06193d3RKZVacsWml+o+b2DCORCIy5uTkUFBSIqC0tLVn91EhTaXPUfaVLUGbOtovH4zD29/elRXxyrW6F17bR1rAH0Cy5JgP2K/2Oj48zjT04OCgpa6sQuKenB21tbdIefr8/KwO7gJpqgQjKtmNbZW/K0dGRRLA3cWdnp4AGg0FZs3GZdVNTkxRIr5xmf3Z2lvs4rKysoCj9ghCUjjxMEAaitqwo769SpkQcqd36+nru46Cgq6urAqj0CcwnigXjLWF23GNGBKLP5uZm7vOV/1rzPvJKsSDUhuCFhYXSCWTAPWZNzRKJRM7Zf/4FWJaFw8NDzM/Pyz2lluxBPluxWAwnJydZ3/y/gD9PC0UiLVJxTgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"language set\" title=\"\" src=\"/static/6ddec89701fd0b1be27aa0c351fb400f/6af66/language_set.png\" srcset=\"/static/6ddec89701fd0b1be27aa0c351fb400f/69538/language_set.png 160w,\n/static/6ddec89701fd0b1be27aa0c351fb400f/72799/language_set.png 320w,\n/static/6ddec89701fd0b1be27aa0c351fb400f/6af66/language_set.png 640w,\n/static/6ddec89701fd0b1be27aa0c351fb400f/3534c/language_set.png 808w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>자바스크립트는 대충 이런 문자열들이 모인 집합이지 않을까</small>\n  <br>\n  <br>\n</center>\n<p>하지만 당연하게도 아무 문자열이나 막 집어넣은 집합을 의미하는 것은 아니기 때문에, 언어를 구성하는 문자열의 집합은 반드시 다음 3가지 조건을 만족해야한다.</p>\n<blockquote>\n<ol>\n<li>\n<p>유한한 길이의 기호들의 집합 S가 반드시 존재한다</p>\n</li>\n<li>\n<p>S의 원소들로 만든 문자열의 집합인 S*를 형성하는 규칙이 반드시 존재한다</p>\n</li>\n<li>\n<p>규칙에 맞게 만들어진 문자열들이 어떤 의미를 가지는지 결정할 수 있다</p>\n</li>\n</ol>\n</blockquote>\n<p>즉, 이 3가지 조건을 만족하는 문자열의 집합은 정말로 기초적인 언어라고 부를만한 자격이 되는 것이다. 이제 언어의 정의에 대해 알았으니 이제 1번부터 하나하나 만족시켜보면서 언어를 만들어보도록 하자.</p>\n<p>우선 첫 번째 조건인 기호들의 집합 <code class=\"language-text\">S</code>는 무엇을 의미하는 걸까?</p>\n<p>잘 생각해보면 지구 상에 존재하는 모든 언어들은 그 언어에서 사용되는 기호들을 가지고 있다. 한글은 <code class=\"language-text\">ㄱ, ㄴ, ㄷ</code>과 같은 자음과 <code class=\"language-text\">ㅏ, ㅑ, ㅓ</code> 같은 모음을 나타내는 기호들, 그리고 영어는 <code class=\"language-text\">a, b, c</code>와 같은 기호들을 가지고 있는 것 처럼 말이다. 우리는 이런 기호들의 모음을 “알파벳”이라고 부르고, 바로 이 알파벳이 언어의 첫 번째 조건인 기호들의 집합 <code class=\"language-text\">S</code>이다.</p>\n<p>그럼 한번 알파벳을 정해보도록 하자. 필자는 이 예시에서 그냥 소박하게 <code class=\"language-text\">a, b</code>라는 간단한 기호 2개로만 알파벳을 구성하려고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token constant\">S</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>자 이제 언어의 첫 번째 조건인 “유한한 길이의 기호들의 집합 <code class=\"language-text\">S</code>“를 만들었다. 다음으로는 ”<code class=\"language-text\">S</code>의 원소들로 만든 문자열의 집합인 <code class=\"language-text\">S*</code>“를 만들 차례이다. 두 번째 조건을 보면 이 문자열의 집합을 형성하기 위해서는 어떠한 규칙이 필요하다고 한다.</p>\n<p>그리고 이 규칙이 바로 이 언어의 문법(Syntax)를 의미한다. 지구 상에는 같은 알파벳을 사용하는 언어가 한 두개가 아니기 때문에, 이 두 번째 규칙, 즉 문법이 이 언어의 특색을 만들어낸다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">[같은 라틴 알파벳을 쓰지만 문자열을 조합하는 규칙이 다름]\n\n영어: I love you\n프랑스어: je t'aime\n이탈리아어: ti amo</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위 예시에서 볼 수 있듯이 영어에서 사용되는 라틴 알파벳은 프랑스어나 이탈리아어에서도 대부분 사용되고 있다. 똑같이 “사랑”이라는 의미를 가진 단어라고 해도 영어는 <code class=\"language-text\">love</code>라는 4개의 알파벳이 조합된 문자열로 표현하고, 프랑스어는 <code class=\"language-text\">l'amour</code>라는 <code class=\"language-text\">'</code>를 포함하여 7개의 알파벳이 조합된 문자열로 표현할 수 있는 것을 생각해보면 된다.</p>\n<p>그래서 알파벳만 정의한다고 해서 어떤 언어를 정의했다고 말하기가 어렵다는 것이다. 필자는 이 문자열의 집합 <code class=\"language-text\">S*</code>의 규칙을 “알파벳 <code class=\"language-text\">a</code>와 <code class=\"language-text\">b</code>로 만들 수 있는 모든 3자리 이하의 글자”라고 정하도록 하겠다. 그럼 필자가 만들고 있는 이 언어를 구성하는 문자열의 집합 <code class=\"language-text\">S*</code>는 이런 모양이 될 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token constant\">S</span><span class=\"token operator\">*</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ba\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bb\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"aaa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"aab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"aba\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"abb\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"baa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bba\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bbb\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이제 두 번째 조건인 ”<code class=\"language-text\">S</code>의 원소들로 만든 문자열의 집합인 <code class=\"language-text\">S*</code>를 형성하는 규칙”도 정의하고나니 필자의 언어가 어떤 문자열들을 포함하고 있는 집합인지 알 수 있게 되었다. 여기까지 오고나면 사실 마지막 조건은 자동으로 충족된다.</p>\n<p>필자가 <code class=\"language-text\">S*</code>의 규칙으로 정의한 조건인 “알파벳 <code class=\"language-text\">a</code>와 <code class=\"language-text\">b</code>로 만들 수 있는 모든 3자리 이하의 글자”는 유한한 개수의 문자열의 원소만 만들 수 있기 때문에, 이렇게 만들어진 모든 문자열에 의미를 각각 부여해주는 것이 가능하기 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a = 배가 고파요\nb = 퇴근하고 싶어요\naa = 서버에서 500이 떨어져요\n...</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>필자는 이렇게 단 5분 만에 언어의 조건 3개를 모두 충족시켜서 허접한 언어를 만들어낼 수 있었다. 앞으로의 설명에서 이 언어는 “에반어”라고 부르도록 하겠다.</p>\n<h4 id=\"기계야-내-언어를-이해해줘\" style=\"position:relative;\">기계야 내 언어를 이해해줘<a href=\"#%EA%B8%B0%EA%B3%84%EC%95%BC-%EB%82%B4-%EC%96%B8%EC%96%B4%EB%A5%BC-%EC%9D%B4%ED%95%B4%ED%95%B4%EC%A4%98\" aria-label=\"기계야 내 언어를 이해해줘 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>사실 어떤 언어를 만드는 규칙 자체는 단순하기 때문에 누구라도 에반어처럼 허접한 언어를 만들어낼 수는 있다. 그런데 문제는 이 언어를 기계가 이해할 수 있냐는 것이다.</p>\n<p>결국 어떤 기계가 언어를 이해할 수 있다는 것은 이 언어를 구성하는 문자열에 특정한 패턴이 있어야 한다는 의미이다. 즉, 언어를 구성하는 문자열의 패턴을 수학적으로 표현할 수만 있다면 이 언어는 기계가 이해할 수 있는 언어라고 이야기할 수 있는 것이다.</p>\n<p>물론 같은 언어라고 해도 우리가 일상 속에서 사용하는 한국어, 영어와 같은 자연어는 문맥이 굉장히 자유롭고 시대의 흐름에 따라 문법이나 의미가 변경되는 일도 있기 때문에 절대적인 패턴이라는 것이 존재할 수 없다. 하지만 필자가 방금 만든 에반어처럼 문자열들을 구성하는 규칙이 명확하다면 이것은 기계가 이해할 수 있는 언어가 된다.</p>\n<p>필자가 만든 에반어는 a와 b로 이루어진 3자리 이하의 문자열이라는 명확한 규칙이 존재하기 때문에 이렇게 수식으로 표현하는 것이 가능하다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>L</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>ϵ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>ϵ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>ϵ</mi><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mo>=</mo><mo stretchy=\"false\">{</mo><mi>ϵ</mi><mo separator=\"true\">,</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>b</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>b</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>a</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>b</mi><mi>b</mi><mi>b</mi><mo stretchy=\"false\">}</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\nL = (a+b+\\epsilon)(a+b+\\epsilon)(a+b+\\epsilon) \\\\\n= \\{ \\epsilon, a, b, aa, ab, ba, bb, ba, bb, aaa, aab, ... bbb \\}\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3em;vertical-align:-1.25em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.75em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">ϵ</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">ϵ</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">ϵ</span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">ϵ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">aa</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ab</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ba</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">bb</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ba</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">bb</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">aaa</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">aab</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">...</span><span class=\"mord mathnormal\">bbb</span><span class=\"mclose\">}</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.25em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<p>에반어는 “a, b로 만들 수 있는 3자리 이하의 문자열”의 집합으로 구성되어 있는 언어이기 때문에 빈 문자열 또한 이 규칙에 포함된다. 그래서 수식에서도 빈 문자열을 뜻하는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span></span>(앱실론)을 각 자리마다 더해주는 방식으로 표현해야하며, 위 식이 표현하는 문자열의 집합으로 구성된 언어, 에반어도 빈 문자열인 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span></span>을 포함하고 있다.</p>\n<p>그리고 이 수식을 기계가 알아들을 수 있게 특정한 언어로 바꿔준 것이 바로…</p>\n<div class=\"gatsby-highlight\" data-language=\"regex\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-regex line-numbers\"><code class=\"language-regex\"><span class=\"token anchor function\">^</span><span class=\"token char-class\"><span class=\"token char-class-punctuation punctuation\">[</span>ab<span class=\"token char-class-punctuation punctuation\">]</span></span><span class=\"token quantifier number\">{0,3}</span><span class=\"token anchor function\">$</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>우리가 일반적으로 알고 있는 정규 표현식인 것이다.</p>\n<p>즉, 기계가 언어를 인지하기 위한 첫 번째 발걸음은 언어를 구성하는 문자열이 생성되는 “규칙”을 표현할 수 있는 방법을 만드는 것이고, 이게 바로 정규 표현식의 기원이다. 위키피디아의 <a href=\"https://ko.wikipedia.org/wiki/%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D\" target=\"_blank\" rel=\"nofollow\">정규 표현식</a> 항목을 보면 이 맥락이 정규 표현식의 정의에 그대로 녹아있는 것을 볼 수 있다.</p>\n<blockquote>\n<p>정규 표현식(正規表現式, 영어: regular expression, 간단히 regexp[1] 또는 regex, rational expression)[2][3] 또는 정규식(正規式)은 <strong>특정한 규칙을 가진 문자열의 집합을 표현하는 데 사용하는 형식 언어</strong>이다.</p>\n</blockquote>\n<p>물론 필자가 이 포스팅에서 설명하고 있는 언어의 정의는 굉장히 단편적인 내용을 이야기하고 있는 것이므로, 이 부분에 대해 더 관심이 있으신 분들은 “형식 언어”, “촘스키 위계” 등의 키워드로 구글링을 한번 해보는 것을 권한다.</p>\n<h3 id=\"정규-표현식이-구동되는-환경-유한-오토마타\" style=\"position:relative;\">정규 표현식이 구동되는 환경, 유한 오토마타<a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%B4-%EA%B5%AC%EB%8F%99%EB%90%98%EB%8A%94-%ED%99%98%EA%B2%BD-%EC%9C%A0%ED%95%9C-%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80\" aria-label=\"정규 표현식이 구동되는 환경 유한 오토마타 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>우리는 이제 정규 표현식이라는 것이 단순히 문자열의 패턴을 표현하기 위한 언어가 아니라, 언어를 기계에게 인지시키기 위한 노력의 과정 끝에 태어난 기술이라는 것을 알게 되었다. 그런데 필자가 아까부터 “기계”라는 말을 계속 하고 있는데, 이 기계는 도대체 무엇을 말하는 것일까?</p>\n<p>참고로 정규 표현식이라는 개념이 태어난 년도는 1951년이다. 물론 이 당시에도 컴퓨터라는 것이 있기는 했지만 컴퓨터의 메모리로 수은을 쓰네 자기코어를 쓰네 어쩌네하던 질풍노도의 시기였기 때문에, 현재 우리가 일반적인 프로그램을 작성할 때처럼 메모리의 한계성에 대한 큰 걱정없이 코딩하던 시대는 아니였다.</p>\n<p>그래서 이 시기에 기계를 대상으로 하는 연구는 우리가 생각하는 컴퓨터가 아니라 그냥 계산 능력이 있는 기계를 머릿 속으로 상상해서 진행하는 경우가 많았다. <small><del>(본격 상상코딩의 원조…)</del></small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/edc01160f5c13aa18f99073f08bdb540/36dd4/magnatic_drum.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABU0StDAqWf//EABoQAQEAAgMAAAAAAAAAAAAAAAECABEDEhP/2gAIAQEAAQUCjiE8pMuGWa3nbF2//8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8Bh//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/Aaf/xAAbEAACAQUAAAAAAAAAAAAAAAAAEQEgIUGBkf/aAAgBAQAGPwKGumI2K1H/xAAbEAEBAQADAQEAAAAAAAAAAAABEQAhMVFBYf/aAAgBAQABPyGKUz7nJ8HkrXZ6XvDFCv5kwQLfMtF3/9oADAMBAAIAAwAAABDPz//EABURAQEAAAAAAAAAAAAAAAAAABEQ/9oACAEDAQE/EET/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QTVrf/8QAHRABAAMAAQUAAAAAAAAAAAAAAQARIUFRYbHB4f/aAAgBAQABPxCgSUcdtjehlaJnSC11ATgxbSt4eZROQC/vtGyl9T//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"magnatic drum\" title=\"\" src=\"/static/edc01160f5c13aa18f99073f08bdb540/36dd4/magnatic_drum.jpg\" srcset=\"/static/edc01160f5c13aa18f99073f08bdb540/0913d/magnatic_drum.jpg 160w,\n/static/edc01160f5c13aa18f99073f08bdb540/cb69c/magnatic_drum.jpg 320w,\n/static/edc01160f5c13aa18f99073f08bdb540/36dd4/magnatic_drum.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>본격 1952년 발 최신형 컴퓨터의 메모리인 자기 드럼의 위용</small>\n</center>\n<p>그 중에서도 정규 표현식은 <a href=\"https://ko.wikipedia.org/wiki/%EC%9C%A0%ED%95%9C_%EC%83%81%ED%83%9C_%EA%B8%B0%EA%B3%84\" target=\"_blank\" rel=\"nofollow\">유한 오토마타</a>라는 추상 기계가 알아들을 수 있는 언어를 표현하는 연구에서 파생된 이론이다.</p>\n<p>오토마타는 자동(Auto) 기계(Mata)라는 의미인데, 이건 말 그대로 자동화된 추상적인 기계이기 때문에 반드시 컴퓨터처럼 물리적인 장치가 필요한 것은 아니다. 그냥 이론이나 설계로만 존재할 수도 있다는 것이다.</p>\n<p>이렇게 오토마타를 연구하는 학문은 근본적으로 어떤 기계가 할 수 있는 것은 무엇이고 할 수 없는 것은 무엇인지에 대한 해답을 찾는 학문이기 때문에, 현재 우리가 공부하는 컴퓨터 과학의 모태가 되는 학문이라고도 볼 수 있다.</p>\n<p>그 중에서도 유한 오토마타는 간단하게 얘기해서 유한 개의 상태 중 한 번에 하나의 상태만을 가질 수 있는 기계이다. 유한 오토마타를 설계할 때는 다이어그램을 사용하여 오토마타의 상태가 변경되는 과정을 그림으로 나타내게 되는데,대충 이런 느낌이다.</p>\n<center>\n  <div style=\"max-width: 500px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/79576089b5b65ad5a36ea7b3a791bbc6/ea964/dfa.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVR42mNgQAP///9nAtFbtmzx2LVrVx+yGCWAtaenx3Dt2rWBQDZnfX09ZQbKyckJAikWEJuPj08IxsbiG0Y0NiOGotDQUDYgJXz06FGxw4cPKxkbG/PLyMhwwjStWrWKGcSGufrQoUOily9fVt62bRs7zAKYyYwwgfXr1zd+/vz5/devX/8/fPhwS3p6ujSSIXBDz507F3/v3r23z549+3/r1q09GzZskMIWGQbfgADI///r16/fIBpoaAdIDuhiwStXrmiB2MuXL1d+8+bNB5D8z58/weru3LkzGyQHCi8BLS0tUFixzZo1qxwkeffu3Z9nz579BWI/ffp0N0jhnDlzHIFeA2tqbW1NBfng0aNHP06cOPHn+/fv/y9evHgVJAdyGZO9vT0L1GZNoEKwzUAAs7keJAd0qeDr16/VQeyFCxfKvQQCZHU3b96cgDUNAgM5+N27d9ffvn37Cui6KTExMdzIsQpTd/r0aS9gGF4G+uY1MAwXzJ8/XwAAZcUKOrOtVWoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dfa\" title=\"\" src=\"/static/79576089b5b65ad5a36ea7b3a791bbc6/6af66/dfa.png\" srcset=\"/static/79576089b5b65ad5a36ea7b3a791bbc6/69538/dfa.png 160w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/72799/dfa.png 320w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/6af66/dfa.png 640w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/d9199/dfa.png 960w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/21b4d/dfa.png 1280w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/ea964/dfa.png 1312w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <br>\n  <br>\n</center>\n<p>위 상태 전이도는 유한 오토마타의 상태가 어떻게 변경되는 지를 표현한 것인데, 이 기계는 인풋으로 어떤 문자열을 받아서 이 문자열이 <code class=\"language-text\">a</code>라면 상태1로 변경되며, 그 이후에 오는 문자열이 <code class=\"language-text\">b</code>라면 상태2로 변경되는 간단한 기계이다. 그리고 상태2는 이 기계가 변경할 수 있는 최종 상태이기 때문에 겹동그라미로 표현해주었다.</p>\n<p>결국 이 기계가 인풋으로 어떤 문자열을 받은 후에 상태가 끝까지 나아갔다면 <code class=\"language-text\">ab</code>, <code class=\"language-text\">aab</code>, <code class=\"language-text\">aaa...b</code> 등의 문자열이라는 것이 보장되는 것이다. 그리고 이 기계는 <code class=\"language-text\">a+b</code>이라는 정규 표현식으로도 표현할 수 있다. 즉, 필자가 그린 기계와 <code class=\"language-text\">a+b</code>라는 정규 표현식은 개념적으로 같은 것이며, 이 정규 표현식은 위의 기계를 표현했다고 봐도 무방하다. <small>(유한 오토마타와 정규 표현은 동치관계라고도 표현한다)</small></p>\n<p>이렇게 어떤 상태에서 다른 상태로 변경될 수 있는 길이 하나 밖에 없는 기계는 위의 상태 전이도 그림만 봐도 이 기계가 어떻게 작동할 지 단번에 알 수 있다. 그 이유는 어떤 상태에서 다음 상태로 나아갈 수있는 길이 단 하나만 존재하기 때문인데, 이런 유한 오토마타는 상태가 변경되는 길이 이미 다 결정되어있다고 해서 결정적 유한 오토마타(Deterministic Finite Automaton, DFA)라고 불린다.</p>\n<p>DFA는 이처럼 구조가 간결하고 기계의 상태를 모두 예측 가능하기 때문에 프로그램으로 작성하기도 편하고 효율도 잘 나오지만 한 가지 단점이 존재한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/eeda28f28f54f69d85014dfc688e8f14/41099/difficult.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 82.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAUC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHmbMvrOrnOJXAkCv/EABwQAAICAgMAAAAAAAAAAAAAAAECAAMQEhETMv/aAAgBAQABBQKWougqfjrZppbHBVj6x//EABcRAQADAAAAAAAAAAAAAAAAAAEAEBH/2gAIAQMBAT8BGbf/xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPwEj/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAERAiAhkTFR0f/aAAgBAQAGPwIULPYvRcbImnZDs//EABsQAAMAAwEBAAAAAAAAAAAAAAABESExQRBR/9oACAEBAAE/ISfWozWyiiVXURrGqaowc2BTdaX2mz3/2gAMAwEAAgADAAAAEFsffP/EABYRAQEBAAAAAAAAAAAAAAAAAAEgMf/aAAgBAwEBPxADYf/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8Qpk3/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMVFxkaH/2gAIAQEAAT8QsIsbj2nKstAwJcJ3SysnML1m0kCpUNLDQqZ6lSYnFAVmz7WdeYz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"difficult\" title=\"\" src=\"/static/eeda28f28f54f69d85014dfc688e8f14/41099/difficult.jpg\" srcset=\"/static/eeda28f28f54f69d85014dfc688e8f14/0913d/difficult.jpg 160w,\n/static/eeda28f28f54f69d85014dfc688e8f14/cb69c/difficult.jpg 320w,\n/static/eeda28f28f54f69d85014dfc688e8f14/41099/difficult.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>제한적인 상태 변경만 가능한 DFA로는 언어의 구조를 표현하기가 너무 빡세다...</small>\n</center>\n<p>이게 왜 어려운 걸까? 물론 방금 필자가 예시로 들었던 <code class=\"language-text\">a+b</code>라는 간단한 정규 표현식이라면 상태 전이도도 DFA로 간단하게 그려낼 수 있지만 만약 OR를 의미하는 <code class=\"language-text\">(a|b)b</code>같은 정규 표현식을 DFA로 표현하려고 하면 생각보다 빡세다. DFA는 어떤 인풋을 받았을 때 변경될 수 있는 상태가 무조건 한 개 뿐이어야 하기 때문이다. 이건 마치 <code class=\"language-text\">if</code>문 없이 조건을 처리해야 하는 상황이랄까.</p>\n<p>이런 이유로 언어를 인식하는 기계를 표현할 때는 변경될 수 있는 상태가 반드시 한 개만 존재하는 DFA가 아닌 여러 개도 존재할 수 있는 기계를 표현하게 되는데, 이런 기계는 어떤 인풋이 들어오냐에 따라서 변경될 상태가 변경되기 때문에 상태 전이도만 봐서는 이 기계가 어떻게 작동할지 예측하는 것이 불가능하다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e7fceab762eed09c508982488f4c711d/a3a74/nfa.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 42.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42n1STUsCYRD2o0L6ALtVUN66RJf2WlCQeKsf0DE6BV38AV6Cbp4iSmIXNUwEwUvgx8GDCmtsrBZiICLiYSF11V3dxc1tm3fZlWUpB4bhfeadeed55rVYTKYoihXFYrG4xrIszXGc0Gg0jrScjaKo9X6//wE4X6/XD3Tc8l8jiHMottvtM1EUFWTQ+M7r9bqCweB+qVQ6lyRJxTudzr2xRu8xtWw2u4xiOp3fCAQCp9CIGo1GXK1W8yAcw7D5QqHgGgwG74CzlUrlOBqNemiadvp8PkcsFrNPx2UY5nI4HH5DEyIcfj4kSUqlk0gkVsxsUHEoFFrSjlaSJK9hWgmkeUSAA3wVgDdEA2gK1Wp1V6NgN2uEaBkdIDto+jmZTBSe50X0msq/1WpdCYLw0+12n3Acd79kMttGGYxGEIQjlUoZJ7wBzeVms4mbqSyimMvlsHg8fgL0X0EGDi669Ykht4U0hGlUDSORiBsedUJ6AeptM7c8Ho/VbfZ6vVu/378HvlMuly9kWVZxuPMwc8tofB3U/lse/Ev/hyifTCY3ASPBmb/+4S99g1RDfuL+QQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"nfa\" title=\"\" src=\"/static/e7fceab762eed09c508982488f4c711d/6af66/nfa.png\" srcset=\"/static/e7fceab762eed09c508982488f4c711d/69538/nfa.png 160w,\n/static/e7fceab762eed09c508982488f4c711d/72799/nfa.png 320w,\n/static/e7fceab762eed09c508982488f4c711d/6af66/nfa.png 640w,\n/static/e7fceab762eed09c508982488f4c711d/d9199/nfa.png 960w,\n/static/e7fceab762eed09c508982488f4c711d/21b4d/nfa.png 1280w,\n/static/e7fceab762eed09c508982488f4c711d/a3a74/nfa.png 2272w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>그리고 이런 기계는 어떤 상태에서 다음 상태로 나아가는 길이 미리 결정되어있는 것이 아니라 인풋에 따라 길이 변경되기 때문에 비결정적 유한 오토마타(Nondeterministic Finite Automata, NFA)라고 한다.</p>\n<p>위 기계는 빈 문자열을 의미하는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span></span>을 받아들이는 것으로 시작하여, 그 다음 문자열이 <code class=\"language-text\">a</code>라면 상태2로, <code class=\"language-text\">b</code>라면 상태3으로 변경되는 구조를 가지고 있다. 즉, 어떤 상태에서 다른 상태로 변경될 수 있는 개수가 2개 이상인 것이다. 즉, 이 기계는 추상 전이도만 봐서는 특정 상태의 다음 상태가 무엇이 될지 알 수가 없기 때문에 “비결정”적 유한 오토마타라고 불리는 것이다.</p>\n<p>이게 바로 정규 표현식이 구동되는 기계인 유한 오토마타의 대략적인 개념이며, 정규 표현식은 바로 이런 개념의 추상 기계에게 언어를 인지시키는 것을 목표로 만들어졌다. 여기서 분명히 짚고 넘어가야 할 점은 이 유한 오토마타라는 기계는 “기억할 수 있는 상태가 단 하나 밖에 없다는 것”이다.</p>\n<p>바로 이 제약 조건으로 인해서 정규 표현식이라는 언어의 한계가 발생하게 된다.</p>\n<h2 id=\"정규-표현식의-한계\" style=\"position:relative;\">정규 표현식의 한계<a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%98-%ED%95%9C%EA%B3%84\" aria-label=\"정규 표현식의 한계 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이처럼 정규 표현식으로 표현할 수 있는 언어, 즉 유한 오토마타가 이해할 수 있는 언어를 “정규 언어(Regular Language)“라고 부른다.</p>\n<p>앞서 알아보았듯이 애초에 정규 표현식은 수학적으로 표현할 수 있는 규칙이 존재하는 언어를 표현하는 용도인데다가 한 번에 한 가지 상태만 가질 수 있는 유한 오토마타에서 구동되는 것을 전제로 하기 때문에 모든 언어를 다 표현할 수 있는 것이 아니다.</p>\n<p>쉽게 생각해서 정규 표현식으로 문맥이 굉장히 자유로운 한국어나 영어같은 언어는 정규 표현식으로 표현할 수 없는 것을 생각해보면 된다. <small>(애초에 자연어를 정규 표현식으로 표현할 수 있었으면 머신러닝을 쓰지도 않는다)</small></p>\n<p>즉, 정규 표현식으로 표현할 수 있는 언어에는 분명한 한계가 있다는 것이며, 이렇게 정규 표현식으로 표현할 수 있는 언어를 정규 언어라고 부르는 것이다.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cbdaac181d19daaf1bcf0282472c8d32/21b4d/chomsky.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 71.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42o2U6UrDQBRGszVJ0yaTBvdgCYqodcO6oYL4/k/lN/GMXOMfBw4zzd3v3GkUfa/Y7JVYiVrMJ1TsNTqVsf2zctGIIvr/KrDJp4KSqIO4E+fiWlyJJ77figv2e3EjPsSJWJL5uGai5ew/dvz2HMGh2Bc9Zy9zYs84avE1CrJJLwv6M4OcPeNcmdYEmywk1prSU5rdEaimHXMchAtp0OmwiUyWozBEchgO9OhVvNOzT/Es3sSDOCVbZ7JsrEMffWEyLSEDW/LcZLYwfWxsyTVKoRcN+465pF1xQFtC71Nsf3x5QcLVp8bxirHxJb6ILSO1pXcJQVNsE3yNpTgzpEtza0ExkE7Krc1jcGFswmA7c8Mxit74koH2nKHboNOZmSynryUM+MAAOzLpeTnHDHIorUe3tZlNV0yktXgUG8opzBxukK3R/fXn8AWNkA9NoCwYMAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"chomsky\" title=\"\" src=\"/static/cbdaac181d19daaf1bcf0282472c8d32/6af66/chomsky.png\" srcset=\"/static/cbdaac181d19daaf1bcf0282472c8d32/69538/chomsky.png 160w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/72799/chomsky.png 320w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/6af66/chomsky.png 640w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/d9199/chomsky.png 960w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/21b4d/chomsky.png 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>언어들의 위계를 표현한 촘스키 위계에서도 정규(Regular) 언어는 가장 아래 쪽을 차지한다.</small>\n  <br>\n  <br>\n</center>\n<p>사실 우리가 일반적인 비즈니스 레벨에서 다루는 문자열들 중에도 정규 언어가 아닌 것들이 꽤나 존재하는데, 그 중 대표적인 것이 바로 HTML 같은 언어이다. 즉, 어떤 문자열이 제대로 된 HTML인지 아닌지를 정규 표현식으로 알아내는 것은 불가능하다는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7c89426e48dfcc4187fffa597065a5e1/65f94/question.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAP/aAAwDAQACEAMQAAAB6UdChKUBf//EABoQAAICAwAAAAAAAAAAAAAAAAACAREDEiP/2gAIAQEAAQUCHbnjvUVKk//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8BWosP/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACEEEiMTL/2gAIAQEABj8CQdyTSy3DibMf/8QAHBABAAEEAwAAAAAAAAAAAAAAAQARITFBUWFx/9oACAEBAAE/IW1ctSWEKgFmvE3z6hkndym2f//aAAwDAQACAAMAAAAQw+//xAAXEQADAQAAAAAAAAAAAAAAAAAAASER/9oACAEDAQE/EFio7T//xAAXEQEAAwAAAAAAAAAAAAAAAAAAESFB/9oACAECAQE/ENyVH//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFBMVFhcZH/2gAIAQEAAT8QSQ0o42wgx0mC6cDKDYs3ueIkYy3X2MqFoVo1HHvn/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"question\" title=\"\" src=\"/static/7c89426e48dfcc4187fffa597065a5e1/65f94/question.jpg\" srcset=\"/static/7c89426e48dfcc4187fffa597065a5e1/0913d/question.jpg 160w,\n/static/7c89426e48dfcc4187fffa597065a5e1/cb69c/question.jpg 320w,\n/static/7c89426e48dfcc4187fffa597065a5e1/65f94/question.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>어라? 저는 분명 정규 표현식으로 HTML을 매칭해본 적이 있는데요?</small>\n</center>\n<p>물론 필자도 정규 표현식으로 HTML을 매칭해본 경험은 있다. 하지만 아마 우리가 당시 HTML을 매칭할 때의 규칙은 전체 HTML이 유효한지 아닌지가 아니라 ”<code class=\"language-text\">&lt;div></code> 태그가 열렸다가 닫혔어?”와 같은 HTML의 일부분을 검증하는 작은 규칙이었을 것이다.</p>\n<p>그렇다면 왜 필자는 정규 표현식으로 HTML의 유효성을 검증할 수 없다고 한 것일까? 그 답은 정규 표현식이 사실은 상태를 하나만 기억할 수 있는 유한 오토마타를 표현하고 있다는 것을 생각하며 HTML의 생김새를 보면 쉽게 알 수가 있다.</p>\n<h3 id=\"정규-표현식이-html을-이해하지-못-하는-이유\" style=\"position:relative;\">정규 표현식이 HTML을 이해하지 못 하는 이유<a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%B4-html%EC%9D%84-%EC%9D%B4%ED%95%B4%ED%95%98%EC%A7%80-%EB%AA%BB-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"정규 표현식이 html을 이해하지 못 하는 이유 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자도 알고 여러분도 알고 모두가 알다시피 HTML은 어떤 태그가 열고 닫히며 그 내부에는 무한히 태그가 중첩될 수 있는 구조를 가지고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>\n      ...\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그렇다면 만약 어떤 기계가 이런 HTML 문자열을 인풋으로 받았을 때, 이 HTML이 유효하다는 것을 검증해내려면 어떻게 해야할까?</p>\n<p>올바른 HTML이라고 부를 수 있는 문자열은 반드시 여는 태그와 닫는 태그가 함께 존재해야한다. 즉, 태그가 한번 열렸으면 무조건 닫혀야 한다는 것이다. 결국 올바른 HTML을 판별하는 기계는 문자를 하나씩 읽으면서 그와 동시에 태그의 열고 닫음을 알 수 있어야 한다는 것이고, 대충 이런 느낌으로 작동할 것이다.</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">&lt;main></code> 문자열을 만났다. 이후 <code class=\"language-text\">&lt;main></code> 태그가 열렸다는 상태를 저장한다.</li>\n<li><code class=\"language-text\">&lt;section></code> 문자열을 만났다. 이후 <code class=\"language-text\">&lt;section></code> 태그가 열렸다는 상태를 저장한다.</li>\n<li>…반복</li>\n<li><code class=\"language-text\">&lt;/main></code> 문자열을 만났다. 만약 <code class=\"language-text\">&lt;main></code> 태그가 열린 상태가 저장되어있다면 올바르게 닫혔다고 판단한다.</li>\n<li><code class=\"language-text\">&lt;/section></code> 문자열을 만났다. 만약 <code class=\"language-text\">&lt;section></code> 태그가 열린 상태가 저장되어있다면 올바르게 닫혔다고 판단한다.</li>\n<li>문자열의 끝까지 탐색했을 때 열린 상태로 끝난 태그가 없다면 이 HTML은 올바른 HTML이다.</li>\n</ol>\n<hr>\n<p>여러분이 만약 이런 기계를 만든다고 생각해보자. 이 기계는 몇 개의 상태를 저장할 수 있도록 설계되어야할까?</p>\n<center>\n.<br/>\n.<br/>\n.<br/>\n</center>\n<blockquote>\n<p>답은 <strong>무한대</strong>이다</p>\n</blockquote>\n<p>혹여나 잘 이해가 가지 않는다면, 여러분이 직접 HTML 파서를 만든다고 상상해보자. 앞서 말했듯이 이 파서는 태그가 열리고 닫혔다는 사실을 검증해야 하기 때문에, 문자열을 순차적으로 탐색하면서 어떤 태그가 열린 것을 의미하는 문자열을 만났다면 이 상태를 어딘가에 저장해놓아야 한다.</p>\n<p>이때 어떤 방식으로 상태를 관리하는지는 사람마다 조금씩 다를 수 있지만 이렇게 쌍으로 열렸다 닫히는 괄호를 검증할 때의 정석은 스택(Stack)을 사용하는 방법이다.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d4263f72bef0eb338a9fd098cb06b100/17a7a/html_parser.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADG0lEQVR42o2U+1MbVRTH+S99TLWo4+MHf4AUKoWhjr85U7WETtugBIJUpUKDZYpAaUmCBJKxJs2StGmSXfJ+kRdsVgoBPt7dJJXOFOiZ+ezee8853z333N3tQJim7hOPVkjEqgYpuUZK2WkiN9HX41HhU2o0Gke07fj42KBtHfpFCZeZGnnKvXGJmTEJq3mF29cWDEaHHjM+7MRuCzFtDTA7sUkskqRaq5BMJslms3g8HiRJ4vDwsClYLmg8WU3hc6cNPE6ZdUeUDYHXpRj41zP8s5ZC8ubIpPMiuSEqPeTo6IharUa5XP6/wpMln2XtOD1ZF3qTdehBmqaxu7uLqqoG+rhNe9721et1crnca4In+9gUFEHtBCNJPEBroQvUT/jfJPhahUKfQrVOML3Ls4xq4JeL+GIF/IKnyjaBeJnn2TqhtEo4qyJvJURFZwjmqxqSCA5mdGGVpXWJhTU/Dzc2cfmirAYUnuf32NRjBLnC9ql9br42+R3mfAXmA9v8uVlhIVgVVFpUxVqZeanEA3+RRanITn2v1btTBB8Fi3TaXvD5xDM++G6RD68v03nDxUc317lodtA5rI/dfDYZ4ctfIiSKKqe9HYZgIF7hh6UEw8sJrs+HGVqKYV5SMD9UGFqMvcK8nOTWSpJiTTu7wo1omcszMa7OxRm4F6HvN4krU0H674bo/z1kjAf/2GJgVuGbOYVspX62oDtSonc6xuD9OH0iuXtkBdNPTnonvFwac9NjXWPAHqNfCH59XyFTOkcwmKxy41ESy0qK2440ltU8lr8KWJxZgxF9LtZvPU4x6kpR2jlny8viUC6Mhvl0Uuai5QnvfPuA964tcsHs4v3vl3lXzD+xhfl4IsIXd97iUEKiwpui2T86U4zoOJJNXs0T4i524EgxtvoWFa69KNE1FaXPvsWlX4N0WTfoGvdi+tlHt+1vusY8xqH1Tsv022XS5/XQLQRNd6NcsStcngrRbXVjGvfQM+mj544fk81LnxD8akZmcFYmUz5ny/sHB6j/vqSus7ePtt9Ae6lz0KLR9LVoiB/paZ/ef/l8VA9zcB1BAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"html parser\" title=\"\" src=\"/static/d4263f72bef0eb338a9fd098cb06b100/6af66/html_parser.png\" srcset=\"/static/d4263f72bef0eb338a9fd098cb06b100/69538/html_parser.png 160w,\n/static/d4263f72bef0eb338a9fd098cb06b100/72799/html_parser.png 320w,\n/static/d4263f72bef0eb338a9fd098cb06b100/6af66/html_parser.png 640w,\n/static/d4263f72bef0eb338a9fd098cb06b100/17a7a/html_parser.png 753w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>이렇게 여는 태그를 만났을 때 스택에 Push하고<br>닫는 태그를 만났을 때 Pop하는 동작만 사용해도 허접한 HTML 파서는 구현 가능하다</small>\n  <br>\n  <br>\n</center>\n<p>태그가 아무리 중첩되어도 반드시 안 쪽에 있는 태그가 먼저 닫힐 수 밖에 없는 HTML 구조를 검증하기에는 마지막에 들어온 녀석이 반드시 먼저 나가야 하는 스택이 아주 찰떡궁합이기 때문이다.</p>\n<p>하지만 여기서 문제는 바로 스택의 크기이다. 이 스택의 크기를 얼마나 크게 잡아야 어떤 문자열이든 소화할 수 있는 HTML 파서를 만들 수 있을까?</p>\n<p>당연히 크면 클수록 좋다. 스택의 크기가 크면 클 수록 더 깊은 깊이의 트리로 이루어진 HTML도 파싱할 수 있기 때문이다. 하지만 결국 이 스택의 크기를 초과하는 트리를 가진 HTML이 파서에 들어오면 프로그램은 터질 수 밖에 없다. 즉, 어떤 문자열이든 소화할 수 있는 HTML 파서를 만드려면 스택의 크기를 무한하게 잡아야한다.</p>\n<h3 id=\"정규-표현식은-결국-유한-오토마타이다\" style=\"position:relative;\">정규 표현식은 결국 유한 오토마타이다<a href=\"#%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%80-%EA%B2%B0%EA%B5%AD-%EC%9C%A0%ED%95%9C-%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80%EC%9D%B4%EB%8B%A4\" aria-label=\"정규 표현식은 결국 유한 오토마타이다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이처럼 어떠한 기계가 HTML이 올바른지 아닌지를 검증하기 위해서는 무한 개의 상태가 필요하다. 하지만 정규 표현식은 단 한 개의 상태만을 가지는 유한 오토마타를 표현한 것이기 때문에 당연히 무한 개의 상태를 가져야 파싱할 수 있는 HTML을 절대 인지할 수가 없는 것이다.</p>\n<p>결국 핵심은 정규 표현식이 상태를 하나 밖에 가질 수 없는 유한 오토마타를 표현하고 있다는 것이며, 상태를 하나 밖에 가질 수 없는 기계로는 절대 해결할 수 없는 문제가 존재한다는 것이다.</p>\n<p>그러니 어떤 문자열을 보면 바로 정규 표현식으로 해결하려고 덤비기보다는 내가 이 문자열을 파싱하는 프로그램을 만든다고 생각해보았을때 “몇 개의 상태”가 필요한 지를 먼저 고민해보는 연습이 필요하다. 만약 두 개 이상의 상태가 필요하다면 일단 정규 표현식만으로 해결하기는 쉽지 않은 문제라고 판단할 수 있는 것이다.</p>\n<p>물론 이런 상상 알고리즘은 익숙한 사람과 익숙하지 않은 사람의 문제 풀이의 차이가 존재하기 때문에 하나의 상태만으로 해결할 수 있는 문제를 여러 개의 상태가 필요하다고 생각할 수도 있지만, 그래도 알고리즘은 재능의 영역이 아니라 연습의 영역이므로 1년, 2년 꾸준히 하다보면 조금씩 감을 잡는 시간이 짧아질 것이다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 정규 표현식의 한계는 그냥 “괄호의 깊이에 제한이 없는 문자열은 인지할 수 없다”처럼 간단한 말로도 설명할 수 있는 부분이다.</p>\n<p>하지만 그냥 이렇게 설명하고 외우는 것 보다는 정규 표현식이 어떤 문제를 해결하기 위해 탄생한 도구인지, 어떤 컨셉을 가지고 있는지를 함께 이야기하면 조금 더 이해하기가 쉬울 것이라고 생각했다.</p>\n<p>정규 표현식에 이런 한계가 존재한다는 사실을 모른다면 ”<code class=\"language-text\">&lt;ul></code> 태그 안에 <code class=\"language-text\">&lt;li></code> 태그가 존재하니?” 같은 제한적인 상황을 정규 표현식으로 해결했던 경험을 바탕으로, 해결이 불가능한 문제를 해결하려고 도전하게 될 수도 있다.</p>\n<p>물론 정규 표현식이 문자열을 다룰 때 많은 편리함을 주는 것은 사실이다. 하지만 앞서 이야기 했듯 정규 표현식의 백트래킹 알고리즘은 예상하지 못 했던 퍼포먼스 이슈를 가져다 줄 수도 있고, 정규 표현식으로는 결코 풀지 못하는 문제도 존재하기 때문에 항상 정규 표현식이라는 도구를 사용한다고 선택하기 전에는 “이게 정말 효율적인 선택인지”에 대한 고민을 해보는 연습이 필요하다.</p>\n<p>이상으로 정규 표현식으로 HTML을 파싱할 수 없는 이유 포스팅을 마친다.</p>","fields":{"slug":"20210507-why-regexp-called-regexp","path":"/2021/05/07/why-regexp-called-regexp/","lang":"ko"},"frontmatter":{"title":"정규 표현식으로 HTML을 파싱할 수 없는 이유","subTitle":"백트래킹과 오토마타 – 정규 표현식이 HTML을 이해하지 못하는 이유","date":"May 07, 2021","categories":["프로그래밍"],"tags":["정규식","정규표현식","Regexp","Regular Expression","오토마톤","오토마타","백트래킹"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/267c5d189674e3002cc5cc4b33695d75/3a812/thumbnail.jpg","srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/3a812/thumbnail.jpg 320w,\n/static/267c5d189674e3002cc5cc4b33695d75/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/fc5c5/thumbnail.webp 320w,\n/static/267c5d189674e3002cc5cc4b33695d75/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/267c5d189674e3002cc5cc4b33695d75/2d839/thumbnail.jpg","srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"660669b3-b801-5f55-b653-a702eaf33f7b","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%86%A0%EC%8A%A4%EC%97%90%EC%84%9C-%EB%B3%B4%EB%83%88%EB%8D%98-1%EB%85%84\">토스에서 보냈던 1년</a></p>\n<ul>\n<li><a href=\"#%EB%A0%88%EA%B1%B0%EC%8B%9C-%EC%BD%94%EB%93%9C-%EC%B2%AD%EC%82%B0%ED%95%98%EA%B8%B0\">레거시 코드 청산하기</a></li>\n<li><a href=\"#sig-%EC%A3%BC%EB%A7%90%EC%9E%91%EC%97%85-%EC%B1%84%EB%84%90\">#sig-주말작업 채널</a></li>\n<li><a href=\"#%ED%95%98%EB%82%98%EC%9D%98-%EB%B0%A9%ED%96%A5-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95\">하나의 방향, 다양한 방법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#6%EB%85%84-%EB%8F%99%EC%95%88-%EA%B0%99%EC%9D%B4-%EA%B5%AC%EB%A5%B4%EA%B3%A0-%EC%9E%88%EB%8A%94-%EB%A3%A8%EB%B9%84%EC%BD%98\">6년 동안 같이 구르고 있는 루비콘</a></p>\n<ul>\n<li><a href=\"#%EB%88%84%EA%B5%B0%EA%B0%80%EB%A5%BC-%EB%A9%98%ED%86%A0%EB%A7%81-%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B2%83\">누군가를 멘토링 한다는 것</a></li>\n<li><a href=\"#%EA%B7%B8-%EB%8F%99%EC%95%88-%EB%8B%A4%EB%93%A4-%EB%A7%8E%EC%9D%B4-%EA%B5%B4%EB%A0%80%EA%B5%AC%EB%82%98\">그 동안 다들 많이 굴렀구나…</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%ED%9A%8C%EA%B3%A0\">블로그 회고</a></p>\n<ul>\n<li><a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%B0%A9%EB%AC%B8%EC%9E%90%EC%99%80-%EC%9D%B4%ED%83%88%EC%9C%A8\">블로그 방문자와 이탈율</a></li>\n<li><a href=\"#%EB%B0%A9%EB%AC%B8%EC%9E%90-%EC%84%B8%EA%B7%B8%EB%A8%BC%ED%8A%B8\">방문자 세그먼트</a></li>\n<li><a href=\"#%EA%B2%80%EC%83%89-%EC%9C%A0%EC%9E%85-%ED%82%A4%EC%9B%8C%EB%93%9C\">검색 유입 키워드</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B8%ED%94%84%EB%9F%B0-%EA%B0%95%EC%9D%98%EB%A5%BC-%EC%A4%80%EB%B9%84%ED%95%B4%EB%B3%B4%EC%9E%90\">인프런 강의를 준비해보자!</a></p>\n</li>\n<li>\n<p><a href=\"#2020%EB%85%84%EC%9D%84-%EB%96%A0%EB%82%98%EB%B3%B4%EB%82%B4%EB%A9%B0\">2020년을 떠나보내며</a></p>\n</li>\n</ul>","excerpt":"올해 2020년은 개인적으로든 전반적으로든 정말 다사다난했던 해였다. 특히 전 세계를 덮친 COVID-19로 인해 정말 많은 부분들이 바뀌었는데, 개인적으로는 사람을 많이 만나지 못 했던 게 조금 힘들었던 것 같다. (살면서 노래방을 이렇게 안 가본 게 처음…)","html":"<p>올해 2020년은 개인적으로든 전반적으로든 정말 다사다난했던 해였다. 특히 전 세계를 덮친 COVID-19로 인해 정말 많은 부분들이 바뀌었는데, 개인적으로는 사람을 많이 만나지 못 했던 게 조금 힘들었던 것 같다. <small>(살면서 노래방을 이렇게 안 가본 게 처음…)</small></p>\n<!-- more -->\n<p>하지만 그 와중에도 이런 저런 일들을 많이 벌렸었는데, 그 중에는 성공한 것도 있지만 물론 실패한 것도 있었다. 하지만 실패했던 일이라도 나름의 배움을 얻었기 때문에 오히려 필자 스스로에게는 좋은 발전의 기회가 되었다고 생각한다.</p>\n<p>이번 포스팅에서는 필자가 올해 겪었던 대표적인 일들을 한번 돌아보고 얻었던 러닝들을 회고하는 포스팅을 작성해보려고 한다.</p>\n<h2 id=\"토스에서-보냈던-1년\" style=\"position:relative;\">토스에서 보냈던 1년<a href=\"#%ED%86%A0%EC%8A%A4%EC%97%90%EC%84%9C-%EB%B3%B4%EB%83%88%EB%8D%98-1%EB%85%84\" aria-label=\"토스에서 보냈던 1년 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 작년이었던 2019년 12월 9일에 토스라는 금융 플랫폼 서비스를 만드는 비바리퍼블리카에 입사했었다. 입사하자마자 보험 쪽 도메인을 다루는 인슈어텍 사일로에 배치되어 1년 동안 팀 이동없이 이 사일로에서 이루고자 하는 목표에 인볼브했었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ba14123b09b6016094a48f8ae1be2bc0/9568a/toss1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAAB5prTsIFbhiCv/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEiEx/9oACAEBAAEFAlNDVaJrM6630r0//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGRAAAgMBAAAAAAAAAAAAAAAAACEBEBEg/9oACAEBAAY/AtgbrBk8f//EABsQAAIDAQEBAAAAAAAAAAAAAAABESExQVFh/9oACAEBAAE/IWkk1LuTUCLZUH0eFH9Ol0heCJzekH//2gAMAwEAAgADAAAAEKMwAP/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8QjQrN/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPxDYhf8A/8QAHBABAQEBAAIDAAAAAAAAAAAAAREAITFhcYGR/9oACAEBAAE/EBeoLgTh3RlQWsDvrLZTjOfBuLApi4BIfQxUKHiZS0OZEPHnAng/N//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"toss1\" title=\"\" src=\"/static/ba14123b09b6016094a48f8ae1be2bc0/c08c5/toss1.jpg\" srcset=\"/static/ba14123b09b6016094a48f8ae1be2bc0/0913d/toss1.jpg 160w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/cb69c/toss1.jpg 320w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/c08c5/toss1.jpg 640w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/6a068/toss1.jpg 960w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/eea4a/toss1.jpg 1280w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/9568a/toss1.jpg 3024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>BEP 달성했을 때 받았던 강철 플레이트</small>\n</center>\n<p>첫 출근했을 때를 떠올려보면, 필자의 자리에 딱 왔는데 기존에 있던 인슈어텍 사일로 팀원들이 굉장히 반겨주셨던 기억이 난다. 당시 인슈어텍 사일로는 프론트엔드가 공석이라, 프론트엔드 쪽을 건드려야 하는 일이 생기면 프로덕트 디자이너가 직접 마크업을 하거나 다른 사일로의 프론트엔드 개발자의 지원을 받고 있던 상황이었기 때문이다.</p>\n<p>그래서 그런 기대들이 약간 부담스럽긴 했지만, 다들 필자가 잘 적응할 수 있도록 많이 도와주셨고 편하게 대해주셔서 빠르게 지난 히스토리들을 팔로우업하고 인슈어텍 사일로의 목표에 인볼브할 수 있었던 것 같다.</p>\n<p>또한 토스팀은 다른 조직들에 비해 실패에 대해서 상당히 관대한 편이고, 이 실패에서 배운 러닝을 학습해서 다음 도전 때 써먹는 속도가 굉장히 빠르다. 그런 이유로 여기서 일하다보면 아이데이션, 의사결정, 개발, 배포, 결과 분석의 이터레이션이 쉴 새 없이 반복되기 때문에 재미도 있지만 상당히 정신이 없다.</p>\n<p>그래서 그런지 다른 때보다 더 빠르게 지나간 한 해를 보냈던 것 같다.</p>\n<h3 id=\"레거시-코드-청산하기\" style=\"position:relative;\">레거시 코드 청산하기<a href=\"#%EB%A0%88%EA%B1%B0%EC%8B%9C-%EC%BD%94%EB%93%9C-%EC%B2%AD%EC%82%B0%ED%95%98%EA%B8%B0\" aria-label=\"레거시 코드 청산하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>입사 당시 필자가 맡았던 첫 제품은 보험과 관련된 내부 제품이었다. 당시 이 제품은 TDS(Toss Design System)도 붙어있지 않았고 워낙 급하게 개발된 제품이라 내부 설계도 탄탄한 편은 아닌데다가, 개발 환경이 토스의 다른 제품들과는 조금 다른 부분들이 있기도 해서 여러가지로 개선할만한 부분이 많은 제품이었다.</p>\n<p>필자는 처음 어떤 제품을 맡게되면 그 제품의 커밋 히스토리를 한번 쭉 살펴보는데, 커밋 히스토리를 보면 이 제품이 비즈니스 맥락을 타고 오면서 개발이 되었었는지도 알 수 있고 필자 전에 이 제품을 맡았던 개발자가 어떤 방향의 설계를 하려고 했었는지도 대충은 알 수 있기 때문이다.</p>\n<p>그리고 이 제품의 커밋 히스토리를 보고나서 가장 처음 든 생각은 “일정이 개 빡셌구나…” 하는 생각이었다. 보통 커밋을 보면 A기능에 대한 커밋들, B기능에 대한 커밋들처럼 개발되었던 기능 별로 어느 정도의 그룹을 나눠 볼 수 있는데 이 제품은 한 기능을 개발하고 다음 기능을 개발할 때의 텀이 굉장히 짧았고, 심지어 하루 안에 여러 개의 기능이 개발된 경우도 있었다.</p>\n<p>하지만 늘 그렇듯이 빠르게 변하는 비즈니스 맥락을 따라 기능 개발을 진행하기도 바쁜 상황 속에서 리팩토링을 위한 시간을 따로 뺄 수는 없는 노릇이니, 최대한 <a href=\"https://johngrib.github.io/wiki/Boy-Scout-Rule/\" target=\"_blank\" rel=\"nofollow\">보이스카웃 룰</a>을 따르며 조금씩 리팩토링 할 수 밖에 없었다.</p>\n<p>당시 필자의 리팩토링 목표는 그냥 이거였다.</p>\n<blockquote>\n<p>토스에 있는 어떤 프론트엔드 개발자가 와서 이 제품을 맡더라도 위화감이 없도록 만들자!</p>\n</blockquote>\n<p>필자는 작년 12월부터 올해 8월까지 대략 9개월 정도 이 제품을 맡았었는데, 당시에는 끝이 없을 것 같았던 리팩토링도 그냥 저냥 꾸준히 하다보니 어느 정도 성과가 있었던 것 같다.</p>\n<p>처음 필자가 왔을 때는 배포도 수동으로 스크립트 돌려서 했었는데, 이제는 기능을 개발하고 PR을 올리고 CI/CD가 돌아가는 이 과정을 토스에 있는 다른 제품들과 동일하게 맞춰놓았기 때문에 다른 프론트엔드 개발자가 와서 이 제품을 만지더라도 동일한 개발 환경 안에서 기능 개발과 배포를 진행할 수 있게 만들어 놓았다.</p>\n<p>또한 이 제품이 다루는 도메인의 특성은 모델 자체가 복잡하다는 것이었는데, 그에 따라 당연히 클라이언트 상태도 굉장히 복잡할 수 밖에 없었다. 당시 이 복잡한 상태를 전부 컨텍스트로 관리하고 있었기 때문에 컨텍스트는 상태를 담고 있는 객체와 상태를 변화시킬 <code class=\"language-text\">dispatch</code> 함수, 비동기 처리를 위한 또 다른 함수, 리듀서 등 이것저것 버무려져서 꽤나 복잡한 상태였다.</p>\n<p>그래서 필자는 토스에서 많이 사용하고 있는 리덕스를 도입하고 비동기 처리를 하는 함수는 미들웨어로 따로 분리하고 스토어를 각 데이터의 도메인 별로 분리해서 그나마 조금 파악하기 쉽게 만들었었다. 뭐 사실 리덕스 도입 자체는 난이도가 높거나 그런 것도 아니고 리덕스를 붙혔다고 해도 여전히 상태 복잡도가 높긴 하지만, 토스 내의 다른 제품들과 개발 환경을 맞췄다는 의의가 더 크다고 생각한다.</p>\n<p>그 외에 서버 상태와 클라이언트 상태를 싱크로나이즈해야하는 문제도 있었는데, 처음 이 제품을 개발할 당시에는 시간이 많지 않아서 1초에 한번씩 API를 호출하는 Poll 방식으로 개발이 되어있었다. 그래서 상태 변경도 1초에 한 번씩 발생했고, 설상가상으로 이 상태를 많은 컴포넌트들이 Context를 기반으로 Prop drilling을 통해 공유하고 있던 상태라 불필요한 렌더링도 1초에 한 번씩 발생하는 눈물나는 상황이었다.</p>\n<p>그래서 리덕스와 react-redux가 제공하는 훅을 사용하여 렌더링 퍼포먼스를 개선하고 API를 Poll하던 부분도 Push 방식으로 변경하려고 했는데, 결국 리덕스 도입과 렌더링 최적화까지만 진행하고 이 제품을 필자 손에서 떠나보내게 되었다.</p>\n<p>다행히도 필자 다음으로 이 제품을 맡아주신 FE 개발자에게 이 부분을 말씀드렸더니, 필자가 하려고 했던 작업의 방향에 공감해주셨고 이 분께서 최근 Poll 방식을 걷어내고 Push 방식으로 변경하며 리팩토링을 마무리해주셨다. <small>(이 분 덕분에 마음의 짐을 하나 덜었다)</small></p>\n<p>물론 여전히 아쉬운 부분들이 많기는 하지만, 그래도 처음에 비하면 많이 개선이 된 것 같아서 기분이 좋다. 이 제품 때문에 새벽에 퇴근한 적도 몇 번 있었고 기능 개발할 때마다 고생하기는 했지만, 그래도 9개월이나 애정을 가지고 만졌던 녀석이라 뭐랄까…약간 애증의 관계 같은 게 되어버린 것 같다.</p>\n<h3 id=\"sig-주말작업-채널\" style=\"position:relative;\">#sig-주말작업 채널<a href=\"#sig-%EC%A3%BC%EB%A7%90%EC%9E%91%EC%97%85-%EC%B1%84%EB%84%90\" aria-label=\"sig 주말작업 채널 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 회사 일 외에도 토이 프로젝트를 하기도 하고 블로그를 쓰기도 하기 때문에 주말에도 종종 친구들과 함께 모여서 같이 이쁜 카페에서 맛있는 것도 먹으며 같이 작업을 하곤 하는데, 이 이야기를 들은 어떤 분이 “그럼 그냥 토스 슬랙에 주말작업 채널을 만들어보는 건 어떰?”이라는 말씀을 해주셔서 토스팀 슬랙에 <code class=\"language-text\">#sig-주말작업</code> 채널을 만들었었다.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3686d1458f56aad3a2e272fc34b006b1/f0551/weekend_channel.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACjklEQVR42p1UPW/TUBTNL6gqIaVJ7NjPz9/2y3vPsWPHadqGfqlBlI92QGLsRCWkDkigroihLEidCkwsdEGdmJA6M7DBxMfWjYWyVmp8eTaiQpBCE0tX12+4R+eec94rTScJ7Ny/C/2lRZhf7EOrE4HmqmBaDUDYhJqMQKprF67SSm8OdrY2oNdpQ7vbgySZBh60wPYaIwGdAXpi8NryAgQsANaMgYUBWMQBpFkFu0pNKXpVUv+o4cxLN/vL8HrvEaxd7cOV1XWYuTwLHnOBBTG4PgPD8kDTbbAcAqbtF+e8Y8MZDsgpy/ozKTBCTuJO9ytl0WmzmUCDhcB4BGGrLYApRHEKraQDQRgX/45HQVbw34CC/uBSRQHOyaelpag/ZbHvU6QNKrYz220Ug3nla05V64UEeeXnoQxlFX+zHfJZw+abyUlpWzH1d8g1QUFWpiCjYPGr/17nmiJJ6GVJfJTybc6Txw5xDnnEIYzSzCM/NfwXwDDAL7qu77pe42i2twAeCQbNKBXapcCF65SHoGoXz2OpruogqwYYpputr64ANj3gYbsAKFfks9hcnKGMjsTAK1nR97Bq39Fc7YVJTNCwkymaMXqw5To6yDVEyLru+s0tn5LntufmuctUATjy1ROCH2mG81QMfzRtAobtDnTLgZqExrt6VVk5oGla9mm4WS7j2xbV993AAs8LBghbozMUGh5GNAo4D9/G6Yx4GJLTbndeuM3PDe//Vn7v+WxXPFVPJibkVt2UHho+Btuhg1HicgZYk7VnuSkYWw+ahO13kkgEOxSB9rM8UiMzlGTtWFHQB9Ojx+mtTSBza1lLPAg5WHUMY/KVC0ex2xi0N+6dVOIbp5QyUMS647j8A2aZBoPIf5f8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"weekend channel\" title=\"\" src=\"/static/3686d1458f56aad3a2e272fc34b006b1/6af66/weekend_channel.png\" srcset=\"/static/3686d1458f56aad3a2e272fc34b006b1/69538/weekend_channel.png 160w,\n/static/3686d1458f56aad3a2e272fc34b006b1/72799/weekend_channel.png 320w,\n/static/3686d1458f56aad3a2e272fc34b006b1/6af66/weekend_channel.png 640w,\n/static/3686d1458f56aad3a2e272fc34b006b1/f0551/weekend_channel.png 862w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>그렇게 열려서는 안 될 채널이 열려버렸고...</small>\n  <br>\n</center>\n<p>솔직히 채널을 만들 때만 해도 “몇 명이나 들어오겠어?”라는 생각을 하고 있었는데, 이 사람들이 도대체 어디서 냄새를 맡고 왔는지 여기저기서 막 채널에 들어오는 것이었다.</p>\n<p>사실 필자는 전 직장에서도 “저랑 주말에 같이 작업하실 분?”이라는 제안을 많이 했던 편인데, 이 제안에 이렇게 적극적인 반응을 보이는 조직은 여기가 처음이었다. 그때 필자는 “이 사람들…진짜 일 좋아하는구나…”라는 생각을 했던 기억이 난다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/26bf3dabbf87909991670fec575c1d23/2566a/toss2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFjElEQVR42jWS+VPTdxrH80/sTLdjFypFBZUrgCj3ERIgQEjCGSIQtFh3292i1V1r16M7TrutXWAoVsUDBOSyLHaR24QchHAEcFCLiHKKUrusLSrtNrz203b2h9c83/nM9/N6nvfz/UoW7E5Wb1xi4txxblZfZrL/DrO9fQxXn6Olooy68nKaLtUyZLzFkHUSq/kuFuNt7Dds2Bpaaaz9itq6Nuobe6hr6EEy45xicfQej4y93O/oYKr/Fg/s49xtqmGw6izOqjMM1tdz23qXW/aHTPTdYqD5Olcra7hS3UJLSx+NDZ2crbxKyZkrSBbHp/mZ+fEHLIw9YFY0WHCM89hkZKnfwWObnTnLIJNDM8yYndxrrqez8jzV5RWcKztD3eVmrje0U3W+mtLSL8SExh6+NlpZHLnNkvMOj0Yn+X+ThbEp5sT0syOTPBieYsloYq6hkom6i4yc/ZTWis8x/bMXS0MLrRdruF7zJZLl9hq+ri1htq2Rb53DghGeCpbHJngydueXJosjE8wPT7BgH2bRYudxdydzTZcZbahjotvKRNNVbFUX6W1sRfL92ACrQ72sOrr4btjMsyGBw8iKc4CV0ZFfGwwNszToZEHUeccwD/udPLSNMGNxcN88wLTJxlSvmbu9NiSrg518N9gtZDdZdRr5YczI2qhJiAXDVlYcFp4OWFi2W3hit7IkWOi3MW8VVTBnNjNj6uOhWMd0rwnJc8eXPLe38EKwcrOB8WvVjH/VxIqtTXyYNpbNHTyzd/JvWydPLR2/1P/0d4naxTfWbpYFTyzdLNwUa+hpF0LLeZ6bz/PScoHHzX/H8sUpes58zFBVOaYL5QzUVbLSW8czYz3/tTaK53qmrl9hvv0q33Q1stx1jbn2ayx1tzHbdQPJWt9pXpj+wUtTKS/7yvixr9S11vOJ6/vOT3jZ9Skv2k7zU1cZa50VDNaWcvzoEfa+c4CiPxZz6PBfOHz4z+x7p5j33z/JieMfIZm79gHLLR/wtPUYq/86xo8dH/JTxym+bT7Ko/oT3K8+udZXcWTts6PvutKy85az9uxHk52HOrcQhVa/mpCV70rOMSBL302MNheJIb+AA/uLOHTwgKvkoxNcOnnQduGvxY5jvy80/yE/f2h3bt60XJk+npSu/0EWEVOj1hnWNala0jQ5Lq0qvSUz783nSZl5KNS5JGr0SFIVctRpGjSajPVsvQG5LGE6OCzhnk9o6ougKNUzX+9Atnn6rO8KDMNvSwB+PiHERiUQukuGoXCf6+2DR0jLyidJqUGZko5Ep0lDl5FBllqDNimRSGkQu6RhbPZXkCRT4ePhhccGT6ICdrDZfeu6+289CAyMxNs7WAi0vPveIU5/eJzyj/9GyamTQpioICEiigJ1KmpZLBHSIJdarnS95hm+fmTvm+vqyEg83TajUybj9uomVDIFURFyAgKjCN0ZzdvF73GlooT6s2VUf/4ZkvjQYFLiwjFkKIjdEUL8zhB0yXG8+ht39mgSiA8L4fUN7iQnyPDxj0Apj8bX2wvvzd5s8djERjcvDDo1fyrSc7T4LSR54tJulZxcQbCPlJ3+UpKiw3F7xZ3I4CACtm3njd95ELUrgtCIOLFjKX7bPNjuJaL7bcFtgwey2O2/EueLJCY0kuiwGMJDovDxCsDfJ4jQHeG84eYpIomzrQFsFMKISDkxcSmkKBPZGRQkpD5I/X3Z+PomosP9SYyXooiTIikq2sv+fXswFOQTHxOPKkWFPicHPy9f9DodSXIFYTtCSZQnEi0m1KSqyc7MJD0jG41KhbfnVtKUImFmKrt1GiRvFRVSVKinIE+PVrycplSSIy4oheDnX0qrUqNOUYsUUSKuOEtKJkObRUamnkwhlccq0KozyNUXYDAU8j93Tgxg2luRDwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"toss2\" title=\"\" src=\"/static/26bf3dabbf87909991670fec575c1d23/6af66/toss2.png\" srcset=\"/static/26bf3dabbf87909991670fec575c1d23/69538/toss2.png 160w,\n/static/26bf3dabbf87909991670fec575c1d23/72799/toss2.png 320w,\n/static/26bf3dabbf87909991670fec575c1d23/6af66/toss2.png 640w,\n/static/26bf3dabbf87909991670fec575c1d23/d9199/toss2.png 960w,\n/static/26bf3dabbf87909991670fec575c1d23/21b4d/toss2.png 1280w,\n/static/26bf3dabbf87909991670fec575c1d23/2566a/toss2.png 4031w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>올해 4월, 양평에 있는 \"강이다\" 카페까지 가서 주말작업 하고 왔을 때</small>\n</center>\n<p>뭐 솔직히 저런 서울 교외에 있는 이쁜 카페에 가면 계속 일만 하는 건 아니다. 같이 경치도 보고 맛있는 것도 먹고 그냥 놀면서 작업도 하고 오는 것이다. 그래서 주말작업 멤버들이랑 같이 성수도 가고 양평도 가고 영종도도 가면서 재밌게 일했던 추억이 생겼다.</p>\n<p>위에서 언급했던 Poll 방식을 Push 방식으로 변경하는 것도 일종의 사이드 프로젝트처럼 진행하던 일이라 당시 같은 사일로였던 백엔드 개발자와 주말에 홍대에서 만나서 진행했었다. 당시 한 1시간 정도 열띤 토론 끝에 각자 생각하는 방향성을 일치시키고 채널 인터페이스를 정의했었는데, 꽤 재미있었던 기억이 난다.</p>\n<p>그 외에도 주말작업 멤버들이랑 같이 송도에 있는 터키 음식점에 갔었는데 한국인이 우리밖에 없어서 다들 외국온 기분이라고 하던 것도 재미있었고, 작업 마치고 회사 뒤에 있는 당구장가서 당구 내기 했던 것도 재미있었다.</p>\n<p>최근 코로나 사태가 심각해지면서 예전처럼 주말에 만나서 작업하는 일이 없어지기는 했지만, 코로나가 조금 물러가면 이 채널도 다시 활성화되지 않을까 한다.</p>\n<h3 id=\"하나의-방향-다양한-방법\" style=\"position:relative;\">하나의 방향, 다양한 방법<a href=\"#%ED%95%98%EB%82%98%EC%9D%98-%EB%B0%A9%ED%96%A5-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95\" aria-label=\"하나의 방향 다양한 방법 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>어떤 회사든 일을 하다보면 의사결정을 해야하는 순간이 온다. 지금까지 필자가 경험했던 조직들은 조금 더 발언권이 센 누군가가 의사결정을 리딩하는 경우가 많았던 것 같은데, 토스팀은 딱히 발언권이 센 사람이라고 할 만한 게 없기 때문에 의사결정을 하는 과정에서 반드시 치열한 토론과 설득이 동반되었던 것 같다.</p>\n<p>필자 또한 지난 1년 간 이런 토론을 굉장히 많이 했었는데, 확실히 처음 토스에 합류했을 때의 필자보다는 조금 더 다양한 부분들을 생각할 수 있는 시야를 가지게 된 것 같다는 생각이 든다.</p>\n<p>개인적으로 이런 토론 과정에서 가장 많이 의견이 갈리는 주제는 <a href=\"https://blog.toss.im/2018/01/29/tossteam/culture/toss-core-values/\" target=\"_blank\" rel=\"nofollow\">Customer Centric</a> 이라는 가치라고 생각한다. 아무래도 고객 중심이라는 가치가 추상적이다보니 사람마다 “이게 고객 중심이다”라고 생각하는 기준이 다르기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 574px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/214ddbe849832b5f6c5c4c7708753223/b5079/image.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 80.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABfqz253YIEP/EABoQAAIDAQEAAAAAAAAAAAAAAAECAwQSERP/2gAIAQEAAQUCeVeM5zUJMciv6vrFQER//8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEQMSIf/aAAgBAwEBPwFxinxmSt3R/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPwGsWH//xAAdEAEAAQQDAQAAAAAAAAAAAAABAAIRITEiQVGB/9oACAEBAAY/Anl8juN1cypKXfkWzmNzuf/EABwQAAICAgMAAAAAAAAAAAAAAAABETFBUSFhkf/aAAgBAQABPyFfgzMLKSo13Q3mG7ELJv0SIYiEkxd0f//aAAwDAQACAAMAAAAQQP8A/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAhMYH/2gAIAQMBAT8QHWZyNJif/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERQf/aAAgBAgEBPxBuwuKf/8QAGhABAQADAQEAAAAAAAAAAAAAAREAITFBUf/aAAgBAQABPxA1rQq95w333NGsKxDpblSYFReGOjQiJ9Ym2k7LvupTX1xOHTEPDP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"\" src=\"/static/214ddbe849832b5f6c5c4c7708753223/b5079/image.jpg\" srcset=\"/static/214ddbe849832b5f6c5c4c7708753223/0913d/image.jpg 160w,\n/static/214ddbe849832b5f6c5c4c7708753223/cb69c/image.jpg 320w,\n/static/214ddbe849832b5f6c5c4c7708753223/b5079/image.jpg 574w\" sizes=\"(max-width: 574px) 100vw, 574px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>미팅하다보면 제일 많이 들리는 말</small>\n</center>\n<p>어떤 사람은 고객에게 가능한 많은 정보를 보여주고 자신에게 맞는 것을 입맛대로 찾을 수 있는 것이 고객 중심이라고 하는 사람도 있고, 또 어떤 사람은 고객에게 가장 필요한 정보만 보여주고 쓸데없는 고민을 하지 않게 만드는 것이 고객 중심이라고 하는 사람도 있다.</p>\n<p>특히 Customer Centric은 토스팀에서 일하는 대부분의 사람들이 중요하게 생각하는 핵심 가치 중 하나이기 때문에 다들 자신이 생각하는 고객 중심이라는 가치관을 양보하기 어려운 것 같다. 실제로 여기서 일하다 보면 “이게 진짜 Customer Centric이 맞나요?” 라는 질문 자체를 상당히 많이 듣게 된다.</p>\n<p>이렇게 서로에게 자신의 생각을 거침없이 말하는 조직에서 1년 동안 일을 하다보니, 비단 Customer Centric이 아니더라도 동일한 가치를 추구하지만 사람마다 그 가치를 이룩하기 위한 방법이 많이 다를 수도 있다는 것을 더 체감할 수 있었던 것 같다. 그리고 자연스럽게 이런 깨달음이 문제를 해결하는 방법을 다양한 각도에서 바라보는 것으로 이어지게 되었다.</p>\n<h2 id=\"6년-동안-같이-구르고-있는-루비콘\" style=\"position:relative;\">6년 동안 같이 구르고 있는 루비콘<a href=\"#6%EB%85%84-%EB%8F%99%EC%95%88-%EA%B0%99%EC%9D%B4-%EA%B5%AC%EB%A5%B4%EA%B3%A0-%EC%9E%88%EB%8A%94-%EB%A3%A8%EB%B9%84%EC%BD%98\" aria-label=\"6년 동안 같이 구르고 있는 루비콘 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 대학생 때부터 <a href=\"https://lubycon.io\" target=\"_blank\" rel=\"nofollow\">루비콘</a>이라는 팀 활동을 해오고 있는데, 이게 뭐 거창한 건 아니고 처음에는 그냥 친구들끼리 모여서 만들고 싶은 것도 만들어 보고 같이 스터디도 하는 그런 팀이었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/218dafe85f1922f7ffc7cda7e8b707f9/9568a/lubycon0.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDBQT/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgD/2gAMAwEAAhADEAAAAffzdscQlN3yzFij/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEQE//aAAgBAQABBQI1rDZk9DHfC7pGNe2jgbB//8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAEERD/2gAIAQMBAT8BYV1N2PP/xAAZEQACAwEAAAAAAAAAAAAAAAAAAQMQEUH/2gAIAQIBAT8BHLnBV//EAB0QAAEDBQEAAAAAAAAAAAAAAAABEBECEiIxQVH/2gAIAQEABj8CIaUqj0S3JTT8P//EAB0QAAICAgMBAAAAAAAAAAAAAAERADEhQVFxgZH/2gAIAQEAAT8hTYY9mY2Qbj6MUsNCb6jJryVuNXaAIzNmGQvif//aAAwDAQACAAMAAAAQyCeA/8QAGBEBAQADAAAAAAAAAAAAAAAAAAERMUH/2gAIAQMBAT8Qi1JdGjD/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/EE0VTGn/xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMUFRYf/aAAgBAQABPxCjVDph6QvLdu5M7EDCAIvhDz4wsrkpuvw977lWLShqH4b5iDZDYX8cqo7Z1yeNu7rP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"lubycon0\" title=\"\" src=\"/static/218dafe85f1922f7ffc7cda7e8b707f9/c08c5/lubycon0.jpg\" srcset=\"/static/218dafe85f1922f7ffc7cda7e8b707f9/0913d/lubycon0.jpg 160w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/cb69c/lubycon0.jpg 320w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/c08c5/lubycon0.jpg 640w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/6a068/lubycon0.jpg 960w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/eea4a/lubycon0.jpg 1280w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/9568a/lubycon0.jpg 3024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>미팅 중인 루비콘 전우님들</small>\n</center>\n<p>이 팀을 처음 만든 게 2015년에 필자가 대학 복학했을 때 쯤이니 벌써 6년이나 이 사람들과 같이 구르고 있다. 사실 2019년에는 다들 회사일이 바빠서 같이 노는 것 외에 뭔가 활동을 하는 게 거의 없었는데, 2020년에는 함께 멘토링 프로젝트를 진행하게 되면서 다시 팀 분위기가 바빠지고 있다.</p>\n<h3 id=\"누군가를-멘토링-한다는-것\" style=\"position:relative;\">누군가를 멘토링 한다는 것<a href=\"#%EB%88%84%EA%B5%B0%EA%B0%80%EB%A5%BC-%EB%A9%98%ED%86%A0%EB%A7%81-%ED%95%9C%EB%8B%A4%EB%8A%94-%EA%B2%83\" aria-label=\"누군가를 멘토링 한다는 것 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>2020년 3월부터 루비콘 팀에서는 협업을 원활하게 할 수 있는 방법을 멘토링해주는 프로젝트를 시작했는데, 이 과정에서 개인적으로든 팀 단위로든 많은 실패와 러닝을 얻었던 것 같다.</p>\n<p>사실 필자는 스스로에 대한 평가가 후한 사람이 아니다. 그래서 필자는 스스로 매일 채찍을 후려갈기면서 “아직 부족하다”를 매일 되뇌이면서 살고 있다. 이건 필자가 열정이 대단하다기보다 “이 정도면 잘 했지”라고 생각하는 순간, 성장을 하기 위한 노력을 안 하게 될 것 같다는 두려움 때문이기도 하다. <small>(결국 이러다가 번아웃이 왔었지만, 습관은 잘 안 고쳐지더라…)</small></p>\n<p>이번에 멘토링을 진행하면서 느낀 것 중에 하나는 필자가 이런 기준을 필자 스스로에게만 적용하는 것이 아니라 타인에게도 그대로 적용한다는 것이다.</p>\n<p>필자는 실력이 좋고 나쁘고를 떠나서 항상 성장을 위해서 끊임없이 노력해야 한다고 생각한다. 그리고 이런 꾸준한 노력을 하기 위해서는 목표 설정과 동기 부여가 명확하게 되어있어야 한다.</p>\n<p>그래서 필자는 개발자가 되기 이전에도 “내가 적당히 잘 하기도 하고 즐길 수도 있는 것”을 찾기 위해 비보잉, 작곡, 사운드 엔지니어링, 프로그래밍 등 최대한 다양한 것들을 경험하려고 했던 것 같다.</p>\n<p>이게 필자가 지금까지 성장해온 방식이었기 때문에 당연히 이게 맞는 방법이라고 생각했다. 머리로만 각을 재봐야 아무 소용이 없으니 직접 몸을 움직여서 최대한 많은 도전을 해보고 결과를 본 다음 판단하고, 그 다음 도전을 이어나가는 방법 말이다. 그래서 멘토링을 할 때도 멘티들에게 이런 것들을 자주 이야기했었다.</p>\n<p>멘티들이 회사일 때문에 프로젝트 진행이 힘들다, 실력이 안 늘어서 답답하다고 해도 잘 이해가 안 되었다. 솔직히 말해서 그냥 열정과 동기 부여가 부족한 것이라고 생각했었다. 그래서 필자는 멘티들에게 늘 이런 식으로 이야기했다.</p>\n<blockquote>\n<ul>\n<li>\n<p>에이 저도 했는데 여러분이 못 할 이유가 전혀 없어요. 한번 도전해보고 정 안 되면 그때 다시 얘기해보시죠!</p>\n</li>\n<li>\n<p>회사를 다니면서 토이 프로젝트 할 시간이 부족하다는 건 당연한 거에요. 시간은 잠을 줄여서라도 스스로 만들어내셔야 해요.</p>\n</li>\n<li>\n<p>절대 실력이 단기간에 빠르게 늘 수는 없으니 조바심 내지마세요. 그냥 꾸준히 하다보면 어느 순간 성장해있을거에요. 그러니까 하루에 조금씩이라도 코딩을 하시는 습관을 기르셔야 할 것 같아요. 힘들어도 견뎌보세요.</p>\n</li>\n</ul>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1814c31fd325ae8f46c8a26324434305/36dd4/whipper.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQGAv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFvE+zFIS5X/8QAHBAAAQQDAQAAAAAAAAAAAAAAAgABBBEDISIx/9oACAEBAAEFAoxsYY5HVsh9vVr/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQIQIRMf/aAAgBAQAGPwJ6pjWdHYUf/8QAGRABAQADAQAAAAAAAAAAAAAAAQARIZEQ/9oACAEBAAE/IcuAtXC0NsHfBdry3//aAAwDAQACAAMAAAAQN8//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QSpD/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QXI//xAAcEAEAAwADAQEAAAAAAAAAAAABABEhMUFhUXH/2gAIAQEAAT8QXQqw1Z7XzYyXwtXhWJ6KXfsDFB7ISClN6iODM4/IMsxqf//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"whipper\" title=\"\" src=\"/static/1814c31fd325ae8f46c8a26324434305/36dd4/whipper.jpg\" srcset=\"/static/1814c31fd325ae8f46c8a26324434305/0913d/whipper.jpg 160w,\n/static/1814c31fd325ae8f46c8a26324434305/cb69c/whipper.jpg 320w,\n/static/1814c31fd325ae8f46c8a26324434305/36dd4/whipper.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이건 뭐 말만 멘토지, 거의 프로 채찍러였다</small>\n</center>\n<p>사실 당시 필자가 했던 말들이 틀렸다고는 생각하지 않는다. 회사 일 때문에 개인적인 성장에 투자할 수 있는 물리적인 시간이 부족하다고 해서 회사 일을 하는 시간을 줄일 수는 없으니 그냥 잠을 줄이는 것이 나름 합리적인 방법이고, 아무리 힘들고 하기 싫어도 그 감정을 이겨내고 매일매일 조금씩이라도 꾸준히 수련을 하는 것이 실력을 늘릴 수 있는 가장 쉬운 방법이기 때문이다.</p>\n<p>이렇게 3개월 동안의 멘토링을 진행하고나서 마지막 회고를 가졌는데, 당시 필자가 맡은 팀의 프론트엔드 개발자 분이 이런 얘기를 했었다.</p>\n<blockquote>\n<p>동욱님이 해보라는 대로 잠을 줄이면서 토이 프로젝트를 했었는데, 잠이 부족하니까 계속 집중력도 흐려지고 몸 상태도 안 좋아졌었어요 😢</p>\n</blockquote>\n<p>내색은 안했지만 이 말을 들었을 때 필자는 머리를 망치로 한 대 맞은 것 같았다. 그때서야 “아, 내가 그냥 저 분들보다 체력이 좋아서 그 미친 스케줄을 소화했던 거였구나”라는 생각이 들었다.</p>\n<p>사람마다 학습을 효율적으로 할 수 있는 방법은 당연히 다를텐데 필자는 그냥 지난 6년 간 필자가 해왔던 방법이 맞다고 생각하고 무작정 들이밀었던 것이다. 물론 필자와 비슷한 방법의 성장 방법이 잘 맞는 분들도 있을 테지만 적어도 필자가 멘토링했던 분들은 이런 방법이 잘 맞는 분들이 아니었다.</p>\n<p>결국 필자가 멘토로써 놓쳤던 중요한 것은 바로 공감과 다름이었다. 필자는 멘티들이 힘들다고 했을 때 그 문제에 대해 공감하고 함께 해결하려고 했던 것이 아니라, 그것들을 그저 투정이나 아마추어리즘으로 치부하고 스스로를 더 극한으로 몰아붙혀서라도 프로젝트를 제대로 마무리하는 것만을 강조했었다. <small>(그리고 스스로 뭔가 꼰대 같다는 생각이 들어서 이걸 깨닫고 한동안 우울했었다)</small></p>\n<p>여러분이 힘들다고 일을 안 하는 것이 반복되면 팀원들의 신뢰도 점점 사라질 것이다. 이 팀에는 프론트엔드, 백엔드, 디자이너가 1명씩 밖에 없으니 여러분이 한 명이라도 일을 안하면 프로젝트는 드랍된다. 책임감을 가져라. 동료에게 신뢰를 줘라. 같은 말들과 함께 말이다.</p>\n<p>물론 이 말들이 틀렸다고 하기는 어렵지만 이런 식으로 밀어 붙히기만 하는 멘토는 좋은 멘토가 아니라 그냥 혼만 내는 선생님에 가깝다. 멘토라고 하면 멘티들의 모랄과 동기 부여도 어느 정도 해줄 수 있어야했는데, 필자는 그런 것보다 프로젝트를 런칭하는 것 자체에만 너무 포커싱했었다.</p>\n<p>그래서 저번 달 까지도 필자는 계속 이 문제에 대한 해답을 고민하고 있었다. 마침 회사에서도 “개인의 성장 뿐 아니라 팀의 성장까지 생각할 수 있는 사람이 되어달라”는 피드백을 받았기 때문에 더욱 더 이 문제에 대한 해답을 찾고 싶었다.</p>\n<p>하지만 아직도 잘 모르겠다. 무턱대고 공감만 해주는 것이 절대 멘티들의 성장에 도움이 될 것 같지는 않고, 그렇다고 채찍만 후려치는 것도 도움이 안 되는 건 마찬가지다.</p>\n<p>결국 상대방에게 어떤 성장 방법이 잘 맞는 지 파악하고 그 분에게 적절한 동기 부여와 조언을 해주고 포텐셜을 끌어올려줘야 하는데, 컴퓨터면 몰라도 사람을 분석한다는 건 필자에게 아직 너무 어려운 일인 것 같다.</p>\n<h3 id=\"그-동안-다들-많이-굴렀구나\" style=\"position:relative;\">그 동안 다들 많이 굴렀구나…<a href=\"#%EA%B7%B8-%EB%8F%99%EC%95%88-%EB%8B%A4%EB%93%A4-%EB%A7%8E%EC%9D%B4-%EA%B5%B4%EB%A0%80%EA%B5%AC%EB%82%98\" aria-label=\"그 동안 다들 많이 굴렀구나 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>사실 그 동안 루비콘 팀에서 했던 일에 대한 회고는 몇 번 했던 적이 있지만 이 팀 자체에 대한 회고는 별로 생각이 없었는데, 최근 오랜만에 이 친구들과 함께 진행하는 일이 많아지면서 예전에는 들지 않았던 몇 가지 생각들이 들기 시작했다.</p>\n<p>앞서 이야기했던 멘토링 프로젝트를 진행하며 오랜만에 친구들과 제대로 된 일을 벌이기 시작했는데, 이렇게 친구들과 일을 하면서 최근 느낀 감정은 “다들 많이 구르긴 했구나…”하는 것이었다. <small>(새삼스럽지만 말이다)</small></p>\n<p>지금은 대부분 5-6년 정도의 경력을 가진 직장인들이 되었지만, 예전 대학생 때를 돌이켜보면 이 팀은 그냥 진짜 초짜들 모임이었다. 뭔가 토이 프로젝트 팀이라기보다 그냥 친구들 모임에 가까운 느낌이랄까. 제대로 협업하는 방법도 몰라서 맨날 싸웠었다.</p>\n<p>물론 학기 중이든 방학 때든 매일매일 동국대학교 반야관 지하에 모여서 함께 아이데이션도 하고 개발도 하고 디자인도 하기는 했지만, 사실 그 시절에는 그냥 얘네랑 개발하는 것보다는 같이 노는 게 더 재밌었던 것 같다. 피씨방가서 게임도 몇 판 조지고 술도 마시고 당구장도 가고 노래방도 가고 가끔은 서로 욕도 해주고 그렇게 말이다.</p>\n<p>그러다가 올해부터 갑자기 팀에 일이 많아지면서 협업의 양이 확 늘었는데, 여기저기서 빵빵 터지는 문제를 다들 알아서 척척 해결하는 모습들을 보고 있자니 조금 기분이 이상했던 것 같다. 내 기억 속의 루비콘은 삽질도 많이 하고 방법도 몰라서 매일 구글링하느라 시간 다 보내는 그런 팀이었는데, 어느 샌가 이 팀에서 일하고 있으면 그냥 회사에서 일 하는 것과 비슷한 느낌이 들 정도로 일의 진행이 스무스하다는 생각이 들기 시작했다.</p>\n<p>최근에는 serverless 프레임워크로 만든 어플리케이션을 배포하다가 실수로 멘토링 프로젝트 신청자 데이터가 담긴 DB 테이블이 지워지는 대형 사고가 터졌었는데 나중에 알고보니 DevOps 역할을 맡고 있는 친구가 평소에 백업을 계속 하고 있어서 별 탈 없이 지나갔던 일도 있었고, 멘토링 프로젝트를 진행하면서 생겼던 프로젝트의 방향성이나 루비콘 팀의 아젠다와 같이 거시적인 가치관이 싱크되지 않아서 마찰이 생겼을 때도 각자의 의견을 잘 조율해서 해결했던 기억도 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/51285d2856115eebe4ea358e70ca1ee4/e996b/lubycon3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACB0lEQVR42oWSvY7TQBDH8wwgdEkce/1tr+21d722yX1woUDUSNecxBPQUEALPAMN3Um8wJX0vAAFOl1BQUlDCw0SJMPMmJxyDSn+Hs9+zW8+Jqksr3Tbvrkz9V5lvriweQQiyiFOJIRxBgH+zxf+KDcAZ48mUSovM6WUMd3Hh6en16vjQ9B2CcPyGGxP9gTqxoKsDDxaNSD8EB//z4P0WbghqGEF3YPHUCgDrgh5c+GFLJesiJA2xrN7CPHA+u495/fR2dM/8smzdanMxvWTzZZim66Dmjn+/pT9MAXVdJCkGZO5IgbX9W+RbEmZVoS3/F2NNYzzT1r3z3Hh9VwELwIRvJzmw1eRlBikWMdpcUNKduYI1jbQruUH4zD+UAZBXzXtF2OH77Y//Cbr7pduB2hMD2RLpdkWlcZ/A1Xd8posG6i15XO17kAECdcQIwR8IJMKRyUHpAYii3B0yO4qyUq2QZTxPvn07/kxk07+5b9JpfpRKf3TGMvRGoxc1YYJiEyWmtcVjlBe1PwQ+cbeZ4CDmcdNw6YkF+fnZ/XUS942WfJuZeQ6LTRebPmSi+NCqewWn/yRKgK8Dx76KTY1SVOYzBbiM26818ZuqDYWB5qiUnSSxvooXKc9rDFrJG2ZXLcdVE0PQ19D3xUwoTE4mAs4OVpCVdWQYTpEMXbTv+nqPk3nJB/+AoNoT0EsI4NiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"lubycon3\" title=\"\" src=\"/static/51285d2856115eebe4ea358e70ca1ee4/6af66/lubycon3.png\" srcset=\"/static/51285d2856115eebe4ea358e70ca1ee4/69538/lubycon3.png 160w,\n/static/51285d2856115eebe4ea358e70ca1ee4/72799/lubycon3.png 320w,\n/static/51285d2856115eebe4ea358e70ca1ee4/6af66/lubycon3.png 640w,\n/static/51285d2856115eebe4ea358e70ca1ee4/d9199/lubycon3.png 960w,\n/static/51285d2856115eebe4ea358e70ca1ee4/e996b/lubycon3.png 1050w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>백업을 생활화합시다... 아찔했던 그 날의 기억</small>\n</center>\n<p>각자 걸어온 길은 조금씩 달라도 6년이나 실무에서 굴렀으니 대학생 때보다 성장한 지금이 당연한 것이라고 생각할 수도 있지만, 요즘 들어 유난히 예전 대학생 시절에 삽질했던 추억들이 생각나는 것 같다. 얼마 전에는 루비콘 친구 2명이랑 강남에서 오마카세를 먹었는데 어릴 때 같이 한솥도시락이나 짜장면 시켜먹던 게 생각나서 기분이 이상하더라.</p>\n<p>앞으로도 이 친구들과 함께 루비콘 팀의 슬로건인 <strong>Growth and Share</strong>에 걸맞게 우리가 가지고 있는 것들을 다른 사람들에게 나누어줄 수 있는 다양한 활동을 했으면 좋겠다. <small><del>(팀 네임 밸류 키우자 짜식들아)</del></small></p>\n<h2 id=\"블로그-회고\" style=\"position:relative;\">블로그 회고<a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%ED%9A%8C%EA%B3%A0\" aria-label=\"블로그 회고 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 작년 6월부터 블로그를 꾸준히 쓰고 있었는데, 지금까지 단편적으로 데이터를 보긴 했어도 처음부터 오늘까지의 전체적인 데이터를 본 적은 없었다. 그래서 이번에는 블로그에 대한 내용도 조금 공유해볼까 한다.</p>\n<p>사실 필자는 블로그에 Google Analytics나 Amplitude 같은 이벤트 트래킹 솔루션을 연동시켜놓고 사람들의 행태를 관찰하고 있었다. <small>(이렇게 말하니까 왠지 민간인 사찰 같다)</small></p>\n<p>아무래도 이 블로그는 커머셜 서비스도 아니고 그냥 필자의 취미 공간이기 때문에 굳이 데이터 분석에 딥다이브할 필요는 없다. 그래서 그냥 필자의 블로그를 찾아주시는 독자 분들이 어떤 것에 관심을 가지고 있으며 어떤 정보를 얻어가는 지를 알아보는 정도로만 사용하고 있다.</p>\n<h3 id=\"블로그-방문자와-이탈율\" style=\"position:relative;\">블로그 방문자와 이탈율<a href=\"#%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%B0%A9%EB%AC%B8%EC%9E%90%EC%99%80-%EC%9D%B4%ED%83%88%EC%9C%A8\" aria-label=\"블로그 방문자와 이탈율 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 작년인 2019년 6월부터 본격적으로 블로깅을 하기 시작했으니, 2019년 1월부터 지금 이 포스팅을 쓰고 있는 2020년 12월 30일까지의 블로그 방문에 대한 데이터를 한번 살펴보면 좋을 것 같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b4d4611a19cd662532e1e5d9ed79a0c0/03914/blog1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoklEQVR42nVOiw7CIAzk/79zMdnco6NQBgzOgtOoiZc0ubZ31xrvHHJKaBDxcI47TzoLIaDW2ouZkfNT1zQi0nmMx9vTdGbeCNNmEU6A2OE2zZBTAyRgGCfsEiG5YFwI9kg4dLfQjqHr1OM8Vst9HlVnNiKIftJgNdBqUK5A0WsNpT6rfvD+zdXXn52ZyYJ8QNJu3Rl3/dangnyWy/bCP/6NB5gFOWR903IEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog1\" title=\"\" src=\"/static/b4d4611a19cd662532e1e5d9ed79a0c0/6af66/blog1.png\" srcset=\"/static/b4d4611a19cd662532e1e5d9ed79a0c0/69538/blog1.png 160w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/72799/blog1.png 320w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/6af66/blog1.png 640w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/d9199/blog1.png 960w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/03914/blog1.png 1173w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>필자가 처음 블로그 활동을 본격적으로 시작하기 전인 2019년 5월에는 한 달 방문자 수가 60명 정도였는데, 블로그 활동을 본격적으로 시작한 2019년 6월은 4,000명 정도로 증가했다.</p>\n<p>이때 뭔가 특별히 좋은 글을 썼다기보다 2019년 6월에만 9개의 포스팅을 올렸기 때문에 아마 유입량이 이 정도까지 드라마틱하게 늘지 않았나 싶다. 그리고 2020년 12월 현재는 한 달 방문자 수가 20,000명 정도, 총 페이지뷰 수는 470,000 정도 된다.</p>\n<p>이 데이터에서 특이한 점은 이탈율이 64.94% 밖에 되지 않는다는 것인데, 사실 보통 블로그처럼 정보 전달을 목적으로 하는 서비스는 사용자가 원하는 정보를 취득한 시점에서 바로 이탈이 일어나는 경우가 높다. 그래서 블로그치고 이 정도 이탈율이면 나름 선방했다고 본다.</p>\n<p>하지만 그렇다고 이탈율을 그냥 포기하기에는 조금 아쉬운 부분이 아직 남아있는데, 바로 이 데이터 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c1d5576bb232ff1ac9bc089f78d03540/12e1b/blog2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42p1STUtbQRR9P6Af7vsTSv+E/6KL/gGldCO6K4KtBbtx495lQcQKfqyaFiwpqFVIE0SlahM1MXnJm7yPmTfzZub0ziShpavUGQ73npnL4czcG/BcIs0VfBQFlLaw1sIMYcdAoQ0y0hBSIQCtpa8dPF05xeTqBepModYW+HSR4LjJ8T/LiXvBqc0GgleHeDBfwVmY41sjw4cfDF8uk/GE/hWc3r5BMHuEx4tVEpTYv86wXmPYu0ru5/DlDgnOHWPiXQ3n3Rzfbzk+nvRRrqejSl88TP/63z98kI+evEWCM0d4+KaKU3ry7lmMlf0QGyfMF7lGOWhrx3P4utTCo7cVPKPG/OxJvFiv48n7Kp6v/UKXayyX21j43ESJGpVIg4PrFIeESGikxBuRQCtRKAwJaqOhKXFtz1Xh7QtlwDJJcXB3ywSajIMTl+Q0TKWHonHJC4Me5TGNnDYGQZRyElIwRBy01rAU/YzR9nz4WX4+yYCry4SEJAOKYK3x5642uAw5bqKMHAh0Yo5Or48eS3DXZYjiFG3H++mAU3T33X6CVhjReTK8d5yBxRl+A9nS7mCjnxyaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog2\" title=\"\" src=\"/static/c1d5576bb232ff1ac9bc089f78d03540/6af66/blog2.png\" srcset=\"/static/c1d5576bb232ff1ac9bc089f78d03540/69538/blog2.png 160w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/72799/blog2.png 320w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/6af66/blog2.png 640w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/d9199/blog2.png 960w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/21b4d/blog2.png 1280w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/12e1b/blog2.png 1607w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>이 차트는 지난 30일 동안 사용자가 블로그 포스팅을 한번 보고나서 다른 포스팅을 다시 보는 비율을 나타내는 차트이다. 맨 왼쪽에 있는 차트가 1개의 포스팅을 본 유저의 수이고 오른쪽있는 차트들은 2개, 3개, 4개, 5개의 포스팅을 본 유저의 수를 나타낸 것이다.</p>\n<p>대충 차트만 봐도 맨 왼쪽의 차트에서 두 번째 차트로 넘어갈 때 유저의 수가 확 줄어드는 것을 볼 수 있는데, 이는 포스팅을 하나만 보고 이탈하는 유저가 그만큼 많다는 것을 의미한다.</p>\n<p>여기까지는 아까 말했듯이 블로그라는 서비스의 특성 상 이탈율이 높은 것이 당연하기 때문에 이상할 것이 없지만, 재밌는 것은 저 퍼널들을 통과하는 사람들의 퍼센테이지가 점점 높아진다는 점이다.</p>\n<table>\n<thead>\n<tr>\n<th>post1</th>\n<th>post2</th>\n<th>post3</th>\n<th>post4</th>\n<th>post5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>100%</td>\n<td>16.9%</td>\n<td>37%</td>\n<td>51%</td>\n<td>62.3%</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">post1</code>은 포스팅 한 개를 본 사람들이고 이 수치를 100%으로 잡았다. <code class=\"language-text\">post{n}</code> 컬럼은 각각 앞 퍼널에서 넘어온 사람의 숫자의 퍼센테이지를 나타낸 것이다.</p>\n<p>즉, <code class=\"language-text\">post2</code>는 처음 포스팅 하나를 읽고나서 두 번째 포스팅까지 읽는 사람이 16.9% 밖에 되지 않는다는 것을 의미한다. 마찬가지로 <code class=\"language-text\">post3</code>는 두 번째 포스팅까지 읽은 사람이 세 번째 포스팅까지 읽을 확률이 37%라는 것을 의미한다.</p>\n<p>그런데 가만 보면 두 번째 포스팅을 읽은 이후로는 점점 숫자가 올라간다. 즉, 포스팅을 읽으면 읽을 수록 더 필자 블로그에 흥미를 느껴서 더 많은 포스팅을 다시 읽을 확률이 높아진다는 것이다.</p>\n<p>그래서 필자는 이 데이터를 보고 이탈율을 개선해보려고 관련 포스팅도 넣어보고 태그 별로 묶어서 보여주기도 해보는 등 이런 저런 시도를 해보았는데, 결론만 말하자면 다 망했다. 이건 나중에 시간이 되면 조금 더 분석해보고 테스트를 돌려봐도 좋을 것 같다.</p>\n<h3 id=\"방문자-세그먼트\" style=\"position:relative;\">방문자 세그먼트<a href=\"#%EB%B0%A9%EB%AC%B8%EC%9E%90-%EC%84%B8%EA%B7%B8%EB%A8%BC%ED%8A%B8\" aria-label=\"방문자 세그먼트 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자의 블로그는 기술과 관련된 내용이 많다보니 아무래도 필자 블로그의 유저 세그먼트는 IT업계에서 기술과 관련된 일을 하시는 분들로 제한된다. <small>(가끔 마케터 분들이 GTM 포스팅을 타고 들어오시기도 한다)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 295px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/564297705d3b3abc0afd27d96b1313ea/e4a3f/blog6.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 148.74999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFy0lEQVR42p2W+VcURxSF+UOj5pwEl0QBSSJoogi4AGoSc4yaYBQXFgWHfZBNAQ1g0OBGFJgFgWEbYJZeqnq6e25udU8E9LdwzqO6u6q+uu/Vq1eTl81mkclkYNFs24ZlZfhu89kBuz417LSP//IUJL62htjiIhKbm1iKxbCxvo50Kon/85enFNo0J2c2l5UOYPJB2oCRgdeabAXN2TZeta4y14XjKI+yyFszbbREUuhf1NBL655P49pLgbIRgd8nJY4+Erj6t0TFY4Fz4wIDMR3dCxoeLulomUsjnDBhaGnE6ZUKXd4KgfWhJLrmNc9aoik84IR7ahFOVn19izqa+b3tfRpBjglE097id9gXSVO260AI6SnNWyWwmZN7OUlZOycNEtTO1YeWDG+BR2w7cjAF72SrxtzlvDmNG2oa2NjY9DbVU9jAlbrnNc/uE9BLhSoMyr1G9vUTor4raA/HtFJhHxXW/6fQsaEbxpbCpnASPYQoa53z4xkgQMXpLvuUGvW9i/FV4VDq+2MaGtkXpUJbCiSSSW9jdsSw873mue/FMJzylNXP5mLI720E+V7sjKFjSaQ1zQf6ClNUp6MvliY0iUcrhMdSGFnVEZhLYnhZR9cCF1pkfJc0BBfSfjg4L0qgm7G2gMs5hR1Ud+W1xPlJgWsTEjWDJuqYPhVPNdyYMnHumY6LkwauvjRw7i9u0pzuKQwTmBGm5/LWpjAWbXSp8Np77LkYwZHaBXxWOYvy5gR235Ko7JY40CBQ3CLxw7CFAz0W7ocNL4bhnEJN1/1NUUAlvZ1WdOENPi+fROmvb7G77BlONaxib61EVbtA0U0TpYRWdEkUNUm0zuhoiiYxs2nCZGJvbObSxnOZsFZa4U//YE/lK5Rcnsauk5OobFxD/h8SZzsECm+ZKGkSKB+UKOyUCIQYw0gSoaRE1s7ANMU2hezoiGo41qjh4PUUKlo0fFWbQnWvifw2gephquoSKO0l8E8CBwgM+8DpnMK1eNxXuKTbuDGdQvOsjhMtFopuS5xut1DA2NV0W8i/TqBy8w6B9+jyEJ+DdJlAlb9eYmddCCn94vBu3cXebhMnOfD7eyYO3TRQERD4us5AFV394jcTZ9slChjDI4zhyU6BQ40CgRlfoQJawkA8vu4r9IBBAunWiWauflvgdBsBtwRqqCy/lgoZsyK+l96lwofKfSoMbVPI4mCKXAwVcH+QA5kOpwgqafRB37H9uUcypgI/Mm1K6gUXFKjitxKmT2eIhWPOLw4qD9c3NvzEjiQdlI/puPTcRBkVHqaSM60MfJ3A+QcS+6iqhptQzDAco7unxyS+ocq2qKo2vkKXu/zhpMSFjY6FBM9rGmVBf+KZPrrVQuATif19LKxPFYRAFZYhCweZ2IGIgabI1llOpdI+MEqFlVR4+YWJcgK+5cQqqigeFLhA0IEegsf5fUDg+JDAzSkDl3gEg/O6d1Ii246eB5yKu9jVbuIo3ThOBYVUdIrgQ8y56lGJL7u5ANsCvh8jsF8VkIWUX21mcy6ro6fljt5bbko+06ZsRAF5xPoZJwILCK6h0nwCq8f8hb4nMMiaqK4AVeLqQynM8E4RuubdKVtpw50ro7ryxzYOE3h2NOOBz49b2BdUYAvFA5YH7I0ZfsVm20BgOCU9hepO8RLb4B0ZYv2Lm0BoOYFVPYvomobFpI0VujOfyGBVczC7zOOlA8ubaSQtBysJDWuaRMb9+F5mUjqW8F4ypu61WVutxpFZxzf+Rsi60uuzc2M5iP/cTy/6TcvF+JrA+KqJ55sSo0s26l65LK4Z3Hpjo2uKz8MZ1I1kcGPERvt4GlcC73E5MI9fWuYRjpk+P/e7JC9hSMyyYsyzSMylJV4tJjAU0jCx7GJiycHYTBKj7wQmIi5Gpy08ebGCgacxjL7mxfZkAYsrqZ1AhzvjOk7uY5Z3LLffFh9csKVGd+1cvwNLst/JeO8Oxzm2tcPlfwEuB1MAZ2EHJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog6\" title=\"\" src=\"/static/564297705d3b3abc0afd27d96b1313ea/e4a3f/blog6.png\" srcset=\"/static/564297705d3b3abc0afd27d96b1313ea/69538/blog6.png 160w,\n/static/564297705d3b3abc0afd27d96b1313ea/e4a3f/blog6.png 295w\" sizes=\"(max-width: 295px) 100vw, 295px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>토요일은 다들 쉬시는 것 같은데 일요일은 도대체 왜 들어오시는...?</small>\n</center>\n<p>이 도표는 진하게 표시될 수록 값이 크다는 것을 의미한다. 즉, 필자 블로그의 방문자들은 주로 평일 오전 8시부터 오전 12시 사이에 많이 접속하는데, 이는 아마 업무 중에 막히는 문제를 구글링하다가 필자의 블로그를 발견하고 접속하는 것으로 추정된다.</p>\n<p>사실 하나하나 살펴보면 실질적으로 주말이라고 볼 수 있는 금요일 오후 7시부터 일요일 오후 11시까지는 진하게 표시된 부분이라고 해도 옅은 부분과 값이 크게 차이나지 않는다. 그냥 값이 <code class=\"language-text\">1500</code>을 넘어서 색이 저렇게 보이는 것 뿐이지 실제로 보면 저 시간대에는 <code class=\"language-text\">1400</code> ~ <code class=\"language-text\">1600</code> 사이의 값이 유지된다.</p>\n<p>이런 것들을 보면 유저들이 필자의 블로그를 킬링타임용이 아닌 실무적인 부분에서 도움을 얻기 위한 목적으로 많이 방문하는 것이라는 가설을 세워볼 수 있을 것 같다.</p>\n<p>그리고 또 다른 유저 세그먼트의 팩터로는 연령대와 성별이 있는데, 이건 아마 여러분들도 대충 예상이 가능할 것이라고 생각된다.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e50080c81ca8b19493536bcb4e34ece8/cda19/blog7.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVR42qWSTWsTYRDHn+/gwYOg0H4WwZMoiAd7qV+gHqRWEC++4EH6Ao1K7dWbUoI2WAilbVqxVNM2rUK73U2iWc2um+7GrZvEze7+fNxUmxKobR0YHp6B+c38Z0aEYUgURX+93drjh3URJ+4CPD/kztsSfdMFUpodx8L9Nf5pIu5w91Op+ZwYWkTcmuF6Oh/HgiMSWx1Gf4BNTj15j3iwwMBcsQWMjghsad8Dnnz8DnF/nv7ZYwL3S+4E+kEo5xgdX/J/d/hlp8Hwislg1iCju5wZyyLuZbghZ1hyfWZLLopdPzxQcepcSmmcf6nyXLHpGpfAuxluZj4xuGxwLqnIggbtSg4EqhJ4NV2gZypPUnXoeroHHM1948KkSiJntm4y7DzkTmC1Tm+6yJWpAknNoXt8WUqej4GJNUsCNcbWLZZMj0cfKrzQqgceu1DsGpdTKhdfSckbFU4nlhC3Z+ifzvMwW+bsxCajUvJkscq1BZ0R2a3p+XyUc92Q6jw/oNYM4rcpL0K4DZ9F3eHN523073Veb1k8y+msm3IZ2z+YK1io8i3L5a1+dcjbHpb3kzWjymZlh9/5hlujLL3RDPgFZge89MSfu9cAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog7\" title=\"\" src=\"/static/e50080c81ca8b19493536bcb4e34ece8/6af66/blog7.png\" srcset=\"/static/e50080c81ca8b19493536bcb4e34ece8/69538/blog7.png 160w,\n/static/e50080c81ca8b19493536bcb4e34ece8/72799/blog7.png 320w,\n/static/e50080c81ca8b19493536bcb4e34ece8/6af66/blog7.png 640w,\n/static/e50080c81ca8b19493536bcb4e34ece8/cda19/blog7.png 785w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 439px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5078eefc1192e770146eea9f3fa5e90e/e3b18/blog8.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 103.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADG0lEQVR42o2V2U9TQRTGp71dAKEEAyaG6IOvPvimb8b4ZnjxT3CBCAhoJAYTnjRRiwItpWVzAdEESCTygMYlQUWgCwqELWkJSwBZpEABS1va3s+Z295ellvDJCdzO3fO73xz7plTgjgjGA7D4/XB7/dhIxDEOn32er0I0fX/DbJ/gY/OHt8OBqYXsbq0gLnNAKaXVrE4P4st7zYYkuf5wwHDPNss/V73hzG57sOUexNr2wEpMN0UloHuAYrvQ5Ta7nIjq30cJ+p+IcNsR3pJEzLvNeGSuRNtPycQCIaiAnh5oPhiyuPHxbYxkMc9UOh7QJ72IcVoxZE7L0BumKHIMYFcr8L5yneYWPYcgJLdCxNrPpxuHERqlR2pJge0lTaoqaVWWZFS/BLczVpoC+sFI9eMOEkVjy2u7YESkR0I8bjQMgpS1osMSz+FWaGqsEJJTUcVJlOFivwaAcos6VYDSE41zunfwrsTjKWMhKLk2sFFkIc/oDXYoCy3gquQAeZJQGYapvSqERVfBmO5j+Xw7OthEH0vNExZeZ9g6ooIOB5QXVAnqDzzoFWAxXLodP/FMWMPkqljgtEOtcEhGFdpBym3IdkgD1RRU+bXIpEqHZpbkYBfnfPgaLSUu6+QVtqCo/c7kPboI1KfdEFX2Yv0apvwlXfncL/KzpEZCfh5fFYoBY46KPPMUOaaweVWI6mwDom3n0FHA7F8MTX7gRq6h/l2DE1JwP7pZSESU6mKzswYQEmDKPIsB0DikdmspKnodv2WgJu+AE6VNguFK4BlnGWBBbUgNFhmSSNWtrYjQPHrFLV+F0pAW1R/aKA2WjbZzV2x4iaxW/LHg4zi50LEw6hUCympgY4W+MjCqgQUC5KNZrsTJNsEjuaEJVsOxCDslhynzYLLtaCmexS7GbHCFhtnQ88YNNSJHYXVHVOiLYyYhj6zNXaPVfQkpm/DEWVhXr59iVGG5ty4XPchcl+pYnLFEDFaHgk0x1mW93DMLO/xid+xaR7ELZMrG3jjcKHs0wD01JptTriiLUuuF8oCxY3xWrzYVcJx/gL+AUgc7J0NNxocAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog8\" title=\"\" src=\"/static/5078eefc1192e770146eea9f3fa5e90e/e3b18/blog8.png\" srcset=\"/static/5078eefc1192e770146eea9f3fa5e90e/69538/blog8.png 160w,\n/static/5078eefc1192e770146eea9f3fa5e90e/72799/blog8.png 320w,\n/static/5078eefc1192e770146eea9f3fa5e90e/e3b18/blog8.png 439w\" sizes=\"(max-width: 439px) 100vw, 439px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n</center>\n<p>물론 예전에 비하면 개발 직군의 성비가 많이 좋아지기는 했지만 아직까지는 여전히 남초 직군이다. 필자의 블로그를 방문하는 사람들 역시도 남성이 77.7%, 여성이 22.3%로 남성의 비율이 훨씬 높은 것을 볼 수 있으며, 주 연령대는 25세 ~ 34세인 분들이 가장 많다는 것을 알 수 있다.</p>\n<p>즉, 필자의 블로그를 주로 사용하는 사용자의 메인 페르소나는 20대 후반이나 30대 초반의 남성 개발자라고 생각해도 될 것이다. 물론 필자가 이 유저 세그먼트를 타겟으로 마케팅을 하거나 이벤트를 할 것도 아니고 그냥 기술적인 정보를 작성하는 블로그를 운영하는 것 뿐이기 때문에 크게 의미는 없는 분석이기는 하다.</p>\n<h3 id=\"검색-유입-키워드\" style=\"position:relative;\">검색 유입 키워드<a href=\"#%EA%B2%80%EC%83%89-%EC%9C%A0%EC%9E%85-%ED%82%A4%EC%9B%8C%EB%93%9C\" aria-label=\"검색 유입 키워드 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>대부분의 블로그가 그렇겠지만 필자의 블로그 또한 구글 같은 검색 엔진에서 흘러들어오는 오가닉 트래픽 유입으로 먹고 산다. Google Analytics의 채널 유입 데이터를 봐도 오가닉 트래픽이 50% 이상 차지하고 있는 것을 볼 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e4f35f0567ceb1d28541214478a0a2c0/99272/blog3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACgklEQVR42q2US0wTQRjHVyVB4oODxoOYeCAGlXAxMSExxnggkHiQQ9MoaTx405MXPXjQxCjBFw+Liah4IjHqATVBtB6MkFZaaIUGpFC30He7lD5ZFtjO/p2dLsUGiKBO8u0cZuY3/+/7/rMc/vPgFEVBIpFAMplENBpl8z8BCSEMpEJ5nkc4HGYL6kXrDaLk1tcKrnCrCiH0K0Omp9QgyiYV5lEki7VOq7cSTe2yaOfMEtwBAUIkBEEQEAqF4Pf7EY/HNaBC2LQkj0NeuIKJyEXo3//AXWsQUXGxIE112GI+OKfcGB1xwuv1MpAKTKVSFKjBFh09mPUehDi/DYOeSuxq7gN3px8Vz+1wROfYnizJ7Q1ErHDzI5ie8tHax1enLE+PYra+DLFbFCgVY8h3GHuM31DcMgCuqQ9VnQ6kFrOsxgw5OYTA2DBGx12YjcXypck3JfPkKmYulEPQVUHs2Ad75ChK28zYct+CkhYLuNt9eDYSYQdlomK/whewYcLlYc6QJOk3hbQZ89fOYKH+AMTzhyDp9sPaVYvSDgq8Z6FKrSh6aMHlz3zeCLY5CXbeQ2s4jGlaw8KUKfC78Rze3KxA++Nq3Og6BsOrBux8NEAVmrG33YZiCrxk+qk1R0GGqsxQVZl0GqIorq6hcawRJ3srUWuqRt3HI6h5p8OO1kFsfWBGSStNubEfnc6olrLyZx/ySRf0PdUw9J6G4dNx1HU3YHfbMLa35GBVLxxIs6aseHH9p6fZpj9ogu7DCdS8LcOp13oUNTloM76g/OmKbYiibOylLBs2OOfHy8lmXDe34mw3jzZ7EDFJzht7c09vnduVDSpbBcypIMgqWRZ/+3P4BaeDzLC41FWXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog3\" title=\"\" src=\"/static/e4f35f0567ceb1d28541214478a0a2c0/6af66/blog3.png\" srcset=\"/static/e4f35f0567ceb1d28541214478a0a2c0/69538/blog3.png 160w,\n/static/e4f35f0567ceb1d28541214478a0a2c0/72799/blog3.png 320w,\n/static/e4f35f0567ceb1d28541214478a0a2c0/6af66/blog3.png 640w,\n/static/e4f35f0567ceb1d28541214478a0a2c0/99272/blog3.png 669w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>1위인 오가닉 유입이 50.6%이고 2위인 SNS 채널 유입은 21.7%이다.</small>\n</center>\n<p>이런 상황이다보니 아무래도 사람들이 어떤 검색어를 통해 필자의 블로그로 유입되는지에 대한 관심이 생길 수 밖에 없는데, 이 데이터는 Google Analytics보다는 Search Console에서 더 자세히 볼 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d33a9725b00f44fbf215e1d9c05f007b/c0255/blog4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 40.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVR42o2STWtTURCGs9P/4F4Q/Nj1BxTc6E6oBcGNoIg7EYrQheCiFDFQUQihYFViLTXUQGiNQi2F2DaxShNakmBMbkxrSaqxprkf59x77uO9JxZx5wvDez5m3jNnZiI3Hve4Eje5HDO5eH+fW8NLjF5aZHRoiavDaU7EJjgz9ZBjj8Y5N/sUxxHYlhWwg+/7/5hSisjZsQPO3+sxcMfk1M0OF06nuD44z9DxOQZPTnH07m2OjI0QGbnGQDyKaZla8FAgRLD8wz6R1AfBy5xkNrDkqsPrFzUy01UyiS+kkxWiuSzRfJbxtWVmSgUdpIP5K3gILah8pS//ByrMKvDflxYdp4ftumz/kJSbNntdEXoQCbXWv+3wvvkVx/PwggDbkQjb5cC0+W53KRRaLK80yDaaZLa2SRbqzBUNnq/sEnvb4kF6j+lsO3jMCwQDbLR3mSzmydWaLKzWmHn1mSfPKkwmy8RTFSYSBomFNosfTebzFm/WBe8+SdZKgqIhqbcUm4aHI3SGPl1L0vnpslX5xWbVpNQQbFRtyoagvuPSEz4yKJdwwZE+lghN4QVnSvm6oiHpLnvBN8NRcISHkLJ/qVxdj5CVkoQ+QggdIER/XELu7wVSurrTnvL4DbDAOSHe9Qn3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog4\" title=\"\" src=\"/static/d33a9725b00f44fbf215e1d9c05f007b/6af66/blog4.png\" srcset=\"/static/d33a9725b00f44fbf215e1d9c05f007b/69538/blog4.png 160w,\n/static/d33a9725b00f44fbf215e1d9c05f007b/72799/blog4.png 320w,\n/static/d33a9725b00f44fbf215e1d9c05f007b/6af66/blog4.png 640w,\n/static/d33a9725b00f44fbf215e1d9c05f007b/c0255/blog4.png 920w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>검색 결과 노출과 클릭 수는 우상향을 그리고 있지만, 정작 CTR은 잘 성장하지 않는다</small>\n</center>\n<p>필자의 블로그는 작년 1월부터 지금까지 총 1,800,000회 정도 검색 결과에 노출되었고 그 중 125,000회 정도 클릭되었다. 지금까지의 평균 CTR은 7% 정도이다.</p>\n<p>그리고 차트의 맨 오른쪽 부분을 보면 지표가 쭉 떨어진 부분을 볼 수 있는데, 이렇게 연말에 지표가 하락하는 추세는 작년에도 동일하게 나타났었다.</p>\n<p>작년에 이걸 보았을 때는 연말이라 약속이 많아서 떨어졌을 거라고 생각했는데, 코로나 때문에 약속을 잡지 못 하는 올해에도 마찬가지인 것을 보면 약속이 있든 없든 연말에 일을 많이 하지는 않는 것 같다.</p>\n<p>최근 구글은 이런 데이터들을 정리해서 요약본으로 보여주는 Search Console Insights라는 기능을 런칭했는데, 확실히 여기서 보면 최근 한 달동안 사람들이 어떤 검색어를 통해 필자의 블로그로 많이 들어왔는지, 어떤 사이트에서 필자의 블로그를 백링크로 걸었는 지를 한 눈에 볼 수 있어서 편하다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/9a6434311050fa41aabb35f6a0a3bb73/889a4/blog5.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 114.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACc0lEQVR42qVV6dLaMAzk/V+vf+DjCuHIQQKJc9ixY7aSSjydrxA6rWZEDjvyStoVC+89Ho8H+GqMwTAMcM7JO/bJpuc55xgLusOP8wNVZ3E6xojjI4qiwDiOsBR4OoCf56zretm34MhKgz72aNsWbdeJa61pUwelGtlsBxuQvjJGx4cu5EYQ+LDIC86NcuV1Nvssw5xJygzzfLlguVwiTTNZiKJIfL3ZIM9zeVfebjgcIlRV/RapBGQUN9pcFKWkzHa9l8iqAm3TStpstVK43e9Sp1mE37spp5O7h/9js/d/kbK1DmmW43JJER1iVLUKHf1Us5cB+afvO+mkcNJ7/KuFlFXTSNF1r1HrBoc2xaUrcGqvcN7NBmExKKpvQ/UW2nBAvhmshdGkFGehLHHRajSWUD8+I55KE7pc1zVRJsX1+guRdhSYrma0H+vI30+SFYRCWkIn6qCU1dBg15xxaFLsVUKB7WxAplHf9+hJWUEpzD8mbFVVKImP1tj/a0pDTWGVZESfNMuwux1xbHNEhPJuVODmK+Ps+HvOMAwHjswPrFdHsFvXS0O4OWYcnuPJh32TT1qfxBFS5nG1Wq2w3+9J0yvsNjucaIwdthE2Xxvs6P16vSEtxyjLUvTNUs0oG24Ii4ObwodKUww9FLTxTjWs6gpbSnl7P+HrFiNRBRylNc3FV3ThEcdaZ5OUuQ7GDKH97dA/XaMfDI23cWZyf+Oh96N0+EppcypJniLOzkiuGc55goT4yenN0UaTIBjMbzx0Ij/Wc20aRG2Ciy5x7HPYD9LjgBwsBPykhKkkXAr/YXCEaTNR550LpSgoI3j3bzf5T6ZdCTqNpJ1WAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog5\" title=\"\" src=\"/static/9a6434311050fa41aabb35f6a0a3bb73/6af66/blog5.png\" srcset=\"/static/9a6434311050fa41aabb35f6a0a3bb73/69538/blog5.png 160w,\n/static/9a6434311050fa41aabb35f6a0a3bb73/72799/blog5.png 320w,\n/static/9a6434311050fa41aabb35f6a0a3bb73/6af66/blog5.png 640w,\n/static/9a6434311050fa41aabb35f6a0a3bb73/889a4/blog5.png 658w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>역시 부동의 1위는 CORS...</small>\n</center>\n<p>위 데이터에서도 알 수 있듯이 필자의 블로그로 유입되는 검색 키워드 상위 5개 중 4개가 CORS 정책 위반과 관련된 키워드이다.</p>\n<p>실제로 <a href=\"/2020/05/21/about-cors/\">CORS는 왜 이렇게 우리를 힘들게 하는걸까?</a> 포스팅은 올해 5월에 처음 썼을 때부터 지금까지 꾸준히 트래픽이 유입되는 포스팅인데, 그 만큼 많은 사람들이 CORS 정책 위반을 해결하는 데 어려움을 겪고 있다는 것을 알 수 있다.</p>\n<p>그리고 중간에 있는 <code class=\"language-text\">backpropagation</code> 키워드는 2018년에 작성했던 <a href=\"/2018/07/19/deep-learning-backpropagation/\">[Deep Learning 시리즈] Backpropagation, 역전파 알아보기</a> 포스팅으로 이어지는데, 아마 머신러닝의 기초인 역전파 알고리즘을 하나하나 직접 손으로 풀고 코드로 포팅했던 내용이 머신러닝을 입문하시는 분들에게 도움이 되었나보다.</p>\n<p>이외에도 HTTP3나 TCP, Git, 수학 같이 프로그래밍과 직접적으로 연관을 가진 주제들의 포스팅들이 주로 상위권을 차지하고 있고 비전공 개발자라던가 비즈니스에 대한 철학과 같은 포스팅은 상대적으로 밀리는 추세를 보이고 있다.</p>\n<h2 id=\"인프런-강의를-준비해보자\" style=\"position:relative;\">인프런 강의를 준비해보자!<a href=\"#%EC%9D%B8%ED%94%84%EB%9F%B0-%EA%B0%95%EC%9D%98%EB%A5%BC-%EC%A4%80%EB%B9%84%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"인프런 강의를 준비해보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>작년에 작성했던 회고인 <a href=\"/2019/12/22/2019-retrospective/\">20대의 마지막, 2019년을 돌아보며</a>라는 포스팅에서 2020년에는 발표나 강의를 도전해보고 싶다고 했었는데, 드디어 얼마 전부터 강의를 준비하게 되었다.</p>\n<p>필자 주변에 개발자 3대 허언이 토이 프로젝트, 이직, 유튜브나 인프런이라고 말씀하시는 분이 있는데, 필자도 2020년 내내 허언만 하다가 2020년이 다 끝나갈 때가 되어서야 이 도전을 시작하게 되었다.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/34601be0190fa3a883d1fd6c160453de/82158/liers.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChklEQVR42pVUO4sTURROYSNipZtk8pjJTOZx7zwzr0wmj8ljXUFwYUFXQaysTKmCjWC1aG0tgpVib6M/wX8g2FlZWG8hmeM5V1ZYBDMJnLkhQ777fd/5zqlJqnlaj1dfGmHxVeqZb+r19qOuprzmqQaqZpa6waEja9BqK9Dq9KDdVf9bNanvfqvh59Lxs1VrevN5ammJ6bqPbc8C1wvLQTQETeegqIaorYBtlf04PDq+z4vDlz03AcfxN9wdgMk8sLiHpwvM9sHxQuBOsJVljR6azkDuGdA3eMltv1RUvfSDWAASEFWzJVeTTA+prWyoGAJESQZq38JzBP4ggWQ4hkGUCkDyshIgFd2umzZ4yMxGySQvTnII4yEEYSJkV2Z4BoiSzwGSbC+IRBmWsxsgSkagAObLA3D9CKi72WgqfruyJ4n328D+YUjNId+osnwKxWIfJrOlACc7dpZMzaA/xmn+F2w0noGHjOmynSWThxQV8izLZwhWINtYvKcO79TlM0BiSHKJXZSOIEfQ+fIazOb7YFcNtgAUXWaiu1SqxsSo9TQTT118r8ywiyUrfVDRJ4u7yBJnV9cEmyq+nQOMBiG8f3UCJ0/WMCsWcPvOPZgu5sBiWcinsSNm9WZHTMtWwGmWwdsXTzcPbt3YjPMJzFcHMKT88QB9XEA+KXD8aGIyEaetHhrYiNV4DKnnAc2y4+JWwTDbwZ/FQFPj+rEIO9mxHdDyfy6vH61Nk6+vNlp3L9QuJk2l+ZAl2HWdlQbKbqDUvUa70rTU8ObvAHAZd6xkMecDbpt3mMPPDPcgbRwKNi0HmvFKwe7K2ik3zY/9vvEJI/KLlgDlUcOi+JB3FHRme5UAfwPFVTHmfyiVowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"liers\" title=\"\" src=\"/static/34601be0190fa3a883d1fd6c160453de/6af66/liers.png\" srcset=\"/static/34601be0190fa3a883d1fd6c160453de/69538/liers.png 160w,\n/static/34601be0190fa3a883d1fd6c160453de/72799/liers.png 320w,\n/static/34601be0190fa3a883d1fd6c160453de/6af66/liers.png 640w,\n/static/34601be0190fa3a883d1fd6c160453de/82158/liers.png 696w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>허언을 현실로 만들기 위해 한번 도전해보려고 한다</small>\n  <br>\n  <br>\n</center>\n<p>일단 강의 커리큘럼은 저번 주 쯤에 모두 작성했고 이제 대본을 작성하고 있는데, 이게 또 블로그나 책을 쓸 때와는 다른 느낌의 글쓰기라 여러가지로 난항을 겪고 있다. 아무래도 대본이다보니 문어체가 아니라 구어체로 작성해야 나중에 읽기가 편한데, 자꾸 습관처럼 문어체로 작성하게 되어서 막상 읽어보면 너무 딱딱한 글이 되어버리는 경우가 잦은 것 같다. <small>(혼자 강의 원맨쇼하면서 쓰면 조금 잘 되는 것 같기도…?)</small></p>\n<p>물론 아직 대본을 다 작성하려면 멀었지만, 시간이 조금 걸리더라도 꾸준히 매일매일 작성하는 걸 목표로 하고 있으니 언젠가는 끝낼 수 있지 않을까? 솔직히 반 정도만 쓰고나면 중간에 아무리 힘이 들더라도 지금까지 쓴 게 아까워서 무조건 끝낼 수 밖에 없다.</p>\n<h2 id=\"2020년을-떠나보내며\" style=\"position:relative;\">2020년을 떠나보내며<a href=\"#2020%EB%85%84%EC%9D%84-%EB%96%A0%EB%82%98%EB%B3%B4%EB%82%B4%EB%A9%B0\" aria-label=\"2020년을 떠나보내며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이번 2020년을 돌아보니 뭔가 드라마틱한 도전이 많지는 않았던 것 같다. 굳이 꼽자면 멘토링 프로젝트 정도랄까…?</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2f100039441c2bddb273d5fa4221e8f9/644c5/lubycon1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDBQH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAaK+ZsOrxPNvIlGN/wD/xAAcEAADAQACAwAAAAAAAAAAAAAAAQIDEhMhIjH/2gAIAQEAAQUCS9lkjrJfEnZk0T9085Kmf//EABURAQEAAAAAAAAAAAAAAAAAABAB/9oACAEDAQE/ASH/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAaEAACAwEBAAAAAAAAAAAAAAAAEQEQMSFB/9oACAEBAAY/Ak7enqg2INO1/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIUExUWH/2gAIAQEAAT8hsQGeYns1so3tXtchFsbUr7jIrq6xvTIbvqKNqf/aAAwDAQACAAMAAAAQTNeD/8QAGBEBAQADAAAAAAAAAAAAAAAAAAERIXH/2gAIAQMBAT8QvWW0R//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEBH/2gAIAQIBAT8QG4Tn/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARITFRgWFx/9oACAEBAAE/EAVQRoZShnrAhW+QpBVfsRnUAIwu89ZF24GgC+9S5xOiprIlihRC+oHNZcavZcwm64n/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"lubycon1\" title=\"\" src=\"/static/2f100039441c2bddb273d5fa4221e8f9/c08c5/lubycon1.jpg\" srcset=\"/static/2f100039441c2bddb273d5fa4221e8f9/0913d/lubycon1.jpg 160w,\n/static/2f100039441c2bddb273d5fa4221e8f9/cb69c/lubycon1.jpg 320w,\n/static/2f100039441c2bddb273d5fa4221e8f9/c08c5/lubycon1.jpg 640w,\n/static/2f100039441c2bddb273d5fa4221e8f9/6a068/lubycon1.jpg 960w,\n/static/2f100039441c2bddb273d5fa4221e8f9/eea4a/lubycon1.jpg 1280w,\n/static/2f100039441c2bddb273d5fa4221e8f9/644c5/lubycon1.jpg 1440w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>올해 6월에는 성수 카우앤독에서 멘토링 데모데이도 진행했었다</small>\n</center>\n<p>사실 멘토링 하나만 해도 육체적으로나 정신적으로나 너무 힘들어서 다른 것을 할 엄두가 도저히 나지 않았다. 필자는 멘토링이라는 행위 자체가 이번이 처음이었기 때문에, 누군가에게 관심을 가지고 리딩을 한다는 것이 이렇게 리소스가 많이 드는 일이라는 사실을 몰랐었다.</p>\n<p>지금까지의 필자는 나의 성장만 챙기는 개발자였다. 소프트 스킬이든 하드 스킬이든 각자의 성장은 각자가 알아서 챙겨야하는 부분이라고 생각했다. 그러면 결국 개인의 성장이 팀의 성장으로 이어질 수 있으니까. 만약 다른 팀원만큼 성장하지 못 하는 팀원이 있다면 당연히 최선을 다해서 도와줘야겠지만, 그렇게 도와줘도 끝까지 따라오지 못 한다면 최후에는 손절하는 것이 맞다고 생각했다.</p>\n<p>하지만 이번 멘토링을 하면서 이런 생각이 틀렸을 수도 있다는 의심이 싹트기 시작했던 것 같다. 그냥 막연하게 도와주는 것이 정답이 아닌 것이다. 누가 어떤 방법으로 리딩하고 멘토링하냐에 따라서 이 사람의 포텐셜이 터져나올 수도 있고 그대로 죽어버릴 수도 있다는 생각이 들기 시작했다.</p>\n<p>필자도 이제 점점 경력이 쌓여감에 따라 누군가에게는 멘토가 될 수도 있고, 누군가에게는 롤모델이 될 수도 있으며 혹은 어떤 팀을 이끄는 리더가 될 수도 있을텐데, 이런 상황이 되었을 때 필자가 그 역할을 제대로 수행할 수 있을지에 대한 깊은 고민이 슬슬 필요한 시점이 된 것 같다.</p>\n<p>언제까지고 나의 성장만 챙기는 개발자일수는 없다. 이제는 나 스스로 뿐만 아니라 조직의 성장까지도 살펴볼 수 있어야 한다.</p>\n<p>그래서 최근 주변 개발자들과 “시니어 개발자란 무엇일까?”와 같은 주제에 대해서 이야기를 나눠보기도 하고, <a href=\"http://www.yes24.com/Product/Goods/67350256\" target=\"_blank\" rel=\"nofollow\">함께 자라기</a>라는 책을 추천받아서 읽어보기도 하고 있지만 아직 뭐가 맞는 방법인지에 대한 해답을 찾지는 못 했다.</p>\n<p>2020년에는 결국 이렇게 답을 찾지 못한 질문으로 회고를 마무리하지만, 내년 2021년 회고에는 이 질문과 고민에 대한 답을 찾아서 회고에 적는 것을 목표로 잡아야겠다.</p>","fields":{"slug":"20201229-2020-retrospective","path":"/2020/12/29/2020-retrospective/","lang":"ko"},"frontmatter":{"title":"2020년, 나는 어떻게 성장했을까? 중니어 개발자의 회고","subTitle":"코드, 사람, 그리고 배움 – 1년 동안의 개발자 라이프 리포트","date":"Dec 29, 2020","categories":["에세이"],"tags":["회고","Retrospective","루비콘","Lubycon","토스","Google Analytics","Amplitude"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/e4b6d09b3da9e83c56b4d85bc517f572/d803c/thumbnail.png","srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/d803c/thumbnail.png 320w,\n/static/e4b6d09b3da9e83c56b4d85bc517f572/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/fc5c5/thumbnail.webp 320w,\n/static/e4b6d09b3da9e83c56b4d85bc517f572/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/e4b6d09b3da9e83c56b4d85bc517f572/01fb2/thumbnail.png","srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"fd6f8967-7ce4-5f55-b01c-77f3cc59e738","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%82%AC%EA%B1%B4%EC%9D%98-%EB%B0%9C%EB%8B%A8\">사건의 발단</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EB%84%9B-%EC%B0%A8%ED%8A%B8-%EA%B7%B8%EB%A6%AC%EA%B8%B0\">도넛 차트 그리기</a></p>\n<ul>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%8B%9C%EA%B0%81%ED%99%94%ED%95%B4%EB%B3%B4%EC%9E%90\">여러 개의 데이터를 시각화해보자</a></li>\n<li><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C%EB%A1%9C-%EB%B3%B4%EC%9E%90\">전체 코드로 보자!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%98%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\">호를 사용하여 애니메이션을 만들어보자</a></p>\n<ul>\n<li><a href=\"#circle-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%AA%BB%ED%95%9C%EB%8B%A4\">circle 엘리먼트를 사용하지 못한다</a></li>\n<li><a href=\"#svg%EA%B0%80-%ED%98%B8%EB%A5%BC-%EB%A0%8C%EB%8D%94%ED%95%98%EB%8A%94-%EC%9B%90%EB%A6%AC%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">SVG가 호를 렌더하는 원리를 알아보자</a></li>\n<li><a href=\"#%ED%98%B8%EC%9D%98-%ED%94%8C%EB%9E%98%EA%B7%B8-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\">호의 플래그 이해하기</a></li>\n<li><a href=\"#%EC%82%BC%EA%B0%81%ED%95%A8%EC%88%98%EB%A1%9C-%ED%98%B8%EC%9D%98-%EB%81%9D%EC%A0%90-%EA%B5%AC%ED%95%98%EA%B8%B0\">삼각함수로 호의 끝점 구하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 얼마 전에 필자가 삽질했던 내용인 SVG로 도넛 차트 그려보기에 대해서 이야기해볼까 한다. 사실 도넛 차트를 그리는 것 자체는 SVG가 제공하는  엘리먼트를 사용하면 되기 때문에 간단하게 만들 수 있지만, 필자가 삽질했던 부분은 바로 애니메이션이었다.","html":"<p>이번 포스팅에서는 얼마 전에 필자가 삽질했던 내용인 SVG로 도넛 차트 그려보기에 대해서 이야기해볼까 한다. 사실 도넛 차트를 그리는 것 자체는 SVG가 제공하는 <code class=\"language-text\">circle</code> 엘리먼트를 사용하면 되기 때문에 간단하게 만들 수 있지만, 필자가 삽질했던 부분은 바로 애니메이션이었다.</p>\n<!-- more -->\n<p>물론 <a href=\"https://www.chartjs.org/\" target=\"_blank\" rel=\"nofollow\">chartjs</a>나 <a href=\"https://nivo.rocks/\" target=\"_blank\" rel=\"nofollow\">nivo</a>같은 차트 라이브러리를 사용하면 쉽게 도넛 차트를 사용할 수 있기는 하지만, 사실 필자에게 필요한 건 막대 차트와 도넛 차트 뿐이었기 때문에 이런 라이브러리를 사용하는 것이 과하다는 생각이 들었고, 결정적으로 이 정도 차트는 그냥 캔버스나 SVG로 대충 그려서 뚝딱하면 될 것 같다는 생각에 직접 구현하는 것으로 방향을 잡았다.</p>\n<h2 id=\"사건의-발단\" style=\"position:relative;\">사건의 발단<a href=\"#%EC%82%AC%EA%B1%B4%EC%9D%98-%EB%B0%9C%EB%8B%A8\" aria-label=\"사건의 발단 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/d73af6df8335316c67a49ab5b03887cb/doughnut_clipped.gif\" width=\"100%\">\n  <div>\n</div></div></center>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// 원래는 이런 인터페이스를 가지고 있었다</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DoughnutChart</span></span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">rate</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">80</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>사건의 발단은 바로 이렇게 생긴 도넛 차트였다. 사실 이 녀석은 필자가 맡고 있는 특정 서비스에서만 사용하고 있던 녀석이라서 굉장히 안일한 인터페이스를 가지고 있던 녀석이었지만, 최근 다른 곳들에서 이 녀석을 사용해야하는 니즈가 늘어나게 되면서 이 인터페이스를 조금 더 추상화해야할 일이 생겼다.</p>\n<p>기존 인터페이스는 빈 도넛차트에 1개의 데이터를 <code class=\"language-text\">rate</code>라는 퍼센테이지 값을 사용하여 렌더하는 방식이었기 때문에, 도넛 차트에 들어오는 데이터가 반드시 하나라는 가정이 성립되어야만 사용할 수 있는 인터페이스였다.</p>\n<p>하지만 이 도넛 차트를 여러 곳에서 자유롭게 사용할 수 있게 하려면 1개 데이터가 아니라 여러 개의 데이터를 시각화할 수 있게 변경해야했고, 이 과정에서 도넛 차트의 로직과 애니메이션 또한 뜯어고칠 수 밖에 없었다.</p>\n<h2 id=\"도넛-차트-그리기\" style=\"position:relative;\">도넛 차트 그리기<a href=\"#%EB%8F%84%EB%84%9B-%EC%B0%A8%ED%8A%B8-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"도넛 차트 그리기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 SVG 도넛 차트를 그리는 것 자체는 <code class=\"language-text\">circle</code> 엘리먼트와 <code class=\"language-text\">stroke</code>를 조합하면 꽤나 간단하게 해결할 수 있다. 한번 간단하게 SVG로 동그라미를 그려보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42q2UsYrCQBCGoygKPoQWloK+iaCNjSD4DlaWaqUW2vkggo2NhYV2oq2gfYpIEkw0/93cMCSYxFsvt/DDLv/ONzObzWq6rsOyLJimmVi32w0aTWh4noekw3VdNSBZKvl+BT6frLj1R8Bg4GuFcdXGAmW63QKdDlCpsLpdYL8PJ3wLlI2zGZBOA5oGpFIsmmcywGIRDQ0BHw82NhsOzGaBfh84nYDjEej1GJzPA7tdGBoCitlqcTWDAa8pkSSjBORR++LJEUW27DhAucxB57NfhQAPB/ZqNd4bPPNI4P3uAy8X2ciiQa2TV60qAKXlRoODptNwy6MRe+22QssStFxyUKEAzOfA9crVTiZALsfeeu0Dla7NcMiBJIIIiDQeK16b179ktQLqdaBYBEoloNn0K1O+2HLIwVZsmyUj6H30ONBXlC8Ztf7z8/Xv7+FHQMMwfibOdy9JZds2vgDYWtG2KLhreAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"circle\" title=\"\" src=\"/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png\" srcset=\"/static/928ae352c7a3d1872f030ad036c7c03d/69538/circle.png 160w,\n/static/928ae352c7a3d1872f030ad036c7c03d/72799/circle.png 320w,\n/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>SVG 상에서 아무런 단위를 붙히지 않은 숫자는 암묵적으로 <code class=\"language-text\">px</code> 단위로 정의된다. 필자는 <code class=\"language-text\">width</code>와 <code class=\"language-text\">height</code>가 <code class=\"language-text\">500px</code>인 정사각형의 박스를 렌더하고 <code class=\"language-text\">viewBox=\"0 0 100 100\"</code>을 사용하여 이 뷰박스 내부 세계에는 가로 <code class=\"language-text\">100px</code> 세로 <code class=\"language-text\">100px</code>을 가진 좌표를 정의한 것이다.</p>\n<p>만약 <code class=\"language-text\">viewBox</code> 속성을 사용하지 않았다면 SVG는 자동으로 <code class=\"language-text\">width</code>와 <code class=\"language-text\">height</code>에 주어진 값만큼의 픽셀을 가진 뷰박스를 렌더했을테지만, 좌표가 0 ~ 100으로 떨어지는 편이 도형의 좌표를 생각하기 더 쉬우므로 이렇게 정의한 것이다.</p>\n<p>즉, 실제 우리 눈에 보이는 이 박스의 크기는 가로세로 <code class=\"language-text\">500px</code>이지만 내부적으로는 <code class=\"language-text\">100 x 100</code>의 좌표계로 동작한다. 이후 필자는 이 뷰박스의 중심인 <code class=\"language-text\">(50px, 50px)</code>을 기준으로 지름이 <code class=\"language-text\">20px</code>이고 선 굵기가 <code class=\"language-text\">10px</code>인 원을 렌더했다.</p>\n<p>그리고 이 원 자체가 하나의 데이터가 차트의 100%를 차지하고 있는 도넛 차트라고 볼 수 있다. 도넛 차트는 이렇게 SVG의 <code class=\"language-text\">circle</code> 엘리먼트 만으로도 기본적인 모양을 잡을 수 있기 때문에 시각화 자체가 그렇게 어려운 편은 아니다.</p>\n<p>하지만 도넛 차트라고 하면 하나의 데이터가 아니라 여러 개의 데이터를 동시에 시각화 할 수 있어야할텐데, 그렇다면 여러 개의 데이터를 표현하고 싶다면 어떻게 해야할까?</p>\n<h3 id=\"여러-개의-데이터를-시각화해보자\" style=\"position:relative;\">여러 개의 데이터를 시각화해보자<a href=\"#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%8B%9C%EA%B0%81%ED%99%94%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"여러 개의 데이터를 시각화해보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>도넛 차트는 결국 하나의 도넛 도형을 각 데이터가 부분부분 나누어 가지고 있는 형태의 그래프이다. 즉, 데이터 별로 원의 일부분을 차지하고 있는 모양을 그려줘야 한다는 이야기이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42rWUT6uCUBDF+84uW0dbP4I7Azct0sidCzdZSCiBlJkRRJQWlBWkncdcMORpf9T3hIMD987vHu7M3EYYhrhcLoiiqLbO5zMaFPzVd7/fvwc+Ho/6QIIUqRIwm/gb9Ar60WEQBBgOh1BVlckwDOz3+5fQQmC6cbVaQZIkCIKATqcDURRZzPM8RqNRITQHTDccDgcMBgP0+33Yto3T6cTaYjweo9VqMa3X6xz0JdCyLPR6Pbium7tDXdfRbDbR7XbfA9MF+lMSOcyuJUnC4t1uB47j0G63GSCb+xZIRbherzmHt9sNpmliOp0+DykEZhcmkwlkWYbneTng8XjEfD7Hdrv9XOU0idpFURRomsYKRBtJBKN7nc1mbP5L9eFyuWQVpuTFYsHkOA5zR+BSjZ06JRebzQa+7zNRXOSs9OjR5acFqDV6RYmVH4d/fw+/BtKcxnH8bI2qIgY1/Q8BlAsFCsBhOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut\" title=\"\" src=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" srcset=\"/static/733cf6be71679daf82979b47834fb780/69538/doughnut.png 160w,\n/static/733cf6be71679daf82979b47834fb780/72799/doughnut.png 320w,\n/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>하나의 데이터가 원의 각 부분부분을 차지하고 있다</small>\n</center>\n<p>다행히도 SVG는 선을 그릴 때 점선(대시)을 표현할 수 있는 <code class=\"language-text\">stroke-dasharray</code>라는 속성을 제공하고 있기 때문에 어떤 데이터를 얼마나 그려줄 것이냐를 표현하고 싶을 때 이 속성을 이용하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span>\n  <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10 5<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">stroke-dasharray</code>는 숫자와 공백으로 구분되는 일련의 데이터 셋을 전달받아 점선을 정의하며, 첫 번째 인자는 선을 얼마나 그릴 것인지를 결정하고 두 번째 인자는 공백을 얼마나 그릴 것인지를 결정한다. 즉, 위 예제 코드는 <code class=\"language-text\">10px</code> 만큼 선을 그리고 <code class=\"language-text\">5px</code>만큼 공백을 그리는 것을 반복하기 때문에 이런 결과를 볼 수 있을 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 510px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42s2VTYvCMBCG/f8/RBDxC08i3jyIeBAvioigeFLEUvphq/bRsQxbm3btbpHdQGjSTJ9535BMK5Zl4fs+nueV7o7jUHFdF2lRFFG2hWH4R0BZKpLvLfB2M8Hpd4WByeluB+s1XK/Zid4CdTgYwGoFoxHU67DZwHSabz8TqNkXC6jVvuYKqVZhOMxWmqvwfIbl8nUv1e7lAttttm0DqEGzGXQ6pgqF9nown5t7bQB1UfZKLKc/UGC7HSdNJ8y1LEGTSWxPQcmz2GrB4VBAYTJjowH9/qsKeYqy4/EX5/BRL9jvYTyGZpPHxYduNx6nlRUCqiqxJvZPJ5DQ767hj4tDqav3keLwP+qhbdvPQRAEpbv8Bu6uQSNFqgA4NwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dasharray\" title=\"\" src=\"/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png\" srcset=\"/static/2a7989e6f31606ad23b405a597271acd/69538/dasharray.png 160w,\n/static/2a7989e6f31606ad23b405a597271acd/72799/dasharray.png 320w,\n/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>10px의 선, 5px의 공백이 반복된 점선이 표현된 모습</small>\n</center>\n<p>즉, 이 속성을 사용하여 원의 일부분만을 차지하는 선을 하나 그린 후 나머지는 공백으로 두는 점선을 표현한다면 도넛 차트에서의 여러 데이터의 표현이 가능한 것이다.</p>\n<p>하지만 위 예제를 자세히 보면 원의 오른쪽 부분에 있는 선의 길이가 다른 곳에 비해서 더 긴 것을 확인할 수 있다. 그 이유는 필자가  <code class=\"language-text\">stroke-dasharray</code> 속성에 넘긴 저 숫자가 원주의 길이와 정확히 맞아떨어지는 숫자가 아니기 때문이다.</p>\n<p><code class=\"language-text\">stroke-dasharray</code> 속성은 렌더할 선과 공백의 길이, 즉 <code class=\"language-text\">px</code> 단위의 값을 받는 녀석이다. 그 말인 즉슨 점선을 딱 떨어지게 그리고 싶다면 원주의 길이, 즉 원의 둘레 길이를 먼저 알아낸 후에 이 길이에 정확히 나누어 떨어지는 값들을 넣어줘야 한다는 것이다.</p>\n<p>SVG는 원을 그릴 때 원점의 오른쪽 방향인 <code class=\"language-text\">(cx + r, cy)</code> 좌표를 기준점으로 삼아서 원을 렌더한다. 그래서 <code class=\"language-text\">stroke-dasharray</code>를 사용하여 점선을 렌더할 때 원이 끝나는 지점과 정확히 아다리가 맞지 않는다면 위 예제처럼 원의 오른쪽 부분의 점선만 길어보이는 현상이 발생할 수 있는 것이다.</p>\n<p>원주의 길이를 구하는 공식은 초심플한 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span></span>이기 때문에 그냥 <code class=\"language-text\">Math.PI</code> 상수를 사용하여 쉽게 구할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>diameter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 125.66370614359172</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>필자는 이 원의 반지름을 <code class=\"language-text\">20px</code>으로 설정했으니 원주의 길이는 약 <code class=\"language-text\">126px</code>이지만, 이 값을 <code class=\"language-text\">stroke-dasharray</code>에 넣었던 값들의 합인 <code class=\"language-text\">15</code>로 나누어 보면 <code class=\"language-text\">8.37</code>이 나오며 정확히 나누어 떨어지지 않는다. 그래서 점선이 8번 반복되고 남은 <code class=\"language-text\">0.37</code> 만큼은 어정쩡하게 시작점에 붙어있는 형태로 렌더되는 것이다.</p>\n<p>즉, 도넛 차트에 여러 데이터를 제대로 시각화하고 싶다면 기본적으로 다음 두 가지 정보들이 필요하다.</p>\n<blockquote>\n<ol>\n<li>원주의 길이(<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span></span>)</li>\n<li>도넛 차트에 그릴 데이터와 총 합의 비율</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ratio <span class=\"token operator\">=</span> data <span class=\"token operator\">/</span> total<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> strokeLength <span class=\"token operator\">=</span> diameter <span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> spaceLength <span class=\"token operator\">=</span> diameter <span class=\"token operator\">-</span> strokeLength<span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">stroke-dasharray = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>strokeLength<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>spaceLength<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">stroke-dasharray = 51.4078797860148 74.25582635757692\nstroke-dasharray = 28.559933214452663 97.10377292913907\nstroke-dasharray = 22.847946571562133 102.81575957202959\nstroke-dasharray = 17.135959928671596 108.52774621492013\nstroke-dasharray = 5.711986642890533 119.95171950070119</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이처럼 원주의 길이와 각 데이터의 비율, 이 두 가지 정보를 이용하면 각 데이터가 원주의 어느 정도의 비율을 차지하고 렌더할 지를 정의할 수가 있다.</p>\n<p>하지만 이 정보들만 가지고 차트를 렌더하려고 하면 한 가지 문제가 발생하는데, 바로 데이터들이 렌더되는 기준점이 전부 <code class=\"language-text\">(cx + r, cy)</code> 좌표라는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/95e06fb4efbe157747f5fe4cb2318dae/6fffd/blog-Page-9.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 94.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH3pYVRjQcQf//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEg/9oACAEBAAEFAtKLZ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABsQAQEBAAIDAAAAAAAAAAAAAAEAERAhMUFx/9oACAEBAAE/IcLc9MBZBF337wk+b//aAAwDAQACAAMAAAAQAwAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFBcVGBkf/aAAgBAQABPxAAcVmI2TPENdBuZHvzB0WA3ucu4kWWK7+xAC2z/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog Page 9\" title=\"\" src=\"/static/95e06fb4efbe157747f5fe4cb2318dae/c08c5/blog-Page-9.jpg\" srcset=\"/static/95e06fb4efbe157747f5fe4cb2318dae/0913d/blog-Page-9.jpg 160w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/cb69c/blog-Page-9.jpg 320w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/c08c5/blog-Page-9.jpg 640w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/6a068/blog-Page-9.jpg 960w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/eea4a/blog-Page-9.jpg 1280w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/6fffd/blog-Page-9.jpg 1364w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>그래서 아무리 데이터를 렌더할 선의 길이를 제대로 구했다고 해도 모든 데이터가 렌더링되는 기준점이 동일하기 때문에 당연히 이대로 렌더링을 해버린다면 이런 슬픈 모양의 차트가 그려지게 된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVR42u3TOwqEMBAGYG+tF7DyCtbqGawF0ZSp7AQLAxYKvvHxywQCu+wuGFwWFhyYIo/5CJnEqOsa4zhiGIbL2XUdjL7v8a1YluUGb/An4LquaNsWVLfvuz5IRZTbtslxVVWwLAuO40hA7dE+oSqK4ximaSIIgqf5U+A8z2iaBtM0yb+aZRlc14Vt28jzXA+kjUVRSCRJEoRhCM/z4Ps+OOcv2CmQ1oQQSNMUURSBMYayLN9iWndInVVN+YSdAlWHVRD6CP/pT6FXT3dEgytJBj2vA6s/IZqqELpFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut failed\" title=\"\" src=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png\" srcset=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/69538/doughnut_failed.png 160w,\n/static/d4cb50a4f4bcede54c55b2ae29f0585c/72799/doughnut_failed.png 320w,\n/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>정체를 알 수 없는 무언가가 연성되었다</small>\n</center>\n<p>도넛 차트는 각 데이터가 누적되어 최종적으로는 하나의 원을 그리는 차트기 때문에 한번 데이터를 렌더하고 나면 그 다음 데이터가 렌더될 시작점을 지금까지 렌더된 데이터들의 총 합만큼 밀어줘야한다.</p>\n<p>다행히도 SVG는 <code class=\"language-text\">stroke-dashoffset</code> 속성을 통해 점선이 시작되는 부분을 변경할 수 있는 기능을 제공하고 있기 때문에 우리는 그냥 잘 계산만 해서 이 속성에 알맞은 값을 넣어주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 각 데이터를 누적하여 저장하고 있자!</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>result<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>첫 번째 데이터가 렌더될 때는 시작점을 밀어줄 필요가 없기 때문에 오프셋이 <code class=\"language-text\">0</code>이어야한다. <code class=\"language-text\">reduce</code> 함수의 두 번째 인자는 누산을 시작할 때 사용하는 초기 값을 의미하므로 여기에 그냥 <code class=\"language-text\">0</code>을 담은 배열을 넘겨주면 된다.</p>\n<p>그리고 초기 값으로 <code class=\"language-text\">0</code>을 이미 담고 있는 배열을 넘기기 때문에 누산된 값들을 담고 있는 배열은 데이터셋 배열보다 길이가 1만큼 더 긴데, 사실 배열의 가장 마지막 원소인 <code class=\"language-text\">22</code>는 필요가 없는 값이다.</p>\n<p>왜냐하면 이 값들은 데이터가 렌더될 시작점을 정의하는 값들이기 때문이다. 맨 마지막 원소인 <code class=\"language-text\">22</code>는 데이터 셋의 총 합과 동일한 값이기 때문에 도넛 차트의 모든 데이터의 렌더가 끝났음을 의미하는 값이라, 만약 <code class=\"language-text\">acc[i] === total</code>과 같은 논리식으로 “렌더 끝났어?” 같은 조건을 정의할 게 아니라면 사실 쓸 데가 없다.</p>\n<p>이렇게 데이터 셋의 값을 누산하고 나면 데이터 셋의 값에 해당하는 차트를 렌더한 후 <code class=\"language-text\">(acc[i] / total) * diameter</code>와 같은 공식을 사용하여 정확히 몇 <code class=\"language-text\">px</code>만큼 오프셋 해야하는 지를 알 수가 있게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>result<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> diameter<span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">stroke-dashoffset = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token operator\">-</span>offset<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">stroke-dashoffset = 0\nstroke-dashoffset = -51.4078797860148\nstroke-dashoffset = -79.96781300046746\nstroke-dashoffset = -102.8157595720296\nstroke-dashoffset = -119.9517195007012</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 굳이 <code class=\"language-text\">reduce</code> 함수를 사용하지 않고 <code class=\"language-text\">let</code>을 사용하여 계속 차트를 렌더할 때마다 지금까지 그린 선들의 길이를 계속 더하며 재할당해도 상관은 없다. 어찌되었든 포인트는 “내가 지금 어디까지 렌더를 했느냐”를 알고 있는 것이기 때문이다.</p>\n<p>그리고 위 예시에서 필자는 오프셋 값에 <code class=\"language-text\">-</code> 부호를 줘서 값을 반전시키고 있는데, 이건 SVG가 기본적으로 선을 렌더하는 방향이 반시계 방향이기 때문이다.</p>\n<p>상식적으로는 우리가 그리는 도넛 차트 데이터의 시작점부터 끝점까지 진행되는 방향이 시계 방향이기 때문에 SVG도 시계 방향으로 선을 렌더할 것 같지만, 사실 SVG는 그딴 거 신경쓰지 않는다.</p>\n<p>지금 이 도넛 차트에서는 데이터가 시계 방향으로 쌓이고 있지만 좌표를 어떻게 정의하냐에 따라서 반시계 방향도 얼마든지 가능하지 않은가? 이렇게 좌표의 위치가 변경될 때마다 렌더하는 방향을 바꾸는 것은 꽤나 비효율적이기 때문에 SVG는 기본적으로 무조건 반시계 방향으로 선을 그린다.</p>\n<p>이 개념은 밑에서 후술할 호에서도 똑같이 적용되기 때문에 이 사실을 기억하고 있으면 호를 렌더하는 방법에 대해서 조금 더 이해가 쉬울 것이라고 생각한다. 이렇게 SVG가 선을 그리는 방향을 쉽게 알아보기 위해서는 원이 아니라 라인으로 그려서 테스트해보면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 452px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArklEQVR42jWQVwqEQBQEvf8JFRRdUAzImnPopRp2fkbtmup5Bvd9KwxDbdumOI41DIOKolBZlvp+v0qSxFkURTqOw+y6rkrT1HlVVfp8PmK976uAh77vhXiaJh9CsCyLzvN0wfM8Zth5v65L8zyb2/fd5/4rIPx/pBFhXdcuoJ29aRozXdeZo6xtWxfC4iCzEME4jpblee5xGBOYX4CI8WAoQM4tsyzzDWFxkCH8ASGDMXqTBVmPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"line offset plus\" title=\"\" src=\"/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png\" srcset=\"/static/3ac1afa110392b8bc30dc4a4874b889c/69538/line_offset_plus.png 160w,\n/static/3ac1afa110392b8bc30dc4a4874b889c/72799/line_offset_plus.png 320w,\n/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png 452w\" sizes=\"(max-width: 452px) 100vw, 452px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>오프셋을 3으로 주면 밑에 있는 선이 왼쪽으로 3px만큼 밀린다</small>\n</center>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>-3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 451px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 23.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR42rWQTQuFIBBF/f9/LF2GLewDDMqVCqkRVOh9jIvgQcv37nIO3DkzbNs27PuO8zzhvUcpBdZa3PeNEAJSSpU5517ZdV0Po7BpmmCMQYwRXdch54y2bXEcB7TWWNe1MinlF5vnGcuy1FJiTyF+HEb6TdPUTX3fg4zpDUKIehrnvBoOw4BxHF8ZzZVS/zH8AINHf/jeKilIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"line offset minus\" title=\"\" src=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png\" srcset=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/69538/line_offset_minus.png 160w,\n/static/6c9e6de0fef414a907f7acb5218e6d4c/72799/line_offset_minus.png 320w,\n/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png 451w\" sizes=\"(max-width: 451px) 100vw, 451px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>오프셋을 -3으로 주면 밑에 있는 선이 오른쪽으로 3px만큼 밀린다</small>\n</center>\n<p>이제 여기까지 파악했다면 원주를 따라 어느 정도만큼 데이터를 렌더할 것인지와 누적되어 표현되는 데이터를 렌더하기 위해 몇 px만큼 선의 시작점을 밀어줘야 할 지를 <code class=\"language-text\">stroke-dasharray</code>와 <code class=\"language-text\">stroke-dashoffset</code> 속성을 사용하여 자유롭게 표현할 수 있다.</p>\n<h3 id=\"전체-코드로-보자\" style=\"position:relative;\">전체 코드로 보자!<a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C%EB%A1%9C-%EB%B3%B4%EC%9E%90\" aria-label=\"전체 코드로 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 100 x 100 짜리 뷰 박스를 그린다 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>svg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 차트의 반지름</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 차트의 둘레</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'#ddd'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#bbb'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#aaa'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#888'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#666'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 전체 데이터셋의 총 합</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 데이터셋의 누적 값</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> last <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr<span class=\"token punctuation\">,</span> last <span class=\"token operator\">+</span> v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 프로퍼티 할당 노가다 시작...</span>\n<span class=\"token keyword\">const</span> svg <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ratio <span class=\"token operator\">=</span> data <span class=\"token operator\">/</span> total<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> fillSpace <span class=\"token operator\">=</span> diameter <span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> emptySpace <span class=\"token operator\">=</span> diameter <span class=\"token operator\">-</span> fillSpace<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> diameter<span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">const</span> circle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElementNS</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'circle'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'50'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'50'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span>radius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fill'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'transparent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke'</span><span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-width'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-dasharray'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fillSpace<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>emptySpace<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-dashoffset'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>offset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>circle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42rWUT6uCUBDF+84uW0dbP4I7Azct0sidCzdZSCiBlJkRRJQWlBWkncdcMORpf9T3hIMD987vHu7M3EYYhrhcLoiiqLbO5zMaFPzVd7/fvwc+Ho/6QIIUqRIwm/gb9Ar60WEQBBgOh1BVlckwDOz3+5fQQmC6cbVaQZIkCIKATqcDURRZzPM8RqNRITQHTDccDgcMBgP0+33Yto3T6cTaYjweo9VqMa3X6xz0JdCyLPR6Pbium7tDXdfRbDbR7XbfA9MF+lMSOcyuJUnC4t1uB47j0G63GSCb+xZIRbherzmHt9sNpmliOp0+DykEZhcmkwlkWYbneTng8XjEfD7Hdrv9XOU0idpFURRomsYKRBtJBKN7nc1mbP5L9eFyuWQVpuTFYsHkOA5zR+BSjZ06JRebzQa+7zNRXOSs9OjR5acFqDV6RYmVH4d/fw+/BtKcxnH8bI2qIgY1/Q8BlAsFCsBhOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut\" title=\"\" src=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" srcset=\"/static/733cf6be71679daf82979b47834fb780/69538/doughnut.png 160w,\n/static/733cf6be71679daf82979b47834fb780/72799/doughnut.png 320w,\n/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>완성된 도우넛 차트!</small>\n</center>\n<h2 id=\"호를-사용하여-애니메이션을-만들어보자\" style=\"position:relative;\">호를 사용하여 애니메이션을 만들어보자<a href=\"#%ED%98%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"호를 사용하여 애니메이션을 만들어보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 이렇게 해서 원하는 데이터셋을 자유롭게 사용해서 이쁜 도넛 차트를 렌더할 수 있게 되었다. 하지만 진짜 복병은 도넛 차트 렌더 따위가 아니였다. 다시 한번 필자가 구현했던 차트를 보자.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/d73af6df8335316c67a49ab5b03887cb/doughnut_clipped.gif\" width=\"100%\">\n  <div>\n</div></div></center>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/acb04/um.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEFAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAelzUauZGH//xAAZEAEBAQEBAQAAAAAAAAAAAAABAgMRAAT/2gAIAQEAAQUCbHcuSnndYdvozyc/Wo//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARL/2gAIAQMBAT8BZr//xAAWEQEBAQAAAAAAAAAAAAAAAAAAERL/2gAIAQIBAT8BjT//xAAdEAACAQQDAAAAAAAAAAAAAAABEQACEBMyMUFx/9oACAEBAAY/AsZKCfspFJ26JsQFxMj1Kt//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhMUFxkf/aAAgBAQABPyEk4LRnplASuwiaqYfNFInlpUkqNwmb/9oADAMBAAIAAwAAABB/3//EABcRAAMBAAAAAAAAAAAAAAAAAAARIQH/2gAIAQMBAT8QcGXD/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAgEBPxDrZA5f/8QAHBABAAIDAQEBAAAAAAAAAAAAAREhADFRQWGB/9oACAEBAAE/EHEoKU5glsNtbwuKLWpNW08nmWBT7ilEUtNE+H3HF627Nj+5AQhJvP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"um\" title=\"\" src=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/c08c5/um.jpg\" srcset=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/0913d/um.jpg 160w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/cb69c/um.jpg 320w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/c08c5/um.jpg 640w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/acb04/um.jpg 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>ㅓ...이쁜 애니메이션이 들어가있다</small>\n</center>\n<p>물론 이런 애니메이션을 구현하는 방법이 엄청 다양한 것은 아니라서, 결국 최대한 가볍게 만드려면 크게 두 가지 정도의 방법이 나온다.</p>\n<blockquote>\n<ol>\n<li>SVG의 <code class=\"language-text\">clippath</code>나 <code class=\"language-text\">mask</code>를 사용한다</li>\n<li>각 데이터를 렌더할 때 <code class=\"language-text\">stroke-dasharray</code>와 <code class=\"language-text\">stroke-offset</code> 속성에 애니메이션을 준다</li>\n</ol>\n</blockquote>\n<p>사실 이것도 어느 정도 정답은 정해져있는 고민인데, 2번 방법처럼 각 데이터마다 <code class=\"language-text\">stroke-dasharray</code>과 <code class=\"language-text\">stroke-offset</code>에 애니메이션을 적용한다는 것은 결국 도넛 차트의 각 부분마다 애니메이션을 따로 따로 정의해서 적용하겠다는 의미이다.</p>\n<p>하지만 첫 번째 데이터의 렌더 애니메이션이 끝나고 바로 이어서 두 번째 데이터의 렌더 애니메이션이 매끄럽게 재생되도록 만드는 건 꽤나 번거로운 일이다. <small>(결국 개별로 수행되는 애니메이션이기 때문에 아무리 타이밍을 잘 맞춰도 뭔가 삐그덕거릴 확률이 높다)</small></p>\n<p>그런 이유로 필자는 1번 방법인 클립패스를 선택했는데, 처음에는 그냥 “차트 그릴 때랑 비슷한 원리로 클립패스를 그리면 되는거 아니야?”라고 생각했지만 나중에 알고 보니 여기도 지옥길이었다.</p>\n<h3 id=\"circle-엘리먼트를-사용하지-못한다\" style=\"position:relative;\">circle 엘리먼트를 사용하지 못한다<a href=\"#circle-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%AA%BB%ED%95%9C%EB%8B%A4\" aria-label=\"circle 엘리먼트를 사용하지 못한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>지옥길의 시작은 바로 <code class=\"language-text\">circle</code> 엘리먼트를 사용하지 못한다는 것을 깨달았을 때였다. 이 애니메이션은 특정 시작점으로부터 시계방향으로 원을 쭈욱 렌더하는 녀석이기 때문에 당연히 <code class=\"language-text\">circle</code> 엘리먼트로 그릴 수 있을 것이라고 생각했었지만, 조금 더 생각해보니 저건 원이 아니다.</p>\n<p>즉, 이 애니메이션은 마지막 애니메이션이 종료되었을 때만 원이 될 뿐이지 애니메이션이 진행되는 중간 과정은 원이 아니기 때문에 <code class=\"language-text\">circle</code> 엘리먼트로는 구현이 불가능한 것이다.</p>\n<p>도넛 차트를 그릴 때처럼 <code class=\"language-text\">stroke-dasharray</code>와 <code class=\"language-text\">stroke-offset</code> 속성을 사용하면 안되냐고 할 수도 있지만 본래 <code class=\"language-text\">clippath</code> 기능은 도형의 면과 면이 겹쳐지는 부분을 마스킹하는 것이기 때문에 선을 렌더하는 속성인 <code class=\"language-text\">stroke-*</code> 속성으로는 마스킹을 구현할 수가 없다.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/3411be000f4591fc8094072520231528/pie.gif\" width=\"100%\">\n  </div>\n  <br>\n  <small>이 애니메이션은 이런 도형들을 하나하나 렌더하며 진행된다</small>\n</center>\n<p>애니메이션이 진행되는 중간 과정의 도형들은 원이라고 정의할 수가 없는 녀석들이다. 원은 애초에 원점으로 부터 일정한 거리만큼 떨어진 점들의 집합으로 정의되는데, 중간에 있는 저 쥐가 파먹은 도형들은 이 정의가 들어맞지 않기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/716a0371418c438cea6811c21c0d9d6f/84f4d/arc_render_animation.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVR42n2SfU+DMBDG+f5fyP+N29jUJRplMFj2PqZi5kAoLZTHXkvZZqaXXA7o0989veKgjYI3CHcCSSrR4P/ImMR8zxGscizeK+Ss7tacpt2dZgL9CUPPLzFdF5BSXoXtPmu4QYnepESfqtK7kxxvh+oX8MgxDBhGYYk7j2GTGEHTJsUxlxgoiDstMVI5bKvbPn+X8gxYmM4koE1Pcw67ZussrrSzc5iuoXG8/KhOwJcVx+0rw31oOo7DAoJXF0BvLTDwDYDqzbjowH31HsYCDuc1InUZ9MEuksPnBTlsLoDRvtI664xOZB3SPJcxg/MQFEpkZqczUva9AttEdDAL/KIZ+ieIzWE7x4xm+Djj2hF1JjF1Cnccsr5+y5uk1vqBf0qCxQfz6zilaLBWN+pvhJ5Bktado7+CnEZK66k9M9U8zXh3mh+/G6h59wwMaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render animation\" title=\"\" src=\"/static/716a0371418c438cea6811c21c0d9d6f/6af66/arc_render_animation.png\" srcset=\"/static/716a0371418c438cea6811c21c0d9d6f/69538/arc_render_animation.png 160w,\n/static/716a0371418c438cea6811c21c0d9d6f/72799/arc_render_animation.png 320w,\n/static/716a0371418c438cea6811c21c0d9d6f/6af66/arc_render_animation.png 640w,\n/static/716a0371418c438cea6811c21c0d9d6f/d9199/arc_render_animation.png 960w,\n/static/716a0371418c438cea6811c21c0d9d6f/84f4d/arc_render_animation.png 1208w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>위 그림을 보면 오른쪽 도형은 원점에서 도형의 선에 놓여진 점들과의 거리가 모두 동일하지만, 왼쪽 도형은 원점과 도형의 선에 놓여진 점들과의 거리가 모두 동일하지는 않다. 즉, 오른쪽 도형은 “원점으로 부터 일정한 거리만큼 떨어진 점들의 집합”이라는 조건을 만족하기 때문에 <strong>원</strong>이 되는 것이고 왼쪽 도형은 원주의 일부분을 의미하는 <strong>호</strong>인 것이다.</p>\n<p>이 예시에서는 원을 기준으로 호를 그렸기 때문에 헷갈릴 수 있지만 호는 원의 일부분이 아니라 원주의 일부분이라고 정의된다. 원주는 꼭 원이 아니라 타원이더라도 가질 수 있는 것이므로 호의 모양도 굉장히 가지각색으로 나올 수 있게 된다.</p>\n<p>결국 호는 원이 아니기 때문에 <code class=\"language-text\">circle</code> 엘리먼트로는 이 클립패스 애니메이션을 구현할 수 없다.</p>\n<h3 id=\"svg가-호를-렌더하는-원리를-알아보자\" style=\"position:relative;\">SVG가 호를 렌더하는 원리를 알아보자<a href=\"#svg%EA%B0%80-%ED%98%B8%EB%A5%BC-%EB%A0%8C%EB%8D%94%ED%95%98%EB%8A%94-%EC%9B%90%EB%A6%AC%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"svg가 호를 렌더하는 원리를 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>SVG는 호를 그리기 위한 별도의 엘리먼트를 제공하지는 않지만 <code class=\"language-text\">path</code> 엘리먼트에 <code class=\"language-text\">A</code>라는 명령어를 사용함으로써 호를 정의할 수 있는 기능을 제공하고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a rx ry x축-회전각 큰-호-플래그 쓸기-방향-플래그 dx dy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n  M 50 50\n  A 45 45, 0, 1, 0, 275 125\n  L 275 80 Z\n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게만 보면 호를 그리는 것이 간단할 것 같지만 생각보다 이 녀석이 렌더되는 원리가 직관적이지는 않다. 일반적으로 사람이 호라는 도형을 보면 단순히 그 원의 일부라고 생각하기 때문에 호의 중심각을 먼저 생각하게 되지만 저 인터페이스를 보면 알 수 있듯이 그 어디에도 각도를 의미하는 인자는 없다.</p>\n<p>사실 SVG가 호를 렌더하는 과정도 좌표 평면 상에 원을 정의하는 것부터 시작되기는 한다. 앞서 이야기 했듯이 호라는 도형은 원주의 일부이기 때문에 호를 그리려면 일단 원부터 그려야하기 때문이다.</p>\n<p>이때 정의되는 원은 <code class=\"language-text\">A</code> 명령어의 첫 번째 인자인 <code class=\"language-text\">rx</code>와 <code class=\"language-text\">ry</code>로 정의된다. 원인데 반지름을 받는 게 아니라 굳이 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>축 길이를 받는 이유는 앞서 말했듯이 호는 원의 일부분이 아니라 원주의 일부분을 의미하기 때문에 타원을 기준으로 그릴 수도 있기 때문이다.</p>\n<p>어찌되었던 원도 결국은 타원의 일종이므로 <code class=\"language-text\">A</code> 명령어는 추상적인 인터페이스를 위해 타원의 <code class=\"language-text\">x</code>축 반지름과 <code class=\"language-text\">y</code>축 반지름을 받도록 설계되어 있다. 하지만 호를 이해하기 위해서 반드시 예시가 타원일 필요는 없으므로, 조금 더 이해하기 쉽도록 모든 예시는 원으로 설명을 하도록 하겠다.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3c5013d03ac4f509c0333f538f8322e0/d48f1/arc_render1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVR42pVUCXLDIAz0/5/ZaXPa8Y257C1LqsQm5KhmGDRIWq0EqEAiy7LERfHewxgDa23YbdR5lvqtpUBGGNS2LS6XC/quw8/xhK/9AX3fhbM62tbAWUAxaK1RliWmabqfWYdRm5sfbeKTgm4Y0qGqqiT7EgAtlDGb4Hmeo69SKs+QDszKPRUbEhyaNoDaB1DGCIEIKMamaTCOY7YvxnlU/QATSk+FDOu63jIkAOnnbi320IUe/pX8+CqwqayQ3vHmcuzugHYDsvbl7Usv3wBedaM7NHUJNXroyeG463Da9yHOQSuP3Tdt6nOGi1ewUw9r5rAcnJ3DCo9eO3i34LCvPmX4WsS365KSaWBj/wO2ls2lrJ+NZPkEWHxY3cOzkf97Pp9vmV6Bio07Y5xz+a9HhmnpMlXS6SJvVz7D02nDEpiVQ+KZyADJtajIlbIeX8MwRBZc1HnGfr8dXymo6GQhgNRzw2MN+Aut8ItFkjTV9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render1\" title=\"\" src=\"/static/3c5013d03ac4f509c0333f538f8322e0/6af66/arc_render1.png\" srcset=\"/static/3c5013d03ac4f509c0333f538f8322e0/69538/arc_render1.png 160w,\n/static/3c5013d03ac4f509c0333f538f8322e0/72799/arc_render1.png 320w,\n/static/3c5013d03ac4f509c0333f538f8322e0/6af66/arc_render1.png 640w,\n/static/3c5013d03ac4f509c0333f538f8322e0/d48f1/arc_render1.png 796w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>일단 이런 가상의 원을 그리면서 SVG가 호를 렌더하는 과정이 시작된다</small>\n  <br>\n</center>\n<p>이때 주의해야할 점은 이때 호가 그려지기 시작하는 시작점은 원의 중심이 아니라는 것이다. 다시 필자가 위에서 예시로 들었던 <code class=\"language-text\">path</code> 엘리먼트 예제를 보면 원의 중심점을 정하는 인자가 없는 것을 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n  M 50 50\n  A 45 45, 0, 1, 0, 275 125\n  L 275 80 Z\n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 명령어 집합은 <code class=\"language-text\">M 50 50</code>이라는 명령어로 시작하게 되는데, <code class=\"language-text\">path</code> 엘리먼트의 <code class=\"language-text\">M</code> 명령어는 렌더 시작점을 임의의 위치로 옮기는 Move를 의미하는 명령어이다.</p>\n<p>하지만 이 위치는 원의 중심점이 아니라 호를 그리기 시작할 렌더 시작점을 의미한다. 즉, 이 호는 <code class=\"language-text\">(50, 50)</code> 좌표부터 <code class=\"language-text\">A</code> 명령어의 마지막 인자인 <code class=\"language-text\">(dx, dy)</code> 좌표까지 그려지게 되며, 이때 <code class=\"language-text\">rx, ry</code>에 의해 정의된 가상의 원주를 따라서 호가 그려지는 것이다.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/345642d6dabfe22074ecf24472c1a351/0fcea/arc_render2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42pWUa2+dMAyGz///Z5u0qdq+TLu166FQDpdArhDCeWfTJSsRbVVLEVHAT2y/Nidkdr1e09M5B2stLm2Lrhfw8wwtGxTFGWVVoSxLWGN2/qcjGIP6vodUChPthTIYydERvHi8R9GMWBZPa8G6hs0vrlMeodYawzDQh2s6c97DhwULHd0UDh9/D/hZETSE3H0P5PQYlkdsZ09rxkXO+HQ34stZ4cOtwt3jBaI5o760qOsaLZUmAQPd1nVdguwuImAlRnyrND7/UQSV+F47GGdQFrcQYth8pZT/gYrqZf4VOIdOVK/BzLi51xvs3E8I69M3DJkp+pRydBaCVKRaHRnX71dj8PXBQLqwu9QYvQUTz05xkwuxnUehrMKPB0EpBgQf0NYakyWFwxVK2i3lnShcv+di5LZMI5xWmN1KwnkYTSIZTy1Ffp1F2/THKXNfvde4M7jVUsoRyBFO0/RuYC5mUpmV4iiPVH7JuOZ5q+0am4GcwlvQ+G4cx5Tui7PMN/Isv2Xcfwx8dfSetxCvp+Ff0+DznkvDP448sleBsaYcAYP5GfcsQuyGo7L8BTt65ir/jmDOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render2\" title=\"\" src=\"/static/345642d6dabfe22074ecf24472c1a351/6af66/arc_render2.png\" srcset=\"/static/345642d6dabfe22074ecf24472c1a351/69538/arc_render2.png 160w,\n/static/345642d6dabfe22074ecf24472c1a351/72799/arc_render2.png 320w,\n/static/345642d6dabfe22074ecf24472c1a351/6af66/arc_render2.png 640w,\n/static/345642d6dabfe22074ecf24472c1a351/0fcea/arc_render2.png 851w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>알아보기 쉽게 호를 면으로 표현했지만<br>실제로는 x,y 부터 dx,dy로 이어지는 호의 머리 부분의 선만 렌더된다</small>\n  <br>\n</center>\n<p>여기까지가 SVG가 호를 그리는 가장 기본적인 원리이다. 하지만 문제는 <code class=\"language-text\">(x, y)</code>와 <code class=\"language-text\">(dx, dy)</code>를 잇는 방법이 하나가 아니라는 것이다. 호라는 것은 그저 원주에 놓여있는 두 점을 원주를 따라서 이어주기만 하는 것이기 때문에 특정 방향으로만 그려야한다는 법이 없다.</p>\n<p>그래서 SVG는 <code class=\"language-text\">(x, y)</code>와 <code class=\"language-text\">(dx, dy)</code>라는 점을 원주에 위치시킬 수 있는 두 개의 원을 사용하여 호를 정의한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1fa1f37669b1e0df075146506faacf30/2bef9/arc_with_circle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOklEQVR42o2T226EMAxE+f9v3IduV4XtVtzD/eL2BBkFwkJHygPEM7bHTiAnmOfZnnEcpSgKMcZIXdf2lGVpv6dp2nACuUDf95JlmQzD4N21bWvvXNFTQQIhUOE7dF1nq/+XIK1VVXXVhBXUDoK9ZwARPHpGX55HMk/L2SVumua4QkSTJJYwjCR83KwwFeDlotf+nc7zmThPkLLxDF8AQQTjIf+p5AhMWznB2QCYIsGuV0p0kef5ygvUN4jqw95whIFW6gK/3aSrIMSj9dDKaZdYY6q1Sh2et9gEIqji64DGikv7fyEbyZJvuX/cJIqe8vN6bbZj4yGC/ooMHqEscnl83iVNU4nj2Bd0W9bVOHvXDGDfyeFbZmUIPgNt68vRBG8FdeOPWofI3VXCw5fCBCGyCnpIolO+EvwF0Kft1sSJ3SUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc with circle\" title=\"\" src=\"/static/1fa1f37669b1e0df075146506faacf30/6af66/arc_with_circle.png\" srcset=\"/static/1fa1f37669b1e0df075146506faacf30/69538/arc_with_circle.png 160w,\n/static/1fa1f37669b1e0df075146506faacf30/72799/arc_with_circle.png 320w,\n/static/1fa1f37669b1e0df075146506faacf30/6af66/arc_with_circle.png 640w,\n/static/1fa1f37669b1e0df075146506faacf30/d9199/arc_with_circle.png 960w,\n/static/1fa1f37669b1e0df075146506faacf30/2bef9/arc_with_circle.png 1024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>(x, y)와 (dx, dy)를 동시에 원주에 위치시킬 수 있는 원은 단 두 개 뿐이다</small>\n</center>\n<p>이때 두 개의 원의 원주에 위치한 <code class=\"language-text\">(x, y)</code>와 <code class=\"language-text\">(dx, dy)</code> 점들을 사용하여 호를 만들 수 있는 방법은 총 4개가 나오게 되는데, 이때 어떤 호를 그릴 지를 위 예시의 “큰 호 플래그”와 “쓸기 방향 플래그”로 결정하게 되는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a rx ry x축-회전각 큰-호-플래그 쓸기-방향-플래그 dx dy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"호의-플래그-이해하기\" style=\"position:relative;\">호의 플래그 이해하기<a href=\"#%ED%98%B8%EC%9D%98-%ED%94%8C%EB%9E%98%EA%B7%B8-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\"호의 플래그 이해하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>백문이 불여일견이니 이번에도 한번 직접 그려보면서 호가 그려지는 과정과 저 플래그들이 정확히 어떤 일을 하는 것인지 이해해보도록 하자. 도넛 차트를 그릴 때와 마찬가지로 좌표에 대한 이해가 쉽도록 이번에도 가로 100, 세로 100의 좌표를 가진 뷰박스를 그리고 간단한 호를 한번 그려보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n    M 50 10\n    A 40 40, 0, 0, 0, 10 50<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li><code class=\"language-text\">(50, 10)</code>으로 렌더 시작점을 옮긴다.</li>\n<li>rx, ry를 모두 <code class=\"language-text\">40</code>으로 할당하며 반지름이 40인 원을 정의한다.</li>\n<li>회전각 <code class=\"language-text\">0</code>, 큰 호 플래그 <code class=\"language-text\">0</code>, 쓸기 방향 플래그 <code class=\"language-text\">0</code>으로 설정한다.</li>\n<li>끝점 <code class=\"language-text\">(10, 50)</code>까지 호를 그린다.</li>\n</ol>\n</blockquote>\n<p>현재 필자가 설정한 큰 호 플래그와 쓸기 방향 플래그는 모두 <code class=\"language-text\">0</code>이기 때문에 SVG는 기본적으로 두 점을 이을 수 있는 작은 호를 그리며, SVG가 선을 그리는 방향인 반시계 방향으로 그릴 수 있는 호를 그린다.</p>\n<p>회전각 같은 경우는 호의 기준이 되는 원을 얼마나 기울일 것이냐를 의미하는데, 어차피 이 예시는 한 쪽으로 길쭉한 타원이 아니기 아니라 모든 반지름이 동일한 원이기 때문에 기울이는 것이 의미가 없다.</p>\n<p>어쨌든 이 명령어들을 사용하여 호를 그리면 실제로 이런 모양의 이쁜 호가 그려지는 것을 확인할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4klEQVR42u2VSwvCMBCE/f8/TKlePHip4ANUpFQbWpNN82hGEl+UFm3twYtDFpINfJmFgYwYY5BSgohqJUiE0qWGVbZx31acc4yEEPByzqFNF3VBwhNUrsInGWNeQDi/blDrLNZsjdlhhkWywJZtQ68X8OEwL3NE+wgbtoGpDPqo7vAOG+/GIE3Pnn+oy7gNoHcz2U3AFQ/nrpAGkIsbYHleYpWtvoY1HE73U5S2xBAFoJIKmcwwP87fxqcz0Ac3pRTxKR407hNIgkL+tNUYqtYc/oF/4C+ARVGEjdZ6cPmv5AobUiygbVTaNgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 0\" title=\"\" src=\"/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png\" srcset=\"/static/a084d433d6987120384f775cc95cd1e5/69538/arc_0_0.png 160w,\n/static/a084d433d6987120384f775cc95cd1e5/72799/arc_0_0.png 320w,\n/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<h4 id=\"쓸기-플래그\" style=\"position:relative;\">쓸기 플래그<a href=\"#%EC%93%B8%EA%B8%B0-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"쓸기 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>비록 호의 플래그는 두 개 밖에 없지만 이 값이 바뀔 때마다 호의 모양이 휙휙 바뀌기 때문에 SVG가 정확히 어떤 방식으로 호를 그리는 것인지 잘 이해하고 있지 않다면 동작이 난해하다고 느껴질 수도 있다.</p>\n<p>하지만 아까 필자가 이야기했던 SVG가 선을 그리는 방향이 기본적으로 반시계 방향이라는 것만 기억하고 있다면 사실 그렇게 어려운 동작은 아니다.</p>\n<p>필자가 위에서 렌더했던 호를 조금 더 자세하게 다시 그려보자면 사실 이런 모양이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/94400700b6bb656957fa15af90fe1e42/73b94/arc_0_0_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVR42p1U7W6DMAzk/Z+nDzGtmir20apqpf6i7QT0CxICAW65aGYp7TppSCaJHTt3tpPofD5jsVggyzLw67pukL7v0batHynUcS32e/Ooqiqs12tst1torVEUBS6Xi5eyLJHnObLjEQcnYuMYzjlaa33QiKiUUqjr2p9AQ9M06Jyxdev47RVPkwmW8zkaZxNHG8zJ0vsQIQMSCRX8hGZpKican0WF3UuMTitYBnL7whSIP4NTF1FJyMYYr6AhdzS0C1aYDmnpchPkj0woglD8qfOUGYR5oILzI+nbGqrukevvZI+Sz30SgB/9byi37jRVG2gnpemRKVYZzqkbKIZV5yhpuqIcIlS1xllbpBc7ONoA3bhVhJXUwCPkjwGVS3py0jho5rFxgayvslRSJFwLbQE0tI3WLtFqh13yhPePJabTZyRJ4umEjR1WVgrINdvuinLp+9Cgs8ZXmw0udNr/Ujamdsp2cBLHR5R5uPhfURbIYwRyt+9RflhlKgS+NG34ONx7BGTfTR/+UDaDA+eyYZxD6h/elN/usjhQP16P6RPQTWNLwPB6jSlLEBnvBqSSCE+nkx/lLeQmWcv7F76VImmaYr/fD/6RnBRWWVrjr7Yhq81mg9lshjiOsVqt8AV3P83cpNmVpgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 0 example\" title=\"\" src=\"/static/94400700b6bb656957fa15af90fe1e42/6af66/arc_0_0_example.png\" srcset=\"/static/94400700b6bb656957fa15af90fe1e42/69538/arc_0_0_example.png 160w,\n/static/94400700b6bb656957fa15af90fe1e42/72799/arc_0_0_example.png 320w,\n/static/94400700b6bb656957fa15af90fe1e42/6af66/arc_0_0_example.png 640w,\n/static/94400700b6bb656957fa15af90fe1e42/d9199/arc_0_0_example.png 960w,\n/static/94400700b6bb656957fa15af90fe1e42/73b94/arc_0_0_example.png 1004w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>명령어를 통해 정의된 가상의 원주를 따라 호가 그려진다</small>\n</center>\n<p>위 그림에서 붉은 점은 필자가 <code class=\"language-text\">M</code> 명령어를 사용하여 이동한 시작점을 의미하고 노란 점은 <code class=\"language-text\">A</code> 명령어의 가장 마지막 인자로 할당한 <code class=\"language-text\">(10, 50)</code> 좌표에 있는 끝점을 의미한다.</p>\n<p>파란색 화살표는 SVG가 실제로 선을 렌더하는 방향을 나타낸 것인데, 실제로 저 시작점부터 끝점을 향하면서 반시계 방향으로 작은 호를 그릴 수 있는 방법은 저것밖에 없다. <small>(잘 이해가 안 간다면 종이에 직접 그려보면 감이 온다)</small></p>\n<p>그렇다면 만약 이 호의 시작점과 끝점을 뒤바꾼다면 어떻게 될까? 이번에는 아까와 반대로 시작점을 <code class=\"language-text\">(10, 50)</code>으로 옮기고 끝점을 <code class=\"language-text\">(50, 10)</code>으로 변경하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n    M 10 50\n    A 40 40, 0, 0, 0, 50 10<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4a6a8910a7786f804c830459a4f05322/d74fe/arc_0_1_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVR42n1UXW+DMAzk//+zvUxat5aNSZXWh3XaukL5CAQIXi7rRYayRbIAx7Hv7CPJOI7inBNrrfR9H57DMATDNwwx2rCnn9qfIBkPTtMkLABjEIosD2JfJ2R8QidRdl0XEjOARZhk6ce3jk9YHetwOMh2u5W2bWNyWN/jHa0Yow/7Oi4mBFVWBoqiKEIgzBgTgsuykof7O3l9fpTc78OH/aZpQsI8zyODQBmQSQFBWKQRKg9O0n0mx/cnf3CKlLGHheT0RYRw4B0JidaCpvcVZpRTY8VeBwBUVAVi67qOarihXFWVryS/weMguZmktk6qtpFBKYDqwAKIGWUtA/TNAcnQS96MYuwkpm+l7lr0YTZlogLlmJBUSQEIvRCk6CZpPDLTGSl9kTUdIp6sImWtIWt7MVUppzSTt+OXfJw+PTobB8Dh8Z0FZkNZ9sT4Bn/v95JlL7Lb7QJ9N7qbP0j/KRhKpKwTwolNiMER+SKJ7iH7j77HhKRBCoDvrn1do6n1x5g/KbPBDNaSWiKkHpHkX8qAT7RMqi8Q3j6cKmIpmzDltR7OfrurTGj8ZlGsGUKtL1Q9n89B+aCOQG3wgQH3+LxcLrFgsnbHLW/mv25snEOyNE1ls9l4qWXyA9Fw0bKuvd0DAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 1 example\" title=\"\" src=\"/static/4a6a8910a7786f804c830459a4f05322/6af66/arc_0_1_example.png\" srcset=\"/static/4a6a8910a7786f804c830459a4f05322/69538/arc_0_1_example.png 160w,\n/static/4a6a8910a7786f804c830459a4f05322/72799/arc_0_1_example.png 320w,\n/static/4a6a8910a7786f804c830459a4f05322/6af66/arc_0_1_example.png 640w,\n/static/4a6a8910a7786f804c830459a4f05322/d9199/arc_0_1_example.png 960w,\n/static/4a6a8910a7786f804c830459a4f05322/d74fe/arc_0_1_example.png 1164w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>대척점에 있는 가상의 원을 따라 호가 그려지는 모습</small>\n</center>\n<p>이번에도 같은 반지름을 가진 원을 따라 호가 그려졌지만, 이번에는 첫번째 예시의 원과 대척점에 있는 다른 가상의 원을 따라 호가 그려진다.</p>\n<p>왜냐하면 아까와 마찬가지로 저 시작점부터 끝점을 향하면서 반시계 방향으로 작은 호를 그릴 수 있는 방법이 저것밖에 없기 때문이다. 만약 이 시작점과 끝점을 이으면서 첫번째 예시의 원을 따라서 호를 그려보면 반시계 방향이 아니라 시계 방향이 된다.</p>\n<p>이게 바로 쓸기 플래그의 원리이다. 굳이 시작점과 끝점을 뒤바꿀 필요 없이 선을 그리는 방향만 바꿔주면 이 두 가지 호를 모두 정의할 수 있게 되기 때문이다.</p>\n<h4 id=\"큰-호-플래그\" style=\"position:relative;\">큰 호 플래그<a href=\"#%ED%81%B0-%ED%98%B8-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"큰 호 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>큰 호 플래그는 시작점과 끝점을 잇는 호 중에 작은 호를 그릴 것인지, 큰 호를 그릴 것인지를 선택한다. 위에서 보았듯이 SVG는 호를 렌더하기 위해 2개의 가상의 원을 정의하기 때문에 큰 호나 작은 호 같은 개념이 존재하게된다.</p>\n<p>작은 호에 대한 예시는 방금 전 그림에서 보았으니 이번에는 큰 호를 그릴 경우 SVG가 어떤 경로를 선택하여 호를 그리는 지 살펴보자.</p>\n<p>만약 쓸기 플래그가 <code class=\"language-text\">0</code>, 즉 반시계 방향이라면 각각 큰 호와 작은 호는 이 경로가 된다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/762ad0bb83895985025acc4e8a438a41/d74fe/arc_1_0_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACH0lEQVR42n1Uy47bMAzM//9Wr20PATYugj0UuXW7SeRYfsiSPOXQpqIYixogZMuj4QxJ+5BSQk4Z/S1icAnDI2LqksbgouwnpCiRIohlxBhf1nr/oGTXjMlHYFmQsyRYnhGGBH8lWA7l58Gc8wshn7keBpcRfAYgawiYxkl4FwUwJAvmccFwz7Kfy0FijMjwSug/VyW8LpcL3t7eMI7jSj5NGnMMojIizqI4rHt8X+MKIe0Kv9aRFpxzCmQMw4AwBXS+w49v39H8bOBapy74vu97Jbzf76UMSkhbOa8WCOJlNqY44zEHXI5H/D2eMHN/s7yWBEpuZTiw4CJWiz7PsxJqwQXgeo9OwHwXpcssDQ9SFYN4Yr33er9a/sylAZTddR0FoxW7oygzJSHMBWdBEl4UUSxPXcb4WOvIzVGIJiGisqVKxMN1N3lvqkZ1sRFyQwfaJVXRi3wva9xGwuzVM2eHSWiuimU2g9lCL7UQ++3HiO76C3d31e7ZrNm8mUqbQ1NYmlLXhNn8Y0D75zfe3884nZqXT8twdm+q2ZRi+QnaCKWzIlrHqE62J6Qa4hmc10JoNpbtO6Z8rjYSe5v1/Bnmv5Z1bDawHfhKoc0jSb60bISUbwU3UquVYWyoTZWNzdblXVMkW/23sTGxsGdLyutFYd1FZr3dbjr5tE5gHdyjA3tna9u2JeFh37n9H7h+3u/zHMmapsFRfh7n8xn/AEGl0P4EVf+IAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 1 0 example\" title=\"\" src=\"/static/762ad0bb83895985025acc4e8a438a41/6af66/arc_1_0_example.png\" srcset=\"/static/762ad0bb83895985025acc4e8a438a41/69538/arc_1_0_example.png 160w,\n/static/762ad0bb83895985025acc4e8a438a41/72799/arc_1_0_example.png 320w,\n/static/762ad0bb83895985025acc4e8a438a41/6af66/arc_1_0_example.png 640w,\n/static/762ad0bb83895985025acc4e8a438a41/d9199/arc_1_0_example.png 960w,\n/static/762ad0bb83895985025acc4e8a438a41/d74fe/arc_1_0_example.png 1164w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>쓸기 플래그가 0인 경우 만들 수 있는 작은 호와 큰 호</small>\n</center>\n<p>이것도 직접 그려보면 쉽게 이해할 수 있는데, 이 두 개의 가상의 원에 놓인 시작점과 끝점을 반시계 방향으로 선을 그려 이으면서 만들 수 있는 가장 작은 호와 가장 큰 호는 실제로 저 경로들 밖에 없다.</p>\n<p>만약 쓸기 플래그를 <code class=\"language-text\">1</code>로 할당하여 호를 그리는 방향을 시계방향으로 바꾼다면 위의 쓸기 플래그의 예시에서 보았던 것과 마찬가지로 대척점에 있는 가상의 원을 따라 호가 그려지게 된다.</p>\n<h3 id=\"삼각함수로-호의-끝점-구하기\" style=\"position:relative;\">삼각함수로 호의 끝점 구하기<a href=\"#%EC%82%BC%EA%B0%81%ED%95%A8%EC%88%98%EB%A1%9C-%ED%98%B8%EC%9D%98-%EB%81%9D%EC%A0%90-%EA%B5%AC%ED%95%98%EA%B8%B0\" aria-label=\"삼각함수로 호의 끝점 구하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>자, 이렇게 SVG가 호가 그리는 원리를 알았다면 이제는 애니메이션을 만들면 된다. 필자가 만들려고 했던 애니메이션은 원주를 따라 그려지는 호의 중심각이 <code class=\"language-text\">0도</code>에서 시작해서 <code class=\"language-text\">360도</code>까지 스르륵 변경되게 만들면 되는 것이니 이제 그냥 만들기만 하면 되지 않을까?</p>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n<div style=\"max-width:300px\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABs2lpGpALaQbsY1//xAAbEAEBAAIDAQAAAAAAAAAAAAABAgASAwQFEf/aAAgBAQABBQImqLTWLKPO+vWpTNqwkOMrZz//xAAYEQACAwAAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPwHShR//xAAXEQEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/AWpr/8QAHxAAAgEDBQEAAAAAAAAAAAAAAAERAiFBEBIyYXFy/9oACAEBAAY/AppQqFup7RI/oTmHmDky1vBzi2n/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBBcZGh/9oACAEBAAE/IcpB03LYaGiUNZ5gCV2r5ChuKDSLb9sJVqBjAcRmA6K4/9oADAMBAAIAAwAAABBQ/wAD/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QbYuaj//EABgRAQEAAwAAAAAAAAAAAAAAAAEAEBEx/9oACAECAQE/EAC1uMf/xAAgEAEBAAIBAwUAAAAAAAAAAAABEQAhMUFhsRBRcYGh/9oACAEBAAE/EGfNgAVPb7yZYA6Wrp31k+cmyLEMcBcNgdyLzcp1cdaHSnbnneJWrtHjADmNbAah3cGBXqTRf30//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no\" title=\"\" src=\"/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg\" srcset=\"/static/f4617a9e1f692a7df11953b0a4b86f44/0913d/no.jpg 160w,\n/static/f4617a9e1f692a7df11953b0a4b86f44/cb69c/no.jpg 320w,\n/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg 550w\" sizes=\"(max-width: 550px) 100vw, 550px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n<small>그렇게 쉽게 끝날리가 없다</small>\n<br>\n<br>\n</center>\n<p>사실 필자가 위에서 예시로 들었던 호의 중심각은 모두 90도나 270도였다. 사실 여기에는 한 가지 이유가 숨어있는데 그게 무엇일까?</p>\n<p>바로 호라는 녀석이 시작점과 끝점을 정의해서 그리는 녀석이기 때문이다. 즉, 원주를 따라서 이쁘게 호를 그리고 싶다면 호의 시작점과 끝점은 반드시 원주 위에 올라가 있는 좌표를 가지고 있어야 한다. 하지만 호의 각도가 90도, 180도, 270도라면 별다른 계산 없이 X축과 Y축에 올라가 있는 점을 선택하기만 되기 때문에 필자가 예시로 들었던 모든 케이스에서 이런 각도들을 선택한 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/73b94/coords_default.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACKklEQVR42n1Ua4/aMBDk//+gSu23vnQfWglRpAOFRNBCaK5ABeRBYieZ7hjWZ46okaz4sTue2YdHp9MJs9kM+/0e/Lqu86Pve//Xedu2/nxoPrpcLojjGNvtFlVVIc9znM9nN4qiQLRY4DmKsFyt3FlZ5KjKHHWVy/rs7a21DnREVmVZomkadwMPjDH+xuVyiejTR2wE0MjZ6mCxObZ4zqwHoUr6OIYEJBNu8FNpNLZiTAcz/YFWlPR9h6efBt9TIPnbo7Ed1J/29B3RmZTruvax4FxZ8m/F0NhWXC2+rQ3ezXm5QWOsu4T+VOgkE5Vx4Aa/UC7P3DwIfte1DqRprnb86D8omcZh5jTrmmV/QY8r+xuJO8khQxe3ICkeICil9hZX2jE0tHkl1F1jSMCLlIxxge8fHHWua8dWmDVi3wqQEvJlU8lmnaYonr7i1/Y3Yqm9w+Hg5ChTDo3xQuoykjLKvnxGl8QoqUz2veSCdSj0a7kxFWAWunYOGYWdQyZJkiAS0D8vL6wz5EOSa8bwTSv9VzLBCRLk4K5TlIkCaJbDtcY37KjBLHODN6ikUGYYw/ARULuHOvSSBzqFIAtJ0Hg6xXw+d+fcD0tMO+1O8ttedrFiy4kDk7P+8B67dAN7AwwZK8OHwlbAIZldukZPoKBzwm66A+QmGR6PR/fXt5BGbi1PU853UubhW6ljt9shyzLvPwqzpuzCzGqshsqIqvhejsdjTCYTF+9/yYTH8+PR9EoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"coords default\" title=\"\" src=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/6af66/coords_default.png\" srcset=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/69538/coords_default.png 160w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/72799/coords_default.png 320w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/6af66/coords_default.png 640w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/d9199/coords_default.png 960w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/73b94/coords_default.png 1004w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>원주에 존재하는 빨간색 점의 좌표는 계산없이도 암산이 쉽지만<br>파란색 점은 아니다...</small>\n</center>\n<p>하지만 클립패스를 이루는 호의 애니메이션은 90, 180, 270, 360도로 텔레포트하면서 움직이는 것이 아니기 때문에 결국 필자는 애니메이션이 진행되는 동안 호의 끝점이 되어 줄 무수히 많은 파란점들의 좌표를 구해야한다. 이걸 어떻게 할 수 있을까?</p>\n<blockquote>\n<p>답은 바로 <strong>삼각함수</strong>이다.</p>\n</blockquote>\n<h4 id=\"도와줘요-삼각함수\" style=\"position:relative;\">도와줘요 삼각함수!<a href=\"#%EB%8F%84%EC%99%80%EC%A4%98%EC%9A%94-%EC%82%BC%EA%B0%81%ED%95%A8%EC%88%98\" aria-label=\"도와줘요 삼각함수 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>위에서도 이야기했지만 우리가 일상 속에서 호를 보았을 때 직관적으로 떠올리는 단위는 바로 “각(Degree)“이다. 그래서 필자는 호를 그리는 인터페이스도 이런 식으로 설계되면 편할 것이라고 생각했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ArcData</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원의 중심의 x 좌표</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원의 중심의 y 좌표</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원의 반지름</span>\n  degree<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 원점에서 부터 호를 그릴 각도 </span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">drawArc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ArcData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">M 어쩌고 A 어쩌고 L Z</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 대충 호 그리는 명령어</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2be3abdad9703847459d8b18dcb32f6e/27b7a/arc_func.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTElEQVR42oVV227bMAzN///VsKdhQNGuQLeHZF0wp3Xs+O5E8k1nPHJoyFnWCVAkkdQxeUgxm/1+j7ZtUdc1sizza9M0yPMcVVUte8p51r3aU6+6KIqwKcsSHNM0+emcW+Y4jouc+/Ac2nPlOB6P2BCdgmEY0Pe9v8S9tRbGGHRd5+VceaZcZaE9genxpigKjx56wAs04lk9UJ16rjZ65iAdK0D15BbkXsjc01uVLSGTVAVkSB8B3J7pIR1YecgfDuVLL+oFXXXe09FTjhWHChZm8H8eKsfdFXAJ2TnJci/cTaPfSxHJOrKWYET+VuV4rwpY4VhUcKNblU1/5XBOivyMk0Pa9Lj0I0ozIaod4sahsZLxAXiJ3/EjfpOPSmlNkl0nyRt6GJaQANVPj+h3W+TyQCRkAk74XfTIzhNeC4fHGHg+AgcBLg2wywp8+xXh58MFL58u+P75gmh3QW3lhQ0jDo8PaF93SPPio5AZkp4djHB8KhrYTDirpCqs83pRobCGTKAI69BaCeVK+qhTzyRfaKnNGVV3nstsYobnD6Z15bnM14DWF3aYwdsyoY48NeKRY1JE3sq9rJ1rOY7j+S0TnRdYi/fqMKxFep40lc8+5UldomP27z09bRD/6jb+7bKRiH0iWT1KIoyE7MKy0fYVeqZdJGxPCzj5FPvy6xdUz0/z3WFYty8NWXnSbqKtSnV69q8qSNxwBfwr5LBd3T497ZmL14G9Ngf/lg+Hg0dO0xQEP51OfpKKJEm8Eds79Zy6p01oz7+R7XaLP4J4F36YJAytAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc func\" title=\"\" src=\"/static/2be3abdad9703847459d8b18dcb32f6e/6af66/arc_func.png\" srcset=\"/static/2be3abdad9703847459d8b18dcb32f6e/69538/arc_func.png 160w,\n/static/2be3abdad9703847459d8b18dcb32f6e/72799/arc_func.png 320w,\n/static/2be3abdad9703847459d8b18dcb32f6e/6af66/arc_func.png 640w,\n/static/2be3abdad9703847459d8b18dcb32f6e/27b7a/arc_func.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>대충 행복회로의 결과물</small>\n</center>\n<p>필자가 설계한 인터페이스처럼 임의의 각을 사용하여 호를 그리려면, 임의의 시작점을 정한 후 이 각을 이용하여 끝점의 좌표를 구해야한다.</p>\n<p>사실 시작점은 그냥 호를 그리기 시작할 임의의 점을 자유롭게 정하면 되기 때문에 원주 위에 있는 아무 점이나 골라잡아도 된다. 앞서 이야기했듯이 SVG는 원을 그릴 때 <code class=\"language-text\">(cx + r, cy)</code> 좌표를 렌더 시작점으로 정의하고 있으므로 필자도 동일하게 이 좌표를 0도의 기준으로 잡도록 하겠다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c6251100be299d7bb20ac6580128e408/27b7a/0degree.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVR42o1Uy3LCMAzk//+pPXb6AZ0O00MP0NRJyItASl5G9Ro2CJNmqhkTWbKXXVvyarvdStM0cjgcpCxL/6Vf17Ucj0epqsrHMKfPNcgjjnkURbLCApi11o/z+TyNcRynOHzOkdPr8YUlSSIroCMwDIP0fe83wW/bVk6nk3Rd5+P4IsaBmF4P4DzPZQXaMDLAwGYsgk8Gmh3XAJBzWFEUN8kIkkkIEkrmAFPG7iQDAIwgUQOQJX09Z4xqJob4gfFcNBsCDDOAU87twV5YnmU3yfinUNKdZDs+HoEDtU5d6/bCUkhG/UByCOj90cqPi0dVIaaupHNsYCwrC8DYSLffi3VHl63XF8kEDM+ox9m43Edq5C3aSKMKunAD8zjdiXl+Ert+v0hGkjf2F2Ds2H3G37JLU0ndMMb4G4W/iRMxry8i0ZckRXmRDMClM5wkBp3EchmcDytxyyzsJcARnRSUkb7p1pWbv2XdKaz8ubIZl8rm2qZ/FvYcg6XC5tlPha17mQ/Ef1+bsPW8ZN3LTAKUbOYAdcvpxyFhYXORloQNfL7IHHOwYkyf40MvM6FvmXNuDlkzT4YZC7u/Njj+mUPH9APLuF4PH8BxHMsvU/McxsMEDsMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"0degree\" title=\"\" src=\"/static/c6251100be299d7bb20ac6580128e408/6af66/0degree.png\" srcset=\"/static/c6251100be299d7bb20ac6580128e408/69538/0degree.png 160w,\n/static/c6251100be299d7bb20ac6580128e408/72799/0degree.png 320w,\n/static/c6251100be299d7bb20ac6580128e408/6af66/0degree.png 640w,\n/static/c6251100be299d7bb20ac6580128e408/27b7a/0degree.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>원의 중심과 저 점을 이으면 0도의 기준이 되는 시초선이 된다</small>\n</center>\n<p>이렇게 각의 출발점이 될 시초선을 정했다면 이제 저 점으로 부터 각 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span> 만큼 벌렸을 때 원주 위의 어떤 점이 나오는지만 찾아내면 호를 그릴 수 있게 된다.</p>\n<p>이때 삼각함수를 사용하면 시초선으로부터 특정 각만큼 벌어진 선과 원주가 맞닿는 부분의 좌표를 쉽게 구할 수 있게 된다. 자 한번 어릴 때 배웠던 삼각함수를 한번 되새김질해보도록 하자.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/93359637e4ee5965580fb27914c67df8/7321b/triangle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADxUlEQVR42oWUy0tbWxTGz6CtSUx9nGOMMab2DbVw4fYf6LDiQOlAFBQ7sChaBFGhUAoZ6UwQtEp8omIEaYqP1CgRUlSCghhrrQbByk31ihiKQp10oF2/wznQ0kEHm7322t9ej2+ttZW9vb303d3dtO3tbW1ra8vOzvnk5OQ68uXlpXVsbOz2+Pj4HeTNzc1M1s7Ojn4PDnwikVCPj4/tSiwWyzANRiIR++rqqra2tqY7QcbIyMjIXZbItqWlpUzWysqKfg8OPPLy8vJ1ZWNjI1UUNpRi0MLOWTxakS8uLlJmZ2cdgUAgG5kseBiNRvV7A2fD8P7+vkXhksjwOj09rUfAGUfQIVGlLCwsOFnIpEp08/PzqWDBgSdTDCuGQFRZGGfnDDf9/f25paWl7oaGhoLGxsaHVVVVbp/P55JoHJvBYGZcsGbKUIYzBauEj1dJLYWd0IuKinLKyso8ExMT1r6+Pierq6vLXvrsWc77F8/vH7d578YikQxo4j3GxHiKQsWIcn193YGxg4MDrb6+Pt/r9eaenp6qRCrpuoPBYH4iEbV+/Xqetxj9/Orp0yeus7MzjbeseDyuR6sXhYUS0js6OpzFxcW58IVOdosYywkERrIfe/ctn/47f/8leTmrKIrN5xt10QXmeyLVUyZFQpbLK3BGahg3dFfD4Xea3z/ljP//Y+hcFPHDH2/FoNLc3Jwvx2u8Pzo6SpUOuKZQPeFJT0kql93S0vLP6OhoXigUcoXD4Rvsg+NvPB+W452x+Lfzj3un32O7Sb/X25D28uXrf7knA3lTMDg46FHEWPrAwIBDFK6hoaGM6urqB62trc7h4WHN1PX29t4KTIceTYnzubk5KdSMu7OzUwMLTgqm9vT03Ovu7s4m5XRSk3BV+Kitrb0pF5kipxo6m1Qyxz/lpw+t9GYymUxra2vTpHA3wBmdkXF4eGjTDZpjBJ/Cn94uGJKUNUChUMAFLZHIlj4AGCwpKfHQSswv76UgKsX5ow8B0IOFhYUOvFMomaAsMcj5ClWvqKhwcQ+Wt7/14a8Rmp8DvSepu2tqau60t7erk5OTuRRKUlQrKytvNTU1eZhpsOYoQg86hYMx7CrzyS6RppEyJJeXlzvr6uoeiIMCZBk9vYFxDtb8LBgQPWUUvzYmu9nscEUfLi4uOmgpes7kDKrAwrH5kfDz6KPHgdExPweA6JBJaWZmxi3fVx6yEZVqfijgjA8mC0cKHrBMGpBq/L5WyEcmKv5DM0JjIuxMh3FvAQ/vTNdfDQIiAuFMn/W/GfwJFPm1e/daHiUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"triangle\" title=\"\" src=\"/static/93359637e4ee5965580fb27914c67df8/6af66/triangle.png\" srcset=\"/static/93359637e4ee5965580fb27914c67df8/69538/triangle.png 160w,\n/static/93359637e4ee5965580fb27914c67df8/72799/triangle.png 320w,\n/static/93359637e4ee5965580fb27914c67df8/6af66/triangle.png 640w,\n/static/93359637e4ee5965580fb27914c67df8/d9199/triangle.png 960w,\n/static/93359637e4ee5965580fb27914c67df8/7321b/triangle.png 1184w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>이건 좌표평면 위에 정의된 반지름이 <code class=\"language-text\">1</code>인 원을 정의하고 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> 축을 각의 출발점인 시초선으로 정의한 후 반시계 방향으로 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span> 만큼 각을 진행시킨 것이다.</p>\n<p>이때 이 각을 타고 원주로 일직선으로 뻗어나가는 선이 만나는 지점 <code class=\"language-text\">(x, y)</code>가 우리가 삼각함수를 사용하여 알고 싶은 점의 좌표가 될 것이다. 그리고 이 점에서 시초선으로 수직하게 선을 내려꽂으면 위 그림과 같은 모양의 직각삼각형이 그려지게 된다.</p>\n<p>이때 이 삼각형의 삼각함수를 사용하여 점 <code class=\"language-text\">(x, y)</code>의 구성 요소인 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>는 이렇게 정의할 수 있다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>sin</mi><mo>⁡</mo><mi>θ</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>cos</mi><mo>⁡</mo><mi>θ</mi><mo>=</mo><mi>x</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n\\sin{\\theta} = y \\\\\n\\cos{\\theta} = x \\\\\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3em;vertical-align:-1.25em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.75em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">sin</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">cos</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.25em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<p>사실 이 내용은 고1 쯤에 배웠던 내용이기는 하지만, 사실 너무 오래되었던지라 필자도 오랜만에 한번 찾아봤었다. <small><del>(추억의 얼싸안코가 떠오른 건 덤…)</del></small></p>\n<p>이게 만약 수학 문제였다면 각 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span>와 삼각비를 사용하여 직접 풀어내야했겠지만 다행히도 자바스크립트는 <code class=\"language-text\">Math.sin</code>과 <code class=\"language-text\">Math.cos</code> 메소드를 제공하고 있기 때문에 저걸 직접 계산하지는 않아도 된다.</p>\n<p>단, 여기서 한 가지 신경써줘야 할 점은 저 각 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span>의 단위이다. 우리가 보통 각을 생각할 때는 60분법인 90도(<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>90</mn><mi mathvariant=\"normal\">°</mi></mrow><annotation encoding=\"application/x-tex\">90\\degree</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">90°</span></span></span></span></span>)를 떠올리지만, 사실 이렇게 “도”라는 특별한 단위가 붙은 값은 다른 일반적인 숫자와 계산이 불가능하기 때문에 이 값을 가지고는 삼각함수를 사용할 수가 없다.</p>\n<p>잘 이해가 되지 않는다면, 10km와 6을 더한다고 해서 16km가 되는 게 아니라는 사실을 생각해보면 조금 이해가 쉽다. 마찬가지로 10km와 6마일을 더한다고 해서 16km가 되는 것도 아니다. 단위가 붙은 어떤 물리량을 연산하려면 피연산 대상도 반드시 같은 단위가 붙어있어야 한다.</p>\n<p>결국 삼각함수도 일종의 함수이기 때문에 이렇게 특별한 단위가 붙은 값을 가지고는 연산을 수행할 수가 없다. 그냥 90이면 90이지, 90도라는 값으로는 삼각함수를 사용할 수가 없다는 이야기이다. 그래서 우리는 이 “도”라는 단위가 붙은 값을 단위가 없고 물리량만을 가진 호도법, 즉 라디안으로 변환해주어야한다.</p>\n<p>호도법, 라디안하면 어려워보일 수 있겠지만 그냥 “180도를 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>라디안이라고 부르자”와 같이 그냥 같은 요소를 표현하는 방법만 바뀌는 것이다. 우리가 일상생활 속에서 1근이라는 단위를 600그램으로 변환할 수 있는 것처럼 말이다.</p>\n<p>라디안은 60분법과 마찬가지로 각을 표현하는 방법이지만, 호의 길이와 반지름의 길이를 통해 각의 크기를 정의하는 방법이기 때문에 단위가 붙지않은 순수한 숫자로만 정의된다.</p>\n<center>\n  <div style=\"max-width: 300px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVR42pWUya6CQBBF+///RT/AxJ1xZVCQ0YEFLpQEEYmKc5lbL2VanmLbSaWhrD7WcGlFhut2u/G+XC5pOBzS9Xp9G6dMYPf7nfcsyygIAt7H4/HzT34CCmyz2TDkcrnw+2q1YrjESJwyge33e7Jtm47H40v58/mcFovFi099gwEyGo1ot9u9+AXiui5n3+l0aLvdNmeI8gBDYB0mz3mek2VZz/JV01TRMwygDqtDPc97VqA+Bfm+zxL5BNP9aZrSdDr9D5SAyWRCSZI0wuqtQS9RlarDMLk4jo1hekVlWf4BZeTICtnpPlMgdInzShzoVxRF9OuS80VR8Hkln1QYhgxdr9csZAj2cDgYAyEtDEZBlO12m/U0GAyo2+1Sq9Xivaoqbvj5fKbT6cSG57rhokD/kJRyHIf6/T6LE5NCcyFm+FECgmAYFvor77ohDpqdzWZmtw1Wr9f7qkvWIX7ERGFya+iGhVLRDuz67fLOHmu3JOkSx0u8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"1rad\" title=\"\" src=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png\" srcset=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/69538/1rad.png 160w,\n/static/a34b977dc5fad2e1f8aa536c40cf7580/72799/1rad.png 320w,\n/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png 506w\" sizes=\"(max-width: 506px) 100vw, 506px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>호의 길이와 반지름의 길이가 같을 때의 각도를 1라디안이라고 한다</small>\n</center>\n<p>일단 호의 길이가 반지름의 길이와 같은 경우의 중심각을 1라디안이라고 하는 것만 알면 그 다음부터는 조금 더 쉬워진다.</p>\n<p>우리는 이미 원주의 전체 길이가 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span>로 정의된다는 것을 알고 있다. 그렇다면 원을 그리려면 1라디안의 중심각을 가진 호가 몇 개나 필요할까?</p>\n<blockquote>\n<p>바로 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>개 이다. 즉, 원의 중심각인 360도는 1라디안에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>를 곱한 값인 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>라디안이다.</p>\n</blockquote>\n<p>1라디안의 중심각을 가진 호의 길이는 무조건 원의 반지름 길이인 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span>이기 때문에 전체 원주 길이를 모두 채우려면 당연히 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>개의 호가 필요하고, 이 호의 총 길이는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span>, 중심각은 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>라디안이라고 할 수 있는 것이다.</p>\n<p>여기까지 왔다면 원의 반만 채우려면 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>개의 호가 필요하다는 것도 쉽게 유추해볼 수 있다. 즉, 중심각이 180도인 반원의 원주 길이와 동일한 호의 개수는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>개이기 때문에 180도는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span>라디안이 되는 것이다.</p>\n<p>그럼 90도는 몇 라디안일까? 90도는 다시 180도를 반으로 나눈 값이기 때문에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mi>π</mi><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{\\pi}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0404em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6954em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>라디안이 된다. 이 과정을 일반화 시켜보면 이런 모양이 된다.</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>m</mi><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>n</mi><mi mathvariant=\"normal\">°</mi></mrow><mrow><mn>180</mn><mi mathvariant=\"normal\">°</mi></mrow></mfrac><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">m_{rad} = \\frac{n\\degree}{180\\degree} \\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0574em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">180°</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"mord\">°</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span></span></div>\n<p>이 공식 자체는 굉장히 심플하기 때문에 코드로 작성해도 이렇게 한줄 컷이 나온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> degree <span class=\"token operator\">=</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> radian <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>라디안은 이렇게 각의 크기를 그저 호의 길이와 반지름의 길이를 사용하여 나타내는 것이라서 어떠한 단위도 붙지않기 때문에 이 값을 가지고 다른 숫자들과 자유롭게 연산을 할 수 있게 되고, 우리는 라디안으로 표현한 값과 삼각함수를 사용하여 시초선으로부터 원하는 각도에 위치한 원주 상의 좌표를 구할 수 있게 되는 것이다.</p>\n<p>이렇게 알아낸 모든 정보를 토대로 코드를 작성하면 이렇게 호를 그리는 <code class=\"language-text\">path</code> 엘리먼트의 명령어를 뱉어내는 함수를 만들 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 호를 그릴 때 필요한 값들</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">ArcData</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  degree<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 삼각함수로 시초선에서 n도 벌어진 점의 좌표를 구하는 함수</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getCoordsOnCircle</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ArcData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> radian <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token operator\">:</span> x <span class=\"token operator\">+</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>radian<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token operator\">:</span> y <span class=\"token operator\">+</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>radian<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_DEGREE</span> <span class=\"token operator\">=</span> <span class=\"token number\">359.9</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// x, y를 중심 축으로 하여 degree(θ)만큼 +방향으로 호를 그리는 함수</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getArc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ArcData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> startCoord <span class=\"token operator\">=</span> <span class=\"token function\">getCoordsOnCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">,</span> degree<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> finishCoord <span class=\"token operator\">=</span> <span class=\"token function\">getCoordsOnCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isLargeArc <span class=\"token operator\">=</span> degree <span class=\"token operator\">></span> <span class=\"token number\">180</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isEnd <span class=\"token operator\">=</span> degree <span class=\"token operator\">===</span> <span class=\"token constant\">MAX_DEGREE</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">M </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startCoord<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startCoord<span class=\"token punctuation\">.</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> A </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 0 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isLargeArc<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 1 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>finishCoord<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n    finishCoord<span class=\"token punctuation\">.</span>y\n  <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> L </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isEnd <span class=\"token operator\">?</span> <span class=\"token string\">'z'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이후 <code class=\"language-text\">getArc</code> 함수의 <code class=\"language-text\">degree</code> 값에 <code class=\"language-text\">0</code> ~ <code class=\"language-text\">359.9</code>을 순서대로 넘기면 애니메이션에 사용될 모든 호를 렌더할 수 있게된다. <small>(필자는 <code class=\"language-text\">react-spring</code>으로 구현했다)</small></p>\n<p>이때 주의해야할 점은 호의 최대 각이 <code class=\"language-text\">360</code>이 아니라는 것이다. 호의 중심각이 360도가 되면 호의 시작점과 끝점의 좌표가 같아지기 때문에 SVG는 호를 렌더하지 않는다. 그래서 필자는 최대 값으로 <code class=\"language-text\">359.9</code>까지만 넘기고 이 값이 들어오면 <code class=\"language-text\">Z</code> 명령어를 사용하여 바로 시작점으로 선을 그리며 렌더를 마치도록 만들었다.</p>\n<p>물론 이 최대 값이 <code class=\"language-text\">360</code>도에 근사하면 근사할수록 더 원에 가까운 호가 그려질테지만, 어차피 사람 눈으로 보면 그 나물에 그 밥이기 때문에 그냥 이 정도만 하기로 했다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 필자처럼 직접 도넛 차트를 구현하지 않더라도 그냥 기존에 이미 존재하는 차트 라이브러리를 사용하면 간단하게 문제를 해결할 수 있다. 하지만 필자에게 필요한 차트는 바 차트와 도넛 차트 뿐이었기 때문에 오직 이것들만을 위해 무거운 차트라이브러리를 번들에 포함시키는 것이 더 손해라고 생각했기 때문에 이렇게 직접 구현하게 되었다. <small>(물론 예상보다 시간을 많이 쓰긴 했다)</small></p>\n<p>간혹 이렇게 2D나 3D 그래픽스를 사용한 작업을 하다보면 삼각함수나 선형대수 같은 수학 이론이 필요한 경우가 있다. 어떤 분들은 이렇게 수학적인 지식이 필요한 예제를 보면 “난 수학을 못 해서 안돼”라고 생각하고 포기하실 수도 있겠지만, 필자도 수학을 잘 하는 것이 절대 아니다.</p>\n<p>사실 필자는 수능 볼 때도 수학 공부를 하나도 안 했고, 그냥 OMR 카드의 답안을 일자로 쭉 그어버리고 자버려서 8등급이 나온 사람이다. 아마 필자 밑에 있던 녀석들도 전부 필자처럼 아예 수학을 포기하고 찍고 자버린 녀석들일 것이다. 이렇게 아예 공부를 안 했던 필자도 이해할 수 있을 정도면 아마 대부분의 사람들도 조금만 고민하고 생각해보면 충분히 이해할 수 있는 것들이라고 생각한다.</p>\n<p>물론 이론이나 공식들을 깊게 파고들려고 하면 끝이 없기도 하고 어렵기도 하다. 아니, 어차피 봐도 이해를 못 할 가능성이 더 높다. 하지만 실제로 우리가 어플리케이션을 만들 때 만나는 문제를 해결할 정도의 수학 이론이나 공식은 이해하기가 그리 어렵지도 않은 편이라고 생각한다.</p>\n<p>어린 시절 학교에서는 삼각함수를 알려줄 때 이 이론이나 함수가 어떤 문제를 해결할 수 있는지에 대해서는 알려주지 않고, 그저 시험을 위해 공식과 이론들을 외우게만 시켰었다. <small>(수업시간에 그렇게 잤는데도 얼싸안코는 기억이 난다…)</small></p>\n<p>하지만 지금은 그 때와 다르다. 이 공식이나 이론들이 어떤 문제를 해결할 수 있는지도 명확히 알고 있을 뿐더러 그 문제를 겪고 있는 당사자가 바로 나이기 때문에, 수능만을 위해 공부하던 그때보다 동기 부여도 더 확실하게 될 수 있다고 생각한다.</p>\n<p>이상으로 SVG 도넛 차트의 원리 - 삼각함수와 수학적 접근 포스팅을 마친다.</p>","fields":{"slug":"20201212-draw-arc-with-svg-clippath","path":"/2020/12/12/draw-arc-with-svg-clippath/","lang":"ko"},"frontmatter":{"title":"SVG 도넛 차트의 원리 - 삼각함수와 수학적 접근","subTitle":"수학과 개발의 절묘한 조합, 도넛 차트와 애니메이션 구현","date":"Dec 12, 2020","categories":["프로그래밍","그래픽스"],"tags":["SVG","삼각함수","차트","도넛 차트","Doughnut Chart","SVG 호"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/d803c/thumbnail.png","srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/d803c/thumbnail.png 320w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/fc5c5/thumbnail.webp 320w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/01fb2/thumbnail.png","srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"6b438603-56ea-52be-a0f8-2c6d935a3fa7","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9D%B4%EC%A0%9C%EB%8A%94-%EC%A0%95%EB%A7%90-%EC%B6%94%EC%83%81%ED%99%94-%EB%BF%90%EC%9D%B4%EC%95%BC\">이제는 정말 추상화 뿐이야…</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90%EC%9D%98-%EC%9E%90%EC%9C%A0%EB%8F%84%EB%A5%BC-%EB%B3%B4%EC%9E%A5%ED%95%98%EB%8A%94-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0\">사용자의 자유도를 보장하는 컴포넌트 만들기</a></li>\n<li><a href=\"#text-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EC%9E%90\">Text 컴포넌트를 만들어 보자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A1%B0%EA%B8%88%EC%94%A9-%EC%B6%94%EC%83%81%ED%99%94%ED%95%98%EB%A9%B4%EC%84%9C-%EC%84%A4%EA%B3%84%ED%95%98%EA%B8%B0\">조금씩 추상화하면서 설계하기</a></p>\n<ul>\n<li><a href=\"#html-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8-%ED%9D%89%EB%82%B4%EB%82%B4%EA%B8%B0\">HTML 엘리먼트 흉내내기</a></li>\n<li><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">커스텀 프로퍼티 추가하기</a></li>\n<li><a href=\"#%EC%9B%90%ED%95%98%EB%8A%94-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8%EB%A1%9C-%EB%A0%8C%EB%8D%94%ED%95%A0-%EC%88%98-%EC%9E%88%EA%B2%8C-%EB%A7%8C%EB%93%A4%EA%B8%B0\">원하는 엘리먼트로 렌더할 수 있게 만들기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C%EB%A5%BC-%ED%95%9C-%EB%B2%88%EC%97%90-%EB%B3%B4%EC%9E%90\">전체 코드를 한 번에 보자</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"최근 필자가 활동하고 있는 루비콘 팀에서는 멘토링 프로젝트를 함께 진행했던 멘티 분들과 함께 lubycon-ui-kit이라는 작은 프로젝트를 시작했다. 뭐 시작한지 얼마 안 되어서 아직 아무 것도 없지만, 한글을 기반으로 제작해 국내의 디자이너나 개발자가 사용하기 용이한 UI 라이브러리를 만들자는 의의를 가지고 조금씩 작업 중이다.","html":"<p>최근 필자가 활동하고 있는 루비콘 팀에서는 멘토링 프로젝트를 함께 진행했던 멘티 분들과 함께 <a href=\"https://github.com/Lubycon/lubycon-ui-kit\" target=\"_blank\" rel=\"nofollow\">lubycon-ui-kit</a>이라는 작은 프로젝트를 시작했다. 뭐 시작한지 얼마 안 되어서 아직 아무 것도 없지만, 한글을 기반으로 제작해 국내의 디자이너나 개발자가 사용하기 용이한 UI 라이브러리를 만들자는 의의를 가지고 조금씩 작업 중이다.</p>\n<!-- more -->\n<p>이 프로젝트는 최근 많은 프로젝트들이 그러하듯 React와 TypeScript를 적당한 비율로 섞어주고, 여기에 <a href=\"https://storybook.js.org/\" target=\"_blank\" rel=\"nofollow\">Storybook</a>을 한 움큼 뿌린 뒤 <a href=\"https://rollupjs.org/guide/en/\" target=\"_blank\" rel=\"nofollow\">Rollup</a>으로 마무리해서 만들어졌다.</p>\n<p>일단 컴포넌트가 디자인되고나면 개발자들과 디자이너들이 모여서 리뷰를 하고 이후 리뷰 통과가 된다면 바로 개발을 진행해서 개발 서버에 스토리북을 배포하고 최종 리뷰를 하는 짧은 이터레이션으로 진행이 되는데, 최근 UI Kit에 들어가는 컴포넌트의 인터페이스를 타이핑하면서 삽질했던 일을 조금 남겨볼까 한다.</p>\n<h2 id=\"이제는-정말-추상화-뿐이야\" style=\"position:relative;\">이제는 정말 추상화 뿐이야…<a href=\"#%EC%9D%B4%EC%A0%9C%EB%8A%94-%EC%A0%95%EB%A7%90-%EC%B6%94%EC%83%81%ED%99%94-%EB%BF%90%EC%9D%B4%EC%95%BC\" aria-label=\"이제는 정말 추상화 뿐이야 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 개인적으로 이런 오픈 소스 라이브러리 프로젝트를 만들 때 가장 어려운 부분이 바로 설계라고 생각한다. 이 설계에는 모듈이나 컴포넌트의 인터페이스라던가 사용자에게 어떤 모듈을 노출시키고 어떤 모듈은 감출 것이냐하는 캡슐화 같은 것들이 모두 포함된다.</p>\n<p>게다가 이런 프로젝트는 프로젝트를 처음 시작할 때부터 혼자 만드는 것이 아니라 여러 명이 협업을 해야하기 때문에 설계에 대한 가치관을 팀 내에서 맞추기도 해야한다.</p>\n<p>솔직히 필자는 이 프로젝트를 들어가면서 설계에 대한 고민을 깊게 하지는 않았는데, 왜냐하면 필자는 회사에서 이미 TDS(Toss Design System)를 사용하여 서비스 개발을 하고 있기 때문에 그냥 막연하게 “이거랑 비슷한 느낌으로 만들면 되는 거 아닌가?”라고 생각했기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABny6XQRjxT//EABoQAAICAwAAAAAAAAAAAAAAAAECESEDMTP/2gAIAQEAAQUCaVUy4NHLyQ0d/wD/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQMSQf/aAAgBAwEBPwGZaXP/xAAXEQADAQAAAAAAAAAAAAAAAAAAAQNB/9oACAECAQE/AYvByP/EABgQAQADAQAAAAAAAAAAAAAAAAEAEHEh/9oACAEBAAY/AtnCjYlf/8QAGRABAQADAQAAAAAAAAAAAAAAAREAECFR/9oACAEBAAE/Ieoy+MFIzCoahChl1f/aAAwDAQACAAMAAAAQT8//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEDAQE/EAAEbOl//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxB1aG8b/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITFBkaH/2gAIAQEAAT8QFJVqyK46jf6aAA4njvZYh0AvYKgmhAzSf//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tds\" title=\"\" src=\"/static/54696de7a7e6c8a6cf270e1286b33c24/c08c5/tds.jpg\" srcset=\"/static/54696de7a7e6c8a6cf270e1286b33c24/0913d/tds.jpg 160w,\n/static/54696de7a7e6c8a6cf270e1286b33c24/cb69c/tds.jpg 320w,\n/static/54696de7a7e6c8a6cf270e1286b33c24/c08c5/tds.jpg 640w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>진짜 이 디자인 시스템 하나 덕분에 개발 속도가 엄청나게 빨라진다</small>\n</center>\n<p>그래서 디자이너 분들과 함께 싱크하는 첫 미팅에서 TDS를 예로 들면서 신나게 설명하고 있었는데, 이런 대답이 돌아왔다.</p>\n<blockquote>\n<p>개발자님…? 디자인 시스템이랑 UI Kit은 조금 다른 개념이에요.</p>\n</blockquote>\n<p>이게 무슨 소리인고 하니, 사실 디자인 시스템이라는 것은 조직의 브랜드와 디자인에 대한 철학이 녹아있는 개념이라고 한다. 그러니까 필자가 회사에서 사용하고 있는 TDS라는 녀석은 토스라는 조직이 표방하는 디자인에 대한 여러 철학들이 녹아있는 녀석이기 때문에 다른 조직에서 이걸 그대로 사용하기에는 조금 어려울 수도 있다는 의미이다.</p>\n<p>반면에 UI Kit이라는 개념은 최대한 이러한 철학들과 격리되어 진짜로 UI 컴포넌트들만을 제공하는 것이라고 한다.</p>\n<p>즉, <a href=\"https://getbootstrap.com/\" target=\"_blank\" rel=\"nofollow\">Bootstrap</a>같은 녀석들은 어떤 디자인에 대한 철학을 가지고 있는 것이 아니라 그저 레고처럼 조립해서 사용할 수 있는 UI 컴포넌트들의 모음이라서 UI Kit인 것이고, 구글의 <a href=\"https://material.io/design/\" target=\"_blank\" rel=\"nofollow\">Material Design</a>이나 에어비앤비의 <a href=\"https://airbnb.design/tag/dls/\" target=\"_blank\" rel=\"nofollow\">Design Language System</a>, 토스의 <a href=\"https://blog.toss.im/2019/04/18/tossteam/culture/toss-design-conference/\" target=\"_blank\" rel=\"nofollow\">TDS</a>처럼 어떤 조직에서 디자인에 대한 철학들을 만들고 그 철학을 UI Kit에 녹여내면 디자인 시스템이 되는 것이다. <small>(UI Kit은 디자인 시스템을 포괄하는 상위 개념이라고 한다)</small></p>\n<p>사실 필자는 회사에서 매일 사용하는 TDS의 인터페이스에 굉장히 익숙해져있는 상태라서 “그냥 이거랑 비슷한 느낌으로 만들면 되지 않을까?”라고 막연하게 생각만 하고 있었는데, 이 얘기를 듣고나서 앞서 이야기한 디자인 시스템들을 다시 살펴보니 해당 디자인 시스템을 만든 조직의 디자인 철학이 상당히 많이 묻어 있다는 것을 알 수 있었다.</p>\n<p>결국 UI Kit은 사용자가 다양한 조직의 디자인 가이드나 코딩 컨벤션에 맞게 커스터마이징까지도 가능해야 할 정도로 높은 자유도를 보장할 수 있어야하기 때문에 디자인 시스템을 만들 때보다 추상화에 대한 고민을 더 깊게 해야한다는 것이다.</p>\n<h3 id=\"사용자의-자유도를-보장하는-컴포넌트-만들기\" style=\"position:relative;\">사용자의 자유도를 보장하는 컴포넌트 만들기<a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90%EC%9D%98-%EC%9E%90%EC%9C%A0%EB%8F%84%EB%A5%BC-%EB%B3%B4%EC%9E%A5%ED%95%98%EB%8A%94-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"사용자의 자유도를 보장하는 컴포넌트 만들기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이 이야기를 듣고 나서 프론트엔드 개발자들이 제일 먼저 논의했던 내용은 “사용자에게 어디까지 자유도를 보장해줄 것인가?”였다.</p>\n<p>예를 들어 <code class=\"language-text\">Button</code> 같은 클리커블한 컴포넌트를 만든다고 생각해보자. HTML을 사용하여 이 엘리먼트가 클릭이 가능한 녀석이라는 것을 표현하기 위한 방법은 하나가 아니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>난 버튼<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>나도 버튼<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>버튼은 아닌데 버튼처럼 써도 돼<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>사실 나도 버튼이기는 해<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 마지막의 <code class=\"language-text\">role=\"button\"</code>처럼 버튼을 표현하는 경우에는 개발자가 별도로 엘리먼트에 <code class=\"language-text\">tabindex</code>를 사용하여 포커스가 가능하게 만들어주고, 포커싱된 상태에서 엔터나 스페이스를 눌렀을 때 버튼이 활성화 될 수 있도록 <code class=\"language-text\">click</code>이나 <code class=\"language-text\">keydown</code> 이벤트 핸들러도 정의해주어야 시맨틱한 버튼이라고 인정받을 수 있기 때문에 조금 이상하다고 생각이 될 수는 있지만, 중요한 건 저게 에러가 아니라는 것이다.</p>\n<p>어떤 조직의 철학에 종속되어있는 디자인 시스템이라면 그냥 ”<code class=\"language-text\">Button</code> 컴포넌트는 반드시 <code class=\"language-text\">button</code>으로만 렌더될 수 있다”는 규칙을 만들어 버린다고 해도 팀 내에 그 설계 철학에 대한 내용이 공유되어 있기만 하면 상관없을 수 있지만, UI Kit은 사용자가 기존에 HTML을 사용하던 방법을 최대한 훼손하지 않으면서 UI에 관련된 부분만을 도와주어야 하기 때문에 이런 고민이 필수적이다.</p>\n<p>결국 이런 고민을 거듭하던 끝에 최대한 HTML의 원래 사용법을 살려주자는 방향으로 의사 결정이 되었고, 어쩌다보니 필자가 이 프로젝트의 첫 번째 컴포넌트를 설계하게 되었다.</p>\n<h3 id=\"text-컴포넌트를-만들어-보자\" style=\"position:relative;\">Text 컴포넌트를 만들어 보자<a href=\"#text-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EC%9E%90\" aria-label=\"text 컴포넌트를 만들어 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자가 개발을 맡게 된 녀석은 바로 <code class=\"language-text\">Text</code> 컴포넌트이다. UI Kit을 정의할 때 디자이너 분들이 시스템의 뼈대가 되는 타이포그래피와 컬러 팔레트를 먼저 정의해야 한다고 해서 자연스럽게 타이포그래피를 표현할 수 있는 이 컴포넌트를 가장 먼저 개발하게 된 것이다.</p>\n<p>물론 타이포그래피와 관련된 스타일 데이터 자체는 SCSS나 CSS Variable로도 제공이 되고 JS 모듈로도 제공이 되지만, 타이포그래프를 사용할 때마다 일일히 모듈을 임포트하거나 클래스를 작성하게 하는 것은 상당히 귀찮으므로 그냥 컴포넌트를 하나 제공해주는 것이 깔끔하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// 대략 이런 느낌으로 말이다</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">typography</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>h1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">나는 머릿말 1이야</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">typography</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">나는 콘텐츠야</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>그리고 HTML 상에서 이런 문자열을 렌더하려고 할 때 <code class=\"language-text\">span</code>, <code class=\"language-text\">p</code>, <code class=\"language-text\">div</code> 등 다양한 엘리먼트를 사용할 수 있기 때문에 <code class=\"language-text\">Text</code> 컴포넌트 또한 동일하게 여러 엘리먼트로 렌더될 수 있도록 추상적인 인터페이스를 가져야한다.</p>\n<p>즉, <code class=\"language-text\">Text</code> 컴포넌트는 타이포그래피라는 관심사만을 가져야 하고 이 관심사를 제외한 나머지 모든 기능은 HTML의 <code class=\"language-text\">p</code>나 <code class=\"language-text\">span</code> 등을 사용할 때와 완전 동일하게 만들어줘야 한다는 것이다.</p>\n<h2 id=\"조금씩-추상화하면서-설계하기\" style=\"position:relative;\">조금씩 추상화하면서 설계하기<a href=\"#%EC%A1%B0%EA%B8%88%EC%94%A9-%EC%B6%94%EC%83%81%ED%99%94%ED%95%98%EB%A9%B4%EC%84%9C-%EC%84%A4%EA%B3%84%ED%95%98%EA%B8%B0\" aria-label=\"조금씩 추상화하면서 설계하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>앞서 이야기한 것과 같이 사용자의 자유도를 보장하기 위해 리액트 내에서 HTML 엘리먼트를 사용할 때의 동작을 훼손해서는 안 되므로, 이 컴포넌트의 프로퍼티는 기본적으로 렌더 대상이 되는 엘리먼트의 속성들을 그대로 재현해야한다.</p>\n<p>또한 사용자는 이 컴포넌트를 사용할 때 <code class=\"language-text\">span</code>이든 <code class=\"language-text\">p</code>든 <code class=\"language-text\">div</code>든 원하는 엘리먼트를 렌더할 수 있어야한다. 물론 사용자에게 <code class=\"language-text\">span</code>이나 <code class=\"language-text\">p</code>만을 사용하여 렌더하는 것을 강제할 수도 있겠지만 그런 룰을 강제하는 것 자체가 타이포그래피라는 관심사를 벗어나는 일이기 때문이다.</p>\n<p>그리고 필자는 타입스크립트를 사용하여 개발을 하고 있고, 이 라이브러리는 <code class=\"language-text\">*.d.ts</code> 파일을 사용하여 타입을 제공해야 하기 때문에 사용자가 렌더하기를 원하는 엘리먼트에 맞춰서 컴포넌트의 프로퍼티 타입도 유연하게 변경되어 IDE의 자동완성기능과 컴파일러의 정적 타입 분석을 제대로 이용할 수 있어야 한다.</p>\n<p>이 포스팅에서는 필자가 삽질했던 추상화 과정을 총 HTML 엘리먼트 흉내내기, 커스텀 프로퍼티 추가하기, 원하는 엘리먼트로 자유롭게 렌더할 수 있게 만들기의 3가지 단계로 나누어서 이야기해볼까 한다.</p>\n<h3 id=\"html-엘리먼트-흉내내기\" style=\"position:relative;\">HTML 엘리먼트 흉내내기<a href=\"#html-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8-%ED%9D%89%EB%82%B4%EB%82%B4%EA%B8%B0\" aria-label=\"html 엘리먼트 흉내내기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>가장 먼저 해볼 수 있는 설계는 바로 HTML 엘리먼트를 그대로 흉내내는 것이다. 사실 리액트는 원하는 엘리먼트의 속성 타입들을 편하게 사용할 수 있도록 <code class=\"language-text\">HTMLAttributes</code>라는 타입을 제공하고 있기 때문에 그냥 이렇게만 해도 HTML 엘리먼트를 똑같이 따라할 수는 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Props</span> <span class=\"token operator\">=</span> HTMLAttributes<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Text</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVR42qWSSVPbQBBG9UOQFwzWYm3IkseSxlpHsiIvMsRJgErlkFw4ceL/f2lLJFQqHAI5vOqunpo30z0j5axFzLZwyhvMwwbVpx84Pjxh9/UB7fdHiP0d4oyDxzkMK4KiLaDqrGe27NGXv2tSmN+B+w2u/BJ+cwsva7GKa1x5KWw3gWFzEgVEiJkRQO8gAYmnqt+hqH3eCZcsQ1F9BC+OCPkO4WqPKG7BkwOipEVI+Sq9Ia47TvWyvkXd3EOsv0BQXlA81TxWQXKojUXxGfnhG4Q40I1W0M0ImhHSrfgLZh9ntOa4KbxFgbmfw6f4KzftiFq2MljBDm7yAaVokIsNbaYWpg6GQx2DofYcX5AHGmRZxRkhD3rOZAUXlw4kTfOhh1sw0ZJwi7zYIM0a2E6I0bmJ8cT6i/NXGE9MTJU5JPVZGJTXqNd7ZHkDTfcwHM0wPgn/kdHYIKELSaHXYXwNlm6wrvaw7KBrqTv1/cKyE6Zp3c3hLaLXhVGJoNiBc9HP6X+FS14h3RxhWezNs/tT2D3KAq6fwGE5LumrTC7ez1T18BPzUXff/O3mNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"html attrs\" title=\"\" src=\"/static/1425cce2ebe3ccbafd98dd47f519e8e6/6af66/html_attrs.png\" srcset=\"/static/1425cce2ebe3ccbafd98dd47f519e8e6/69538/html_attrs.png 160w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/72799/html_attrs.png 320w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/6af66/html_attrs.png 640w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/d9199/html_attrs.png 960w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/d56e1/html_attrs.png 1130w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>사실 이렇게만 해도 자동완성까지 이쁘게 해준다</small>\n</center>\n<p>하지만 이 타입은 사용할 수가 없다. 왜냐하면 <code class=\"language-text\">HTMLAttributes</code> 타입은 말 그대로 리액트에서 제공하는 HTML에 대한 기본적인 속성들만 가지고 있는 녀석이라 <code class=\"language-text\">ref</code>나 <code class=\"language-text\">key</code> 등을 포함하고 있지 않기 때문이다.</p>\n<p>물론 리액트에서 HTML 요소를 타이핑할 때 사용하는 <code class=\"language-text\">DetailedHTMLProps</code>라는 타입을 사용하면 프로퍼티에 <code class=\"language-text\">ref</code>를 포함시킬 수는 있지만, 그렇다고 해서 실제로 이 컴포넌트가 <code class=\"language-text\">ref</code>를 통과시키지는 않는다. 이건 말 그대로 타입만 선언되는 것이다.</p>\n<p>이 내용은 리액트의 공식 문서의 Forwarding Refs 섹션에도 잘 나와있다.</p>\n<blockquote>\n<p>refs will not get passed through. <strong>That’s because ref is not a prop.</strong> Like key, it’s handled differently by React.</p>\n<p><strong>Forwarding Refs</strong> - <em><a href=\"https://reactjs.org/docs/forwarding-refs.html#forwarding-refs-in-higher-order-components\" target=\"_blank\" rel=\"nofollow\">reactjs.org</a></em></p>\n</blockquote>\n<p>결국 진짜 리액트에서 사용되는 HTML 요소들을 똑같이 재현하려면 상위 컴포넌트에서 <code class=\"language-text\">ref</code>를 받아서 하위 컴포넌트로 넘겨줄 수 있는 기능까지 모두 구현해야 한다는 뜻이고, 이때 사용하는 것이 바로 <code class=\"language-text\">forwardRef</code> 함수이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> Text <span class=\"token operator\">=</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n  props<span class=\"token operator\">:</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span>HTMLSpanElement<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">forwardRef</code> 함수는 자신의 인자로 들어온 함수에게 <code class=\"language-text\">props</code>와 <code class=\"language-text\">ref</code>를 전달해주는데, 이때 전달된 레퍼런스를 의미하는 <code class=\"language-text\">ref</code>는 별도의 인자로 넘어오기 때문에 자연스럽게 <code class=\"language-text\">props</code>는 <code class=\"language-text\">ref</code>를 제외한 프로퍼티들 이라고 유추할 수 있다.</p>\n<p>다행히 리액트는 컴포넌트의 프로퍼티 중에서 <code class=\"language-text\">ref</code>만 제외한 나머지 프로퍼티들 쉽게 타이핑할 수 있도록 <code class=\"language-text\">ComponentPropsWithoutRef</code>라는 타입을 제공하고 있기 때문에 굳이 개발자가 <code class=\"language-text\">Omit</code> 유틸리티 타입을 사용하여 <code class=\"language-text\">ref</code> 키를 직접 제거하지 않아도 된다.</p>\n<h3 id=\"커스텀-프로퍼티-추가하기\" style=\"position:relative;\">커스텀 프로퍼티 추가하기<a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"커스텀 프로퍼티 추가하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>자, 여기까지 오면 <code class=\"language-text\">Text</code> 컴포넌트는 <code class=\"language-text\">span</code> 엘리먼트와 동일한 기능을 가진 컴포넌트가 된다. 이렇게 <code class=\"language-text\">forwardRef</code> 함수를 사용하여 상위 컴포넌트가 받은 모든 것들을 하위 컴포넌트에게 그대로 넘겨주는 패턴은 고차 컴포넌트(Higher-order Component)를 만들 때도 사용되는 일반적인 기법이다. <small><del>(사실 HOC 때문에 더 많이 쓴다)</del></small></p>\n<p>하지만 <code class=\"language-text\">Text</code> 컴포넌트는 <code class=\"language-text\">span</code> 엘리먼트의 속성 뿐 아니라 UI Kit에서 자체적으로 제공하려고 하는 타이포그래피와 관련된 커스텀 프로퍼티도 받을 수 있어야 하는데, 이대로라면 그냥 <code class=\"language-text\">span</code> 그 자체가 되어버린다. 그래서 방금 선언했던 <code class=\"language-text\">span</code> 엘리먼트의 속성 타입에 커스텀 프로퍼티에 대한 타입을 추가해주어야한다.</p>\n<p>어차피 타입스크립트는 <code class=\"language-text\">&amp;</code>(intersection) 타입을 제공하고 있으니 이걸 사용하면 간단하게 구현할 수 있을 것 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Text <span class=\"token operator\">=</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> typography<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span>HTMLSpanElement<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>인터섹션 타입은 서로 다른 두 개의 타입을 합치는 타입이기 때문에 이렇게 하면 필자가 선언한 <code class=\"language-text\">typography</code>라는 프로퍼티와 <code class=\"language-text\">span</code> 엘리먼트의 속성들을 묶어서 <code class=\"language-text\">TextProps</code>라는 타입으로 선언할 수 있다.</p>\n<p>하지만 이 방법에도 문제는 존재하는데, 바로 <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> 타입에서 제공되는 프로퍼티와 커스텀 프로퍼티가 동일한 키를 가지고 있는 경우에 대해서 대응이 불가능하다는 점이다.</p>\n<p>이게 정확히 어떤 상황을 이야기하는 것인지 한번 예시를 통해 알아보도록 하자. 만약 필자가 커스텀 프로퍼티에 <code class=\"language-text\">customId</code>라는 프로퍼티를 추가하게 되면 이 프로퍼티는 필자가 선언한 타입 대로 잘 추론이 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  customId<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVR42l2OyU6EUBBF+RgnHvMkM3SjSCOIaJC2o3GtGzf+f44POvbCxcm9t+pWUooQMaqI0MwcP6xxvRuc4Igns+1XK8suiBts55jDZIftVehmgeve4bj1qkobjcR+gxs2tNM7236i7l5o2pluOFBUA/mmZ9fNPIxv5NE9WdkzTh/kUh1ryyY7UKYzW6nK9e0TZjFg7V+xvr/Qfj4Jnvey8IgvP1q+PFejlbOrkAst4VKy+EVVI5Oz6IQizBRVTxBWhu6WK5r0Qk/RjBTxn6VrJCe/3up/85Rf/RqGJ2pYMcQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"o\" title=\"\" src=\"/static/1b2d749ba284a65bbbc99d320d58cd84/6af66/o.png\" srcset=\"/static/1b2d749ba284a65bbbc99d320d58cd84/69538/o.png 160w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/72799/o.png 320w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/6af66/o.png 640w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/3d4b6/o.png 712w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>추론이 아주 잘 되는 만족스러운 모습</small>\n</center>\n<p>그러나 <code class=\"language-text\">id</code>와 같이 <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> 타입 내부에 이미 선언되어 있는 녀석을 커스텀 프로퍼티에 추가하면 인터섹션 타입으로 엮은 두 개의 타입이 충돌하면서 필자가 선언했던 <code class=\"language-text\">id</code> 프로퍼티가 쌩뚱맞게 <code class=\"language-text\">undefined</code>로 추론되는 것을 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVR42lVSyXajMBD0t0wW24h9FwLMJjBmsSGxM8l7k8P8/z/UNMppDvVEC3VVV3fvmCXwqoU4aBxJNqBsFkTijCjuEHg9eLgg9EdoeoY9S3DQhTo1I/0PB8bhJmfsHHqYeC2sfEJWjOBZj0reEEQNwriFIJEsH5GXI2JBInEDnnZEspFzHDfQ956KMpwaO9s5Iec9jEDiVA2o6gmyvcHyTkQgESYNDDuF6WTQTaGItvh57xMCdT69+vj17EB3KuwMevjCQrLNoYkFurgq7OMJLB7higFFNVIrrqhJqKgmVW3TLihIfLs7X+4UX2H7kipkKRq3hwgmpOWMqltRtStKsn2Zf6Pt3zCMD1wIXf+uIM8rpusnLtMD/XDHMH0oN6bbECFZ4x71y5W4rZ94PP5gWb7w+PhWqpIENlIvrCipVQRbXDYzRN6rOzco8XLwfyxbdg5jaywTCLIromIBL1eImpLaN+rnivQ0UvIFcXqmoUhESUfDopi2Ic0HhLyD4xWw/A47zzyhShcE1YJ4/ouo+YaZ3XEMZ/jJRFW+U5/uqOU72f4iogm2VxNBo+BS3xy/gWkXJDjT2hCzTQosqRHlLUKyZtBuHlkMRhPd1mKbrKYnate2WKf/GxhN3bAyuovxRNPmQuIfEJ0zdUJD/0MAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"x\" title=\"\" src=\"/static/c9307aeb70ad34301279d568ff3762a8/6af66/x.png\" srcset=\"/static/c9307aeb70ad34301279d568ff3762a8/69538/x.png 160w,\n/static/c9307aeb70ad34301279d568ff3762a8/72799/x.png 320w,\n/static/c9307aeb70ad34301279d568ff3762a8/6af66/x.png 640w,\n/static/c9307aeb70ad34301279d568ff3762a8/6029f/x.png 906w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>혼란스러워 하는 컴파일러.jpg</small>\n</center>\n<p>이렇게 컴파일러가 혼란스러워하는 이유는 타입스크립트에서 인터섹션 타입을 통해 타입을 합친다는 것이 상속과 오버라이딩 개념이 아니기 때문이다. 컴파일러 입장에서는 저런 식으로 타입을 선언하면 커스텀 프로퍼티의 <code class=\"language-text\">id</code>와 <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> 타입 내부의 <code class=\"language-text\">id</code> 중 어떤 것이 맞는 것인지 알 수가 없게 되어 버린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">A</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">B</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 둘 다 id를 가지고 있는데...?</span>\n<span class=\"token comment\">// 뭐가 맞는거임...?</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Result</span> <span class=\"token operator\">=</span> <span class=\"token constant\">A</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그리고 이 이슈는 타입이 아니라 인터페이스로 선언하고 <code class=\"language-text\">extends</code>를 사용하여 상속해도 동일하게 발생한다. 동일한 프로퍼티를 가진 녀석을 상속해서 오버라이딩하려고 하면 “Interface ’*’ incorrectly extends…” 어쩌고 하는 컴파일 에러가 발생한다.</p>\n<p>사실 우리가 자바스크립트의 <code class=\"language-text\">Object.assign</code> 같은 메소드를 사용하여 객체를 병합할 때는 첫 번째 인자의 객체가 가진 프로퍼티와 두 번째 객체가 가진 프로퍼티가 중복된다면 암묵적으로 첫 번째 객체의 프로퍼티를 두 번째 객체의 프로퍼티로 오버라이딩해버린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 두 번째 객체의 프로퍼티로 암묵적 오버라이딩된다</span>\n<span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>하지만 타입스크립트는 정적 타이핑 언어이고 명확한 선언을 지향하므로 이런 암묵적인 오버라이딩을 절대 허용하지 않는 것이다.</p>\n<p>그래서 이런 식으로 타입을 병합하려면 먼저 <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys\" target=\"_blank\" rel=\"nofollow\">Omit</a> 유틸리티 타입을 사용해서 오버라이딩하려고 하는 프로퍼티를 제거한 후 병합해야지 문제가 없다. 하지만 매번 <code class=\"language-text\">Omit</code>을 사용해서 타입을 병합하는 건 상당히 귀찮은 일이므로 아예 병합용 유틸 타입을 하나 선언해서 사용하는 것이 손목 건강과 정신 건강에도 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Combine<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">Combine</code> 타입은 제네릭으로 2개의 타입을 받은 후 <code class=\"language-text\">K</code> 타입에서 <code class=\"language-text\">T</code> 타입이 가진 프로퍼티와 중복되는 녀석들을 몽땅 제거한 후 인터섹션 타입으로 병합한다. 즉, <code class=\"language-text\">T</code> 타입에 선언된 키가 <code class=\"language-text\">K</code> 타입에도 존재한다면 오버라이딩하는 것이다.</p>\n<p>이제 <code class=\"language-text\">Combine</code> 타입을 사용해서 필자가 사용하고자 하는 커스텀 프로퍼티와 <code class=\"language-text\">span</code> 엘리먼트의 속성들을 병합하여 최종적인 <code class=\"language-text\">Text</code> 컴포넌트의 프로퍼티를 선언하면 된다.</p>\n<p>만약 개발자가 직접 선언한 커스텀 프로퍼티에 <code class=\"language-text\">span</code> 엘리먼트의 속성과 중복되는 값이 있더라도 <code class=\"language-text\">Combine</code> 타입이 자동으로 오버라이딩을 해줄 것이므로, 개발자는 별 다른 고민없이 평소처럼 프로퍼티를 선언할 수 있게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"원하는-엘리먼트로-렌더할-수-있게-만들기\" style=\"position:relative;\">원하는 엘리먼트로 렌더할 수 있게 만들기<a href=\"#%EC%9B%90%ED%95%98%EB%8A%94-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8%EB%A1%9C-%EB%A0%8C%EB%8D%94%ED%95%A0-%EC%88%98-%EC%9E%88%EA%B2%8C-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"원하는 엘리먼트로 렌더할 수 있게 만들기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 <code class=\"language-text\">Text</code> 컴포넌트는 자유롭게 커스텀 프로퍼티와 렌더 대상인 HTML 엘리먼트의 프로퍼티를 모두 포함하는 유연한 컴포넌트가 되었지만 아직 한 가지 추상화가 더 남아있다.</p>\n<p>현재까지 만든 <code class=\"language-text\">Text</code> 컴포넌트는 무조건 <code class=\"language-text\">span</code> 엘리먼트로만 렌더가 가능하다. 그러나 앞서 여러 번 이야기했듯이 HTML을 사용하면서 컨텐츠를 표현할 때 반드시 <code class=\"language-text\">span</code>만 사용하라는 법은 없기 때문에 이제 렌더 대상인 엘리먼트까지도 자유롭게 바꿀 수 있는 녀석으로 한 단계 더 추상화해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>p<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token comment\">// p로 렌더되며, p 엘리먼트의 속성이 타이핑됨</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token comment\">// a로 렌더되며, a 엘리먼트의 속성이 타이핑됨</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>일반적으로는 <code class=\"language-text\">as</code>라는 프로퍼티를 사용하여 렌더하고 싶은 엘리먼트의 태그 명을 넘기게 되면 해당 엘리먼트로 렌더해주는 기능을 제공하는데, 필자도 그냥 이걸 똑같이 구현하기로 했다. <small><del>(사실 그냥 부트스트랩 배꼈다)</del></small></p>\n<p>앞선 추상화들에서는 렌더 대상이 되는 엘리먼트가 반드시 <code class=\"language-text\">span</code>이라는 보장이 있었기 때문에 그저 타입을 잘 합쳐주기만 하면 문제를 해결할 수 있었지만, 이제는 렌더 대상이 뭐가 될지 모르기 때문에 제네릭 타입으로 유연하게 받아와야 한다.</p>\n<p>다시 한번 아까 선언했던 <code class=\"language-text\">Text</code> 컴포넌트의 프로퍼티를 가져와서 살펴보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>필자는 이 타입이 <code class=\"language-text\">span</code> 뿐 아니라 다양한 엘리먼트를 받을 수 있도록 만들고 싶기 때문에 <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> 타입이 제네릭으로 받고 있는 <code class=\"language-text\">span</code>이라는 녀석을 <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code> 처럼 변수화해야한다.</p>\n<p>즉, <code class=\"language-text\">as</code>라는 프로퍼티로 HTML 엘리먼트의 이름을 받고 나면 이 이름과 매칭되는 엘리먼트 속성 타입을 찾아 아까 만들었던 <code class=\"language-text\">Combine</code> 타입으로 <code class=\"language-text\">Text</code> 컴포넌트의 프로퍼티에 합쳐주면 되는 것이다.</p>\n<h4 id=\"제네릭과-타입-추론-부셔보기\" style=\"position:relative;\">제네릭과 타입 추론 부셔보기<a href=\"#%EC%A0%9C%EB%84%A4%EB%A6%AD%EA%B3%BC-%ED%83%80%EC%9E%85-%EC%B6%94%EB%A1%A0-%EB%B6%80%EC%85%94%EB%B3%B4%EA%B8%B0\" aria-label=\"제네릭과 타입 추론 부셔보기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이제 어떻게 하면 필자가 생각했던 설계대로 타이핑을 할 수 있을 지 한번 생각해보도록 하자. 우선 가장 바깥 쪽에 위치해서 사용자로부터 직접 제네릭 타입 <code class=\"language-text\">T</code>를 받는 <code class=\"language-text\">Text</code> 컴포넌트의 프로퍼티부터 직접 타이핑해보면서 생각해보는 것이 좋을 것 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Text 컴포넌트의 커스텀 프로퍼티 선언</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Props&lt;T>는 ComponentPropsWithoutRef&lt;T>에 이 값을 그대로 넘겨준다.</span>\n<span class=\"token comment\">// 그리고 커스텀 프로퍼티 내부의 as에도 T 타입을 바인딩해준다.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  Combine<span class=\"token operator\">&lt;</span>TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 27.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABNUlEQVR42k1Q2U7DMBDMp0BbkjbOacfxkctJSGkljqIiUSH+/zeGTSIBD6uZ2R2Pvfb2pkeQWESpW4olLaJ8RJQNa2/GpENMyBbdk6dDGDcLHlgF3xfwA4FdUMALq0cYPqKxr5DuHWb8QN1cYPor7PkL1XSDPt2If6OePlG7K9R4hezfUHQvkMMFglCRbrtneJNyOJojdNrB6jOUGMADDhFKiEiBH2bU4Ix4WILvBXENGRuUtJlMK0hCm9XoqbxW9+AZNVSPkjcUSFW0kJyMeQVTEs8tzWq0diSfQ03flIQFdncM/ibGwybClvj2nsEzFJSnFoIOq6KhAAfXPtFr6QIKr8yw4Kzn/tCd0NYTNPnCPW2SVWAHCp+Dtwk8QeZ1HQVBq/xW+MeX2TJfcdHROiv+n2EaP2hjxDu+cW7LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"generic error\" title=\"\" src=\"/static/3823464654cd20a44beec2c98e1f9580/6af66/generic_error.png\" srcset=\"/static/3823464654cd20a44beec2c98e1f9580/69538/generic_error.png 160w,\n/static/3823464654cd20a44beec2c98e1f9580/72799/generic_error.png 320w,\n/static/3823464654cd20a44beec2c98e1f9580/6af66/generic_error.png 640w,\n/static/3823464654cd20a44beec2c98e1f9580/d9199/generic_error.png 960w,\n/static/3823464654cd20a44beec2c98e1f9580/21b4d/generic_error.png 1280w,\n/static/3823464654cd20a44beec2c98e1f9580/081ff/generic_error.png 2182w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>틀렸다 주인놈아...!</small>\n</center>\n<p>행복회로를 돌려보면 아무 문제 없을 것 같았던 필자의 타이핑에 왜 이런 문제가 발생한 것일까? 어차피 전부 <code class=\"language-text\">T</code>라는 타입 변수를 사용하고 있고 그걸 그대로 넘겨준 것 뿐인데 말이다.</p>\n<p>왜냐하면 <code class=\"language-text\">ComponentPropsWithoutRef</code>타입이 제네릭으로 받을 수 있는 타입이 <code class=\"language-text\">ElementType</code>으로 정해져있기 때문이다. 필자가 작성한 타입은 타입 변수 <code class=\"language-text\">T</code>에 대한 어떠한 제약도 없기 때문에 <code class=\"language-text\">Props&lt;T></code>에서 받은 타입을 바로 <code class=\"language-text\">ComponentPropsWithoutRef</code>에게 넘기려고 하면 컴파일러가 에러를 뱉어내는 슬픈 상황이 발생하는 것이다.</p>\n<p>그래서 타입 변수 <code class=\"language-text\">T</code>를 <code class=\"language-text\">ComponentPropsWithoutRef</code> 타입에게 안전하게 넘겨주고 싶다면, <code class=\"language-text\">Text</code> 함수가 제네릭으로 타입 변수를 받아오는 시점부터 전부 <code class=\"language-text\">ElementType</code> 타입만 사용할 수 있도록 제한을 만들어주어야 할 필요가 있다.</p>\n<p>제네릭 타입을 사용할 때 타입 변수로 들어올 수 있는 타입을 제한하려면 그냥 ”<code class=\"language-text\">T</code>는 <code class=\"language-text\">ElementType</code>을 상속한 녀석이어야해!”라고 명시적으로 컴파일러에게 알려주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  Combine<span class=\"token operator\">&lt;</span>TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이렇게 작성한 타이핑을 보면 <code class=\"language-text\">Text</code> 컴포넌트가 제네릭 타입을 받고 있기 때문에 <code class=\"language-text\">&lt;Text&lt;'span'> /></code>처럼 이상한 문법으로 컴포넌트를 호출해야한다고 생각할 수도 있지만 사실은 그렇지 않다.</p>\n<p>왜냐하면 이 제네릭 타입 <code class=\"language-text\">T</code>는 추론이 가능한 녀석이기 때문이다. 위의 예시를 보면 <code class=\"language-text\">Text</code> 컴포넌트가 받고 있는 타입 변수 <code class=\"language-text\">T</code>는 <code class=\"language-text\">TextProps&lt;T></code>를 거쳐 <code class=\"language-text\">TextBaseProps&lt;T></code>로 넘어간 후 그대로 <code class=\"language-text\">as</code>에 바인딩되고 있다.</p>\n<p>결국 이 타입 변수들은 사실 모두 같은 녀석이라는 것이 보장된다는 것이다.</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">Text&lt;T></code>의 타입 변수 <code class=\"language-text\">T</code></li>\n<li><code class=\"language-text\">TextProps&lt;T></code>의 타입 변수 <code class=\"language-text\">T</code></li>\n<li><code class=\"language-text\">TextBaseProps&lt;T></code>의 타입 변수 <code class=\"language-text\">T</code></li>\n<li><code class=\"language-text\">as</code> 프로퍼티에 바인딩 된 타입 변수 <code class=\"language-text\">T</code></li>\n<li><code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code>의 타입 변수 <code class=\"language-text\">T</code></li>\n</ol>\n<hr>\n<p>그 말인 즉슨 이 중 한 군데만이라도 타입 변수 <code class=\"language-text\">T</code>가 어떤 타입인지 명확하게 알 수 있다면 나머지도 자연스럽게 추론이 가능하다는 이야기이다.</p>\n<p>이렇게 타입스크립트의 타입 추론 기능을 이용하면 <code class=\"language-text\">Text</code> 컴포넌트를 사용할 때 타입 변수 <code class=\"language-text\">T</code>의 기본 값으로 <code class=\"language-text\">span</code>을 할당하거나, 혹은 <code class=\"language-text\">as</code> 프로퍼티의 값으로 <code class=\"language-text\">span</code>과 같은 값이 들어온다면 나머지 <code class=\"language-text\">T</code>들도 자동으로 동일한 타입으로 채워지도록 만들 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">&lt;</span>Text <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// -> T는 알아서 span으로 추론된다</span>\n<span class=\"token operator\">&lt;</span>Text <span class=\"token keyword\">as</span><span class=\"token operator\">=</span><span class=\"token string\">\"p\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// -> T는 p로 추론된다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이제 대략적인 타입 추론의 흐름을 파악했으니 타이핑을 제대로 해보도록 하자.</p>\n<h4 id=\"as-프로퍼티-타이핑을-추상화하기\" style=\"position:relative;\">as 프로퍼티 타이핑을 추상화하기<a href=\"#as-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0-%ED%83%80%EC%9D%B4%ED%95%91%EC%9D%84-%EC%B6%94%EC%83%81%ED%99%94%ED%95%98%EA%B8%B0\" aria-label=\"as 프로퍼티 타이핑을 추상화하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>사실 <code class=\"language-text\">as</code> 프로퍼티처럼 원하는 엘리먼트로 렌더할 수 있는 기능을 가지는 컴포넌트는 <code class=\"language-text\">Text</code>만 있는 것이 아니다. 아직은 개발이 끝나지 않았지만, 페이지의 레이아웃을 담당하는 <code class=\"language-text\">Grid</code> 컴포넌트처럼 추상화된 관심사를 가진 컴포넌트들은 모두 이런 프로퍼티가 필요할 것이다.</p>\n<p>하지만 지금 필자가 <code class=\"language-text\">TextBaseProps</code> 타입에 <code class=\"language-text\">as</code>라는 프로퍼티를 직접 넣은 것처럼, 이런 컴포넌트의 프로퍼티를 선언할 때마다 개발자가 이 작업을 매번 수행하고 제네릭 타입의 추론 관계를 생각해야한다면 꽤나 불편할 것이다.</p>\n<p>그래서 다른 컴포넌트를 만들 때도 쉽게 <code class=\"language-text\">as</code>라는 프로퍼티를 추가할 수 있도록 이 부분의 타이핑을 최대한 추상화해놓을 필요가 있다. 이런 느낌으로 말이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 텍스트 컴포넌트의 프로퍼티</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// T 타입을 추론할 수 있는 as 프로퍼티를 자동으로 포함하고</span>\n<span class=\"token comment\">// T 타입으로 HTML 엘리먼트 속성까지 타이핑 해주는 OverridableProps!</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">OverridableProps</code> 타입은 특정 컴포넌트가 <code class=\"language-text\">as</code> 프로퍼티를 사용하여 HTML 엘리먼트 이름을 받고, 내부적으로 해당 엘리먼트의 속성 타입을 찾아 바인딩해주는 부분만 추상화한 것이다.</p>\n<p>이렇게 필요한 부분을 추상화해두면 필자가 아닌 다른 개발자는 <code class=\"language-text\">ComponentPropsWithoutRef</code>을 사용해야한다던가 <code class=\"language-text\">Combine</code> 타입을 사용할 때 타입 변수 <code class=\"language-text\">T</code>를 <code class=\"language-text\">ElementType</code>으로 제한해야한다던가 하는 귀찮은 부분을 생각하지 않고도 <code class=\"language-text\">as</code> 프로퍼티를 쉽고 빠르게 추가할 수 있을 것이다. <small>(…라고 행복회로를 돌려봅니다)</small></p>\n<p>이제 <code class=\"language-text\">OverridableProps</code>를 만들기 위해서 아까 만들었던 녀석들을 조금씩 고쳐보도록 하자.</p>\n<p>아까 필자가 만들었던 <code class=\"language-text\">Combine&lt;T, K></code> 유틸 타입은 제네릭으로 받을 수 있는 타입에 제한이 없지만, 우리가 합쳐야 하는 HTML 엘리먼트의 속성들을 의미하는 <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code>는 제네릭으로 받을 수 있는 타입이 <code class=\"language-text\">ElementType</code>으로 제한되어 있다.</p>\n<p>그래서 제일 먼저 이 타입들을 쉽게 일치시킬 수 있는 작업을 먼저 해주어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">K</span><span class=\"token punctuation\">,</span>\n  ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// ComponentPropsWithoutRef 타입의 존재를 감추자</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">CombineElementProps</code>는 합치려고 하는 타입 두 가지 중 하나를 HTML 엘리먼트를 의미하도록 제한하고, 이 타입을 그대로 <code class=\"language-text\">ComponentPropsWithoutRef</code>에게 넘겨주기 때문에 타입이 깨지는 에러가 발생하지 않는다.</p>\n<p>그리고 <code class=\"language-text\">K</code> 타입 변수의 기본 타입을 <code class=\"language-text\">unknown</code>으로 정의함으로써 이 유틸 타입을 사용할 때는 반드시 <code class=\"language-text\">K</code>에 해당하는 타입인 컴포넌트의 프로퍼티를 입력하도록 강제하였다.</p>\n<p>같은 이유로 <code class=\"language-text\">CombineElementProps</code>로 제네릭 타입을 넘겨야하는 <code class=\"language-text\">TextProps</code> 역시 자신이 받는 타입을 <code class=\"language-text\">ElementType</code>으로 제한해야한다. 이후 이 <code class=\"language-text\">CombineElementProps</code>를 사용하여 <code class=\"language-text\">as</code> 프로퍼티를 추가해주는 <code class=\"language-text\">OverridableProps</code> 타입을 정의하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 제네릭 타입 추론이 가능한 as 프로퍼티까지 추가된다. </span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이제 <code class=\"language-text\">OverridableProps</code> 타입을 사용하여 상속하기를 원하는 <code class=\"language-text\">ElementType</code>과 자신이 선언한 컴포넌트의 프로퍼티만 넘기면 편하게 <code class=\"language-text\">as</code> 프로퍼티를 가진 타입을 만들어낼 수 있다.</p>\n<h2 id=\"전체-코드를-한-번에-보자\" style=\"position:relative;\">전체 코드를 한 번에 보자<a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C%EB%A5%BC-%ED%95%9C-%EB%B2%88%EC%97%90-%EB%B3%B4%EC%9E%90\" aria-label=\"전체 코드를 한 번에 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>아무래도 코드와 설명이 오가는 포스팅에서는 전체 코드의 맥락을 파악하기가 쉽지 않으니, 맥락을 파악하기 쉽도록 전체 코드를 복붙한 내용을 올린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Combine<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">K</span><span class=\"token punctuation\">,</span>\n  ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> typography <span class=\"token operator\">=</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">as</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> <span class=\"token keyword\">as</span> <span class=\"token operator\">??</span> <span class=\"token string\">'span'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> Component <span class=\"token operator\">=</span> target<span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Component\n      ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span>\n      <span class=\"token comment\">// 대충 타이포그래피 클래스 렌더하는 로직</span>\n      <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span>Text<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">typeof</span> Text<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 처음 <code class=\"language-text\">Text</code> 컴포넌트를 개발하는 사람으로 필자가 당첨되었을때는 조금 우습게 보고 있었다. 뭐 컴포넌트 겨우 하나기도 하고 그렇게 대단한 기능이 있는 것도 아니니까 금방 할 거라고 생각했는데, 생각보다 타이핑이 빡세더라.</p>\n<p>물론 필자는 회사에서든 개인 프로젝트든 주로 타입스크립트를 사용하고 있기는 하지만, 이렇게 겹겹이 추론되어야하는 제네릭 타이핑을 직접 작성할 일은 몇 번 없었기 때문에 그냥 그때마다 구글신께 여쭤봐서 어떻게든 해결하고 잊어버리는 상황의 연속이었던 것 같다.</p>\n<p>이번에 삽질하면서 처음 알게 된 사실이지만, <code class=\"language-text\">@types/react</code>의 내용은 그렇게 읽기에 빡센 편이 아니기 때문에 심심할 때 한번 쭉 살펴보는 것도 좋은 것 같다.</p>\n<p>필자가 이번에 많이 사용했던 <code class=\"language-text\">ComponentPropsWithoutRef</code> 타입은 내부적으로 4-5단계의 타입 참조 체인을 가지고 있는데, 여기서 참조하고 있는 타입들만 쭉 흝어봐도 평소에 유용하게 사용할 수 있는 녀석들을 많이 만날 수 있어서 좋았다.</p>\n<blockquote>\n<p><code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code> > <code class=\"language-text\">PropsWithoutRef&lt;T></code> > <code class=\"language-text\">ComponentProps&lt;T></code> > <code class=\"language-text\">JSX.IntrinsicElements[T]</code> > …(몇 개 더 있음)</p>\n</blockquote>\n<p>막상 파일을 까보면 3천 줄 정도라서 전부 읽기에는 좀 부담스럽다고 느낄 수 있지만, 필자처럼 타입 참조 체인을 타면서 읽다보면 생각보다 핵심적인 타입의 개수는 그렇게 많지 않다. 게다가 HTML의 엘리먼트를 키로 가지고 있는 <code class=\"language-text\">IntrinsicElements</code> 같은 녀석들이 차지하는 라인 비중이 높기도 하다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 523px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42p1U13LiMADM/3/jgbvc5N5N2ezKXOYejhCiGY0woNU2+eNyuWDfd2xNizoxGPMCU2FhoxhtVaPvB9R1g6quUfF5nBZ8Nz7+At5uN5TWIogidKVFZzI0BOj6HtfrFT8dDnDbNvewcvWDAEmaoiTYn9MZnu/D2gpZljuGbwFqDYIQhoB5WTrwtu1wOnsEP6FpWwzjiGmanrL+knylZG0wJkVHRgO9bOmbWLddh45znme39sMA7fsWUENsPM9HQ7AmoWyukrnvx+b7/f4LyWGEhCwt2UlyFMfOv5Df26p6H1Ab5WHBpEMm3rBOQRi6cGSJ5A5O8gsPtSrNhF3s8xIjJQ/0S78piJFBLMviaqTnl6FoTDRdbAp5VxRI4sSFJCABPAviZW0SY1jy6ugkPwv06KN9s9jr6him8rAoEZNh2x4eytu6adyUly9rI5OzPGeiGeaM95lXT1L3x4H6n2QvPFRTV/U5w4eHR20OyQrozE6ePc+lqlB0Q96ULA8DSs5QsjYR3zi5wuEB8rZ69FD9vj8pugNc/wGUbyYx7s0Tkq089Omfx4P0CpO3Yj/Oq7tF8v2/Hmp6ZJETcMlKdGQpkJTgGb8f+pGpRy750JQs+Oj2yOdt278APwHFyiI78x0EuwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"typesafe actions\" title=\"\" src=\"/static/39be8850618810d1ad5bd7e3d45ddd2d/3e286/typesafe-actions.png\" srcset=\"/static/39be8850618810d1ad5bd7e3d45ddd2d/69538/typesafe-actions.png 160w,\n/static/39be8850618810d1ad5bd7e3d45ddd2d/72799/typesafe-actions.png 320w,\n/static/39be8850618810d1ad5bd7e3d45ddd2d/3e286/typesafe-actions.png 523w\" sizes=\"(max-width: 523px) 100vw, 523px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>솔직히 <a href=\"https://github.com/piotrwitek/typesafe-actions/blob/master/src/type-helpers.ts\" target=\"_blank\">typesafe-actions</a>에 비하면 리액트의 타입 가독성은 상당히 혜자라고 볼 수 있다<br>여긴 진짜 지옥 그 자체...</small>\n</center>\n<p>이상으로 타입스크립트로 추상화하는 컴포넌트 설계 전략 포스팅을 마친다.</p>","fields":{"slug":"20201128-making-your-components-extensible-with-typescript","path":"/2020/11/28/making-your-components-extensible-with-typescript/","lang":"ko"},"frontmatter":{"title":"타입스크립트로 추상화하는 컴포넌트 설계 전략","subTitle":"제네릭과 타입 추론을 활용한 유연한 React 컴포넌트 설계","date":"Nov 28, 2020","categories":["프로그래밍","아키텍처","자바스크립트"],"tags":["React","TypeScript","타입스크립트","리액트","제네릭 타입","Generic Type"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/471db2e1aa1eff1dab0d1d6d36e45405/3a812/thumbnail.jpg","srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/3a812/thumbnail.jpg 320w,\n/static/471db2e1aa1eff1dab0d1d6d36e45405/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/fc5c5/thumbnail.webp 320w,\n/static/471db2e1aa1eff1dab0d1d6d36e45405/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/471db2e1aa1eff1dab0d1d6d36e45405/2d839/thumbnail.jpg","srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"aac88ea6-e27a-5342-8c9c-31f7bf4334d0","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9A%B0%EB%A6%AC%EB%8A%94-%EA%B3%A0%EC%9A%A9%EB%90%98%EC%97%88%EB%8B%A4\">우리는 고용되었다</a></p>\n<ul>\n<li><a href=\"#%EC%99%9C-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%93%A4%EC%9D%80-%EC%A2%8B%EC%9D%80-%EC%84%A4%EA%B3%84%EB%A5%BC-%ED%95%98%EB%A0%A4%EA%B3%A0-%ED%95%98%EB%8A%94%EA%B1%B8%EA%B9%8C\">왜 개발자들은 좋은 설계를 하려고 하는걸까?</a></li>\n<li><a href=\"#%EC%9A%B0%EB%A6%AC%EB%8A%94-%EB%B0%A9%EB%A7%9D%EC%9D%B4-%EA%B9%8E%EB%8D%98-%EB%85%B8%EC%9D%B8%EC%9D%B4-%EC%95%84%EB%8B%88%EB%8B%A4\">우리는 방망이 깎던 노인이 아니다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4%EC%99%80-%EC%A2%8B%EC%9D%80-%EC%84%A4%EA%B3%84%EC%9D%98-%EA%B7%A0%ED%98%95%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90\">비즈니스와 좋은 설계의 균형을 찾아보자</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B4%EA%B2%8C-%EC%A0%95%EB%A7%90-%EC%84%A4%EA%B3%84%EB%A5%BC-%EA%B3%A0%EB%AF%BC%ED%95%A0-%EA%B0%80%EC%B9%98%EA%B0%80-%EC%9E%88%EC%9D%84%EA%B9%8C\">이게 정말 설계를 고민할 가치가 있을까?</a></p>\n<ul>\n<li><a href=\"#%ED%8A%BC%ED%8A%BC%ED%95%9C-%EC%84%A4%EA%B3%84%EB%B3%B4%EB%8B%A4-%EB%B9%A0%EB%A5%B8-%EA%B0%9C%EB%B0%9C-%EC%86%8D%EB%8F%84%EA%B0%80-%EC%A4%91%EC%9A%94%ED%95%A0-%EB%95%8C\">튼튼한 설계보다 빠른 개발 속도가 중요할 때</a></li>\n<li><a href=\"#%EC%A7%80%EC%9B%8C%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EB%A7%8C%EB%93%A4-%EB%95%8C%EB%8F%84-%EC%9E%88%EB%8B%A4\">지워야 하는 기능을 만들 때도 있다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 개발자와 멀고도 가까운 주제인 비즈니스에 대해서 한번 이야기를 해보려고 한다. 개발자들은 늘 좋은 설계와 튼튼한 어플리케이션을 만들기 위해 고심하고 노력하는 사람들이다. 하지만 언제나 좋은 설계를 위한 선택이 옳은 선택일 수는 없다. 왜냐하면 우리는 프로그래밍을 사용하여 돈을 벌기 위해 고용된 사람들이기 때문이다.","html":"<p>이번 포스팅에서는 개발자와 멀고도 가까운 주제인 비즈니스에 대해서 한번 이야기를 해보려고 한다. 개발자들은 늘 좋은 설계와 튼튼한 어플리케이션을 만들기 위해 고심하고 노력하는 사람들이다. 하지만 언제나 좋은 설계를 위한 선택이 옳은 선택일 수는 없다. 왜냐하면 우리는 프로그래밍을 사용하여 돈을 벌기 위해 고용된 사람들이기 때문이다.</p>\n<!-- more -->\n<p>보통 개발자들에게 좋은 설계라고 했을 때 TDD, DDD, SOLID, 변경에 열린 구조, 순수 함수 등 기술적인 토픽들에 대해서 이야기하는 사람들은 굉장히 많지만 막상 비즈니스에 대한 이야기를 하는 사람은 많지 않은데, 개발자가 단순히 프로그래밍만 하는 사람이 아니라 프로그래밍을 이용한 비즈니스를 하는 사람들이라는 사실을 생각해보면 조금은 이상한 상황이라는 생각이 들었다.</p>\n<h2 id=\"우리는-고용되었다\" style=\"position:relative;\">우리는 고용되었다<a href=\"#%EC%9A%B0%EB%A6%AC%EB%8A%94-%EA%B3%A0%EC%9A%A9%EB%90%98%EC%97%88%EB%8B%A4\" aria-label=\"우리는 고용되었다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>간혹 프리랜서 개발자로 살아가시는 분들도 계시지만 필자를 포함한 대부분의 개발자들은 회사에 고용되어 일을 하고 있다. 그런데 회사라는 조직이 개발자를 고용하는 이유는 무엇일까?</p>\n<p>당연히 여러분의 프로그래밍 스킬을 사용하여 돈을 벌기 위해서이다. 모두 알다시피 회사는 철저한 이익 집단이기 때문에 회사가 여러분에게 지급하는 연봉은 일종의 투자이다. 만약 회사가 여러분에게 3천만원의 연봉을 지급한다면, 당연히 회사는 최소 3천만원 혹은 그 이상의 가치를 가진 이익을 벌어다 주기를 바란다.</p>\n<p>그 말인 즉슨 개발자는 단순히 프로그래밍을 잘 해야 하는 사람이 아니라, 프로그래밍을 바탕으로 돈을 잘 만들어낼 수 있는 사람이어야 한다는 의미이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3d398f9d4ae6fd2c9152ec66398c531d/eea4a/money.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaGJnKKMj//EABoQAQEAAgMAAAAAAAAAAAAAAAECAxIEMTP/2gAIAQEAAQUCUnHVVqZROR5ZLdjr/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRABAAIBBQEAAAAAAAAAAAAAAQACMQMQESFBkf/aAAgBAQAGPwJV4gJZtTLt17manyE//8QAGhAAAwEBAQEAAAAAAAAAAAAAAAERMSFBof/aAAgBAQABPyGQwlqFuhihaaM0zafQ0noWus4f/9oADAMBAAIAAwAAABDTP//EABcRAAMBAAAAAAAAAAAAAAAAAAARIVH/2gAIAQMBAT8QaJh//8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8QGf/EAB4QAQACAQQDAAAAAAAAAAAAAAEAESExQWFxUYHB/9oACAEBAAE/EHRvrrHXMZgoAlFmWnOGmbMFwn3mVarAeBn04hh3NcjUUx2s9z//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"money\" title=\"\" src=\"/static/3d398f9d4ae6fd2c9152ec66398c531d/c08c5/money.jpg\" srcset=\"/static/3d398f9d4ae6fd2c9152ec66398c531d/0913d/money.jpg 160w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/cb69c/money.jpg 320w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/c08c5/money.jpg 640w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/6a068/money.jpg 960w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/eea4a/money.jpg 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>회사가 개발자를 채용하는 이유는 결국 돈을 만들어 내기 위해서이다</small>\n</center>\n<p>우리가 일하고 있는 IT업을 전통적인 제조업에 빗대어 생각해보면 개발자나 디자이너의 역할은 물건 만드는 장인이다. 단지 만들어 내는 것이 실물에서 소프트웨어로 변화했을 뿐이다. 그리고 장인은 단지 제품의 퀄리티만 신경쓰는 것이 아니라, 유저의 실제 만족도, 회사의 비즈니스적인 요구사항 등 많은 것을 동시에 책임져야하고 신경써야하는 사람이다.</p>\n<p>즉, 회사라는 이익 집단에는 그냥 프로그래밍만 잘 하는 사람보다는 프로그래밍을 이용해서 유저를 만족시킬 수 있고, 이에 따라오는 매출을 만들어 낼 수 있는 사람이 필요하다는 것이다.</p>\n<p>그렇기 때문에 많은 조직들이 좋은 장인들을 채용하기 위해 프로그래밍 스킬 외에도 원활한 제품 개발을 위해 필요한 이해관계자들과의 원활한 협업, 리더십, 비즈니스 인사이트, 유저 경험에 대한 이해 등 다양한 스킬을 요구하고 있는 것이다.</p>\n<p>게다가 원활한 협업 스킬이나 유저 경험에 대한 이해 같은 것들은 당장 돈이 되지는 않더라도 장기적으로 보면 회사의 브랜딩과 문화에도 큰 영향을 미치며, 결국 그 조직이 일하는 방식과 퍼포먼스까지도 변화시킬 수 있는 것들이기 때문에 제대로 된 조직이라면 이런 점을 소홀히 하지 않는다.</p>\n<p>즉, 개발자는 단지 프로그래밍을 하는 사람이 아니라 자신이 소속된 조직의 제품이 시장에서 성공하기 위해 달리는 많은 팀원들 중 하나라고 말할 수 있으며, 그렇기 때문에 개발자는 프로그래밍에만 집중하는 것이 아니라 전체적인 조직의 비즈니스 이슈들도 함께 볼 수 있는 넓은 시야를 가져야 한다.</p>\n<h3 id=\"왜-개발자들은-좋은-설계를-하려고-하는걸까\" style=\"position:relative;\">왜 개발자들은 좋은 설계를 하려고 하는걸까?<a href=\"#%EC%99%9C-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%93%A4%EC%9D%80-%EC%A2%8B%EC%9D%80-%EC%84%A4%EA%B3%84%EB%A5%BC-%ED%95%98%EB%A0%A4%EA%B3%A0-%ED%95%98%EB%8A%94%EA%B1%B8%EA%B9%8C\" aria-label=\"왜 개발자들은 좋은 설계를 하려고 하는걸까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>사실 개발자로 일을 하다보면 내 자식같은 제품을 위해 시간을 들여서라도 좋은 설계를 하고 싶은 마음이 들 수 밖에 없다.</p>\n<p>개발자들은 경험적으로 지금 설계를 개판으로 해놓으면 그 부채가 언젠가 부메랑이 되어 반드시 돌아온다는 것을 알고 있다. 그 대표적인 예시가 개발자들 사이에서 흔한 밈으로 구사되고 있는 “레거시 코드”이다.</p>\n<p>프로그램의 흐름을 알아보기 힘들고 가독성이 떨어지는 코드는 잠재적으로 수 많은 버그의 가능성을 품고 있다. 심지어 버그가 발생해도 요상한 예외처리 때문에 버그 트래킹 툴에 잡히지 않는 경우도 허다하다. 결국 이렇게 잠재적인 버그를 품고 있는 설계는 유저에게는 큰 불편함으로 다가올 수 있으며 심한 경우에는 유저의 중요한 해피 모먼트를 해쳐 유저를 이탈시킬 수도 있다.</p>\n<p>더군다나 좋지 않은 설계를 개선하지 않고 그 위에 기능을 계속 붙힌다면 결국 좋지 않은 설계만 늘어날 수 밖에 없다. 개발은 매 기능을 만들 때마다 다 지우고 새로 시작하는 것이 아니라 이전에 만들어놓은 설계에 계속 이어 붙히는 것이기 때문이다.</p>\n<p>이렇게 한번 설계가 어긋나게 되면 작은 것 하나만 건드려도 예상하기 어려운 곳에서 버그가 발생하는 상황이 잦아지기 때문에 개발자는 더 신중해질 수 밖에 없고, 조직의 제품 개발 속도도 점점 느려진다. 심지어 나중에는 제품에 새로운 기능을 붙히고 싶어도 설계 때문에 정말로 불가능한 경우까지도 발생할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 327px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4ae506992fda7327aecbb04a40446576/cafdf/no.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 156.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAfABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDBAL/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAP/2gAMAwEAAhADEAAAAW75jrwIlshSJkXJ/wD/xAAcEAEAAgIDAQAAAAAAAAAAAAABAgMAERASIRP/2gAIAQEAAQUCELd6k+r8c96ZKlUjvhsnuDIyNTI//8QAGREBAQADAQAAAAAAAAAAAAAAAQACERIT/9oACAEDAQE/ATBbzZ3dF//EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAgEBPwGqxH//xAAcEAACAgMBAQAAAAAAAAAAAAAAARAREiFhUbH/2gAIAQEABj8CdmeNrsP05D2jUNZHwuz/xAAcEAEBAQACAwEAAAAAAAAAAAABEQAhMUFRoWH/2gAIAQEAAT8h/QjrUDqopcqMC+Dczb2995JV7aaO2aw7zFE8fdx7+aSrtN3ictyxEXxN/9oADAMBAAIAAwAAABCg6v7/xAAcEQACAgIDAAAAAAAAAAAAAAAAAREhMUFxkfD/2gAIAQMBAT8QyFcjS4IUpd6HNb90f//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxBA3TimGrf/xAAfEAEAAwACAgMBAAAAAAAAAAABABEhMUFRYXGR8MH/2gAIAQEAAT8QRByImI31BIZqwejD1cuig+CYAcqNfxzE3a7V7+pXywwZQ9B3PcRqsKJqDjnmV5/z5iyo6hhb3VzaSDln5Mgt+N2Naz//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no\" title=\"\" src=\"/static/4ae506992fda7327aecbb04a40446576/cafdf/no.jpg\" srcset=\"/static/4ae506992fda7327aecbb04a40446576/0913d/no.jpg 160w,\n/static/4ae506992fda7327aecbb04a40446576/cb69c/no.jpg 320w,\n/static/4ae506992fda7327aecbb04a40446576/cafdf/no.jpg 327w\" sizes=\"(max-width: 327px) 100vw, 327px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>1년 전에 짠 내 코드를 보는 나의 심정...</small>\n</center>\n<p>결국 개발자들이 좋은 설계를 하려는 이유는 제품의 코드 퀄리티를 높혀 빠른 개발 속도를 유지하고 예상하기 힘든 버그를 예방하기 위해서이다. 하지만 앞서 이야기했듯이 좋은 장인은 단지 프로그래밍만 바라보는 것이 아니라 비즈니스까지 포괄하는 넓은 시야를 가질 수 있어야 한다. 개발자는 결국 제품을 만들어서 유저에게 제공하는 사람들이기 때문이다.</p>\n<p>유저에게 초점을 맞춰서 다시 생각해보면, 결국 개발자들이 좋은 설계를 하는 이유는 빠른 개발 속도를 유지함으로써 유저들에게 늘 빠른 속도로 개선된 제품을 제공할 수 있는 환경을 구축하고, 알 수 없는 버그로 인해 유저들이 이상한 경험을 하지 않게 하기 위한 것이라고 말할 수 있다.</p>\n<blockquote>\n<p>즉, 좋은 설계를 하는 것은 <strong>유저의 좋은 경험</strong>을 위한 것이다</p>\n</blockquote>\n<p>하지만 잘 생각해보면, 개발자가 유저의 좋은 경험을 위해 할 수 있는 것은 좋은 설계만 있는 것이 아니다. 좋은 설계라는 것은 유저에게 좋은 경험을 선사하기 위해 할 수 있는 수 많은 방법 중에서 하나일 뿐이기 때문이다. 좋은 개발자는 이런 여러가지 선택지 중에서 현재 상황에서 가장 적은 비용으로 최대의 이익을 가져올 수 있는 방법을 선택할 수 있어야한다.</p>\n<h3 id=\"우리는-방망이-깎던-노인이-아니다\" style=\"position:relative;\">우리는 방망이 깎던 노인이 아니다<a href=\"#%EC%9A%B0%EB%A6%AC%EB%8A%94-%EB%B0%A9%EB%A7%9D%EC%9D%B4-%EA%B9%8E%EB%8D%98-%EB%85%B8%EC%9D%B8%EC%9D%B4-%EC%95%84%EB%8B%88%EB%8B%A4\" aria-label=\"우리는 방망이 깎던 노인이 아니다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>흔히 장인 정신이라고 하면 대표적으로 이야기가 나오는 밈 중에 ”<a href=\"https://brunch.co.kr/@fishz/393\" target=\"_blank\" rel=\"nofollow\">방망이 깎던 노인</a>“이라는 수필이 있다. 이 수필은 중학교 국어 교과서에도 실려있기 때문에 대부분 한번 쯤은 읽어본 기억이 날 것이다.</p>\n<p>이 포스팅에 모든 내용을 작성하기에는 꽤나 내용이 길지만, 대략적으로 간추려 보자면 이런 내용이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cd2e52ab949020fabea93b1cb50994d7/066f9/batman.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAG8d2KrhNLQIR//xAAbEAEBAAIDAQAAAAAAAAAAAAABAgADEBESIf/aAAgBAQABBQJVdfuWKfMtU9UZWxmq+YvH/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAEQAhESIWFR/9oACAEBAAY/AnodWL5D8Fi+Fman/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMSFhgf/aAAgBAQABPyEo6C9yXlQmCIF8fY5N/EQZDgjpLYnZIlawn//aAAwDAQACAAMAAAAQj8gD/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQMBAT8QY//EABYRAAMAAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPxAKP//EAB0QAQACAgMBAQAAAAAAAAAAAAEAESExQWGBkbH/2gAIAQEAAT8QrLumiDErcm2DO/I1A5DBhhBKW7nX2/JgJuBTYfkoGDsK4l8srsa5iTi3pqErNva3P//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"batman\" title=\"\" src=\"/static/cd2e52ab949020fabea93b1cb50994d7/066f9/batman.jpg\" srcset=\"/static/cd2e52ab949020fabea93b1cb50994d7/0913d/batman.jpg 160w,\n/static/cd2e52ab949020fabea93b1cb50994d7/cb69c/batman.jpg 320w,\n/static/cd2e52ab949020fabea93b1cb50994d7/066f9/batman.jpg 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<blockquote>\n<p><em>어느 날 동대문을 지나다가 길에서 방망이를 깎아 파는 노인에게 방망이를 한 벌 사려고 한다. 근데 이 노인이 가격을 꽤나 세게 불러버림…</em></p>\n<p><strong>주인공:</strong> “어르신 좀 싸게 해주세요”</p>\n<p><strong>노인:</strong> “방망이 하나 가지고 뭔 에누리? 그냥 다른데 가서 사”</p>\n<p><strong>주인공:</strong> “엥 그럼 그냥 살테니까 잘 깎아나 주세요”</p>\n<p><em>그 후 노인이 방망이를 깎는 것을 지켜보고 있자니, 뭔 놈의 늑장을 이렇게 부리는지 답답하다. 아니 내가 볼 땐 다 된 것 같은데, 왜 계속 깎고 있는거야…? 시간도 없구만…</em></p>\n<p><strong>주인공:</strong> “이제 된 것 같은데 그냥 주세요”</p>\n<p><strong>노인:</strong> “끓을 만큼 끓어야 밥이 되지, 생쌀이 재촉한다고 밥이 되나”</p>\n<p><strong>주인공:</strong> “아니 사는 사람이 괜찮다는데 왜 그러세요…저 이러다가 차 놓쳐요”</p>\n<p><strong>노인:</strong> “아 그럼 그냥 다른 데 가서 사”</p>\n<p><strong>주인공:</strong> “후…그럼 그냥 한번 마음대로 깎아보세요”</p>\n<p><strong>노인:</strong> “재촉하면 할수록 늦어지니까 그냥 가만히 기다려봐”</p>\n<p><em>결국 차는 놓치고 기분도 잡쳤음. 손님 생각은 하나도 안하고 자기 멋대로인데 이 따위로 장사를 해서 장사가 잘 될 턱이 없지.</em></p>\n<p><em>…라고 생각했지만 나중에 살펴보니 방망이 퀄리티가 장난이 아님…</em></p>\n</blockquote>\n<p>대충 이런 내용인데, 마지막에는 장인의 깊은 뜻을 헤아리지 못한 주인공이 노인에게 찾아가서 사과하고 싶다는 말로 끝맺는다.</p>\n<p>이 수필이 주는 교훈을 딱 한 마디로 줄여보자면 “장인정신에 대한 존중”이기에 뭔가를 만들어내는 사람들이 가져야하는 마인드의 예시로 꽤나 자주 인용되고 있다.</p>\n<p>작품 속 노인은 자신의 방망이 깎는 스킬에 대한 자부심이 큰 사람이다. 아마 오랫동안 이 업을 해왔을 것이고, 그렇기에 이 일에 대한 자신의 신념이나 가치관 같은 것도 명확할 것이다. 그리고 이런 점은 개발 업계에서 오랫동안 굴러온 개발자들도 딱히 다르지는 않을 것이라고 생각한다.</p>\n<p>하지만 이 훈훈한 이야기와 현실 사이에는 결정적인 차이가 한 가지 있다. 이 노인은 애초에 자기 신념과 맞지 않는 사람에게는 물건을 팔 마음이 없었다는 점이다. 이건 마치 유저들이 “아니, 이 앱은 왜 이렇게 패치가 느려?”라고 하는 상황 속에서 개발자가 “난 꼼꼼하게 좋은 설계를 해야하는게 중요하니까 이게 싫으면 다른 앱 쓰세요.”라고 하는 것과 다를 바가 없다.</p>\n<p>이렇게 생각해보니 이 노인이 더 이상 프로페셔널한 장인으로 보이지는 않는 것 같다. 진짜 프로페셔널이라면 유저가 원하는 시간 안에 최대한의 퀄리티를 뽑아내어 유저도 만족하고 나도 만족할 수 있는 방법을 찾아야하는 것 아닐까?</p>\n<p>작품 속의 주인공은 노인이 방망이를 깎는 모습을 보면서 “이 정도면 다 된 것 같은데 왜 계속 하는거지?”라는 불만을 품는다. 결국 노인을 개발자라고 생각하면 작품 속 주인공은 유저들이다.</p>\n<p>그리고 이 착한 주인공과 다르게 유저들은 “왜 이래?”라는 생각을 하는 순간 더 이상 기다려주지 않으며, 개발자가 열심히 설계한 제품의 퀄리티를 보면서 감탄하지도 않는다. 유저들은 뭔가 이상하다고 생각이 드는 순간 여러분의 제품을 버리고 다른 제품을 사용할 것이기 때문이다.</p>\n<h2 id=\"비즈니스와-좋은-설계의-균형을-찾아보자\" style=\"position:relative;\">비즈니스와 좋은 설계의 균형을 찾아보자<a href=\"#%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4%EC%99%80-%EC%A2%8B%EC%9D%80-%EC%84%A4%EA%B3%84%EC%9D%98-%EA%B7%A0%ED%98%95%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"비즈니스와 좋은 설계의 균형을 찾아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>앞서 이야기했듯이 결국 개발자들은 비즈니스적인 요소까지 고려하면서 동시에 어플리케이션의 좋은 구조까지 고민해야 하지만 많은 개발자들이 좋은 설계에 대한 기술적인 공부에 비해 정작 비즈니스에 대한 고민은 많이 하지 않는다.</p>\n<p>개발자들이 생각하는 일 잘 하는 개발자는 프로그래밍을 잘하는 사람, 조금 더 넓게 보면 다른 개발자를 끌어줄 수 있는 능력이 있는 사람 정도인 경우가 많다. 그래서 우리는 일 잘하는 개발자가 되기 위해 함수형 프로그래밍 같은 패러다임이나 각종 디자인 패턴과 가이드라인들을 공부하고 실무에 녹이기 위해서 노력한다.</p>\n<p>하지만 필자가 생각했을 때 진짜 일을 잘 하는 개발자의 조건 중 하나는 저런 것도 다 하면서, 비즈니스적인 인사이트까지 있는 사람이라고 생각한다. 아니, 그 외에도 다양한 소프트 스킬을 모두 가지고 있어야 한다고 생각한다. 여러 번 이야기했듯이 개발자는 현실과 동떨어져 컴퓨터와 단 둘이 프로그래밍만 하는 사람이 아니기 때문이다.</p>\n<p>사실 필자가 이야기하려고 하는 좋은 설계라는 것은 단순히 중복되는 로직을 추상화하여 분리하거나 변경과 확장이 용이한 패턴을 사용하는 것이 아니다. 상황에 따라서는 기존에 존재하는 코드를 그냥 복붙하는 것이 좋은 설계일 수도 있으며, 매우 급박한 상황이라면 설계고 자시고 일단 작동만 가능하게 만들어서 배포하는 것이 좋은 설계일 수도 있다.</p>\n<h2 id=\"이게-정말-설계를-고민할-가치가-있을까\" style=\"position:relative;\">이게 정말 설계를 고민할 가치가 있을까?<a href=\"#%EC%9D%B4%EA%B2%8C-%EC%A0%95%EB%A7%90-%EC%84%A4%EA%B3%84%EB%A5%BC-%EA%B3%A0%EB%AF%BC%ED%95%A0-%EA%B0%80%EC%B9%98%EA%B0%80-%EC%9E%88%EC%9D%84%EA%B9%8C\" aria-label=\"이게 정말 설계를 고민할 가치가 있을까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 어플리케이션을 설계할 때 가장 선행되어야 할 고민은 바로 **“이게 정말 설계를 고민할만한 가치가 있는가”**이다. 이게 설계를 할만한 가치가 있는 것이라고 판단이 되면 그때부터 제대로 된 설계에 대한 고민을 시작하는 것이 맞다.</p>\n<p>기본적으로 어플리케이션의 튼실한 설계는 당장의 단기적인 이익보다는 장기적인 관점에서의 이익으로 돌아올 가능성이 높기 때문에 내가 설계를 위해 투자하는 이 시간이 미래에 이익으로 돌아오지 못할 가능성이 더 크다면 그냥 설계를 대충 해버리고 일단 빠르게 기능을 만들어서 배포하는 것이 더 나을수도 있기 때문이다. 비즈니스는 항상 Cost vs Benefit이다.</p>\n<p>설계를 고민하는 시간에 무슨 코스트가 들어가냐고 할 수도 있지만 잘 생각해보면 분명히 소모되는 코스트는 존재한다. 여러분의 인건비 및 서버비, 사무실 월세 등 아무것도 하지 않고 시간만 흘러도 회사 통장에서 돈은 매일 줄줄 새나간다.</p>\n<p>특히 인건비 같은 경우는 의외로 많은 분들이 놓치고 있는 부분인데, 이게 은근히 돈이 많이 나간다. 지금 각자 계산기를 켜서 “내 하루 일당 x 팀 인원 수”를 계산해보자. 한 팀에 연봉 3천만원을 받는 사람이 5명만 있어도 하루에 52만원 정도는 그냥 깨져나간다.</p>\n<p>즉, 기능 하나를 만드는 데 5일이 걸렸다면 회사는 그 개발 비용으로 대충 “260만원 + @“를 지출하게 되는 것이다. 이 플러스 알파에는 아까 이야기했던 사무실 월세나 서버비 등이 포함되어있다.</p>\n<p>물론 이 기능을 배포해서 중요한 전환률이 더 줄었다면 손해액은 더 커진다. 이게 바로 회사가 제품을 개발할 때 감수해야하는 리스크이다. 게다가 A/B테스트라도 한다고 치면 지금 내가 만드는 이 기능은 일주일도 안 되서 지워질 운명일 수도 있다.</p>\n<p>이런 상황 속에서 무조건 설계를 한다고 시간을 잡아먹는 것이 반드시 정답은 아니다. 즉, 우리는 “설계를 어떻게 해야할까”를 고민하기 전에 “이게 정말 설계를 할만한 가치가 있나”부터 고민을 시작해야 하는 것이다.</p>\n<h3 id=\"튼튼한-설계보다-빠른-개발-속도가-중요할-때\" style=\"position:relative;\">튼튼한 설계보다 빠른 개발 속도가 중요할 때<a href=\"#%ED%8A%BC%ED%8A%BC%ED%95%9C-%EC%84%A4%EA%B3%84%EB%B3%B4%EB%8B%A4-%EB%B9%A0%EB%A5%B8-%EA%B0%9C%EB%B0%9C-%EC%86%8D%EB%8F%84%EA%B0%80-%EC%A4%91%EC%9A%94%ED%95%A0-%EB%95%8C\" aria-label=\"튼튼한 설계보다 빠른 개발 속도가 중요할 때 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>사실 개발자로 일하다보면 빠른 시간 안에 제품을 개발해야하는 상황을 한번 쯤은 마주치기 마련이다. 이때 빠르게 개발해야 하는 이유는 단순히 클라이언트의 요구일수도 있고, 이제 막 시작하는 스타트업이라 빠르게 마켓 핏을 찾아야 하는 상황이거나, 혹은 정말로 회사 통장에 돈이 없어서 오늘 내일 하는 상황일수도 있지만 중요한 것은 이유가 아니라 어쨌든 빨리 제품을 개발해야 한다는 것이다.</p>\n<p>이런 상황 속에서 개발자들은 시간이 조금 들더라도 튼튼한 설계를 하고 넘어갈지, 아니면 일단 대충이라도 빠르게 만들어서 일단 배포를 할 지에 대한 고민에 빠지게 된다.</p>\n<p>물론 개발 실력이 늘면 늘수록 <small><del>(그 동안 삽질하며 익힌)</del></small> 짬에서 나오는 바이브가 있기 때문에 대충 설계했을 때의 코드 퀄리티 또한 점점 높아지기 마련이지만, 아직 경험이 부족한 개발자라면 정말 이해하기 힘든 코드가 나올 수도 있다.</p>\n<p>앞서 이야기했듯이 개발자 눈에는 지금 설계를 제대로 해놓지 않으면 나중에 기술 부채가 되어 돌아올 부분들이 빤히 보인다. 게다가 장기적인 관점에서 봤을 때 설계를 계속 개판친다면 어플리케이션의 복잡도는 점점 기하급수적으로 증가할 것이고, 그러면 나중에는 기능을 붙히고 싶어도 못 붙히는 상황도 발생할 수 있다.</p>\n<p>여기까지 생각이 든 개발자는 결심을 한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/bae1f9c188c8a245cf34964e67bf7c2a/0b533/decision.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvUlEQVR42m2Sy27TUBCGTbsAVix5CXa8QRX6DJXYIlW8AIgNG6SUqkVIqKgIumBVCbFIEUKC9AYtadImqdNc2iZ1rk0dO7F9fGzHPj7H9mGaqFJBjHwZyefzP/PPCGrbUDtIbupirqRpA855tVrdz6SLhYIoFtPbifWPj4823lb2fyRf3RMXhbW5+81623UcGyNhIGNNxoZq57NiEDCAPc/r9ZQwoJAPSiuFeaH0enJvbrL0ZqL+4cbOC+HkcJvzcOgYgqFaFrLc4bBWq9XrUhAEfBSM0YjzoVasLN85Xpqovb99snwrvyhsvZvGeBAw7BNTGPQw0q2hY/vEPdjP2LZtmiYDlNKAXYqj2mp56eYh6C8IW/G77U4DiqMUMWoJpu5gZDu2xaibzR6EYaTreqvVsiwL6qfUxw6TSknxy5P2t4f5z49abYlz16egDLBmQ/NR5A8GF6m9lIlxPB6fnZ2tVCrj+pVe9+X8wtNnzw0Tyz2lXBY5J74PsC3oqmUizDk9rZabZxLB1szMzNTUlCRJY1hV1VgsNv0g1pIkRkgqtUMpZoHNGCgb2HMdzzOzhRz5/stZWe02Gl1Z5lHkjiKKIvjR8ekp/vSVrSXzYs73zSCw4RIIccDa7kUjnUlzz2c6CqNwPDBoXtO0Me9TSvqDUDcLhUOfmkEIsCW4Lrxcw1A2NzeAgfFEVzEu+3oeBOHu7k/KMMgygPtKHxkIViK5njzvdOBECI6PIrwKyMfzz+Vy6cwuGAT8Zc9IsyzThvvoqNAZwdH/gl8SNJFIdDpgJAFZsE3Q+4h4nix3mk2YPoc+ocl/fgGyiqLAE77W69UgcAhBI2Wke56jqt1SqQgMOAQnrhcPOSEEYEhgc1qtM0aHCCkIyYJ80TV0nXhuKvUbFhNkHcfhf9vm+36/r0LS68mKek4IbKRp6L0/bsQb8xWjcbQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"decision\" title=\"\" src=\"/static/bae1f9c188c8a245cf34964e67bf7c2a/0b533/decision.png\" srcset=\"/static/bae1f9c188c8a245cf34964e67bf7c2a/69538/decision.png 160w,\n/static/bae1f9c188c8a245cf34964e67bf7c2a/72799/decision.png 320w,\n/static/bae1f9c188c8a245cf34964e67bf7c2a/0b533/decision.png 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\"그래, 아무리 그래도 설계를 포기하는 건 좀 아닌 것 같아. 기간에 대한 협의를 해봐야겠다...!\"</small>\n</center>\n<p>물론 개발자로써 이런 생각이 드는 것은 너무나도 당연하다. 하지만 중요한 것은 현재 개발을 빨리 해야하는 지금 이 상황이 정확히 어떤 상황인지 파악을 해야 한다는 것이다.</p>\n<p>만약 단순히 PO나 클라이언트가 성격이 급해서 개발 기간을 짧게 산정한 것이라면 당연히 협의를 해볼만한 여지가 있겠지만, 당장 투자를 앞두고 있어서 서둘러 마켓 핏을 찾고 매출 그래프를 이쁘게 그려야하는 등의 급박한 비즈니스 이슈가 있을 수도 있다면 이건 그렇게 좋은 판단은 아니라고 할 수 있다.</p>\n<p>개발자가 아무리 나중을 생각하고 좋은 설계를 한다고 해도 당장 다음 달에 회사가 돈이 없어서 망한다면 결국은 사라지는 코드들이다. 결국 개발자가 회사라는 조직에 소속되어 프로그래밍을 하고 있는 이상 개발자가 생산한 산출물의 목숨줄도 결국 회사 통장의 잔고에 달려있다는 것이다.</p>\n<p>그렇기 때문에 아무리 개발자가 프로그래밍을 주 업무로 삼는 직군이라고 해도 프로그래밍에 대해서만 생각하는 것이 아니라 항상 비즈니스적인 관점에서도 현재 만드는 기능을 바라보고, 경우에 따라서는 설계를 대충 하더라도 지금 당장 빠르게 제품을 개발해서 테스트해보고 마켓 핏을 찾아 유저의 해피 모먼트를 만들고 “AMPU(Average Margin Per User)“를 높히는 것에 집중하는 것이 더 효율적이라는 판단 또한 내릴 수 있어야 한다.</p>\n<p>차라리 이런 상황이라면 어느 정도 설계를 뭉개고 빠르게 개발을 진행하되, 뭉개진 설계로 인해 발생할 수 있는 리스크를 최대한 예측하고 유저의 중요한 액션을 방해할 가능성이 있는 에러를 최대한 핸들링하거나, 혹여나 놓친 에러를 빠르게 대응할 수 있도록 <a href=\"https://sentry.io/welcome/\" target=\"_blank\" rel=\"nofollow\">Sentry</a>나 <a href=\"https://www.bugsnag.com/\" target=\"_blank\" rel=\"nofollow\">Bugsnag</a> 같은 에러 모니터링 솔루션을 도입하고 슬랙같은 사내 메신저에 노티를 와장창 걸어놓는 것이 나을 수도 있다. <small>(물론 버그 픽스는 몸으로 때워야 한다)</small></p>\n<h3 id=\"지워야-하는-기능을-만들-때도-있다\" style=\"position:relative;\">지워야 하는 기능을 만들 때도 있다<a href=\"#%EC%A7%80%EC%9B%8C%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EB%A7%8C%EB%93%A4-%EB%95%8C%EB%8F%84-%EC%9E%88%EB%8B%A4\" aria-label=\"지워야 하는 기능을 만들 때도 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>그리고 가끔은 지워야 하는 기능을 만들어야 하는 경우도 있을 수 있다. 이게 무슨 의미일까? 결국 새로운 기능이라는 것은 제품을 더 업그레이드해서 유저들에게 제공하기 위한 것인데, 지워야 하는 기능이라는 게 있을 수 있나?</p>\n<p>있다. 바로 A/B 테스트를 해야하는 상황이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/62091fb4f8accc0f63f209ba823f6b3a/37523/abtest.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6klEQVR42lWT7VPSWRTH+XP6F/ZVL5t9tzW9aF/s7pTVNtNm7To7Nk0ztTOkm5VNlpMo0WYGiSKBSGNiyrMKiCBhKaCJpIACIkLy4GcvP7Op78ydc873nHvumXPOlSGwv79fF6ylMlx++JzSXlmyD9jvUfsS2/fGyenbPaylM9/xsmqtxl6lIhlDdg+/tCiY8Iclu87X/Yeo6+VqVdKfjdo509ZDNJGS7DpfrdaQHVR4cGF9K0cmXyCV3eZb/lscUvXK5mMJNgufSBVWvvplFl8IzbgLnXWGYYcPk8OLYSbI4Mw86nE348J/iLezYdQWJzrbDEaXl9HpME+ct3nsbhSxdsa875BpLS7im9vEMwVi2V2ixQoJp4/kkJl4Io1BPPBZ9LRSqWK0elhN50R8gZWNHdHzGgOB+3S4G1hObaK1uJEN2Txs7ZYZtM2h15h5PWzFcO8J0VMXSK+sY/KGpIRlkdA8NUcyX6LfNYvirQm1y4Lc+IB2ayNruQx6u09UODFFtlTlqnKEkz/+zoXfrnPmrBz/iQbS0TiG6SClz3vSgIyi8vR2ib9eGDnSfJ6jbX/zQ+s15GOXWN1KMTDpQTY4Oc3uXo2eyQDHbqn46ZGehscGlu91k93IYBL9PKxwxO1nu1RGORHgeEsfP983cLpbj/5dL8mdvJiDSNjeP4IjuIgzuMRmNi81PymmbX3/EUcoQodulI1MjnQuL+m2+Q+4whFSuYNNSIqNsAWXsYeWuKs1I2t9aeapw8+DUQeXlAP8qdJxsVtL55gLlejJv/1mPAtRfIvLtGleo34zi9I0xZUOLc1depo6dXS9cqAZ8wu/SLj+PkLkoYqYUk2kT8eCOHUZ6+olqnhOIrJC9csCfvgUQetToJ9TYQpoGJrtY1jIV4H/0HgfsbQREz9lYZFiw2WKV65TvHmHkryd4j93KV5spvjHVWof41+XeX1nEYX3HE/9jejCcgZCN9CK0zvXROf0ryQLMf4HVsAs8PYe3D0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"abtest\" title=\"\" src=\"/static/62091fb4f8accc0f63f209ba823f6b3a/6af66/abtest.png\" srcset=\"/static/62091fb4f8accc0f63f209ba823f6b3a/69538/abtest.png 160w,\n/static/62091fb4f8accc0f63f209ba823f6b3a/72799/abtest.png 320w,\n/static/62091fb4f8accc0f63f209ba823f6b3a/6af66/abtest.png 640w,\n/static/62091fb4f8accc0f63f209ba823f6b3a/37523/abtest.png 720w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A/B 테스트는 특정 실험군에 기존 UI/UX와 새로운 UI/UX를 함께 배포한 후<br>지표를 비교하고 이긴 쪽을 선택해서 남기는 개발 방법론이다.</small>\n</center>\n<p>예를 들어 현재 우리 서비스의 상품 결제 페이지 내의 결제 전환률이 10% 라고 생각해보자. 그래서 우리는 이 전환률을 끌어올리기 위해 결제 버튼을 더 크고 우람하게 만들고 눈에 더 잘 띄도록 <code class=\"language-text\">#ff0000</code> 라는 과감한 색도 추가했다. 물론 이 결정은 그냥 대충 정한 것이 아니라 PO와 UI/UX 디자이너의 인사이트와 그 외 팀원들의 엄청난 토론과 논쟁, 그리고 고민 끝에 내려진 결정이다.</p>\n<p>자, 그러면  이제 치열한 고민 끝에 결제 버튼이 유저들의 눈에 더 잘 띄게 만들었으니 결제 전환률이 올라갈까? 정답은…</p>\n<center>\n.<br/>\n.<br/>\n.<br/>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b9cbfd621dfb3d56bd15f5a81b7b086d/6b6e1/i_dont_know.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe7lSWD/xAAXEAADAQAAAAAAAAAAAAAAAAAAAREg/9oACAEBAAEFAqLP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQESFBYf/aAAgBAQABPyGmIyTbYEBE8b//2gAMAwEAAgADAAAAEAMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITEQQVH/2gAIAQEAAT8QKAGNTeErao8dHsEwEumwWJ//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"i dont know\" title=\"\" src=\"/static/b9cbfd621dfb3d56bd15f5a81b7b086d/6b6e1/i_dont_know.jpg\" srcset=\"/static/b9cbfd621dfb3d56bd15f5a81b7b086d/0913d/i_dont_know.jpg 160w,\n/static/b9cbfd621dfb3d56bd15f5a81b7b086d/6b6e1/i_dont_know.jpg 268w\" sizes=\"(max-width: 268px) 100vw, 268px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>ㅇㅇ 아무도 모름</small>\n</center>\n<p>사실 어떤 기능을 만들고 유저들에게 공개했을 때 유저들이 어떻게 반응할 지는 아무도 모른다. 유저는 페이지에 들어간 문구 하나만 변경되어도 갑자기 이탈해버리는 기상천외한 존재이기 때문이다. 그렇다고 아무거나 만들어서 일단 배포하자니 앞서 이야기했던 인건비나 서버비 등 금전적 리스크가 너무나도 크다.</p>\n<p>그래서 많은 조직들은 이 리스크를 줄이는 방법으로 A/B 테스트를 선택하는 것이다. 결국 아무리 뛰어난 사람들이 모여서 하루 종일 논의를 하고 고민을 하더라도 결국은 “우리 유저는 이렇게 행동할거야!”라고 예측하는 것에 불과하다.</p>\n<p>즉, 제품을 배포해서 직접 유저가 사용하는 패턴을 관측하고 분석하기 전까지는 어떤 의견이든 결국 뇌피셜일 뿐이기 때문에 이런 테스트를 돌리는 것이다.</p>\n<p>만약 테스트를 배포한 뒤 기존 화면인 Control에서 더 결제 전환률이 높다면 우리는 과감하게 새로 만든 Variant를 버리면 되고, 새로 만든 Variant가 더 전환률이 높다면 Control을 버리면 된다. 이로써 우리는 이번에 개선한 결제 버튼이 잘 작동하든 안 하든간에 최소한의 리스크만 가져가면서 안전하게 전환률을 상승시킬 수 있다.</p>\n<p>또한 효과적인 데이터 분석을 위해서는 변인을 최대한 통제해야 한다. 이것저것 다 바꾼 다음에 테스트를 돌려서 지표가 좋게 나왔다고 해도 우리가 바꾼 것들 중에서 정확히 무엇 때문에 유저가 이런 행동을 했는지 파악하기가 어렵다면 테스트 자체가 의미없어지기 때문이다.</p>\n<p>그래서 A/B 테스트를 적용할 때는 대부분의 기능은 똑같이 두고 확인하고자 하는 부분에만 집중해서 조금만 변경해보는 경우가 많다. 그렇다는 말은 A/B 테스트를 적용하기 위해 코딩을 하다보면 Control과 Variant 간의 공통적인 로직이 많이 나올 수 밖에 없다는 의미이다.</p>\n<p>그래서 어떤 개발자들은 이 공통적인 부분을 추상화하여 효율적인 설계를 하기도 한다. 하지만 여기서 함정이 하나 있다.</p>\n<blockquote>\n<p>둘 중에 하나는 결국 <strong>지워야한다</strong></p>\n</blockquote>\n<p>사실 기존에 만들어 놓은 설계에 이 테스트를 녹이기 위해서 공통된 부분을 추상화하거나 반복되는 코드를 줄인다고 별도의 모듈로 와장창 분리한다거나 하면 오히려 테스트 기능을 지워야할 때 신경써야 하는 부분이 더 늘어나게 되고, 여기서 발생한 실수로 인해 오히려 예상하지 못한 버그를 만들어 버릴 수도 있다.</p>\n<p>게다가 A/B 테스트를 하는 경우에는 정말 사소한 부분까지 동일한 경우가 많고 이런 부분들을 아무리 열심히 추상화해도 정작 테스트가 끝나고 나서 어느 한 쪽을 지우고 나면 의미없는 추상화로 남게되는 경우도 있다.</p>\n<p>그래서 A/B 테스트는 최대한 지우기 쉽게 만들어야 하는 것이다. 이 테스트를 위해 작성하는 코드는 계속 유지보수해야하는 대상이 아니라 결국 길어야 일주일 정도의 테스트가 끝나면 지워질 녀석들이다.</p>\n<p>어차피 Git이 있으니까 마스터 브랜치에 머지했던 커밋을 그냥 리버트하면 되지 않냐고 할 수도 있지만, 그건 기존 기능인 Control이 이겼을 때는 가능할 지 몰라도, 이번에 새로 추가한 기능인 Variant가 이긴다면 리버트 또한 써먹지 못 한다.</p>\n<p>사실 이런 경우에는 추상화고 나발이고 그냥 같은 페이지를 똑같이 한 벌 복사해서 A/B 테스트 변수에 따라 <code class=\"language-text\">/test-page/a</code>나 <code class=\"language-text\">/test-page/b</code>로 랜딩되도록 만들고, A/B 테스트 후 결과가 나오면 그냥 테스트에서 진 페이지 하나를 깔끔하게 날려버리는 것이 오히려 더 좋은 설계일 수도 있다는 것이다.</p>\n<p>만약 이런 비즈니스 상황들을 고려하지 않고 프로그래밍만 바라보는 좁은 시야로 개발을 한다면 아무리 설계를 잘 했다고 해도 오버엔지니어링이라는 피드백만 받는 눈물나는 상황이 발생할 수도 있다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이번 포스팅에서는 비즈니스와 어플리케이션 설계의 관계에 대한 이야기를 했는데, 사실 이런 내용들은 조금 경험이 많으신 개발자들은 대부분 아는 내용일 것이라고 생각한다.</p>\n<p>하지만 개발자로 일을 시작한 지 얼마 안 된 분들의 경우에는 넘치는 열정이 어플리케이션의 구조 개선이나 새롭고 효율적인 기술의 도입 같은 프로그래밍과 관련된 일에만 쏠리는 경우가 왕왕 있다. 사실 필자도 처음 개발자로 일을 시작했을 때 이런 비즈니스 적인 요소들을 전혀 고민하지 않고 레거시를 전부 리팩토링 해야한다고 이야기했다가 조금 더 시야를 넓게 가지라는 피드백을 받기도 했었다. <small>(부끄럽지만 당시에는 그 분이 꼰대라고 생각했다…)</small></p>\n<p>물론 필자도 개발자이기 때문에 변경에 열린 구조, 관심사가 명확한 모듈들, 사이드 이펙트가 없는 함수 같은 것들에 열광한다. 하지만 어찌 되었든 회사에 고용되어 수많은 이해관계자들과 내 제품을 사용하는 유저와 얽혀있는 몸이기 때문에, 현실적으로 이런 것들을 전혀 고려하지 않고 내가 하고 싶은 것들을 하기는 힘들다.</p>\n<p>개발자가 좋은 설계와 기술 부채 청산을 중요하게 생각하는 만큼 디자이너는 UI/UX를 중요하게 생각하며 CEO는 경영을 중요하게 생각한다. 그리고 결정적으로 유저는 자신이 이 서비스를 사용하며 느끼는 경험들만 중요하게 생각한다.</p>\n<p>이렇게 모두 다 각자 중요하게 생각하는 가치가 다르기 때문에 개발자로써 어플리케이션만 생각하는 좁은 시야를 가지면 안 된다는 것을 이 포스팅을 통해 이야기하고 싶었다.</p>\n<p>이상으로 일 잘 하는 개발자는 왜 비즈니스까지 신경쓸까? 포스팅을 마친다.</p>","fields":{"slug":"20201024-buisiness-with-programming","path":"/2020/10/24/buisiness-with-programming/","lang":"ko"},"frontmatter":{"title":"일 잘 하는 개발자는 왜 비즈니스까지 신경쓸까?","subTitle":"개발은 기술을 넘어, 시장과 사람을 이해하는 일이다","date":"Oct 24, 2020","categories":["에세이"],"tags":["좋은 설계","잘하는 개발자","스타트업","비즈니스"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/98be92b406bd23618e3ed1e3eecb9ada/3a812/thumbnail.jpg","srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/3a812/thumbnail.jpg 320w,\n/static/98be92b406bd23618e3ed1e3eecb9ada/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/fc5c5/thumbnail.webp 320w,\n/static/98be92b406bd23618e3ed1e3eecb9ada/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/98be92b406bd23618e3ed1e3eecb9ada/2d839/thumbnail.jpg","srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"0af9635c-1060-5e4c-957b-da161a7d7ba5","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%8C%80%ED%95%9C%EB%AF%BC%EA%B5%AD-%EC%9B%8C%EB%9D%BC%EB%B0%B8%EC%9D%98-%ED%98%84-%EC%A3%BC%EC%86%8C\">대한민국 워라밸의 현 주소</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%BC%EC%9D%80-%EC%A0%95%EB%A7%90-%EB%82%B4-%EC%82%B6%EC%9D%98-%EC%A7%88%EC%9D%84-%EB%96%A8%EC%96%B4%ED%8A%B8%EB%A6%AC%EB%8A%94%EA%B0%80\">일은 정말 내 삶의 질을 떨어트리는가</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9A%B0%EB%A6%AC%EB%8A%94-%EC%99%9C-%EC%9D%BC%ED%95%98%EB%8A%94%EA%B0%80\">우리는 왜 일하는가</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B8%EA%B0%84%EC%9D%84-%EC%9D%BC%ED%95%98%EA%B2%8C-%ED%95%98%EB%8A%94-%EA%B2%83\">인간을 일하게 하는 것</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EB%82%B4-%EC%9B%8C%EB%9D%BC%EB%B0%B8%EC%9D%80-%EC%96%B4%EB%96%A8%EA%B9%8C\">그렇다면 내 워라밸은 어떨까?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"워라밸(Work-Life Balance)는 말 그대로 일과 내 삶의 밸런스를 의미하는 것이다. 사실 이 단어는 워낙 유명하기 때문에 필자가 굳이 이게 뭐다 설명하지 않아도 다들 아실 것이라고 생각한다. 사실 이 단어가 내포하고 있는 의미는 일을 부정적으로 바라보는 시각에서부터 출발한다.","html":"<p>워라밸(Work-Life Balance)는 말 그대로 일과 내 삶의 밸런스를 의미하는 것이다. 사실 이 단어는 워낙 유명하기 때문에 필자가 굳이 이게 뭐다 설명하지 않아도 다들 아실 것이라고 생각한다. 사실 이 단어가 내포하고 있는 의미는 일을 부정적으로 바라보는 시각에서부터 출발한다.</p>\n<!-- more -->\n<p>워라밸이라는 단어가 우리나라에서 유행하기 시작한 지는 얼마 되지 않았기 때문에 최신 유행어라고 생각할 수도 있지만 사실 Work-Life Balance라는 말은 1970년대 후반 영국에서 등장한, 벌써 50년 정도 된 유래가 깊은 단어이다. 필자는 이 단어가 직원들을 쥐어짜내어 실적 올리기에 급급한 기업들의 풍토와 딱히 하고 싶지 않은 일을 돈 때문에 어쩔 수 없이 해야하는 직장인들의 애환이 합쳐져서 나온 비운의 단어라고 생각한다.</p>\n<h2 id=\"대한민국-워라밸의-현-주소\" style=\"position:relative;\">대한민국 워라밸의 현 주소<a href=\"#%EB%8C%80%ED%95%9C%EB%AF%BC%EA%B5%AD-%EC%9B%8C%EB%9D%BC%EB%B0%B8%EC%9D%98-%ED%98%84-%EC%A3%BC%EC%86%8C\" aria-label=\"대한민국 워라밸의 현 주소 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>평소 쏟아져나오는 기사를 보면 우리나라가 OECD 국가들 중에서 근로시간은 엄청 길고, 생산성은 많이 떨어지는 나라라고 극딜을 하는 모습을 자주 볼 수 있다. 하지만 필자는 이런 기사들에 대한 신뢰가 그렇게 큰 편이 아니기에 직접 OECD 사이트에서 통계를 직접 찾아보려고 한다.</p>\n<p>먼저 필자는 OECD 데이터 사이트에서 2018년 1년 간 평균 근로시간인 Hours Worked 통계를 한번 찾아보았다. 혹시 기사들이 잘못된 통계를 바탕으로 작성된 것은 아닐까?</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQ0lEQVR42qVSXVPaUBDlb9fH1k6nBZ/UTtuZPjgjIN9WqdaKECgIKBCUIpRp+YhDgfAhwUCAUE73JgGxMz714czu3bvn7NmbmCqde1TaMrqSjJ4BWZliOFafhDyePsJwoqJzP8TdQIap1pYgdAYk+oCyKKHckvCr1ddzA4v7KpmodvSo1SjP8wVkf9ZhWiVVDBJrrBGEnozaP0PK4gAFoYl8jSCISJcE+JPfETFvI3NTIYekLnT1iWWxr7kq1ju4LjeQoIZA6gYnRDhOXGM/nMJB9ArPN7ZgOwrDR2fXaQL24CW4N1vgCySYKt0SsYpQpkikHA6jPBzUZDuJYe80DtdZcgk71RyBJJ6tm2H9zMEdSoGjgflqHen3O0gzh25qdBDReZbQSOxs+xIjwXPt7A1dwmNAG0Bu1l5uwEoOmWAkU0DptgH+4y5STNAbuoA7aBCDFxqYEwZXILGsMex9pSEU19YtsPpD8HEpeJj7SAZhekNtZSbEmjwrTuzkzm449DzlkFb2hdPaIBfFsOUt+GIVJg85/G9B5tCyrQuydZ20mtt4PwbrcVSDkwRW68uP8sKM3cOg9kxu4jppde71pr6yP5alL5sFiwt4qYHh4Bv/6G6fS2u/zavNDyQUx1E8Bz/9FZ/Oc4i+20H2hwBTs3OH3+0eWGx1+2hQvsCixmKTRXZPudBooSE+3Is9CV3q78sKTBNFgTIaYaZOMVZGGEh9TMaKlrOaOp1iNBxCpZydWa/U13sUqrPafDbDH1UF5nP8BahGerHGYRNGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hours worked\" title=\"\" src=\"/static/e4815498431813e02909ec93cab2fa11/6af66/hours_worked.png\" srcset=\"/static/e4815498431813e02909ec93cab2fa11/69538/hours_worked.png 160w,\n/static/e4815498431813e02909ec93cab2fa11/72799/hours_worked.png 320w,\n/static/e4815498431813e02909ec93cab2fa11/6af66/hours_worked.png 640w,\n/static/e4815498431813e02909ec93cab2fa11/d9199/hours_worked.png 960w,\n/static/e4815498431813e02909ec93cab2fa11/21b4d/hours_worked.png 1280w,\n/static/e4815498431813e02909ec93cab2fa11/be061/hours_worked.png 3584w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\n    OECD 국가들의 연 평균 근로시간<br>\n    [출처] <a href=\"https://data.oecd.org/emp/hours-worked.htm\" target=\"_blank\">https://data.oecd.org/emp/hours-worked.htm</a>\n  </small>\n</center>\n<blockquote>\n<p>…는 부정할 수 없는 탑 티어였습니다.</p>\n</blockquote>\n<p>통계를 보니 슬프게도 대한민국은 실제로 OECD에 가입한 국가 중 근로시간 탑 티어가 맞는 것 같다. 모두 알다시피 하루는 24시간으로 제한되어있기 때문에 이렇게 근무시간이 길면 길수록 자연스럽게 하루 중에 나를 위해서 쓰는 시간은 줄어들 수 밖에 없고, 사람들은 이로 인해 워라밸이 붕괴되어 삶의 질이 떨어진다고 이야기하는 것이다.</p>\n<p>사실 이미 우리 모두 야근에 시달려본 경험이 있기 때문에 굳이 이렇게 OECD 통계를 까보지 않더라도 대한민국의 근무시간 자체가 긴 편이라는 것은 너도 알고 나도 알고 우리 모두가 느끼고 있기는 하다.</p>\n<p>그렇다면 최근 시행된 주 52시간 근무제처럼 근로자들의 업무시간을 정부에서 확 규제해서 줄여버리면 국민들의 워라밸이 좋아지지 않을까? 하지만 잘 생각해보면 이 방법도 그렇게 쉽게 결정할 수 있는 방법은 아니다. 왜냐하면 우리나라의 생산성 때문이다.</p>\n<p>OECD 통계를 보면 대한민국의 생산성은 2010년 이후로 점점 좋아지고는 있지만, 근무시간 대비 GDP 생산량은 그렇게 뛰어난 편이 아니기 때문에 쉽사리 근무시간을 줄이기는 어렵다고 볼 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACNElEQVR42o2TWW/aUBCF+eftc9un9qVvTapKCWvAQSUECBA24wABQlIBCUvKjpeAbcwWnc69BJUiVYmlT/d6Znx8Zq5ta8k6HhUTD2MdQ82ANjGgEIa1hDlfvYnZYg11okObGrC1x1O0iLa8WZsvNEaTN3M/fEKq0kS1p8LWpEDzJdHcZUf8H/ZqfqsmSo0evPEcql3lr+BrNMgFe2lb0akbnYvdDzTU+yrCV7c4ieVQ6zHB/7ho7Lhmc+5oMy5UJDeR/C8EsxUIiQI80Su4LiT4aF/jLe/Mayu4mSkdlmqQ2AR3HRmhdA5BsQx7WMTReQbHhIP27qi0J8jaYC0Qje6YkHnipjVAod5B7LoKIVXGuw+f8c0bhoscOSNZQiShLAnuOWRuMpUHBKRbpOMStJEMsVLnTlwRiZykISRLeP/xC74LES7InDGYsJvEXLT6LvObGeaqj7CT/SMqjHnPURILOJMqcNIDbD5uKt4KHvrCrwt66HQcoQzsiWtEDx0I/DjBEcXc3CG1RjlfoshbPvCG4CQBO6sPbWbIa2j1xvObln+myxAuC/DRqSU8AcT8F/CJFfiTRZwSAr3oTLrDp68HsAeTOE2VyE2BI1DeT/esLiDeoMa+w6HyhIGsoT9WMR4pGBB9WeX3LL6lMxijR7HeiOU2se5Q5nU9eobp6PS72p7Xa6yWSywWczyv6L80DZi6DsPQsVotsabYcrnAdDrBYm5hbs34yjCobm5ZsEyT17HrDwMjl86pVg6dAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"productivity\" title=\"\" src=\"/static/bc00347b35226009d66ebc50c920f109/6af66/productivity.png\" srcset=\"/static/bc00347b35226009d66ebc50c920f109/69538/productivity.png 160w,\n/static/bc00347b35226009d66ebc50c920f109/72799/productivity.png 320w,\n/static/bc00347b35226009d66ebc50c920f109/6af66/productivity.png 640w,\n/static/bc00347b35226009d66ebc50c920f109/d9199/productivity.png 960w,\n/static/bc00347b35226009d66ebc50c920f109/21b4d/productivity.png 1280w,\n/static/bc00347b35226009d66ebc50c920f109/be061/productivity.png 3584w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\n  OECD 국가들의 근무시간 대비 GDP<br>\n  [출처] <a href=\"https://data.oecd.org/lprdty/gdp-per-hour-worked.htm#indicator-chart\" target=\"_blank\">https://data.oecd.org/lprdty/gdp-per-hour-worked.htm#indicator-chart</a>\n  </small>\n</center>\n<p>물론 GDP는 단지 근무시간에만 영향을 받는 것이 아니라 각 국가의 산업 구조나 외국 기업의 국내 진출 등 여러가지 지표의 영향을 받기는 하지만, 위 그래프를 보면 우리나라보다 경제 규모가 작고 근무시간이 적은 폴란드나 슬로바키아 같은 국가보다도 우리나라의 근무시간 대비 GDP가 낮기 때문에 생산성이 좋은 편이라고 말하기는 어렵다.</p>\n<p>사실 GDP는 우리가 일상에서 직접적으로 맞닥뜨리는 것이 아니라서 잘 와닿지 않을 지도 모르겠지만, 결국 GDP가 떨어진다는 것은 우리나라 경제의 규모가 줄어든다는 것이니 길게 보면 우리에게는 연봉 동결이나 일자리 부족과 같은 부메랑이 되어서 돌아오게 되어있다.</p>\n<p>주 52시간 근무제는 국민들이 너무 힘들어한다고 시행된 것이라기보다, 대한민국의 근무시간 대비 생산성이 이전에 비해 높아졌으니 이제 근무시간을 주 52시간으로 제한하더라도 국민들의 워라밸과 국내 총 생산량을 함께 지킬 수 있는 상황이기 때문에 시행될 수 있었던 것이다. <small>(국가 경제를 포기하면서까지 워라밸을 보장할 국가는 아마 없다고 본다)</small></p>\n<p>이런 점은 정부 뿐만 아니라 기업도 마찬가지인데, 필자는 손해를 보면서까지 직원들의 워라밸을 챙길 각오를 할 수 있는 회사는 그렇게 많지 않을 것이라고 생각한다. 워라밸을 잘 지켜주는 회사는 그렇게 하는 것이 직원들의 생산성이 더 높아진다고 믿기 때문에 그렇게 할 수 있는 것이다.</p>\n<p>자, 여기까지 대한민국의 현재 워라밸 상황을 한번 가볍게 흝어보았는데, 여기까지의 내용을 한 마디로 정리하자면 대한민국의 업무 효율이 급격히 좋아지지 않는 이상 정부는 국민들을 주 52시간 보다 더 적게 일하게 하기가 어렵다는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 589px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdOiXZZwM9goD//EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMREiEiMUP/2gAIAQEAAQUCoTociymt3WJAqlHsena//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgIDAQEAAAAAAAAAAAAAACEBEQIiYRBR/9oACAEBAAY/At8eE8RUREC0Fk/pSGVfn//EAB0QAAMBAAIDAQAAAAAAAAAAAAABESExQVFhcZH/2gAIAQEAAT8hUL1kPgRpKecSaK6pGS/hKi3pP+vZXcHktaampORqqz//2gAMAwEAAgADAAAAEHDHPP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABwQAQEAAwADAQAAAAAAAAAAAAERACExQXGBUf/aAAgBAQABPxBZTYNiDeCvj3giJ7JebL9MFIRhifMpVkNaiy785wQAqV8qiX1gGADi7xEqFEfwWGG5KAi8dmsso3P/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"money\" title=\"\" src=\"/static/5b27d64504ba6d530763179a02ea1223/86a2c/money.jpg\" srcset=\"/static/5b27d64504ba6d530763179a02ea1223/0913d/money.jpg 160w,\n/static/5b27d64504ba6d530763179a02ea1223/cb69c/money.jpg 320w,\n/static/5b27d64504ba6d530763179a02ea1223/86a2c/money.jpg 589w\" sizes=\"(max-width: 589px) 100vw, 589px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>결국 우리는 좋든 싫든 하루에 8-10시간 정도는 회사에서 굴러야한다</small>\n</center>\n<p>우리는 건물주가 되지 않는 이상 은퇴하기 전까지는 항상 일을 하면서 살아야하는데 워라밸은 이 일을 부정적인 시각으로 바라보고 개인의 삶에 있어서 마이너스 요소라고 바라보고 있는 가치관을 가지고 있다.</p>\n<p>조금 더 자세히 말하자면 워라밸의 의미는 일(-)와 나만의 시간(+)을 합쳐 삶의 질을 최소한 <code class=\"language-text\">0</code>에 가깝게 만들자는 것이다. 또한 내 에너지를 충전할 수 있는 나만의 시간이 늘어날수록 내 삶의 질은 점점 플러스(+) 쪽으로 기울게 되기 때문에 일을 적게 하면 적게할 수록 삶의 질이 높아진다는 가치관 또한 내포하고 있다.</p>\n<p>하지만 일을 하는 시간이 반드시 내 삶의 질을 떨어트리고 에너지를 소비하기만 하는 행위여야만 한다는 이유가 있을까? 일을 하는 중에도 내 삶의 질을 끌어올리고 나에게 가치를 줄 수 있지 않을까?</p>\n<h2 id=\"일은-정말-내-삶의-질을-떨어트리는가\" style=\"position:relative;\">일은 정말 내 삶의 질을 떨어트리는가<a href=\"#%EC%9D%BC%EC%9D%80-%EC%A0%95%EB%A7%90-%EB%82%B4-%EC%82%B6%EC%9D%98-%EC%A7%88%EC%9D%84-%EB%96%A8%EC%96%B4%ED%8A%B8%EB%A6%AC%EB%8A%94%EA%B0%80\" aria-label=\"일은 정말 내 삶의 질을 떨어트리는가 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>우리는 회사에 출근을 하면 빨리 퇴근하고 싶어한다. 얼른 퇴근해야 친구들과 술도 마시고 집에서 혼자 맥주 한 캔하면서 영화도 볼 수 있기 때문이다. 그런데 도대체 왜 우리는 회사에서 일하는 시간보다 퇴근 후 가지는 시간들이 더 좋다고 느끼는 것일까?</p>\n<p>솔직히 말해서 답은 너무나도 간단하다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 98.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUDAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABrd+fSNE8KoQAv//EABwQAAICAgMAAAAAAAAAAAAAAAECAxEAISIxM//aAAgBAQABBQK7YA5TZewzESM4dOU46n9v/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHRAAAQMFAQAAAAAAAAAAAAAAAQAQEQISMTNBUf/aAAgBAQAGPwIxxZYkcbZao9atf//EAB4QAQACAgIDAQAAAAAAAAAAAAEAESFRMUFhcYGR/9oACAEBAAE/IakVcMw+e32aWvbNetm5kieEOY8KDoWZLADmAAaIP2n/2gAMAwEAAgADAAAAEO84wf/EABcRAQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QYmv/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EGor/8QAHhABAQACAgMBAQAAAAAAAAAAAREAITFRQWFxofD/2gAIAQEAAT8QprRbQX13zloGA3cPku2zf7iSRaHgffGzFsRbwRPup3mr0iQKTmT7itAGSuj3cN2wDeWt/YZ//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unnamed\" title=\"\" src=\"/static/b6d7f2b02d0274dbb32c9614c28d7f0a/36dd4/unnamed.jpg\" srcset=\"/static/b6d7f2b02d0274dbb32c9614c28d7f0a/0913d/unnamed.jpg 160w,\n/static/b6d7f2b02d0274dbb32c9614c28d7f0a/cb69c/unnamed.jpg 320w,\n/static/b6d7f2b02d0274dbb32c9614c28d7f0a/36dd4/unnamed.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>그냥 일하기 존x 싫으니까. 그냥 놀고 먹고 싶으니까.</small>\n</center>\n<p>솔직히 말해서 회사에서 하는 일들은 모두 치열함과 스트레스의 연속이다. 모든 일에는 끝내야하는 기간이 정해져있으며 나를 평가할 수 있는 동료와 상사들과 함께 있어야하고 내 속마음을 동료에게 모두 털어놓는 것도 쉽지가 않다. 그럼에도 우리가 이 모든 것을 참고 버틸 수 있는 것은 바로 이런 것들을 참았을 때 받을 수 있는 보상인 “돈” 때문이다.</p>\n<p>지금 와서 생각해보면 지난 학창시절 우리가 해왔던 모든 것은 결국 좋은 직장에 취업해서 안정적으로 돈을 벌기 위한 것들이었다. 좋은 대학에 가는 것, 자격증 공부를 하는 것, 심지어 봉사활동을 하는 것까지도 말이다. 이게 다 나중에 취업 전선에 섰을 때 남들보다 조금 더 눈에 띄어 좋은 점수를 받고 좋은 직장에 취업하기 위함이 아니었던가.</p>\n<p>이렇게 살아왔던 우리는 회사를 다니면서 어렵고 힘든 일이 있어도 자연스럽게 돈 때문에 참게 된다. 내가 이 직장을 그만 두면 고정 수입이 끊기게 되니 내 휴대폰 요금, 전세자금대출 이자와 같은 고정 지출도 내기가 부담스러워지고, 그러다 보면 돈을 아껴야하기 때문에 내가 지금까지 누리던 많은 것들을 포기하고 허리띠를 졸라매야한다.</p>\n<p>월급의 가치가 회사에서 하기 싫은 일을 하면서 버티는 것보다 더 크고 무겁기 때문에 우리는 버틸 수 있는 것이다. 많은 사람들은 월급의 가치가 회사에서 일을 하는 것보다 가벼워졌다고 판단하면 연봉 재협상을 하거나 이직을 하기도 한다.</p>\n<p>이런 상황들을 보면 우리가 일을 한다는 것이 우리 삶에 마이너스 요소인 것은 어찌보면 당연한 것 같다. 하지만 정말 그럴까?</p>\n<blockquote>\n<p>일은 정말 돈을 벌기 위해서만 하는 것일까? 그 외의 의미는 없는 것일까?</p>\n</blockquote>\n<h2 id=\"우리는-왜-일하는가\" style=\"position:relative;\">우리는 왜 일하는가<a href=\"#%EC%9A%B0%EB%A6%AC%EB%8A%94-%EC%99%9C-%EC%9D%BC%ED%95%98%EB%8A%94%EA%B0%80\" aria-label=\"우리는 왜 일하는가 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>미국의 심리학자인 <a href=\"https://en.wikipedia.org/wiki/Barry_Schwartz_(psychologist)\" target=\"_blank\" rel=\"nofollow\">배리 슈워츠</a>는 지난 2014년 TED에서 “우리는 왜 일하는가”라는 제목으로 강연을 했었는데, 필자는 개인적으로 이 강연을 굉장히 재밌게 봤었던 기억이 있다.</p>\n<p>배리 슈워츠는 강연을 시작하며 “우리는 왜 일하는 걸까요?”라는 질문을 던진다. 물론 우리는 돈을 벌기위해 일을 한다는 너무나 당연한 사실을 알고 있지만, 정말 그것만이 우리가 일을 하는 이유일까라는 것이 이 형의 질문이다.</p>\n<p>근대 경제학의 아버지인 애덤 스미스는 자신의 저서인 국부론에서 인간이란 본능적으로 어떤 순간이든 자신의 이익을 최대화할 수 있는 선택을 하는 동물이고, 이런 인간의 본능적인 이기심 때문에 시장에는 분업이 발생하며, 각자가 각자의 이익을 최대화할 수 있는 방향으로 움직인다면 시장은 점점 발전하고 국가의 부 또한 축적된다고 이야기했다.</p>\n<p>이렇게 애덤 형은 자신의 노동에 합당한 대가가 주어지지 않는다면 이기적인 본성을 가진 동물인 인간은 일을 하지 않을 것이라고 본 것이고 인간에게 일을 더 많이, 그리고 효율적으로 시키고 싶다면 그에 합당한 가치를 얻을 수 있도록 해줘야 이야기한다. 그리고 이러한 애덤 스미스의 가치관은 지금 우리가 “돈 때문에 어쩔 수 없이 회사를 다닌다”라는 가치관에 고스란히 녹아있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAIDAQQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAeVPVsILFlMxMhf/xAAcEAABAwUAAAAAAAAAAAAAAAABABARAwQSMTL/2gAIAQEAAQUCoRncdsTJYoa//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BY//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABYQAQEBAAAAAAAAAAAAAAAAACAhIv/aAAgBAQAGPwKjR//EABsQAAIDAAMAAAAAAAAAAAAAAAABESExQVFh/9oACAEBAAE/IUvjWJ8sTVJ+EC0fI0vsoWmTA//aAAwDAQACAAMAAAAQCB//AP/EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/EAEf/8QAGREAAgMBAAAAAAAAAAAAAAAAABEBECEx/9oACAECAQE/EFrERyv/xAAcEAEAAgMAAwAAAAAAAAAAAAABABEQITFBYaH/2gAIAQEAAT8QUHQfaGioFaINgrAaU7JxkAadgeGS+Cf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"adam\" title=\"\" src=\"/static/250bd1eff083d5af392d5e6635c5ef42/c08c5/adam.jpg\" srcset=\"/static/250bd1eff083d5af392d5e6635c5ef42/0913d/adam.jpg 160w,\n/static/250bd1eff083d5af392d5e6635c5ef42/cb69c/adam.jpg 320w,\n/static/250bd1eff083d5af392d5e6635c5ef42/c08c5/adam.jpg 640w,\n/static/250bd1eff083d5af392d5e6635c5ef42/4f216/adam.jpg 839w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\"인간은 이기적이기 때문에 보상이 없으면 아무것도 안하려고 할 거임ㅇㅇ\"</small>\n</center>\n<p>물론 애덤 형의 견해도 어느 정도 타당하다고 볼 수 있는게, 예컨대 김밥천국에서 매일 김밥을 만드는 아주머니가 “내가 김밥을 만듦으로써 사람들이 배를 곯지 않았으면…”하는 인간애 가득한 마음으로 김밥을 마는 것이 아니라 그저 돈을 벌기 위해서 택한 방법이 김밥천국을 운영하는 것일 확률이 더 높기 때문이다.</p>\n<p>하지만 배리 형의 견해는 다르다. 배리 슈워츠는 인간의 본성은 원래 정해져있던 것이 발견되는 것이 아니라 규제와 제도에 의해 만들어지는 것이라고 말하며, 애덤 스미스의 잘못된 견해로 산업시대 때 만들어진 여러가지 제도들이 아직까지도 우리를 돈만 보며 일하게 만드는 것이라고 한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAUrOq2OucJyn/8QAGhABAQACAwAAAAAAAAAAAAAAAQMAAhETFP/aAAgBAQABBQIOWkHpyG+s6ewcojv/AP/EABYRAAMAAAAAAAAAAAAAAAAAAAECEP/aAAgBAwEBPwFjP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAQACAgMAAAAAAAAAAAAAAAEAEQMSECIx/9oACAEBAAY/AqIVj7HvGyXE0YpP/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARMSFR/9oACAEBAAE/IaoFXAlSc6UOyoadTA9iQLw9IBFC5P/aAAwDAQACAAMAAAAQ2w//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQMBAT8QLQjL/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QCf/EABsQAAMAAwEBAAAAAAAAAAAAAAABESExQVGh/9oACAEBAAE/EK9lEK2yfhpFJ7fSB/vV4m2KINMl6LpjddiuPv2n/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ted\" title=\"\" src=\"/static/f1c851008d3cb3574e5f35afc3a084cf/a2d2e/ted.jpg\" srcset=\"/static/f1c851008d3cb3574e5f35afc3a084cf/0913d/ted.jpg 160w,\n/static/f1c851008d3cb3574e5f35afc3a084cf/cb69c/ted.jpg 320w,\n/static/f1c851008d3cb3574e5f35afc3a084cf/a2d2e/ted.jpg 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\"까고 있네 임마, 네가 이상한 가치관을 내세우니까 사람들이 진짜 그런 줄 알잖아\"</small>\n</center>\n<p>물론 배리 슈워츠나 애덤 스미스의 말 모두 맞는 부분이 있고 틀린 부분이 있을테니 모든 것을 비판없이 수용할 수는 없지만, 적어도 배리 슈워츠가 왜 저런 말을 하는 지는 한번 생각해보는 것이 좋을 것 같다.</p>\n<h3 id=\"인간을-일하게-하는-것\" style=\"position:relative;\">인간을 일하게 하는 것<a href=\"#%EC%9D%B8%EA%B0%84%EC%9D%84-%EC%9D%BC%ED%95%98%EA%B2%8C-%ED%95%98%EB%8A%94-%EA%B2%83\" aria-label=\"인간을 일하게 하는 것 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>앞서 이야기 했듯이 애덤 스미스의 “인간은 노동에 따른 합당한 보상을 원한다”라는 견해는 현대 사회를 살아가는 우리에게도 고스란히 그 영향을 끼치고 있고, 그 중 대표적인 한 가지가 바로 인센티브 제도이다.</p>\n<p>인간은 이기적으로 자신의 보상을 위해 노동을 하기 때문에 더 많은 일을 해냈을 때 더 큰 보상을 준다고 약속한다면 그 일을 반드시 해낼 것이라는 생각에서 발생한 인센티브 제도는 아직도 우리 곁에 남아서 우리의 통장을 짭짤하게 채워주고 있다. <small>(돈이면 다 된다…?)</small></p>\n<p>그러나 아무리 조상님의 말씀이라고 해도 곧이 곧대로 믿을 수는 없는 법 아닌가. 전 세계의 학자들은 이 인센티브가 정말로 인간의 업무 능률을 올려주는 데 도움이 되는지에 대한 실험을 진행했는데, 그 결과는 상당히 흥미로웠다.</p>\n<p>단순 반복작업을 하는 경우에는 인센티브가 효율적으로 작용했지만, 반대로 복잡하고 창의성을 요구하는 작업에는 인센티브가 오히려 정반대로 작용한 것이다.</p>\n<p>이건 필자가 어디서 주워들은 이야기가 아니라 실제로 미연방준비은행이나 프린스턴 대학, 런던 정경대와 같은 이름있는 대학, 그리고 여러 경제학자들에 의해서 실제로 꽤나 많이 시행되었던 실험이고, 거의 대부분의 결과에서 인센티브는 창의성이 필요한 작업의 생산성을 저해하는 것으로 나타났다.</p>\n<p>오히려 창의적인 작업에 좋은 영향을 주는 요인들은 업무에 대한 자율성과 주도권, 일에 대한 재미, 더 잘하고 싶다는 성장욕 등이었다.</p>\n<p>인센티브와 이런 요인들의 차이는 바로 외적인 동기부여와 내적인 동기부여의 차이이다. 인센티브는 “네가 이 일을 잘 하면 이 만큼 보상을 줄게”라는 외적인 동기부여이기 때문에 그 작업을 하는 사람은 이 일이 좋든 싫은 돈을 위해 할 수 밖에 없고 보상을 받을 수 있는 목표만을 빠르게 달성하려고 하기 때문에 작업에 대한 시야도 좁아지지만, 이 일의 가치를 알고 즐기면서 이 일을 잘하고 싶다고 생각하는 사람은 좁은 목표가 아니라 더 넓은 목표를 자유롭게 설정할 수 있기 때문에 작업에 대한 창의성도 높아지는 것이다.</p>\n<p>구글이나 아틀라시안이 하루 중 20% 정도를 사이드 프로젝트에 할당하는 이유도 바로 이것이다. 이 시간은 온전히 작업자가 모든 주도권을 가지고 자신이 하고 싶은 일을 할 수 있는 시간이고, 실제로 이 시간 동안에 우리가 지금 사용하고 있는 수 많은 제품들이 탄생했다.</p>\n<p>이런 인센티브에 대한 내용은 주로 기업 컨설팅에 자주 등장하는 내용이라 오너들을 타겟으로 많이 이야기되고는 하지만, 필자같은 피고용자들에게도 이 내용은 중요한 점을 시사한다.</p>\n<blockquote>\n<p>바로 돈만 보고 일하면 일을 잘 하기도 어렵다는 것이다. 일 자체를 즐겨야한다.</p>\n</blockquote>\n<p>물론 대한민국의 대부분의 기업은 직원들에게 자율적인 업무환경을 제공하지 않는데다가 직원들에게 멋진 비전을 제시하기보다는 당장 하루하루 매출 채우기가 급급하기 때문에, 이러한 환경 속에서 스스로 일에 대한 재미를 찾는 것 자체가 어렵다고 생각할 수도 있다.</p>\n<p>필자도 자율적이지 못한 근무환경과 단순히 회사의 매출이나 나의 월급만 보고 개발을 해본 경험이 있기 때문에 당연히 공감이 간다. 그러나 필자는 그런 호의적이지 않은 환경 속에서도 스스로에게 제시할 수 있는 비전이 반드시 존재한다고 생각한다.</p>\n<p>아니면 이직도 방법이다. 물론 이직이 쉬운 일도 아니고 익숙했던 환경에서 벗어난다는 불안감도 당연히 있겠지만, 필자는 이직 기간 두 세달 동안의 불안감보다 앞으로 내가 행복하게 일할 수 있는 조직에서 일할 수 있다는 가치가 훨씬 크다고 생각하기 때문에, 만약 현 직장이 도저히 나를 행복하게 만들어줄 수 없는 곳이라면 손절해야 한다고 생각한다.</p>\n<p>그리고 이런 것들은 회사를 위해서가 아니라 은퇴할 때까지 30년 정도는 어쩔 수 없이 매일 일해야하는 우리 스스로의 행복을 위해서라도 반드시 필요하다. 필자는 누구도 돈을 위해 기계처럼 일하는 사람이 되고 싶지는 않다고 생각한다. 어차피 해야하는 일이라면 조금 더 재밌게, 행복하게 일하는 것이 좋지 않겠는가?</p>\n<p>배리 슈워츠는 마치 변하지 않는 현실 같았던 “돈 때문에 일한다”라는 생각 자체가 결국 제도가 만든 프레임이며, 우리가 일을 어떻게 대하냐에 따라서 얼마든지 깨부술 수 있다고 했다. 결국 우리가 어떻게 생각하냐에 따라 단지 돈 때문에 어쩔 수 없이 하는 일이 아니라 조금 더 가슴 뛰는 무언가를 위한 일로 변모할 수 있다는 의미이다.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 148.74999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7qSqzeQjKLRgW4oR/8QAHBAAAgICAwAAAAAAAAAAAAAAAAECIRAREjFB/9oACAEBAAEFAveLEbtulKpJli1jp0f/xAAZEQADAAMAAAAAAAAAAAAAAAAAARECEhP/2gAIAQMBAT8BrZuYunNn/8QAGREAAwADAAAAAAAAAAAAAAAAAAEREhMh/9oACAECAQE/AYYjU6bUf//EABoQAAMAAwEAAAAAAAAAAAAAAAABIRARMTL/2gAIAQEABj8C6ejoyZVLhouz/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIVExQXFh/9oACAEBAAE/IQpN89XHocxM2hcNRnhshukvqAjzudwvnkYNpmY3reJW4+z/2gAMAwEAAgADAAAAECsuTv/EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQMBAT8QGRMkY5zJ0yrd/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxBARvpEpjy//8QAHBABAQACAwEBAAAAAAAAAAAAAREAIUFRYTFx/9oACAEBAAE/EBrvZofmI0Mve8DO2/VwpM941bbET6ee4UUV0mSKbQ0Dmd/mAiEh7fXk4ybErdMPqzyZo9CV0lMktcx5Z//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"why we work\" title=\"\" src=\"/static/8d2b4687bcea9d92a38be241b26a1393/c08c5/why_we_work.jpg\" srcset=\"/static/8d2b4687bcea9d92a38be241b26a1393/0913d/why_we_work.jpg 160w,\n/static/8d2b4687bcea9d92a38be241b26a1393/cb69c/why_we_work.jpg 320w,\n/static/8d2b4687bcea9d92a38be241b26a1393/c08c5/why_we_work.jpg 640w,\n/static/8d2b4687bcea9d92a38be241b26a1393/b2462/why_we_work.jpg 808w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  </div>\n  <small>사실 TED 강연보다는 책으로 보는게 더 자세히 배리 슈워츠의 생각을 들여다 볼 수 있으니<br>필자는 TED 강연보다는 책을 한번 읽어보는 것을 추천한다</small>\n</center>\n<h2 id=\"그렇다면-내-워라밸은-어떨까\" style=\"position:relative;\">그렇다면 내 워라밸은 어떨까?<a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EB%82%B4-%EC%9B%8C%EB%9D%BC%EB%B0%B8%EC%9D%80-%EC%96%B4%EB%96%A8%EA%B9%8C\" aria-label=\"그렇다면 내 워라밸은 어떨까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이렇게 끝내기에는 뭔가 섭섭하니 이런 워라밸에 대한 필자의 가치관을 한번 자세히 이야기해보고자 한다.</p>\n<p>일단 들어가기 전에 솔직히 말하자면, 필자는 속세와 연을 끊고 모든 욕심에서 초월한 부처님이 아니다. 당연히 필자도 돈 엄청 좋아한다. 돈이야 당연히 많으면 많을 수록 좋은 것이 아닌가. 필자도 이번에 애플이랑 테슬라 액면분할 할 때 제발 떡상하라고 냉수 떠다놓고 기도했던 개미들 중 한 사람이다. <small>(이번 추석 때 엄마가 테슬라 주식 얼마나 있냐고 물어보더라…)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAb/xAAVAQEBAAAAAAAAAAAAAAAAAAABA//aAAwDAQACEAMQAAABTKkySo0JR//EABwQAAICAgMAAAAAAAAAAAAAAAECAxEABBMhIv/aAAgBAQABBQIFFYcTsYZLNZrt7U9f/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BqP/EABcRAAMBAAAAAAAAAAAAAAAAABAREiH/2gAIAQIBAT8BhaP/xAAbEAACAwADAAAAAAAAAAAAAAAAAQIRIRAiMf/aAAgBAQAGPwLtBMyFGHhSXH//xAAbEAACAwEBAQAAAAAAAAAAAAAAAREhMVFhkf/aAAgBAQABPyHWivg0XG1VibQr0sjjplClDHI//9oADAMBAAIAAwAAABA0D//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QV4yT/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERIaH/2gAIAQIBAT8QVofRaf/EABsQAQADAQEBAQAAAAAAAAAAAAEAESExUWGx/9oACAEBAAE/EFAbiYWyMkFYrpqn9+Qj78cWe0xhK3WxwRqu3Nlqez//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"stock\" title=\"\" src=\"/static/09e0cdaef5e8168acb5f0e36ddecbafd/c08c5/stock.jpg\" srcset=\"/static/09e0cdaef5e8168acb5f0e36ddecbafd/0913d/stock.jpg 160w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/cb69c/stock.jpg 320w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/c08c5/stock.jpg 640w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/6a068/stock.jpg 960w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/eea4a/stock.jpg 1280w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/7b7b4/stock.jpg 1439w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>조상님들...테슬라 600달러 가게 해주세요 제발요...</small>\n</center>\n<p>하지만 필자가 아무리 돈을 좋아하더라도 직장을 선택하는 이유 중 1순위는 연봉이 아니다. 이렇게 이야기하면 “지는 돈 많이 버니까 그런가보지”라고 생각하실 수 있는데, 필자도 돈 그렇게 많이 못 번다. 물론 누군가보다는 더 받고 누군가보다는 덜 받겠지만, 솔직히 말해서 연봉 몇 천 차이나는게 누군가의 인생을 바꿀 정도도 아니지 않은가? <small>(결국 집은 은행이 사줘야한다는 사실을 잊지말자)</small></p>\n<p>대부분의 개발자들이 그렇듯이 필자도 프로그래밍을 통해 무언가를 만드는 것이 좋아서 개발자가 된 사람이다. 그렇기 때문에 자연스럽게 필자는 “이 회사에 가면 내가 어떤 제품을 만들 수 있을까”라는 것에 초점을 맞출 수 밖에 없다.</p>\n<p>왜냐하면 필자의 워라밸은 바로 이 부분에서 크게 갈리기 때문이다.</p>\n<p>어차피 어느 회사를 가던 간에 하루의 대부분은 사무실에서 코딩만 하면서 살텐데, 마음에도 없는 재미없는 제품을 만들면서 하루를 보내는 것은 생각만 해도 끔찍한 일이다. 아무리 돈을 많이 준다고 해도 하루에 10시간 씩 수행하는 느낌으로 재미없는 시간을 보낸다는 것은 필자의 삶의 질에 큰 도움이 되지는 않을 것 같다.</p>\n<p>당연히 이렇게 일해도 연봉을 2억씩 받는다고 하면 버틸 수는 있겠지만, 그건 말 그대로 버티는 것이기 때문에 회사에서 필자가 받는 스트레스는 여전할 것이다. 필자는 돈 많이 받는 것보다 하루의 대부분을 그런 스트레스 받으면서 살아야하는 것이 더 싫다.</p>\n<p>필자가 현재 직장을 선택한 이유 또한 이 가치관과 부합한다. 이 회사는 “어려운 금융을 더 쉽고 간편하게”라는 흥미로운 비전을 내세우고 있었고, 면접을 진행하다보니 정말로 이 비전을 현실로 만들기 위해 많은 노력을 하고 있는 조직이라는 느낌을 받았기 때문이다. 그리고 입사하고보니 이 조직은 내부적으로 팀원들이 이 방향을 놓치지 않게 하기 위해 많은 노력을 쏟고 있었다.</p>\n<p>물론 이 회사는 업무강도가 높기로 유명한 곳이고 실제로도 그렇게 호락호락하지는 않다. 하지만 적어도 내가 지금 만들고 있는 이 제품이 사람들에게 어떤 이득을 줄 수 있는지는 제대로 설득된 상태에서 제품을 만들 수 있고, 그리고 좋은 사람들도 많아서 지금까지 다녔던 다른 직장들에 비하면 일하는 게 재미있는 편이다.</p>\n<p>아마 필자 뿐만 아니라 여러분도 하루에 대부분은 회사에서 업무를 하면서 지낼 것이다. 만약 워라밸의 의미가 단순히 근무시간을 줄여서 삶의 질을 높히자는 것 뿐이었다면 필자의 워라밸은 개판 오분 전이나 마찬가지일테지만, 필자 스스로 느끼기에 필자의 워라밸 수준은 나름 괜찮은 편이다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>물론 일을 하는 시간과 나를 위해 쓰는 개인적인 시간이 분리되어야 하며 이 시간들의 균형과 조화는 중요하다. 당연히 사람이 일만 하면서 살 수는 없으니 일을 하지 않는 시간에 가족 또는 친구, 애인과 소중한 시간을 보내는 거나 일과 관련없는 꿈을 이루기 위한 활동을 하거나 취미를 가지는 것 또한 삶의 질 향상에 바람직한 방향이라고 볼 수 있다.</p>\n<p>하지만 현실적으로 우리는 앞서 말한 여러가지 이유들 때문에 일을 하지 않고는 살 수가 없다. 이런 상황 속에서 우리가 워라밸의 의미를 단지 일을 하는 시간을 줄이는 것으로만 생각한다면 우리의 삶의 질에는 상한선이 명확하게 존재하게 되기 때문에 우리는 단순히 근무시간을 줄이는 것보다 조금 더 높은 가치를 줄 수 있는 무언가를 찾아야하는 것이다.</p>\n<p>물론 필자의 워라밸에 대한 가치관은 굉장히 개인적인 의견이다. 사람들은 저마다 어떤 행위에 대한 가치를 다르게 부여하기 때문에 필자와 다르게 일에 크게 가치를 두고 싶지 않아하는 사람 역시 있을 수 있고, 이런 사람들은 필자처럼 일에서 가치를 찾기 보다는 근무 외 시간에서 더 자신에게 행복함을 줄 수 있는 무언가를 찾아나설 것이다.</p>\n<p>그러나 필자가 이 포스팅을 통해 이야기하고 싶은 것은 적어도 일을 돈 때문에 억지로 한다고 생각하지 않아도 된다는 것이다. 그게 실제로 돈 때문에 하는 것이든 아니든 말이다.</p>\n<p>배리 슈워츠가 말했던 대로 우리가 일을 돈 때문에 하게 되는지, 그 이상의 가치를 찾을 수 있는지는 결국 우리가 일을 어떻게 생각하고 대하느냐에 따라 달라질 수 있기 때문이다.</p>\n<p>그리고 필자는 우리가 하루 대부분의 시간을 쓰게 되는 일이라는 행위에 의미있는 가치를 주는 것만으로, 적어도 하루의 대부분을 무미건조하게 일을 하며 보내는 것보다는 조금 더 나은 시간을 보낼 수 있다고 생각한다.</p>\n<p>이상으로 일도 하면서 내 워라밸도 챙겨보자 포스팅을 마친다.</p>","fields":{"slug":"20200927-work-life-balance","path":"/2020/09/27/work-life-balance/","lang":"ko"},"frontmatter":{"title":"정말 근무 시간만이 워라밸의 전부일까?","subTitle":"우리는 왜 일을 삶의 방해물로만 여기는가?","date":"Oct 03, 2020","categories":["에세이"],"tags":["워크라이프밸런스","개발자 워라밸","개발자 야근","워라밸 좋은 회사","TED 인센티브","애덤 스미스 국부론"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ed823abf8104624f4d6cdea9d9528029/3a812/thumbnail.jpg","srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/3a812/thumbnail.jpg 320w,\n/static/ed823abf8104624f4d6cdea9d9528029/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/fc5c5/thumbnail.webp 320w,\n/static/ed823abf8104624f4d6cdea9d9528029/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ed823abf8104624f4d6cdea9d9528029/2d839/thumbnail.jpg","srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"587b8917-2535-52e2-a547-970e9deefa34","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9C%A0%EC%A0%80%EC%9D%98-%EC%9E%85%EB%A0%A5-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0\">유저의 입력 검증하기</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%A3%BC%EC%86%8C-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0\">이메일 주소 검증하기</a></li>\n<li><a href=\"#%EC%A0%84%ED%99%94%EB%B2%88%ED%98%B8\">전화번호</a></li>\n<li><a href=\"#%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8\">비밀번호</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B6%88%EA%B7%9C%EC%B9%99%ED%95%9C-%EB%AC%B8%EC%9E%90%EC%97%B4%EC%97%90%EC%84%9C-%EC%9B%90%ED%95%98%EB%8A%94-%EC%A0%95%EB%B3%B4%EB%A7%8C-%EA%B3%A8%EB%9D%BC%EB%82%B4%EA%B8%B0\">불규칙한 문자열에서 원하는 정보만 골라내기</a></p>\n<ul>\n<li><a href=\"#%EC%A3%BC%EC%96%B4%EC%A7%84-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%82%B4%EC%97%90%EC%84%9C-%EC%88%AB%EC%9E%90%EB%A7%8C-%EA%B3%A8%EB%9D%BC%EB%82%B4%EA%B8%B0\">주어진 문자열 내에서 숫자만 골라내기</a></li>\n<li><a href=\"#%EB%AC%B8%EC%9E%A5-%EC%86%8D%EC%97%90%EC%84%9C-%EA%B8%88%EC%95%A1%EB%A7%8C-%EC%B6%94%EC%B6%9C%ED%95%98%EA%B8%B0\">문장 속에서 금액만 추출하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4%EC%9D%84-%EB%82%B4%EA%B0%80-%EC%9B%90%ED%95%98%EB%8A%94-%ED%8F%AC%EB%A7%B7%EC%9C%BC%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EA%B8%B0\">문자열을 내가 원하는 포맷으로 변환하기</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90%EC%9D%98-%EC%A0%95%EB%B3%B4-%EB%A7%88%EC%8A%A4%ED%82%B9%ED%95%98%EA%B8%B0\">사용자의 정보 마스킹하기</a></li>\n<li><a href=\"#ide-%EB%82%B4%EC%97%90%EC%84%9C-%EC%9B%90%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84%EB%A7%8C-replace%ED%95%98%EA%B8%B0\">IDE 내에서 원하는 부분만 Replace하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"필자는 지난 불규칙 속에서 규칙을 찾아내는 정규표현식 포스팅에서 정규식의 기본적인 사용 방법을 한 차례 설명한 바 있다. 그러나 아무리 정규식의 기본적인 사용 방법을 알고 있다고 해도 실제로 정규식을 사용해야하는 상황이 되면 눈 앞이 깜깜해지기 마련이다.","html":"<p>필자는 지난 <a href=\"/2020/07/24/about-regular-expression\">불규칙 속에서 규칙을 찾아내는 정규표현식</a> 포스팅에서 정규식의 기본적인 사용 방법을 한 차례 설명한 바 있다.</p>\n<p>그러나 아무리 정규식의 기본적인 사용 방법을 알고 있다고 해도 실제로 정규식을 사용해야하는 상황이 되면 눈 앞이 깜깜해지기 마련이다.</p>\n<!-- more -->\n<p>그래서 이번 포스팅에서는 실제로 필자가 지금까지 일을 하며 경험했던 여러가지 상황을 토대로 정규식을 어떻게 사용했는지에 대한 몇 가지 예시와 설명을 조금 곁들여 볼까 한다.</p>\n<p>정규식을 가장 많이 사용하는 상황인 “유저의 입력 검증”, “원하는 정보 찾기”, “문자열을 원하는 포맷으로 변경하기”를 예시로, 문제를 정의하고 정규식을 사용하여 문제를 해결해보도록 하자.</p>\n<h2 id=\"유저의-입력-검증하기\" style=\"position:relative;\">유저의 입력 검증하기<a href=\"#%EC%9C%A0%EC%A0%80%EC%9D%98-%EC%9E%85%EB%A0%A5-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0\" aria-label=\"유저의 입력 검증하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>사실 개발을 진행하며 정규식이 가장 쉽게 접하는 상황은 유저의 입력을 검증할 때이다.</p>\n<p>개발이나 디자인을 하다보면 자연스럽게 알게 되는 것이기는 하지만, 유저는 절대 내가 설계한 대로 제품을 사용하지 않기 때문에 유저가 입력하는 데이터를 곧이 곧대로 신뢰하고 서버로 전송하는 행위는 꽤나 위험한 짓이다.</p>\n<p>분명히 이메일을 입력하라고 했는데 전화번호를 입력할 수도 있고, 최악의 경우에는 악의를 가지고 이상한 스크립트나 쿼리를 입력하여 서버로 전송할 수도 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 554px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d3d5049ed982f669de8ee19432f6f22e/04abd/sql_injection.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42m1R2U7DMBDMF/MnfAa/0JcKkFpKaaAtSCVNFdLch9PmPp2TSS0QIEYra7zeWe14ueGCvu9xFkVxOBw0TXNdRxAEcEVRJEkC3+/3Xdd9VzJwjLNUnuerFf/0xMvycT5/mM1mkImiuFgslsslpfSvuKkrtIzj2PfPURSnWWiRo02Uokz/lDLOzqZp2rblriePyJxOZ8uyCPFUTVytpwjb0SitdV3Tdd0wDLzihAvTNMHTNE2ShJusNl1dE0JM03BdIsm75+3ty/bOcY2qooYxKqGXZRlKRlAMC6M4i4KyqjAD7nXd5EUKB3ESUFqx8X4CZYxUaEwpN/wGHPVdP8YPt/8CBdzRctADk6iqatuObkrrt/vX3Zx45tAPwReiKArD0Pd9dgUZx766mQ5tjZzneUEQHlWR39w9b+8tW8/zce1ois2LX8DaYR5/hsm513chSzM0cxznfPZ140M48Igg9DAbfhXLz7IsuQAEmeKCsiw/AXYMKq9gkgA4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sql injection\" title=\"\" src=\"/static/d3d5049ed982f669de8ee19432f6f22e/04abd/sql_injection.png\" srcset=\"/static/d3d5049ed982f669de8ee19432f6f22e/69538/sql_injection.png 160w,\n/static/d3d5049ed982f669de8ee19432f6f22e/72799/sql_injection.png 320w,\n/static/d3d5049ed982f669de8ee19432f6f22e/04abd/sql_injection.png 554w\" sizes=\"(max-width: 554px) 100vw, 554px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>물론 최근에는 백엔드 프레임워크에서 사용하는 ORM이 자체적으로 이런 인젝션 어택을 방어해주기는 하지만<br>퍼포먼스를 위해 로우 쿼리를 사용하는 경우도 여전히 존재하기 때문에 방심해서는 안 된다</small>\n</center>\n<p>그렇기 때문에 클라이언트 개발자는 1차적으로 사용자의 입력이 올바른 입력인지를 검증하는 밸리데이션 로직을 작성하게 되는데, 이 과정에서 정규식이 매우 유용하게 사용된다.</p>\n<h3 id=\"이메일-주소-검증하기\" style=\"position:relative;\">이메일 주소 검증하기<a href=\"#%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%A3%BC%EC%86%8C-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0\" aria-label=\"이메일 주소 검증하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이메일은 사용자에게 받는 입력 데이터 중 굉장히 흔한 포맷이다. 게다가 이메일 주소라는 것은 각 필드의 역할도 명확하고 규칙도 제한적이라, 사용자가 입력한 데이터가 올바른 이메일 주소인지 검증하는 것도 크게 어렵지 않다.</p>\n<p>MBP(Mailbox Provider)마다 조금씩 다를 수는 있지만, 인터넷 메세지 프로토콜을 정의하고 있는 <a href=\"https://tools.ietf.org/html/rfc2822#section-3.4.1\" target=\"_blank\" rel=\"nofollow\">RFC 2822#Addr-spec specification</a>에서 정의된 바에 따르면 이메일 주소를 다음과 같은 패턴을 가진 문자열로 정의할 수 있다.</p>\n<blockquote>\n<ol>\n<li>\n<p>이메일 주소는 계정, @, 도메인으로 이루어진 문자열이다.</p>\n</li>\n<li>\n<p>계정은 영어와 숫자, 그리고 <code class=\"language-text\">!#$%&amp;'*+-/=?^_{|}~</code> 등의 특수문자를 사용할 수 있다. <code class=\"language-text\">.</code>도 사용할 수 있지만, 계정이 <code class=\"language-text\">.</code>으로 시작하거나 끝나서는 안 된다.</p>\n</li>\n<li>\n<p>도메인은 영어로 된 호스트와 도메인 식별자가 <code class=\"language-text\">.</code>으로 연결된 형태이다 (ex. google.com)</p>\n</li>\n<li>\n<p>계정과 도메인은 <code class=\"language-text\">@</code>으로 연결되어있다.</p>\n</li>\n</ol>\n</blockquote>\n<p>이처럼 이메일 주소는 한정적인 패턴을 가진 정보이기 때문에 정규식으로 간단하게 패턴 매칭을 통해 검증할 수 있다.</p>\n<h4 id=\"이메일-계정\" style=\"position:relative;\">이메일 계정<a href=\"#%EC%9D%B4%EB%A9%94%EC%9D%BC-%EA%B3%84%EC%A0%95\" aria-label=\"이메일 계정 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이메일의 계정에는 영어와 숫자를 사용할 수 있기 때문에 <code class=\"language-text\">\\w</code>을 사용하여 영어와 숫자를 모두 포함한 워드 그룹을 사용하면 간단하게 이 패턴을 매칭할 수 있다. 또한 <code class=\"language-text\">!#$%&amp;'*+-/=?^_{|}~</code> 등의 특수 문자도 사용할 수 있기 때문에 <code class=\"language-text\">[\\w!#$%&amp;'*+-/=?^_{|}~]</code>과 같이 커스텀 그룹을 사용하면 이메일 계정에 사용할 수 있는 영어와 숫자, 특수문자를 모두 매칭할 수 있다.</p>\n<p>또한 이 패턴은 무조건 1번 이상 등장해야한다. 만약 이 패턴이 0번 등장한다면 계정에 위 패턴이 존재하지 않는다는 것이니 올바른 이메일 주소라고 취급할 수 없기 때문이다. 그래서 표현식의 끝에는 패턴이 1번 이상 등장했음을 의미하는 <code class=\"language-text\">+</code> 수량자를 붙혀줘야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"regex\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-regex line-numbers\"><code class=\"language-regex\"><span class=\"token anchor function\">^</span><span class=\"token char-class\"><span class=\"token char-class-punctuation punctuation\">[</span><span class=\"token char-set class-name\">\\w</span>!#$%&amp;'*+/=?^_{|}~-<span class=\"token char-class-punctuation punctuation\">]</span></span><span class=\"token quantifier number\">+</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이 패턴이 기본적인 이메일 계정의 패턴이다. 하지만 RFC 2822에는 까다로운 규칙이 하나 더 있는데, 바로 ”<code class=\"language-text\">.</code>도 사용할 수 있지만, 계정이 <code class=\"language-text\">.</code>으로 시작하거나 끝나서는 안 된다.” 라는 규칙이다.</p>\n<p>물론 문자열이 <code class=\"language-text\">.</code>으로 시작하거나 끝나지 않는 지를 검사하는 문제는 <code class=\"language-text\">^</code>과 <code class=\"language-text\">$</code> 앵커를 사용하면 간단하게 해결할 수 있지만, 중간에 <code class=\"language-text\">.</code>이 등장하는 경우는 어떻게 처리해야할 지 애매하다.</p>\n<p>사실 이렇게 어떤 문자가 중간에 등장할 수도 있고 아닐 수도 있다는 패턴을 가장 간단하게 정의하는 방법은 별 게 없다.</p>\n<blockquote>\n<p><code class=\"language-text\">.</code>은 무조건 계정의 중간에 등장한다. 즉, <code class=\"language-text\">.</code> 뒤에는 반드시 <code class=\"language-text\">[\\w!#$%&amp;'*+-/=?^_{|}~]</code> 패턴이 다시 등장해야한다.</p>\n</blockquote>\n<p>조금 더 정리해보자면, <code class=\"language-text\">.어쩌고저쩌고</code> 라는 패턴은 계정 문자열 내에 등장할 수도 있고 등장하지 않을 수도 있으며, 만약 등장했다고 하면 반드시 <code class=\"language-text\">.</code> 뒤에는 다른 문자들이 있어야한다는 것이다.</p>\n<p>이 패턴만 따로 떼어내서 정규식으로 표현해보자면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"regex\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-regex line-numbers\"><code class=\"language-regex\"><span class=\"token group punctuation\">(?:</span><span class=\"token special-escape escape\">\\.</span><span class=\"token char-class\"><span class=\"token char-class-punctuation punctuation\">[</span><span class=\"token char-set class-name\">\\w</span>!#$%&amp;'*+/=?^_{|}~-<span class=\"token char-class-punctuation punctuation\">]</span></span><span class=\"token quantifier number\">+</span><span class=\"token group punctuation\">)</span><span class=\"token quantifier number\">*</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>먼저 <code class=\"language-text\">(?:</code>과 <code class=\"language-text\">)</code>로 묶어준 부분부터 살펴보자. 이 표현은 이전 포스팅에서 설명한 캡쳐링 기능과 동일한 역할을 한다.</p>\n<p>사실 캡쳐링은 캡쳐 외에도 여러 개의 표현을 그룹핑하는 기능 또한 가지고 있는데, 이때 그룹핑을 하는 <code class=\"language-text\">()</code>의 앞 쪽에 <code class=\"language-text\">?:</code>라는 표현을 포함시켜주면 캡쳐링 기능은 사용하지 않고 그룹핑 기능만 사용하겠다는 것을 의미하는 것이다.</p>\n<p>그래서 이 기능을 캡쳐링을 하지 않는 그룹을 만든다고 해서 “Non-Capturing Group”라고 한다.</p>\n<p>그리고 그룹 안쪽의 표현 중 <code class=\"language-text\">\\.</code>은 <code class=\"language-text\">.</code>이라는 문자 그 자체를 의미한다. 만약 이스케이핑 처리 없이 <code class=\"language-text\">.</code>만 적었다면 정규식 엔진은 해당 문자를 <code class=\"language-text\">.</code>이 아닌 모든 문자를 의미하는 캐릭터 클래스로 해석할 것이기 때문에, <code class=\"language-text\">.</code>이라는 문자 그대로 해석할 수 있도록 이스케이핑 처리를 해준 것이다.</p>\n<p>그 뒤로는 앞서 계정 패턴에 사용했던 <code class=\"language-text\">[\\w!#$%&amp;'*+/=?^_{|}~-]+</code> 패턴을 그대로 적어주었다. 즉, <code class=\"language-text\">.</code> 뒤에는 저 패턴이 반드시 1개 이상 따라온다는 것을 표현한 것이다.</p>\n<p>그리고 마지막으로 이 전체 패턴은 나타날 수도 있고 나타나지 않을 수도 있다는 것을 표현해주기 위해 그룹이 끝나는 <code class=\"language-text\">)</code> 부분 뒤 쪽에 0번 또는 그 이상의 패턴이 출몰할 수 있다는 <code class=\"language-text\">*</code> 수량자를 붙혀주었다.</p>\n<p>이제 이 패턴을 앞서 정의한 <code class=\"language-text\">[\\w!#$%&amp;'*+/=?^_{|}~-]+</code> 패턴과 합쳐주면 올바른 이메일 계정을 잡아낼 수 있는 패턴이 완성된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[\\w!#$%&amp;'*+/=?^_{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_{|}~-]+)*$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 영어 + 숫자</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token comment\">// 계정 중간이 .으로 나누어짐</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91.test'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token comment\">// .으로 끝나거나 시작함</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.bboydart91'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"도메인\" style=\"position:relative;\">도메인<a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8\" aria-label=\"도메인 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이제 정규식을 사용하여 올바른 이메일 계정을 구분할 수 있는 패턴을 정의했으니, 남은 것은 올바른 도메인을 구분할 수 있는 패턴을 정의하는 것 뿐이다.</p>\n<p>RFC 2822에 따르면 도메인은 “영어로 된 호스트와 도메인 식별자가 <code class=\"language-text\">.</code>으로 연결된 형태”라고 했으니, 패턴 매칭의 조건이 크게 어려운 것은 아니다.</p>\n<p>그러나 조건을 잘 살펴보면 호스트와 도메인 식별자가 <code class=\"language-text\">.</code>으로 연결된 형태라고만 하고 있을 뿐이지 <code class=\"language-text\">.</code>이 단 한번만 등장한다는 이야기가 없기 때문에 이 부분을 신경써줘야한다. 즉, <code class=\"language-text\">google.com</code>과 같은 패턴 뿐만 아니라 <code class=\"language-text\">google.co.kr</code> 처럼 <code class=\"language-text\">.</code>이 여러 번 등장하는 녀석들도 다 잡아줘야 한다는 것이다.</p>\n<p>이런 애매한 패턴들도 방금 전 계정 패턴을 정의할 때 사용했던 Non-Capturing Group을 사용하면 간단하게 정의할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(?:\\w+\\.)+\\w+$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">(?:\\w+\\.)+</code>은 <code class=\"language-text\">google.</code>과 같이 워드 그룹과 <code class=\"language-text\">.</code>이 합쳐진 패턴이 반드시 한 번 이상 나타나야 한다는 것을 표현하고, 이어지는 <code class=\"language-text\">\\w+</code>는 <code class=\"language-text\">.</code> 뒤에도 워드 그룹으로 이루어진 문자열이 반드시 한 번 이상 나타나야 한다는 것을 표현한 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 호스트와 도메인 식별자가 모두 존재</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google.co.kr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span>\n\n<span class=\"token comment\">// 도메인 식별자가 없음</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\n\n<span class=\"token comment\">// 호스트가 없음</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.co.kr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"계정-패턴-표현식과-도메인-패턴-표현식을-합치자\" style=\"position:relative;\">계정 패턴 표현식과 도메인 패턴 표현식을 합치자<a href=\"#%EA%B3%84%EC%A0%95-%ED%8C%A8%ED%84%B4-%ED%91%9C%ED%98%84%EC%8B%9D%EA%B3%BC-%EB%8F%84%EB%A9%94%EC%9D%B8-%ED%8C%A8%ED%84%B4-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%84-%ED%95%A9%EC%B9%98%EC%9E%90\" aria-label=\"계정 패턴 표현식과 도메인 패턴 표현식을 합치자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이제 올바른 이메일 계정과 도메인을 잡아낼 수 있는 정규식을 정의했으니 마지막 조건인 “계정과 도메인은 <code class=\"language-text\">@</code>으로 연결되어있다”를 만족시키기 위해, 이 두 표현을 <code class=\"language-text\">@</code>로 합쳐주기만 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 계정 패턴: ^[\\w!#$%&amp;'*+/=?^_{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_{|}~-]+)*</span>\n<span class=\"token comment\">// 도메인 패턴 (?:\\w+\\.)+\\w+$</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[\\w!#$%&amp;'*+/=?^_{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_{|}~-]+)*@(?:\\w+\\.)+\\w+$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart.evan@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart@naver.co.kr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.bboydart91@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91@gmail'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91.@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"전화번호\" style=\"position:relative;\">전화번호<a href=\"#%EC%A0%84%ED%99%94%EB%B2%88%ED%98%B8\" aria-label=\"전화번호 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>전화번호 같은 경우는 지난 포스팅인 <a href=\"/2020/07/24/about-regular-expression\">불규칙 속에서 규칙을 찾아내는 정규표현식</a>에서 한 차례 언급한 바가 있지만, 이전 포스팅을 읽지 못하신 독자분들을 위해 한번 더 언급하려고 한다.</p>\n<p>전화번호 또한 이메일과 마찬가지로 유저에게 입력받는 경우가 많은 정보이기 때문에 전화번호를 잡아낼 수 있는 패턴을 숙지하고 있으면 좋기 때문이다.</p>\n<p>대한민국의 전화번호는 총 3가지 패턴을 가지고 있는데, 휴대폰 번호같은 경우 반드시 맨 앞에는 3자리의 통신사 식별번호가 위치하고 그 뒤에는 4자리의 전화번호 필드가 두 번 반복되는 형태를 가지며, 그 외 유선전화는 2-3자리의 지역번호 뒤로 3-4 자리의 필드와 4자리의 필드가 반복되는 형태를 가진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'010-0101-0101'</span>\n<span class=\"token string\">'02-0101-0101'</span>\n<span class=\"token string\">'031-010-0101'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이렇듯 전화번호라는 정보는 그저 숫자들이 일정 횟수만큼 반복적으로 나타나는 패턴 뿐이기 때문에 이 패턴을 잡아내기 위한 정규식 또한 간단하게 작성할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d{2,3}-?\\d{3,4}-?\\d{4}$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01012341234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'010-1234-1234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0212341234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02-1234-1234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'031-123-1234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>전화번호는 각 필드의 자릿수가 명확하게 정해져있기 때문에 단순한 수량자 표현만으로도 패턴을 잡아낼 수 있다. 또한 전화번호 중간의 하이픈(<code class=\"language-text\">-</code>)은 등장할 수도 있고 아닐 수도 있으므로 0 또는 1회를 의미하는 수량자인 <code class=\"language-text\">?</code> 를 사용하여 패턴을 처리해주었다.</p>\n<p>이렇게 전화번호 패턴을 잡아내는 표현식 자체는 간단하지만, 의외로 신경쓰고 있지 않던 부분에서 실수를 하는 경우가 생기는데, 바로 이런 패턴을 사용하는 상황 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 휴대폰 번호를 잡아내는 패턴</span>\n<span class=\"token operator\">/</span><span class=\"token number\">010</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이 패턴의 문제는 <code class=\"language-text\">010</code>이라는 통신사 식별번호를 가지고 있는 휴대폰 번호만 잡아낼 수 있다는 것이다.</p>\n<p>필자같은 아재들이야 <code class=\"language-text\">011</code>, <code class=\"language-text\">017</code>, <code class=\"language-text\">018</code> 등의 번호가 있던 시절을 아직 기억하고 있기 때문에 이런 실수를 할 확률이 낮지만, 간혹 2000년대에 출생하신 분들 중에서 이 부분을 놓치는 경우를 간혹 보았었다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5d22138cdc7f106c76184f763b009060/41099/old_phone.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAF4bZikSGP/xAAbEAACAQUAAAAAAAAAAAAAAAAAAQISEyEiMv/aAAgBAQABBQLQqki2xYHy5s//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8BMX//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEQMUH/2gAIAQEABj8CwfYxT//EABkQAQEBAQEBAAAAAAAAAAAAAAERACExQf/aAAgBAQABPyEATpndAlQ/HQ9evc7BjOi0uQ7/2gAMAwEAAgADAAAAEGPf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxDBMp//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QHY//xAAZEAEBAAMBAAAAAAAAAAAAAAABEQAhMUH/2gAIAQEAAT8QYwEaGgeFyCchT3fIcxh2hVybek20lTmWCj0aO+ZWrXP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"old phone\" title=\"\" src=\"/static/5d22138cdc7f106c76184f763b009060/41099/old_phone.jpg\" srcset=\"/static/5d22138cdc7f106c76184f763b009060/0913d/old_phone.jpg 160w,\n/static/5d22138cdc7f106c76184f763b009060/cb69c/old_phone.jpg 320w,\n/static/5d22138cdc7f106c76184f763b009060/41099/old_phone.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>1996년 신상 \"걸면 걸리는 걸리버 폰\"...필자의 아버지도 이 폰을 쓰셨던 기억이 있다</small>\n</center>\n<p>물론 정부와 통신사들이 <code class=\"language-text\">01x</code> 번호를 <code class=\"language-text\">010</code>으로 통합하려고 노력하고 있지만 아직까지 추억의 번호를 버리지 못하시는 분들도 꽤나 있기 때문에, 우리는 <code class=\"language-text\">01[0|1|6|7|8|9]</code>처럼 <code class=\"language-text\">011</code>이나 <code class=\"language-text\">016</code>, <code class=\"language-text\">018</code> 등의 통신사 식별번호도 잡아낼 수 있는 패턴을 사용해야한다.</p>\n<h3 id=\"비밀번호\" style=\"position:relative;\">비밀번호<a href=\"#%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8\" aria-label=\"비밀번호 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>비밀번호는 사용자의 인증, 보안과 직결된 정보이기 때문에 유효성을 검사해야하는 정보들 중에서도 꽤 까다로운 검사 조건을 자랑하는 녀석이다.</p>\n<p>지금 바로 생각나는 조건은 대략 세 가지 정도인데, 이 조건들은 기본적인 보안 수준을 지키기 위함이기 때문에 서비스 종류를 망라하고 대부분의 서비스에서 지켜지는 녀석들이다.</p>\n<blockquote>\n<ul>\n<li>반드시 소문자, 대문자, 숫자, 특수 문자가 하나씩 포함되어야한다.</li>\n<li>같은 문자가 3번 이상 반복되면 안된다.</li>\n<li>8글자 이상이어야 한다.</li>\n</ul>\n</blockquote>\n<p>이때 사용자가 비밀번호를 틀렸을 때 얼마나 상세한 에러메세지를 보여줄 계획이냐에 따라서 이 조건들을 한 번에 검사하기도 하고 따로 검사하기도 한다.</p>\n<p>가장 첫 번째 조건은 비밀번호 안에 반드시 영어 소문자, 대문자, 숫자, 특수문자가 하나씩은 포함되어있어야 한다는 조건이다. 물론 이 조건을 하나씩 따로 따로 검사한다면 간단하게 <code class=\"language-text\">/[a-z]/g</code>이나 <code class=\"language-text\">/\\d/g</code>와 같은 표현식으로 간단하게 검사할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> password <span class=\"token operator\">=</span> <span class=\"token string\">'test1234!'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 따로 검사</span>\n<span class=\"token keyword\">const</span> hasNumberPattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\d</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasLowerCasePattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasUpperCasePattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[A-Z]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasSpecialCharPattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\W</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>hasNumberPattern<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'비밀번호에는 숫자가 하나 이상 어쩌고...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>hasLowerCasePattern<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'비밀번호에는 영어 소문자가 하나 이상 어쩌고...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>하지만 문제는 이 조건들을 한 번에 검사하고 싶을 때 발생한다. 단순하게 <code class=\"language-text\">[a-zA-Z\\d]</code> 등의 커스텀 그룹으로 검사하려고 한다면 이 중 단 하나의 패턴만 비밀번호에 포함되어 있어도 조건이 통과되어 버릴테고, <code class=\"language-text\">[a-z]+[A-Z]+</code>등의 패턴으로 검사하려고 하면 반드시 “소문자 다음에는 대문자가 와야함”과 같은 순서가 생겨버리기 때문이다.</p>\n<p>이런 상황에서 우리는 약간 트리키(Tricky)한 방법을 사용하여 이 문제를 해결할 수 있다.</p>\n<h4 id=\"lookaround를-사용하여-유효성-검사하기\" style=\"position:relative;\">Lookaround를 사용하여 유효성 검사하기<a href=\"#lookaround%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC%ED%95%98%EA%B8%B0\" aria-label=\"lookaround를 사용하여 유효성 검사하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>그 방법은 바로 특정 패턴 앞에 나타나는 패턴을 표현하는 방법인 Positive Lookahead(<code class=\"language-text\">(?=)</code>)를 사용하는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// ://이라는 문자 앞에 등장하는 https를 잡아줘!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">https(?=:\\/\\/)</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">regex<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// null</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ['https']</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이렇게 특정 표현의 앞이나 뒤에 나타나는 패턴을 잡아내는 표현을 “Lookaround”라고 하며, Lookaround는 총 4가지 패턴으로 다시 분류된다.</p>\n<table>\n<thead>\n<tr>\n<th>이름</th>\n<th>패턴</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Positive Lookahead</td>\n<td><code class=\"language-text\">abc(?=123)</code></td>\n<td><code class=\"language-text\">123</code> 앞에 오는 <code class=\"language-text\">abc</code>를 잡아라</td>\n</tr>\n<tr>\n<td>Negative Lookahead</td>\n<td><code class=\"language-text\">abc(?!123)</code></td>\n<td><code class=\"language-text\">123</code> 앞에 오지 않는 <code class=\"language-text\">abc</code>를 잡아라</td>\n</tr>\n<tr>\n<td>Positive Lookbehind</td>\n<td><code class=\"language-text\">(?&lt;=123)abc</code></td>\n<td><code class=\"language-text\">123</code> 뒤에 오는 <code class=\"language-text\">abc</code>를 잡아라</td>\n</tr>\n<tr>\n<td>Negative Lookbehind</td>\n<td><code class=\"language-text\">(?&lt;!123)abc</code></td>\n<td><code class=\"language-text\">123</code> 뒤에 오지 않는 <code class=\"language-text\">abc</code>를 잡아라</td>\n</tr>\n</tbody>\n</table>\n<p>주위를 둘러보라는 “Look around”라는 단어의 의미처럼, Lookaround 표현은 말 그대로 특정 패턴의 앞뒤로 나타나는 패턴이 있는지를 검사하는 용도로 사용되는 표현이지만, 이 표현을 해석하는 정규식 엔진의 작동 원리를 잘 이용하면 문자열 내에 특정한 패턴의 글자가 1번 이상 나타났는지를 잡아내야하는 경우에도 유용하게 사용할 수 있다.</p>\n<p>일단 Lookaround 표현 자체는 특정 문자를 잡아내기 위한 표현이 아니기 때문에 마치 <a href=\"/2020/07/24/about-regular-expression/#%EB%AC%B8%EC%9E%90%EA%B0%80-%EC%95%84%EB%8B%8C-%EA%B2%BD%EA%B3%84%EB%A5%BC-%EC%9E%A1%EC%95%84%EB%82%B4%EB%8A%94-%EC%95%B5%EC%BB%A4\">\\b 앵커</a>처럼 일종의 경계로 인식된다. 또한 한 가지 중요한 특징은 정규식 엔진이 Lookaround를 사용하여 특정 문자와 매칭에 성공하더라도 마치 해당 매칭이 없었던 것처럼 작동한다는 것이다.</p>\n<p>무슨 이야기인지 잘 이해가 안 가시는 분들을 위해 조금 더 자세한 예시를 들어보도록 하겠다. 만약 <code class=\"language-text\">quit</code>라는 문자열에 <code class=\"language-text\">q(?=u)i</code>와 같은 표현식을 적용해보면 정규식 엔진은 다음과 같이 작동한다.</p>\n<blockquote>\n<ol>\n<li>엔진은 문자열의 <code class=\"language-text\">q</code>를 매칭하려 함. 정규식의 <code class=\"language-text\">q</code> 리터럴과 매칭 성공</li>\n<li>엔진은 문자열의 <code class=\"language-text\">u</code>를 매칭하려 함. 정규식의 <code class=\"language-text\">(?=u)</code> 내부의 <code class=\"language-text\">u</code>가 있기에 매칭 성공. 그리고 엔진은 이 패턴과 <code class=\"language-text\">u</code> 문자가 Lookaround로 매칭 성공되었다는 사실을 잊어버린다.</li>\n<li>이제 엔진은 Lookaround 패턴 뒤에 위치한 패턴을 사용하여 다시 문자열의 <code class=\"language-text\">u</code>를 매칭해보려고 시도함.</li>\n<li>근데 표현식의 다음 표현은 <code class=\"language-text\">i</code>임. <code class=\"language-text\">u</code>와 매칭 실패하고 종료.</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">q(?=u)i</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'quit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">null</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이건 어찌보면 당연한 수순인데, <code class=\"language-text\">(?=u)</code>와 같은 Lookaround 표현은 단지 해당 표현 앞에 오는 패턴을 잡아내기 위한 재료일 뿐이지, 실제로 <code class=\"language-text\">u</code>라는 글자를 잡아내기 위한 표현이 아니기 때문이다. 그래서 정규식 엔진은 Lookaround를 사용하여 <code class=\"language-text\">u</code>라는 문자를 매칭했음에도 매칭 성공 후에 <code class=\"language-text\">u</code>라는 문자에 다시 매칭을 시도하는 것이다.</p>\n<p>만약 <code class=\"language-text\">(?=u)</code> 패턴 뒤의 리터럴 표현을 <code class=\"language-text\">i</code>가 아니라 <code class=\"language-text\">u</code>로 바꾸어주면 4번 조건을 통과하면서 매칭을 성공하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">q(?=u)u</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'quit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"qu\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이때 가장 중요한 포인트는 정규식 엔진이 Lookaround로 한번 매칭되었던 문자는 재료로써의 매칭만 성공했기 때문에 정식 매칭 성공이 아니라고 판단하여, Lookaround 표현의 뒤에 위치한 표현을 사용하여 다시 해당 문자에 매칭을 시도한다는 것이다.</p>\n<p>정규식 엔진의 이런 특성을 잘 사용하면 Lookaround 표현을 마치 <code class=\"language-text\">if</code>문 처럼 사용할 수도 있다. 그렇다면 이 방법을 사용하여 아까 필자가 정의했던 비밀번호의 조건 중 하나를 검사해보자.</p>\n<blockquote>\n<p>반드시 소문자, 대문자, 숫자, 특수 문자가 하나씩 포함되어야한다.</p>\n</blockquote>\n<p>하지만 이 조건을 한 번에 모두 검사하면 표현식이 길어질 것 같으니, 우선은 비밀번호 안에 반드시 숫자가 포함되어 있는지만 한번 검사를 해보면 좋을 것 같다. 이때 방금 학습한 Positive Lookahead 표현을 사용하여 해당 조건 여부를 검사해볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=\\d).</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abc123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>여기서 정규식이 <code class=\"language-text\">1</code>이라는 문자를 잡아낸 이유는 위에서 이야기했던 것처럼 <code class=\"language-text\">(?=\\d)</code>라는 표현이 <code class=\"language-text\">1</code>과 매칭이 되었고, 이후 정규식 엔진이 해당 표현 바로 뒤에 오는 <code class=\"language-text\">.</code>으로 다시 한번 동일한 문자에 매칭을 시도했기 때문이다.</p>\n<p>이 과정을 조금 더 쉽게 의사코드로 다시 풀어보자면 이런 느낌이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=\\d)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=\\d)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 매칭에 성공했으니 이 패턴은 제거</span>\n  <span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 그 뒤에 오는 패턴으로 동일한 문자에 다시 매칭 시도</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>즉, 정규식 엔진이 <code class=\"language-text\">.</code>이라는 리터럴 표현을 가지고 매칭을 시도했다는 것은 그 앞에 있던 <code class=\"language-text\">(?=\\d)</code>라는 표현으로 이미 해당 문자에 매칭을 성공했다는 의미인 것이다.</p>\n<p>이제 숫자를 검사했으니 나머지 조건인 영어 소문자와 대문자, 그리고 특수문자도 동일한 방식을 사용하여 앞 쪽에 줄줄이 붙혀주기만 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// \\d = 숫자</span>\n<span class=\"token comment\">// [a-z] = 영어 소문자</span>\n<span class=\"token comment\">// [A-Z] = 영어 대문자</span>\n<span class=\"token comment\">// [\\W] = Word 그룹(숫자, 영어)가 아닌 문자</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>z<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span><span class=\"token constant\">Z</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span>\\<span class=\"token constant\">W</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>g</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>여기서 <code class=\"language-text\">\\W</code> 캐릭터 클래스는 사실 영어, 숫자가 아닌 문자를 의미하는 클래스라서 특수문자 뿐 아니라 한글이나 키릴문자 같은 문자도 전부 포함되기는 하는데, 일일히 특수문자를 나열하기는 가독성이 너무 떨어지니<small><del>귀찮으니</del></small> 대충 썼다. <small>(실제로 사용할 때는 <code class=\"language-text\">!@#$%^...</code>처럼 일일히 나열해주는 방식으로 변경해줘야한다.)</small></p>\n<p>이런 식으로 비밀번호의 나머지 조건인 “같은 문자가 3번 이상 반복되면 안 된다”와 “8자리 이상이어야 한다”라는 조건도 동일한 방법으로 검사해볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\\W])(?!.*(.)\\1{2}).{8,}</span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<table>\n<thead>\n<tr>\n<th>표현</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">(?=.*\\d)</code></td>\n<td>연속 또는 하나만 나타날 수 있는 <code class=\"language-text\">\\d</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?=.*[a-z])</code></td>\n<td>연속 또는 하나만 나타날 수 있는 <code class=\"language-text\">[a-z]</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?=.*[A-Z])</code></td>\n<td>연속 또는 하나만 나타날 수 있는 <code class=\"language-text\">[A-Z]</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?=.*[\\W])</code></td>\n<td>연속 또는 하나만 나타날 수 있는 <code class=\"language-text\">[\\W]</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?!.*(.)\\1{2})</code></td>\n<td>연속적으로 3번 나타나지 않는 모든 문자</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">.{8,}</code></td>\n<td>위 조건을 모두 통과한 8자리 문자열 패턴</td>\n</tr>\n</tbody>\n</table>\n<p>이 표현은 앞 쪽의 Positive Lookahead와 Negative Lookahead의 조건을 모두 통과해야 비로소 맨 마지막의 <code class=\"language-text\">.{8,}</code> 표현과 매칭을 시도할 것이기 때문에, 이 조건을 통과한 문자열은 우리가 정의했던 비밀번호의 모든 조건을 통과했다는 의미가 된다.</p>\n<p>물론 비밀번호를 이렇게 하나의 정규식 표현으로 검사해버리면 사용자에게 “비밀번호가 올바르지 않습니다” 정도의 에러 메세지 밖에 보여줄 수 없기 때문에 이렇게 한번에 처리하는 경우가 오히려 드물기는 하지만, Lookaround를 사용한 조건 처리 방법은 꽤나 유용한 편이라고 생각이 들어서 이렇게 설명하게 되었다.</p>\n<h2 id=\"불규칙한-문자열에서-원하는-정보만-골라내기\" style=\"position:relative;\">불규칙한 문자열에서 원하는 정보만 골라내기<a href=\"#%EB%B6%88%EA%B7%9C%EC%B9%99%ED%95%9C-%EB%AC%B8%EC%9E%90%EC%97%B4%EC%97%90%EC%84%9C-%EC%9B%90%ED%95%98%EB%8A%94-%EC%A0%95%EB%B3%B4%EB%A7%8C-%EA%B3%A8%EB%9D%BC%EB%82%B4%EA%B8%B0\" aria-label=\"불규칙한 문자열에서 원하는 정보만 골라내기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>대부분의 경우 정규식은 유저의 입력을 검증하는 일에 많이 사용되고는 하지만, 사실 정규식의 존재 의의는 단지 정보를 검증하는 것이라기보다 불규칙한 정보 속에서 특정한 패턴을 찾아내어 추출하는 것에 가깝다.</p>\n<p>이번에는 일상 속에서 필자가 경험했던 사례들과 함께 정규식을 사용하여 어떻게 문제를 해결했었는지에 대한 이야기를 해보려고 한다.</p>\n<h3 id=\"주어진-문자열-내에서-숫자만-골라내기\" style=\"position:relative;\">주어진 문자열 내에서 숫자만 골라내기<a href=\"#%EC%A3%BC%EC%96%B4%EC%A7%84-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%82%B4%EC%97%90%EC%84%9C-%EC%88%AB%EC%9E%90%EB%A7%8C-%EA%B3%A8%EB%9D%BC%EB%82%B4%EA%B8%B0\" aria-label=\"주어진 문자열 내에서 숫자만 골라내기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>주어진 문자열 내에서 숫자만 골라내야하는 상황은 생각보다 현업에서 많이 마주치는 문제 중 하나이다. 필자의 경우에는 원본 데이터를 직접 수정할 수 없는 상황에서 금액이나 나이를 의미하는 숫자만 걸러내어 데이터를 정규화하거나 다른 포맷으로 보여줘야하는 상황을 많이 겪었던 것 같다.</p>\n<p>예를 들어 어떤 API를 사용했는데, 이 API에서는 금액 정보를 <code class=\"language-text\">1000</code>과 같은 Number 자료형이 아닌 <code class=\"language-text\">1,000원</code>과 같은 포맷팅된 문자열로 내려준다고 생각해보자. 그리고 이 데이터를 사용하는 클라이언트에서는 이런 비즈니스 로직을 작성해야하는 상황이다.</p>\n<blockquote>\n<p>“1,000원”과 “2,000원” 중 어떤 것이 큰 금액일까?</p>\n</blockquote>\n<p>물론 가장 좋은 상황은 원본 데이터가 <code class=\"language-text\">1000</code>과 같은 Number 자료형으로 내려오고 데이터를 사용하는 쪽에서 적절한 후처리를 통해 가공하는 것이지만, 그렇게 API를 수정해버리면 이 API가 전체 서비스 중 어느 부분에서 사용되고 있는지 전부 파악하고 이 API를 사용하는 클라이언트의 소스를 모두 수정해줘야 하기 때문에 리스크 관리 차원에서 그냥 넘어가는 경우도 꽤나 있다.</p>\n<p>이런 상황 속에서 개발자는 <code class=\"language-text\">1,000원</code>이라는 문자열에서 콤마와 “원”이라는 글자를 제외하고 <code class=\"language-text\">1000</code>이라는 숫자만 뽑아온 후 두 개의 금액을 비교하는 과정을 거쳐야 할 것이다.</p>\n<p>만약 정규식이 없다면 이 문자열을 <code class=\"language-text\">split</code> 메소드를 통해 분해하고 이렇게 만들어진 배열을 순회하면서 이 문자가 숫자인지 아닌지 구분해야하거나 <code class=\"language-text\">String.prototype.replace</code>를 2번씩 해줘야하는 번거로운 과정을 거쳐야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">NUMBERS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'6'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'7'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'8'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'9'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'1,000원'</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> <span class=\"token constant\">NUMBERS</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 또는</span>\n\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'1,000원'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'원'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">1000</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">String.prototype.replace</code> 메소드를 사용하는 방법도 꽤나 간단해보이기는 하지만, 이 방법의 한계는 <code class=\"language-text\">,</code>나 <code class=\"language-text\">원</code> 이외에 다른 문자가 섞여버리면 그 문자의 경우의 수만큼 <code class=\"language-text\">replace</code>를 반복해야하거나 코드를 수정해줘야 한다는 것이다. <small>(<code class=\"language-text\">1,000원...일까요?</code> 같은 문자열이 들어오는 순간 망한다)</small></p>\n<p>물론 똑같이 문자열 내에서 숫자만 발라내는 코드지만, 정규식을 사용하면 상대적으로 간편하고 유연하게 문제를 해결할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'1,000원'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^0-9]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 또는</span>\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'1,000원'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^\\d]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// or</span>\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'1,000원'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\D</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">1000</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>자바스크립트의 <code class=\"language-text\">String.prototype.replace</code> 메소드는 특정 문자열을 검색한 후에 두 번째 인자로 주어진 문자열로 모두 치환해주는 메소드이다. <code class=\"language-text\">replace</code> 메소드는 정규식을 사용하여 원하는 문자 패턴을 찾는 기능을 지원하고 있기 때문에, 정규식을 사용하여 “숫자가 아닌 것”을 잡아서 모두 빈 문자열로 치환해버린다면 우리가 원하는 바인 “숫자만 골라내기”라는 문제를 해결할 수 있는 것이다.</p>\n<p>즉, 필자가 사용했던 <code class=\"language-text\">[^0-9]</code>, <code class=\"language-text\">[^\\d]</code>, <code class=\"language-text\">\\D</code> 라는 키워드들은 모두 숫자가 아닌 문자들을 잡아내는 키워드를 의미하기 때문에 “숫자가 아닌 것”을 저 정규식들로 한 방에 잡아내어 없애버릴 수 있었던 것이다.</p>\n<p>물론 처음 필자가 작성했던 예시처럼 정규식을 사용하지 않고도 <code class=\"language-text\">split</code>, <code class=\"language-text\">filter</code>, <code class=\"language-text\">join</code>, <code class=\"language-text\">replace</code> 메소드를 조합하더라도 당장 문제를 해결하는데는 아무 어려움이 없지만, 현실에는 문자열 속에서 숫자만 찾아내는 수준의 간단한 문제보다 복잡한 수준의 문제들이 즐비해 있다는 사실을 잊어서는 안된다.</p>\n<p>그럼 현실 속에서 만날 수 있는 문제들 중 조금 더 어려운 문제를 하나만 더 보도록 하자.</p>\n<h3 id=\"문장-속에서-금액만-추출하기\" style=\"position:relative;\">문장 속에서 금액만 추출하기<a href=\"#%EB%AC%B8%EC%9E%A5-%EC%86%8D%EC%97%90%EC%84%9C-%EA%B8%88%EC%95%A1%EB%A7%8C-%EC%B6%94%EC%B6%9C%ED%95%98%EA%B8%B0\" aria-label=\"문장 속에서 금액만 추출하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이번에는 방금 전 봤던 문제와 같은 맥락이지만 조금 더 복잡한 문제를 한번 해결해보려고 한다. 방금 우리가 경험했던 문제는 <code class=\"language-text\">1,000원</code>이라는 누가 봐도 명확히 금액을 의미하는 작은 단어에서 숫자를 의미하는 부분만 뽑아내는 것이었다면, 이번에는 자연어로 이루어진 긴 문장 속에서 금액을 의미하는 부분만 찾아내어 금액 데이터를 추출해야한다.</p>\n<p>예시 문장은 부자가 되고 싶다는 필자의 염원을 담아 적당한 기사에서 발췌해왔다.</p>\n<blockquote>\n<p>현재까지 로또 복권의 판매금액은 38조40230억2565만7000원. 2014년 기준 회당 평균 580억원 가량의 로또가 팔린다. 조사에 따르면 1인당 평균 구매액은 9400원으로 19세 이상 성인 인구 기준 매주 약 512만 명이 로또를 구입한다.</p>\n<p><strong>중앙일보</strong> <em><a href=\"https://news.joins.com/article/20308275\" target=\"_blank\" rel=\"nofollow\">로또 1등 당첨돼 189억 받은 남성 지금은…</a></em></p>\n</blockquote>\n<p>이렇게 긴 자연어 문장 속에서 금액을 의미하는 데이터만 추출해야하는 상황이라면 우리가 풀어야 할 문제는 총 두 가지의 작은 문제로 나눠볼 수 있다.</p>\n<blockquote>\n<ol>\n<li>많은 숫자들 중에서 금액을 의미하는 단어만 뽑아내기</li>\n<li><code class=\"language-text\">580억원</code>과 같은 단어를 Number형인 <code class=\"language-text\">5800000000</code>으로 변환하기</li>\n</ol>\n</blockquote>\n<p>이 중 두 번째 문제는 정규식만으로 해결하기에는 약간 무리가 있으니, 우리는 첫 번째 문제인 “많은 숫자들 중에서 금액을 의미하는 단어만 뽑아내기”에만 집중해보도록 하자.</p>\n<p>만약 이 문제를 해결할 때 필자가 위에서 사용했던 <code class=\"language-text\">\\d</code>나 <code class=\"language-text\">[0-9]</code>와 같은 키워드를 사용하게 되면 금액을 의미하는 숫자가 아닌 <code class=\"language-text\">2014년</code>, <code class=\"language-text\">1인당</code>, <code class=\"language-text\">19세</code>, <code class=\"language-text\">512만명</code>에 포함된 숫자도 함께 뽑혀나올 것이므로 우리는 방금과 같이 간단한 방법으로는 이 문제를 해결할 수가 없다.</p>\n<p>하지만 정규식이 강력한 진짜 이유는 이런 난해한 상황 속에서도 원하는 데이터를 뽑아낼 수 있는 패턴만 파악한다면 간단하게 문제를 해결할 수 있다는 점이다. 사실 일반적인 한글 문장 속에서 금액을 의미하는 단어가 불규칙하게 튀어나오는 것 같지만, 자세히 들여다보면 금액을 의미하는 단어는 특정한 패턴을 가지고 출몰한다.</p>\n<p>먼저, 금액을 의미하는 단어는 “철수는 영희에게 <code class=\"language-text\">1,000원</code>을 갚아야한다”, “철수의 이번 달 월급은 <code class=\"language-text\">30원</code>이다”와 같이 반드시 단어 앞에 띄어쓰기가 들어간다. 하지만 이 규칙은 금액 뿐 아니라 다른 숫자 데이터에도 동일하게 적용되는 한글의 문법이라 이것만으로는 이 숫자가 금액을 의미하는 숫자인지 파악하기가 어렵기 때문에 필자는 한 가지 패턴을 더 적용하려고 한다.</p>\n<p>사실 두 번째 패턴도 누구나 다 알 수 있는 패턴인데, 금액을 의미하는 데이터는 반드시 단위를 표현하는 무언가와 함께 출몰한다는 점이다. <code class=\"language-text\">$1,000</code>, <code class=\"language-text\">1,000원</code>, <code class=\"language-text\">₩1,000</code> 처럼 말이다. 위 문장에서의 금액 데이터는 반드시 숫자 뒤에 KRW를 의미하는 “원”이라는 글자 앞 쪽에 출몰하는 것을 알 수 있다.</p>\n<p>이렇게 패턴을 찾아내고 나면 그 다음부터는 정규식을 사용하여 이 패턴을 가진 단어를 찾아내기만 하면 되는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> string <span class=\"token operator\">=</span> <span class=\"token string\">'현재까지 로또 복권의 총 판매금액은 38조40230억2565만7000원. 2014년 기준 회당 평균 580억원 가량의 로또가 팔린다. 조사에 따르면 1인당 평균 구매액은 9400원으로 19세 이상 성인 인구 기준 매주 약 512만 명이 로또를 구입한다.'</span><span class=\"token punctuation\">;</span>\n\nstring<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?&lt;=\\s)\\S*?\\d+(?=원)</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"38조40230억2565만7000\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"9400\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">String.prototype.match</code> 메소드는 문자열 내에서 인자로 주어진 문자열이나 정규식과 매칭되는 부분을 찾아낼 수 있는 메소드이다. 이번에는 앞선 문제와 다르게 문장 내에서 금액을 표현하는 단어가 여러 개 출몰하기 때문에 <code class=\"language-text\">match</code> 메소드를 사용하여 정규식과 매칭된 모든 부분을 찾아낸 것이다.</p>\n<p>위 문제에서 사용했던 <code class=\"language-text\">[^\\d]</code>와 같은 단순한 표현과 다르게 이번에는 조금 더 복잡해보이는 표현을 사용했는데, 사실 이 정규식도 막상 뜯어보면 의미 자체는 크게 복잡하지 않다. <small>(다시 말하지만 정규식은 그냥 가독성이 떨어질 뿐 의미 자체는 어렵지않다)</small></p>\n<p>필자가 사용한 <code class=\"language-text\">(?&lt;=\\s)\\S*?\\d+(?=원)</code>라는 정규식의 의미는 대략 다음과 같다.</p>\n<blockquote>\n<p><code class=\"language-text\">(?&lt;=\\s)</code>: 공백(<code class=\"language-text\">\\s</code>) 뒤에 있고(<code class=\"language-text\">?&lt;=</code>)</p>\n<p><code class=\"language-text\">\\S*?</code>: 공백이 아닌 문자(<code class=\"language-text\">\\S</code>)가 있을 수도 있고 없을 수도 있으며(<code class=\"language-text\">*?</code>)</p>\n<p><code class=\"language-text\">\\d+</code>: 숫자(<code class=\"language-text\">\\d</code>)가 한 개 이상(<code class=\"language-text\">+</code>) 조합되어있고</p>\n<p><code class=\"language-text\">(?=원)</code>: “원”이라는 글자 앞에 있는(<code class=\"language-text\">?=원</code>) 녀석들</p>\n</blockquote>\n<p>이번 예시 문장 속에서 필자가 찾고자 한 패턴은 단순히 하나의 조건으로 이루어진 것이 아니라 여러 개의 조건으로 이루어진 꽤나 복잡한 패턴이기 때문에, <code class=\"language-text\">\\S</code>, <code class=\"language-text\">\\d</code>와 같은 단순한 키워드만 사용한 것이 아니라 정규식에서 제공하는 기능을 충분히 활용해야했다.</p>\n<p>그리고 특정 패턴 앞이나 뒤에 오는 패턴을 잡아내기 위해 위에서 설명했던 Lookahead와 Lookbehind 기능도 활용했으며, <a href=\"/2020/07/24/about-regular-expression/#greedy-vs-lazy\">이전 포스팅에서 설명했던 Greedy</a>도 사용했다.</p>\n<p>이렇듯 정규식은 단지 문자열 속에서 특정한 패턴을 잡아낼 수 있는 도구이기 때문에 이렇게 원하는 데이터를 뽑아내는 것 뿐 아니라, 사용자의 입력을 검증하거나 HTML, 자바스크립트와 같은 코드를 파싱하거나 JPG, OBJ와 같은 파일을 파싱하는 등 다양한 부분에서 활용될 수 있으니 한번 알아두면 여기저기에 써먹을 수 있는 꿀 지식이라고 할 수 있다.</p>\n<h2 id=\"문자열을-내가-원하는-포맷으로-변환하기\" style=\"position:relative;\">문자열을 내가 원하는 포맷으로 변환하기<a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4%EC%9D%84-%EB%82%B4%EA%B0%80-%EC%9B%90%ED%95%98%EB%8A%94-%ED%8F%AC%EB%A7%B7%EC%9C%BC%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EA%B8%B0\" aria-label=\"문자열을 내가 원하는 포맷으로 변환하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>앞선 예시에 몇 차례 언급된 바가 있지만 정규식은 문자열을 치환하여 내가 원하는 포맷으로 변경할 때도 꽤나 요긴하게 사용될 수 있다.</p>\n<p>가령 사용자의 중요한 정보를 <code class=\"language-text\">*</code>과 같은 문자로 일부 마스킹 처리를 해준다던가, 사용자가 입력한 전화번호나  카드번호 사이 사이에 <code class=\"language-text\">-</code>를 삽입하여 가독성을 높혀주는 경우처럼 말이다.</p>\n<p>이런 문제를 해결할 때 정규식의 캡쳐링 기능을 사용하면 생각보다 쉽게 풀리는 경우가 많다. 물론 캡쳐링 기능 자체는 굉장히 많은 상황에서 사용될 수 있지만, 특히 원하는 부분만 정확히 잡아내어 내가 원하는 문자로 치환해야하는 상황에서 빛을 발한다.</p>\n<h3 id=\"사용자의-정보-마스킹하기\" style=\"position:relative;\">사용자의 정보 마스킹하기<a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90%EC%9D%98-%EC%A0%95%EB%B3%B4-%EB%A7%88%EC%8A%A4%ED%82%B9%ED%95%98%EA%B8%B0\" aria-label=\"사용자의 정보 마스킹하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>간혹 서비스를 만들다보면 불특정한 사용자들의 리스트를 보여줘야하는 화면 내에서 각 사용자들의 민감정보를 마스킹해줘야 하는 경우가 왕왕 발생하는데, 이때 이 사용자들이 봇이 아닌 실제 사용자라는 인식을 주기 위해 전체 정보를 마스킹하는 것이 아닌 일부만 마스킹하는 경우가 많다.</p>\n<p>보통 이름같은 경우에는 성, 혹은 이름의 맨 앞 한 글자를 제외한 나머지를 마스킹하거나 전화번호의 경우에는 <code class=\"language-text\">010</code>과 같은 통신사 식별번호와 다음 필드의 한 두 글자를 제외한 나머지를 마스킹하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">mask</span> <span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span> headCount <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 문자열 맨 앞의 n 글자를 가져온다</span>\n  <span class=\"token keyword\">const</span> head <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">^.{</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>headCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// head를 제외한 나머지를 마스킹한다</span>\n  <span class=\"token keyword\">const</span> tails <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// head와 tails를 합친다</span>\n  <span class=\"token keyword\">return</span> head <span class=\"token operator\">+</span> tails<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'문동욱'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01012345678'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'문동*'</span>\n<span class=\"token string\">'01012******'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">mask</code> 함수는 마스킹할 글자 수를 인자로 받아서 처리하는 동작을 수행하기 때문에 정규표현식 또한 변수를 사용하여 생성해줘야하며, 이렇게 동적인 값을 사용하여 정규표현식을 생성할 때는 <code class=\"language-text\">/</code>을 사용한 리터럴 표현이 아닌 <code class=\"language-text\">RegExp</code> 객체를 직접 생성하여 표현식을 인자로 넘겨줘야한다.</p>\n<p>하지만 이렇게 단순히 글자 수만 세어서 마스킹 처리를 하게 되면 문제가 발생할 수 있는데, 바로 이런 케이스 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 응 외국인이야~</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E Van Moon'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 전화번호 구분 필드도 있어~</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'010-1234-5678'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 두 글자를 건너뛰고 마스킹하려 했지만...</span>\n<span class=\"token comment\">// 실제로 보이는 건 한 글자</span>\n<span class=\"token string\">'E ********'</span>\n\n<span class=\"token comment\">// 다섯 글자를 건너뛰고 마스킹하려 했지만...</span>\n<span class=\"token comment\">// 실제로 보이는 건 네 글자</span>\n<span class=\"token string\">'010-1********'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>사실 이런 경우는 그냥 무시하고 넘어가도 UX에 큰 지장은 없지만, <code class=\"language-text\">E V** ****</code>이나 <code class=\"language-text\">***-****-****</code>처럼 특정 문자는 마스킹이 되지 않도록 처리하는 것이 아무래도 완성도도 높고 가독성도 좋아지기 때문에 해둬서 나쁠 건 없다고 생각한다.</p>\n<p>이런 문제를 해결할 때 어려운 부분은 아무래도 맨 앞 글자 중 공백이나 <code class=\"language-text\">-</code>를 제외하고 글자 수를 세야한다는 점인데, 조금만 생각해보면 꽤나 간단하게 이 패턴을 만들어 낼 수 있다. 정규식의 수량자는 각각의 문자가 아니라 내가 정해준 패턴을 카운팅하는 것이기 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// (?:)로 그룹핑된 패턴이 2번 나왔음?</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span>\\<span class=\"token constant\">S</span><span class=\"token punctuation\">[</span>\\s<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이 표현은 공백이 아닌 문자(<code class=\"language-text\">\\S</code>) 뒤 쪽으로 공백이나 <code class=\"language-text\">-</code>가 있거나 없을 수 있다는 패턴이 2번 나타난 경우를 의미한다. 즉, <code class=\"language-text\">E E-</code>와 같은 문자열이 있는 경우 <code class=\"language-text\">E\\s</code>나 <code class=\"language-text\">E-</code> 패턴을 하나로 묶어서 카운팅한다는 것이다.</p>\n<p>이렇게 복잡한 패턴 전체를 수량자로 카운팅하기 위해서는 해당 패턴을 <code class=\"language-text\">(?:)</code>(Non Capturing Group)이나 <code class=\"language-text\">()</code>(Capturing Group)으로 그룹핑 해줘야 한다는 점도 잊지말자.</p>\n<p>이러한 정규식 수량자의 특성을 이용하면 앞의 n글자를 카운팅하여 마스킹하지 않는 조건과 공백이나 <code class=\"language-text\">-</code>는 이 카운팅에 포함하지 않는다는 조건을 간단하게 만족시킬 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">enhancedMask</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str<span class=\"token punctuation\">,</span> headCount <span class=\"token operator\">=</span> <span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// \\S[\\s-]* 패턴이 n번 나오는 경우를 모두 묶어서 head로 할당한다</span>\n  <span class=\"token keyword\">const</span> head <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">^(?:\\\\S[\\\\s-]*){</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>headCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// head를 제외한 나머지 부분 중 공백과 -를 제외한 부분을 마스킹한다</span>\n  <span class=\"token keyword\">const</span> tails <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^\\s-]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// head와 tails를 합친다</span>\n  <span class=\"token keyword\">return</span> head <span class=\"token operator\">+</span> tails<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E Van Moon'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'010-1234-5678'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'E V** ****'</span>\n<span class=\"token string\">'010-12**-****'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"ide-내에서-원하는-부분만-replace하기\" style=\"position:relative;\">IDE 내에서 원하는 부분만 Replace하기<a href=\"#ide-%EB%82%B4%EC%97%90%EC%84%9C-%EC%9B%90%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84%EB%A7%8C-replace%ED%95%98%EA%B8%B0\" aria-label=\"ide 내에서 원하는 부분만 replace하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>우리가 사용하는 대부분의 IDE나 코드 에디터들은 Find나 Replace 기능에 정규식을 사용할 수 있는 기능을 제공한다. 아무래도 코드라는 것은 특정한 패턴을 가지고 있는 문자열의 집합이다보니 단순한 문자열 검색보다는 정규식이 더 효율적일 수 있기 때문이다.</p>\n<p>정규식을 사용하여 원하는 코드를 찾아내거나 변경하는 예시는 여러가지가 있겠지만, 그 중에서도 필자가 평소에 자주 실수하는 상황을 한번 예시로 가져와봤다.</p>\n<p>자바스크립트의 모듈은 <code class=\"language-text\">default</code> 키워드를 사용하지 않고 상수나 함수 등을 그대로 <code class=\"language-text\">export</code>하는 경우에 모듈 자체를 하나의 객체로 평가하여 반환하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Test</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Test</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이때 이 모듈을 사용하는 쪽에서는 일반적으로 위의 예시처럼 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" target=\"_blank\" rel=\"nofollow\">구조 분해 할당(Destructuring assignment)</a>을 사용하여 원하는 값에 접근하게 되는데, 문제는 이 모듈의 <code class=\"language-text\">export</code> 방식이 중간에 변경되는 경우이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Test</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Test</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// export 구문이 변경됨</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Test<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Module not found: Error: Cannot resolve 'file' or 'directory'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>바쁘게 작업하다보면 모듈을 불러오는 부분을 크게 생각하지 않고 모듈의 <code class=\"language-text\">export</code> 방식을 바꾸는 실수를 하는데, 이런 경우 모듈의 export 방식을 원래대로 되돌리는 방법도 있지만, 개발자의 원래 의도가 <code class=\"language-text\">export default</code>로 객체 자체를 모듈로 사용하는 것일 경우에는 해당 모듈을 <code class=\"language-text\">import</code>하는 부분을 전부 찾아서 변경해주어야 한다.</p>\n<p>앞서 이야기했듯이 대부분의 IDE나 에디터들은 Find와 Replace 기능에 정규식을 사용할 수 있는 기능을 제공해주고 있기 때문에, 이런 상황에서 정규식을 사용하면 간단하게 원하는 부분을 변경할 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 528px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cd303e1a62e4fc55b0c2dc0621732980/4af8e/use_regex.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.87500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGElEQVR42mVSa2+bQBDkj0SNHXCwAfOG443BNgY/kjhxIjVqFUVVlR9QqT9/OpxSqVI/jI5bdndmd05Jy0cMzTdoMw/1qkdZdZhMLHy5NnA9MbEwQphWDNfLYC2FhGH40Kwcoj7h7viMZn1CUfawLAGlLi/4PfyCqrkwlxlcv4LtFliYCYtz3uvPOxtZKbxgTYISNzMfptfC9ltYXg3DqaGbKZS2fkGxeoI+j5GVA/rhCcPhGXV7wmb3iG64oN0+wA1WRI1+/46mfcVM9+HFPUynQhj0CMIBtwsqfNz/wPHwDl2PyFCQrYOqCyLEjCQa49o8YoMYllNQYSlX03LMFUmb9oBut8f5ckIQlVBEcoQZbnGrBxBJy2CDNNtAXwSYTC1Mb2xiiQkxVW3Mbj3u25EkdrhjXgo3KZGUBZYkVIr6Gd+7D1mY5luOe0HV7CmfykjyP0KoM5f/YzhRj7mZQZ2PubGMKXl2j5+bD7L6yIotHTugrHuaEElFN5rzD1zGHOn+WGwHW8yNBJorICjmeP8VSpidYImeo/gct6LsHJFo6aiQxSqJVD6pv81Gt12vkHHdiKXi08MrLi9vGPiEFFGcEWd38tmMoyzMmAYEZI5lU30RytOyU57JZ3zMYdyu5C5zTlS1e6lSCcSAQOyhUWFEhaNrFRNyjp9ma3muN0f53e3umFPj6konkZCmjDv0nQ5ZdIbvdvgDLCpH2gIHBEIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"use regex\" title=\"\" src=\"/static/cd303e1a62e4fc55b0c2dc0621732980/4af8e/use_regex.png\" srcset=\"/static/cd303e1a62e4fc55b0c2dc0621732980/69538/use_regex.png 160w,\n/static/cd303e1a62e4fc55b0c2dc0621732980/72799/use_regex.png 320w,\n/static/cd303e1a62e4fc55b0c2dc0621732980/4af8e/use_regex.png 528w\" sizes=\"(max-width: 528px) 100vw, 528px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>정규식을 사용하면 원하는 부분만 잡아낼 수 있다</small>\n</center>\n<p>하지만 문제는 <code class=\"language-text\">import { Test } from 'components/Test'</code>라는 부분 중에서 <code class=\"language-text\">import</code>나 <code class=\"language-text\">from 'components/Test';</code>처럼 Replace 후에도 유지되어야하는 부분이 있다는 것이다.</p>\n<p>또한 모듈을 가져오는 방식이 바뀐다 뿐이지 모듈을 할당하는 변수명까지 바꿔버리면 일이 더 많아지기 때문에 왠만하면 <code class=\"language-text\">Test</code>라는 변수명 자체는 그대로 두는 것이 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 요것을</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 요렇게 바꾸고 싶다!</span>\n<span class=\"token keyword\">import</span> Test <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이런 경우에도 정규식의 캡쳐링 기능을 사용하면 정확히 원하는 부분만 캡쳐하여 유지하고 나머지는 변경할 수 있다.</p>\n<p>자바스크립트 코드라고 해도 결국 IDE 입장에서는 단순한 문자열이기 때문에 IDE의 Replace를 사용할 때도 그냥 일반적으로 정규식을 사용하는 경우와 동일하다고 생각하면된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> targetCode <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">import { Component } from 'components/Test';</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\ntargetCode<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\{\\s(Component)\\s\\}</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">import Component from 'components/Test';</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이렇게 IDE 상에서 정규식을 사용하여 코드 상의 원하는 패턴을 잡아내어 한번에 치환하는 작업은 필자가 예시로 든 저런 상황보다는 라이브러리를 업데이트했는데 브레이킹 체인지가 있다던가 전체적으로 리팩토링을 한다던가 하는 마이그레이션 작업에서 훨씬 빛을 발한다. <small>(사실 그냥 필자가 자주 하는 실수라서 예시로 가져와봤다)</small></p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>정규표현식은 단지 문자열 내에서 원하는 패턴을 매칭하여 가져오는 추상적인 도구이기 때문에 그 활용도가 어마무시한 녀석이다.</p>\n<p>정규식은 필자가 포스팅에 적은 예시들 외에도 파일을 파싱한다던가, 크롤링으로 긁어온 데이터를 정규화한다던가, 로그 파일 내에서 원하는 정보를 빠르게 찾는다던가 하는 많은 상황 속에서 사용될 수 있는데다가 프로그래밍 언어 별로 정규표현식이 그렇게 다르지도 않으므로 한번 익혀두면 두고두고 요긴하게 써먹을 수 있는 도구라고 생각한다.</p>\n<p>이상으로 “정규식은 어떻게 사용되는 것일까?” 포스팅을 마친다.</p>","fields":{"slug":"20200815-regex-example","path":"/2020/08/15/regex-example/","lang":"ko"},"frontmatter":{"title":"정규식은 어떻게 사용되는 것일까?","subTitle":"불규칙한 데이터 속에서 질서를 찾아가는 여정","date":"Sep 15, 2020","categories":["프로그래밍"],"tags":["정규식","정규표현식","Regexp","Regular Expression","숫자만 골라내기","Lookahead","전방탐색","Lookbehind","후방탐색","Lookaround","캡쳐링"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/fc5c5/thumbnail.webp 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"a24d87ce-d247-51be-a7c7-279b2b311348","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EA%B7%9C%EC%8B%9D%EC%9D%B4%ED%98%95-%EB%84%8C-%EB%88%84%EA%B5%AC%EB%83%90\">규식이형, 넌 누구냐?</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%A0%95%EA%B7%9C%EC%8B%9D%EC%9D%98-%EA%B8%B0%EB%8A%A5%EB%93%A4\">기본적인 정규식의 기능들</a></p>\n<ul>\n<li><a href=\"#%ED%8A%B9%EC%A0%95-%EB%AC%B8%EC%9E%90%EC%9D%98-%EA%B7%B8%EB%A3%B9%EC%9D%84-%EC%9E%A1%EC%95%84%EB%82%B4%EB%8A%94-%EC%BA%90%EB%A6%AD%ED%84%B0-%ED%81%B4%EB%9E%98%EC%8A%A4\">특정 문자의 그룹을 잡아내는 캐릭터 클래스</a></li>\n<li><a href=\"#%EB%AC%B8%EC%9E%90%EA%B0%80-%EC%95%84%EB%8B%8C-%EA%B2%BD%EA%B3%84%EB%A5%BC-%EC%9E%A1%EC%95%84%EB%82%B4%EB%8A%94-%EC%95%B5%EC%BB%A4\">문자가 아닌 경계를 잡아내는 앵커</a></li>\n<li><a href=\"#%EC%A0%95%EA%B7%9C%EC%8B%9D%EC%9D%98-%EC%98%B5%EC%85%98-%EA%B8%B0%EB%8A%A5-%ED%94%8C%EB%9E%98%EA%B7%B8\">정규식의 옵션 기능, 플래그</a></li>\n<li><a href=\"#%ED%8C%A8%ED%84%B4%EC%9D%B4-%EB%AA%87-%EB%B2%88%EC%9D%B4%EB%82%98-%EB%82%98%EC%99%94%EB%8A%94%EC%A7%80-%EC%B0%BE%EC%95%84%EC%A3%BC%EB%8A%94-%EC%88%98%EB%9F%89%EC%9E%90\">패턴이 몇 번이나 나왔는지 찾아주는 수량자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%95%8C%EB%A9%B4-%EB%8D%94-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EA%B8%B0%EB%8A%A5%EB%93%A4\">알면 더 효율적인 기능들</a></p>\n<ul>\n<li><a href=\"#%ED%8C%A8%ED%84%B4%EC%9D%84-%EA%B8%B0%EC%96%B5%ED%95%98%EB%8A%94-%EC%BA%A1%EC%B2%98%EB%A7%81\">패턴을 기억하는 캡처링</a></li>\n<li><a href=\"#greedy-vs-lazy\">Greedy vs Lazy</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"개발자들은 자연어로 주어지는 문제 상황을 파악하고 프로그램을 설계하고 작성하는 사람들이다. 이런 업무를 수행하기 위해 개발자들은 불규칙하게 쏟아지는 정보들 속에서 필요한 부분들을 걸러내거나 무분별하게 선언된 클래스나 변수들을 추상화하는 등의 업무를 수행하게 된다.","html":"<p>개발자들은 자연어로 주어지는 문제 상황을 파악하고 프로그램을 설계하고 작성하는 사람들이다. 이런 업무를 수행하기 위해 개발자들은 불규칙하게 쏟아지는 정보들 속에서 필요한 부분들을 걸러내거나 무분별하게 선언된 클래스나 변수들을 추상화하는 등의 업무를 수행하게 된다.</p>\n<!-- more -->\n<p>이러한 일들을 해내기 위해 필요한 역량은 여러가지가 있겠지만 그 중에서도 특히 중요한 한 가지 역량은 바로 불규칙해 보이는 정보들 속에서 규칙성, 즉 패턴을 찾아내는 능력이다.</p>\n<p>그 중에서도 일반적인 비즈니스 상황에서 접할 수 있는 가장 흔한 문제는 파일을 파싱하거나 사용자의 입력을 검증하거나 하는 경우처럼 불규칙한 문자열 속에서 패턴을 찾아내어 원하는 정보를 취득하는 경우가 많다. 그러나 이런 문제는 경우의 수가 워낙 많기 때문에 일반적인 프로그래밍만으로 문제를 해결하려고 하면 화려한 <code class=\"language-text\">if</code> 문이 나를 감싸는 상황을 만날 수도 있다.</p>\n<p>바로 이런 문제를 쉽게 해결할 수 있도록 도와주는 도구가 정규식이다.</p>\n<h2 id=\"규식이형-넌-누구냐\" style=\"position:relative;\">규식이형, 넌 누구냐?<a href=\"#%EA%B7%9C%EC%8B%9D%EC%9D%B4%ED%98%95-%EB%84%8C-%EB%88%84%EA%B5%AC%EB%83%90\" aria-label=\"규식이형 넌 누구냐 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>정규식의 정식 풀네임은 정규 표현식(Regular Expression)이지만, 사실 정규 표현식이라는 풀네임보다는 정규식, Regex, <del>규식이형</del> 등으로 더 자주 불리고는 한다.</p>\n<p>정규식은 패턴을 표현할 수 있는 일종의 표현식이고 이 표현식을 문자열에 적용하여 원하는 부분을 쏙쏙 끄집어 낼 수 있는 굉장히 편리한 도구이지만, 그 특유의 악랄한 가독성 덕분에 왠지 모를 기피의 대상이 되고는 한다.</p>\n<p>사실 필자도 정규식을 꽤나 자주 사용하는 편이지만, 왠만큼 자주 사용하는 표현이 아니라면 무조건 구글링을 해서 표현을 찾아보고 <a href=\"https://regexr.com/\" target=\"_blank\" rel=\"nofollow\">RegExr</a> 사이트에서 검수를 돌려보고는 한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cf1e76c74723af6eb45ee626ca4269a9/e5166/regex_meme.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB32UTM6UU0wG1Av/EABoQAQEBAQADAAAAAAAAAAAAAAECAxEAEiH/2gAIAQEAAQUCvXlNEnfLZ96iED5pAumJZJw//8QAFREBAQAAAAAAAAAAAAAAAAAAEAH/2gAIAQMBAT8BIf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAICAwEAAAAAAAAAAAAAAAERABACITFB/9oACAEBAAY/Al5GclSLm+WiShX/xAAcEAEAAgMBAQEAAAAAAAAAAAABABEhMUFRgaH/2gAIAQEAAT8hW+aewNVPZdBHDLg9NkzifghA79iJfIG5pUpS2jE//9oADAMBAAIAAwAAABBsPwP/xAAaEQEAAQUAAAAAAAAAAAAAAAABEBEhQWHB/9oACAEDAQE/EBat4OdvI//EABcRAQEBAQAAAAAAAAAAAAAAAAABMUH/2gAIAQIBAT8Qmq6r/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARIUExUYH/2gAIAQEAAT8QaOoLcX3IcLIJ/YXBgInSPUmgph2AgAcL0SHQoDG3nJZzdCys2e0w2Fr9chA0ILrwJ//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"regex meme\" title=\"\" src=\"/static/cf1e76c74723af6eb45ee626ca4269a9/c08c5/regex_meme.jpg\" srcset=\"/static/cf1e76c74723af6eb45ee626ca4269a9/0913d/regex_meme.jpg 160w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/cb69c/regex_meme.jpg 320w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/c08c5/regex_meme.jpg 640w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/6a068/regex_meme.jpg 960w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/e5166/regex_meme.jpg 1200w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이런 짤이 있을 정도로 정규식을 처음 보면 이게 뭔가 싶다</small>\n</center>\n<p>하지만 정규식의 주 사용처가 문자열 내에서 패턴을 찾아내는 것이고, 이런 상황은 개발자로 일을 하다보면 자주 마주치는 상황 중 하나이기 때문에 언젠가는 반드시 정규식과 마주하게 될 일이 생기게 된다. 즉, 정규식을 무작정 피할 수도 없다는 뜻이다. <small><del>(그냥 도망치는 걸 포기하면 편하다)</del></small></p>\n<p>물론 아무 생각없이 정규식을 보았을 때는 “이게 뭔 말이야…?” 싶겠지만, 결국 아무리 긴 정규 표현식도 작은 표현들이 합쳐져서 만들어진 것이므로 막상 뜯어보면 생각보다 간단한 표현인 경우가 많다.</p>\n<h2 id=\"기본적인-정규식의-기능들\" style=\"position:relative;\">기본적인 정규식의 기능들<a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%A0%95%EA%B7%9C%EC%8B%9D%EC%9D%98-%EA%B8%B0%EB%8A%A5%EB%93%A4\" aria-label=\"기본적인 정규식의 기능들 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>정규식에는 굉장히 다양한 키워드들이 있으며, 결국 이런 키워드들을 잘 조합하여 원하는 패턴을 잡아낼 수 있는 표현식을 만드는 것이 정규식 사용법의 전부이다. 한 마디로 이야기하자면 정규식을 시작하는 가장 기본적인 방법은 이 키워드들을 암기하는 것이다.</p>\n<p>물론 구글에 “정규식”이라고만 검색해도 방대한 양의 자료들이 쏟아져나오기 때문에 굳이 수 많은 키워드들을 다 알아야할 필요는 없지만, 기본적인 것들이라도 암기하고 있다면 간단한 패턴 매칭 문제 정도는 딱히 구글신께 물어보지 않아도 해결할 수 있기 때문에 생산성 측면에서 이득이다. <small>(어차피 다 외우는 건 불가능하다)</small></p>\n<p>결국 이 기능을 상황에 따라 적절하게 조합하며 사용하는 것이 결국 정규식을 얼마나 잘 사용하냐는 것의 척도이므로 이번 포스팅에서는 정규식이 제공하는 기능을 간단하게 핥아만 보고, 다음 포스팅에서 실무에서 발생할 법한 예제들을 통해 설명을 더 자세히 풀어가고자 한다.</p>\n<h3 id=\"특정-문자의-그룹을-잡아내는-캐릭터-클래스\" style=\"position:relative;\">특정 문자의 그룹을 잡아내는 캐릭터 클래스<a href=\"#%ED%8A%B9%EC%A0%95-%EB%AC%B8%EC%9E%90%EC%9D%98-%EA%B7%B8%EB%A3%B9%EC%9D%84-%EC%9E%A1%EC%95%84%EB%82%B4%EB%8A%94-%EC%BA%90%EB%A6%AD%ED%84%B0-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"특정 문자의 그룹을 잡아내는 캐릭터 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>정규식에는 특정한 문자 혹은 특정한 문자들의 그룹을 의미하는 다양한 키워드들이 있다. 이렇게 특정한 문자를 찾는 녀석들을 “캐릭터 클래스(Character Class)“라고 부른다.</p>\n<p>정규식의 핵심 기능이 내가 원하는 문자를 찾는 것이니 만큼, 캐릭터 클래스의 종류와 역할을 어느 정도 알고 있다면 간단한 정규식 정도는 구글링 없이도 대충 파악할 수 있다.</p>\n<h4 id=\"특정한-문자부터-찾아내보자\" style=\"position:relative;\">특정한 문자부터 찾아내보자<a href=\"#%ED%8A%B9%EC%A0%95%ED%95%9C-%EB%AC%B8%EC%9E%90%EB%B6%80%ED%84%B0-%EC%B0%BE%EC%95%84%EB%82%B4%EB%B3%B4%EC%9E%90\" aria-label=\"특정한 문자부터 찾아내보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>정규식에는 <code class=\"language-text\">\\d</code>, <code class=\"language-text\">\\w</code> 등 한 눈에 봐서는 의미를 알기 힘든 캐릭터 클래스들이 수두룩하게 포함되어 있지만, 사실 이런 요상한 키워드들만 사용되는 것은 아니다. 예를 들면 엄청 긴 문장 속에서 특정한 단어만 뽑아내고 싶다면 그냥 이렇게 작성해도 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'hello, world'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">hello</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello, world\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이처럼 정규식에는 일반 문자도 자유롭게 사용할 수 있기 때문에 특정 문자의 그룹을 의미하는 키워드인 <code class=\"language-text\">\\w</code>, <code class=\"language-text\">\\s</code> 등을 사용할 때 반드시 키워드의 앞에 <code class=\"language-text\">\\</code>를 사용하여 이스케이핑을 해주는 것이다. 즉, <code class=\"language-text\">\\s</code>는 키워드 문자이지만 <code class=\"language-text\">s</code>는 그냥 s다.</p>\n<p>이러한 이스케이핑 처리 때문에 정규식에 익숙하지 않은 사람은 이게 <code class=\"language-text\">s</code>인지, 공백을 의미하는 <code class=\"language-text\">\\s</code> 키워드인지 헷갈리는 경우가 많은데, 이건 사실 팁이라고 할만한 게 없다. 그냥 <code class=\"language-text\">/\\/s\\.s.{1,2}/</code> 이런 모양을 보면 앞에서부터 하나씩 잘라가면서 읽어보도록 하자.</p>\n<p>그리고 이렇게 정규식에 <code class=\"language-text\">hello</code>와 같이 특정한 문자를 사용하여 문자열 속에서 자신이 원하는 정확한 패턴을 찾아낼 수는 있지만, 이런 방식으로 특정 패턴을 찾는 것 뿐이라면 굳이 정규식을 사용하지 않더라도 <code class=\"language-text\">include</code>나 <code class=\"language-text\">indexOf</code>, <code class=\"language-text\">search</code> 같은 <code class=\"language-text\">String.prototype</code> 메소드들에 일반 문자열을 인자로 사용하는 것만으로도 충분하기 때문에 큰 의미가 없다.</p>\n<p>정규식의 진짜 힘은 이런 특정 문자열을 찾는 것이 아니라 내가 원하는 문자열의 그룹을 찾아내는 것에 있다.</p>\n<h4 id=\"원하는-문자의-그룹을-만들어보자\" style=\"position:relative;\">원하는 문자의 그룹을 만들어보자<a href=\"#%EC%9B%90%ED%95%98%EB%8A%94-%EB%AC%B8%EC%9E%90%EC%9D%98-%EA%B7%B8%EB%A3%B9%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"원하는 문자의 그룹을 만들어보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>만약 우리가 유저의 입력이 오직 영어로만 이루어져있는지 검증을 해야하는 상황이라고 생각해보자. 물론 영어는 대소문자를 모두 합쳐 총 48개의 문자로 이루어져 있기 때문에 알파벳으로 이루어진 맵이나 배열을 만들어서 일일히 검증하거나, 최악의 경우에는 논리 조건 48개를 <code class=\"language-text\">||</code> 연산자로 묶어서 써도 된다. <small><del>(예외 처리까지 합치면 논리 조건 49개…)</del></small></p>\n<p>하지만 이 방법이 그다지 쿨한 방법이 아니라는 것에는 다들 어느 정도 동의할 것이라고 생각한다. 게다가 영어만 검사하는 것이 아니라 숫자까지 포함되었는지를 검사한다던가, 영어가 n번 반복하는 것을 검사한다던가 하는 식으로 조건이 추가되면 추가될수록 필요한 논리도 늘어나기 때문에 코드는 점점 더 복잡해진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> alphabet <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'A'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'B'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Z'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isAlphabet</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token builtin\">string</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">every</span><span class=\"token punctuation\">(</span>char <span class=\"token operator\">=></span> alphabet<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <small>사실 간단하게 영어만 검사하는 것이라면 이런 식으로 처리할 수 있기는 하다</small>\n  <br />\n  <br />\n</center>\n<p>그래서 정규식은 사용자가 커스텀한 그룹을 만들어서 원하는 문자를 잡아낼 수 있는 기능 또한 제공해준다. 사용하는 방법 또한 심플한데, 단순히 대괄호(<code class=\"language-text\">[]</code>) 안에 그룹핑하고 싶은 문자들을 넣어주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// x 또는 y 또는 z를 잡아내라!</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>xyz<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>\n\n<span class=\"token comment\">// x 또는 y 또는 z가 아닌 것을 잡아내라!</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^xyz]</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token comment\">// a~z까지 잡아내라!</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z]</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token comment\">// a~z, A~Z까지 잡아내라!</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-zA-Z]</span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 대괄호 안에는 일반 문자만 들어갈 수 있는 것은 아니고, <code class=\"language-text\">-</code> 키워드를 사용하여 문자의 범위를 표현할 수도 있고, 맨 앞에 <code class=\"language-text\">^</code> 문자를 붙힘으로써 “Not” 또한 표현할 수 있다.</p>\n<p>그리고 위 표현 중 <code class=\"language-text\">a-z</code>와 같이 문자의 범위로 그룹을 설정하는 문법도 등장하는데, 이 범위는 <a href=\"http://www.asciitable.com/\" target=\"_blank\" rel=\"nofollow\">Ascii Table</a>에서의 범위를 의미한다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 349px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/55b14704e00c60b3167cd812dcd52258/e9bf8/ascii-table.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 121.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVR42pWVW2/TQBCFF9GQxLk5iR2HYGgFlNhJCIUWIR6QEIgXxP//PcyKb6PTiVFhpSN5x+szZ27rEEL4ZfhsaAw/DS8N3wxbwx3Pe8MP9jfy/rvhleGL4athZQifeJjzsm94z/7KMDZUEC0MteG5YWI4GqY8x3NPIuEthsywCX/WwTAwrNnPDK2hB/mcjxvOTYOsD7CP8BzwHG2FEB5FbQlhTMVQCB8F8jJDYc2LPQ5K9jGCHakpcdTDNuT707rBQyR8IbYRoSXCPepWoEdqhig/reQlEjyTHEYHS6dwjcIlIe9cyGeESeEWW/4XwgqF266ipHxFXAphBjTkjSNsUDpQwoNU+UoIxy6HO8nhGsKWSCZeYQZBUtjgIOVwzLkaWyVV7v9LyC37p6KwJdxU5QsIz3L4DoNWuSGUQggb+q2QKrcQ3gv5VhTWrvKlU1jgfO4mZe5Hb+QUtv9B2JduOCn0s9xim7kql9gWEL4l5JES3vGBNvaBvW/sBbYlVe4kVIW1KMxoDw15Rche4b0qf8SgfZhmuXSTspZKa5XPCHM3KanZc9c2BYQlIb/uum1Slcf8T7Sxpx2NncukXD9EeCl9OOGwElY4SQrfcCbrqrIqPHYQag4ruRwGcu50O6cqb9zl8FgIt9LYueTwIv1L4voNxWskW8umJHYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ascii table\" title=\"\" src=\"/static/55b14704e00c60b3167cd812dcd52258/e9bf8/ascii-table.png\" srcset=\"/static/55b14704e00c60b3167cd812dcd52258/69538/ascii-table.png 160w,\n/static/55b14704e00c60b3167cd812dcd52258/72799/ascii-table.png 320w,\n/static/55b14704e00c60b3167cd812dcd52258/e9bf8/ascii-table.png 349w\" sizes=\"(max-width: 349px) 100vw, 349px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>위 테이블을 보면 영어 대문자 그룹(65 ~ 90)과 소문자 그룹(97 ~ 122) 사이에 <code class=\"language-text\">[</code>나 <code class=\"language-text\">^</code>과 같은 특수 문자들이 포함되어 있는 것을 볼 수 있는데, 정규식은 이 아스키 코드를 기반으로 작동하기 때문에 영어만 잡아내고 싶다고 <code class=\"language-text\">a-Z</code>와 같은 범위로 문자열 그룹을 잡아버리면 저 사이에 있는 특수문자들까지도 그룹에 포함되어버린다.</p>\n<p>그래서 필자는 영어만 따로 걸러내기 위해 <code class=\"language-text\">a-z</code>와 <code class=\"language-text\">A-Z</code> 범위를 구분해서 정규식에 표현해준 것이다.</p>\n<p>이런 식으로 아스키 코드에 대한 지식이 있다면 <code class=\"language-text\">-</code> 문자 범위 키워드를 사용하여 손 쉽게 원하는 문자열의 그룹을 만들어 낼 수 있고, 사실 아스키 코드에 대해 잘 모르더라도 구글에 “Ascii Table”이라고 검색하면 저런 코드표가 쏟아져 나오기 때문에 그냥 저 테이블을 보면서 정의해도 된다.</p>\n<p>하지만 매번 이렇게 그룹을 직접 설정하는 것 또한 어찌보면 귀찮은 일이다. <small><del>(개발자는 게으를수록 일을 잘 하…)</del></small> 그래서 정규식은 친절하게도 사용자가 매번 이렇게 직접 그룹을 정의하지 않아도 되도록 미리 정의된 몇 가지 그룹을 지원한다.</p>\n<h4 id=\"code-classlanguage-textcode\" style=\"position:relative;\"><code class=\"language-text\">.</code><a href=\"#code-classlanguage-textcode\" aria-label=\"code classlanguage textcode permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>새로운 라인을 의미하는 <code class=\"language-text\">\\n</code> 이스케이프를 제외한 모든 문자 하나를 의미한다. 즉, 그 문자가 무엇이든 상관없이 그냥 문자라면 모두 매칭한다. 당연히 이 문자라는 것의 정의에는 공백도 포함하기 때문에 <code class=\"language-text\">I am Evan</code>과 같이 공백을 포함한 문자열에 <code class=\"language-text\">.</code> 캐릭터 클래스를 사용한다면 공백도 포함하여 검색된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 문자열의 시작부터 4글자 매칭해!</span>\n<span class=\"token string\">'I am Evan'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^....</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"I am\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>만약 이 캐릭터 클래스를 앞서 말한 커스텀 그룹으로 표현하려면 아스키 코드에서 <code class=\"language-text\">\\n</code>를 제외한 모든 문자를 대괄호 안에 넣어야한다는 이야기인데, 이건 당연히 불가능하다. 그래서 이런 캐릭터 클래스를 잘 사용하는 것이 정규식을 편하게 작성할 수 있는 첫 걸음이라고 하는 것이다.</p>\n<h4 id=\"code-classlanguage-textdcode-code-classlanguage-textdcode-클래스\" style=\"position:relative;\"><code class=\"language-text\">\\d</code>, <code class=\"language-text\">\\D</code> 클래스<a href=\"#code-classlanguage-textdcode-code-classlanguage-textdcode-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"code classlanguage textdcode code classlanguage textdcode 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">d</code> 키워드는 Digit, 즉 숫자를 표현하는 문자를 의미한다. 이 숫자 또한 아스키 코드 상으로는 <code class=\"language-text\">0</code> ~ <code class=\"language-text\">9</code>(33 ~ 52)인 문자를 의미하기 때문에, II나 五와 같은 문자는 숫자로 판단되지 않는다.</p>\n<p>소문자인 <code class=\"language-text\">\\d</code> 키워드는 숫자에 해당하는 문자를, 대문자인 <code class=\"language-text\">\\D</code>는 숫자가 아닌 문자를 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'010-1111-1111'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\d</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// -를 제외한 0-9까지의 문자가 매칭된다</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h4 id=\"code-classlanguage-textwcode-code-classlanguage-textwcode-클래스\" style=\"position:relative;\"><code class=\"language-text\">\\w</code>, <code class=\"language-text\">\\W</code> 클래스<a href=\"#code-classlanguage-textwcode-code-classlanguage-textwcode-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"code classlanguage textwcode code classlanguage textwcode 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">w</code> 캐릭터 클래스는 Word를 의미한다. 이때 정규식에서 정의하는 Word라는 녀석들은 아스키 코드 상으로 <code class=\"language-text\">A</code> ~ <code class=\"language-text\">Z</code>(65 ~ 90), <code class=\"language-text\">a</code> ~ <code class=\"language-text\">z</code>(97 ~ 122), 그리고 앞서 설명한 <code class=\"language-text\">\\d</code>(숫자) 그룹에 해당하는 녀석들이다.</p>\n<p>즉, 저 아스키 코드 범위에 포함되지 않는 한글, 키릴 문자 등은 Word가 아니므로 <code class=\"language-text\">\\w</code> 키워드로는 잡아낼 수 없다는 점을 주의해야한다. 이 녀석도 <code class=\"language-text\">d</code> 클래스와 마찬가지로 소문자인 <code class=\"language-text\">\\w</code>는 Word인 문자를 의미하고, 대문자인 <code class=\"language-text\">\\W</code>는 Word가 아닌 문자를 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'Phone(전화): 010-0000-1111'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// :과 -, 그리고 한글은 Word에 포함되지 않으므로 영어와 숫자만 매칭된다 </span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\"P\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"h\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"n\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"e\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h4 id=\"code-classlanguage-textscode-code-classlanguage-textscode-클래스\" style=\"position:relative;\"><code class=\"language-text\">\\s</code>, <code class=\"language-text\">\\S</code> 클래스<a href=\"#code-classlanguage-textscode-code-classlanguage-textscode-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"code classlanguage textscode code classlanguage textscode 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">s</code> 키워드는 Space라는 의미이며, 말 그대로 공백 문자를 의미한다. <code class=\"language-text\">s</code> 키워드도 다른 녀석들과 마찬가지로 소문자인 <code class=\"language-text\">\\s</code>는 공백인 문자, 대문자인 <code class=\"language-text\">\\S</code>는 공백이 아닌 문자를 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'Hi, my name is Evan'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\s</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 위 문자열에 존재하는 4개의 공백이 매칭된다</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"문자가-아닌-경계를-잡아내는-앵커\" style=\"position:relative;\">문자가 아닌 경계를 잡아내는 앵커<a href=\"#%EB%AC%B8%EC%9E%90%EA%B0%80-%EC%95%84%EB%8B%8C-%EA%B2%BD%EA%B3%84%EB%A5%BC-%EC%9E%A1%EC%95%84%EB%82%B4%EB%8A%94-%EC%95%B5%EC%BB%A4\" aria-label=\"문자가 아닌 경계를 잡아내는 앵커 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>앞서 우리가 살펴보았던 키워드들은 모두 하나의 문자를 의미하는 키워드들이었지만, 정규식은 특정 문자가 아닌, 문자와 문자 간의 경계를 매칭할 수 있는 기능 또한 제공한다.</p>\n<p>이렇게 경계를 잡아내는 키워드들을 “앵커”라고 부른다. 앵커는 단지 경계만을 의미하기 때문에 보통 단독으로 쓰이기 보다는 캐릭터 클래스와 함께 조합하여 특정 경계 뒤나 앞에 위치하는 문자를 잡아내는 방식으로 사용된다.</p>\n<p>앵커는 말 그대로 “경계” 그 자체를 잡아내는 것이기 때문에 앵커만 단독으로 사용하게 된다면 매칭 결과로 길이가 <code class=\"language-text\">0</code>인 문자열이 반환된다.</p>\n<h4 id=\"code-classlanguage-textcode-code-classlanguage-textcode-앵커\" style=\"position:relative;\"><code class=\"language-text\">^</code>, <code class=\"language-text\">$</code> 앵커<a href=\"#code-classlanguage-textcode-code-classlanguage-textcode-%EC%95%B5%EC%BB%A4\" aria-label=\"code classlanguage textcode code classlanguage textcode 앵커 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">^</code> 앵커는 문자열이 시작하는 경계, <code class=\"language-text\">$</code>는 문자열이 끝나는 경계를 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// ^(문자열 시작 경계) 바로 뒤에 위치한 문자만 매칭해라</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Evans Library</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"E\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Evans Library\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// $(문자열 끝 경계) 바로 앞에 위치한 문자만 매칭해라</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Evans Library</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Evans Library\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>당연한 이야기겠지만 문자열의 시작 경계인 <code class=\"language-text\">^</code> 앞에 위치하는 문자나, 문자열의 끝 경계인 <code class=\"language-text\">$</code> 뒤에 위치하는 문자라는 것은 존재할 수 없기 때문에 <code class=\"language-text\">.^</code>이나 <code class=\"language-text\">$.</code>과 같은 표현식은 아무것도 매칭할 수가 없다.</p>\n<h4 id=\"code-classlanguage-textbcode-code-classlanguage-textbcode-앵커\" style=\"position:relative;\"><code class=\"language-text\">\\b</code>, <code class=\"language-text\">\\B</code> 앵커<a href=\"#code-classlanguage-textbcode-code-classlanguage-textbcode-%EC%95%B5%EC%BB%A4\" aria-label=\"code classlanguage textbcode code classlanguage textbcode 앵커 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">b</code> 키워드는 Boundary를 의미하며, 이 바운더리라는 녀석은 Word 그룹으로 이루어진 단어 간의 모든 경계를 의미한다. 즉, 쉽게 말하자면 문자열의 시작과 끝 경계를 의미하는 <code class=\"language-text\">^</code>이나 <code class=\"language-text\">$</code> 앵커의 상위호환이라고 볼 수 있다.</p>\n<p>이 앵커를 사용할 때 주의해야할 점은 “Word 그룹으로 이루어진 단어”이기 때문에 <code class=\"language-text\">\\w</code> 그룹에 포함되는 영어나 숫자에만 한정되는 이야기라는 것이다.</p>\n<p>문자열의 시작과 끝이라는 명확한 정의와는 다르게 막연하게 단어 간의 경계라고만 이야기하면 조금 이해가 안될 수도 있는데, 직접 예시를 보면 생각보다 그렇게 어렵지 않다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'abc def'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이 예시에서 필자는 <code class=\"language-text\">\\b</code> 키워드를 사용하여 <code class=\"language-text\">abc def</code>라는 문자열 내의 모든 단어 경계를 잡아냈다. 그리고 그 결과물을 보면 모두 길이가 <code class=\"language-text\">0</code>인 문자열이 나온 것을 알 수 있다. 앞서 이야기했듯이 경계라는 것은 어떤 문자가 아니기 때문에 길이가 없다고 보는 것이다.</p>\n<p>방금 필자가 예시로 사용한 <code class=\"language-text\">abc def</code>라는 문자열 내의 단어들 간의 경계는 다음과 같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d1779cbaba0a0243ed42fc5d27d3228/d56e1/boundaries.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVR42l2STU/bQBCG+cP0wC0SIHEoKkINCIEg6qlqqoo4uXDhBodElIiI8Bc4cIjrxHYcf+56H2btJKS80uyu57HfGY+9hSiYpcy8BG8Sk8aFTWFMtRFHBaGfMQ+yNVvJMpsP/ZRkUbMtu+SpJgpzFvOcoig/GeZM3RhfCtrzptJEVY3UbMPQqshLTFm7lEphJKqz5LQqURK2iJHFMqN1zXXNV1obqlwLtKYSYYj2PHlIoSWnpGvLjeVipF0XPZvZamv+Ybh8NZUW/HscMh0OGToOb4MB8/GY17t7ijCiFP7WH/DY6eDKPYuXF0a9Ln+dHiZbzla6rwwrz0Lz1HG42N3lx8EBPw8PcU6aPF93IIoJJh7d702u9ve53Nvj5vyCr1+26f9qyzCzDUM7h2W7vbMzvu3scN1sitkJf46PGUlH5DmhjOD30RFtidNGg367zW2rhfvwUPH/DFfKZHZZEJD6PrFEKtfBZLL+5NF0WnMJuxPHmCT5+CWAd1F4UjIJMUWSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"boundaries\" title=\"\" src=\"/static/6d1779cbaba0a0243ed42fc5d27d3228/6af66/boundaries.png\" srcset=\"/static/6d1779cbaba0a0243ed42fc5d27d3228/69538/boundaries.png 160w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/72799/boundaries.png 320w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/6af66/boundaries.png 640w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/d9199/boundaries.png 960w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/d56e1/boundaries.png 1130w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>복잡하게 생각할 것 없이 각 단어의 경계가 어디인지 생각해보면 된다</small>\n</center>\n<p>이에 반해 대문자인 <code class=\"language-text\">\\B</code> 키워드는 단어 간의 경계가 아닌 부분을 잡아낸다. 쉽게 이야기하면 단어가 끝나지 않는 경계 부분을 잡아낸다는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'abc def'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\B</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이번에도 이전과 같이 4개의 경계가 뽑혀져 나왔지만 이번에는 이 경계들의 의미하는 바가 전혀 다르다. 이번에 뽑혀져 나온 경계는 “단어가 끝나지 않은 부분의 경계”이기 때문이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/97a4fb713d83f95c04382b7fb6b20106/748b0/boundaries2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMklEQVR42m2S208TURDG96/knQfriwkQCbEl4QHCTYWIwUQESV8AjZBwMUYNofhgBRoCGKFSWygUaekFCnS3ezv9OdsCyUYm2d05+818852Z0RBTbo3c32tKZzq5k2sKZxX0is19Zug2F0WDy/Mq5wUD/cpCqdodrnmvmpw9sFyqcnlhUhLfrDp+ppsc/doim7miKMXPPBF5A9dRfkLPHFvdAZbp1ovcZ54ay2wUcyTetpQP124zPULbdv8nvHVuvq6r6vgtoSM5SjClGsRaTQ6u62DJFb0AJb5p2KJWAl3Xr07Ojvz3FCrlijoH2/S3RrNSKUj+wdj7TTLyDZVKcvVzDzeZRCUS2Pl8Q025DIKdrm9w+iMGhweY8f36s7m4yH4k4vUDrbi2xvL4G+JLn3jW3sH04CCl7xtEp6ZZHhvDOT5uqCsU2F+YJ/ggwMb7WdZnpvk1v0js3Qc6mpvZmZuTXllo6dVVeltaGHjcznhPD+G+Pp53PGGit5f01y9U0+k6YV5u8ioUItw/wItgJ6GHAUZCncwMDRMMBMisrIBpon2emOBRUxOjwSBvu7t53dXFwssRRiU5Gg5jHx3VCS+EeLi1ladtbUz199MpJJHJSRIfl5gdGkLt7ODoOlo1l+Nwa4vLgwOy29skolFq2Swnu7ukNjdlk42bvXI4jcc5lBg7k+E4FiMrJIYUKku/LeGp9/Bub2XatVIJVSziVir+lcG/QkqKKBmWkkHVHP+U/wHruB77k5EMYwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"boundaries2\" title=\"\" src=\"/static/97a4fb713d83f95c04382b7fb6b20106/6af66/boundaries2.png\" srcset=\"/static/97a4fb713d83f95c04382b7fb6b20106/69538/boundaries2.png 160w,\n/static/97a4fb713d83f95c04382b7fb6b20106/72799/boundaries2.png 320w,\n/static/97a4fb713d83f95c04382b7fb6b20106/6af66/boundaries2.png 640w,\n/static/97a4fb713d83f95c04382b7fb6b20106/748b0/boundaries2.png 868w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>단어가 끝나지 않은 부분의 경계</small>\n</center>\n<p>즉, <code class=\"language-text\">b</code> 키워드는 다른 키워드들과 다르게 어떤 하나의 문자를 매칭하는 것이 아니라 경계를 잡아내는 것이기 때문에, 이 특징만 잘 기억하고 있으면 은근히 여기저기 잘 써먹을 수 있다.</p>\n<h3 id=\"정규식의-옵션-기능-플래그\" style=\"position:relative;\">정규식의 옵션 기능, 플래그<a href=\"#%EC%A0%95%EA%B7%9C%EC%8B%9D%EC%9D%98-%EC%98%B5%EC%85%98-%EA%B8%B0%EB%8A%A5-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"정규식의 옵션 기능 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>정규식을 보다보면 종종 정규식의 맨 뒤에 <code class=\"language-text\">/정규식/g</code>와 같이 <code class=\"language-text\">g</code>, <code class=\"language-text\">i</code>, <code class=\"language-text\">m</code> 등의 문자가 추가로 붙는 것을 발견할 수 있는데, 이 친구들은 일종의 옵션 기능 역할을 가지고 있는 “플래그”이다.</p>\n<p><code class=\"language-text\">/</code>를 사용하여 정규식을 리터럴 선언하는 하는 경우가 아니라 <code class=\"language-text\">new RegExp()</code> 생성자를 호출하여 정규식을 사용하는 경우에는 생성자 함수의 두번째 인자로 플래그를 살포시 넣어주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">정규식</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">gi</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> regex2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">정규식</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 이 두 개는 같은 패턴을 가진 정규식이다</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span>flags <span class=\"token operator\">===</span> regex2<span class=\"token punctuation\">.</span>flags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>정규식은 <code class=\"language-text\">g</code>, <code class=\"language-text\">i</code>, <code class=\"language-text\">m</code>, <code class=\"language-text\">s</code>, <code class=\"language-text\">u</code>, <code class=\"language-text\">y</code> 총 6개의 플래그를 제공하고 있지만, 이 포스팅에서는 이 중 가장 많이 사용되는 <code class=\"language-text\">g</code>와 <code class=\"language-text\">i</code>, 그리고 <code class=\"language-text\">m</code> 플래그에 대해서만 간단하게 설명할 예정이니, 나머지 플래그가 궁금하다면 구글링을 해보도록 하자.</p>\n<h4 id=\"code-classlanguage-textgcode-플래그\" style=\"position:relative;\"><code class=\"language-text\">g</code> 플래그<a href=\"#code-classlanguage-textgcode-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"code classlanguage textgcode 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">g</code> 플래그는 <code class=\"language-text\">global</code>의 약자로, 이 플래그를 가지고 있는 정규식은 주어진 문자열 내에서 패턴과 매칭되는 모든 부분을 찾아낸다. 만약 <code class=\"language-text\">g</code> 플래그가 없다면 정규식은 문자열 내에서 가장 처음 매칭되는 한 부분만을 찾아낼 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'hello, world'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'hello, world'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"h\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello, world\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\"h\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"e\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\",\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"r\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"d\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>기본적으로 글로벌 매칭을 의미하는 플래그인 <code class=\"language-text\">g</code> 플래그가 없다면 정규식은 단 하나의 문자만을 매칭하지만, <code class=\"language-text\">g</code> 플래그를 사용하면 문자열 내에서 해당 정규식에 매칭되는 모든 문자를 찾아낸다. 글로벌 플래그에 관한 것은 필자가 굳이 설명하지 않아도 콘솔에서 몇 번 해보다보면 감이 올테니 자세히 설명하지는 않겠다.</p>\n<h4 id=\"code-classlanguage-texticode-플래그\" style=\"position:relative;\"><code class=\"language-text\">i</code> 플래그<a href=\"#code-classlanguage-texticode-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"code classlanguage texticode 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">i</code> 플래그는 <code class=\"language-text\">ignoreCase</code>의 약자로, 정규식 내에 사용된 문자열의 대소문자를 구분하지 않고 모두 매칭하겠다는 의미를 가진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">abcd</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">;</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abcd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ABCD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>일반적으로 유저의 입력을 통해 생성된 문자열은 <code class=\"language-text\">My name is Evan</code>, <code class=\"language-text\">my name is evan</code> 등과 같이 사람에 따라 대소문자의 사용 방법이 조금씩 다를 수 있지만, <code class=\"language-text\">i</code> 플래그를 사용하면 이런 걱정없이 맘 편하게 원하는 문자열을 찾아낼 수 있다.</p>\n<h4 id=\"code-classlanguage-textmcode-플래그\" style=\"position:relative;\"><code class=\"language-text\">m</code> 플래그<a href=\"#code-classlanguage-textmcode-%ED%94%8C%EB%9E%98%EA%B7%B8\" aria-label=\"code classlanguage textmcode 플래그 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">m</code> 플래그는 <code class=\"language-text\">multiline</code>의 약자로, 말 그대로 여러 라인으로 구성된 문자열을 검사하겠다는 것을 의미한다. 하지만 한 가지 이상한 점은 딱히 이 플래그가 없어도 정규식은 여러 줄로 된 문자열을 잘 매칭한다는 것이다.</p>\n<p>한번 템플릿 스트링을 사용하여 여러 라인으로 구성된 문자열을 만들어보고 정규식을 사용하여 간단한 패턴을 잡아내보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> string <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">abcd\\nefgh\\nijkl</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\nstring<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{2}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cd\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ef\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"gh\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ij\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"kl\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>사실 정규식은 그냥 주어진 문자열 중에서 매칭되는 패턴을 찾아내는 녀석이기 때문에 굳이 <code class=\"language-text\">m</code> 플래그를 사용하지 않아도 여러 줄의 문자열도 잘 매칭한다.</p>\n<p>그렇다면 굳이 <code class=\"language-text\">m</code> 플래그가 필요한 이유가 무엇일까? 그 이유는 정규식이 바로 새로운 라인을 표현하는 <code class=\"language-text\">\\n</code> 이스케이프를 어떻게 바라보게 할 지 정할 수 있기 때문이다.</p>\n<p>이번에는 방금 작성했던 정규식에 문자열의 시작을 의미하는 <code class=\"language-text\">^</code> 앵커를 추가해서 단순히 <code class=\"language-text\">\\w</code> 그룹의 두 글자가 아닌 문자열의 시작 부분의 두 글자를 잡아보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">string<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\w{2}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>단순히 <code class=\"language-text\">\\w</code> 그룹의 두 글자를 잡아낼 때와는 다르게 이번에는 <code class=\"language-text\">ab</code>만 뽑혀나오는 것을 확인할 수 있는데, 이는 문자열 내에서 <code class=\"language-text\">\\n</code> 이스케이프로 라인이 나누어져있더라도 정규식에게는 그저 하나의 문자열이라고 인식되기 때문이다.</p>\n<p>기본적으로 정규식은 하나의 문자열 객체를 기준으로 패턴을 매칭하기 때문에 전체 문자열의 첫 글자인 <code class=\"language-text\">a</code> 앞에 있는 경계만 문자열의 시작(<code class=\"language-text\">^</code>)이라고 판단한 것이다.</p>\n<p>바로 이런 상황일 때 <code class=\"language-text\">m</code> 플래그를 사용하면 이전과는 다른 결과를 만들어낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">string<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\w{2}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">gm</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ef\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ij\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>쨘, 이번에는 하나의 문자열이 아니라 <code class=\"language-text\">\\n</code> 이스케이프를 기준으로 각각 별도의 문자열로 평가되어 정규식이 적용되는 것을 볼 수 있다. 즉, <code class=\"language-text\">m</code> 플래그는 단순히 여러 줄의 문자열을 검사한다는 의미가 아니라 <code class=\"language-text\">\\n</code> 이스케이프 문자를 기준으로 라인을 나누어 각각의 문자열을 하나의 검사 대상으로 보겠다는 의미인 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/69dd01cadc54feeecd2154af66259484/35751/multiline.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVR42m1Ta08aQRTdf84fwU8mtSQWaCMULfUBRogCAkKoqAhqdBeFfTA7uzszcHpnfETSTkLYnTn3zDnn3rUSKRHHMYRSUPRLkgRRFEGIBMvlEp+XovfkDaPx+lwIgTiJzZ6ut17abbgnJ7g+O0OTngs7Oziu1hCGkblIr9VqZf7jMMRLpwOvXsdVs4n2xQW+5/PodC4Iz40Qy97dRdBoYFCpoFQuI5/PonrYwPXAgZRindB14RSLBt/e30eRajOZr6hVu7j5Q3glYAmyzBiD7/vgnGOxWIBHHEEQGDuflyRLnPY4KY0Iqx3oGq2MsfDV8tHREba2tlCkm0ulEj1/wehmgkXATC5rCumS+WBgLE/Oz/GjUEA2m8XTo01CXvFWOp3G6empIUulUjg4+I3acRtXA/sfy9F0CodiiUYj/KSsNb5c/oX6cZci0ngi9DzPME8mE3S7Xbju3NjWEfzPckjx6MkY396i1+sZbEgRaIVKSVgVasbl5SU2NzfRarWwt7dHpK4BfhC+KUxozx0Owe/vcU5NOSO8jiyk/BidGcu5XA79fh8bGxsoUCZ6bB6oQDfqnfDDMqmeUjyc3BxubyPzLWtqHNs2AnSTrJgG+O5ubCzqLoXU4YT25FJ9EL2vJb0LPdTPU0jqrqCMtV0dgcbrc0u6HnhMXwCXCJgA8wjoh5BzD0up1iyv9Kj4NGJMIY4UXD+GZPSVzTwIL4CKKcPYdvA4DWHfeXh0GJyHOfjTM4LhmIrDNctqNgMnwvHEx8xmGI3niGYLsNsHzPsj8FmAv+izel8PUmvHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"multiline\" title=\"\" src=\"/static/69dd01cadc54feeecd2154af66259484/6af66/multiline.png\" srcset=\"/static/69dd01cadc54feeecd2154af66259484/69538/multiline.png 160w,\n/static/69dd01cadc54feeecd2154af66259484/72799/multiline.png 320w,\n/static/69dd01cadc54feeecd2154af66259484/6af66/multiline.png 640w,\n/static/69dd01cadc54feeecd2154af66259484/35751/multiline.png 873w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>m 플래그가 있냐 없냐에 따라 각각의 라인을 통합하여<br>하나의 문자열로 볼 것인지, 각각의 문자열로 볼 것인지가 결정된다.</small>\n</center>\n<p><code class=\"language-text\">m</code> 플래그 같은 경우는 짧은 문자열을 다루는 상황보다는 개행이 포함된 긴 문자열을 다루는 상황일 때 사용하게 되는데, 필자 또한 비즈니스 내에서 유저의 간단한 입력을 검사하는 경우보다는 행이 변경될 때마다 가장 첫 글자를 대문자로 적어야하는 영문법을 검사한다던가, 비압축 파일을 파싱한다던가 하는 경우에 주로 사용했었던 것 같다.</p>\n<h3 id=\"패턴이-몇-번이나-나왔는지-찾아주는-수량자\" style=\"position:relative;\">패턴이 몇 번이나 나왔는지 찾아주는 수량자<a href=\"#%ED%8C%A8%ED%84%B4%EC%9D%B4-%EB%AA%87-%EB%B2%88%EC%9D%B4%EB%82%98-%EB%82%98%EC%99%94%EB%8A%94%EC%A7%80-%EC%B0%BE%EC%95%84%EC%A3%BC%EB%8A%94-%EC%88%98%EB%9F%89%EC%9E%90\" aria-label=\"패턴이 몇 번이나 나왔는지 찾아주는 수량자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>방금 전 예시에서 필자는 <code class=\"language-text\">\\w</code> 그룹의 두 글자를 찾아내기 위해 <code class=\"language-text\">{2}</code>라는 표현을 사용했었다. 이 표현은 바로 앞에 오는 표현의 반복 횟수를 의미하는데, <code class=\"language-text\">{0,2}</code>처럼 최소, 최대 반복 횟수를 사용하여 반복되는 범위를 표현해줄 수도 있다.</p>\n<p>이렇게 앞에 위치한 패턴이 몇 번이나 일치하는지를 잡아낼 수 있는 표현을 수량자라고 한다.</p>\n<h4 id=\"반복되는-횟수를-명시해보자\" style=\"position:relative;\">반복되는 횟수를 명시해보자<a href=\"#%EB%B0%98%EB%B3%B5%EB%90%98%EB%8A%94-%ED%9A%9F%EC%88%98%EB%A5%BC-%EB%AA%85%EC%8B%9C%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"반복되는 횟수를 명시해보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'aaaabbbcc'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{3}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"aaa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"abb\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bcc\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>필자가 사용한 <code class=\"language-text\">\\w{3}</code>이라는 표현은 단순히 Word 그룹이 3번 반복되는 패턴을 찾으라는 표현이기 때문에, 정규식은 문자열 전체에서 Word 그룹이 3번 반복되고 있는 케이스를 뽑아내고 있는 것을 볼 수 있다.</p>\n<p>사실 반복이라는 패턴은 굉장히 여러 곳에 응용될 수 있는데, 그 중 대표적인 예가 바로 전화번호나 주민등록번호처럼 같은 그룹의 문자가 일정 횟수 이상 반복되는 것이 정해져있는 정보이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'010-0101-0101'</span>\n<span class=\"token string\">'02-0101-0101'</span>\n<span class=\"token string\">'031-010-0101'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>대한민국의 전화번호는 대부분 이 3가지 패턴 안에서 결정되는데, 휴대폰 번호같은 경우 반드시 맨 앞에는 3자리의 통신사 식별번호가 위치하고 그 뒤에는 4자리의 전화번호 필드가 두 번 반복되는 형태를 가지며, 그 외 유선전화는 2-3자리의 지역번호 뒤로 3-4 자리의 필드와 4자리의 필드가 반복되는 형태를 가진다.</p>\n<p>이런 경우 수량자를 사용하면 간단하게 원하는 패턴을 잡아낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 휴대폰 번호를 잡아내는 패턴</span>\n<span class=\"token operator\">/</span><span class=\"token number\">01</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token operator\">|</span><span class=\"token number\">1</span><span class=\"token operator\">|</span><span class=\"token number\">6</span><span class=\"token operator\">|</span><span class=\"token number\">8</span><span class=\"token operator\">|</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이 패턴을 보고 나이가 어리신 분들은 “왜 <code class=\"language-text\">010</code>으로 안 잡고 굳이 저런 숫자들을 넣어주는거지?”라는 의문을 가지실 수도 있는데…</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b89f9481679525d129c49f370f62a88d/41099/old_phone.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDBQL/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABroz5g9t7JJoTVAqf/8QAGhAAAwEAAwAAAAAAAAAAAAAAAQIDABESIv/aAAgBAQABBQK1erTcUGunOmXlVSHFD6M1eYAUf//EABcRAQADAAAAAAAAAAAAAAAAABABETH/2gAIAQMBAT8BonD/xAAXEQEAAwAAAAAAAAAAAAAAAAAQAREx/9oACAECAQE/AbI0/8QAHBAAAgICAwAAAAAAAAAAAAAAAAEQESFRAhLB/9oACAEBAAY/AlsxFbFhv0vi7UdWUlSP/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITFBYXGh/9oACAEBAAE/IcEGn2LnnYyoRs1x7iE2NhAW4RleJwDvG4QEHCf/2gAMAwEAAgADAAAAEOMIAP/EABgRAAIDAAAAAAAAAAAAAAAAAAEQESEx/9oACAEDAQE/EDSVgv/EABgRAAIDAAAAAAAAAAAAAAAAAAEQESEx/9oACAECAQE/EBaFov/EAB0QAQACAgMBAQAAAAAAAAAAAAEAESFBMVFhcaH/2gAIAQEAAT8QAt9zTgOuq91La8qBkjlxMMA2jpLOI6I3Xu/IRTgJARcVCEwb1ZUHefz5DLBQNBP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"old phone\" title=\"\" src=\"/static/b89f9481679525d129c49f370f62a88d/41099/old_phone.jpg\" srcset=\"/static/b89f9481679525d129c49f370f62a88d/0913d/old_phone.jpg 160w,\n/static/b89f9481679525d129c49f370f62a88d/cb69c/old_phone.jpg 320w,\n/static/b89f9481679525d129c49f370f62a88d/41099/old_phone.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>한국인의 통신채널, 스피드 011...</small>\n</center>\n<p>사실 휴대폰 통신사 식별번호는 <code class=\"language-text\">010</code>만 있는 것이 아니다. 예전에는 <code class=\"language-text\">011</code>, <code class=\"language-text\">016</code>, <code class=\"language-text\">018</code> 등 다양한 통신사 식별번호가 있었다가 나중에 <code class=\"language-text\">010</code>으로 통합된 것이라 아직도 이런 구 식별번호를 사용하시는 분들이 있을 수도 있기 때문에 이런 로직을 작성할 때는 주의하도록 하자. <small><del>(이제 이거 알면 빼박 늙었다는 증거…)</del></small></p>\n<h4 id=\"원하는-패턴이-한번-이상-출현했는지-알아보자\" style=\"position:relative;\">원하는 패턴이 한번 이상 출현했는지 알아보자<a href=\"#%EC%9B%90%ED%95%98%EB%8A%94-%ED%8C%A8%ED%84%B4%EC%9D%B4-%ED%95%9C%EB%B2%88-%EC%9D%B4%EC%83%81-%EC%B6%9C%ED%98%84%ED%96%88%EB%8A%94%EC%A7%80-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"원하는 패턴이 한번 이상 출현했는지 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이렇게 정규식은 간단하게 반복되는 횟수를 명시하여 수량자 앞에 위치한 패턴이 얼마나 반복되었는지를 표현할 수 있지만, 이 수량자는 너무 명확한 표현이라서 “있거나 없을 수도 있다”라던가 “n개 이상 등장”과 같은 추상적인 패턴을 표현하기에는 적합하지않다.</p>\n<p>그렇기 때문에 정규식은 n개 이상과 같이 조금 더 추상적인 패턴의 등장 횟수를 매칭할 수 있는 수량자들 또한 제공해주고 있다.</p>\n<h5 id=\"code-classlanguage-textcode-수량자\" style=\"position:relative;\"><code class=\"language-text\">*</code> 수량자<a href=\"#code-classlanguage-textcode-%EC%88%98%EB%9F%89%EC%9E%90\" aria-label=\"code classlanguage textcode 수량자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p><code class=\"language-text\">*</code> 수량자는 이전에 등장한 패턴이 0회 이상 등장하는지 여부를 나타내는 수량자이다. 0회 이상이란 표현이 조금 애매할 수 있는데, 조금 더 풀어서 이야기하면 이 수량자 앞에 위치한 패턴은 등장하지 않을 수도 있고 여러 번 반복될 수도 있다는 뜻이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// b 앞에 위치한 a는</span>\n<span class=\"token comment\">// 없어도 되고 여러 번 나와도 다 잡아라!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">a*b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'b'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'ab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'aab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'aab'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">*</code> 수량자 앞에 위치한 패턴은 아무리 많이 등장해도 전부 잡히기 때문에 <code class=\"language-text\">a</code>의 갯수가 아무리 늘어난다하더라도 모두 잡아낼 수 있게된다.</p>\n<h5 id=\"code-classlanguage-textcode-수량자-1\" style=\"position:relative;\"><code class=\"language-text\">?</code> 수량자<a href=\"#code-classlanguage-textcode-%EC%88%98%EB%9F%89%EC%9E%90-1\" aria-label=\"code classlanguage textcode 수량자 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p><code class=\"language-text\">?</code> 수량자는 이전에 등장한 패턴이 0 또는 1회 등장하는지 여부를 나타내는 수량자이다. <code class=\"language-text\">*</code> 수량자와는 다르게, <code class=\"language-text\">?</code> 수량자 앞에 위치한 패턴은 아무리 많이 등장하더라도 단 한 개만 잡아낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// b 앞에 위치한 a는</span>\n<span class=\"token comment\">// 없어도 되고 여러 번 나와도 1개만 잡아라!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">a?b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'b'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'ab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'aab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h5 id=\"code-classlanguage-textcode-수량자-2\" style=\"position:relative;\"><code class=\"language-text\">+</code> 수량자<a href=\"#code-classlanguage-textcode-%EC%88%98%EB%9F%89%EC%9E%90-2\" aria-label=\"code classlanguage textcode 수량자 2 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p><code class=\"language-text\">+</code> 수량자는 이전에 등장한 패턴이 반드시 한 번 이상 등장해야한다는 것을 의미한다. 즉 <code class=\"language-text\">+</code> 수량자 앞에 위치한 패턴이 등장하지 않는다면 매칭에 실패하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// b앞에 위치한 a는</span>\n<span class=\"token comment\">// 반드시 존재해야하고 여러 번 나와도 다 잡아라!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">a+b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'b'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'ab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'aab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'aab'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">+</code> 수량자의 의미를 조금 더 쉽게 설명해보자면 “몇 번이든 좋으니까 있기만 하면 된다”라는 의미이기 때문에 문자열 중에서 반드시 존재해야하는 문자를 잡아낼 때 유용하게 사용할 수 있다.</p>\n<h2 id=\"알면-더-효율적인-기능들\" style=\"position:relative;\">알면 더 효율적인 기능들<a href=\"#%EC%95%8C%EB%A9%B4-%EB%8D%94-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EA%B8%B0%EB%8A%A5%EB%93%A4\" aria-label=\"알면 더 효율적인 기능들 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>지금까지 정규식이 제공하는 기본적인 기능인 캐릭터 클래스, 앵커, 플래그 그리고 수량자에 대해 알아보았다. 사실 이 정도만 알고 있어도 일반적인 비즈니스 상황에서 정규식을 사용하는데에는 큰 무리가 없지만, 간혹 이 기능만으로는 처리가 귀찮은 상황들이 터지게 된다.</p>\n<p>지금부터는 조금 더 편하게 정규식을 사용하기 위해서 알고 있으면 좋은 기능들에 대한 이야기를 해보도록 하겠다.</p>\n<h3 id=\"패턴을-기억하는-캡처링\" style=\"position:relative;\">패턴을 기억하는 캡처링<a href=\"#%ED%8C%A8%ED%84%B4%EC%9D%84-%EA%B8%B0%EC%96%B5%ED%95%98%EB%8A%94-%EC%BA%A1%EC%B2%98%EB%A7%81\" aria-label=\"패턴을 기억하는 캡처링 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>정규식은 단순히 문자열 내에서 패턴을 매칭하기만 하는 것이 아니라, 매칭된 패턴을 기억하고 있을 수 있는 기능도 제공한다. 이렇게 패턴을 기억할 수 있는 기능은 문자열을 치환하는 작업을 진행할 때 변경되면 안 되는 부분과 변경되어야 하는 부분을 구분하여 원하는 부분만 바꿔치거나, 중복 입력된 부분을 찾는 등의 작업에서 꽤나 유용하게 사용된다.</p>\n<p>예를 들어 <code class=\"language-text\">$10000</code>과 같이 달러 단위를 의미하는 문자열이 있다고 생각해보자. 이 문자열을 잡아낼 수 있는 패턴은 무엇일까?</p>\n<p>길게 생각할 것도 없이 달러 단위를 의미하는 문자열은 <code class=\"language-text\">$</code> 뒤에 반드시 한 개 이상의 숫자가 위치하여야 정보성이 있다고 판단할 수 있기 때문에 간단하게 <code class=\"language-text\">$</code>문자와 그 뒤에 오는 1개 이상의 숫자를 잡아낼 수 있는 표현을 사용하면 우리는 원하는 패턴을 잡아낼 수 있다. <small>(그냥 <code class=\"language-text\">$</code>는 문자열의 끝을 나타내는 앵커이기 때문에 반드시 앞에 <code class=\"language-text\">\\</code>를 붙혀 이스케이핑해주는 것을 잊지말자)</small></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'$10000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$\\d+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"$10000\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>자, 이렇게 정규식을 통해 잡아낸 <code class=\"language-text\">$10000</code>라는 문자열을 <code class=\"language-text\">10000 달러</code>라는 문자열로 변경하고 싶다면 어떻게 할 수 있을까?</p>\n<p>간단하게 생각하면 <code class=\"language-text\">String.prototype.replace</code> 메소드를 사용하면 될 것 같지만, 위 정규식을 사용하여 잡아낸 패턴은 <code class=\"language-text\">$10000</code> 전체이기 때문에 <code class=\"language-text\">10000</code>이라는 문자만 그대로 유지하며 <code class=\"language-text\">$</code> 부분만 치환하는 것은 불가능하다.</p>\n<p>즉, 이 문제를 해결하기 위해서는 패턴을 매칭된 부분 중 특정 부분을 기억하는 기능이 필요한 것이다. 바로 이런 상황일 때 캡쳐링을 사용하면 문제를 쉽게 해결할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 기억하고자 하는 부분을 괄호로 감싸자!</span>\n<span class=\"token operator\">/</span>\\<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이 표현이 이전 표현과 다른 점은 단지 <code class=\"language-text\">\\d+</code> 부분을 괄호로 감싼 것 뿐이지만, 이렇게 특정 표현을 괄호로 감싸게 되면 정규식은 이 부분을 캡쳐링하게 된다.</p>\n<p><code class=\"language-text\">String.prototype.replace</code> 메소드의 두 번째 인자는 치환될 문자열을 의미하는데, 이렇게 캡쳐링된 패턴은 치환될 문자열 내에서 <code class=\"language-text\">$n</code>이라는 특수한 표현으로 다시 불러올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'$10000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$(\\d+)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$1 달러'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">\"10000 달러\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">$1</code>은 단지 정규식 패턴 내에서 캡처링된 첫 번째 그룹을 의미하는 것이기 때문에 캡처링된 패턴이 늘어나면 <code class=\"language-text\">$2</code>나 <code class=\"language-text\">$3</code>처럼 두 번째, 세 번째 패턴을 계속 불러올 수도 있다.</p>\n<p>그리고 이렇게 특정한 패턴을 캡처하여 기억할 수 있는 기능은 반복되는 문자를 찾아내는 데에도 유용하게 사용될 수 있는데,  반복되는 문자라는 것 자체가 이전에 나타난 문자가 그 다음에 연속해서 다시 나타나는 것을 의미하기 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\w)\\1</span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이 정규식에서 필자는 <code class=\"language-text\">(\\w)</code> 표현을 사용하여 문자열 내의 Word 그룹에 속한 글자를 캡처링하였고, 이후 <code class=\"language-text\">\\1</code>이라는 표현을 사용하여 캡처링한 패턴을 다시 불러왔다.</p>\n<p>즉, <code class=\"language-text\">\\w</code>에 매칭된 패턴을 <code class=\"language-text\">\\1</code>을 통해 불러옴으로써 반복이라는 패턴을 표현할 수 있는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'aabccdeef'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\w)\\1</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ee\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이렇게 문자열 내에 동일한 문자가 반복되는 패턴을 찾아내는 표현은 <code class=\"language-text\">(.)\\1{2}</code>와 같이 수량자와 조합되어 “동일한 글자가 3번 이상 반복되면 안 됨”과 같은 비밀번호 검증 로직에 유용하게 사용되기도 한다.</p>\n<h3 id=\"greedy-vs-lazy\" style=\"position:relative;\">Greedy vs Lazy<a href=\"#greedy-vs-lazy\" aria-label=\"greedy vs lazy permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>앞서 우리는 1개 이상 존재하는 패턴을 매칭하는 <code class=\"language-text\">+</code> 수량자와 0개 이상 존재하는 패턴을 매칭하는 <code class=\"language-text\">*</code> 수량자에 대해 알아보았었다. 이렇게 n개 이상이라는 수량자를 사용하게 되면 패턴을 매칭할 때 약간은 애매한 부분이 생기게 되는데, 바로 이런 케이스이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// &lt;, >으로 감싸진 모든 문자열을 찾아라!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.*></span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">\"&lt;p>This is p tag&lt;/p>\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"&lt;p>This is p tag&lt;/p>\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>필자가 사용한 정규식은 단지 <code class=\"language-text\">&lt;</code>, <code class=\"language-text\">></code>으로 감싸진 모든 문자열을 찾으라는 표현이기 때문에 <code class=\"language-text\">&lt;</code>과 <code class=\"language-text\">></code>으로 감싸진 <code class=\"language-text\">&lt;p>This is p tag&lt;/p></code> 전체를 잡아내는 게 당연한 것이 아닌가하고 생각할 수도 있지만, 사실 <code class=\"language-text\">&lt;</code>과 <code class=\"language-text\">></code>으로 감싸진 패턴은 저 하나만 존재하는 것이 아니다.</p>\n<p>바로 <code class=\"language-text\">&lt;p></code>와 <code class=\"language-text\">&lt;/p></code>도 위 정규식이 잡아낼 수 있는 범주에 들어가는 패턴이기 때문이다. 하지만 정규식은 기본적으로 <code class=\"language-text\">&lt;p>This is p tag&lt;/p></code>와 같이 최대한 길게 매칭되는 패턴을 잡도록 세팅되어있기 때문에, 결과가 이렇게 나오는 것이다.</p>\n<p>이때 이렇게 최대한 길게 매칭되는 패턴을 잡으려는 매칭 방법을 탐욕(Greedy) 매칭이라고 한다. 말 그대로 탐욕스럽게 최대한 길게 매칭되는 부분을 먹어버리는 것이다. <small>(매 순간 항상 최적의 선택을 하는 의미의 Greedy 알고리즘이랑은 용어만 같고, 사실 상 다른 개념이다)</small></p>\n<p>그렇다면 위 패턴을 사용하여 작은 매칭 단위인 <code class=\"language-text\">&lt;p></code>와 <code class=\"language-text\">&lt;/p></code>를 잡아내고 싶다면 어떻게 하면 될까?</p>\n<blockquote>\n<p>바로 정규식을 <strong>게으르게(Lazy)</strong> 만들면 된다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// &lt;, >으로 감싸진 모든 문자열을 게으르게 찾아라!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.*?></span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">\"&lt;p>This is p tag&lt;/p>\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"&lt;p>\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;/p>\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이전 표현과 비교했을 때 달라진 부분은 “0개 이상의 패턴”을 의미하는 <code class=\"language-text\">*</code> 수량자의 뒤 쪽에 <code class=\"language-text\">?</code>를 붙혔다는 것이다. 이렇게 게으른 매칭을 사용하게 되면 정규식은 매칭할 수 있는 패턴들 중 가능한 가장 짧은 패턴들을 찾게된다. 같은 표현을 가지고 패턴을 찾으라고 일을 시켰을 때, 최대한 짧은 패턴만 찾고 일을 마치려고 하니 게으르다고 표현하는 것이다.</p>\n<p>정리하자면 <code class=\"language-text\">*</code>나 <code class=\"language-text\">+</code>과 같이 n개 이상을 나타내는 수량자는 기본적으로 매칭할 수 있는 패턴 중 가장 긴 것을 탐욕(Greedy)스럽게 매칭하고, 이 수량자 뒤 쪽에 <code class=\"language-text\">?</code>를 붙히게 되면 게으르게(Lazy) 매칭할 수 있는 패턴 중 가장 짧은 것을 매칭하게 되는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Greedy</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token operator\">/</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.+></span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token comment\">// Lazy</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">?</span><span class=\"token operator\">></span><span class=\"token operator\">/</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.+?></span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이렇게 Greedy, Lazy 매칭의 차이를 모르고 있다면 방금 전 예시의 <code class=\"language-text\">&lt;p>This is p tag&lt;/p></code> 처럼 매칭할 수 있는 패턴의 종류가 여러 개인 경우 원하는 패턴을 잡아낼 수 없으니, 이 차이를 잘 기억해두도록 하자.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>필자는 대학생 때 정규식을 처음 접하게 되었었는데, 당시 OBJ 파일을 <a href=\"https://threejs.org/\" target=\"_blank\" rel=\"nofollow\">ThreeJS</a> 객체로 표현하는 일종의 파서를 만들고 있었기 때문에 정규식을 상당히 하드하게 사용해야 했었던 기억이 난다. <small>(당시 ThreeJS에서 제공하는 OBJ Loader에 버그가 있었다 😢)</small></p>\n<p>OBJ 파일은 각 버텍스의 좌표와 텍스쳐의 UV 매핑 좌표, 그리고 각 버텍스들의 방향을 나타내는 노말 등을 다음과 같이 나타내는 파일이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"*.obj\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-*.obj line-numbers\"><code class=\"language-*.obj\"># 버텍스 좌표\nv -1.692615 -0.021714 -1.219301\nv 7.334266 -0.021714 -1.219302\nv 7.334265 0.021714 -1.219302\nv -1.692616 0.021714 -1.219301\nv -1.692616 -0.000000 -1.241016\nv 7.334265 0.000000 -1.241017\nv 7.334266 0.000000 -1.197588\nv -1.692615 -0.000000 -1.197587\n\n# 텍스처 UV 값\nvt 0.0000 0.0000\nvt 1.0000 0.0000\nvt 1.0000 1.0000\nvt 0.0000 1.0000\nvt 0.0000 0.0000\nvt 1.0000 0.0000\nvt 1.0000 1.0000\nvt 0.0000 1.0000\n\n# 버텍스의 노말 값\nvn -0.0000 -0.0000 -1.0000\nvn 0.0000 -1.0000 -0.0000\n\nusemtl Material.001\n\n# 각 페이스를 구성하는 버텍스의 인덱스들\nf 1/1/1 4/2/1 3/3/1 2/4/1\nf 8/5/2 5/6/2 6/7/2 7/8/2</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 필자는 이 파일을 읽어와 앞서 설명한 정규식의 <code class=\"language-text\">m</code> 플래그를 사용하여 각각의 라인 별로 나눈 후, <code class=\"language-text\">v</code>로 시작하면 버텍스 좌표, <code class=\"language-text\">vt</code>로 시작하면 텍스쳐의 uv, <code class=\"language-text\">vn</code>으로 시작하면 버텍스의 노말값 등으로 파싱을 해야했었는데, 물론 어렵고 복잡한 과정이기는 했지만 재미있기도 했던 기억이 있다.</p>\n<p>컴퓨터가 만든 파일이라는 것이 사실은 어떤 의미를 가진 문자열의 연속이라는 사실도 새로웠지만, 정규식을 사용하여 이 문자열을 의미있는 정보로 가공할 수 있다는 게 더 재밌었다.</p>\n<p>하지만 앞서 이야기했듯이 정규식은 이런 파서를 만들 때보다 일반적인 비즈니스 로직 상에서 더 자주 사용된다. 비밀번호나 이메일 주소 등 사용자가 틀릴 가능성이 높은 입력을 검사할 때 정규식은 말 그대로 치트키처럼 사용될 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 399px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f8ab432328c5d8bafe5aa95518ad4df2/a307d/password_rule.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVR42p1T2Y7CMBDr///c8sA+8oSABnoftMmk8XpSjiJYCYjkJk0ztjMzTfqmwe96jZ/VClVdw3sPay2ccx9BRKAjKcsKTd2gbduv0XUd8jyPxElVVVDUdPctGt5SCdVlInK17OHkbn+Jec897WlqlgghINGcqUJRFDGHTUv7XBdFieyUoeQcHWQZjDHI6ETdDMMQc6YkOpRnmqaZ0DmLkXkYux6WGEigihqkszqydozv4zhGaNxy3An5CAzwVPV0JCaFbLe4yOPd8eAwEJ6FkdMpwpcF7GZzu84XhHTY1JDjkU4LSMYW2O+iyLtOnx2yEHI0dFdCtKfSAyRN59M8+ED6QuCRkAuJ+TPz1VnZmMsr4ccOL0WR/Z7XzeguhdN8ktweDnAUmvoenlV2ux2FzJPQjTD+g/wQ2B5Tf55nBk5sjTDamFvPlgpsZBUO/BbO5/8dKqG+aPu8BMVe7mvMAsqjf8of4zBFjqIV43cAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"password rule\" title=\"\" src=\"/static/f8ab432328c5d8bafe5aa95518ad4df2/a307d/password_rule.png\" srcset=\"/static/f8ab432328c5d8bafe5aa95518ad4df2/69538/password_rule.png 160w,\n/static/f8ab432328c5d8bafe5aa95518ad4df2/72799/password_rule.png 320w,\n/static/f8ab432328c5d8bafe5aa95518ad4df2/a307d/password_rule.png 399w\" sizes=\"(max-width: 399px) 100vw, 399px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>물론 기본적으로 제공되는 메소드들을 잘 사용해도 검사는 할 수 있지만, 정규식으로 훨씬 간단하게 해결할 수 있다</small>\n</center>\n<p>만약 정규식을 모른다면 이메일 주소와 같은 간단한 문자열의 유효성을 검증하기 위해서 여러 개의 빌트인 메소드들을 조합하여 검사해야하기 때문에 꽤나 비효율적이다. 게다가 개인적으로는 아무리 정규식이 읽기가 어렵다지만 이렇게 복잡한 메소드들의 조합보다는 차라리 정규식이 가독성이 더 좋은 것이 아닌가하는 생각도 있다.</p>\n<p>물론 정규식은 코드처럼 라인이나 인덴트가 나누어져 있지도 않기 때문에 마치 무의미한 문자들의 나열처럼 보인다. 하지만 어차피 정규식이 제공하는 표현은 그렇게 많은 편이 아니기 때문에 조금만 사용하다보면 짧은 정규식 정도는 누구나 금방 이해할 수 있을 정도라고 생각한다.</p>\n<p>이상으로 불규칙 속에서 규칙을 찾아내자 포스팅을 마치며, 다음 포스팅에서는 필자가 지금까지 개발자로 일을 하면서 정규식을 실제로 사용했던 사례들을 토대로 정규식을 설명하는 내용을 풀어볼 예정이다.</p>","fields":{"slug":"20200724-about-regular-expression","path":"/2020/07/24/about-regular-expression/","lang":"ko"},"frontmatter":{"title":"불규칙 속에서 규칙을 찾아내는 정규 표현식","subTitle":"무한한 가능성 속에서 패턴을 정의하는 기술","date":"Aug 10, 2020","categories":["프로그래밍","튜토리얼"],"tags":["정규식","정규표현식","Regexp","Regular Expression","캐릭터 클래스","Character Class","Anchor","앵커","캡쳐링","Capturing Group","Greedy","Lazy"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/fc5c5/thumbnail.webp 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"c3b98fc9-696d-5ac7-bfbf-a907e3bfe83f","tableOfContents":"","excerpt":"","html":"","fields":{"slug":"regular-expression","path":"/books/regular-expression/","lang":"ko"},"frontmatter":{"title":"정규식 완벽 이해","subTitle":"불규칙 속에서 규칙을 찾아내는 기술","date":"Jul 24, 2020","categories":null,"tags":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/fc5c5/thumbnail.webp 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}],"pageInfo":{"currentPage":3,"pageCount":8}}},"pageContext":{"limit":15,"skip":30,"lang":"ko","totalCount":111}},"staticQueryHashes":["3523904809","650499039"],"slicesMap":{}}