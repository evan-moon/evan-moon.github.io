{"componentChunkName":"component---src-templates-posts-page-template-index-tsx","path":"/page/2/en/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"90c60f54-09b1-5bc1-b8f8-0ebea3582058","tableOfContents":"<ul>\n<li>\n<p><a href=\"#5k-raise-or-50k-in-stock-options\"><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn><mi>K</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>s</mi><mi>e</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">5K raise or </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">5</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Kr</span><span class=\"mord mathnormal\">ai</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">seor</span></span></span></span></span>50K in stock options?</a></p>\n</li>\n<li>\n<p><a href=\"#options-financial-instruments-with-time-value\">Options: financial instruments with time value</a></p>\n<ul>\n<li><a href=\"#options-in-everyday-life-apartment-pre-sale-rights\">Options in everyday life: apartment pre-sale rights</a></li>\n<li><a href=\"#aside-whats-the-difference-between-options-and-futures\">Aside: what‚Äôs the difference between options and futures?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#stock-options-the-right-to-buy-stock\">Stock options: the right to buy stock</a></p>\n<ul>\n<li><a href=\"#granting-stock-options\">Granting stock options</a></li>\n<li><a href=\"#strike-price\">Strike price</a></li>\n<li><a href=\"#vesting\">Vesting</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#exercising-stock-options-to-buy-stock\">Exercising stock options to buy stock</a></p>\n<ul>\n<li><a href=\"#paying-the-stock-option-strike-price\">Paying the stock option strike price</a></li>\n<li><a href=\"#income-means-taxes\">Income means taxes!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#ready-to-sell-that-stock\">Ready to sell that stock?</a></p>\n<ul>\n<li><a href=\"#sold-your-stock-time-to-pay-taxes\">Sold your stock? Time to pay taxes!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#stock-option-expiration\">Stock option expiration</a></p>\n</li>\n<li>\n<p><a href=\"#how-can-you-make-a-good-choice\">How can you make a good choice?</a></p>\n<ul>\n<li><a href=\"#calculate-actual-profit-from-stock-options\">Calculate actual profit from stock options</a></li>\n<li><a href=\"#you-must-stay-at-the-company-until-the-cliff\">You must stay at the company until the cliff</a></li>\n<li><a href=\"#consider-company-size-and-growth-potential\">Consider company size and growth potential</a></li>\n<li><a href=\"#plan-your-personal-cash-flow\">Plan your personal cash flow</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing thoughts</a></p>\n</li>\n</ul>","excerpt":"This post is going to be a bit different from my usual content - instead of talking about philosophy or technical topics, I want to talk about something that pretty much everyone working in tech has heard about at least once: stock options.","html":"<p>This post is going to be a bit different from my usual content - instead of talking about philosophy or technical topics, I want to talk about something that pretty much everyone working in tech has heard about at least once: <strong>stock options</strong>.</p>\n<!-- more -->\n<p>With the ongoing developer hiring crunch, more and more companies are offering signing bonuses or stock options as part of their compensation packages. But the thing is, a lot of people don‚Äôt really understand what stock options are, how they can actually make you money, or how much you‚Äôll owe in taxes - they just accept them without thinking too hard about it.</p>\n<p>I‚Äôve even heard people say things like ‚ÄúI got 100 shares worth 100 million won when my company was valued at 100 billion, and now it‚Äôs at 500 billion, so my money must have 5x‚Äôd too!‚Äù But stock options don‚Äôt work that simply. You have to pay taxes on your gains, and the actual profit you pocket will be lower than you think. Plus, some people get caught off guard when they don‚Äôt have the cash on hand to pay the strike price or taxes.</p>\n<p>Signing bonuses are easy to understand - the company gives you a lump sum of cash with your first paycheck after joining. It‚Äôs just regular incentive money. But stock options are financial derivatives, so if you don‚Äôt have any background in finance, they can be pretty confusing.</p>\n<p>Sure, you could just think of them as regular stock and probably be fine in most cases. But stock options are not the same as stock, and if you don‚Äôt understand the difference, it could mess with your personal cash flow planning.</p>\n<h2 id=\"5k-raise-or-50k-in-stock-options\" style=\"position:relative;\"><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn><mi>K</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>s</mi><mi>e</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">5K raise or </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">5</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Kr</span><span class=\"mord mathnormal\">ai</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">seor</span></span></span></span></span>50K in stock options?<a href=\"#5k-raise-or-50k-in-stock-options\" aria-label=\"5k raise or 50k in stock options permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>First, let‚Äôs talk about what stock options actually are. As a developer, you‚Äôve probably gotten offers like this at some point:</p>\n<blockquote>\n<ul>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn><mi>K</mi><mi>s</mi><mi>a</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>y</mi><mi>i</mi><mi>n</mi><mi>c</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>v</mi><mi>s</mi><mi mathvariant=\"normal\">.</mi><mi>s</mi><mi>a</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>a</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>y</mi><mo>+</mo></mrow><annotation encoding=\"application/x-tex\">5K salary increase vs. same salary + </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">5</span><span class=\"mord mathnormal\">Ks</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ry</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\">cre</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">se</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">am</span><span class=\"mord mathnormal\">es</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ry</span><span class=\"mord\">+</span></span></span></span></span>50K worth of stock options</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>50</mn><mi>K</mi><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>b</mi><mi>o</mi><mi>n</mi><mi>u</mi><mi>s</mi><mi>v</mi><mi>s</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">50K signing bonus vs. </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">50</span><span class=\"mord mathnormal\">Ks</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">nin</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">s</span><span class=\"mord\">.</span></span></span></span></span>100K worth of stock options (or RSUs)</p>\n</li>\n</ul>\n</blockquote>\n<p>If you‚Äôve been around the block a few times, you can probably make a good call based on your situation. But if it‚Äôs your first time seeing an offer like this, it can be pretty overwhelming. If you don‚Äôt know much about stock options, you might think:</p>\n<center>\n  <img src=\"/61beca707059c9a6222de21b1eda6779/good.gif\" width=\"100%\">\n  <br>\n  <small>They're giving me $50K worth of stock instead of a $5K raise? That's amazing!</small>\n  <br>\n  <br>\n</center>\n<p>You hear stories about people making millions from stock options, buying houses, and so on. And let‚Äôs be real - a <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn><mi>K</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>s</mi><mi>e</mi><mi>d</mi><mi>o</mi><mi>e</mi><mi>s</mi><msup><mi>n</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">‚Ä≤</mo></msup><mi>t</mi><mi>i</mi><mi>n</mi><mi>c</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>y</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>t</mi><mi>a</mi><mi>k</mi><mi>e</mi><mo>‚àí</mo><mi>h</mi><mi>o</mi><mi>m</mi><mi>e</mi><mi>p</mi><mi>a</mi><mi>y</mi><mi>b</mi><mi>y</mi><mi>t</mi><mi>h</mi><mi>a</mi><mi>t</mi><mi>m</mi><mi>u</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>f</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>a</mi><mi>x</mi><mi>e</mi><mi>s</mi><mi>a</mi><mi>n</mi><mi>y</mi><mi>w</mi><mi>a</mi><mi>y</mi><mi mathvariant=\"normal\">.</mi><mi>S</mi><mi>o</mi><mi>a</mi><mi>n</mi><mi>o</mi><mi>f</mi><mi>f</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">5K raise doesn't increase your take-home pay by that much after taxes anyway. So an offer of </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9463em;vertical-align:-0.1944em;\"></span><span class=\"mord\">5</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Kr</span><span class=\"mord mathnormal\">ai</span><span class=\"mord mathnormal\">se</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">oes</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">‚Ä≤</span></span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\">cre</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">seyo</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">ak</span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àí</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">ha</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">ha</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">er</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\">es</span><span class=\"mord mathnormal\">an</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">an</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">ff</span><span class=\"mord mathnormal\">ero</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span>50K worth of company stock sounds pretty good, right?</p>\n<p>But here‚Äôs the key thing: <strong>stock options are not stock</strong>.</p>\n<p>Wait, what? Stock options aren‚Äôt stock? But companies talk about them like they are - ‚Äú100 shares of stock options granted‚Äù and all that.</p>\n<p>To understand the real difference between stock and stock options, we need to understand what this <strong>option</strong> thing actually is as a financial instrument.</p>\n<h2 id=\"options-financial-instruments-with-time-value\" style=\"position:relative;\">Options: financial instruments with time value<a href=\"#options-financial-instruments-with-time-value\" aria-label=\"options financial instruments with time value permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>An option is <strong>a contract that gives you the right to buy or sell an underlying asset at a specific price at a future point in time</strong>. In simple terms, it‚Äôs a derivative product where you‚Äôre betting on how the price will change in the future.</p>\n<p>If you haven‚Äôt been into investing much, that might sound confusing, so let‚Äôs break it down step by step.</p>\n<p>First, an <strong>underlying asset</strong> is something like stock, bonds, dollars, gold, or Bitcoin - assets that have economic value on their own. Derivatives like options, futures, and swaps were created to meet market needs like making it easier to trade these assets or hedging against price volatility.</p>\n<p>For stock options, the underlying asset is stock - pretty straightforward.</p>\n<p>The phrase <strong>‚Äúthe right to buy or sell at a specific price at a future point in time‚Äù</strong> means exactly what it sounds like - you can buy or sell the underlying asset at a predetermined price in the future. Let me give you an example using corn as the underlying asset:</p>\n<blockquote>\n<p><strong>December 4 (current corn price: $0.50 per ear)</strong></p>\n<p>Me: I want to buy corn for $0.60 per ear on January 4, one month from now.</p>\n<p>Merchant: Sure. I‚Äôll sell you the right to buy corn for <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0.60</mn><mi>o</mi><mi>n</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>f</mi><mi>r</mi><mi>o</mi><mi>m</mi><mi>n</mi><mi>o</mi><mi>w</mi><mo separator=\"true\">,</mo><mi>n</mi><mi>o</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>h</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mi mathvariant=\"normal\">.</mi><mi>T</mi><mi>h</mi><mi>a</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">0.60 one month from now, no matter what the price is then. That right costs </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0.60</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\">mn</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">ma</span><span class=\"mord mathnormal\">tt</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">er</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">ha</span><span class=\"mord mathnormal\">tt</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">ce</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">ha</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">cos</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">s</span></span></span></span></span>0.10. You can decide whether to actually buy it when the time comes.</p>\n<p><strong>January 4 (current corn price: $1.00 per ear)</strong></p>\n<p>Me: Oh wow, corn went up a lot! Now I‚Äôll exercise my option (the right to buy) and purchase corn for $0.60 per ear!</p>\n</blockquote>\n<p>This example shows a call option - buying and selling the right to purchase something. Since I can exercise my call option and buy corn for $0.60 no matter what the current price is, the more the corn price goes up over that month, the bigger my profit.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ff68626a0dad3dd5b48e34a969701d5d/9cac8/call-option.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 33.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJ0lEQVR42mNgwATCQMzEQAT4z8DA+P//f0Z8ajiAmA+IGYk15H99PdOxwkJOkNh/BkzDxYFYkqAhQPbz4mLu19nZUq+ys9XO5DYrE3IlE1ZD09K4XqWlSb7MSlb5kJmo9DQtTeR/KAPzwop1wktqtuqubdkOdowAEPOC6DTjNFZ1dSteYyANdAbjqlWrmE/k1vPdLiqSvZ+ZqXk3JVvtflaJxCqgFxkY6pkY6v8zhYauYp6cvVB4Zv0mrpkzz7CCDFQAYhkgVpyYO5Hd3z5e4FBupeiz4mr5RxnFOvfyS9VvFlZJ78+q50lLO8NaX3+FbWLuNvZtEyF4fv1+jt7CVZy4vCuSrKWlcig0VGuWh4eMvagoD1CMGYhZgJgdGhwcWNggzA8yAQBQZWpop7Fk2AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"call option\" title=\"\" src=\"/static/ff68626a0dad3dd5b48e34a969701d5d/6af66/call-option.png\" srcset=\"/static/ff68626a0dad3dd5b48e34a969701d5d/69538/call-option.png 160w,\n/static/ff68626a0dad3dd5b48e34a969701d5d/72799/call-option.png 320w,\n/static/ff68626a0dad3dd5b48e34a969701d5d/6af66/call-option.png 640w,\n/static/ff68626a0dad3dd5b48e34a969701d5d/d9199/call-option.png 960w,\n/static/ff68626a0dad3dd5b48e34a969701d5d/21b4d/call-option.png 1280w,\n/static/ff68626a0dad3dd5b48e34a969701d5d/9cac8/call-option.png 2288w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    No matter how much corn prices rise, I can exercise my call option<br>\n    and buy at $0.60, so higher corn prices mean more profit for me\n  </small>\n</center>\n<p>If there‚Äôs a right to buy, there‚Äôs also a right to sell, and that‚Äôs called a put option.</p>\n<p>If the option I bought from the merchant was a put option instead of a call option - meaning the right to sell corn for <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0.60</mn><mo>‚àí</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mi>e</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>i</mi><mi>f</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>n</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mi>d</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>s</mi><mi>t</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">0.60 - then even if the current corn price drops to </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">0.60</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àí</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">ni</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">ec</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">rre</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">cor</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">ce</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">o</span></span></span></span></span>0.10, I can still sell at $0.60. So with put options, the more the price drops over that month, the bigger my profit. <small>(That‚Äôs why call options are bullish bets and put options are bearish bets)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/65f5c9330f73b05984b596d7b5354bbe/9cac8/put-option.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 33.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42mNgQAWMQCzEEBrK/P//f0YGKgA2GQs3IY/ciezIgmDDybRASNsqQDl34hEwzp58Urhw1TFOUl3LBcQgF3H+r//PJCMjw1kY2suZVb+Kp6jnoGxRz261/P696jndBxUzp20RrK/fz/EfGDT/Gf6D8f79+1lWrVrFjGygChDLArHyRKBXvb2jBGNiirnPzDzDOjNtJitIrL5+MV9l6zZRsOGde9XzuvbolXdskquv3yTSW9jLubBinfBSIHsK0BHorhUAYlF83gF5f9X//8y5Ew+JFs85Kp8+/bxCS8tOg+X1u9UW1e8UQ49hNiDmA2JuUBBAMRcES3JJSkpyQcU4gJgViJlVzDz4rKz8eKF6GAA3A2GQZ1XiaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"put option\" title=\"\" src=\"/static/65f5c9330f73b05984b596d7b5354bbe/6af66/put-option.png\" srcset=\"/static/65f5c9330f73b05984b596d7b5354bbe/69538/put-option.png 160w,\n/static/65f5c9330f73b05984b596d7b5354bbe/72799/put-option.png 320w,\n/static/65f5c9330f73b05984b596d7b5354bbe/6af66/put-option.png 640w,\n/static/65f5c9330f73b05984b596d7b5354bbe/d9199/put-option.png 960w,\n/static/65f5c9330f73b05984b596d7b5354bbe/21b4d/put-option.png 1280w,\n/static/65f5c9330f73b05984b596d7b5354bbe/9cac8/put-option.png 2288w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    No matter how much corn prices fall, I can exercise my put option<br>\n    and sell at $0.30, so falling corn prices mean more profit for me\n  </small>\n</center>\n<p>Basically, options let you bet on whether the underlying asset‚Äôs price will go up or down by locking in a future price in advance.</p>\n<p>Now, what if I‚Äôm holding a call option to buy corn at <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0.60</mn><mo separator=\"true\">,</mo><mi>b</mi><mi>u</mi><mi>t</mi><mi>a</mi><mi>m</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>h</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>n</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">0.60, but a month later corn is still </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0.60</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">am</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">ercor</span><span class=\"mord mathnormal\">ni</span><span class=\"mord mathnormal\">ss</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">ll</span></span></span></span></span>0.50 or even lower? What should I do? There‚Äôs no profit in exercising the option, right?</p>\n<p>Simple - you just don‚Äôt exercise your right to buy or sell. That‚Äôs why they‚Äôre called options - you have the option to exercise them or let them expire. If you don‚Äôt exercise an option, you only lose what you paid for the option itself.</p>\n<h3 id=\"options-in-everyday-life-apartment-pre-sale-rights\" style=\"position:relative;\">Options in everyday life: apartment pre-sale rights<a href=\"#options-in-everyday-life-apartment-pre-sale-rights\" aria-label=\"options in everyday life apartment pre sale rights permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A classic real-world example of options is apartment pre-sale rights in Korea. When you win an apartment lottery, you get the right to buy an apartment at the pre-sale price, which is usually much cheaper than market value.</p>\n<p>But having the right to buy an apartment for 300 million won means you need to actually have 300 million won in cash to use that right. If you can‚Äôt come up with the money or don‚Äôt want the apartment, people often sell these pre-sale rights to others.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 604px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7b2452ff1dcab002720732bbd4d3b4f3/efa6e/option.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 136.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHskUaCBXlRYg//xAAaEAABBQEAAAAAAAAAAAAAAAAAAQIQETFB/9oACAEBAAEFArnHCF3Kbw//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAXEAEAAwAAAAAAAAAAAAAAAAAQASAx/9oACAEBAAY/ArYy/wD/xAAaEAADAQEBAQAAAAAAAAAAAAAAAREhUWEQ/9oACAEBAAE/IVSbdxie+lfR6Qje6JgqRCwopdefP//aAAwDAQACAAMAAAAQIwkA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHRABAAICAwEBAAAAAAAAAAAAAQARMVEhQYGx4f/aAAgBAQABPxBUqEsmIB2IfohGXPYJEh1bEPUNQFbJe2OC2iO8IYzz9lt+0AM//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"option\" title=\"\" src=\"/static/7b2452ff1dcab002720732bbd4d3b4f3/efa6e/option.jpg\" srcset=\"/static/7b2452ff1dcab002720732bbd4d3b4f3/0913d/option.jpg 160w,\n/static/7b2452ff1dcab002720732bbd4d3b4f3/cb69c/option.jpg 320w,\n/static/7b2452ff1dcab002720732bbd4d3b4f3/efa6e/option.jpg 604w\" sizes=\"(max-width: 604px) 100vw, 604px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Trading pre-sale rights isn't trading the apartment itself - it's trading the right to buy the apartment</small>\n</center>\n<p>In other words, an apartment pre-sale right is a contract containing ‚Äúthe right to buy an apartment for 300 million won by a certain date,‚Äù so people trading these rights are buying and selling ‚Äúthe right to buy an apartment,‚Äù not the apartment itself. That‚Äôs an option.</p>\n<h3 id=\"aside-whats-the-difference-between-options-and-futures\" style=\"position:relative;\">Aside: what‚Äôs the difference between options and futures?<a href=\"#aside-whats-the-difference-between-options-and-futures\" aria-label=\"aside whats the difference between options and futures permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A quick aside since many people confuse futures and options. They‚Äôre confusing because both involve making trades now based on predictions about future asset prices. But futures are the broader concept, and options are a type of futures contract.</p>\n<p><strong>Futures contracts are about pulling a future transaction into the present</strong>. So a corn futures contract would be like ‚Äúone month from now, I‚Äôm going to trade corn for $0.60 - stamp stamp‚Äù in the contract. When the futures contract expires, the settlement goes through and the transaction is executed.</p>\n<p>Since you‚Äôre literally contracting now for a future transaction, futures contracts don‚Äôt give you the choice to exercise or not exercise like options do.</p>\n<p>Just like with options, if corn prices go up to <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1.00</mn><mo separator=\"true\">,</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>o</mi><mi>n</mi><mi>w</mi><mi>h</mi><mi>o</mi><mi>b</mi><mi>o</mi><mi>u</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>n</mi><mi>f</mi><mi>u</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>g</mi><mi>e</mi><mi>t</mi><mi>s</mi><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">1.00, the person who bought corn futures gets a </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">1.00</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">erso</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ug</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">cor</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">res</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">a</span></span></span></span></span>0.40 profit. If corn prices drop to <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0.30</mn><mo separator=\"true\">,</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>o</mi><mi>n</mi><mi>w</mi><mi>h</mi><mi>o</mi><mi>s</mi><mi>o</mi><mi>l</mi><mi>d</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>n</mi><mi>f</mi><mi>u</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>f</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">0.30, the person who sold corn futures for </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0.30</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">erso</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">oso</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">cor</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">res</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">or</span></span></span></span></span>0.60 gets a $0.30 profit. <small>(Futures trading is a zero-sum game - one person always wins and one person always loses)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5ae794732187196080a4074fd043ebe6/41099/future.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.74999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABw7mRFiQv/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAECEQMSIf/aAAgBAQABBQJLSpfUmsXJ4M//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAwADAAAAAAAAAAAAAAAAAAEQESFx/9oACAEBAAY/AjcSwdn/xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhMVFhcf/aAAgBAQABPyFzQQfgXC8JqkTNU7Gx/9oADAMBAAIAAwAAABDT3//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxAEO3//xAAWEQEBAQAAAAAAAAAAAAAAAAABEQD/2gAIAQIBAT8Qjck3/8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFBYYGR/9oACAEBAAE/EDQvMWWYmABho3h8TF3hWiXXeQJSvXxkNAGuDP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"future\" title=\"\" src=\"/static/5ae794732187196080a4074fd043ebe6/41099/future.jpg\" srcset=\"/static/5ae794732187196080a4074fd043ebe6/0913d/future.jpg 160w,\n/static/5ae794732187196080a4074fd043ebe6/cb69c/future.jpg 320w,\n/static/5ae794732187196080a4074fd043ebe6/41099/future.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>This is the futures contract that Squid Game's Cho Sang-woo lost 6 billion won on</small>\n</center>\n<p>But most people trading futures don‚Äôt actually want to own the underlying asset - they just want to profit from price changes. So before the contract expires and they actually have to take delivery, they sell their futures contract to someone who actually wants to buy the asset cheap, then roll over into next month‚Äôs futures contract.</p>\n<h4 id=\"memories-of-negative-oil-prices-in-march-2020\" style=\"position:relative;\">Memories of negative oil prices in March 2020<a href=\"#memories-of-negative-oil-prices-in-march-2020\" aria-label=\"memories of negative oil prices in march 2020 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>So what happens if the futures contract is about to expire but there‚Äôs nobody who wants to buy the underlying asset cheap, so you can‚Äôt roll over your contract?</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3e32591136ab104e94bd94d2dee99f11/72e01/container_ship.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 73.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAf/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAF2T1o0SaOf/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEhMh/9oACAEBAAEFAnaNGx0dBV5//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAS/9oACAEDAQE/ATLP/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/AaF//8QAGBAAAgMAAAAAAAAAAAAAAAAAARAgITL/2gAIAQEABj8CqGiv/8QAGxABAAEFAQAAAAAAAAAAAAAAAQAQESFhgTH/2gAIAQEAAT8hurBxuPRR1jZkF2DML2f/2gAMAwEAAgADAAAAEI/f/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxCjuMWmf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAgEBPxBYMv/EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQXFRobH/2gAIAQEAAT8QRQkW3ZeiMFnYRHmLi8DhjpBtfRx7itDpt5n/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"container ship\" title=\"\" src=\"/static/3e32591136ab104e94bd94d2dee99f11/c08c5/container_ship.jpg\" srcset=\"/static/3e32591136ab104e94bd94d2dee99f11/0913d/container_ship.jpg 160w,\n/static/3e32591136ab104e94bd94d2dee99f11/cb69c/container_ship.jpg 320w,\n/static/3e32591136ab104e94bd94d2dee99f11/c08c5/container_ship.jpg 640w,\n/static/3e32591136ab104e94bd94d2dee99f11/6a068/container_ship.jpg 960w,\n/static/3e32591136ab104e94bd94d2dee99f11/72e01/container_ship.jpg 1024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Hi Evan, delivery of the 100,000 barrels of crude oil you contracted for last month - honk honk~</small>\n</center>\n<p>When a futures contract expires, ownership of the underlying asset actually transfers to you. If it‚Äôs stock that‚Äôs not a huge deal, but if it‚Äôs a physical commodity like crude oil or corn, the moment it expires you have an absolute disaster on your hands - <strong>this stuff actually gets shipped to some unknown port in America with your name on it</strong>. <small>(This is why messing with futures without understanding them can really screw you)</small></p>\n<p>The reason crude oil futures prices dropped to -$37 in March 2020 when COVID first hit was because of this characteristic of futures contracts. By the way, a negative price means you have to pay someone extra to take your futures contract off your hands. Around that time, the WHO declared a pandemic, and the market sentiment was:</p>\n<blockquote>\n<p>Oh crap, a pandemic? Consumer spending will drop üëâ Production will drop too üëâ Wait‚Ä¶so we won‚Äôt need much crude oil to make and ship stuff for a while‚Ä¶?</p>\n</blockquote>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0ce6a4f4f89b2f1a8f2c5f4a548030af/15ec7/mang.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 121.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAYABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG7Ja4Yq8NGMMkH/8QAHBAAAgICAwAAAAAAAAAAAAAAAQMAEgIQESEz/9oACAEBAAEFAlKsGIFZiKY9ThWhGen/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAABBQEBAAAAAAAAAAAAAAAAAhAREiExcf/aAAgBAQAGPwKVcJS1TDat4KP/xAAdEAACAwACAwAAAAAAAAAAAAABEQAhMRBRQWFx/9oACAEBAAE/IRgc3uMjpWnwMDUMJhcK3jJ1xP0cYQF4i1dz/9oADAMBAAIAAwAAABATDzz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAgEAEAAgIBBAMAAAAAAAAAAAABABEhQTEQUWFxgaGx/9oACAEBAAE/ED6VlBQo7waJDJYTowbDWwS2ASJrgcNeIAGGYKPx9x4gRINjY5qE16M/nf3P/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"mang\" title=\"\" src=\"/static/0ce6a4f4f89b2f1a8f2c5f4a548030af/c08c5/mang.jpg\" srcset=\"/static/0ce6a4f4f89b2f1a8f2c5f4a548030af/0913d/mang.jpg 160w,\n/static/0ce6a4f4f89b2f1a8f2c5f4a548030af/cb69c/mang.jpg 320w,\n/static/0ce6a4f4f89b2f1a8f2c5f4a548030af/c08c5/mang.jpg 640w,\n/static/0ce6a4f4f89b2f1a8f2c5f4a548030af/15ec7/mang.jpg 690w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>\"I need to dump these futures contracts fast...\"</small>\n  <br>\n  <br>\n</center>\n<p>When demand for crude oil itself drops, oil prices naturally fall. And at that time, Russia and Saudi Arabia were in an oil price war and increased production, causing crude oil spot prices to absolutely crater.</p>\n<p>The problem was that futures contracts bought before the crash had strike prices around $20 - the pre-crash price. For these contracts to be profitable, future crude oil spot prices needed to go up. But with all these factors combined, nobody wanted to buy these futures contracts. It was cheaper to just buy at current spot prices than to buy futures contracts.</p>\n<p>So there was an oversupply of sellers and no buyers - a truly tragic market situation.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1335a33be53bfd1691c01d192a5e32cc/6aca1/oil-future.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB5LbEcqWf/8QAFxABAQEBAAAAAAAAAAAAAAAAAQIQEv/aAAgBAQABBQKFa6ygwgT/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BR//EABcQAAMBAAAAAAAAAAAAAAAAAAAQMRH/2gAIAQEABj8Cwij/AP/EABgQAQEBAQEAAAAAAAAAAAAAAAEAERBR/9oACAEBAAE/IR+pCeJgaAMOE1W//9oADAMBAAIAAwAAABDg7//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCxh//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCNP//EABoQAQEBAQEBAQAAAAAAAAAAAAERACExYfD/2gAIAQEAAT8QAA8bYcC6KRx+7ppCCeXG9YBDuuscScfu/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"oil future\" title=\"\" src=\"/static/1335a33be53bfd1691c01d192a5e32cc/c08c5/oil-future.jpg\" srcset=\"/static/1335a33be53bfd1691c01d192a5e32cc/0913d/oil-future.jpg 160w,\n/static/1335a33be53bfd1691c01d192a5e32cc/cb69c/oil-future.jpg 320w,\n/static/1335a33be53bfd1691c01d192a5e32cc/c08c5/oil-future.jpg 640w,\n/static/1335a33be53bfd1691c01d192a5e32cc/6aca1/oil-future.jpg 650w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>This is the \"I'll give you $37.63 if you please just buy my contract...\" situation</small>\n</center>\n<p>As futures contracts couldn‚Äôt be sold and expiration dates approached, futures investors panicked about actually taking delivery of crude oil. So they started throwing their contracts away while paying $37 per contract just to get rid of them. <small><del>(The ultimate panic sell isn‚Äôt selling cheap - it‚Äôs paying someone to take it off your hands‚Ä¶)</del></small></p>\n<p>This is the scary situation that arises from the key difference between options and futures: ‚Äúyou can‚Äôt back out of the transaction when it expires.‚Äù</p>\n<p>On the other hand, <strong>options are about buying and selling the right to transact in the future</strong>. They‚Äôre a type of futures contract, but since you‚Äôre contracting for ‚Äúthe right to transact‚Äù rather than ‚Äúto transact,‚Äù you have the choice to exercise or not exercise your rights at expiration. In simple terms, options give you one more chance to make the final decision compared to regular futures.</p>\n<table>\n<thead>\n<tr>\n<th>Product</th>\n<th>What you‚Äôre trading</th>\n<th>When it expires?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Futures</td>\n<td>Contract to transact underlying asset</td>\n<td>Transaction is executed no matter what</td>\n</tr>\n<tr>\n<td>Options</td>\n<td>Contract for the right to transact underlying asset</td>\n<td>You can exercise the right or not</td>\n</tr>\n</tbody>\n</table>\n<p>Also, since futures require mandatory execution at expiration, it‚Äôs a zero-sum game where one person profits and one person loses. But with options, the buyer can just abandon their rights, so the option seller can end up with a pure loss.</p>\n<p>That‚Äôs why when you buy an option, you pay the option seller a separate price for the option itself. This option price is calculated using methods like the <a href=\"https://namu.wiki/w/%EB%B8%94%EB%9E%99-%EC%88%84%EC%A6%88%20%EB%AA%A8%ED%98%95\" target=\"_blank\" rel=\"nofollow\">Black-Scholes model</a>.</p>\n<h2 id=\"stock-options-the-right-to-buy-stock\" style=\"position:relative;\">Stock options: the right to buy stock<a href=\"#stock-options-the-right-to-buy-stock\" aria-label=\"stock options the right to buy stock permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now that we know what options are, stock options are easy to explain. Stock options are options where the underlying asset is stock, meaning they‚Äôre contracts that give you the right to buy or sell stock at a specific price at a specific time.</p>\n<p>However, the incentive stock options we typically encounter aren‚Äôt about selling stock you already own - they‚Äôre additional incentives given when you don‚Äôt have any stock yet. So stock options just mean the right to buy stock, not to sell it. That‚Äôs why in Korean they‚Äôre called ‚Äústock purchase option rights.‚Äù</p>\n<p>When you receive stock options, you‚Äôre not receiving stock - you‚Äôre receiving ‚Äúthe right to buy stock.‚Äù And the act of ‚Äúusing my stock options to buy stock‚Äù is exercising your right to purchase stock, which is why we say we‚Äôre ‚Äúexercising stock options.‚Äù</p>\n<h3 id=\"granting-stock-options\" style=\"position:relative;\">Granting stock options<a href=\"#granting-stock-options\" aria-label=\"granting stock options permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If you join a company and they promise to grant you stock options, do you get them on day one when you sign your employment contract?</p>\n<p>Nope. Stock options aren‚Äôt something you can just hand out with a single contract. For a corporation to grant stock options to someone, they must hold a shareholders‚Äô meeting and go through an approval process.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/783da1105578e0f9950fffb6d49bf961/d6e5c/meeting.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABumprSpigf//EABoQAAIDAQEAAAAAAAAAAAAAAAACAQMTBBL/2gAIAQEAAQUCzQwgzrF71gZva2dC1v8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAgEFAQAAAAAAAAAAAAAAAAECETEyQZEi/9oACAEBAAY/AsFwwiWXDBnmSVdjhem0f//EABwQAQEBAAEFAAAAAAAAAAAAAAERABAhMVGhsf/aAAgBAQABPyEZhkj8ocfbfRNKZDs6zQw+YI7/2gAMAwEAAgADAAAAEGjf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EFtL/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qh//EABwQAQADAQADAQAAAAAAAAAAAAEAESExUWGR0f/aAAgBAQABPxAAmvAP5Ddtq0Mk518cfn0UCnh2BrQhBaY9ORaLqWmE/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meeting\" title=\"\" src=\"/static/783da1105578e0f9950fffb6d49bf961/c08c5/meeting.jpg\" srcset=\"/static/783da1105578e0f9950fffb6d49bf961/0913d/meeting.jpg 160w,\n/static/783da1105578e0f9950fffb6d49bf961/cb69c/meeting.jpg 320w,\n/static/783da1105578e0f9950fffb6d49bf961/c08c5/meeting.jpg 640w,\n/static/783da1105578e0f9950fffb6d49bf961/6a068/meeting.jpg 960w,\n/static/783da1105578e0f9950fffb6d49bf961/eea4a/meeting.jpg 1280w,\n/static/783da1105578e0f9950fffb6d49bf961/d6e5c/meeting.jpg 1685w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Corporations can only grant stock options to specific individuals after shareholder approval</small>\n</center>\n<p>After the shareholders‚Äô meeting resolves to grant the stock options and approve the shares to be issued or transferred upon exercise, then they can enter into a stock option grant agreement with the recipient.</p>\n<p>Why should we care about shareholder meetings when the company handles them? Because when your stock options are granted depends on how often these meetings are held. If you join in January 2021 but the shareholders‚Äô meeting is in December, your stock option grant date could be after that.</p>\n<p>And the criteria for when and how much you can exercise your stock options are calculated from the <strong>stock option grant date</strong> determined by this shareholders‚Äô meeting, not your hire date. So you need to know when your company holds shareholder meetings to estimate when your grant date will be.</p>\n<p>Anyway, once the shareholders‚Äô meeting approves granting you stock options, you‚Äôll sign a stock option agreement. This agreement includes information like:</p>\n<blockquote>\n<ol>\n<li>\n<p>Number of shares to receive</p>\n</li>\n<li>\n<p>Stock option grant method and grant date</p>\n</li>\n<li>\n<p>Stock option exercise price</p>\n</li>\n<li>\n<p>Cliff and vesting period</p>\n</li>\n<li>\n<p>How to exercise stock options</p>\n</li>\n</ol>\n</blockquote>\n<p>All of this is important, but when you get this agreement, the key things to look at are the stock option <strong>strike price</strong>, <strong>cliff</strong>, and <strong>vesting</strong>.</p>\n<h3 id=\"strike-price\" style=\"position:relative;\">Strike price<a href=\"#strike-price\" aria-label=\"strike price permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I mentioned earlier that stock options give you the right to buy stock at a predetermined price at a specific time. This ‚Äúpredetermined price‚Äù is called the <strong>strike price</strong>.</p>\n<p>In other words, it‚Äôs literally the money you have to pay when you exercise your stock options to buy stock. If you thought stock options were just stock, you might be caught off guard when the company suddenly asks you to pay money when you want to exercise them.</p>\n<p>Stock options aren‚Äôt free stock - they‚Äôre ‚Äúthe right to buy stock,‚Äù so of course you have to pay. According to <a href=\"https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%83%81%EB%B2%95/%EC%A0%9C340%EC%A1%B0%EC%9D%982\" target=\"_blank\" rel=\"nofollow\">Article 340-2 of the Commercial Act</a>, the strike price must be set at the higher of either the par value (initial capital divided by number of issued shares) or the current market price.</p>\n<p>However, companies that qualify for <a href=\"https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EB%B2%A4%EC%B2%98%EA%B8%B0%EC%97%85%EC%9C%A1%EC%84%B1%EC%97%90%EA%B4%80%ED%95%9C%ED%8A%B9%EB%B3%84%EC%A1%B0%EC%B9%98%EB%B2%95%EC%8B%9C%ED%96%89%EB%A0%B9/%EC%A0%9C11%EC%A1%B0%EC%9D%983\" target=\"_blank\" rel=\"nofollow\">venture exemptions</a> can set the strike price below market value if they meet certain conditions. Most startups qualify for venture exemptions, so they often set strike prices below market value. <small>(Kakao was a famous case that didn‚Äôt qualify for venture exemptions, so they had to set their strike price at market value at the time of grant)</small></p>\n<p>Your actual pre-tax profit from stock options is <code class=\"language-text\">(market price - strike price) * number of shares</code>, and you might need to have cash ready to pay the strike price when exercising. So you absolutely need to know your stock options‚Äô strike price.</p>\n<h3 id=\"vesting\" style=\"position:relative;\">Vesting<a href=\"#vesting\" aria-label=\"vesting permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Many of you probably know this already, but you can‚Äôt exercise stock options immediately after they‚Äôre granted.</p>\n<p>In Korea, <a href=\"https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%83%81%EB%B2%95/(20190916,14096,20160322)/%EC%A0%9C340%EC%A1%B0%EC%9D%984\" target=\"_blank\" rel=\"nofollow\">Article 340-4 of the Commercial Act</a> states that you must remain employed ‚Äúfor at least 2 years from the shareholders‚Äô meeting resolution date‚Äù before you can exercise stock options. Though in practice, companies usually count 2 years from the grant date rather than the resolution date. <small>(Since the grant date is always later than the resolution date anyway, this is legally fine)</small></p>\n<p>Without this requirement, employees could exercise all their stock options immediately after receiving them and quit - a classic pump and dump - and the company would have no recourse. So this is a minimum safeguard.</p>\n<p>That‚Äôs why stock option agreements always include language like <strong>‚Äúcan exercise n% after remaining employed for at least 24 months from grant date.‚Äù</strong></p>\n<p>How much you can exercise after 24 months depends on the company‚Äôs vesting plan. Early-stage startups sometimes let you exercise 100% after 2 years, but larger companies often split it up like ‚Äú50% after 2 years, 25% in year 3, 25% in year 4.‚Äù</p>\n<p>It‚Äôs important to understand that after these periods pass, your stock options transition from unexercisable to exercisable - they‚Äôre not being granted or exercised automatically, and you‚Äôre not receiving stock yet. This <strong>transition from unexercisable to exercisable status is called vesting</strong>.</p>\n<p>The first moment when you can exercise any of your granted stock options is called the <strong>cliff</strong>. Cliff literally means cliff, and it‚Äôs called that because the amount of exercisable stock options jumps from 0 to some positive number. When you graph exercisable quantity over time, it looks like a cliff.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/830230ebe0f0489c89ca66d73e19a1a9/2adcb/cliff.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVR42mNggABmIBYHYmkgZmdAA/8Z/jMykAi4gJgDivGC/wwMjHAcGsr8v76eCZs6TiQMA2BXrSpfxb+8aYvm/Pr9HMiGgun6fIH/lbmiyGLILuTC5sL9QIMWt2yXBNIsIP7LrHiJZ1lZ8o9TUmSe5+QoPi8u5sbmQlZo2GH18triRWIgjf9nprH+yEtXPRYaynklNJTtTFoaK66g4cPmQpg3HuXl6bzIzFR6k5si8yIvWZzYiGFBC0O4ge/S0uSAgc9Cakwzx+jpcf8HegPkHZABtzw82EEx+T4nRXEbkA1Uw1QPxAwIzAjFIMvYoDQEcHNzi9dYWhr+y82VuR4fr7A1IEDtK5D9LClJvsfeXgOkBOoDUWgQgYJHGIj5gVgAiOWAWAgAQQdW2jCQZooAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cliff\" title=\"\" src=\"/static/830230ebe0f0489c89ca66d73e19a1a9/6af66/cliff.png\" srcset=\"/static/830230ebe0f0489c89ca66d73e19a1a9/69538/cliff.png 160w,\n/static/830230ebe0f0489c89ca66d73e19a1a9/72799/cliff.png 320w,\n/static/830230ebe0f0489c89ca66d73e19a1a9/6af66/cliff.png 640w,\n/static/830230ebe0f0489c89ca66d73e19a1a9/d9199/cliff.png 960w,\n/static/830230ebe0f0489c89ca66d73e19a1a9/21b4d/cliff.png 1280w,\n/static/830230ebe0f0489c89ca66d73e19a1a9/2adcb/cliff.png 1984w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A sharp increase in exercisable stock options occurs 2 years from the grant date</small>\n</center>\n<p>This graph shows a vesting plan with a 4-year total vesting period and a 2-year cliff.</p>\n<p>Let‚Äôs say I join this company and immediately get granted 100 stock options after a shareholders‚Äô meeting. Here‚Äôs roughly what happens:</p>\n<p>I have 100 stock options but can‚Äôt exercise any of them for the first 2 years from the grant date. Not being able to exercise stock options means I can‚Äôt exercise ‚Äúthe right to buy stock cheap,‚Äù so for the first 2 years I‚Äôm just holding them. <small><del>(But I‚Äôm definitely tracking the company‚Äôs stock price from day one‚Ä¶)</del></small></p>\n<p>When 2 years pass from the grant date, I can exercise 50% of my 100 stock options - that‚Äôs 50 shares. Since there‚Äôs still a long way to go before the vesting plan ends, it‚Äôs up to me whether to exercise then. As I‚Äôll mention below, for tax optimization it‚Äôs sometimes better to exercise in batches rather than all at once, so exercising at this point isn‚Äôt a bad choice.</p>\n<p>After 3 years, I can exercise another 25% (half of the remaining 50%). So at this point I can exercise 75 of my original 100 stock options.</p>\n<p>Finally, after 4 years, I can exercise all my granted stock options and the vesting period ends. This 2-year cliff with <code class=\"language-text\">50%/25%/25%</code> vesting is very common, but there are various other vesting plans - some companies vest monthly after the 2-year cliff, for example.</p>\n<blockquote>\n<p><strong>üßê  I‚Äôve seen places offering 1-year cliffs though?</strong></p>\n<p>As I mentioned, the minimum 2-year cliff is specified in Korean commercial law.</p>\n<p>So foreign companies, especially US companies where there‚Äôs no specific law about cliffs, might offer vesting plans like ‚Äú1-year cliff, then monthly vesting in equal parts.‚Äù</p>\n</blockquote>\n<h2 id=\"exercising-stock-options-to-buy-stock\" style=\"position:relative;\">Exercising stock options to buy stock<a href=\"#exercising-stock-options-to-buy-stock\" aria-label=\"exercising stock options to buy stock permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now we know when and how we receive stock options from the company and when we can exercise our rights. Let‚Äôs talk about the most important part: ‚Äúthe process of turning stock options into money.‚Äù</p>\n<p>The first step in turning stock options into money is exercising them to buy stock. As I‚Äôve mentioned many times, exercising stock options means ‚ÄúI‚Äôm going to use my right to buy stock cheap to actually buy the stock.‚Äù</p>\n<p>The exercise method usually involves written notification to the company, but the exact process can vary by company, so check with your company‚Äôs person in charge or read your stock option agreement carefully.</p>\n<h3 id=\"paying-the-stock-option-strike-price\" style=\"position:relative;\">Paying the stock option strike price<a href=\"#paying-the-stock-option-strike-price\" aria-label=\"paying the stock option strike price permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Stock options come in three main types: new share issuance type, treasury stock delivery type, and cash settlement type. Whether you need to pay the strike price depends on which type you have.</p>\n<p>With cash settlement type, the company pays you cash equal to the difference between your stock option strike price and the current market price, so you don‚Äôt need to pay the strike price. But with new share issuance (where new shares are issued and given to you) and treasury stock delivery (where the company gives you shares it already owns), you‚Äôre exercising stock options to purchase stock, so you need to pay the strike price to the company.</p>\n<p>If you thought stock options were just stock, you might not have the cash on hand to pay the strike price even after your options vest. This could prevent you from exercising the desired amount of stock options or even force you to take out an emergency loan. So always remember your stock options are ‚Äúthe right to purchase stock.‚Äù</p>\n<h3 id=\"income-means-taxes\" style=\"position:relative;\">Income means taxes!<a href=\"#income-means-taxes\" aria-label=\"income means taxes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<blockquote>\n<p>Taxes on stock options can vary slightly by situation, so what I‚Äôm explaining here isn‚Äôt 100% accurate in all cases.</p>\n<p>This is just to give you a rough idea of how they‚Äôre calculated - for accurate information, ask your company when you exercise your stock options.</p>\n</blockquote>\n<p>Actually, the most important thing to understand about exercising stock options is <strong>taxes</strong>. Unfortunately, stock you receive from exercising stock options counts as income, so naturally you have to pay income tax on it. <small><del>(No idea why they count unsold stock as income, but whatever‚Ä¶)</del></small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2923ebd94179d5db9428479351befdbb/4a359/poor.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 71.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAYYtAuYUs//EABsQAAIDAAMAAAAAAAAAAAAAAAECAAMTERQi/9oACAEBAAEFAkrznPnriB9FUASxyH//xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAwEBPwGI/8QAFREBAQAAAAAAAAAAAAAAAAAAACH/2gAIAQIBAT8Bqv/EABsQAQACAgMAAAAAAAAAAAAAAAEAERAhUXGR/9oACAEBAAY/Amj2KBd8Yt11hJ//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFRcZGh/9oACAEBAAE/IQwyPJl8ltI7FHq55XYhVp9mvsHlUT//2gAMAwEAAgADAAAAEKA//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERUf/aAAgBAwEBPxBMTZ//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCH/8QAHBABAQACAwEBAAAAAAAAAAAAAREAITFBUWFx/9oACAEBAAE/EJOGKJ0cSmuXLrdixEXUOucFBQbYafMalTxmQ+3v8y0z2UYejF5ywZLrzP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"poor\" title=\"\" src=\"/static/2923ebd94179d5db9428479351befdbb/c08c5/poor.jpg\" srcset=\"/static/2923ebd94179d5db9428479351befdbb/0913d/poor.jpg 160w,\n/static/2923ebd94179d5db9428479351befdbb/cb69c/poor.jpg 320w,\n/static/2923ebd94179d5db9428479351befdbb/c08c5/poor.jpg 640w,\n/static/2923ebd94179d5db9428479351befdbb/4a359/poor.jpg 719w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>After year-end tax settlement...</small>\n</center>\n<p>Income from exercising stock options is calculated as <code class=\"language-text\">(market price - strike price) * number of shares</code>, and the taxes vary depending on whether you‚Äôre still employed at that company, how much income you earn from exercising, and whether your company is a venture company.</p>\n<p>For startups, since they‚Äôre usually unlisted with few stock transactions, they use a <strong>supplementary valuation method</strong> that calculates market price based on net asset value per share and net income value per share. As you know, startups often aren‚Äôt focused on operating profit - they just burn money to generate revenue growth. So when you calculate market price using the supplementary valuation method, it might actually be lower than the strike price.</p>\n<p>When market price is lower than strike price, exercising stock options to acquire stock is actually a loss, so income is calculated as negative and you don‚Äôt pay income tax. <small>(In this case you‚Äôre hoping the next funding round will bring a higher valuation from VCs)</small></p>\n<h4 id=\"if-youre-still-employed-earned-income\" style=\"position:relative;\">If you‚Äôre still employed: earned income<a href=\"#if-youre-still-employed-earned-income\" aria-label=\"if youre still employed earned income permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>First, taxes on stock option exercise differ depending on whether you‚Äôre still employed at the company.</p>\n<p>If you‚Äôre still employed when exercising stock options, all profits from exercising are evaluated as <strong>earned income</strong> and added to your annual comprehensive income. So the taxes you pay are determined by <a href=\"https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%86%8C%EB%93%9D%EC%84%B8%EB%B2%95/%EC%A0%9C55%EC%A1%B0\" target=\"_blank\" rel=\"nofollow\">Article 55 of the Income Tax Act</a>.</p>\n<table>\n<thead>\n<tr>\n<th>Income bracket</th>\n<th>Tax rate</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Up to 12 million won</td>\n<td>6% of taxable base</td>\n</tr>\n<tr>\n<td>12 million - 46 million won</td>\n<td>15%</td>\n</tr>\n<tr>\n<td>46 million - 88 million won</td>\n<td>24%</td>\n</tr>\n<tr>\n<td>88 million - 150 million won</td>\n<td>35%</td>\n</tr>\n<tr>\n<td>150 million - 300 million won</td>\n<td>38%</td>\n</tr>\n<tr>\n<td>300 million - 500 million won</td>\n<td>40%</td>\n</tr>\n<tr>\n<td>500 million - 1 billion won</td>\n<td>42%</td>\n</tr>\n<tr>\n<td>Over 1 billion won</td>\n<td>45%</td>\n</tr>\n</tbody>\n</table>\n<p>As you probably know, this is a progressive tax applied only to the amount exceeding each bracket, not to the entire amount. So if my total income this year is 100 million won, I don‚Äôt pay 35% on the full 100 million. Instead, I pay 6% up to 12 million, 15% on the portion exceeding 12 million, 24% on the portion exceeding 46 million, and so on - the higher rate only applies to the portion exceeding each bracket.</p>\n<p>The problem is that with just your salary, you often won‚Äôt exceed 35%, but once stock options are added, your income bracket suddenly jumps way up. So if you thoughtlessly exercise all your stock options at once, you could face a tax bomb of tens of millions of won.</p>\n<p>That‚Äôs why when exercising stock options, it‚Äôs generally better to do it in batches rather than all at once for tax optimization.</p>\n<p>However, according to <a href=\"https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%A1%B0%EC%84%B8%ED%8A%B9%EB%A1%80%EC%A0%9C%ED%95%9C%EB%B2%95/(20211123,18521,20211123)/%EC%A0%9C16%EC%A1%B0\" target=\"_blank\" rel=\"nofollow\">Article 16 of the Restriction of Special Taxation Act</a>, if your company qualifies for venture exemptions, there are some benefits:</p>\n<ul>\n<li>[Article 16-2] No tax on profits up to 30 million won per year (raised to 50 million won for stock options granted from 2022 onwards)</li>\n<li>[Article 16-3] If the company applies for tax payment exemption, earned income tax isn‚Äôt withheld. You can pay income tax in 1/5 installments over 5 years</li>\n<li>[Article 16-4] If total exercise price over 3 years is under 500 million won, you don‚Äôt pay income tax at exercise - instead you pay capital gains tax when you sell the stock</li>\n</ul>\n<p>Simply put, the government is using tax breaks on stock option exercise at venture companies to encourage venture company growth. Many decently-sized startups still qualify for venture exemptions, so definitely look into this.</p>\n<p>If your company qualifies for venture exemptions, you could pay zero income tax by only exercising 30 million won worth of stock options per year. But if your profits are in the hundreds of millions, this approach would take too long, so you might want to consider other strategies.</p>\n<h4 id=\"if-youre-no-longer-employed-other-income\" style=\"position:relative;\">If you‚Äôre no longer employed: other income<a href=\"#if-youre-no-longer-employed-other-income\" aria-label=\"if youre no longer employed other income permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Many companies only allow you to exercise stock options while still employed, but some companies let you exercise even after leaving.</p>\n<p>In this case, since you‚Äôre exercising stock options after the employment relationship has ended, profits are evaluated as other income rather than earned income. At exercise, 22% total tax (including 2% local income tax) is withheld from the profits.</p>\n<p>Also, if other income exceeds 3 million won per year, you need to include it in comprehensive income and file a final tax return. At that point, taxes are recalculated using the comprehensive income tax rate table above. If other income is under 3 million won you could just end it with withholding, but since stock options almost never earn less than 3 million won, you should pretty much always expect to file a comprehensive income final tax return.</p>\n<p>Taxes are complicated and vary based on your company‚Äôs current status and your earned income, so you can‚Äôt know exactly how much tax you‚Äôll owe until you actually exercise.</p>\n<p>But you should prepare for tax payments before exercising to avoid cash flow problems later. So definitely be aware that you have to pay taxes when exercising stock options.</p>\n<h2 id=\"ready-to-sell-that-stock\" style=\"position:relative;\">Ready to sell that stock?<a href=\"#ready-to-sell-that-stock\" aria-label=\"ready to sell that stock permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Even after exercising stock options to buy stock, it‚Äôs not your money yet. You need to sell your stock to actually realize the profit.</p>\n<p>So who do you sell these shares to? If your company is publicly traded, selling stock is easy. But most stock options are granted when companies are still small and growing, so even when your vesting plan ends and you actually buy the stock, the company is often still private.</p>\n<p>When trading unlisted stock, you use OTC platforms like <a href=\"https://www.seoulexchange.kr/\" target=\"_blank\" rel=\"nofollow\">Seoul Exchange</a> or <a href=\"https://www.ustockplus.com/\" target=\"_blank\" rel=\"nofollow\">Ustock Plus Unlisted</a>, or you trade directly with a buyer through a contract.</p>\n<p>But here‚Äôs an important point: stock received from stock options often has <strong>right of first refusal</strong> provisions, or might be completely locked from selling before IPO (initial public offering) or M&#x26;A (merger &#x26; acquisition).</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f78708042d7eb6fa950c8953c131c193/1ef88/messi.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 88.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwIE/9oADAMBAAIQAxAAAAFNVCk3J1xo5gaaIzt//8QAHxAAAAUEAwAAAAAAAAAAAAAAAAECAxEEEhMhIjJE/9oACAEBAAEFAi21mhZOyN4GCuXySPJT9x//xAAaEQABBQEAAAAAAAAAAAAAAAAAAQIQEiEy/9oACAEDAQE/AesKKNj/xAAaEQACAgMAAAAAAAAAAAAAAAAAAQIhEBJB/9oACAECAQE/AajZuh9x/8QAHhAAAQMEAwAAAAAAAAAAAAAAAAECERIhUXEQMpH/2gAIAQEABj8CqVJgqydXeDtWL4IQdrn/xAAbEAEBAQACAwAAAAAAAAAAAAABABEhMWFxgf/aAAgBAQABPyENgAn0MhGjHi76TgJ2iOhpIdN4HJ7v/9oADAMBAAIAAwAAABCM2L//xAAYEQEBAAMAAAAAAAAAAAAAAAABABAxQf/aAAgBAwEBPxAUCk3Vxj//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAQ/9oACAECAQE/EAocOW9v/8QAHBABAQACAwEBAAAAAAAAAAAAAREAQSExcVGx/9oACAEBAAE/EKDC1jKG8HHQBOK/cqlN8H7gAqD2k9yDuzXhnKk6LlTFnWAjBaMwmhn/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"messi\" title=\"\" src=\"/static/f78708042d7eb6fa950c8953c131c193/c08c5/messi.jpg\" srcset=\"/static/f78708042d7eb6fa950c8953c131c193/0913d/messi.jpg 160w,\n/static/f78708042d7eb6fa950c8953c131c193/cb69c/messi.jpg 320w,\n/static/f78708042d7eb6fa950c8953c131c193/c08c5/messi.jpg 640w,\n/static/f78708042d7eb6fa950c8953c131c193/6a068/messi.jpg 960w,\n/static/f78708042d7eb6fa950c8953c131c193/1ef88/messi.jpg 1242w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>You have to offer your shares to that person over there first before selling to anyone else</small>\n  <br>\n  <br>\n</center>\n<p>Right of first refusal means <strong>the right to purchase shares before anyone else</strong>, and in most cases the holder of this right is the company (corporation) or someone designated by the company (individual).</p>\n<p>The reason companies bother us like this is simple - whether it‚Äôs newly issued shares or treasury stock distributed, they‚Äôre wary of these shares ending up in hostile hands.</p>\n<p>When you exercise stock options, existing investors‚Äô equity gets diluted. By buying back these shares or redistributing them to existing investors, they‚Äôre trying to maintain friendly ownership.</p>\n<p>So when you transfer stock acquired from exercising stock options, read the original grant agreement carefully and check whether you need to give written notice to the company, whether there‚Äôs a right of first refusal holder, and whether you can actually sell the stock.</p>\n<h3 id=\"sold-your-stock-time-to-pay-taxes\" style=\"position:relative;\">Sold your stock? Time to pay taxes!<a href=\"#sold-your-stock-time-to-pay-taxes\" aria-label=\"sold your stock time to pay taxes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>So once you‚Äôve sold all your stock, are you done? Nope. You also have to pay taxes on the profits from selling the stock. In the US, you don‚Äôt pay separate taxes at exercise - you just pay 20% capital gains tax when you sell the stock. But in Korea, you pay income tax when exercising stock options AND income tax again when selling the stock. <small><del>(Stop taking my money!)</del></small></p>\n<p>This tax is called <strong>capital gains tax</strong>, which will be familiar to anyone who trades foreign stocks. You have to pay 22% capital gains tax annually on profits from foreign stock trading.</p>\n<p>So many people think there are no taxes beyond securities transaction tax when trading domestic stocks. But this depends on whether the stock you‚Äôre selling is from a listed company or an unlisted company.</p>\n<p>If you‚Äôre selling stock when your company is still unlisted and is a small to medium enterprise, you pay 11% total capital gains tax (including local income tax) on profits from selling the stock. If it‚Äôs a mid-sized or larger company, you pay 22%. <small>(Local income tax is 10% of the tax owed)</small></p>\n<table>\n<thead>\n<tr>\n<th>Company size</th>\n<th>Capital gains tax rate (including local tax)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Small to medium enterprise</td>\n<td>11%</td>\n</tr>\n<tr>\n<td>Mid-sized/large enterprise</td>\n<td>22%</td>\n</tr>\n</tbody>\n</table>\n<p>If your ownership is 4% or more or your shares are worth over 1 billion won, you‚Äôre classified as a major shareholder and pay more capital gains tax. But since we‚Äôre rarely major shareholders, just think of it as 11% or 22% including local income tax.</p>\n<p>The silver lining is that there‚Äôs a 2.5 million won capital gains tax exemption. So if your total profit from selling stock is 10 million won, you only pay 11% tax on 7.5 million won (after deducting the 2.5 million won exemption). But since stock option profits are usually at least in the tens of millions, it‚Äôs easier to just assume you‚Äôll pay capital gains tax from the start.</p>\n<p>If your company is publicly traded, as long as you‚Äôre not a major shareholder, you won‚Äôt pay capital gains tax - it‚Äôs just like regular stock trading.</p>\n<h2 id=\"stock-option-expiration\" style=\"position:relative;\">Stock option expiration<a href=\"#stock-option-expiration\" aria-label=\"stock option expiration permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This is another thing many people miss - even vested stock options don‚Äôt give you rights that last forever. In other words, under certain conditions your stock option grant can be cancelled or you might lose the ability to exercise.</p>\n<p>Stock option expiration terms vary by company, but here are some common cases:</p>\n<ul>\n<li>Quit your job? Stock option grant cancelled</li>\n<li>Quit your job? You must exercise all vested stock options at the time you leave</li>\n<li>You must exercise within 4 years of being granted stock options</li>\n</ul>\n<p>This is also in the stock option grant agreement, so read the agreement very carefully when receiving stock options.</p>\n<h2 id=\"how-can-you-make-a-good-choice\" style=\"position:relative;\">How can you make a good choice?<a href=\"#how-can-you-make-a-good-choice\" aria-label=\"how can you make a good choice permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b19e4452b9c863d23502a510a26ae493/d7854/zzal.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAXAQADAQAAAAAAAAAAAAAAAAABAgME/9oADAMBAAIQAxAAAAFZoETQrQIimf8A/8QAGxAAAQQDAAAAAAAAAAAAAAAAAgABAxIEERP/2gAIAQEAAQUCZPAPJRlWQ8ka7X//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREC/9oACAEDAQE/AcYbVhD/xAAWEQADAAAAAAAAAAAAAAAAAAABAhD/2gAIAQIBAT8BYz//xAAcEAABBQADAAAAAAAAAAAAAAABABAREiECMUH/2gAIAQEABj8CUegdsOR2EaWGN//EABwQAAICAgMAAAAAAAAAAAAAAAABEVEQITFBYf/aAAgBAQABPyFmRketY1QpUg3FjSNiCXuH/9oADAMBAAIAAwAAABDIL//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxB0dE6v/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREA/9oACAECAQE/EBIXXf/EABsQAQEAAgMBAAAAAAAAAAAAAAERADEhUYFh/9oACAEBAAE/EAPG7xjH6ykVt1v3Fp+u8LnQsphZ7qHS9YYQRuf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"zzal\" title=\"\" src=\"/static/b19e4452b9c863d23502a510a26ae493/d7854/zzal.jpg\" srcset=\"/static/b19e4452b9c863d23502a510a26ae493/0913d/zzal.jpg 160w,\n/static/b19e4452b9c863d23502a510a26ae493/cb69c/zzal.jpg 320w,\n/static/b19e4452b9c863d23502a510a26ae493/d7854/zzal.jpg 550w\" sizes=\"(max-width: 550px) 100vw, 550px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>So when faced with choices like ‚Äústock options vs. salary increase,‚Äù what should you consider? Personally, I‚Äôd recommend looking not just at the stock option amount, but also at things like the vesting plan and tax optimization benefits.</p>\n<h3 id=\"calculate-actual-profit-from-stock-options\" style=\"position:relative;\">Calculate actual profit from stock options<a href=\"#calculate-actual-profit-from-stock-options\" aria-label=\"calculate actual profit from stock options permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If you‚Äôve read this far, you know that receiving 100 million won worth of stock options doesn‚Äôt mean your actual profit will be 100 million won.</p>\n<p>When exercising stock options, you have to pay the strike price to the company and also pay income tax. When selling stock acquired from stock options, you pay capital gains tax again. Of course, we‚Äôre not tax accountants, so we can‚Äôt predict future taxes precisely. But you can roughly estimate how much you‚Äôll owe based on tax rate information already available online.</p>\n<p>Depending on acquisition value, you might pay up to 45% of your profits in taxes, so definitely calculate and recalculate before choosing stock options.</p>\n<h3 id=\"you-must-stay-at-the-company-until-the-cliff\" style=\"position:relative;\">You must stay at the company until the cliff<a href=\"#you-must-stay-at-the-company-until-the-cliff\" aria-label=\"you must stay at the company until the cliff permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As I mentioned, Korean law requires at least 2 years of employment before you can vest stock options. But depending on the company‚Äôs vesting plan, the cliff might be 2 years or 3 years, so think of <strong>cliff === period I can‚Äôt quit the company</strong> when making your decision.</p>\n<p>You need to pass at least the cliff period before you have any exercisable stock options. So if you don‚Äôt plan to stick around that long, it might be better to just take cash like a signing bonus and invest it separately.</p>\n<h3 id=\"consider-company-size-and-growth-potential\" style=\"position:relative;\">Consider company size and growth potential<a href=\"#consider-company-size-and-growth-potential\" aria-label=\"consider company size and growth potential permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Stock options are financial instruments that benefit you more when your company grows and the gap between strike price and market price widens. In other words, your potential gain depends on ‚Äúhow much more this company will grow.‚Äù</p>\n<p>For example, a startup that just finished Series A funding has such a low current valuation that it‚Äôs common for valuations to increase 20x or 30x with each funding round. Well-performing companies sometimes get valuations over 100x higher.</p>\n<p>That‚Äôs why you hear about stock option jackpot stories in the tens of millions - they mostly come from this space. But the flip side is these companies might not have found product-market fit yet and have no market influence, so there‚Äôs also a high probability your stock options become worthless.</p>\n<p>But if your company has already grown to Series D or E funding rounds, the chance of the company failing and your stock options becoming worthless is low - but growth potential might not be as huge as a tiny startup.</p>\n<p>Plus, large companies like Naver or Kakao don‚Äôt qualify for venture exemptions. So even if you get stock options now, you‚Äôll barely get any tax benefits, and the stock option strike price will be set at market value at grant time, so when you run the numbers it might not be such a huge amount.</p>\n<p>Of course, even if the company is large, if they‚Äôre planning promising new business ventures that could skyrocket the company‚Äôs value, the stock options could be almost as safe as guaranteed assets. So before accepting stock options, try to gather as much information as possible about the company‚Äôs future plans to make a good decision.</p>\n<h3 id=\"plan-your-personal-cash-flow\" style=\"position:relative;\">Plan your personal cash flow<a href=\"#plan-your-personal-cash-flow\" aria-label=\"plan your personal cash flow permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When explaining stock options earlier, I talked a lot about cash flow. People usually only think about corporate cash flow, but cash flow is extremely important for individuals too.</p>\n<p>Once cash flow gets blocked, you might have to take out unplanned loans or sell stocks at a loss just to raise cash.</p>\n<p>If you haven‚Äôt thought about or planned for the strike price and taxes you‚Äôll need to pay when exercising stock options, you might not be able to exercise when the time comes due to lack of funds, or you might have to take out loans to pay taxes - a truly tearful situation.</p>\n<p>So before choosing stock options, ask about the company‚Äôs vesting plan ahead of time and think about whether you‚Äôll have major expenses like lease renewal when your cliff hits and vesting periods come around.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As I mentioned at the start, I wrote this post because many people holding stock options simply think of them as regular stock.</p>\n<p>Especially for people receiving stock options for the first time, when I tell them ‚Äúthat‚Äôs not free, you have to pay money when you exercise,‚Äù they sometimes ask why they have to pay money to sell stock - showing how many people really don‚Äôt understand stock options. <small>(Surprisingly many people thought vesting stock options meant selling stock)</small></p>\n<p>But stock options are financial instruments paid as compensation, so it‚Äôs very important to know exactly how much compensation you‚Äôre receiving and what process you need to go through to realize that compensation as profit.</p>\n<p>Also, many people think stock options are granted for free, but by choosing stock options you might be accepting a lower salary increase rate or even freezing your salary, and you might be giving up cash benefits like signing bonuses. So it‚Äôs not really free.</p>\n<p>The salary increase or cash benefits you‚Äôre giving up become an opportunity cost, and this opportunity cost is effectively the premium you‚Äôre paying to receive stock options as a financial instrument.</p>\n<p>I hope that going forward, when you encounter choices like ‚Äù<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn><mi>K</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>s</mi><mi>e</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">5K raise or </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">5</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Kr</span><span class=\"mord mathnormal\">ai</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">seor</span></span></span></span></span>50K in stock options,‚Äù you‚Äôll consider all these factors and make decisions that maximize your potential gains.</p>\n<p>That wraps up my post on everything developers need to know about stock options.</p>","fields":{"slug":"20211204-what-is-stock-options-en","path":"/2021/12/04/what-is-stock-options/en/","lang":"en"},"frontmatter":{"title":"Everything developers need to know about stock options","subTitle":"Will stock options actually make you money? A realistic guide for developers","date":"Dec 04, 2021","categories":["ÏóêÏÑ∏Ïù¥"],"tags":["Ïä§ÌÜ°ÏòµÏÖò","Ï£ºÏãù","Í∏àÏúµ","Ïù∏ÏÑºÌã∞Î∏å","Í∞úÎ∞úÏûê","Stock Option","Finance"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/e0625d4d6673da5b3f79fb2e72110dfe/d803c/thumbnail.png","srcSet":"/static/e0625d4d6673da5b3f79fb2e72110dfe/d803c/thumbnail.png 320w,\n/static/e0625d4d6673da5b3f79fb2e72110dfe/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/e0625d4d6673da5b3f79fb2e72110dfe/fc5c5/thumbnail.webp 320w,\n/static/e0625d4d6673da5b3f79fb2e72110dfe/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/e0625d4d6673da5b3f79fb2e72110dfe/01fb2/thumbnail.png","srcSet":"/static/e0625d4d6673da5b3f79fb2e72110dfe/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/e0625d4d6673da5b3f79fb2e72110dfe/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"fb59c27b-7891-5081-9d67-42b08b778c2d","tableOfContents":"<ul>\n<li>\n<ul>\n<li><a href=\"#declaration\">declaration</a></li>\n<li><a href=\"#declarationdir\">declarationDir</a></li>\n<li><a href=\"#declarationmap\">declarationMap</a></li>\n<li><a href=\"#downleveliteration\">downlevelIteration</a></li>\n<li><a href=\"#emitbom\">emitBOM</a></li>\n<li><a href=\"#emitdeclarationonly\">emitDeclarationOnly</a></li>\n<li><a href=\"#importhelpers\">importHelpers</a></li>\n<li><a href=\"#importsnotusedasvalues\">importsNotUsedAsValues</a></li>\n<li><a href=\"#inlinesourcemap\">inlineSourceMap</a></li>\n<li><a href=\"#inlinesources\">inlineSources</a></li>\n<li><a href=\"#noemit\">noEmit</a></li>\n<li><a href=\"#noemithelpers\">noEmitHelpers</a></li>\n<li><a href=\"#noemitonerror\">noEmitOnError</a></li>\n<li><a href=\"#preserveconstenums\">preserveConstEnums</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing\">Closing</a></p>\n</li>\n</ul>","excerpt":"In this post, following the previous [All About tsconfig] Compiler options / Modules post, I‚Äôll introduce options that control output files among ‚Äôs compilation options.","html":"<p>In this post, following the previous <a href=\"/20210808-tsconfig-compiler-options-modules\">[All About tsconfig] Compiler options / Modules</a> post, I‚Äôll introduce options that control output files among <code class=\"language-text\">tsconfig</code>‚Äôs compilation options.</p>\n<!-- more -->\n<p>These options determine the appearance of JavaScript code generated after compiling code written in TypeScript, such as how to express syntax supported only in TypeScript in JavaScript, or how to express it when transpiling ES6 or higher syntax to ES5.</p>\n<p>Of course, since there are parts that overlap with features provided by transpilers like Babel, if using TSC and Babel together, there may be cases where you don‚Äôt need to meticulously set all options in tsconfig.</p>\n<h2 id=\"declaration\" style=\"position:relative;\">declaration<a href=\"#declaration\" aria-label=\"declaration permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Generate type declaration files together when compiling</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Generate only JavaScript files when compiling</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">declaration</code> option is an option that decides whether to output TypeScript‚Äôs <code class=\"language-text\">*.d.ts</code> files or not. Since this option is off by default, if you compile TypeScript without separate settings, you can see only <code class=\"language-text\">*.js</code> files generated alone.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// math.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>But if you turn on the <code class=\"language-text\">declaration</code> option, in addition to the generated JavaScript file, it also generates <code class=\"language-text\">*.d.ts</code> files containing type declarations.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.d.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>If you want modules you made to support TypeScript, you must allow users to directly get the module‚Äôs source code or provide JavaScript files but also provide type declaration files <code class=\"language-text\">*.d.ts</code>, so if developing TypeScript-targeted libraries, I recommend using this option to generate type declaration files together during compilation.</p>\n<h2 id=\"declarationdir\" style=\"position:relative;\">declarationDir<a href=\"#declarationdir\" aria-label=\"declarationdir permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string</code></td>\n<td>Path to directory to output type declaration files</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">declarationDir</code> option, as its name suggests, is an option to set the path to output type declaration files. At this time, the current path that <code class=\"language-text\">.</code> means refers to where the <code class=\"language-text\">tsconfig</code> file is located, so if you want to output type declaration files inside the directory where compiled files are located, you must directly specify directories like <code class=\"language-text\">./{outDir}/types</code> rather than paths like <code class=\"language-text\">./types</code>.</p>\n<p>If you don‚Äôt separately set the <code class=\"language-text\">declarationDir</code> option, type declaration files are created in the same location as their original JavaScript files.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">When declarationDir option is not set\n\nmyProject\n‚îú‚îÄ‚îÄ math.ts\n‚îú‚îÄ‚îÄ dist\n‚îÇ   ‚îú‚îÄ‚îÄ math.d.ts &lt;\n‚îÇ   ‚îî‚îÄ‚îÄ math.js\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">When declarationDir option is set to \"./dist/types\"\n\nmyProject\n‚îú‚îÄ‚îÄ math.ts\n‚îú‚îÄ‚îÄ dist\n‚îÇ   ‚îú‚îÄ‚îÄ math.js\n‚îÇ   ‚îî‚îÄ‚îÄ types\n‚îÇ       ‚îî‚îÄ‚îÄ math.d.ts &lt;\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Gathering type declaration files in one directory like this lets you conveniently specify the location of that package‚Äôs type declaration files later using <code class=\"language-text\">package.json</code>‚Äôs <code class=\"language-text\">types</code> property, so I tend to use the <code class=\"language-text\">declarationDir</code> option to gather type declarations in one place.</p>\n<h2 id=\"declarationmap\" style=\"position:relative;\">declarationMap<a href=\"#declarationmap\" aria-label=\"declarationmap permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Generate mapping files connecting type declarations with source code</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Don‚Äôt generate mapping files</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">declarationMap</code> option decides whether to generate mapping files that help developers navigate to original source files through navigation features provided by IDEs like ‚ÄúGo to Definition.‚Äù</p>\n<p>As learned earlier, if you generate type declaration files using the <code class=\"language-text\">declaration</code> option, the following results are compiled:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.ts (original source file)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// math.js (JavaScript)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.d.ts (type declaration)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>At this time, if there‚Äôs no mapping file defining the relationship between JavaScript code containing actually executed code and type declaration files containing type declarations, when using navigation features in IDEs, you navigate to type declarations in <code class=\"language-text\">math.d.ts</code> files, not source code.</p>\n<p>But since information about type declarations is already exposed in developers‚Äô own source code anyway, when using navigation, most cases want to see actual internal implementation of functions rather than wanting to know type declaration definitions.</p>\n<p>In this situation, using the <code class=\"language-text\">declarationMap</code> option, when developers use navigation features, you can generate separate mapping files together so they can navigate to source code, not type declarations.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.d.ts (type declaration)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=math.d.ts.map</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// math.d.ts.map</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"math.d.ts\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sourceRoot\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sources\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"../../../utils/math.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"names\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAA,eAAO,MAAM,GAAG,MAAO,MAAM,SAAS,MAAM,WAAU,CAAC\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Mapping files are composed in JSON format and created in the same path as files where type declarations are defined. Since these mapping files have original source code paths, when using IDE navigation features, they can inform ‚Äúsource code is not here but at this path.‚Äù</p>\n<p>In other words, to fully utilize this feature, source code must necessarily be included when deploying modules to npm registry. Generally when deploying to npm registry, only build results are deployed rather than source code. In this case, since source code isn‚Äôt included in the library anyway, including mapping files becomes meaningless.</p>\n<p>Simply including source code when deploying to npm registry doesn‚Äôt increase bundle size of applications using modules you made, so to greatly improve productivity and convenience of developers using libraries you made, I recommend turning on <code class=\"language-text\">declarationMap</code> and deploying to npm registry including source code.</p>\n<h2 id=\"downleveliteration\" style=\"position:relative;\">downlevelIteration<a href=\"#downleveliteration\" aria-label=\"downleveliteration permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Generate clear implementations for iteration features added in ES6</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Perform only basic transpiling</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">downlevelIteration</code> option is an option that can make TypeScript transpile features added in ES6 like <code class=\"language-text\">for/of</code>, <code class=\"language-text\">Spread</code>, <code class=\"language-text\">Symbol.iterator</code> more clearly.</p>\n<p>If the JavaScript version as compilation target is ES6 or higher, this option isn‚Äôt very meaningful, but when targeting ES5 or lower versions for cross-browsing, etc., you can prevent iterators from operating differently from developers‚Äô intentions during JavaScript runtime.</p>\n<p>For example, if transpiling TypeScript code using <code class=\"language-text\">for/of</code> to ES5, you can see results like below:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> s <span class=\"token keyword\">of</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> _i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> str_1 <span class=\"token operator\">=</span> str<span class=\"token punctuation\">;</span> _i <span class=\"token operator\">&lt;</span> str_1<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> _i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> str_1<span class=\"token punctuation\">[</span>_i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Since <code class=\"language-text\">for/of</code> is a feature not in ES5, TypeScript transpiled <code class=\"language-text\">for/of</code> into a general <code class=\"language-text\">for</code> statement.</p>\n<p>Looking up to here seems no problems, but actually code transpiled like this doesn‚Äôt show behavior exactly matching original code. Because of code like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'üôè'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> s <span class=\"token keyword\">of</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The üôè emoji used in the above code is an emoji I personally use a lot. Since the number of visibly seen characters is one, you might naturally think this emoji‚Äôs length is also <code class=\"language-text\">1</code>, but actually emojis‚Äô lengths aren‚Äôt <code class=\"language-text\">1</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'üôè'</span><span class=\"token punctuation\">.</span>length <span class=\"token comment\">// 2</span>\n<span class=\"token string\">'üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë©'</span><span class=\"token punctuation\">.</span>length <span class=\"token comment\">// 11</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>In other words, writing general <code class=\"language-text\">for</code> statements using this emoji‚Äôs length can make it difficult to extract proper characters. If you don‚Äôt quite understand what this means, try copy-pasting and executing the code below in Chrome developer tools.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">\"üôè\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> str<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">forÎ¨∏ > </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>str<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> s <span class=\"token keyword\">of</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">for/ofÎ¨∏ > </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>s<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">forÎ¨∏ > ÔøΩ\nforÎ¨∏ > ÔøΩ\n\nfor/ofÎ¨∏ > üôè</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This is exactly why you shouldn‚Äôt just transpile <code class=\"language-text\">for/of</code> statements into <code class=\"language-text\">for</code> statements.</p>\n<p>To simply explain why emoji lengths aren‚Äôt 1 like this - first because emojis are multibyte characters, and also because new emojis keep being added and emojis combining existing emojis appear, methods of expressing emojis have become crazy. For details about emoji lengths, read <a href=\"https://blog.jonnew.com/posts/poo-dot-length-equals-two\" target=\"_blank\" rel=\"nofollow\">this post</a> which explains it well.</p>\n<p>Anyway, the important point here is that such disasters can occur if you transpile them buried together just because <code class=\"language-text\">for/of</code> and <code class=\"language-text\">for</code> operations are similar.</p>\n<p>So TypeScript separately provides an option called <code class=\"language-text\">downlevelIteration</code> so iteration features like <code class=\"language-text\">for/of</code>, <code class=\"language-text\">Spread</code>, <code class=\"language-text\">Symbol.iterator</code> don‚Äôt operate differently from developers‚Äô intentions - it can check whether features like <code class=\"language-text\">Symbol.iterator</code> exist or even add polyfills implementing such features.</p>\n<h2 id=\"emitbom\" style=\"position:relative;\">emitBOM<a href=\"#emitbom\" aria-label=\"emitbom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>TypeScript marks BOM when generating output files</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>TypeScript doesn‚Äôt mark BOM when generating output files</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">emitBOM</code> option is an option to decide whether TypeScript marks <a href=\"https://ko.wikipedia.org/wiki/%EB%B0%94%EC%9D%B4%ED%8A%B8_%EC%88%9C%EC%84%9C_%ED%91%9C%EC%8B%9D\" target=\"_blank\" rel=\"nofollow\">BOM (Byte Order Mark)</a> when generating output files.</p>\n<p>Byte Order Mark is a method of indicating what encoding method this file used by adding special Unicode at the very front part of files.</p>\n<p>Since BOM is used only to inform computers about current file‚Äôs encoding information, not for humans to read originally, text editors or places like vim don‚Äôt show BOM even when opening files.</p>\n<p>However, generally in runtime environments where JavaScript executes, cases needing BOM are rare, and since Unicode 3.2 recommends not using BOM, it‚Äôs an option you don‚Äôt really need to turn on. <small>(TypeScript official documentation also says you don‚Äôt need to turn it on)</small></p>\n<h2 id=\"emitdeclarationonly\" style=\"position:relative;\">emitDeclarationOnly<a href=\"#emitdeclarationonly\" aria-label=\"emitdeclarationonly permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Output only type declaration files without JavaScript</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Output including JavaScript files</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">emitDeclarationOnly</code> option, as its name Declaration only suggests, is an option deciding whether to output only type declaration files without JavaScript files when proceeding with compilation.</p>\n<p>Usually used when using separate tools rather than TypeScript compiler when converting TypeScript to JavaScript, or when needing to provide only type declarations to modules already made in JavaScript.</p>\n<h2 id=\"importhelpers\" style=\"position:relative;\">importHelpers<a href=\"#importhelpers\" aria-label=\"importhelpers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Use helper functions provided by tslib in output files</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Don‚Äôt use helper functions provided by tslib and implement helpers directly</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">importHelpers</code> option is an option to decide whether to directly write helper functions occurring when transpiling TypeScript to JavaScript versions ES5 or lower in output files, or allow replacement with helper functions provided by the <code class=\"language-text\">tslib</code> library.</p>\n<p>Let‚Äôs understand by looking at source code and output files together.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arr<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">fn</code> function is a simple function that adds the element <code class=\"language-text\">1</code> at the very front of the array received as an argument and returns it. As you know, since the Spread feature usable with syntax like <code class=\"language-text\">[...arr]</code> isn‚Äôt included in ES5, TypeScript adds a helper function called <code class=\"language-text\">__spreadArray</code> in output files to transpile the Spread feature.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> __spreadArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>__spreadArray<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">to<span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">,</span> pack</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pack <span class=\"token operator\">||</span> arguments<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> l <span class=\"token operator\">=</span> from<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> ar<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> l<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ar <span class=\"token operator\">||</span> <span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>i <span class=\"token keyword\">in</span> from<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ar<span class=\"token punctuation\">)</span> ar <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      ar<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> from<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> to<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>ar <span class=\"token operator\">||</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__spreadArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>What‚Äôs important here is that implementation of the function <code class=\"language-text\">__spreadArray</code> was included together in output files to implement ES6‚Äôs Spread feature. Actually including such implementations in output files may not be a big problem, but if you need to use that <code class=\"language-text\">__spreadArray</code> again elsewhere, implementation of the <code class=\"language-text\">__spreadArray</code> function is added again to that module, causing duplicate code.</p>\n<p>At this time, using the <code class=\"language-text\">importHelpers</code> option, you can change to get these helper functions from the <code class=\"language-text\">tslib</code> library to remove code duplication.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> __spreadArray <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'tslib'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__spreadArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This way, since the <code class=\"language-text\">__spreadArray</code> function is imported from <code class=\"language-text\">tslib</code> and used, the need to declare the <code class=\"language-text\">__spreadArray</code> function every time disappears, so code duplication can be removed. But code transpiled using this option naturally needs the <code class=\"language-text\">tslib</code> package installed to work properly, so carefully weigh pros and cons of allowing duplicate implementation of helper functions versus installing <code class=\"language-text\">tslib</code> in your application and use the option.</p>\n<h2 id=\"importsnotusedasvalues\" style=\"position:relative;\">importsNotUsedAsValues<a href=\"#importsnotusedasvalues\" aria-label=\"importsnotusedasvalues permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">remove</code></td>\n<td>Remove import statements not needed at runtime from output files</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">preserve</code></td>\n<td>Remove type information from output files but keep import statements</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">error</code></td>\n<td>Generate errors when using import statements that only get type information</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">importsNotUsedAsValues</code> option is an option to control how TypeScript processes unnecessary import statements when generating output files. To understand the meaning this option has, you need to know a bit about how TypeScript processes import statements.</p>\n<p>Basically, when TypeScript generates JavaScript files through compilation, it erases information related to types. Let‚Äôs understand by looking at code.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> InterfaceFoo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/bar'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> classBar<span class=\"token operator\">:</span> InterfaceFoo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/bar'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> classBar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Looking at the above code, you can see the import statement getting the <code class=\"language-text\">InterfaceFoo</code> interface disappeared in JavaScript output files. Because JavaScript doesn‚Äôt have features like TypeScript‚Äôs types or interfaces, so leaving type information is meaningless.</p>\n<p>Of course, as mentioned earlier, since type information can‚Äôt be used in JavaScript anyway, removing such information is correct, but if the <code class=\"language-text\">../utils/foo</code> module includes intentional side effects, problems can occur.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// utils/foo.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">InterfaceFoo</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello world!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">utils/foo.ts</code> module is a module only exposing interfaces, but internally includes side effects of <code class=\"language-text\">console.log</code>. In this example it‚Äôs simple console output, but actually Angular includes side effects of explicitly injecting and registering modules inside such modules.</p>\n<p>The problem is that even in such cases, TypeScript erases the statement itself that imported the <code class=\"language-text\">utils/foo</code> module when outputting JavaScript. Then naturally the side effect of <code class=\"language-text\">console.log</code> doesn‚Äôt execute in JavaScript runtime. So in such cases, developers must add one more import statement that can deceive TypeScript to intentionally execute side effects.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> InterfaceFoo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'../utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/bar'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> classBar<span class=\"token operator\">:</span> InterfaceFoo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'./utils/foo'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ClassBar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../utils/bar\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> classBar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>So TypeScript version 3.8 added <code class=\"language-text\">import type</code> functionality to explicitly express ‚Äúthis import statement is a statement that only gets type information,‚Äù and provides the <code class=\"language-text\">importsNotUsedAsValues</code> option to control leaving import statements even if getting only type information using general import statements.</p>\n<h2 id=\"inlinesourcemap\" style=\"position:relative;\">inlineSourceMap<a href=\"#inlinesourcemap\" aria-label=\"inlinesourcemap permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Generate source map files separately</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Encode source map file contents in Base64 and add to source files</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">inlineSourceMap</code> option is an option deciding how TypeScript will generate source maps during compilation. Basically TypeScript provides source maps in the form of <code class=\"language-text\">*.js.map</code> files, but if <code class=\"language-text\">inlineSourceMap</code> is <code class=\"language-text\">true</code>, it adds source maps as comments inside source files.</p>\n<p>Let‚Äôs directly compile modules having simple functions and see what differences there are.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// math.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>If the <code class=\"language-text\">inlineSourceMap</code> option is off, TypeScript generates separate source map files and generates source maps by writing only that source map‚Äôs path in compiled JS files.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// math.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=math.js.map</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// math.js.map</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"math.js\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"sourceRoot\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"sources\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"../../utils/math.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"names\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAA,MAAM,CAAC,IAAM,GAAG,GAAG,UAAC,CAAS,IAAK,OAAA,UAAC,CAAS,IAAK,OAAA,CAAC,GAAG,CAAC,EAAL,CAAK,EAApB,CAAoB,CAAC\"</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>At this time, you can confirm that source map file paths are added to compiled JS files in the form of <code class=\"language-text\">#sourceMappingURL=math.js.map</code>, and source map files have original TypeScript source file paths written like <code class=\"language-text\">\"sources\": [\"../../utils/math.ts\"]</code>.</p>\n<p>If you turn on the <code class=\"language-text\">inlineSourceMap</code> option, TypeScript no longer generates source map files and directly encodes source map file contents in Base64 and adds them inside compiled JS files.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0aC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3V0aWxzL21hdGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sR0FBRyxHQUFHLFVBQUMsQ0FBUyxJQUFLLE9BQUEsVUFBQyxDQUFTLElBQUssT0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFMLENBQUssRUFBcEIsQ0FBb0IsQ0FBQyJ9</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h2 id=\"inlinesources\" style=\"position:relative;\">inlineSources<a href=\"#inlinesources\" aria-label=\"inlinesources permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Don‚Äôt include source code contents in inline source maps.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Include source code contents together in inline source maps</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">inlineSources</code> option decides whether to also include original source code contents in inline source maps made using the <code class=\"language-text\">inlineSourceMap</code> option.</p>\n<p>If this option‚Äôs value is <code class=\"language-text\">true</code>, a field called <code class=\"language-text\">sourceContent</code> is added to inline source maps and source code contents are included together in that field.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0aC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3V0aWxzL21hdGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sR0FBRyxHQUFHLFVBQUMsQ0FBUyxJQUFLLE9BQUEsVUFBQyxDQUFTLElBQUssT0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFMLENBQUssRUFBcEIsQ0FBb0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBhZGQgPSAoeDogbnVtYmVyKSA9PiAoeTogbnVtYmVyKSA9PiB4ICsgeTtcbiJdfQ==</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// Decoded source map</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"math.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sourceRoot\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sources\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"../../utils/math.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"names\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAA,MAAM,CAAC,IAAM,GAAG,GAAG,UAAC,CAAS,IAAK,OAAA,UAAC,CAAS,IAAK,OAAA,CAAC,GAAG,CAAC,EAAL,CAAK,EAApB,CAAoB,CAAC\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"sourcesContent\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"export const add = (x: number) => (y: number) => x + y;\\n\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Originally in <a href=\"https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/preview#\" target=\"_blank\" rel=\"nofollow\">source map specs</a>, the <code class=\"language-text\">sourceContent</code> field is close to a kind of exception handling to handle cases where original source files can‚Äôt be accessed, so it‚Äôs an option without big problems even if not turned on.</p>\n<h2 id=\"noemit\" style=\"position:relative;\">noEmit<a href=\"#noemit\" aria-label=\"noemit permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Export output files after compilation</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Don‚Äôt export output files after compilation</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noEmit</code> option, as its name suggests, decides behavior about whether TypeScript will export output files after compilation. Just hearing the explanation makes you wonder if such cases are needed, but it‚Äôs an option used surprisingly frequently and usefully.</p>\n<p>Representative examples include registering commands like <code class=\"language-text\">tsc --noEmit</code> as NPM scripts when needing to only proceed with static type checking at timings like CI or Git Hook, or when using tools like Webpack, Parcel, Rollup for compilation, many cases use this option to only have TSC do static type checking.</p>\n<h2 id=\"noemithelpers\" style=\"position:relative;\">noEmitHelpers<a href=\"#noemithelpers\" aria-label=\"noemithelpers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Include helper functions like <code class=\"language-text\">__awaiter</code> in compiled files</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Don‚Äôt include helper functions like <code class=\"language-text\">__awaiter</code> in compiled files</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noEmitHelpers</code> option decides whether to include helper functions like <code class=\"language-text\">__awaiter</code> or <code class=\"language-text\">__generator</code> in output files where compilation completed.</p>\n<p>Since the <code class=\"language-text\">noEmitHelpers</code> option‚Äôs operation is similar to <a href=\"#importhelpers\">importHelpers</a>, it can be a bit confusing. If the <code class=\"language-text\">importHelpers</code> option decides whether to ‚Äúinclude in source‚Äù or ‚Äúimport from elsewhere‚Äù implementations of helper functions, the <code class=\"language-text\">noEmitHelpers</code> option decides whether to ‚Äúinclude in source‚Äù or ‚Äúnot do at all‚Äù implementations of helper functions.</p>\n<p>Let‚Äôs understand this difference by looking at compiled code directly.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// When both importHelpers and noEmitHelpers are off, output files include helper implementations too</span>\n\n<span class=\"token keyword\">var</span> __awaiter <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>__awaiter<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">thisArg<span class=\"token punctuation\">,</span> _arguments<span class=\"token punctuation\">,</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">,</span> generator</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> __generator <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>__generator<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">thisArg<span class=\"token punctuation\">,</span> body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__awaiter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">__generator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token comment\">/*return*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// When importHelper is on, helpers are imported externally</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> __awaiter<span class=\"token punctuation\">,</span> __generator <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"tslib\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__awaiter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">__generator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token comment\">/*return*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// When noEmitHelpers is on, there's no code even getting or declaring helpers at all</span>\n\n<span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">__awaiter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">__generator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span> <span class=\"token comment\">/*return*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If both <code class=\"language-text\">importHelpers</code> and <code class=\"language-text\">noEmitHelpers</code> options are on, settings of whether to ‚Äúget helper functions externally‚Äù or ‚Äúnot include in output files‚Äù conflict. In this case, <code class=\"language-text\">importHelpers</code>‚Äô operation is followed preferentially, so be careful of this point.</p>\n<h2 id=\"noemitonerror\" style=\"position:relative;\">noEmitOnError<a href=\"#noemitonerror\" aria-label=\"noemitonerror permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Export output files even if errors occur during compilation</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Don‚Äôt export output files if errors occur during compilation</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noEmitOnError</code> option, as its name suggests, decides whether to export output files if errors occur due to various factors during compilation. If this option is on, output files aren‚Äôt exported if errors occur during compilation.</p>\n<p>Just looking like this, you might think ‚Äúnaturally shouldn‚Äôt output files be not made if errors occur?‚Äù, but development environments using TSC‚Äôs Watch option can be more convenient to generate output files even if errors occur during compilation and also observe side effects occurring from that, so I recommend turning this option off in development environments and turning it on at build time for production environment deployment.</p>\n<h2 id=\"preserveconstenums\" style=\"position:relative;\">preserveConstEnums<a href=\"#preserveconstenums\" aria-label=\"preserveconstenums permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Remove Enum declarations using <code class=\"language-text\">const enum</code> keyword at compile time</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Don‚Äôt remove Enum declarations using <code class=\"language-text\">const enum</code> keyword at compile time</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">preserveConstEnums</code> option is an option about whether to remove Enum declarations using <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#const-enums\" target=\"_blank\" rel=\"nofollow\">const enum</a> keyword at compile time. To save memory costs at runtime, TypeScript replaces parts referencing values of Enums declared with <code class=\"language-text\">const enum</code> keyword with that Enum‚Äôs values.</p>\n<p>Unlike Enums declared using only <code class=\"language-text\">enum</code> keyword, Enums using <code class=\"language-text\">const enum</code> keyword are guaranteed to only have constant values, so referential transparency is also guaranteed, and ultimately there‚Äôs no problem just replacing values at compile time.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token keyword\">enum</span> Foo <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">A</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">B</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> Foo<span class=\"token punctuation\">.</span><span class=\"token constant\">A</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> Foo<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">Foo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Foo<span class=\"token punctuation\">[</span>Foo<span class=\"token punctuation\">[</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"A\"</span><span class=\"token punctuation\">;</span>\n    Foo<span class=\"token punctuation\">[</span>Foo<span class=\"token punctuation\">[</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span><span class=\"token punctuation\">;</span>\n    Foo<span class=\"token punctuation\">[</span>Foo<span class=\"token punctuation\">[</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"C\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Foo <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>Foo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token comment\">/* A */</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;= Replaced with value, not Foo.A</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>At this time, looking closely at compiled code, a variable called <code class=\"language-text\">Foo</code> is declared to express Enum and values are assigned to that variable using IIFE, but you can see there are no parts accessing this variable. In other words, in runtime environments where this JS code executes, there‚Äôs no problem even without the variable <code class=\"language-text\">Foo</code>.</p>\n<p>At this time, setting the <code class=\"language-text\">preserveConstEnums</code> option‚Äôs value to <code class=\"language-text\">false</code> can remove Enum declarations meaningless at runtime like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token comment\">/* A */</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h1 id=\"closing\" style=\"position:relative;\">Closing<a href=\"#closing\" aria-label=\"closing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>I‚Äôve wrapped up the fourth <code class=\"language-text\">tsconfig</code> series, the <code class=\"language-text\">Emit</code> edition. Options playing roles related to Emit are mainly touched when using TSC combined with other tools or when needing to optimize bundle size. Since I also studied these options after quite a while, even though there were options I‚Äôd used before, my memory seemed hazy.</p>\n<p>That‚Äôs all for this post on [All About tsconfig] Compiler options / Emit.</p>","fields":{"slug":"20211030-tsconfig-compiler-options-modules-emit-en","path":"/2021/10/30/tsconfig-compiler-options-modules-emit/en/","lang":"en"},"frontmatter":{"title":"[All About tsconfig] Compiler options / Emit","subTitle":null,"date":"Oct 30, 2021","categories":["Programming","Tutorial","JavaScript"],"tags":["TypeScript","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/d96f04d4b1d49fa98ee91007f9ad0674/d803c/thumbnail.png","srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/d803c/thumbnail.png 320w,\n/static/d96f04d4b1d49fa98ee91007f9ad0674/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/fc5c5/thumbnail.webp 320w,\n/static/d96f04d4b1d49fa98ee91007f9ad0674/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/d96f04d4b1d49fa98ee91007f9ad0674/01fb2/thumbnail.png","srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/d96f04d4b1d49fa98ee91007f9ad0674/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"48e399f3-ff32-5a57-85d3-87916683400c","tableOfContents":"<ul>\n<li>\n<p><a href=\"#effort-without-direction\">Effort Without Direction</a></p>\n</li>\n<li>\n<p><a href=\"#thinking-about-the-cost-of-effort\">Thinking About the Cost of Effort</a></p>\n<ul>\n<li><a href=\"#the-market-perspective\">The Market Perspective</a></li>\n<li><a href=\"#the-perspective-of-continuous-personal-growth\">The Perspective of Continuous Personal Growth</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#so-what-should-i-do\">So What Should I Do?</a></p>\n<ul>\n<li><a href=\"#beware-of-fixating-on-the-act-itself\">Beware of Fixating on the Act Itself</a></li>\n<li><a href=\"#diligence-isnt-a-strong-weapon\">Diligence Isn‚Äôt a Strong Weapon</a></li>\n<li><a href=\"#build-intrinsic-motivation\">Build Intrinsic Motivation</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing thoughts</a></p>\n</li>\n</ul>","excerpt":"Lately, I‚Äôve been doing more mentoring ‚Äî reviewing r√©sum√©s, conducting mock interviews, and discussing growth strategies with developers who are relatively new to the profession. These conversations have been happening more and more frequently. As these experiences accumulated, I started noticing patterns in the struggles people face. Today, I want to talk about those patterns.","html":"<p>Lately, I‚Äôve been doing more mentoring ‚Äî reviewing r√©sum√©s, conducting mock interviews, and discussing growth strategies with developers who are relatively new to the profession. These conversations have been happening more and more frequently.</p>\n<p>As these experiences accumulated, I started noticing patterns in the struggles people face. Today, I want to talk about those patterns.</p>\n<!-- more -->\n<p>These patterns show up not just in mentoring but in actual interviews as well, so in a way, this post might serve as interview advice too. Of course, developers with some years under their belt probably have an intuitive sense of these things already, so I think this post will be most helpful for those in the entry-level to two-year-experience range.</p>\n<p>Going forward, I‚Äôll continue framing the discussion around the emotions and situations of this group. Since writing ‚Äúentry-level to two-year experience‚Äù every time would be tedious, I‚Äôll just call this segment ‚Äújuniors.‚Äù</p>\n<h2 id=\"effort-without-direction\" style=\"position:relative;\">Effort Without Direction<a href=\"#effort-without-direction\" aria-label=\"effort without direction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>One of the most common concerns I hear from junior developers during mentoring is: ‚ÄúI can‚Äôt figure out the right direction for my growth.‚Äù</p>\n<p>In my experience, people who join the <a href=\"https://lubycon.io\" target=\"_blank\" rel=\"nofollow\">Lubycon mentoring project</a> or request mentoring through other platforms tend to be people who are self-motivated and working hard.</p>\n<p>But because the direction of that effort isn‚Äôt clear, doubts like ‚ÄúAm I even on the right path‚Ä¶?‚Äù creep in, and they feel anxious despite putting in the work.</p>\n<p>To ease that anxiety and find stability, it‚Äôs very easy to channel effort toward a direction that feels safe ‚Äî meaning what lots of other people are doing. Common examples include daily commits (1 commit per day), writing TIL (Today I Learned) posts, and clone coding. In mentoring sessions and interviews, I see a remarkable number of junior developers engaging in these activities.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/39cecaa3a513c543dbe8543953b2ff61/07d7d/contributions.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42h2O21KCUABF+f8/qabppcnKptKki6WN2qQoGmDckcMBQVBzxfi2935YaytZkTP2ZvxmLvPYRAvmiEIS5YJxNEcLF0RZjJk6zGIDp/DRpYWd+7hlgC5MvoWOnhhsdiVKICJUp88g0rizn3nwXuiEfYZ1V4Mej8s3hr7GuBZdW21uww5PfpfRasqZ3eDUaNDyuvSTL6JKoCRlipb+sJBLLs17mo5aw6Z4acir+OTcuKHtvfPhjWhaKld2qwb2mEmTC7PJyeSSkdSOgnJfoVT7Lb6MCOQKJ/ZZCpckTY/35X5NUmakuzWiSlnvcuS23upc/G0QG4mbBQxWExa+xeFw4B9gECNpMFTS+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"contributions\" title=\"\" src=\"/static/39cecaa3a513c543dbe8543953b2ff61/6af66/contributions.png\" srcset=\"/static/39cecaa3a513c543dbe8543953b2ff61/69538/contributions.png 160w,\n/static/39cecaa3a513c543dbe8543953b2ff61/72799/contributions.png 320w,\n/static/39cecaa3a513c543dbe8543953b2ff61/6af66/contributions.png 640w,\n/static/39cecaa3a513c543dbe8543953b2ff61/d9199/contributions.png 960w,\n/static/39cecaa3a513c543dbe8543953b2ff61/21b4d/contributions.png 1280w,\n/static/39cecaa3a513c543dbe8543953b2ff61/07d7d/contributions.png 1478w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The contribution graph on a GitHub profile is data showing how active someone is in development-related activities.</small>\n</center>\n<p>Of course, doing <em>something</em> for your growth is a great attitude. But blindly jumping in because everyone else is doing it, or because a bootcamp told you it‚Äôs necessary for landing a job, may not be the best approach.</p>\n<p>If you‚Äôre just starting out, simply committing every day or writing down what you learned on a blog might generate some growth. That‚Äôs because at this stage, rapidly getting comfortable with coding directly translates to growth.</p>\n<p>But as you know, this phase passes fairly quickly. The more comfortable you get with coding, the more you encounter familiar things rather than new ones ‚Äî and from that point on, simply coding alone makes it increasingly difficult to improve or learn something new.</p>\n<p>Eventually, you start to feel that daily commits or TIL posts alone aren‚Äôt producing the same growth velocity they used to. And that‚Äôs when this question hits:</p>\n<blockquote>\n<p>What should I study next to go further? What kind of effort should I be making now?</p>\n</blockquote>\n<p>This is the state of putting in effort without a clear direction. You need to nail both the <em>volume</em> and the <em>direction</em> of your effort ‚Äî only then can you get maximum return on the same amount of investment.</p>\n<h2 id=\"thinking-about-the-cost-of-effort\" style=\"position:relative;\">Thinking About the Cost of Effort<a href=\"#thinking-about-the-cost-of-effort\" aria-label=\"thinking about the cost of effort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>People tend to think of the effort they put into achieving something as a kind of cost ‚Äî and it genuinely is. You‚Äôre investing your time and energy to create new value. That‚Äôs why we instinctively seek the most efficient form of effort ‚Äî the direction where minimal input yields maximum return.</p>\n<p>Unfortunately, there‚Äôs no predetermined shortcut in life. But you can gradually improve your effort‚Äôs efficiency by constantly asking yourself where the right direction might be. The method that maximizes efficiency differs from person to person, and the only way to find it is through your own reflection.</p>\n<p>The problem is that many people can‚Äôt afford the mental space for this kind of reflection. Someone who experienced rapid growth through daily commits or TIL tends to think ‚ÄúI‚Äôm not growing because I‚Äôm not trying hard enough‚Äù ‚Äî because of that past experience, or simply out of inertia.</p>\n<p>But as I mentioned, misdirected effort leads to lower efficiency, and lower efficiency means the value of what your effort produces decreases.</p>\n<p>For those who aren‚Äôt sure what ‚Äúthe value of your effort decreasing‚Äù means, I want to explain this from two perspectives: the market perspective and the perspective of continuous personal growth.</p>\n<h3 id=\"the-market-perspective\" style=\"position:relative;\">The Market Perspective<a href=\"#the-market-perspective\" aria-label=\"the market perspective permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>First, the place where the returns on your effort shine most brightly is the job market. And since the job market is literally a market, most of the principles we know about markets apply.</p>\n<p>The principle I want to discuss is ‚Äúinflation.‚Äù The basic definition of inflation is when something becomes so common in the market that its value drops. Usually we talk about the value of money dropping, but in the job market, think of it as the value of skills or credentials.</p>\n<p>The most classic example of this inflation is education. In the 1970s, having a college degree commanded respect and gave you a significant advantage in job hunting. But by the 2020s, with college enrollment rates approaching 79%, simply having a bachelor‚Äôs degree no longer carries much weight.</p>\n<p>In other words, the bachelor‚Äôs degree we spent 12 years earning ‚Äî from elementary school through college entrance exams ‚Äî has become something that most people in the job market possess. It‚Äôs become an ordinary commodity, and an ordinary commodity that everyone has is, by definition, one that has lost its value.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAVMlaZvHOGX/xAAZEAADAQEBAAAAAAAAAAAAAAAAAQITETH/2gAIAQEAAQUCUigXmlGtc0s//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAEDAQE/Aco//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAECAQE/AdK//8QAGBAAAgMAAAAAAAAAAAAAAAAAABABMnH/2gAIAQEABj8Ceq0n/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAUUHx/9oACAEBAAE/IVzhKz3u7ZRq5cRjZvob/9oADAMBAAIAAwAAABDTH//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQMBAT8QEan/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFB/9oACAECAQE/EDeL/8QAHBABAQADAAMBAAAAAAAAAAAAAREAIUFRYXHw/9oACAEBAAE/EB7Wh4MPhuTX4HAgJvocRvUKzX7uFKtsFkmiZYKuuvP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"graduate\" title=\"\" src=\"/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg\" srcset=\"/static/16a130e56cdf12fffd6fd91b275a887d/0913d/graduate.jpg 160w,\n/static/16a130e56cdf12fffd6fd91b275a887d/cb69c/graduate.jpg 320w,\n/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    As of 2021, the proportion of college graduates has grown compared to the past,<br>\n    and having a degree no longer signals that you're an exceptional talent.\n  </small>\n</center>\n<p>This is a fundamental market principle: when everyone has something, its value drops. And this principle applies to hiring as well. The job market is essentially a jungle of supply and demand where you have to compete against others to survive.</p>\n<p>To survive in this jungle, you need to demonstrate that you‚Äôre better at the job than others, that you have higher growth potential ‚Äî sending the message ‚Äúinvest in me and you won‚Äôt regret it‚Äù to companies, our consumers. That‚Äôs why people try so hard to graduate from good universities, earn certifications, and study abroad.</p>\n<p>The bottom line: you need to be a differentiated person, a desirable product in the job market. This is no different for developers ‚Äî the only difference is that the differentiation criteria focus on programming skills rather than credentials.</p>\n<p>But the problem is that many people don‚Äôt think deeply about whether a particular asset will serve as a weapon in the job market ‚Äî or whether it‚Äôs a weapon at all. They just think they need it because other people already have it. Much like our parents told us we absolutely must graduate college to make a living.</p>\n<p>Sure, having it is probably better than not having it. But relative to the 12 years of effort you invested, a bachelor‚Äôs degree probably doesn‚Äôt guarantee proportional value. This is especially true in the IT industry, which values ability over credentials.</p>\n<p>Similarly, activities like daily commits, TIL, and clone coding are already widely known. Bootcamps are even providing explicit guidance that these activities help with getting hired. When reviewing r√©sum√©s, I can definitely feel that far more people are doing these activities than before.</p>\n<p>In other words, these activities have become commodities that too many people possess. Simply having done them no longer makes a strong impression on an interviewer ‚Äî just like a bachelor‚Äôs degree.</p>\n<h3 id=\"the-perspective-of-continuous-personal-growth\" style=\"position:relative;\">The Perspective of Continuous Personal Growth<a href=\"#the-perspective-of-continuous-personal-growth\" aria-label=\"the perspective of continuous personal growth permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Second, as I mentioned, activities like daily commits, TIL, and clone coding only generate meaningful growth during the very earliest stages of learning to code. There are limits to what you can achieve by simply being exposed to coding frequently.</p>\n<p>Moreover, since these activities emphasize consistency, they can easily become mere habits. You end up just ‚Äúdoing them‚Äù without deeply considering what you‚Äôre learning from them or why you‚Äôre doing them in the first place.</p>\n<p>The reasons people fall into this habit vary ‚Äî inertia from having done it consistently, anxiety about falling behind if they stop ‚Äî but regardless of the reason, continuing to pour effort in without clear direction can never produce sustained growth.</p>\n<p>Worse, if you forget the original purpose of these activities and just repeat them mechanically, there‚Äôs a risk of becoming fixated on results over purpose ‚Äî making meaningless commits to fill the daily quota, or even faking commit timestamps. This is actually a recurring theme in many people‚Äôs retrospectives on daily commits.</p>\n<p>Ultimately, even if you have both the passion for growth and the energy to execute, if you can‚Äôt define a clear direction for yourself, your energy might end up invested in the wrong places.</p>\n<h2 id=\"so-what-should-i-do\" style=\"position:relative;\">So What Should I Do?<a href=\"#so-what-should-i-do\" aria-label=\"so what should i do permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Alright, so what should you actually do? Obviously, I can‚Äôt provide a one-size-fits-all answer with perfectly clear action items in a single blog post.</p>\n<p>But I can at least talk about things worth reflecting on ‚Äî things you should sit down and think about seriously.</p>\n<h3 id=\"beware-of-fixating-on-the-act-itself\" style=\"position:relative;\">Beware of Fixating on the Act Itself<a href=\"#beware-of-fixating-on-the-act-itself\" aria-label=\"beware of fixating on the act itself permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>What does it mean to fixate on the act itself? Let me use the popular activity of daily commits as an example.</p>\n<p>The act of ‚Äúone commit per day‚Äù means nothing more and nothing less than making at least one commit each day. If you focus on the act itself, when someone asks ‚ÄúWhy do you do daily commits?‚Äù, you can only answer with something like ‚ÄúBecause it‚Äôs important to do something consistently.‚Äù</p>\n<p>But as I discussed, once you‚Äôre past the very earliest stage of learning to code, mere consistency alone can‚Äôt produce sustained growth. If you‚Äôve reached this stage, it‚Äôs time to ask yourself:</p>\n<blockquote>\n<p>What is the essential value that daily commits create?</p>\n</blockquote>\n<p>The answer will differ for each person, but I believe the essential value of daily commits is closer to ‚Äúconsistently working on my own development projects without letting go.‚Äù</p>\n<p>In other words, the ‚Äúcommit‚Äù in ‚Äúdaily commit‚Äù doesn‚Äôt mean any random commit ‚Äî it means commits toward building your own side project, contributing to open source, and so on.</p>\n<p>As you know, a commit is ultimately part of the process of building something. But if you fixate on the act of committing itself, the goal of building something disappears into the distance, and only the ‚Äúcommit‚Äù remains.</p>\n<p>When you focus solely on the act itself, you fail to capture the real benefits these activities offer and end up wasting energy.</p>\n<h3 id=\"diligence-isnt-a-strong-weapon\" style=\"position:relative;\">Diligence Isn‚Äôt a Strong Weapon<a href=\"#diligence-isnt-a-strong-weapon\" aria-label=\"diligence isnt a strong weapon permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A few years ago, I had a casual conversation with someone who had graduated from a bootcamp. I heard something interesting: at their bootcamp, students were told that writing TIL posts on their blogs was necessary for getting hired.</p>\n<p>Of course, bootcamps are businesses, not charities, so they need to maximize results with minimal resources. Providing customized education for every individual is prohibitively expensive, which is why they end up creating standardized curricula and funneling people through them. <em>(Most of the education industry works this way, honestly.)</em></p>\n<p>So I asked:</p>\n<blockquote>\n<p>‚ÄúWhy does writing TIL posts on your blog help with getting hired?‚Äù</p>\n</blockquote>\n<p>I asked because I believe hiring involves an enormous number of variables ‚Äî company size, current business conditions, the talent pool in the market, existing team members‚Äô capacity ‚Äî and I wasn‚Äôt convinced that any specific activity would universally help with employment.</p>\n<p>The answer I got was: ‚ÄúIsn‚Äôt it data that shows diligence?‚Äù</p>\n<p>Honestly, learning something new every single day and writing about it on a blog is no small feat. How can anyone possibly learn something new every single day?</p>\n<p>Of course, a developer who just started coding might encounter new knowledge daily. But the more comfortable you get with coding, the less that happens. You <em>can</em> sustain this pattern by actively seeking out new knowledge, but it takes considerable effort.</p>\n<p>And if the result of all that effort is merely to demonstrate ‚Äúdiligence‚Äù ‚Äî well, personally, I don‚Äôt think that‚Äôs a good trade.</p>\n<blockquote>\n<p>Because <strong>companies don‚Äôt hire people based on diligence alone.</strong></p>\n</blockquote>\n<p>Companies exist to generate profit. So naturally, when they hire, they want people who will earn back more than what‚Äôs invested in them. Diligence might be one criterion for evaluating such people, but it‚Äôs not a critical factor. If someone is a bit lazier than average but does great work, helps the team grow, and generates revenue ‚Äî that‚Äôs fine.</p>\n<p>On top of that, as I mentioned, TIL is already a widely recommended activity across multiple bootcamps, and many junior developers are doing it. Inflation has already arrived ‚Äî simply having done it consistently is no longer that attractive in the job market.</p>\n<p>So if you want TIL to be your weapon, you need something beyond mere consistency and diligence ‚Äî something that differentiates you. For instance, diving deep into areas most people don‚Äôt study, or showing an extraordinary five-year streak of TIL posts without missing a single day.</p>\n<p>To create these differentiating factors, you need to think about what value TIL truly provides.</p>\n<p>TIL isn‚Äôt something you do to get hired. It‚Äôs an archive where you observe, learn, and record things to hand off to your future self. Yet many people write TIL posts as little more than rough, unorganized notes. And with notes that disorganized, revisiting them a year or two later for review won‚Äôt be easy.</p>\n<p>This is a textbook example of using a good tool in a bad way. If you‚Äôve been doing TIL or daily commits for the sake of employment, it‚Äôs time to reflect on what value you can genuinely extract from these activities and how that value can fuel your growth.</p>\n<p>Nobody else will do this thinking for you, and no one will teach you the answer. It certainly won‚Äôt come quickly, but I recommend practicing ‚Äî even just a little each day ‚Äî the habit of questioning whether what you‚Äôre currently doing truly has meaning.</p>\n<h3 id=\"build-intrinsic-motivation\" style=\"position:relative;\">Build Intrinsic Motivation<a href=\"#build-intrinsic-motivation\" aria-label=\"build intrinsic motivation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The last thing I want to talk about is building intrinsic motivation. This connects to the earlier discussion about ‚Äúactivities done for the sake of getting hired or changing jobs‚Äù ‚Äî because landing a job or making a career move is the quintessential example of external motivation.</p>\n<p>Imagine you‚Äôve been diligently doing daily commits or TIL to get hired.</p>\n<p>The developer market currently has more demand than supply, and company founders are always asking ‚ÄúKnow any good developers?‚Äù ‚Äî so you‚Äôll probably land a job eventually. <em>(Everyone feels anxious during the process, but people tend to land jobs more easily than they expect.)</em></p>\n<p>OK, so you‚Äôve achieved your goal. Should you keep doing daily commits or TIL?</p>\n<p>Maybe inertia carries you for a while. But once you start adapting to new people, new code, and a new environment at your job, it‚Äôs easy to stop ‚Äî because you‚Äôre tired, or because adapting to the job takes priority over personal development.</p>\n<p>The reason you stop might not actually matter that much. Because the moment you achieved your goal of getting hired, the very motivation to continue these labor-intensive, diligence-demanding activities simply vanished.</p>\n<p>This is the fundamental problem with external motivation. Behavior driven by external motivation is easily abandoned the moment the source of that motivation disappears.</p>\n<p>That‚Äôs why motivation should stem from intrinsic sources ‚Äî like growth and genuine interest ‚Äî rather than external conditions like employment or job changes.</p>\n<p>Intrinsic motivation can also collapse due to internal factors like burnout, but at least it‚Äôs far more robust than motivation that evaporates the instant you hit your target.</p>\n<p>Even if you‚Äôve never deeply considered external versus intrinsic motivation, everyone instinctively knows which one is more robust.</p>\n<p>If you were an interviewer and asked ‚ÄúWhy do you write TIL?‚Äù, would you trust the person who says ‚ÄúTo get hired‚Äù more, or the person who says ‚ÄúBecause I enjoy developing‚Äù or ‚ÄúBecause it helps me grow‚Äù?</p>\n<p>The first answer naturally provokes the thought: ‚ÄúSo they‚Äôll stop once they‚Äôre hired?‚Äù And that reaction is exactly the risk that external motivation creates.</p>\n<p>Of course, most people nod in agreement when I explain it with examples like this. But the truth is, we‚Äôre all very accustomed to lives driven by external motivation ‚Äî and even I, the one writing this, find myself increasingly dependent on the external motivation of money as I get older. <del><em>(Housing prices are absolutely maddening‚Ä¶)</em></del></p>\n<p>Ultimately, what I want to say in this post isn‚Äôt that you should eliminate external motivation entirely. That‚Äôs impossible, and sometimes external motivation can create even greater momentum. But I do think it‚Äôs worth reflecting at least once on whether the motivation you‚Äôre currently depending on is sustainable going forward, and whether it truly helps your growth.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This might sound somewhat idealistic. After all, if you‚Äôre in an urgent, desperate situation where you need a job right now, it‚Äôs hard to find the headspace for this kind of reflection.</p>\n<p>But everything I‚Äôve discussed in this post will absolutely help your job search and career moves. Your real enemy is the anxiety whispering inside you: ‚ÄúEveryone else is working hard while I‚Äôm wasting time on these thoughts‚Äù or ‚ÄúI don‚Äôt have time to think ‚Äî I just need to do something.‚Äù</p>\n<p>Developers with relatively little experience often don‚Äôt have many weapons to showcase in the job market. So to put their best foot forward in interviews, they focus on fundamentals like algorithm problems and language comprehension, or on immediately actionable activities like daily commits.</p>\n<p>Studying fundamentals is indeed essential ‚Äî you could call it a developer‚Äôs basic literacy. And activities like daily commits or TIL can help you demonstrate qualities like diligence. But what matters is that interviewers ultimately aren‚Äôt looking for someone who‚Äôs merely knowledgeable in theory or just diligent ‚Äî they‚Äôre looking for someone who can ‚Äúget things done, whatever it takes.‚Äù</p>\n<p>In other words, you need a strategy to stand out as a compelling talent in the job market. And crafting that strategy requires ‚Äúeffort with a clear direction.‚Äù</p>\n<p>Before starting anything, try visualizing what you want from this effort and who you want to become. Establish your direction, then execute. If you keep practicing this, I believe you‚Äôll eventually develop your own know-how and strategy to showcase what makes you special in the market.</p>\n<p>This concludes my post: How to Find Your Own Color ‚Äî Setting a Direction for Growth.</p>","fields":{"slug":"20210910-developer-direction-of-effort-en","path":"/2021/09/10/developer-direction-of-effort/en/","lang":"en"},"frontmatter":{"title":"How to Find Your Own Color ‚Äì Setting a Direction for Growth","subTitle":"Developer growth isn't about consistency: it's about direction and differentiation","date":"Sep 10, 2021","categories":["Essay"],"tags":["Developer","Interview","Hiring","Developer Study","Daily Commit","TIL","Clone Coding"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ee5062e1a1df98afe98d15537f8d4da0/3a812/thumbnail.jpg","srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/3a812/thumbnail.jpg 320w,\n/static/ee5062e1a1df98afe98d15537f8d4da0/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/fc5c5/thumbnail.webp 320w,\n/static/ee5062e1a1df98afe98d15537f8d4da0/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ee5062e1a1df98afe98d15537f8d4da0/2d839/thumbnail.jpg","srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"b8c0fce5-c264-5bb7-81bd-95e0d9f8975e","tableOfContents":"<ul>\n<li>\n<p><a href=\"#allowumdglobalaccess\">allowUmdGlobalAccess</a></p>\n</li>\n<li>\n<p><a href=\"#baseurl\">baseUrl</a></p>\n</li>\n<li>\n<p><a href=\"#paths\">paths</a></p>\n</li>\n<li>\n<p><a href=\"#module\">module</a></p>\n<ul>\n<li><a href=\"#commonjs\">CommonJS</a></li>\n<li><a href=\"#amd\">AMD</a></li>\n<li><a href=\"#umd\">UMD</a></li>\n<li><a href=\"#system\">System</a></li>\n<li><a href=\"#es-module\">ES Module</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#moduleresolution\">moduleResolution</a></p>\n<ul>\n<li><a href=\"#classic\">Classic</a></li>\n<li><a href=\"#node\">Node</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#noresolve\">noResolve</a></p>\n</li>\n<li>\n<p><a href=\"#resolvejsonmodule\">resolveJsonModule</a></p>\n</li>\n<li>\n<p><a href=\"#rootdir\">rootDir</a></p>\n</li>\n<li>\n<p><a href=\"#rootdirs\">rootDirs</a></p>\n</li>\n<li>\n<p><a href=\"#typeroots\">typeRoots</a></p>\n</li>\n<li>\n<p><a href=\"#types\">types</a></p>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Following up on my previous post [Everything About tsconfig] Compiler options / Type Checking, this post covers the module-related options in tsconfig‚Äôs compiler settings.","html":"<p>Following up on my previous post <a href=\"/20210808-tsconfig-compiler-options-type-check\">[Everything About tsconfig] Compiler options / Type Checking</a>, this post covers the module-related options in tsconfig‚Äôs compiler settings.</p>\n<!-- more -->\n<p>These options control which module system TypeScript should follow when compiling modules, which paths to include in compilation, what module format the compiled JavaScript should use, and so on. They come up more often when building TypeScript libraries than when building typical applications.</p>\n<h2 id=\"allowumdglobalaccess\" style=\"position:relative;\">allowUmdGlobalAccess<a href=\"#allowumdglobalaccess\" aria-label=\"allowumdglobalaccess permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Allows access to UMD modules</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Disallows access to UMD modules</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">allowUmdGlobalAccess</code> option controls whether TypeScript modules can access UMD (Universal Module Definition) modules that expose themselves as properties on the global object.</p>\n<p>When this option is disabled, you cannot access global variables like jQuery‚Äôs <code class=\"language-text\">$</code> directly; you must import the module using an <code class=\"language-text\">import</code> statement.</p>\n<p>Libraries built using the UMD pattern typically have type declarations that look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">doThing1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> version<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AnInterface</span> <span class=\"token punctuation\">{</span>\n  foo<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">namespace</span> myLibrary<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>When a type file exports a namespace this way, TypeScript assumes the module is implicitly assigned to a global variable named <code class=\"language-text\">myLibrary</code>. That‚Äôs why including this type declaration in your source lets you access the module‚Äôs contents through the <code class=\"language-text\">myLibrary</code> namespace.</p>\n<p>If <code class=\"language-text\">allowUmdGlobalAccess</code> is disabled, you‚Äôll encounter this error:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> myLibrary<span class=\"token punctuation\">.</span><span class=\"token function\">doThing1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 'myLibrary' refers to a UMD global, but the current file is a module. Consider adding an import instead.ts(2686)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Enabling <code class=\"language-text\">allowUmdGlobalAccess</code> allows access to UMD modules exported as namespaces. However, explicitly importing modules with the <code class=\"language-text\">import</code> keyword is safer than relying on modules implicitly declared in the global scope. Unless you have no choice, it‚Äôs better to keep this option enabled.</p>\n<h2 id=\"baseurl\" style=\"position:relative;\">baseUrl<a href=\"#baseurl\" aria-label=\"baseurl permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The <code class=\"language-text\">baseUrl</code> option specifies the base directory for resolving relative module paths.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n‚îú‚îÄ‚îÄ index.ts\n‚îú‚îÄ‚îÄ utils\n‚îÇ   ‚îî‚îÄ‚îÄ foo.ts\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>For instance, in the structure above, to import the <code class=\"language-text\">foo.ts</code> module from <code class=\"language-text\">index.ts</code> using a relative path, you‚Äôd write <code class=\"language-text\">./utils/foo</code> ‚Äî where <code class=\"language-text\">./</code> marks the current location as the starting point.</p>\n<p>But if you think about it, even when using relative paths, the base location itself doesn‚Äôt change that often.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n‚îú‚îÄ‚îÄ index.ts\n‚îú‚îÄ‚îÄ utils\n‚îÇ   ‚îî‚îÄ‚îÄ foo.ts\n‚îú‚îÄ‚îÄ remotes\n‚îÇ   ‚îî‚îÄ‚îÄ bar.ts\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If a module in <code class=\"language-text\">remotes/bar</code> wants to access the <code class=\"language-text\">utils/foo</code> module in this structure, it would use <code class=\"language-text\">../utils/foo</code> ‚Äî climbing up to the project root and then descending again.</p>\n<p>The <code class=\"language-text\">baseUrl</code> option eliminates this repetitive ‚Äújourney to root‚Äù whenever you use relative paths.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The relative path in <code class=\"language-text\">baseUrl</code> is relative to where <code class=\"language-text\">tsconfig</code> is located ‚Äî typically the project root. With this configuration, when you use relative paths to access modules, TypeScript searches starting from the root specified in <code class=\"language-text\">baseUrl</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> foo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'utils/foo'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Actually .(root)/utils/foo</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> bar <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'remotes/bar'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Actually .(root)/remotes/bar</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Using <code class=\"language-text\">baseUrl</code> this way lets you write relative paths as if they were absolute, without repeatedly navigating to the root with <code class=\"language-text\">./</code> or <code class=\"language-text\">../</code>.</p>\n<h2 id=\"paths\" style=\"position:relative;\">paths<a href=\"#paths\" aria-label=\"paths permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The <code class=\"language-text\">paths</code> option provides a mapping that tells the compiler where to search when you specify certain module names.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"paths\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"app/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"app/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"config/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"app/_config/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"environment/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"environments/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"shared/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"app/_shared/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"helpers/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"helpers/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"tests/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"tests/*\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Paths in the mapping are calculated relative to <code class=\"language-text\">baseUrl</code>, so you must set <code class=\"language-text\">baseUrl</code> to use the <code class=\"language-text\">paths</code> option. In the example above, <code class=\"language-text\">app/*</code> means <code class=\"language-text\">./src/app/*</code>, and when you import with <code class=\"language-text\">import foo from 'app/math'</code>, TypeScript automatically searches the corresponding path <code class=\"language-text\">./src/app/math</code> and loads the module.</p>\n<p>If TypeScript can‚Äôt find the module after searching all locations in <code class=\"language-text\">paths</code>, it performs additional searching according to the strategy set in <code class=\"language-text\">moduleResolution</code>.</p>\n<p>Path mapping itself is quite simple, but people often forget that path mapping always starts relative to <code class=\"language-text\">baseUrl</code>, leading to mistakes.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n‚îú‚îÄ‚îÄ src\n‚îÇ   ‚îî‚îÄ‚îÄ index.ts\n‚îú‚îÄ‚îÄ node_modules\n‚îÇ   ‚îî‚îÄ‚îÄ foo\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Consider a project with this structure where <code class=\"language-text\">baseUrl</code> is set to <code class=\"language-text\">./src</code>. How would you map the <code class=\"language-text\">foo</code> path to <code class=\"language-text\">node_modules/foo</code>?</p>\n<p>A common mistake is setting <code class=\"language-text\">\"foo\": \"./node_modules/foo\"</code> based on the location of <code class=\"language-text\">tsconfig.json</code>. Since you‚Äôre working in <code class=\"language-text\">tsconfig.json</code>, it‚Äôs natural to specify paths relative to that file without thinking.</p>\n<p>But path mapping is relative to <code class=\"language-text\">baseUrl</code>, so in this case <code class=\"language-text\">src</code> is the reference point. You‚Äôd need to write <code class=\"language-text\">\"foo\": \"../node_modules/foo\"</code>.</p>\n<p>It‚Äôs easy to forget this and map paths relative to <code class=\"language-text\">tsconfig.json</code>‚Äôs location, then fail to resolve modules. Keep this in mind.</p>\n<h2 id=\"module\" style=\"position:relative;\">module<a href=\"#module\" aria-label=\"module permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">CommonJS</code> (default)</td>\n<td>Compiles modules to CommonJS format.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">AMD</code></td>\n<td>Compiles modules to Asynchronous Module Definition format.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">UMD</code></td>\n<td>Compiles modules using the Universal Module Definition design pattern.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">System</code></td>\n<td>Compiles modules to System.js format.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">ES6</code>, <code class=\"language-text\">ES2015</code>, <code class=\"language-text\">ES2020</code>, <code class=\"language-text\">ESNext</code></td>\n<td>Compiles modules to ESM (ES Module) format.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">module</code> option sets which module system the compiled JavaScript modules will use.</p>\n<p>Of course, the official module system specified by ECMAScript is ESM using <code class=\"language-text\">import</code> and <code class=\"language-text\">export</code> keywords, but realistically, not many browsers support this system yet. And while Node.js added support for ESM without the <code class=\"language-text\">--experimental-modules</code> flag in version 12.0.0, the ESM system isn‚Äôt widespread across the entire ecosystem. <small>(Node.js still heavily uses CommonJS)</small></p>\n<p>For these reasons, it‚Äôs not practically feasible to compile all our modules to ESM. We need to be able to choose an appropriate module system for the situation.</p>\n<p>This post won‚Äôt cover everything about JavaScript module systems, but let‚Äôs briefly look at the characteristics of each. Imagine a simple application with two modules:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// utils/math.ts</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">index.ts</code> module imports the <code class=\"language-text\">add</code> function from <code class=\"language-text\">utils/math.ts</code>, uses currying to create <code class=\"language-text\">add2</code>, and exports it. Let‚Äôs see how <code class=\"language-text\">index.ts</code> changes when compiled with each module system and what each system‚Äôs characteristics are.</p>\n<h3 id=\"commonjs\" style=\"position:relative;\">CommonJS<a href=\"#commonjs\" aria-label=\"commonjs permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> math_1 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> math_1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">CommonJS</code>, true to its ‚ÄúCommon‚Äù name, represents a module system designed for using JavaScript modules freely not just in browsers but also in server environments and desktop applications.</p>\n<p>For this reason, server-side runtimes like Node.js still commonly use the CommonJS system, so if you‚Äôre building a library for server-side use, you should consider using CommonJS.</p>\n<p>CommonJS assigns modules to properties of the <code class=\"language-text\">exports</code> or <code class=\"language-text\">module.exports</code> object and synchronously loads modules directly using the global <code class=\"language-text\">require</code> function. In the example above, you can see the module being assigned to the <code class=\"language-text\">math_1</code> variable through the <code class=\"language-text\">require</code> function, and the <code class=\"language-text\">add2</code> function being assigned to the <code class=\"language-text\">exports.add2</code> property.</p>\n<p>Because the <code class=\"language-text\">require</code> function loads modules synchronously when executed, CommonJS even allows tricks like ‚Äúif this, load module A; if that, load module B‚Äù using <code class=\"language-text\">if</code> statements.</p>\n<h3 id=\"amd\" style=\"position:relative;\">AMD<a href=\"#amd\" aria-label=\"amd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"require\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exports\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> math_1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> math_1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">AMD (Asynchronous Module Definition)</code>, as its name suggests, is a module system that loads modules asynchronously.</p>\n<p>The original CommonJS was designed assuming synchronous module loading, which sparked active discussions about implementing asynchronous module loading. During these discussions, some people who didn‚Äôt agree with CommonJS‚Äôs core principle of ‚ÄúJavaScript modules that work in every environment‚Äù emerged, and they split off to form the AMD group.</p>\n<p>Browser environments are inherently different from servers: modules need to be fetched from a server to be used. So it‚Äôs more efficient to asynchronously fetch only the needed parts of modules from the server rather than loading all necessary modules at once and executing them. But for the CommonJS group aiming for ‚ÄúJavaScript modules that work in every environment,‚Äù unifying these environmental differences was challenging.</p>\n<p>This led people with the mindset ‚Äúlet‚Äôs at least get browsers right‚Äù to split off and create AMD, which is why AMD focuses specifically on asynchronous module calls in browsers. <small>(CommonJS did later add asynchronous module loading separately)</small></p>\n<p>Since AMD ultimately split from CommonJS, the two systems provide many compatible features, allowing techniques like wrapping existing CommonJS modules in AMD format.</p>\n<p>In the example above, you can see AMD‚Äôs <code class=\"language-text\">define</code> function pulling in CommonJS‚Äôs <code class=\"language-text\">require</code> and <code class=\"language-text\">export</code> functions. The internal structure is basically similar to CommonJS, but the key difference is that instead of loading modules via <code class=\"language-text\">require</code>, modules are injected through the third argument <code class=\"language-text\">math_1</code> of the <code class=\"language-text\">define</code> function.</p>\n<h3 id=\"umd\" style=\"position:relative;\">UMD<a href=\"#umd\" aria-label=\"umd permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">factory</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> module <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> v <span class=\"token operator\">=</span> <span class=\"token function\">factory</span><span class=\"token punctuation\">(</span>require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> define <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">&amp;&amp;</span> define<span class=\"token punctuation\">.</span>amd<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"require\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exports\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> math_1 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    exports<span class=\"token punctuation\">.</span>add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> math_1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">UMD (Universal Module Definition)</code> is less a module system and more a design pattern for creating something that can be used universally across various environments.</p>\n<p>Because UMD is a pattern, unlike AMD or CommonJS which typically use libraries like <code class=\"language-text\">RequireJS</code>, developers must write code using the UMD pattern themselves. Simply put, as shown in the example, using an IIFE (Immediately Invoked Function Expression) to branch directly in your source code is the UMD pattern.</p>\n<p>The example shows that if <code class=\"language-text\">module</code> and <code class=\"language-text\">module.exports</code> exist, it uses the CommonJS system; if the <code class=\"language-text\">define</code> function exists, it uses AMD. This way, the UMD pattern can provide a consistent experience regardless of which module system the environment uses.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/9a3cbcb2d8922dd1e01e855b408e4af4/22475/all_taken.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC10lEQVR42k2SSU9TURiGK1opBUpRFBREoy5ETYhKjDGaOEaN08aoCyMhaqIGB9hoxAEBK8YBp1Kwg9iR3tKWFluo4oSgSAMBozaGpYk7/QuP361GXTy55yb3Puf93nM0RX1PKertSTMnHmGWuk7EWNgbYGHMx/xoiNJwmBKhKNhFcTDMXCWEwauQ7e4UfGS7fpMjaAp7/xPGIqzzPqLYaqY8YWNt4iHL4iHKYrJBNMKSaJSybnmGujG6veg8frK9gtP7TzgjHKRAUsyJRyno66HM5+S4uZVLE5/Y9WaAc2NjVI+McHBgkKvjHzk9PELlwHvKXWZKLS3k2DrQq0ldIpVNNAa/n/xQF4VPu5mtCu+1UHfxIq9SXzieTOKanKR+fILDQ+/o//ady6Pj7In3s995h/VnjpDf1IxeCUpKz29hbqcfY0BhpiQtjIbZbGqgreEUV/pitHydpGpwiCqRbU8849S7Qfa9eEW5v4u5dVeYd7IanekW+j8d/hXmSso8RaFASi/pDqOLRDg2/IHUj5/cSn2lJt7HI1sblf2d7I4naJTvNjQ2sfxsLfuvNlDicJKZ7tGNJsfnR0UVGoNB8oIhpvuV9Ijmzyk2979ksRR/2mGn1uOlSrqskfWh2lq2XL/BxkAAvQj1HZ50j2lhrioUSZ4/gFFQT+/E0DAXkmPc/ZTi6NAHHKMTWOS9ZjjJoZ4Y8x62UnLvAfntdrQOd1qoIoeioI6dJ2MbJIlBZDrpY+fzl+ztfcbWrgCbFB/1g28wJUc58vY9B1+8Zqb8o3W6ybI/IcvmQmd3keVwibBTkgk6KTRDZFphmtNHxhMP2sduFjWZONBQx47GenaamimSRBkeH9oOJ1Otj5ki12a63Y1BUuaLXKOmyhTJOhHubjez0uZgjd3KUquDBdZ2tl2uZk3zTVbcvsPq89eouN/GKpudJa0WKtpaqbC0Y7TYKJW7WGzr4BekrCjuRnfpjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"all taken\" title=\"\" src=\"/static/9a3cbcb2d8922dd1e01e855b408e4af4/6af66/all_taken.png\" srcset=\"/static/9a3cbcb2d8922dd1e01e855b408e4af4/69538/all_taken.png 160w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/72799/all_taken.png 320w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/6af66/all_taken.png 640w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/d9199/all_taken.png 960w,\n/static/9a3cbcb2d8922dd1e01e855b408e4af4/22475/all_taken.png 1039w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>UMD === I didn't know what you'd like, so I prepared every module system</small>\n</center>\n<p>Additionally, if an environment supports neither CommonJS nor AMD, there‚Äôs a last-resort UMD pattern approach: inserting the module as a property of global objects like <code class=\"language-text\">globalThis</code>, <code class=\"language-text\">window</code>, or <code class=\"language-text\">global</code>.</p>\n<p>However, this pollutes the global scope and should be avoided when possible. And since it‚Äôs rare for modern JavaScript runtime environments to be forced into situations where no module system is supported, TypeScript doesn‚Äôt appear to use this approach.</p>\n<h3 id=\"system\" style=\"position:relative;\">System<a href=\"#system\" aria-label=\"system permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">System<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./utils/math\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">exports_1<span class=\"token punctuation\">,</span> context_1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> math_1<span class=\"token punctuation\">,</span> add2<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> __moduleName <span class=\"token operator\">=</span> context_1 <span class=\"token operator\">&amp;&amp;</span> context_1<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">setters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">math_1_1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                math_1 <span class=\"token operator\">=</span> math_1_1<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">execute</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">exports_1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"add2\"</span><span class=\"token punctuation\">,</span> add2 <span class=\"token operator\">=</span> math_1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If the UMD pattern is ‚ÄúI didn‚Äôt know what you‚Äôd like, so I prepared everything‚Äù in design pattern form, <code class=\"language-text\">SystemJS</code> is that concept implemented as a library. <small>(Even more ambitious)</small></p>\n<p>SystemJS is a module loader, so it doesn‚Äôt concern itself with how modules are defined ‚Äî it just loads modules already defined in CommonJS, AMD, or ESM formats.</p>\n<p>SystemJS was quite popular around 2016 when the ECMA Foundation announced ESM using <code class=\"language-text\">import</code> and <code class=\"language-text\">export</code> keywords as the official ES6 module spec, because browsers at the time didn‚Äôt support this spec.</p>\n<p>The official spec for modules had been decided, but browser vendors were slow to implement it. You couldn‚Äôt use ESM even if you wanted to. SystemJS bridged this gap. It was implemented using the <a href=\"https://github.com/ModuleLoader/es-module-loader\" target=\"_blank\" rel=\"nofollow\">es-module-loader</a> polyfill to load ESM-format modules.</p>\n<p>This raises a question: ‚ÄúEven if you load modules that browsers don‚Äôt support, you can‚Äôt execute them without transpilation. How does SystemJS solve this?‚Äù The answer was surprisingly close at hand.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/934e6cd11f70c175f5171121f4db2f65/47311/cool.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB56Spyjs0/wD/xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADEUL/2gAIAQEAAQUCjrIGbBb8VHJOuf/EABgRAAIDAAAAAAAAAAAAAAAAAAABESEx/9oACAEDAQE/AVTk0//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/AYf/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIRITH/2gAIAQEABj8Ct2YOiCHrOn//xAAYEAADAQEAAAAAAAAAAAAAAAABESEAMf/aAAgBAQABPyGnEOXAlvy4sBMDcyKrzDMHBp5B5//aAAwDAQACAAMAAAAQj/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEhMf/aAAgBAwEBPxC4NaP/xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAECAQE/EKUMh//EAB0QAQEAAgEFAAAAAAAAAAAAABEBACExUWFxgZH/2gAIAQEAAT8QEYDaY9sW2mi1n25ZldIzxkYiAAnnD+oHA9cvhnpz/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cool\" title=\"\" src=\"/static/934e6cd11f70c175f5171121f4db2f65/c08c5/cool.jpg\" srcset=\"/static/934e6cd11f70c175f5171121f4db2f65/0913d/cool.jpg 160w,\n/static/934e6cd11f70c175f5171121f4db2f65/cb69c/cool.jpg 320w,\n/static/934e6cd11f70c175f5171121f4db2f65/c08c5/cool.jpg 640w,\n/static/934e6cd11f70c175f5171121f4db2f65/6a068/cool.jpg 960w,\n/static/934e6cd11f70c175f5171121f4db2f65/47311/cool.jpg 1080w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>I don't really get complex stuff ‚Äî just import babel and run transpilation at runtime</small>\n</center>\n<p>Exactly. Using this method, it doesn‚Äôt matter if the target module uses ES2020 or TypeScript, or if its module system is CommonJS or AMD. Of course, this isn‚Äôt a built-in SystemJS feature ‚Äî you need the <a href=\"https://github.com/systemjs/systemjs-babel\" target=\"_blank\" rel=\"nofollow\">systemjs-babel</a> extension ‚Äî but the solution approach itself is impressively bold.</p>\n<p>However, transpiling modules at runtime isn‚Äôt just about transpilation: you also need to determine module dependencies, and if you‚Äôre using TypeScript, you need to compile after static type checking. Naturally, performing these heavy operations at runtime instead of build time hurts performance.</p>\n<p>In 2021, as everyone knows, these heavy operations can be done entirely at build time with no issues, so SystemJS is rarely used unless there‚Äôs a special situation.</p>\n<h3 id=\"es-module\" style=\"position:relative;\">ES Module<a href=\"#es-module\" aria-label=\"es module permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">var</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">ESM (ES Module)</code> is the module system officially defined by the ECMA Foundation for the JavaScript ecosystem.</p>\n<p>That‚Äôs why, unlike CommonJS or AMD which rely on separate functions like <code class=\"language-text\">require</code> or <code class=\"language-text\">define</code> to load modules, ESM uses the <code class=\"language-text\">import</code> and <code class=\"language-text\">export</code> keywords to load modules.</p>\n<p>ESM, which appeared in 2015, was a latecomer compared to CommonJS and AMD which had been in use since 2009. It also introduced many changes like mandatory inclusion of the <code class=\"language-text\">use strict</code> directive in modules and <code class=\"language-text\">this</code> not pointing to the global <code class=\"language-text\">window</code> object.</p>\n<p>These constraints meant applications using CommonJS or AMD couldn‚Äôt easily migrate, and that situation continues today.</p>\n<p>That‚Äôs why even now, to use ESM in native JavaScript environments, you need to add the <code class=\"language-text\">type=\"module\"</code> attribute to <code class=\"language-text\">script</code> tags or add a <code class=\"language-text\">\"type\": \"module\"</code> field to <code class=\"language-text\">package.json</code>.</p>\n<p>Of course, many vendors now support ESM compared to before, but to safely use ESM, you still need to combine bundlers like Webpack and transpilers like Babel to determine module dependencies at build time and convert them to a form the runtime can understand. Depending on the runtime environment, this can make ESM a cumbersome format to use ‚Äî something to keep in mind.</p>\n<p>However, ESM has one advantage that overshadows all these drawbacks: tree-shaking is much easier when bundling modules with Webpack.</p>\n<p>Webpack‚Äôs <a href=\"https://webpack.js.org/plugins/module-concatenation-plugin/\" target=\"_blank\" rel=\"nofollow\">ModuleConcatenationPlugin</a> merges modules into a single closure to achieve better performance in browser environments. The choice between CommonJS and ESM significantly affects the output.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// CommonJS</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* harmony import */</span> <span class=\"token keyword\">var</span> _utils__WEBPACK_IMPORTED_MODULE_0__ <span class=\"token operator\">=</span> <span class=\"token function\">__webpack_require__</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>_utils__WEBPACK_IMPORTED_MODULE_0__<span class=\"token comment\">/* .add */</span> <span class=\"token punctuation\">.</span><span class=\"token constant\">DG</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>When bundled with Webpack, CommonJS modules are loaded through a <code class=\"language-text\">__webpack_require__</code> function. The problem is this doesn‚Äôt just load the <code class=\"language-text\">add</code> function inside the module ‚Äî it loads the entire module.</p>\n<p>The next line <code class=\"language-text\">(0,_utils__WEBPACK_IMPORTED_MODULE_0__/* .add */ .DG)</code> shows access to the <code class=\"language-text\">DG</code> property of the loaded module, which is the obfuscated name of the <code class=\"language-text\">add</code> function.</p>\n<p>Since CommonJS assigns values to properties of the global <code class=\"language-text\">exports</code> object, it‚Äôs hard to determine ‚Äúthis module only uses function A.‚Äù</p>\n<p>But ESM modules can export each desired value separately using the <code class=\"language-text\">export</code> keyword, making it much easier to determine detailed dependencies.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// ESM</span>\n\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// webpackBootstrap</span>\n<span class=\"token comment\">/******/</span>    <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// CONCATENATED MODULE: ./utils/math.js**</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// CONCATENATED MODULE: ./index.js**</span>\n<span class=\"token keyword\">var</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Looking at an ESM module bundled with Webpack, there‚Äôs no module-loading code at all ‚Äî the function from inside the module was even inlined.</p>\n<p>Of course, the <code class=\"language-text\">add</code> function I imported is very small, which allows this representation. But the key point is that only that ‚Äúspecific function‚Äù from inside the module was imported.</p>\n<p>As mentioned, ESM makes detailed dependency tracking easy through <code class=\"language-text\">import</code> and <code class=\"language-text\">export</code> keywords, enabling efficient separation of used and unused code at build time.</p>\n<p>Because of this powerful tree-shaking advantage, most popular libraries <del>except Lodash</del> officially support ESM.</p>\n<h2 id=\"moduleresolution\" style=\"position:relative;\">moduleResolution<a href=\"#moduleresolution\" aria-label=\"moduleresolution permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">Node</code></td>\n<td>Uses Node strategy to resolve modules. Default when <code class=\"language-text\">module</code> option is CommonJS.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">Classic</code></td>\n<td>Uses Classic strategy to resolve modules. Default when <code class=\"language-text\">module</code> option is not CommonJS.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">moduleResolution</code> option handles the process TypeScript uses to determine exactly what a module import refers to. This is too difficult to explain in words, so let‚Äôs look at code.</p>\n<p>First, TypeScript uses two main methods for defining module paths: relative and absolute.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Relative path</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> debounce <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Absolute path</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Relative paths use identifiers like <code class=\"language-text\">.</code> (current location) or <code class=\"language-text\">..</code> (parent directory) to specify a starting point, allowing precise indication of module location. Absolute paths, on the other hand, just specify the module name, so TypeScript needs to embark on a journey to find the exact module location based on specific rules.</p>\n<p>Also, since neither relative nor absolute paths specify file extensions, TypeScript needs to figure out which extension the file has ‚Äî <code class=\"language-text\">math.ts</code>, <code class=\"language-text\">math.d.ts</code>, etc.</p>\n<p>That‚Äôs why TypeScript needs a strategy for finding exact module locations. The <code class=\"language-text\">moduleResolution</code> option lets you choose between Classic and Node strategies.</p>\n<p>Both strategies follow basically similar methods for finding module locations.</p>\n<p>When finding modules using relative paths like <code class=\"language-text\">import { add } from './math'</code>, the directory to search is clear, so it only searches within that directory. When finding modules using absolute paths like <code class=\"language-text\">import { add } from 'math'</code>, the directory isn‚Äôt clear, so it starts searching in the directory containing the file that imported the module, then moves up one level to the parent directory, then another level up, and so on.</p>\n<p>The difference between Classic and Node strategies lies in which file extensions to look for and where to search first.</p>\n<h3 id=\"classic\" style=\"position:relative;\">Classic<a href=\"#classic\" aria-label=\"classic permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Classic</code> strategy is essentially TypeScript‚Äôs default module resolution strategy, also used for compatibility with older TypeScript versions.</p>\n<p>The Classic strategy searches for modules imported with relative paths starting from the importing module‚Äôs location, in the order <code class=\"language-text\">*.ts</code>, <code class=\"language-text\">*.d.ts</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.d.ts</code></p>\n</li>\n</ol>\n</blockquote>\n<p>As mentioned, when using relative paths, the directory location to search is clear, so TypeScript only searches candidate extensions and terminates if the module isn‚Äôt found.</p>\n<p>For modules using absolute paths like <code class=\"language-text\">import { add } from 'math'</code>, TypeScript starts from the current importing path and climbs up the parent directories one level at a time.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/math.ts</code></p>\n</li>\n</ol>\n</blockquote>\n<p>For absolute paths, TypeScript starts searching from <code class=\"language-text\">/root/src</code> where the importing file is located. If it doesn‚Äôt find the module in this directory, it climbs up one level and searches again. If it reaches the root and still can‚Äôt find the module, it terminates.</p>\n<h3 id=\"node\" style=\"position:relative;\">Node<a href=\"#node\" aria-label=\"node permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Node</code> strategy mimics how Node.js finds modules. Unlike the Classic strategy, Node doesn‚Äôt just search for <code class=\"language-text\">*.ts</code> or <code class=\"language-text\">*.d.ts</code> extensions ‚Äî it searches a wider variety of module formats.</p>\n<p>For relative paths, similar to Classic, TypeScript searches within the specified directory in this order:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/math/package.json</code> (only if using <code class=\"language-text\">types</code> field)</p>\n</li>\n<li>\n<p><code class=\"language-text\">root/src/math/index.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">root/src/math/index.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">root/src/math/index.d.ts</code></p>\n</li>\n</ol>\n</blockquote>\n<p>It looks like a lot was added, but basically it‚Äôs the same as Classic ‚Äî searching files in the specified directory ‚Äî except it additionally searches for <code class=\"language-text\">*.tsx</code> extensions, the <code class=\"language-text\">types</code> property in <code class=\"language-text\">package.json</code>, and <code class=\"language-text\">index.*</code> files in directories with the same name as the module.</p>\n<p>When searching for relatively-pathed modules, both Node and Classic strategies use similar directory tree traversal orders. But the difference becomes larger when finding absolutely-pathed modules.</p>\n<p>That‚Äôs because the Node strategy, unlike Classic, searches <code class=\"language-text\">node_modules</code> directories when finding absolutely-pathed modules.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// /root/src/index.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/package.json</code> (only if using <code class=\"language-text\">types</code> field)</p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/@types/math.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/index.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/index.tsx</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/src/node_modules/math/index.d.ts</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">/root/node_modules/math.ts</code> (moves to parent directory and repeats)</p>\n</li>\n</ol>\n<p>‚Ä¶</p>\n</blockquote>\n<p>Using the Node strategy, TypeScript first searches the <code class=\"language-text\">node_modules</code> directory in <code class=\"language-text\">/root/src</code> where the file calling the <code class=\"language-text\">math</code> module is located.</p>\n<p>It searches for <code class=\"language-text\">*.ts</code>, <code class=\"language-text\">*.tsx</code>, <code class=\"language-text\">*.d.ts</code> files and the <code class=\"language-text\">types</code> field in <code class=\"language-text\">package.json</code> just like with relative paths, then searches the <code class=\"language-text\">@types</code> directory and <code class=\"language-text\">index</code> files in directories with the same name as the module.</p>\n<p>If it doesn‚Äôt find the desired module after one search pass, it moves to the parent directory and repeats. If it reaches the root, searches globally-installed modules on the local machine, and still can‚Äôt find the module, it terminates.</p>\n<p>This search process isn‚Äôt identical to how Node.js finds modules, but it‚Äôs very similar. Node.js first looks for files with the same name as the module, then looks for the file at the path in <code class=\"language-text\">package.json</code>‚Äôs <code class=\"language-text\">main</code> field, and finally searches for <code class=\"language-text\">index</code> files in directories with the same name. TypeScript‚Äôs Node strategy mimics this search process.</p>\n<p>The TypeScript docs say it‚Äôs not particularly complex compared to Node.js‚Äôs method, so don‚Äôt worry. But honestly, Node.js‚Äôs package search method itself is inefficient. That‚Äôs why starting from TypeScript 4.0, modules that aren‚Äôt imported no longer have their type information searched through this process.</p>\n<h2 id=\"noresolve\" style=\"position:relative;\">noResolve<a href=\"#noresolve\" aria-label=\"noresolve permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Resolves all modules included in the application.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Only resolves modules explicitly included in the application.</td>\n</tr>\n</tbody>\n</table>\n<p>By default, the TypeScript compiler tries to compile all modules included in the application. Even if a file isn‚Äôt included in the tsconfig root‚Äôs <a href=\"/2021/07/30/tsconfig-options-root-fields/#include\">include</a> or <a href=\"/2021/07/30/tsconfig-options-root-fields/#files\">files</a> fields, if it‚Äôs imported somewhere in the application using an <code class=\"language-text\">import</code> statement or <code class=\"language-text\">/// &lt;reference path=\"...\" /></code> directive, that module is also a compilation target.</p>\n<p>In a sense, this implicitly includes modules in the compilation targets. Setting <code class=\"language-text\">noResolve</code> to <code class=\"language-text\">true</code> prevents this implicit module compilation.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/index.ts\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noResolve\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// src/index.ts</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> add2 <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In this example, the <code class=\"language-text\">include</code> field only contains <code class=\"language-text\">src/index.ts</code>, not the <code class=\"language-text\">utils/math</code> module.</p>\n<p>When <code class=\"language-text\">noResolve</code> is <code class=\"language-text\">false</code>, the <code class=\"language-text\">utils/math</code> module used in <code class=\"language-text\">index.ts</code> compiles without issues. But when it‚Äôs <code class=\"language-text\">true</code>, you get an error saying the module can‚Äôt be found.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">src/index.ts:1:21 - error TS2307: Cannot find module './utils/math' or its corresponding type declarations.\n\n1 import { add } from './utils/math';</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Only modules explicitly declared in the <code class=\"language-text\">include</code> or <code class=\"language-text\">files</code> fields are compiled. For the same reason, modules imported using directives like <code class=\"language-text\">/// &lt;reference path=\"...\" /></code> are also excluded from compilation if they‚Äôre not in those fields.</p>\n<p>The <code class=\"language-text\">noResolve</code> option helps with easier module management by forcing developers to explicitly declare TypeScript‚Äôs compilation targets. However, because it excludes even directive-imported modules from compilation, when using libraries like Next.js that import type definition files via directives, it‚Äôs better for your mental health to just use the default <code class=\"language-text\">false</code>.</p>\n<h2 id=\"resolvejsonmodule\" style=\"position:relative;\">resolveJsonModule<a href=\"#resolvejsonmodule\" aria-label=\"resolvejsonmodule permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Disallows importing modules with <code class=\"language-text\">*.json</code> extensions.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Allows importing modules with <code class=\"language-text\">*.json</code> extensions.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">resolveJsonModule</code> option determines whether to allow importing modules implemented as JSON files.</p>\n<p>If this option is <code class=\"language-text\">false</code>, TypeScript throws an error saying it can‚Äôt find the module when you import a JSON module.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// me.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"evan-moon\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"role\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Frontend Engineer\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> me <span class=\"token keyword\">from</span> <span class=\"token string\">'./me.json'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Cannot find module './settings.json'. Consider using '--resolveJsonModule' to import module with '.json' extension.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Enabling <code class=\"language-text\">resolveJsonModule</code> lets you import and use JSON modules just like regular TypeScript modules, and it even analyzes the file to automatically infer types.</p>\n<p>However, since inference using Enum or Union Types is impossible, all values are inferred as primitive types like <code class=\"language-text\">string</code> or <code class=\"language-text\">number</code>. If you need to enforce strong type declarations, it‚Äôs better to declare your model using TypeScript modules instead of JSON modules.</p>\n<h2 id=\"rootdir\" style=\"position:relative;\">rootDir<a href=\"#rootdir\" aria-label=\"rootdir permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The <code class=\"language-text\">rootDir</code> option determines which directory to treat as the root when maintaining the current structure after compiling modules.</p>\n<p>By default, TypeScript maintains the input directory structure when compiling and outputting files. The <code class=\"language-text\">rootDir</code> option lets you set which directory to treat as the root.</p>\n<p>If you don‚Äôt set this option, TypeScript automatically finds the file that serves as the application‚Äôs entry point and sets the directory containing that file as the root for the output directory structure.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n‚îú‚îÄ‚îÄ src\n‚îÇ   ‚îú‚îÄ‚îÄ index.ts\n‚îÇ   ‚îî‚îÄ‚îÄ utils\n‚îÇ       ‚îî‚îÄ‚îÄ math.ts\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Consider a project with this structure. When <code class=\"language-text\">rootDir</code> isn‚Äôt specified, TypeScript finds the application‚Äôs entry point <code class=\"language-text\">src/index.ts</code> and recognizes <code class=\"language-text\">src</code> as the root.</p>\n<p>The output directory will have this structure with <code class=\"language-text\">src</code> as the root:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">dist\n‚îú‚îÄ‚îÄ index.ts\n‚îî‚îÄ‚îÄ utils\n    ‚îî‚îÄ‚îÄ math.ts</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>However, if you set <code class=\"language-text\">rootDir</code> to <code class=\"language-text\">.</code> (current path), the output directory structure changes.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rootDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\".\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">dist\n‚îî‚îÄ‚îÄ src\n    ‚îú‚îÄ‚îÄ index.ts\n    ‚îî‚îÄ‚îÄ utils\n        ‚îî‚îÄ‚îÄ math.ts</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Since I changed the root directory to the current <code class=\"language-text\">myProject</code> directory where <code class=\"language-text\">tsconfig.json</code> is located, the output directory <code class=\"language-text\">dist</code> has exactly the same structure as the original project directory, including the <code class=\"language-text\">src</code> directory.</p>\n<p>While it‚Äôs a fairly simple operation, there‚Äôs one caveat when using this option: <code class=\"language-text\">rootDir</code> doesn‚Äôt affect compilation targets at all.</p>\n<p>This means if you use <code class=\"language-text\">rootDir</code>, all compilation target files must be located under that directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n‚îú‚îÄ‚îÄ src\n‚îÇ   ‚îú‚îÄ‚îÄ index.ts\n‚îÇ   ‚îî‚îÄ‚îÄ utils\n‚îÇ       ‚îî‚îÄ‚îÄ math.ts\n‚îú‚îÄ‚îÄ foo.ts\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rootDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Looking at this configuration, the root directory is set to <code class=\"language-text\">src</code>, and the <code class=\"language-text\">include</code> option says to compile all files.</p>\n<p>The problem is that one of these ‚Äúall files,‚Äù <code class=\"language-text\">foo.ts</code>, isn‚Äôt inside the <code class=\"language-text\">src</code> directory. The settings contradict each other.</p>\n<p>Even though <code class=\"language-text\">rootDir</code> sets the root directory, TypeScript won‚Äôt automatically exclude <code class=\"language-text\">foo.ts</code> from compilation ‚Äî instead, it throws this error:</p>\n<blockquote>\n<p>File ‚Äò/Users/john/myProject/foo.ts‚Äô is not under ‚ÄòrootDir‚Äô ‚Äò/Users/john/myProejct/src‚Äô. <strong>‚ÄòrootDir‚Äô is expected to contain all source files.</strong></p>\n</blockquote>\n<p>As this error shows, if you set a root directory with <code class=\"language-text\">rootDir</code>, all source files must be inside that root directory. Even if you use <code class=\"language-text\">include</code> to designate files outside the root directory as compilation targets, TypeScript won‚Äôt automatically compile them.</p>\n<h2 id=\"rootdirs\" style=\"position:relative;\">rootDirs<a href=\"#rootdirs\" aria-label=\"rootdirs permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The <code class=\"language-text\">rootDirs</code> option creates a kind of virtual root. This is much easier to understand with code than words, so let‚Äôs look at an example right away.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">myProject\n‚îú‚îÄ‚îÄ core\n‚îÇ   ‚îî‚îÄ‚îÄ index.ts\n‚îú‚îÄ‚îÄ utils\n‚îÇ   ‚îî‚îÄ‚îÄ math.ts\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Imagine an application with this structure. How would you import the <code class=\"language-text\">utils/math.ts</code> module in <code class=\"language-text\">core/index.ts</code>?</p>\n<p>Without using the <code class=\"language-text\">paths</code> option, you‚Äôd use a relative path to climb up one level to the parent directory and access the module.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// core/index.ts</span>\n<span class=\"token keyword\">import</span> math <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/math'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">rootDirs</code> option creates a virtual root so that modules in the <code class=\"language-text\">core</code> and <code class=\"language-text\">utils</code> directories can be used as if they were in ‚Äúa single directory.‚Äù</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rootDirs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"core\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utils\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// core/index.ts</span>\n<span class=\"token keyword\">import</span> math <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/math'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Use as if in the same directory</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Even if the directory depth is deep like <code class=\"language-text\">core/components/Foo/index.tsx</code>, registering the directory in <code class=\"language-text\">rootDirs</code> lets directories registered in <code class=\"language-text\">rootDirs</code> import modules as if they‚Äôre always in the same directory.</p>\n<p>And because <code class=\"language-text\">rootDirs</code> implements this by creating a kind of ‚Äúvirtual directory,‚Äù it has no effect whatsoever on the output directory structure after compilation. It‚Äôs literally virtual.</p>\n<p>The <code class=\"language-text\">rootDirs</code> option is convenient in that it lets you use simple relative paths even with deep directory structures.</p>\n<p>However, using this configuration creates a disconnect between the actual directory structure and the paths used in code to access modules, making the code harder to understand intuitively. And to understand the cause of this disconnect, you need to look at <code class=\"language-text\">tsconfig.json</code> ‚Äî a potentially sad situation. Keep this in mind.</p>\n<h2 id=\"typeroots\" style=\"position:relative;\">typeRoots<a href=\"#typeroots\" aria-label=\"typeroots permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>By default, TypeScript automatically includes files under <code class=\"language-text\">@types</code> package directories in compilation targets. Following the resolve strategy described earlier, it searches <code class=\"language-text\">@types</code> directories inside <code class=\"language-text\">node_modules</code> while climbing up directories: <code class=\"language-text\">./node_modules/@types</code>, <code class=\"language-text\">../node_modules/@types</code>, etc.</p>\n<p>But using the <code class=\"language-text\">typeRoots</code> option, you can specify where TypeScript should find type files instead of searching everywhere.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"typeRoots\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./typings\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./node_modules/@types\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Paths in <code class=\"language-text\">typeRoots</code> are relative to <code class=\"language-text\">tsconfig.json</code>. Also, while this example includes the <code class=\"language-text\">./node_modules/@types</code> directory in the option, it‚Äôs actually unnecessary.</p>\n<p>When <code class=\"language-text\">typeRoots</code> is specified, TypeScript abandons its existing module search strategy and only looks for type declaration modules in the paths in the array. This is more efficient than the existing module search strategy of continuously climbing up parent directories searching for type declaration modules.</p>\n<h2 id=\"types\" style=\"position:relative;\">types<a href=\"#types\" aria-label=\"types permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As explained, TypeScript automatically includes all files under <code class=\"language-text\">@types</code> package directories in compilation targets, which spreads type declarations into the global scope.</p>\n<p>Because these type declarations exist in the global scope, we can use things like the <code class=\"language-text\">process</code> object from <code class=\"language-text\">@types/node</code> without separate type declarations.</p>\n<p>But using the <code class=\"language-text\">types</code> option, you can include only specific packages‚Äô types in the global scope.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Only import @types/node, @types/jest, @types/express</span>\n    <span class=\"token property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"jest\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"express\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With this configuration, types for <code class=\"language-text\">node</code>, <code class=\"language-text\">jest</code>, and <code class=\"language-text\">express</code> packages are included in the global scope, automatically type-checking statements like <code class=\"language-text\">import express from 'express';</code>. But other libraries not included here require you to import their type declaration modules directly.</p>\n<p>The key thing to note is that the <code class=\"language-text\">types</code> option targets type declaration modules that exist inside <code class=\"language-text\">@types</code> package directories.</p>\n<p>For example, the date library <code class=\"language-text\">moment</code> doesn‚Äôt require installing a separate type package like <code class=\"language-text\">@types/moment</code> ‚Äî it has built-in type declaration modules.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"moment\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./moment.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jsnext:main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/moment.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typings\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./moment.d.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Includes type declaration file internally</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In this case, the statement <code class=\"language-text\">import moment from 'moment'</code> imports the library and automatically includes <code class=\"language-text\">moment.d.ts</code> as a compilation target, so you can naturally use the types.</p>\n<p>The <code class=\"language-text\">types</code> option only targets type declaration modules inside <code class=\"language-text\">@types/*</code> packages and only applies when TypeScript spreads those type declarations into the global space. Don‚Äôt get confused.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>That wraps up the third installment in the tsconfig series: the Modules edition. While there aren‚Äôt that many module-related options, since they deal with which module system to use during compilation and which module resolution strategy to use, the explanations got lengthy.</p>\n<p>And now that I‚Äôve written this far, a realization hits me‚Ä¶</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2f03c5fd1831cbdc146edbf1130bd061/00d43/tsconfig.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 94.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVR42oVTZ1PbQBTU//8vhJrQMcaUDKGXTBKKcbflpi5Zstnsni1iEmbyYefda/v2nk5WEIXo9HuwB320e10EoxhjABlekb5O3tkc8j/EOIMVPj/BvblG+vhgkPz8geD7Pfy7WwT3d/9Y7/YGIfOqzebx8AtprQorPj9DvLmBeHcHCZEV95HuFz6EyRX2kNJmf2NvF+nFOSzv9BT9tVUMtzYRqvjoEEnpwCA+KGJ0WMKoVJr6xSJS+gnj8rPjoz9gPOVNreDsGwKSqWjy9QTR/h5aS0toL09hryyjM4O9sgJ7dYX5RWMDqvJ5K9mRVF5fwUquLzGhKk0ZExFVNhYW0Fz8ZBpFZOzylFTxNn0NU6z3eQ1d3tBZ/4KI4qz46hLZnPwRz5rq7WwbGxYK8GdKTHymKOBgd3sLDuGqljYyOzw5hk92Q6rdsHDIqQPtldbb2IDLvLe5zvO6UTJg3OXZ195JFnFATMLs8oKEzQaSVhOp3TGI6Q/4lIblZzgvZbiVl3foPz0a65TLJh+xPqjXEBIZ37Ll+R6SdIQ0S5FNxvDDAFW+p0argVqjblBlcYXQuVKvokxCod6c1lRYL/iBz4/CP2VCsjFJs1GCgAOaLBLsThv9ro0h/ySH03u8wYB/k9BlTnG73TK5iGTislxniAETQwZTEsYM6uwMB/A9FyELVSN4rmP8sW4jAXNQr2CpSM2yCiRxZFTOQzlZkWmg6kZJ/A5vhCKzeRU1aFLEHUqhVOfKVKNB883/VZhfWYStZhNtfvkO9yObQ369VjO7zVehXlkNNITak0gFkSlhlM0G5evId5j7Dn2JEJTTAKm38sY+v5ysSKWgx6/b5So6PA/600b5dqdj1pHndQ58n33hlFCBuh4mJ7zyHcqKUMV5Q5fN5glxqIhyZVqBrG6lj2UIpUpFUqblBiSsVSvcVdW8xRYfb6/bfXtGOfLnJpvHRPwbAA92vl9EkpcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tsconfig\" title=\"\" src=\"/static/2f03c5fd1831cbdc146edbf1130bd061/6af66/tsconfig.png\" srcset=\"/static/2f03c5fd1831cbdc146edbf1130bd061/69538/tsconfig.png 160w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/72799/tsconfig.png 320w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/6af66/tsconfig.png 640w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/d9199/tsconfig.png 960w,\n/static/2f03c5fd1831cbdc146edbf1130bd061/00d43/tsconfig.png 1000w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Wait... I've only written this much...?</small>\n</center>\n<p>I knew tsconfig had many options, but I never imagined it would be this challenging. <small><del>(First time my wrist hurt from writing‚Ä¶)</del></small></p>\n<p>Of course, if I just translated the official docs line by line, I‚Äôd finish quickly. But the whole point of starting this post series wasn‚Äôt just to provide that level of information ‚Äî it was to do a complete analysis of tsconfig, so I‚Äôll keep pushing forward.</p>\n<p><a href=\"/2021/10/30/tsconfig-compiler-options-modules-emit/\">In the next post</a>, I‚Äôll discuss options that control TypeScript‚Äôs behavior when generating output files.</p>\n<p>That concludes this post: [Everything About tsconfig] Compiler options / Modules.</p>","fields":{"slug":"20210822-tsconfig-compiler-options-modules-en","path":"/2021/08/22/tsconfig-compiler-options-modules/en/","lang":"en"},"frontmatter":{"title":"[Everything About tsconfig] Compiler Options / Modules","subTitle":null,"date":"Aug 22, 2021","categories":["Programming","Tutorial","JavaScript"],"tags":["TypeScript","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/d803c/thumbnail.png","srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/d803c/thumbnail.png 320w,\n/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/fc5c5/thumbnail.webp 320w,\n/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/01fb2/thumbnail.png","srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/bd1dff385c51f51e8cdfb5ce1bf76e9e/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"1451fcf6-b83a-53de-80d5-ff87dcae267e","tableOfContents":"<ul>\n<li>\n<p><a href=\"#unreachable-unused\">Unreachable, Unused</a></p>\n<ul>\n<li><a href=\"#allowunreachablecode\">allowUnreachableCode</a></li>\n<li><a href=\"#allowunusedlabels\">allowUnusedLabels</a></li>\n<li><a href=\"#nounusedlocals\">noUnusedLocals</a></li>\n<li><a href=\"#nounusedparameters\">noUnusedParameters</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#prohibiting-implicit-declarations\">Prohibiting Implicit Declarations</a></p>\n<ul>\n<li><a href=\"#noimplicitany\">noImplicitAny</a></li>\n<li><a href=\"#noimplicitoverride\">noImplicitOverride</a></li>\n<li><a href=\"#noimplicitreturns\">noImplicitReturns</a></li>\n<li><a href=\"#noimplicitthis\">noImplicitThis</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#strict\">Strict</a></p>\n<ul>\n<li><a href=\"#alwaysstrict\">alwaysStrict</a></li>\n<li><a href=\"#strictbindcallapply\">strictBindCallApply</a></li>\n<li><a href=\"#strictfunctiontypes\">strictFunctionTypes</a></li>\n<li><a href=\"#strictnullchecks\">strictNullChecks</a></li>\n<li><a href=\"#strictpropertyinitialization\">strictPropertyInitialization</a></li>\n<li><a href=\"#useunknownincatchvariables\">useUnknownInCatchVariables</a></li>\n<li><a href=\"#strict-1\">strict</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#etc\">etc</a></p>\n<ul>\n<li><a href=\"#exactoptionalpropertytypes\">exactOptionalPropertyTypes</a></li>\n<li><a href=\"#nofallthroughcasesinswitch\">noFallthroughCasesInSwitch</a></li>\n<li><a href=\"#nopropertyaccessfromindexsignature\">noPropertyAccessFromIndexSignature</a></li>\n<li><a href=\"#nouncheckedindexedaccess\">noUncheckedIndexedAccess</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"This post covers the type checking options in tsconfig‚Äôs compiler settings. Most developers use TypeScript for the stability that comes from its powerful type system ‚Äî something JavaScript doesn‚Äôt provide. Among TypeScript‚Äôs countless compiler options, type checking options manage the language‚Äôs core functionality.","html":"<p>This post covers the type checking options in tsconfig‚Äôs compiler settings.</p>\n<p>Most developers use TypeScript for the stability that comes from its powerful type system ‚Äî something JavaScript doesn‚Äôt provide. Among TypeScript‚Äôs countless compiler options, type checking options manage the language‚Äôs core functionality.</p>\n<!-- more -->\n<p>TypeScript offers a wide variety of options, from simple ones that feel like ‚Äúthis code is forbidden‚Äù to ones whose behavior you can only understand if you know how the type system actually works.</p>\n<p>Most type checking compiler options strengthen TypeScript‚Äôs type safety, which is why the TypeScript team recommends enabling all of them when possible.</p>\n<p>But stronger type safety means the flip side: things that could previously slide by with <code class=\"language-text\">any</code> will no longer be allowed.</p>\n<p>If you‚Äôre gradually adopting TypeScript in an application, you could burn a lot of time just fixing type errors. Consider your organization‚Äôs business situation before enabling options.</p>\n<p>Let‚Äôs dive into how TypeScript‚Äôs type checking compiler options actually affect your code.</p>\n<h2 id=\"unreachable-unused\" style=\"position:relative;\">Unreachable, Unused<a href=\"#unreachable-unused\" aria-label=\"unreachable unused permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Options starting with <code class=\"language-text\">Unreachable, Unused</code> control how to manage unused code or code that can never execute.</p>\n<h3 id=\"allowunreachablecode\" style=\"position:relative;\">allowUnreachableCode<a href=\"#allowunreachablecode\" aria-label=\"allowunreachablecode permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">undefined</code> (default)</td>\n<td>Warn when encountering unreachable code.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Ignore unreachable code.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Error when encountering unreachable code.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">allowUnreachableCode</code> option controls how the compiler reacts when it encounters unreachable code. Unreachable code is code that can never execute.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Unreachable code detected.ts(7027)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">foo</code> function unconditionally returns a value and exits in either branch of the <code class=\"language-text\">if-else</code>, so the final <code class=\"language-text\">return true</code> can never execute. This is unreachable code.</p>\n<p>Even with default settings, this option warns about such code rather than ignoring it, providing some protection against unreachable code.</p>\n<p>Still, meaningless statements left in source code can cause developers to misunderstand the application‚Äôs flow. And since this dead code doesn‚Äôt affect the application anyway, I recommend enabling this option to error at compile time. <small><del>(Though sometimes deleting such code mysteriously causes bugs‚Ä¶)</del></small></p>\n<h3 id=\"allowunusedlabels\" style=\"position:relative;\">allowUnusedLabels<a href=\"#allowunusedlabels\" aria-label=\"allowunusedlabels permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">undefined</code> (default)</td>\n<td>Warn when encountering unused labels.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Ignore unused labels.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code></td>\n<td>Error when encountering unused labels.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">allowUnusedLabels</code> option controls how the compiler reacts when it encounters unused labels in code.</p>\n<p>If you haven‚Äôt been programming long, ‚Äúlabels‚Äù might be unfamiliar. This feature isn‚Äôt TypeScript-specific ‚Äî other languages have it too.</p>\n<p>I used labels when learning C in school six years ago, but haven‚Äôt used them since.</p>\n<p>Labels target specific statements, letting you name <code class=\"language-text\">if</code> statements, <code class=\"language-text\">for</code> loops, etc. You can then access those statements by name to control them with commands like <code class=\"language-text\">break</code> or <code class=\"language-text\">continue</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> i<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">;</span>\n\nouterLoop<span class=\"token operator\">:</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  innerLoop<span class=\"token operator\">:</span> <span class=\"token comment\">// Unused Label</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> j <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// If both i and j are 1, skip the outer loop</span>\n      <span class=\"token keyword\">continue</span> outerLoop<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">i=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, j=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>j<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Loop </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> done</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">i=0, j=0\ni=0, j=1\ni=0, j=2\nLoop 1 done\ni=1, j=0\ni=2, j=0\ni=2, j=1\ni=2, j=2\nLoop 3 done</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In this example, when both <code class=\"language-text\">i</code> and <code class=\"language-text\">j</code> equal <code class=\"language-text\">1</code> in the inner <code class=\"language-text\">for</code> loop, it skips the outer <code class=\"language-text\">for</code> loop. Looking at the output, after <code class=\"language-text\">i=1, j=0</code> prints, ‚ÄúLoop n done‚Äù doesn‚Äôt print and the third iteration starts immediately.</p>\n<p>The outer loop‚Äôs label <code class=\"language-text\">outerLoop</code> is used in the inner loop, but the inner loop‚Äôs label <code class=\"language-text\">innerLoop</code> is never used. This is an Unused Label, and the <code class=\"language-text\">allowUnusedLabels</code> option controls how TypeScript reacts to unused labels.</p>\n<p>But labels often reverse the normal top-to-bottom program flow, and they don‚Äôt have clear scopes or separated concerns like functions, making code hard to read. <small>(Labels + goto from the assembly era are considered anti-patterns even in C.)</small></p>\n<p>Don‚Äôt worry about whether to enable this option ‚Äî just don‚Äôt use labels at all.</p>\n<h3 id=\"nounusedlocals\" style=\"position:relative;\">noUnusedLocals<a href=\"#nounusedlocals\" aria-label=\"nounusedlocals permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Error if unused local variables exist.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Ignore unused local variables.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noUnusedLocals</code> option controls how to handle unused local variables inside functions. When this option is <code class=\"language-text\">true</code>, the compiler errors on unused local variables.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 'bar' is declared but its value is never read.ts(6133)</span>\n  <span class=\"token keyword\">const</span> bar <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>True to its name, <code class=\"language-text\">noUnusedLocals</code> doesn‚Äôt error or warn about unused variables in global or module scopes, only function scopes. Keep this in mind.</p>\n<h3 id=\"nounusedparameters\" style=\"position:relative;\">noUnusedParameters<a href=\"#nounusedparameters\" aria-label=\"nounusedparameters permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Error if unused parameters exist.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Ignore unused parameters.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noUnusedParameters</code> option controls how to handle unused function parameters. When this option is <code class=\"language-text\">true</code>, the compiler errors on unused parameters.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// 'name' is declared but its value is never read.ts(6133)</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"prohibiting-implicit-declarations\" style=\"position:relative;\">Prohibiting Implicit Declarations<a href=\"#prohibiting-implicit-declarations\" aria-label=\"prohibiting implicit declarations permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Many TypeScript type checking compiler options start with <code class=\"language-text\">noImplicit</code>, which means prohibiting ‚Äúimplicit something.‚Äù</p>\n<p>Implicit means silently performing something without providing any information, increasing the chance of problems occurring where developers don‚Äôt expect them.</p>\n<p>Enable all <code class=\"language-text\">noImplicit</code> options to prevent TypeScript from silently evaluating things behind your back at compile time.</p>\n<h3 id=\"noimplicitany\" style=\"position:relative;\">noImplicitAny<a href=\"#noimplicitany\" aria-label=\"noimplicitany permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Prohibit implicitly using the <code class=\"language-text\">any</code> type for values that can‚Äôt be inferred and have no type declaration.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Allow implicitly using the <code class=\"language-text\">any</code> type for values that can‚Äôt be inferred and have no type declaration.</td>\n</tr>\n</tbody>\n</table>\n<p>TypeScript evaluates values without explicit type declarations that can‚Äôt be inferred as <code class=\"language-text\">any</code>. The <code class=\"language-text\">noImplicitAny</code> option controls whether to error when such <code class=\"language-text\">any</code>-typed values exist.</p>\n<p>TypeScript warns about <code class=\"language-text\">any</code> types even without this option enabled, since they harm type safety.</p>\n<p>But warnings can be ignored at compile time, so using <code class=\"language-text\">noImplicitAny</code> to error and block compilation is much safer.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Parameter 's' implicitly has an 'any' type.ts(7006)</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span><span class=\"token function\">subtr</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"noimplicitoverride\" style=\"position:relative;\">noImplicitOverride<a href=\"#noimplicitoverride\" aria-label=\"noimplicitoverride permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Prohibit implicit overriding in subclasses.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Allow implicit overriding in subclasses.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noImplicitOverride</code> option controls whether subclasses can implicitly override superclass member variables or methods.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Album</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SharedAlbum</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Album</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// This member must have an 'override' modifier because it overrides a member in the base class 'Album'.ts(4114)</span>\n  <span class=\"token function\">download</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Explicit overriding with override keyword is allowed</span>\n  override <span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If the compiler doesn‚Äôt warn or error on implicit overriding, developers might unknowingly override superclass functionality. <small>(<del>You don‚Äôt memorize all superclass member names</del>)</small></p>\n<p>This could unintentionally break superclass functionality and cause unexpected errors, so I recommend enabling <code class=\"language-text\">noImplicitOverride</code>.</p>\n<h3 id=\"noimplicitreturns\" style=\"position:relative;\">noImplicitReturns<a href=\"#noimplicitreturns\" aria-label=\"noimplicitreturns permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Prohibit functions implicitly returning <code class=\"language-text\">undefined</code>.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Allow functions implicitly returning <code class=\"language-text\">undefined</code>.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noImplicitReturns</code> option controls how to handle functions that implicitly return <code class=\"language-text\">undefined</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Not all code paths return a value.ts(7030)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span>v<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">foo</code> function returns <code class=\"language-text\">true</code> when its argument is <code class=\"language-text\">1</code> but returns nothing otherwise, so TypeScript infers it returns a <code class=\"language-text\">boolean</code> type.</p>\n<p>But actually, calling <code class=\"language-text\">foo(2)</code> with an argument that doesn‚Äôt match the condition returns nothing explicitly and exits the function, implicitly returning <code class=\"language-text\">undefined</code>. Try declaring any function in the browser dev tools to verify this.</p>\n<p>The problem: TypeScript inferred the return type as <code class=\"language-text\">boolean</code>, but the actual implicit return type <code class=\"language-text\">undefined</code> is included, making the final return type <code class=\"language-text\">boolean | undefined</code>. This contradiction creates opportunities for unexpected runtime errors.</p>\n<p>The <code class=\"language-text\">noImplicitReturns</code> option warns that the function isn‚Äôt properly returning values when it implicitly returns <code class=\"language-text\">undefined</code>. With this option enabled, the <code class=\"language-text\">foo</code> function must explicitly return <code class=\"language-text\">undefined</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span> <span class=\"token punctuation\">(</span>v<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"noimplicitthis\" style=\"position:relative;\">noImplicitThis<a href=\"#noimplicitthis\" aria-label=\"noimplicitthis permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Prohibit cases where <code class=\"language-text\">this</code> is implicitly evaluated as <code class=\"language-text\">any</code>.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Allow cases where <code class=\"language-text\">this</code> is implicitly evaluated as <code class=\"language-text\">any</code>.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noImplicitThis</code> option prohibits cases where <code class=\"language-text\">this</code> is implicitly evaluated as <code class=\"language-text\">any</code>. To understand this option‚Äôs behavior, you need to understand how JavaScript and TypeScript‚Äôs <code class=\"language-text\">this</code> works, but since this post isn‚Äôt about <code class=\"language-text\">this</code>, I‚Äôll explain briefly. For deeper knowledge about <code class=\"language-text\">this</code>, check out this <a href=\"https://poiemaweb.com/js-this\" target=\"_blank\" rel=\"nofollow\">post</a>.</p>\n<p>JavaScript‚Äôs <code class=\"language-text\">this</code> binds dynamically. What <code class=\"language-text\">this</code> points to depends on how the function is called.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Human</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sayThis</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Human</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sayThis <span class=\"token operator\">=</span> evan<span class=\"token punctuation\">.</span>sayThis<span class=\"token punctuation\">;</span>\n\nevan<span class=\"token punctuation\">.</span><span class=\"token function\">sayThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Human {}</span>\n<span class=\"token function\">sayThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// globalThis</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As shown, the same <code class=\"language-text\">Human</code> class method‚Äôs <code class=\"language-text\">this</code> changes dynamically based on how it‚Äôs called. JavaScript‚Äôs <code class=\"language-text\">this</code> is so unpredictable that we need methods like <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code> to explicitly set <code class=\"language-text\">this</code>, or ES6 arrow functions that don‚Äôt bind <code class=\"language-text\">this</code> at all.</p>\n<p>This dynamic binding causes situations where TypeScript can‚Äôt infer <code class=\"language-text\">this</code>‚Äôs type. A common example: accessing <code class=\"language-text\">this</code> in inner functions.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Human</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sayThis</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">say</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 'this' implicitly has type 'any' because it does not have a type annotation.ts(2683)</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Human</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nevan<span class=\"token punctuation\">.</span><span class=\"token function\">sayThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// globalThis</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In this example, the <code class=\"language-text\">sayThis</code> method declares and calls a <code class=\"language-text\">say</code> function internally, and the inner function accesses <code class=\"language-text\">this</code>. Logically, this function‚Äôs <code class=\"language-text\">this</code> should be the <code class=\"language-text\">Human</code> class, but reality is cruel ‚Äî <code class=\"language-text\">globalThis</code> pops out. <small>(Use arrow functions in these cases‚Ä¶)</small></p>\n<p>This is when TypeScript can‚Äôt infer <code class=\"language-text\">this</code>. TypeScript implicitly binds <code class=\"language-text\">this</code> in the <code class=\"language-text\">say</code> function to <code class=\"language-text\">any</code>, breaking type safety.</p>\n<p>The <code class=\"language-text\">noImplicitThis</code> option controls whether to tolerate situations where the <code class=\"language-text\">this</code> type is implicitly evaluated as <code class=\"language-text\">any</code>. Since there‚Äôs almost no use case for leveraging the global object binding to <code class=\"language-text\">this</code> in functions declared inside methods, I recommend enabling this option.</p>\n<h2 id=\"strict\" style=\"position:relative;\">Strict<a href=\"#strict\" aria-label=\"strict permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">Strict</code> options manage how strictly TypeScript evaluates types in normal situations.</p>\n<p>The TypeScript team calls these the Strict mode family, ranging from options that check for violations of JavaScript‚Äôs <code class=\"language-text\">'use strict'</code> directive to options that check covariance and contravariance, providing various ways to make TypeScript evaluate types more strictly.</p>\n<h3 id=\"alwaysstrict\" style=\"position:relative;\">alwaysStrict<a href=\"#alwaysstrict\" aria-label=\"alwaysstrict permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Error when source code violates Strict rules.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Ignore Strict rule violations in source code.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">alwaysStrict</code> option errors when developers violate JavaScript‚Äôs Strict rules while using TypeScript. Setting this option to <code class=\"language-text\">true</code> makes TypeScript parse each source file as if a <code class=\"language-text\">use strict</code> directive were declared at the top.</p>\n<p>Note that most TypeScript Strict mode options are for ‚Äúnon-module code.‚Äù TypeScript always compiles all module code in Strict mode according to ECMAScript 2015‚Äôs <a href=\"https://262.ecma-international.org/6.0/#sec-strict-mode-code\" target=\"_blank\" rel=\"nofollow\">Strict Mode Code</a> section definition.</p>\n<p>One thing to know: this option outputs the <code class=\"language-text\">use strict</code> directive to ‚Äúsource files,‚Äù not to the compiled output. Let‚Äôs look at an example.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// index.ts</span>\n\n<span class=\"token comment\">// Octal literals are not allowed in strict mode.ts(1121)</span>\n<span class=\"token keyword\">const</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n\n<span class=\"token keyword\">var</span> number <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The IDE shows the error <code class=\"language-text\">Octal literals are not allowed in strict mode.ts(1121)</code>, but compilation doesn‚Äôt error, and the compiled output doesn‚Äôt include the <code class=\"language-text\">use strict</code> directive. Source code parsing recognizes the error, but Strict mode isn‚Äôt guaranteed in compilation results.</p>\n<p>However, when using modules, TypeScript applies Strict mode to both source code parsing and compilation output, regardless of this option.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// index.ts</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js (common.js)</span>\n\n<span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token number\">023</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">.</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"strictbindcallapply\" style=\"position:relative;\">strictBindCallApply<a href=\"#strictbindcallapply\" aria-label=\"strictbindcallapply permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Check argument types when calling functions with <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Don‚Äôt check argument types when calling functions with <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">strictBindCallApply</code> option checks whether correct argument types are passed when calling or declaring functions using methods like <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code> that can change function execution context.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hi, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"evan\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Argument of type 'boolean' is not assignable to parameter of type 'string'.ts(2345)</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>While changing function execution context doesn‚Äôt happen often, with this option disabled, TypeScript doesn‚Äôt check whether proper types are passed as function arguments when using <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code>, potentially causing runtime type errors.</p>\n<h3 id=\"strictfunctiontypes\" style=\"position:relative;\">strictFunctionTypes<a href=\"#strictfunctiontypes\" aria-label=\"strictfunctiontypes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Evaluates function parameters as contravariant types.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Evaluates function parameters as bivariant types.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">strictFunctionTypes</code> option controls whether to evaluate function parameters contravariantly. Since this post isn‚Äôt about covariance and contravariance, check out this <a href=\"https://seob.dev/posts/%EA%B3%B5%EB%B3%80%EC%84%B1%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80/\" target=\"_blank\" rel=\"nofollow\">post</a> if you want to learn more.</p>\n<p>I‚Äôll explain covariance and contravariance briefly.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> foo<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> bar<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\nType '(string | number)[]' is not assignable to type 'string[]'.\n  Type 'string | number' is not assignable to type 'string'.\n    Type 'number' is not assignable to type 'string'.ts(2322)\n*/</span>\nfoo <span class=\"token operator\">=</span> bar<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>I tried assigning the <code class=\"language-text\">bar</code> variable of type <code class=\"language-text\">Array&lt;string | number></code> to the <code class=\"language-text\">foo</code> variable of type <code class=\"language-text\">Array&lt;string></code>, and TypeScript says the <code class=\"language-text\">string | number</code> type can‚Äôt be assigned to a <code class=\"language-text\">string</code> type value.</p>\n<p>Why the error? Because the <code class=\"language-text\">string</code> type is a smaller concept than <code class=\"language-text\">string | number</code>.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b0ad89a090e9426b629aea7e838d5c43/38124/unionset.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABsklEQVR42q2TX2+bMBTF+f7fZJqqSn1YXzZtT9vDlLSEAqEBG8JfQ+uQhjTb1HB6L4SUTOlbQQcsS/752PdcA4enbVus9Q6xWEHMHxA4FaKFxmO5xf6lBb/rPw2K5hHJkyKVUI3G5u8zrx4wMPjzQgsY5ExzODc57GkK9zYnFXAmOcSiQrIuIVcphE7pn0HqfixoTtEm+3b/BkxkDXuSwbcrTH76uLr4gctPX/Ht+jd85wG39xJmKJA2FX7ZE3z+comr79dwswAxuRU6gdrqHvhU78hVAc9S8GYKc5Nc3WS4mya0SQrHSzAjmBkIeEWMkNwtVAS/WnbjqM47sfuGjm+kYQ2XgTN11L1VHmUFIQHJoZC4i0JaXHSuWANsAJbk0uACsKsxsJNJbq0CliCglEdJnZ2ABrHbbFPBkN4HA88deSwriAgkRkfOz4orX25XfVHcUVH+d2nPh6JIeHmM5bp4F9j82w2x6TN4Fkpz5kLCiiQd6z13fUFOgs1Qdsph5jtldcGmjaRfIT0Em+8qrA/igHfB1qfBfmu9Z8QEDtyq09I/03qbofVU1yHceu2o9V4BQOhy3IbwEtMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unionset\" title=\"\" src=\"/static/b0ad89a090e9426b629aea7e838d5c43/6af66/unionset.png\" srcset=\"/static/b0ad89a090e9426b629aea7e838d5c43/69538/unionset.png 160w,\n/static/b0ad89a090e9426b629aea7e838d5c43/72799/unionset.png 320w,\n/static/b0ad89a090e9426b629aea7e838d5c43/6af66/unionset.png 640w,\n/static/b0ad89a090e9426b629aea7e838d5c43/38124/unionset.png 953w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The string | number type represents the union of string and number.</small>\n</center>\n<p>The <code class=\"language-text\">string | number</code> type represents a union combining two types, so naturally the <code class=\"language-text\">string</code> type can‚Äôt contain the larger concept <code class=\"language-text\">string | number</code>.</p>\n<p>In this case, we call the smaller concept <code class=\"language-text\">string</code> type a ‚Äúsubtype‚Äù of <code class=\"language-text\">string | number</code>, and call the larger concept <code class=\"language-text\">string | number</code> a ‚Äúsupertype‚Äù of <code class=\"language-text\">string</code>. <small>(Subset and superset are also English terms. The names basically come from there.)</small></p>\n<p>Similarly, <code class=\"language-text\">Array&lt;string></code> is also a smaller concept than <code class=\"language-text\">Array&lt;string | number></code>. You can‚Äôt assign an array holding both <code class=\"language-text\">string</code> and <code class=\"language-text\">number</code> to an array declared to hold only <code class=\"language-text\">string</code>, so TypeScript errors.</p>\n<blockquote>\n<p>When type <code class=\"language-text\">T</code> is a subtype of type <code class=\"language-text\">T'</code>, if <code class=\"language-text\">C&lt;T></code> is also a subtype of <code class=\"language-text\">C&lt;T'></code>, we say type <code class=\"language-text\">C</code> is <strong>covariant</strong> or <strong>has covariance</strong>.</p>\n</blockquote>\n<p>Once you understand covariance, the rest is easy. Contravariance is the opposite of covariance. When type <code class=\"language-text\">T</code> is a subtype of type <code class=\"language-text\">T'</code>, if conversely <code class=\"language-text\">C&lt;T'></code> is a subtype of <code class=\"language-text\">C&lt;T></code>, we say type <code class=\"language-text\">C</code> is <strong>contravariant</strong>.</p>\n<p>You might wonder if types need to be evaluated contravariantly. Surprisingly, it‚Äôs close at hand: function parameters, the subject of the <code class=\"language-text\">strictFunctionTypes</code> option.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Func<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> stringOrNumber<span class=\"token operator\">:</span> Func<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> onlyString<span class=\"token operator\">:</span> Func<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\nType 'Func&lt;string>' is not assignable to type 'Func&lt;string | number>'.\n  Type 'string | number' is not assignable to type 'string'.\n    Type 'number' is not assignable to type 'string'.ts(2322)\n*/</span>\nstringOrNumber <span class=\"token operator\">=</span> onlyString<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>I said the <code class=\"language-text\">string</code> type is a subtype of <code class=\"language-text\">string | number</code> in the covariance example.</p>\n<p>If function parameters were evaluated covariantly, <code class=\"language-text\">Func&lt;string></code> would also be a subtype of <code class=\"language-text\">Func&lt;string | number></code>, meaning assigning <code class=\"language-text\">Func&lt;string | number></code> to <code class=\"language-text\">Func&lt;string></code> should cause no problems.</p>\n<p>But this example shows that‚Äôs not the case. <code class=\"language-text\">Func&lt;string | number></code> is clearly a function type that accepts the supertype <code class=\"language-text\">string | number</code> as a parameter, but TypeScript errors when trying to assign a <code class=\"language-text\">Func&lt;string></code> type function that only accepts the subtype <code class=\"language-text\">string</code> as a parameter.</p>\n<p>Function parameters are evaluated contravariantly, operating opposite to covariant <code class=\"language-text\">Array</code> types.</p>\n<p>This behavior might seem difficult, but think about it: the <code class=\"language-text\">onlyString</code> function is type <code class=\"language-text\">Func&lt;string></code>, so it‚Äôs defined assuming the parameter is definitely <code class=\"language-text\">string</code>.</p>\n<p>If we allowed this function to be recognized as one that can accept <code class=\"language-text\">string | number</code> parameters, developers could mistakenly pass <code class=\"language-text\">number</code> arguments to <code class=\"language-text\">onlyString</code>, which would die gloriously with a runtime type error.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/300c81767ca8abe09ea1f7f958e3a5ae/80e3c/cube.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHtRRi95grMG6AX/8QAGhAAAgIDAAAAAAAAAAAAAAAAAhIAAQMQEf/aAAgBAQABBQIzShzPrNF6ddiU5BR6/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/ARIiv//EABgRAAIDAAAAAAAAAAAAAAAAAAARARAh/9oACAECAQE/AdYyK//EABwQAAIBBQEAAAAAAAAAAAAAAAABIQIQERJBUf/aAAgBAQAGPwImmyxL8KdnAzfos8m3/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARIRAxUUH/2gAIAQEAAT8hPQV8IVhguu4AFBkvo1fDNLB0Psa1mxQ6oVMJ704//9oADAMBAAIAAwAAABDL14L/xAAZEQACAwEAAAAAAAAAAAAAAAABIQAQEYH/2gAIAQMBAT8Qb0OdjgbX/8QAGREAAgMBAAAAAAAAAAAAAAAAAREAECFx/9oACAECAQE/ECeUDBqYOV//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhMUEQUXH/2gAIAQEAAT8QpkXMAhFRdFyOYPM3RXZKl7M0/EK4Pn9cviwwp0+8W+3O9Rx5s8Rm/j//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cube\" title=\"\" src=\"/static/300c81767ca8abe09ea1f7f958e3a5ae/c08c5/cube.jpg\" srcset=\"/static/300c81767ca8abe09ea1f7f958e3a5ae/0913d/cube.jpg 160w,\n/static/300c81767ca8abe09ea1f7f958e3a5ae/cb69c/cube.jpg 320w,\n/static/300c81767ca8abe09ea1f7f958e3a5ae/c08c5/cube.jpg 640w,\n/static/300c81767ca8abe09ea1f7f958e3a5ae/80e3c/cube.jpg 720w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>It's like providing instructions saying you can somehow fit a star shape<br>into a hole made for squares only...</small>\n  <br>\n  <br>\n</center>\n<p>Because of this function characteristic, evaluating function parameters contravariantly is much safer, which is why TypeScript provides the <code class=\"language-text\">strictFunctionTypes</code> option.</p>\n<p>With this option disabled, function parameters aren‚Äôt evaluated contravariantly, removing all assignment constraints shown in the example. As mentioned, this increases the chance of developers mistakenly passing wrong types as function arguments, causing runtime errors. Enable <code class=\"language-text\">strictFunctionTypes</code> when possible. <small><del>(It‚Äôs not that inconvenient)</del></small></p>\n<h3 id=\"strictnullchecks\" style=\"position:relative;\">strictNullChecks<a href=\"#strictnullchecks\" aria-label=\"strictnullchecks permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Error when a value might be <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code> in situations requiring a concrete value.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Ignore when a value might be <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code> in situations requiring a concrete value.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">strictNullChecks</code> option errors when a value might be <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code> in situations requiring a concrete value.</p>\n<p>Situations requiring a concrete value are mostly when trying to access an object‚Äôs property like <code class=\"language-text\">foo.a</code>. If the <code class=\"language-text\">foo</code> variable‚Äôs value is <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code>, a runtime reference error occurs.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> people<span class=\"token operator\">:</span> Person<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'evan'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myPerson <span class=\"token operator\">=</span> people<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> name <span class=\"token operator\">===</span> <span class=\"token string\">'john'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Uncaught ReferenceError: myPerson is not defined</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myPerson<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">Array.prototype.find</code> method is defined to return <code class=\"language-text\">T | undefined</code>, since <code class=\"language-text\">find</code> might or might not find the target element in the array.</p>\n<p>So the <code class=\"language-text\">myPerson</code> variable has type <code class=\"language-text\">Human | undefined</code>. Running this code, since there‚Äôs no element with name <code class=\"language-text\">evan</code> in the array, <code class=\"language-text\">myPerson</code> becomes <code class=\"language-text\">undefined</code>, causing a runtime reference error on the final console line.</p>\n<p>With <code class=\"language-text\">strictNullChecks</code> disabled, TypeScript gives no warning or error when accessing properties of <code class=\"language-text\">myPerson</code> even though it might be <code class=\"language-text\">undefined</code>. With it enabled, you get this error:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> people<span class=\"token operator\">:</span> Person<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'evan'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myPerson <span class=\"token operator\">=</span> people<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=></span> value<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'john'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Object is possibly 'undefined'.ts(2532)</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myPerson<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You can solve this by explicitly checking if <code class=\"language-text\">myPerson</code> is <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code> with an <code class=\"language-text\">if</code> statement, or using optional chaining like <code class=\"language-text\">myPerson?.name</code> to maintain type safety.</p>\n<h3 id=\"strictpropertyinitialization\" style=\"position:relative;\">strictPropertyInitialization<a href=\"#strictpropertyinitialization\" aria-label=\"strictpropertyinitialization permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Error if member variables that must exist when an object is created aren‚Äôt initialized.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Ignore member variables that must exist when an object is created but aren‚Äôt initialized.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">strictPropertyInitialization</code> option controls how to handle class member variables with unsafe types.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">UserAccount</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Property 'email' has no initializer and is not definitely assigned in the constructor.</span>\n  email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n  address<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Class <code class=\"language-text\">UserAccount</code> has three member variables. <code class=\"language-text\">name</code> and <code class=\"language-text\">email</code> are declared with types requiring values to exist, while <code class=\"language-text\">address</code> is declared with an optional type that can be <code class=\"language-text\">undefined</code>.</p>\n<p>But the class constructor only initializes the <code class=\"language-text\">name</code> member variable. This way, when an object is created, the <code class=\"language-text\">email</code> member variable that must have a <code class=\"language-text\">string</code> value will be assigned <code class=\"language-text\">undefined</code>, breaking type safety.</p>\n<p>Using <code class=\"language-text\">strictPropertyInitialization</code> errors when objects created using classes have member variables that don‚Äôt match their defined types, maintaining high type safety.</p>\n<h3 id=\"useunknownincatchvariables\" style=\"position:relative;\">useUnknownInCatchVariables<a href=\"#useunknownincatchvariables\" aria-label=\"useunknownincatchvariables permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Evaluate catch statement error argument as <code class=\"language-text\">unknown</code> type.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Evaluate catch statement error argument as <code class=\"language-text\">any</code> type.</td>\n</tr>\n</tbody>\n</table>\n<p>As its name says, the <code class=\"language-text\">useUnknownInCatchVariables</code> option controls what type to evaluate the <code class=\"language-text\">error</code> value passed as a catch statement argument.</p>\n<p>By default, TypeScript evaluates catch statement arguments as <code class=\"language-text\">any</code>, so you write code like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>reason<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>whatever<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With no options set, TypeScript evaluates the catch argument <code class=\"language-text\">e</code> as <code class=\"language-text\">any</code>, so doing anything with this value causes no compile-time errors. But if <code class=\"language-text\">e</code> is <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code>, a runtime reference error could immediately occur.</p>\n<p>Enabling <code class=\"language-text\">useUnknownInCatchVariables</code> makes TypeScript evaluate catch arguments as <code class=\"language-text\">unknown</code> instead of <code class=\"language-text\">any</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Property 'message' does not exist on type 'unknown'.ts(2339)</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// This passes</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Unlike <code class=\"language-text\">any</code> which simply means ‚Äúignore,‚Äù <code class=\"language-text\">unknown</code> means ‚Äútype is unknown, definition needed,‚Äù so you must inform TypeScript about the type.</p>\n<p>Evaluating catch arguments as <code class=\"language-text\">unknown</code> requires type checking inside catch statements, which is slightly annoying. But personally, I think being slightly annoyed while programming beats unexpected runtime errors.</p>\n<h3 id=\"strict-1\" style=\"position:relative;\">strict<a href=\"#strict-1\" aria-label=\"strict 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Enable all Strict-related compiler options at once.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Enable Strict-related compiler options individually.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">strict</code> option doesn‚Äôt do anything itself ‚Äî it lets you toggle all Strict-related options at once. The Strict mode family that can be toggled with <code class=\"language-text\">strict</code> includes:</p>\n<hr>\n<ul>\n<li><a href=\"#alwaysstrict\">alwaysStrict</a></li>\n<li><a href=\"#strictbindcallapply\">strictBindCallApply</a></li>\n<li><a href=\"#strictfunctiontypes\">strictFunctionTypes</a></li>\n<li><a href=\"#strictnullchecks\">strictNullChecks</a></li>\n<li><a href=\"#strictpropertyinitialization\">strictPropertyInitialization</a></li>\n<li><a href=\"#useunknownincatchvariables\">useUnknownInCatchVariables</a></li>\n<li><a href=\"#noimplicitany\">noImplicitAny</a></li>\n<li><a href=\"#noimplicitthis\">noImplictThis</a></li>\n</ul>\n<hr>\n<p>Setting <code class=\"language-text\">strict</code> to <code class=\"language-text\">true</code> also sets all Strict mode family options to <code class=\"language-text\">true</code>, but you can override individual options to <code class=\"language-text\">false</code>.</p>\n<p>The TypeScript team plans to make all new Strict mode family options added in future TypeScript versions manageable via the <code class=\"language-text\">strict</code> option, so keep in mind that updating TypeScript versions might cause new type errors that didn‚Äôt exist before.</p>\n<h2 id=\"etc\" style=\"position:relative;\">etc<a href=\"#etc\" aria-label=\"etc permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This section collects options I found difficult to categorize while organizing. These options also greatly help with safe programming, so I recommend enabling them.</p>\n<h3 id=\"exactoptionalpropertytypes\" style=\"position:relative;\">exactOptionalPropertyTypes<a href=\"#exactoptionalpropertytypes\" aria-label=\"exactoptionalpropertytypes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Guarantee that optional properties truly don‚Äôt exist in the object.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Allow assigning <code class=\"language-text\">undefined</code> to values with optional prefixes.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">exactOptionalPropertyTypes</code> option controls how strictly to handle optional properties expressed with the <code class=\"language-text\">?</code> prefix inside types or interfaces. Let‚Äôs look at an example.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">UserDefaults</span> <span class=\"token punctuation\">{</span>\n  color<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dark\"</span> <span class=\"token operator\">|</span> <span class=\"token string\">\"light\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">color</code> property is declared with the optional prefix <code class=\"language-text\">?</code>, expressing that the property may or may not exist in the interface. So TypeScript evaluates this property‚Äôs type as <code class=\"language-text\">dark | light | undefined</code>.</p>\n<p>There‚Äôs a slight contradiction: optional properties mean ‚Äúthis property may or may not exist,‚Äù not ‚Äúthis property exists but its value is <code class=\"language-text\">undefined</code>.‚Äù Yet TypeScript lets you satisfy optional property conditions by directly assigning <code class=\"language-text\">undefined</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> user<span class=\"token operator\">:</span> UserDefaults <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  color<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// dark | light | undefined</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Enabling <code class=\"language-text\">exactOptionalPropertyTypes</code> makes this impossible. Developers can‚Äôt assign <code class=\"language-text\">undefined</code> to properties declared as optional, and attempting it results in this error from the compiler:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> user<span class=\"token operator\">:</span> UserDefaults <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Type 'undefined' is not assignable to type '\"light\" | \"dark\"'.ts(2322)</span>\n  color<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Looking at the compiler‚Äôs error message, unlike the previous <code class=\"language-text\">dark | light | undefined</code> union type declaration, the type itself is defined as only <code class=\"language-text\">dark | light</code>, judging optional properties only by key existence.</p>\n<h3 id=\"nofallthroughcasesinswitch\" style=\"position:relative;\">noFallthroughCasesInSwitch<a href=\"#nofallthroughcasesinswitch\" aria-label=\"nofallthroughcasesinswitch permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Warn if fallthrough cases exist in <code class=\"language-text\">switch</code> statements.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Ignore fallthrough cases in <code class=\"language-text\">switch</code> statements.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noFallthroughCasesInSwitch</code> option controls whether to warn about fallthrough cases ‚Äî cases where <code class=\"language-text\">switch</code> statements don‚Äôt complete.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> v<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span>\n    <span class=\"token comment\">// Fallthrough case in switch.ts(7029)</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">2</span><span class=\"token operator\">:</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Here, the first case executes and the <code class=\"language-text\">switch</code> doesn‚Äôt terminate ‚Äî instead it continues executing the second case, potentially causing unintended behavior.</p>\n<p>Cases that flow to the next case without terminating the <code class=\"language-text\">switch</code> are called <code class=\"language-text\">Fallthrough cases</code>. Languages like C++ and Swift require explicit keywords like <code class=\"language-text\">[[fallthrough]]</code> so developers immediately see ‚Äúthis case will execute the next case too,‚Äù but JavaScript has no syntax to explicitly express fallthrough cases, making mistakes easy.</p>\n<p>TypeScript provides the <code class=\"language-text\">noFallthroughCasesInSwitch</code> option to warn about fallthrough cases, helping developers clearly recognize them.</p>\n<h3 id=\"nopropertyaccessfromindexsignature\" style=\"position:relative;\">noPropertyAccessFromIndexSignature<a href=\"#nopropertyaccessfromindexsignature\" aria-label=\"nopropertyaccessfromindexsignature permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Prevent using <code class=\"language-text\">.</code> syntax to access properties declared with index signatures.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Allow using <code class=\"language-text\">.</code> syntax to access properties declared with index signatures.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noPropertyAccessFromIndexSignature</code> option prevents using <code class=\"language-text\">.</code> syntax to access properties not predefined in interfaces or types.</p>\n<p>Of course, accessing completely undefined properties should error, but this option concerns ambiguously typed declarations.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">GameSettings</span> <span class=\"token punctuation\">{</span>\n  speed<span class=\"token operator\">:</span> <span class=\"token string\">'fast'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'medium'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'slow'</span><span class=\"token punctuation\">;</span>\n  quality<span class=\"token operator\">:</span> <span class=\"token string\">'high'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'low'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">GameSettings</code> interface has clearly declared <code class=\"language-text\">speed</code> and <code class=\"language-text\">quality</code> properties, plus an index signature property <code class=\"language-text\">[key: string]: string</code>. Index signatures allow everything as long as key and value types are <code class=\"language-text\">string</code>, making the type ambiguous.</p>\n<p>Consider a developer accessing properties of a <code class=\"language-text\">GameSettings</code> typed object based on this type definition.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> getSettings <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> GameSettings <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    speed<span class=\"token operator\">:</span> <span class=\"token string\">'fast'</span><span class=\"token punctuation\">,</span>\n    quality<span class=\"token operator\">:</span> <span class=\"token string\">'high'</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> settings <span class=\"token operator\">=</span> <span class=\"token function\">getSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsettings<span class=\"token punctuation\">.</span>speed<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Good</span>\nsettings<span class=\"token punctuation\">.</span>quality<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Good</span>\nsettings<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Good...?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The developer accesses properties of the <code class=\"language-text\">GameSettings</code> typed <code class=\"language-text\">settings</code> object. Clearly declared <code class=\"language-text\">speed</code> and <code class=\"language-text\">quality</code> properties definitely exist, but <code class=\"language-text\">settings.user</code> is different.</p>\n<p>This property relies on the <code class=\"language-text\">[key: string]: string</code> type declaration, so we can‚Äôt say it clearly exists.</p>\n<p><code class=\"language-text\">noPropertyAccessFromIndexSignature</code> allows accessing definitely-existing properties with <code class=\"language-text\">.</code> syntax but forces using Index syntax like <code class=\"language-text\">settings['user']</code> for potentially non-existent properties, enforcing distinction between these two cases.</p>\n<h3 id=\"nouncheckedindexedaccess\" style=\"position:relative;\">noUncheckedIndexedAccess<a href=\"#nouncheckedindexedaccess\" aria-label=\"nouncheckedindexedaccess permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">true</code></td>\n<td>Evaluate properties declared with index signatures as Optional types.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">false</code> (default)</td>\n<td>Evaluate properties declared with index signatures only as their defined types.</td>\n</tr>\n</tbody>\n</table>\n<p>The <code class=\"language-text\">noUncheckedIndexedAccess</code> option controls how to infer properties declared with index signatures.</p>\n<p>By default, TypeScript infers index signature properties exactly as declared, like <code class=\"language-text\">[key: string]: string</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">EnvironmentVars</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> env<span class=\"token operator\">:</span> EnvironmentVars <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> nodeEnv <span class=\"token operator\">=</span> env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// string</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>But as mentioned, properties declared with index signatures are optional values that may or may not exist. So <code class=\"language-text\">env.NODE_ENV</code>‚Äôs type is actually <code class=\"language-text\">string | undefined</code>, not <code class=\"language-text\">string</code>.</p>\n<p><code class=\"language-text\">noUncheckedIndexedAccess</code> evaluates index signature properties as <code class=\"language-text\">T | undefined</code> types to prevent potential runtime reference errors.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>TypeScript‚Äôs type checking compiler options help maintain high type safety, but they can present a steep learning curve for developers unfamiliar with statically typed languages like TypeScript.</p>\n<p>Some projects use TypeScript from creation, but organizations gradually adopting TypeScript from JavaScript also exist. Providing these diverse options to build the desired static typing environment is a big advantage. <small><del>(Though you also need to study the options‚Ä¶)</del></small></p>\n<p><a href=\"/2021/08/22/tsconfig-compiler-options-modules/\">In the next post</a>, I‚Äôll discuss compiler options that control ‚Äúwhich source code to compile in what way to create output‚Äù during compilation.</p>\n<p>That concludes this post: [Everything About tsconfig] Compiler options / Type Checking.</p>","fields":{"slug":"20210808-tsconfig-compiler-options-type-check-en","path":"/2021/08/08/tsconfig-compiler-options-type-check/en/","lang":"en"},"frontmatter":{"title":"[Everything About tsconfig] Compiler Options / Type Checking","subTitle":null,"date":"Aug 08, 2021","categories":["Programming","Tutorial","JavaScript"],"tags":["TypeScript","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/56bd7d19cbdec50908e5f57ff0589f62/d803c/thumbnail.png","srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/d803c/thumbnail.png 320w,\n/static/56bd7d19cbdec50908e5f57ff0589f62/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/fc5c5/thumbnail.webp 320w,\n/static/56bd7d19cbdec50908e5f57ff0589f62/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/56bd7d19cbdec50908e5f57ff0589f62/01fb2/thumbnail.png","srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/56bd7d19cbdec50908e5f57ff0589f62/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"a50cae02-ac76-53ec-aafc-d675064c2691","tableOfContents":"<ul>\n<li><a href=\"#include\">include</a></li>\n<li><a href=\"#files\">files</a></li>\n<li><a href=\"#exclude\">exclude</a></li>\n<li><a href=\"#extends\">extends</a></li>\n<li><a href=\"#references\">references</a></li>\n<li><a href=\"#closing-thoughts\">Closing Thoughts</a></li>\n</ul>","excerpt":"It‚Äôs been about four years since I started using TypeScript. I fell in love with the powerful static type checking that TypeScript provides ‚Äî something JavaScript doesn‚Äôt have ‚Äî and I‚Äôve written quite a few projects in TypeScript since then.","html":"<p>It‚Äôs been about four years since I started using TypeScript. I fell in love with the powerful static type checking that TypeScript provides ‚Äî something JavaScript doesn‚Äôt have ‚Äî and I‚Äôve written quite a few projects in TypeScript since then.</p>\n<!-- more -->\n<p>A few days ago, while creating a new TypeScript project and naturally setting up <code class=\"language-text\">tsconfig</code> as usual, something wasn‚Äôt working as expected. While spending time looking through the <a href=\"https://www.typescriptlang.org/tsconfig\" target=\"_blank\" rel=\"nofollow\">official tsconfig docs</a>, this thought suddenly hit me.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5fe0821bc535c0c02b3be547c5507fb8/7bf67/jordan-peele.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHlNNiqGkC//8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIAAxARIf/aAAgBAQABBQIjTNg9iypQV//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/Aar/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAEAAwAAAAAAAAAAAAAAAAAAASAx/9oACAEBAAY/AkUx/8QAGBABAAMBAAAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8hG5ex2OHCabs3Y6Syttn/2gAMAwEAAgADAAAAEKjv/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/EMBH/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxB5So//xAAbEAEAAwEAAwAAAAAAAAAAAAABABFBITFRcf/aAAgBAQABPxBRQTZsIZvplZEPynD7tjX44cc5GAlctn//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"jordan peele\" title=\"\" src=\"/static/5fe0821bc535c0c02b3be547c5507fb8/c08c5/jordan-peele.jpg\" srcset=\"/static/5fe0821bc535c0c02b3be547c5507fb8/0913d/jordan-peele.jpg 160w,\n/static/5fe0821bc535c0c02b3be547c5507fb8/cb69c/jordan-peele.jpg 320w,\n/static/5fe0821bc535c0c02b3be547c5507fb8/c08c5/jordan-peele.jpg 640w,\n/static/5fe0821bc535c0c02b3be547c5507fb8/7bf67/jordan-peele.jpg 680w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Wait... do I actually know what I'm using...?</small>\n</center>\n<p>Maybe it‚Äôs just me, but when you work on various projects, you don‚Äôt often hand-write <code class=\"language-text\">tsconfig</code> from scratch anymore.</p>\n<p>Of course, when you first developed a project in TypeScript, you probably wrote it carefully by hand. <small><del>(Actually, it‚Äôs been so long I barely remember‚Ä¶)</del></small> But at some point, I started just copy-pasting <code class=\"language-text\">tsconfig</code> from existing working projects into new projects and doing only slight customization myself.</p>\n<p>So I decided to return to basics and carefully examine what each option in <code class=\"language-text\">tsconfig</code> actually does to my TypeScript projects.</p>\n<p>I wanted to cover everything about <code class=\"language-text\">tsconfig</code> in a single post, but this thing has so many compiler options that the post ended up exceeding 500 lines. So in this post, I‚Äôll only examine the root-level fields in <code class=\"language-text\">tsconfig</code>, and continue explaining compiler options in subsequent posts.</p>\n<h2 id=\"include\" style=\"position:relative;\">include<a href=\"#include\" aria-label=\"include permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string[]</code></td>\n<td><code class=\"language-text\">[]</code>, <code class=\"language-text\">['**/*']</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"src/**/*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"tests/**/*\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">include</code> field declares which files to include in your TypeScript application. Its default value changes based on whether the <code class=\"language-text\">files</code> field exists: if <code class=\"language-text\">files</code> is declared, the default is <code class=\"language-text\">[]</code>, otherwise it‚Äôs <code class=\"language-text\">[\"**/*\"]</code>.</p>\n<p>This field does something similar to <code class=\"language-text\">files</code>, but <code class=\"language-text\">include</code> lets you use glob syntax to express patterns for file paths, so people generally use <code class=\"language-text\">include</code> over <code class=\"language-text\">files</code>.</p>\n<p>Glob syntax uses wildcards like <code class=\"language-text\">*</code> or <code class=\"language-text\">?</code> to represent patterns for multiple file names. The syntax itself is similar to regular expressions, so it‚Äôs not too hard to learn.</p>\n<table>\n<thead>\n<tr>\n<th>Wildcard</th>\n<th>Description</th>\n<th>Example</th>\n<th>Matching filenames</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">*</code></td>\n<td>Matches 0+ characters excluding <code class=\"language-text\">/</code></td>\n<td><code class=\"language-text\">types*.ts</code></td>\n<td>types.d.ts, types.ts, types.test.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">**</code></td>\n<td>Matches 0+ characters including <code class=\"language-text\">/</code></td>\n<td><code class=\"language-text\">src/**/index.ts</code></td>\n<td>src/index.ts, src/utils/index.ts, src/test/index.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">?</code></td>\n<td>Matches a single character, same as <code class=\"language-text\">.</code> in regex</td>\n<td><code class=\"language-text\">?at.ts</code></td>\n<td>Cat.ts, Bat.ts, Rat.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">[ab]</code></td>\n<td>Matches one character in <code class=\"language-text\">[]</code></td>\n<td>`[C</td>\n<td>B]at.ts`</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">[a-z]</code></td>\n<td>Matches character range in <code class=\"language-text\">[]</code></td>\n<td><code class=\"language-text\">test[0-9].ts</code></td>\n<td>test0.ts, test1.ts, test9.ts</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">{ab,bc}</code></td>\n<td>Matches one string in <code class=\"language-text\">{}</code></td>\n<td><code class=\"language-text\">*.{ts,tsx}</code></td>\n<td>foo.ts, foo.tsx</td>\n</tr>\n</tbody>\n</table>\n<p>Glob syntax is useful in almost every situation where you need to match files through file paths. Once you get familiar with it, configuration files you encounter while programming will feel much friendlier.</p>\n<h2 id=\"files\" style=\"position:relative;\">files<a href=\"#files\" aria-label=\"files permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string[]</code></td>\n<td><code class=\"language-text\">false</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/index.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"./src/utils.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"./src/models.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">files</code> field explicitly declares which files to include in your TypeScript application. It‚Äôs similar to <code class=\"language-text\">includes</code>, but <code class=\"language-text\">files</code> can‚Äôt use glob syntax like <code class=\"language-text\">src/**/*</code>, so you have to enter each filename individually ‚Äî a disadvantage.</p>\n<p>If the <code class=\"language-text\">files</code> field has values, the <code class=\"language-text\">includes</code> field‚Äôs default changes from <code class=\"language-text\">['**/*']</code> to an empty array <code class=\"language-text\">[]</code>. If you were relying on the default value of the <code class=\"language-text\">includes</code> field, adding values to the <code class=\"language-text\">files</code> field could completely change your compilation output. Keep this in mind.</p>\n<h2 id=\"exclude\" style=\"position:relative;\">exclude<a href=\"#exclude\" aria-label=\"exclude permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string[]</code></td>\n<td><code class=\"language-text\">['node_modules', 'bower_components', 'jspm_packages']</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"src/**/*\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"exclude\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"src/**/*.test.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"node_modules\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">exclude</code> field, true to its dictionary meaning of ‚Äúexclude,‚Äù lets you configure ‚Äúdon‚Äôt include these files‚Äù among files declared in the <code class=\"language-text\">include</code> field.</p>\n<p>Looking at this field‚Äôs default values ‚Äî <code class=\"language-text\">node_modules</code>, <code class=\"language-text\">bower_components</code>, <code class=\"language-text\">jspm_packages</code> ‚Äî you can see that TypeScript packages are typically built and distributed as a combination of <code class=\"language-text\">js</code> + <code class=\"language-text\">*.d.ts</code> files. TypeScript assumes these external packages are already built.</p>\n<p>If you need to compile external packages, modify the <code class=\"language-text\">exclude</code> field. <small>(By the way, <code class=\"language-text\">Next.js</code> sets up projects with <code class=\"language-text\">node_modules</code> in this field by default, and even if you remove it, it automatically adds it back during build‚Ä¶)</small></p>\n<p>One important thing: the <code class=\"language-text\">exclude</code> field just means ‚Äúdon‚Äôt look for this‚Äù when finding files set in the <code class=\"language-text\">include</code> field, so files in this field aren‚Äôt necessarily excluded from your application.</p>\n<p>Even with directories like <code class=\"language-text\">node_modules</code> set in the <code class=\"language-text\">exclude</code> field, if you directly import such modules in code using import statements, or use triple-slash directives like <code class=\"language-text\">/// &lt;reference path=\"...\" /></code> to directly instruct the compiler to include specific modules, or explicitly specify files to compile using the <code class=\"language-text\">files</code> field, TypeScript ignores the <code class=\"language-text\">exclude</code> field settings and imports those modules.</p>\n<h2 id=\"extends\" style=\"position:relative;\">extends<a href=\"#extends\" aria-label=\"extends permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">string</code></td>\n<td><code class=\"language-text\">false</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.base.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"noImplicitAny\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"strictNullChecks\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Extends settings from tsconfig.base.json</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.base.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/main.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">extends</code> field, as its name suggests, lets you specify a path to another <code class=\"language-text\">tsconfig</code> and inherit from it. Personally, I‚Äôve mainly used this when taking settings someone else made and customizing them slightly, or when there are settings I want to apply to all projects in a monorepo.</p>\n<p>If the inherited <code class=\"language-text\">tsconfig.base.json</code> has relative paths like <code class=\"language-text\">./src</code> in its internal fields, those relative paths are calculated based on the <code class=\"language-text\">tsconfig.json</code> that‚Äôs doing the inheriting.</p>\n<p>Also, when defining a new <code class=\"language-text\">tsconfig</code> by inheriting from another <code class=\"language-text\">tsconfig</code>, fields declared using arrays like <code class=\"language-text\">files</code>, <code class=\"language-text\">include</code>, <code class=\"language-text\">exclude</code> aren‚Äôt extended ‚Äî the fields themselves are overwritten. Keep this in mind.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.base.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/main.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.base.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"./src/index.ts\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In this situation, the final <code class=\"language-text\">files</code> field isn‚Äôt merged into <code class=\"language-text\">[\"./src/main.ts\", \"./src/index.ts\"]</code> but evaluated as <code class=\"language-text\">[\"./src/index.ts\"]</code>. Looking at the field name <code class=\"language-text\">extends</code>, you‚Äôd think it would extend the field values, but it just coolly overwrites them without any warning or error. Be careful.</p>\n<h2 id=\"references\" style=\"position:relative;\">references<a href=\"#references\" aria-label=\"references permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">Array&lt;{ path: string; prepend: boolean; }></code></td>\n<td><code class=\"language-text\">false</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// my-project/test/tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"references\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// References my-project/src/tsconfig.json</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../src\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">reference</code> field expresses reference relationships between modules when using multiple <code class=\"language-text\">tsconfig</code> files for different modules within the same project. Since most projects use only one <code class=\"language-text\">tsconfig</code>, this is rarely used.</p>\n<p>TypeScript provides this option for situations like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ converter.ts\n‚îÇ   ‚îî‚îÄ‚îÄ units.ts\n‚îú‚îÄ‚îÄ test/\n‚îÇ   ‚îú‚îÄ‚îÄ converter-tests.ts\n‚îÇ   ‚îî‚îÄ‚îÄ units-tests.ts\n‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This project has source code and test code separated into different directories, with one root <code class=\"language-text\">tsconfig</code> managing compilation options for the entire project. This is a fairly common structure, but once you build it and start developing, a few inconveniences emerge:</p>\n<blockquote>\n<ol>\n<li>Source code in the <code class=\"language-text\">src</code> module can import test code from the <code class=\"language-text\">test</code> module‚Ä¶</li>\n<li>Even when modifying parts of source code that never error, test code has to be type-checked again‚Ä¶</li>\n<li>Conversely, fixing test code means source code has to be type-checked again‚Ä¶</li>\n</ol>\n</blockquote>\n<p>These inconveniences are manageable normally, but as the project grows, the compiler‚Äôs type checking proportionally slows down, potentially making development itself difficult. So what if we create separate <code class=\"language-text\">tsconfig</code> files for each project module and compile separately?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ converter.ts\n‚îÇ   ‚îú‚îÄ‚îÄ units.ts\n‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json\n‚îî‚îÄ‚îÄ test/\n    ‚îú‚îÄ‚îÄ converter-tests.ts\n    ‚îú‚îÄ‚îÄ units-tests.ts\n    ‚îî‚îÄ‚îÄ tsconfig.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Configuring each module with its own <code class=\"language-text\">tsconfig</code> somewhat solves the problems mentioned above. But in this case, you need to compile each module separately, and since <code class=\"language-text\">tsc</code> is fundamentally built to spawn only one process, you can‚Äôt build based on multiple <code class=\"language-text\">tsconfig</code> files simultaneously or watch source code changes.</p>\n<p>The TypeScript team tries to solve this problem with the <code class=\"language-text\">references</code> field.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token comment\">// my-project/test/tsconfig.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"references\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// References my-project/src/tsconfig.json</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../src\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This example uses the <code class=\"language-text\">references</code> field to express that the <code class=\"language-text\">test</code> module references the <code class=\"language-text\">src</code> module. When the <code class=\"language-text\">test</code> module imports submodules from the <code class=\"language-text\">src</code> module, it imports the built output <code class=\"language-text\">*.d.ts</code> files rather than the source <code class=\"language-text\">*.ts</code> code. <small>(Using <code class=\"language-text\">tsc --build</code> detects the module‚Äôs latest state and even does incremental builds.)</small></p>\n<p>For more details about project references, check the official TypeScript <a href=\"https://www.typescriptlang.org/docs/handbook/project-references.html\" target=\"_blank\" rel=\"nofollow\">Project References</a> documentation, as it‚Äôs beyond the scope of this post.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In this post, I examined the roles of several root-level fields in <code class=\"language-text\">tsconfig</code>. I wanted to cleanly organize <code class=\"language-text\">tsconfig</code> in a single post, but since this thing has such extensive options, I had no choice but to split it into multiple posts.</p>\n<p><a href=\"/2021/08/08/tsconfig-compiler-options-type-check/\">In the next post</a>, I‚Äôll discuss options related to type checking among TypeScript‚Äôs compiler options.</p>\n<p>That concludes this post: [Everything About tsconfig] Root fields.</p>","fields":{"slug":"20210730-tsconfig-options-root-fields-en","path":"/2021/07/30/tsconfig-options-root-fields/en/","lang":"en"},"frontmatter":{"title":"[Everything About tsconfig] Root Fields","subTitle":null,"date":"Jul 30, 2021","categories":["Programming","Tutorial","JavaScript"],"tags":["TypeScript","tsconfig"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/18562cf9f40ec5572baa9105e9ecddbd/d803c/thumbnail.png","srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/d803c/thumbnail.png 320w,\n/static/18562cf9f40ec5572baa9105e9ecddbd/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/fc5c5/thumbnail.webp 320w,\n/static/18562cf9f40ec5572baa9105e9ecddbd/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/18562cf9f40ec5572baa9105e9ecddbd/01fb2/thumbnail.png","srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/18562cf9f40ec5572baa9105e9ecddbd/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"291b2741-13ed-52c0-89e8-e5ae34330c89","tableOfContents":"<ul>\n<li>\n<p><a href=\"#when-bad-regex-causes-late-nights-at-the-office\">When Bad Regex Causes Late Nights at the Office</a></p>\n<ul>\n<li><a href=\"#the-regex-that-never-ends\">The Regex That Never Ends</a></li>\n<li><a href=\"#problems-regex-simply-cannot-solve\">Problems Regex Simply Cannot Solve</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#why-were-regular-expressions-created\">Why Were Regular Expressions Created?</a></p>\n<ul>\n<li><a href=\"#expressing-languages-that-machines-can-understand\">Expressing Languages That Machines Can Understand</a></li>\n<li><a href=\"#the-runtime-environment-for-regex-finite-automata\">The Runtime Environment for Regex: Finite Automata</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#the-limitations-of-regular-expressions\">The Limitations of Regular Expressions</a></p>\n<ul>\n<li><a href=\"#why-regex-cant-understand-html\">Why Regex Can‚Äôt Understand HTML</a></li>\n<li><a href=\"#regex-is-ultimately-a-finite-automaton\">Regex Is Ultimately a Finite Automaton</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing thoughts</a></p>\n</li>\n</ul>","excerpt":"This post is the third installment in my series about regular expressions, that dreaded beast whose name alone is enough to make you break a sweat. As everyone knows, regex is infamous for its gnarly syntax, and there‚Äôs no shortage of posts out there (like my own Finding Patterns in Irregularity) that break down regex grammar and usage.","html":"<p>This post is the third installment in my series about regular expressions, that dreaded beast whose name alone is enough to make you break a sweat.</p>\n<p>As everyone knows, regex is infamous for its gnarly syntax, and there‚Äôs no shortage of posts out there (like my own <a href=\"/2020/07/24/about-regular-expression\">Finding Patterns in Irregularity</a>) that break down regex grammar and usage.</p>\n<!-- more -->\n<p>On the flip side, once you get comfortable with that gnarly syntax, you can solve a surprisingly wide range of string problems with short regex patterns. This is why regex occupies a love-hate place in most developers‚Äô hearts. <del>(Most developers I know aren‚Äôt exactly fans of regex either‚Ä¶)</del></p>\n<p>So when solving problems with regex, many of us either copy-paste patterns found via Google or hack away on sites like <a href=\"https://regexr.com/\" target=\"_blank\" rel=\"nofollow\">regexr</a>, and in the process, it‚Äôs not uncommon to use a flawed regex without proper validation and pay the price.</p>\n<p>Of course, looking at a regex and determining whether it‚Äôs correct isn‚Äôt easy. But if you understand why regular expressions were created in the first place and what kind of environment they were designed to run in, the limitations of regex become naturally apparent.</p>\n<p>In this post, I‚Äôll explore the purpose and limitations of regular expressions through a single question that‚Äôs especially familiar to frontend developers like me: can you parse HTML using only regex?</p>\n<h2 id=\"when-bad-regex-causes-late-nights-at-the-office\" style=\"position:relative;\">When Bad Regex Causes Late Nights at the Office<a href=\"#when-bad-regex-causes-late-nights-at-the-office\" aria-label=\"when bad regex causes late nights at the office permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Before diving in, let‚Äôs look at what can happen when a poorly written regex makes it into your code.</p>\n<p>The kind of ‚Äúpoorly written‚Äù regex I‚Äôm talking about here isn‚Äôt the ‚Äúthe regex was supposed to find <code class=\"language-text\">a</code> but found <code class=\"language-text\">b</code>‚Äù variety. That kind of mistake is just unfamiliarity with regex syntax ‚Äî spend a bit more time studying the pattern and anyone can spot the error.</p>\n<p>What I‚Äôm talking about are performance issues that arise from not understanding how regex works internally, or the sad situation of spending hours trying to solve a problem that regex fundamentally cannot solve.</p>\n<p>Of course, the regex engine exists as an abstraction layer so developers can use regex without understanding these internals. But trusting the engine too blindly can absolutely come back to bite you.</p>\n<h3 id=\"the-regex-that-never-ends\" style=\"position:relative;\">The Regex That Never Ends<a href=\"#the-regex-that-never-ends\" aria-label=\"the regex that never ends permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The first kind of bite is a performance issue that can occur when you don‚Äôt understand how regex matches patterns.</p>\n<p>Regex uses a <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/backtracking-in-regular-expressions\" target=\"_blank\" rel=\"nofollow\">backtracking</a> algorithm based on DFS (depth-first search) to match string patterns. This means that depending on which nodes are explored and under what conditions, the matching time can become surprisingly long.</p>\n<p>In particular, the regex engine built into JavaScript engines operates synchronously, not asynchronously. So if a regex takes a long time to match, nothing else can execute during that time: a truly painful scenario.</p>\n<p>If that‚Äôs hard to picture, open a new browser tab and try running this in the console. <del>(Do it in another tab so you can still read this post‚Ä¶)</del></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Always exactly 8 explorations regardless of string length</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123123123123123123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 26 explorations</span>\n<span class=\"token comment\">// This finishes quickly</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 98,306 explorations</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123123123123123!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Uh... the computation never ends....</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123123123123123123123123123123123123123123!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The first example always completes in just 8 explorations regardless of string length. But in the second example, adding a single special character to the end causes the number of operations to grow exponentially, eventually reaching the point where it never finishes.</p>\n<p>If this happened in an actual business application, the user would be staring at a frozen screen, unable to interact with any UI element. There‚Äôs even an attack method called <a href=\"https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS\" target=\"_blank\" rel=\"nofollow\">ReDoS</a> that exploits exactly this behavior to bring systems to a halt.</p>\n<p>This is the kind of late-night debugging session you might find yourself in when you don‚Äôt understand how regex works under the hood.</p>\n<p>What makes it even more frustrating is that these regex patterns don‚Äôt throw errors; they just take exponentially longer to execute. That makes it even easier to get blindsided. And even if you do track it down, these kinds of bugs are notoriously hard to find. <del>(And even if you do find it, realizing the culprit is a regex is its own kind of despair‚Ä¶)</del></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/eb72386d97e23ce4f176bfa012c913c9/6a068/noway.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGQ9ugmcLFf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQMAAhIRQf/aAAgBAQABBQLyy8ViaAx6xjpn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABkQAAIDAQAAAAAAAAAAAAAAAAABEBEhUv/aAAgBAQAGPwIWwrL5j//EABkQAQEAAwEAAAAAAAAAAAAAAAEAEBEhYf/aAAgBAQABPyGEvpcArrduSs9r/9oADAMBAAIAAwAAABCc7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxATG2//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EJqRp//EABoQAQADAQEBAAAAAAAAAAAAAAEAETEhUUH/2gAIAQEAAT8QqwCCmsVKH0+ZPNyDdb1h2MA0cFsRaqUcvP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"noway\" title=\"\" src=\"/static/eb72386d97e23ce4f176bfa012c913c9/c08c5/noway.jpg\" srcset=\"/static/eb72386d97e23ce4f176bfa012c913c9/0913d/noway.jpg 160w,\n/static/eb72386d97e23ce4f176bfa012c913c9/cb69c/noway.jpg 320w,\n/static/eb72386d97e23ce4f176bfa012c913c9/c08c5/noway.jpg 640w,\n/static/eb72386d97e23ce4f176bfa012c913c9/6a068/noway.jpg 960w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The face you make when you realize your overtime was caused by a single bad regex.</small>\n</center>\n<p>Because of how the backtracking algorithm works, the exploration path can dramatically impact performance. So when using regex, you should always keep in mind that unexpected situations like this can occur.</p>\n<h3 id=\"problems-regex-simply-cannot-solve\" style=\"position:relative;\">Problems Regex Simply Cannot Solve<a href=\"#problems-regex-simply-cannot-solve\" aria-label=\"problems regex simply cannot solve permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The second kind of bite is trying to solve a problem with regex that regex fundamentally cannot solve.</p>\n<p>The first situation can at least be detected through performance monitoring: ‚Äúsomething‚Äôs off with this regex.‚Äù But this second situation? If you don‚Äôt understand the principles and limitations of regex, you could spend an entire week going in circles. Personally, I find this second scenario the sadder one.</p>\n<p>As I‚Äôll explain below, regex is not some master key that can find patterns in any string. It‚Äôs actually a tool with strict limitations.</p>\n<p>Most notably, languages with arbitrarily nested tags or brackets ‚Äî like HTML and CSS ‚Äî cannot be validated with regex. So the answer to this post‚Äôs title question, ‚ÄúCan you parse HTML with regex?‚Äù is:</p>\n<center>\n.<br/>\n.<br/>\n.<br/>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1f85f28d9af3c34a4c07a14d96563b68/066f9/x.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 116.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHJSPJcQS1AyCv/xAAdEAACAQQDAAAAAAAAAAAAAAABAgADERIyEyEx/9oACAEBAAEFAqZXj6WPuptSzj7hrByRD7//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwFj/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BI//EABwQAAICAgMAAAAAAAAAAAAAAAABAhEhcRAxMv/aAAgBAQAGPwJXRHOx7EzpDFhM8RV8f//EAB0QAAICAgMBAAAAAAAAAAAAAAERACExYRBBUaH/2gAIAQEAAT8hEyigBia/XBVc9QWob1PthiyIKDmX6BCO7zP/2gAMAwEAAgADAAAAEIPoQP/EABURAQEAAAAAAAAAAAAAAAAAACAh/9oACAEDAQE/EIH/xAAWEQEBAQAAAAAAAAAAAAAAAAAQESH/2gAIAQIBAT8Q0U//xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMbFBcVGBwf/aAAgBAQABPxAJEjA+4AjKsBBKeOIteG3FOBiiTWTdQgB5RgvplO/uAoEhyHZwDA4qjJh3PM2vuf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"x\" title=\"\" src=\"/static/1f85f28d9af3c34a4c07a14d96563b68/066f9/x.jpg\" srcset=\"/static/1f85f28d9af3c34a4c07a14d96563b68/0913d/x.jpg 160w,\n/static/1f85f28d9af3c34a4c07a14d96563b68/cb69c/x.jpg 320w,\n/static/1f85f28d9af3c34a4c07a14d96563b68/066f9/x.jpg 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\"No.\"</small>\n</center>\n<p>If you didn‚Äôt know that parsing HTML with regex alone is impossible, you could end up wasting a lot of time trying to solve a literally unsolvable problem.</p>\n<p>But wait ‚Äî many of us, myself included, have used regex to work with HTML before. So why am I saying it can‚Äôt be done?</p>\n<p>The key distinction is that what we were actually doing was checking small, constrained rules like ‚Äúdid a <code class=\"language-text\">&lt;div></code> tag open and close?‚Äù, not validating an entire HTML document.</p>\n<p>To understand why full HTML validation is impossible with regex, we need to look at the context in which regex was developed, the assumptions it was built on, and the limitations that follow.</p>\n<h2 id=\"why-were-regular-expressions-created\" style=\"position:relative;\">Why Were Regular Expressions Created?<a href=\"#why-were-regular-expressions-created\" aria-label=\"why were regular expressions created permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The term ‚Äúregular expression‚Äù is already familiar to developers ‚Äî so familiar, in fact, that it‚Äôs spawned various nicknames and memes in developer communities around the world.</p>\n<p>But few people stop to wonder why it has this peculiar name: ‚Äúregular expression.‚Äù So as a first step toward understanding what regex actually does, let‚Äôs think about what this name means.</p>\n<p>The English word ‚Äúregular‚Äù means something that follows a rule or pattern. A ‚Äúregular expression‚Äù is literally an expression that represents a regular pattern. That‚Äôs why we generally think of regex as a tool for matching patterns in strings.</p>\n<p>The word ‚Äúpattern‚Äù here doesn‚Äôt just mean simple repetition like <code class=\"language-text\">12121212</code>. It encompasses any rule a user defines, such as ‚Äù<code class=\"language-text\">a</code> appears twice, followed immediately by <code class=\"language-text\">b</code>.‚Äù</p>\n<p>So the most basic use of regex is finding patterns in strings. But regex wasn‚Äôt actually created just to satisfy the need for string pattern matching. So what kind of pattern is a regular expression actually expressing?</p>\n<h3 id=\"expressing-languages-that-machines-can-understand\" style=\"position:relative;\">Expressing Languages That Machines Can Understand<a href=\"#expressing-languages-that-machines-can-understand\" aria-label=\"expressing languages that machines can understand permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As mentioned, regex was born to express patterns. But to truly understand its origins, what matters more is understanding <em>why</em> people wanted to find patterns in strings in the first place.</p>\n<p>The short answer: regular expressions originated from the effort to express languages that machines can understand. In other words, regex was born as a concept for mathematically expressing language so that machines could recognize it.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 562px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4f4d2658e241ef2ff07b2ea1ebe8d947/9f2bf/kleene.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 142.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAwH/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABroo6pqJCLVJzJUOi/wD/xAAbEAEBAQADAQEAAAAAAAAAAAACAwEAERITBP/aAAgBAQABBQL6Hn6L+eCrRROW+M9CkZrN6pR+hgyppRSUabQRzof/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAADAAIBBQAAAAAAAAAAAAAAAQIRMSESIlFiof/aAAgBAQAGPwLZwzJXfm38F1rnWRzVjbF7SKsrRUp8ZJb2rMeD/8QAGxAAAwEBAQEBAAAAAAAAAAAAAAERITFxQVH/2gAIAQEAAT8hxskCauX0WQ46yvMY2BEauD2FX45g++ad2YxCieNj8HbZekqWpoYE4L6hX31Ef//aAAwDAQACAAMAAAAQaCD8/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQEf/aAAgBAwEBPxBbwn//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAgEAEAAgEEAgMAAAAAAAAAAAABESEAMUFxkVGBodHw/9oACAEBAAE/EGdoyUm44w4zG9VoisIB2H3hxLJEGF8mIcZk32CbRK9ZMGUixUVWSWqgKTn4xBVqlzFs864rVAhh7JyCACCe44rAtSaixJr9OTtJVNK1D1MZ/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kleene\" title=\"\" src=\"/static/4f4d2658e241ef2ff07b2ea1ebe8d947/9f2bf/kleene.jpg\" srcset=\"/static/4f4d2658e241ef2ff07b2ea1ebe8d947/0913d/kleene.jpg 160w,\n/static/4f4d2658e241ef2ff07b2ea1ebe8d947/cb69c/kleene.jpg 320w,\n/static/4f4d2658e241ef2ff07b2ea1ebe8d947/9f2bf/kleene.jpg 562w\" sizes=\"(max-width: 562px) 100vw, 562px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>Stephen Kleene, who in 1951 first used regular sets to mathematically describe language</small>\n  <br>\n  <br>\n</center>\n<p>Of course, ‚Äúlanguages that machines can understand‚Äù at the time didn‚Äôt mean high-level natural languages like the ones we research today.</p>\n<p>Here, ‚Äúlanguage‚Äù doesn‚Äôt mean natural languages like English or Korean. It‚Äôs a more abstract concept. Just as we call programming languages ‚Äúlanguages,‚Äù in computer science and mathematics, a language simply means a set of strings that follow certain rules.</p>\n<h4 id=\"the-mathematical-definition-of-language\" style=\"position:relative;\">The Mathematical Definition of Language<a href=\"#the-mathematical-definition-of-language\" aria-label=\"the mathematical definition of language permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>We all have an intuitive sense of what a ‚Äúlanguage‚Äù is, but most of us have never rigorously defined it.</p>\n<p>In computer science and mathematics, however, intuitive knowledge doesn‚Äôt cut it. If you want to use the concept of ‚Äúlanguage‚Äù in these fields, you need a precise definition.</p>\n<p>A language, in the mathematical and computer science sense, is simply a set of strings ‚Äî nothing more, nothing less.</p>\n<center>\n  <div style=\"max-width: 500px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6ddec89701fd0b1be27aa0c351fb400f/3534c/language_set.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 105%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVR42n1VWU9TYRC9PxAoW4FuQAsJWygF2SWENSmlgO8+EaDCpfokxgARxKAoxEQkbMGG4ANqQvTFGOS2x55pptwWtcnkW+58Z+acme+rgTu/FK5vLDz9cIXF3a8w975h8e0lltJm7n5BbOcSzz5e4cZKim/+z7AvksmkjD+vLSzsfcf9h88RmnqE4OSC2L0ZE6GZZZjvf+DXbysTPpX6O6B+SCQ+IRyJIrr4Eg+evEN06RWml19jOv4mM3+8g8nYC0xGp/D54uIOqGHPbGNjAx6PB8XFxXB73PB4ffD6fDLq3JseKysr4SgqQnV1Nba3t3PYGTpZW1sToIqKCjngdDrTcyeqqqpyzO12IRDwo6amRnzLysqwtbWVBZUMT09P4XK5xKG2thYNDQ2or69HXV2d7KsRkECjo6Nobm6WNYN7vV6cn5/fUh4eHs7QdLsFaGxsDAMDA+jo6JA9OyBHgmSydQuYw+FAOBzOAB4cHKC8vDx7gM5c00ib+zxIbX1pDRWce2SkUpA6mRqzs7MSgVRpjMgDBKAjaQ8NDWF8fBxdXV0CxKCtra3CrLe3FyMjIwiFQjBNEwadCcAPnDc2Nkpkpaq0NJAaA1JPZq0FmpiYgNHe3i7U7FrZjdnQWaufXyTVsqSkBH19ff8H5F4gEBDaLBbn9mrzrGZLwP7+fhjkX1paKqnzgz06193d3RKZVacsWml+o+b2DCORCIy5uTkUFBSIqC0tLVn91EhTaXPUfaVLUGbOtovH4zD29/elRXxyrW6F17bR1rAH0Cy5JgP2K/2Oj48zjT04OCgpa6sQuKenB21tbdIefr8/KwO7gJpqgQjKtmNbZW/K0dGRRLA3cWdnp4AGg0FZs3GZdVNTkxRIr5xmf3Z2lvs4rKysoCj9ghCUjjxMEAaitqwo769SpkQcqd36+nru46Cgq6urAqj0CcwnigXjLWF23GNGBKLP5uZm7vOV/1rzPvJKsSDUhuCFhYXSCWTAPWZNzRKJRM7Zf/4FWJaFw8NDzM/Pyz2lluxBPluxWAwnJydZ3/y/gD9PC0UiLVJxTgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"language set\" title=\"\" src=\"/static/6ddec89701fd0b1be27aa0c351fb400f/6af66/language_set.png\" srcset=\"/static/6ddec89701fd0b1be27aa0c351fb400f/69538/language_set.png 160w,\n/static/6ddec89701fd0b1be27aa0c351fb400f/72799/language_set.png 320w,\n/static/6ddec89701fd0b1be27aa0c351fb400f/6af66/language_set.png 640w,\n/static/6ddec89701fd0b1be27aa0c351fb400f/3534c/language_set.png 808w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>JavaScript is roughly a set of strings like these, isn't it?</small>\n  <br>\n  <br>\n</center>\n<p>But it‚Äôs not just any arbitrary collection of strings. The set of strings that constitutes a language must satisfy three conditions:</p>\n<blockquote>\n<ol>\n<li>\n<p>There must exist a finite set of symbols S</p>\n</li>\n<li>\n<p>There must be rules for forming S*, a set of strings made from elements of S</p>\n</li>\n<li>\n<p>It must be possible to determine what meaning each string in the set carries</p>\n</li>\n</ol>\n</blockquote>\n<p>Any set of strings satisfying these three conditions qualifies as a basic language. Now that we know the definition, let‚Äôs satisfy each condition one by one and build a language.</p>\n<p>First, what does the set of symbols <code class=\"language-text\">S</code> mean?</p>\n<p>If you think about it, every language on Earth has symbols used within that language. Korean has consonant symbols like „Ñ±, „Ñ¥, „Ñ∑ and vowel symbols like „Öè, „Öë, „Öì. English has symbols like a, b, c. We call these collections of symbols an ‚Äúalphabet,‚Äù and this alphabet is the set of symbols <code class=\"language-text\">S</code> ‚Äî the first condition of a language.</p>\n<p>Let me define an alphabet. I‚Äôll keep it simple with just two symbols: <code class=\"language-text\">a</code> and <code class=\"language-text\">b</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token constant\">S</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Now I‚Äôve fulfilled the first condition: ‚Äúa finite set of symbols <code class=\"language-text\">S</code>.‚Äù Next, I need to create <code class=\"language-text\">S*</code>, the set of strings made from elements of <code class=\"language-text\">S</code>. The second condition says we need rules for forming this set.</p>\n<p>These rules are what we call the syntax of the language. Since many languages share the same alphabet, it‚Äôs this second element ‚Äî the syntax ‚Äî that gives each language its character.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">[Same Latin alphabet, different rules for combining strings]\n\nEnglish: I love you\nFrench: je t'aime\nItalian: ti amo</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As you can see, English, French, and Italian largely share the Latin alphabet. Even for the same concept of ‚Äúlove,‚Äù English uses the 4-letter string <code class=\"language-text\">love</code>, while French uses <code class=\"language-text\">l'amour</code> with 7 characters including an apostrophe.</p>\n<p>So defining just an alphabet isn‚Äôt enough to define a language. I‚Äôll set the rule for my string set <code class=\"language-text\">S*</code> as ‚Äúall strings of 3 characters or fewer that can be made from the alphabet <code class=\"language-text\">a</code> and <code class=\"language-text\">b</code>.‚Äù Then the set <code class=\"language-text\">S*</code> of my language looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token constant\">S</span><span class=\"token operator\">*</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ba\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bb\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"aaa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"aab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"aba\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"abb\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"baa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bba\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bbb\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now that I‚Äôve defined the second condition, I can see exactly what strings my language contains. At this point, the third condition is automatically satisfied.</p>\n<p>Since my rule ‚Äî ‚Äúall strings of 3 characters or fewer made from <code class=\"language-text\">a</code> and <code class=\"language-text\">b</code>‚Äù ‚Äî produces only a finite number of strings, it‚Äôs possible to assign meaning to each one.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a = I'm hungry\nb = I want to go home\naa = The server is returning 500s\n...</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Just like that, I‚Äôve satisfied all three conditions and created a humble language. I‚Äôll call it ‚ÄúEvan-ese‚Äù going forward.</p>\n<h4 id=\"machine-please-understand-my-language\" style=\"position:relative;\">Machine, Please Understand My Language<a href=\"#machine-please-understand-my-language\" aria-label=\"machine please understand my language permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Creating a language with simple rules isn‚Äôt hard ‚Äî anyone can create something like Evan-ese. The question is whether a machine can understand it.</p>\n<p>For a machine to understand a language, the strings that compose it need to have a recognizable pattern. If we can express the pattern of a language‚Äôs strings mathematically, then we can say this is a language a machine can understand.</p>\n<p>Of course, natural languages like English or Korean have highly free-form context and evolving grammar, so absolute patterns don‚Äôt exist. But if the rules governing a language‚Äôs strings are clear ‚Äî like Evan-ese ‚Äî then it‚Äôs a language a machine can understand.</p>\n<p>Evan-ese has a clear rule: strings of 3 characters or fewer made from <code class=\"language-text\">a</code> and <code class=\"language-text\">b</code>. This can be expressed as a mathematical formula:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>L</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>œµ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>œµ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>œµ</mi><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mo>=</mo><mo stretchy=\"false\">{</mo><mi>œµ</mi><mo separator=\"true\">,</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>b</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mi>b</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>a</mi><mi>a</mi><mo separator=\"true\">,</mo><mi>a</mi><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi>b</mi><mi>b</mi><mi>b</mi><mo stretchy=\"false\">}</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\nL = (a+b+\\epsilon)(a+b+\\epsilon)(a+b+\\epsilon) \\\\\n= \\{ \\epsilon, a, b, aa, ab, ba, bb, ba, bb, aaa, aab, ... bbb \\}\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3em;vertical-align:-1.25em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.75em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">œµ</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">œµ</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">œµ</span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">œµ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">aa</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ab</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ba</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">bb</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">ba</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">bb</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">aaa</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">aab</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">...</span><span class=\"mord mathnormal\">bbb</span><span class=\"mclose\">}</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.25em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<p>Since Evan-ese consists of ‚Äústrings of 3 characters or fewer made from a and b,‚Äù the empty string is also included. That‚Äôs why the formula adds <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œµ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">œµ</span></span></span></span></span> (epsilon, representing the empty string) to each position, and the language Evan-ese includes <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œµ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">œµ</span></span></span></span></span> as well.</p>\n<p>And when you translate this formula into a specific notation that machines can understand, you get‚Ä¶</p>\n<div class=\"gatsby-highlight\" data-language=\"regex\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-regex line-numbers\"><code class=\"language-regex\"><span class=\"token anchor function\">^</span><span class=\"token char-class\"><span class=\"token char-class-punctuation punctuation\">[</span>ab<span class=\"token char-class-punctuation punctuation\">]</span></span><span class=\"token quantifier number\">{0,3}</span><span class=\"token anchor function\">$</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>‚Ä¶the regular expression we all know.</p>\n<p>In other words, the first step toward making machines recognize language was to create a way to express the ‚Äúrules‚Äù by which a language‚Äôs strings are generated. That‚Äôs the origin of regular expressions. If you look at the <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" target=\"_blank\" rel=\"nofollow\">Wikipedia article on regular expressions</a>, you can see this context reflected directly in the definition:</p>\n<blockquote>\n<p>A regular expression [‚Ä¶] is <strong>a sequence of characters that specifies a match pattern in text</strong>. Usually such patterns are used by string-searching algorithms for ‚Äúfind‚Äù or ‚Äúfind and replace‚Äù operations on strings, or for input validation.</p>\n</blockquote>\n<p>Of course, the definition of language I‚Äôve presented here is quite simplified. If you‚Äôre interested in going deeper, I‚Äôd recommend searching for ‚Äúformal language‚Äù and ‚ÄúChomsky hierarchy.‚Äù</p>\n<h3 id=\"the-runtime-environment-for-regex-finite-automata\" style=\"position:relative;\">The Runtime Environment for Regex: Finite Automata<a href=\"#the-runtime-environment-for-regex-finite-automata\" aria-label=\"the runtime environment for regex finite automata permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>We now know that regular expressions weren‚Äôt simply born to match string patterns ‚Äî they emerged from the effort to make machines recognize language. But I‚Äôve been saying ‚Äúmachine‚Äù over and over. What machine exactly?</p>\n<p>Regular expressions as a concept were born in 1951. Computers did exist at the time, but it was the wild days of debating whether to use mercury delay lines or magnetic cores for memory ‚Äî not exactly an era where you could write code without worrying about memory constraints.</p>\n<p>So research on machines during this period often involved imagining abstract machines in your head rather than working with actual computers. <del>(The OG of vibe coding‚Ä¶)</del></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/edc01160f5c13aa18f99073f08bdb540/36dd4/magnatic_drum.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABU0StDAqWf//EABoQAQEAAgMAAAAAAAAAAAAAAAECABEDEhP/2gAIAQEAAQUCjiE8pMuGWa3nbF2//8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8Bh//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/Aaf/xAAbEAACAQUAAAAAAAAAAAAAAAAAEQEgIUGBkf/aAAgBAQAGPwKGumI2K1H/xAAbEAEBAQADAQEAAAAAAAAAAAABEQAhMVFBYf/aAAgBAQABPyGKUz7nJ8HkrXZ6XvDFCv5kwQLfMtF3/9oADAMBAAIAAwAAABDPz//EABURAQEAAAAAAAAAAAAAAAAAABEQ/9oACAEDAQE/EET/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QTVrf/8QAHRABAAMAAQUAAAAAAAAAAAAAAQARIUFRYbHB4f/aAAgBAQABPxCgSUcdtjehlaJnSC11ATgxbSt4eZROQC/vtGyl9T//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"magnatic drum\" title=\"\" src=\"/static/edc01160f5c13aa18f99073f08bdb540/36dd4/magnatic_drum.jpg\" srcset=\"/static/edc01160f5c13aa18f99073f08bdb540/0913d/magnatic_drum.jpg 160w,\n/static/edc01160f5c13aa18f99073f08bdb540/cb69c/magnatic_drum.jpg 320w,\n/static/edc01160f5c13aa18f99073f08bdb540/36dd4/magnatic_drum.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Behold the majesty of the magnetic drum ‚Äî cutting-edge computer memory circa 1952</small>\n</center>\n<p>Among these abstract machines, regular expressions specifically emerged from research on making <a href=\"https://en.wikipedia.org/wiki/Finite-state_machine\" target=\"_blank\" rel=\"nofollow\">finite automata</a> (abstract machines) understand language.</p>\n<p>‚ÄúAutomata‚Äù means automatic (Auto) machine (Mata). Since these are abstract automated machines, they don‚Äôt require physical devices like computers. They can exist purely as theory or design.</p>\n<p>The study of automata is fundamentally about finding answers to what a machine can and cannot do, making it a foundational field for the computer science we study today.</p>\n<p>A finite automaton, in simple terms, is a machine that can be in exactly one of a finite number of states at any time. When designing finite automata, we use diagrams called state transition diagrams to illustrate how states change. They look something like this:</p>\n<center>\n  <div style=\"max-width: 500px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/79576089b5b65ad5a36ea7b3a791bbc6/ea964/dfa.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVR42mNgQAP///9nAtFbtmzx2LVrVx+yGCWAtaenx3Dt2rWBQDZnfX09ZQbKyckJAikWEJuPj08IxsbiG0Y0NiOGotDQUDYgJXz06FGxw4cPKxkbG/PLyMhwwjStWrWKGcSGufrQoUOily9fVt62bRs7zAKYyYwwgfXr1zd+/vz5/devX/8/fPhwS3p6ujSSIXBDz507F3/v3r23z549+3/r1q09GzZskMIWGQbfgADI///r16/fIBpoaAdIDuhiwStXrmiB2MuXL1d+8+bNB5D8z58/weru3LkzGyQHCi8BLS0tUFixzZo1qxwkeffu3Z9nz579BWI/ffp0N0jhnDlzHIFeA2tqbW1NBfng0aNHP06cOPHn+/fv/y9evHgVJAdyGZO9vT0L1GZNoEKwzUAAs7keJAd0qeDr16/VQeyFCxfKvQQCZHU3b96cgDUNAgM5+N27d9ffvn37Cui6KTExMdzIsQpTd/r0aS9gGF4G+uY1MAwXzJ8/XwAAZcUKOrOtVWoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dfa\" title=\"\" src=\"/static/79576089b5b65ad5a36ea7b3a791bbc6/6af66/dfa.png\" srcset=\"/static/79576089b5b65ad5a36ea7b3a791bbc6/69538/dfa.png 160w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/72799/dfa.png 320w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/6af66/dfa.png 640w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/d9199/dfa.png 960w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/21b4d/dfa.png 1280w,\n/static/79576089b5b65ad5a36ea7b3a791bbc6/ea964/dfa.png 1312w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <br>\n  <br>\n</center>\n<p>This state transition diagram shows how a finite automaton‚Äôs state changes. The machine receives a string as input: if the character is <code class=\"language-text\">a</code>, it transitions to State 1; if the next character is <code class=\"language-text\">b</code>, it transitions to State 2. State 2 is the machine‚Äôs final (accepting) state, shown as a double circle.</p>\n<p>If this machine reaches its final state after processing an input string, the string is guaranteed to be something like <code class=\"language-text\">ab</code>, <code class=\"language-text\">aab</code>, <code class=\"language-text\">aaa...b</code>, and so on. This machine can also be expressed as the regex <code class=\"language-text\">a+b</code>. The machine I drew and the regex <code class=\"language-text\">a+b</code> are conceptually equivalent ‚Äî the regex is just a representation of that machine. (Finite automata and regular expressions are said to be in an equivalence relation.)</p>\n<p>When there‚Äôs only one possible path from any state to the next, you can tell at a glance how the machine will behave just from the state transition diagram. That‚Äôs because from any state, there‚Äôs exactly one possible next state. Such a finite automaton is called a Deterministic Finite Automaton (DFA) because the state transitions are already fully determined.</p>\n<p>DFAs are simple in structure and fully predictable, making them easy to implement as programs and efficient to run. But they have one drawback:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/eeda28f28f54f69d85014dfc688e8f14/41099/difficult.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 82.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAUC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHmbMvrOrnOJXAkCv/EABwQAAICAgMAAAAAAAAAAAAAAAECAAMQEhETMv/aAAgBAQABBQKWougqfjrZppbHBVj6x//EABcRAQADAAAAAAAAAAAAAAAAAAEAEBH/2gAIAQMBAT8BGbf/xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPwEj/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAERAiAhkTFR0f/aAAgBAQAGPwIULPYvRcbImnZDs//EABsQAAMAAwEBAAAAAAAAAAAAAAABESExQRBR/9oACAEBAAE/ISfWozWyiiVXURrGqaowc2BTdaX2mz3/2gAMAwEAAgADAAAAEFsffP/EABYRAQEBAAAAAAAAAAAAAAAAAAEgMf/aAAgBAwEBPxADYf/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8Qpk3/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMVFxkaH/2gAIAQEAAT8QsIsbj2nKstAwJcJ3SysnML1m0kCpUNLDQqZ6lSYnFAVmz7WdeYz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"difficult\" title=\"\" src=\"/static/eeda28f28f54f69d85014dfc688e8f14/41099/difficult.jpg\" srcset=\"/static/eeda28f28f54f69d85014dfc688e8f14/0913d/difficult.jpg 160w,\n/static/eeda28f28f54f69d85014dfc688e8f14/cb69c/difficult.jpg 320w,\n/static/eeda28f28f54f69d85014dfc688e8f14/41099/difficult.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Expressing a language's structure with a DFA's restricted state transitions is really hard...</small>\n</center>\n<p>Why is it hard? For a simple regex like <code class=\"language-text\">a+b</code>, drawing the state transition diagram as a DFA is straightforward. But try expressing something like <code class=\"language-text\">(a|b)b</code> ‚Äî which includes an OR ‚Äî as a DFA, and it gets tough. A DFA requires that for any given input, there be exactly one possible next state. It‚Äôs like trying to handle conditionals without <code class=\"language-text\">if</code> statements.</p>\n<p>For this reason, when expressing machines that recognize language, we use machines where multiple next states can exist rather than just one. Since the next state depends on the input, you can‚Äôt predict from the diagram alone how the machine will behave.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e7fceab762eed09c508982488f4c711d/a3a74/nfa.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 42.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42n1STUsCYRD2o0L6ALtVUN66RJf2WlCQeKsf0DE6BV38AV6Cbp4iSmIXNUwEwUvgx8GDCmtsrBZiICLiYSF11V3dxc1tm3fZlWUpB4bhfeadeed55rVYTKYoihXFYrG4xrIszXGc0Gg0jrScjaKo9X6//wE4X6/XD3Tc8l8jiHMottvtM1EUFWTQ+M7r9bqCweB+qVQ6lyRJxTudzr2xRu8xtWw2u4xiOp3fCAQCp9CIGo1GXK1W8yAcw7D5QqHgGgwG74CzlUrlOBqNemiadvp8PkcsFrNPx2UY5nI4HH5DEyIcfj4kSUqlk0gkVsxsUHEoFFrSjlaSJK9hWgmkeUSAA3wVgDdEA2gK1Wp1V6NgN2uEaBkdIDto+jmZTBSe50X0msq/1WpdCYLw0+12n3Acd79kMttGGYxGEIQjlUoZJ7wBzeVms4mbqSyimMvlsHg8fgL0X0EGDi669Ykht4U0hGlUDSORiBsedUJ6AeptM7c8Ho/VbfZ6vVu/378HvlMuly9kWVZxuPMwc8tofB3U/lse/Ev/hyifTCY3ASPBmb/+4S99g1RDfuL+QQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"nfa\" title=\"\" src=\"/static/e7fceab762eed09c508982488f4c711d/6af66/nfa.png\" srcset=\"/static/e7fceab762eed09c508982488f4c711d/69538/nfa.png 160w,\n/static/e7fceab762eed09c508982488f4c711d/72799/nfa.png 320w,\n/static/e7fceab762eed09c508982488f4c711d/6af66/nfa.png 640w,\n/static/e7fceab762eed09c508982488f4c711d/d9199/nfa.png 960w,\n/static/e7fceab762eed09c508982488f4c711d/21b4d/nfa.png 1280w,\n/static/e7fceab762eed09c508982488f4c711d/a3a74/nfa.png 2272w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>Such a machine is called a Nondeterministic Finite Automaton (NFA) because the state transitions aren‚Äôt predetermined but change depending on the input.</p>\n<p>The machine above starts by accepting the empty string <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œµ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">œµ</span></span></span></span></span>, then transitions to State 2 if the next character is <code class=\"language-text\">a</code>, or to State 3 if it‚Äôs <code class=\"language-text\">b</code>. There are two or more possible next states from a single state. Since you can‚Äôt tell from the diagram alone what the next state will be, it‚Äôs called ‚Äúnondeterministic.‚Äù</p>\n<p>This is the rough concept of finite automata ‚Äî the machine that regex runs on. Regular expressions were designed with the goal of making this kind of abstract machine recognize language. The critical point to note here is that <strong>a finite automaton can only remember a single state at a time</strong>.</p>\n<p>This constraint is precisely what creates the limitations of regular expressions as a language.</p>\n<h2 id=\"the-limitations-of-regular-expressions\" style=\"position:relative;\">The Limitations of Regular Expressions<a href=\"#the-limitations-of-regular-expressions\" aria-label=\"the limitations of regular expressions permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Languages that can be expressed by regular expressions ‚Äî that is, languages that finite automata can understand ‚Äî are called ‚Äúregular languages.‚Äù</p>\n<p>As we‚Äôve seen, regex was originally designed to express languages with mathematically describable rules, and it was built to run on finite automata that can hold only one state at a time, so it cannot express all languages.</p>\n<p>Think of it this way: you can‚Äôt express free-form natural languages like English or Korean with regex. (If you could express natural language with regex, we wouldn‚Äôt need machine learning.)</p>\n<p>In other words, there are clear limits to what regex can express, and the languages within those limits are called regular languages.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cbdaac181d19daaf1bcf0282472c8d32/21b4d/chomsky.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 71.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42o2U6UrDQBRGszVJ0yaTBvdgCYqodcO6oYL4/k/lN/GMXOMfBw4zzd3v3GkUfa/Y7JVYiVrMJ1TsNTqVsf2zctGIIvr/KrDJp4KSqIO4E+fiWlyJJ77figv2e3EjPsSJWJL5uGai5ew/dvz2HMGh2Bc9Zy9zYs84avE1CrJJLwv6M4OcPeNcmdYEmywk1prSU5rdEaimHXMchAtp0OmwiUyWozBEchgO9OhVvNOzT/Es3sSDOCVbZ7JsrEMffWEyLSEDW/LcZLYwfWxsyTVKoRcN+465pF1xQFtC71Nsf3x5QcLVp8bxirHxJb6ILSO1pXcJQVNsE3yNpTgzpEtza0ExkE7Krc1jcGFswmA7c8Mxit74koH2nKHboNOZmSynryUM+MAAOzLpeTnHDHIorUe3tZlNV0yktXgUG8opzBxukK3R/fXn8AWNkA9NoCwYMAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"chomsky\" title=\"\" src=\"/static/cbdaac181d19daaf1bcf0282472c8d32/6af66/chomsky.png\" srcset=\"/static/cbdaac181d19daaf1bcf0282472c8d32/69538/chomsky.png 160w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/72799/chomsky.png 320w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/6af66/chomsky.png 640w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/d9199/chomsky.png 960w,\n/static/cbdaac181d19daaf1bcf0282472c8d32/21b4d/chomsky.png 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>In the Chomsky hierarchy, which ranks languages by complexity, regular languages sit at the very bottom.</small>\n  <br>\n  <br>\n</center>\n<p>Even among the strings we deal with in everyday business contexts, quite a few aren‚Äôt regular languages. The most prominent example is HTML. In other words, it‚Äôs impossible to determine whether a given string is valid HTML using regex.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7c89426e48dfcc4187fffa597065a5e1/65f94/question.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAP/aAAwDAQACEAMQAAAB6UdChKUBf//EABoQAAICAwAAAAAAAAAAAAAAAAACAREDEiP/2gAIAQEAAQUCHbnjvUVKk//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8BWosP/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACEEEiMTL/2gAIAQEABj8CQdyTSy3DibMf/8QAHBABAAEEAwAAAAAAAAAAAAAAAQARITFBUWFx/9oACAEBAAE/IW1ctSWEKgFmvE3z6hkndym2f//aAAwDAQACAAMAAAAQw+//xAAXEQADAQAAAAAAAAAAAAAAAAAAASER/9oACAEDAQE/EFio7T//xAAXEQEAAwAAAAAAAAAAAAAAAAAAESFB/9oACAECAQE/ENyVH//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFBMVFhcZH/2gAIAQEAAT8QSQ0o42wgx0mC6cDKDYs3ueIkYy3X2MqFoVo1HHvn/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"question\" title=\"\" src=\"/static/7c89426e48dfcc4187fffa597065a5e1/65f94/question.jpg\" srcset=\"/static/7c89426e48dfcc4187fffa597065a5e1/0913d/question.jpg 160w,\n/static/7c89426e48dfcc4187fffa597065a5e1/cb69c/question.jpg 320w,\n/static/7c89426e48dfcc4187fffa597065a5e1/65f94/question.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Wait, I've definitely matched HTML with regex before though?</small>\n</center>\n<p>Sure, I‚Äôve matched HTML with regex too. But the rules we were applying at the time were small, constrained checks on parts of the HTML (like ‚Äúdid a <code class=\"language-text\">&lt;div></code> tag open and close?‚Äù), not validating the entire HTML document.</p>\n<p>So why do I say regex can‚Äôt validate HTML? The answer becomes clear when you remember that regex represents a finite automaton that can only remember a single state, and then look at HTML‚Äôs structure.</p>\n<h3 id=\"why-regex-cant-understand-html\" style=\"position:relative;\">Why Regex Can‚Äôt Understand HTML<a href=\"#why-regex-cant-understand-html\" aria-label=\"why regex cant understand html permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As we all know, HTML has a structure where tags open and close, and tags can be nested infinitely deep inside other tags.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>\n      ...\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>So if a machine receives an HTML string as input and needs to verify that it‚Äôs valid, what would it need to do?</p>\n<p>A valid HTML string requires every opening tag to have a matching closing tag, which means the machine needs to read characters one by one while simultaneously tracking which tags are open and closed. It would work roughly like this:</p>\n<hr>\n<ol>\n<li>Encounter <code class=\"language-text\">&lt;main></code>. Store the state that the <code class=\"language-text\">&lt;main></code> tag is open.</li>\n<li>Encounter <code class=\"language-text\">&lt;section></code>. Store the state that the <code class=\"language-text\">&lt;section></code> tag is open.</li>\n<li>‚Ä¶repeat</li>\n<li>Encounter <code class=\"language-text\">&lt;/main></code>. If the state says <code class=\"language-text\">&lt;main></code> is open, it has closed correctly.</li>\n<li>Encounter <code class=\"language-text\">&lt;/section></code>. If the state says <code class=\"language-text\">&lt;section></code> is open, it has closed correctly.</li>\n<li>If no tags remain open when the end of the string is reached, this is valid HTML.</li>\n</ol>\n<hr>\n<p>If you were building such a machine, how many states would it need to store?</p>\n<center>\n.<br/>\n.<br/>\n.<br/>\n</center>\n<blockquote>\n<p>The answer is <strong>infinite</strong>.</p>\n</blockquote>\n<p>If that‚Äôs not immediately clear, imagine building an HTML parser yourself. As discussed, this parser needs to verify that tags are properly opened and closed, so whenever it encounters an opening tag string, it needs to store that state somewhere.</p>\n<p>The exact approach to state management may vary from person to person, but the classic technique for validating matched pairs of opening and closing brackets is using a stack.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d4263f72bef0eb338a9fd098cb06b100/17a7a/html_parser.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADG0lEQVR42o2U+1MbVRTH+S99TLWo4+MHf4AUKoWhjr85U7WETtugBIJUpUKDZYpAaUmCBJKxJs2StGmSXfJ+kRdsVgoBPt7dJJXOFOiZ+ezee8853z333N3tQJim7hOPVkjEqgYpuUZK2WkiN9HX41HhU2o0Gke07fj42KBtHfpFCZeZGnnKvXGJmTEJq3mF29cWDEaHHjM+7MRuCzFtDTA7sUkskqRaq5BMJslms3g8HiRJ4vDwsClYLmg8WU3hc6cNPE6ZdUeUDYHXpRj41zP8s5ZC8ubIpPMiuSEqPeTo6IharUa5XP6/wpMln2XtOD1ZF3qTdehBmqaxu7uLqqoG+rhNe9721et1crnca4In+9gUFEHtBCNJPEBroQvUT/jfJPhahUKfQrVOML3Ls4xq4JeL+GIF/IKnyjaBeJnn2TqhtEo4qyJvJURFZwjmqxqSCA5mdGGVpXWJhTU/Dzc2cfmirAYUnuf32NRjBLnC9ql9br42+R3mfAXmA9v8uVlhIVgVVFpUxVqZeanEA3+RRanITn2v1btTBB8Fi3TaXvD5xDM++G6RD68v03nDxUc317lodtA5rI/dfDYZ4ctfIiSKKqe9HYZgIF7hh6UEw8sJrs+HGVqKYV5SMD9UGFqMvcK8nOTWSpJiTTu7wo1omcszMa7OxRm4F6HvN4krU0H674bo/z1kjAf/2GJgVuGbOYVspX62oDtSonc6xuD9OH0iuXtkBdNPTnonvFwac9NjXWPAHqNfCH59XyFTOkcwmKxy41ESy0qK2440ltU8lr8KWJxZgxF9LtZvPU4x6kpR2jlny8viUC6Mhvl0Uuai5QnvfPuA964tcsHs4v3vl3lXzD+xhfl4IsIXd97iUEKiwpui2T86U4zoOJJNXs0T4i524EgxtvoWFa69KNE1FaXPvsWlX4N0WTfoGvdi+tlHt+1vusY8xqH1Tsv022XS5/XQLQRNd6NcsStcngrRbXVjGvfQM+mj544fk81LnxD8akZmcFYmUz5ny/sHB6j/vqSus7ePtt9Ae6lz0KLR9LVoiB/paZ/ef/l8VA9zcB1BAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"html parser\" title=\"\" src=\"/static/d4263f72bef0eb338a9fd098cb06b100/6af66/html_parser.png\" srcset=\"/static/d4263f72bef0eb338a9fd098cb06b100/69538/html_parser.png 160w,\n/static/d4263f72bef0eb338a9fd098cb06b100/72799/html_parser.png 320w,\n/static/d4263f72bef0eb338a9fd098cb06b100/6af66/html_parser.png 640w,\n/static/d4263f72bef0eb338a9fd098cb06b100/17a7a/html_parser.png 753w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>A bare-bones HTML parser can be built just by pushing opening tags onto a stack and popping when closing tags are encountered.</small>\n  <br>\n  <br>\n</center>\n<p>No matter how deeply tags are nested, inner tags must always close before outer ones ‚Äî and the stack‚Äôs last-in-first-out property is a perfect fit for validating this structure.</p>\n<p>But the problem is the size of the stack. How large does the stack need to be to handle any possible HTML string?</p>\n<p>The bigger the better, obviously. A larger stack means you can parse HTML with deeper nesting. But eventually, an HTML tree deeper than the stack‚Äôs capacity will come along and crash the program, which means that to build an HTML parser that can handle any string, the stack size needs to be infinite.</p>\n<h3 id=\"regex-is-ultimately-a-finite-automaton\" style=\"position:relative;\">Regex Is Ultimately a Finite Automaton<a href=\"#regex-is-ultimately-a-finite-automaton\" aria-label=\"regex is ultimately a finite automaton permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Validating whether HTML is well-formed requires an infinite number of states. But regex represents a finite automaton that can hold only a single state, so it fundamentally cannot recognize HTML, which requires infinite states to parse.</p>\n<p>The core takeaway is that regex represents a finite automaton that can only hold one state, and there exist problems that such a machine simply cannot solve.</p>\n<p>So rather than reaching for regex the moment you see a string problem, it‚Äôs better to first think: ‚ÄúIf I were building a parser for this string, how many states would I need?‚Äù If the answer is two or more, you can generally conclude that regex alone won‚Äôt cut it.</p>\n<p>Of course, this kind of mental simulation differs between those who are experienced and those who aren‚Äôt; you might think a problem requires multiple states when one would suffice. But algorithms are a domain of practice, not talent, so with a year or two of steady effort, your intuition will sharpen over time.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The limitations of regex can actually be summarized in a single sentence: ‚Äúit cannot recognize strings with unbounded nesting depth.‚Äù</p>\n<p>But rather than just stating and memorizing that, I thought it would be easier to understand if we explored what problem regex was created to solve and what concept it‚Äôs built on.</p>\n<p>If you don‚Äôt know that regex has these limitations, you might take your experience of using regex in constrained situations (like checking whether a <code class=\"language-text\">&lt;li></code> tag exists inside a <code class=\"language-text\">&lt;ul></code> tag) and try to tackle a fundamentally unsolvable problem.</p>\n<p>Regex does provide a lot of convenience when working with strings, that‚Äôs true. But as we‚Äôve discussed, the backtracking algorithm can introduce unexpected performance issues, and there are problems regex simply cannot solve. So before reaching for regex, it‚Äôs always worth asking: ‚ÄúIs this really the right tool for the job?‚Äù</p>\n<p>That‚Äôs all for this post on why you can‚Äôt parse HTML with regex.</p>","fields":{"slug":"20210507-why-regexp-called-regexp-en","path":"/2021/05/07/why-regexp-called-regexp/en/","lang":"en"},"frontmatter":{"title":"Why You Can't Parse HTML with Regex","subTitle":"Backtracking and Automata: Why Regular Expressions Can't Understand HTML","date":"May 07, 2021","categories":["Programming"],"tags":["Regex","Regular Expression","Automaton","Automata","Backtracking"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/267c5d189674e3002cc5cc4b33695d75/3a812/thumbnail.jpg","srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/3a812/thumbnail.jpg 320w,\n/static/267c5d189674e3002cc5cc4b33695d75/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/fc5c5/thumbnail.webp 320w,\n/static/267c5d189674e3002cc5cc4b33695d75/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/267c5d189674e3002cc5cc4b33695d75/2d839/thumbnail.jpg","srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/267c5d189674e3002cc5cc4b33695d75/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"bd82f193-8a4b-5003-b8dc-f7774e62c167","tableOfContents":"<ul>\n<li>\n<p><a href=\"#a-year-at-toss\">A Year at Toss</a></p>\n<ul>\n<li><a href=\"#cleaning-up-legacy-code\">Cleaning Up Legacy Code</a></li>\n<li><a href=\"#sig-weekend-work-channel\">#sig-weekend-work Channel</a></li>\n<li><a href=\"#one-direction-various-methods\">One Direction, Various Methods</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#lubycon-rolling-together-for-6-years\">Lubycon, Rolling Together for 6 Years</a></p>\n<ul>\n<li><a href=\"#mentoring-someone\">Mentoring Someone</a></li>\n<li><a href=\"#everyones-rolled-a-lot\">Everyone‚Äôs Rolled A Lot‚Ä¶</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#blog-retrospective\">Blog Retrospective</a></p>\n<ul>\n<li><a href=\"#blog-visitors-and-bounce-rate\">Blog Visitors and Bounce Rate</a></li>\n<li><a href=\"#visitor-segments\">Visitor Segments</a></li>\n<li><a href=\"#search-inflow-keywords\">Search Inflow Keywords</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#lets-prepare-an-inflearn-course\">Let‚Äôs Prepare an Inflearn Course!</a></p>\n</li>\n<li>\n<p><a href=\"#sending-off-2020\">Sending Off 2020</a></p>\n</li>\n</ul>","excerpt":"2020 was an eventful year both personally and globally. Especially COVID-19 that swept the world changed so many things. Personally, not being able to meet people was a bit hard. (First time in my life I haven‚Äôt gone to karaoke this much‚Ä¶)","html":"<p>2020 was an eventful year both personally and globally. Especially COVID-19 that swept the world changed so many things. Personally, not being able to meet people was a bit hard. <small>(First time in my life I haven‚Äôt gone to karaoke this much‚Ä¶)</small></p>\n<!-- more -->\n<p>Despite all that, I took on various challenges. Some succeeded, but of course some failed. Even failed attempts taught me lessons, becoming good development opportunities.</p>\n<p>In this post, I‚Äôll look back on the major events I experienced this year and reflect on the lessons learned.</p>\n<h2 id=\"a-year-at-toss\" style=\"position:relative;\">A Year at Toss<a href=\"#a-year-at-toss\" aria-label=\"a year at toss permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I joined Viva Republica, which makes the financial platform service Toss, on December 9, 2019. Right after joining, I was placed in the Insurtech silo handling the insurance domain, staying involved in this silo‚Äôs goals for a year without changing teams.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ba14123b09b6016094a48f8ae1be2bc0/9568a/toss1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAAB5prTsIFbhiCv/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEiEx/9oACAEBAAEFAlNDVaJrM6630r0//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGRAAAgMBAAAAAAAAAAAAAAAAACEBEBEg/9oACAEBAAY/AtgbrBk8f//EABsQAAIDAQEBAAAAAAAAAAAAAAABESExQVFh/9oACAEBAAE/IWkk1LuTUCLZUH0eFH9Ol0heCJzekH//2gAMAwEAAgADAAAAEKMwAP/EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8QjQrN/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPxDYhf8A/8QAHBABAQEBAAIDAAAAAAAAAAAAAREAITFhcYGR/9oACAEBAAE/EBeoLgTh3RlQWsDvrLZTjOfBuLApi4BIfQxUKHiZS0OZEPHnAng/N//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"toss1\" title=\"\" src=\"/static/ba14123b09b6016094a48f8ae1be2bc0/c08c5/toss1.jpg\" srcset=\"/static/ba14123b09b6016094a48f8ae1be2bc0/0913d/toss1.jpg 160w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/cb69c/toss1.jpg 320w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/c08c5/toss1.jpg 640w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/6a068/toss1.jpg 960w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/eea4a/toss1.jpg 1280w,\n/static/ba14123b09b6016094a48f8ae1be2bc0/9568a/toss1.jpg 3024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Steel plate received when we achieved BEP</small>\n</center>\n<p>Thinking back to my first day, I remember the existing Insurtech silo team members welcoming me warmly. At the time, the frontend position in the Insurtech silo was vacant, so when work requiring frontend came up, either the product designer did markup directly or we got support from frontend developers in other silos.</p>\n<p>Those expectations felt a bit burdensome, but everyone helped me adapt well and made me comfortable, so I could quickly follow up on past history and get involved in the Insurtech silo‚Äôs goals.</p>\n<p>Also, the Toss team is quite lenient about failure compared to other organizations, and the speed of learning from these failures and applying them to the next challenge is very fast. For this reason, working here means the ideation, decision-making, development, deployment, and result analysis iterations repeat endlessly, making it fun but quite hectic.</p>\n<p>That might be why this year flew by faster than usual.</p>\n<h3 id=\"cleaning-up-legacy-code\" style=\"position:relative;\">Cleaning Up Legacy Code<a href=\"#cleaning-up-legacy-code\" aria-label=\"cleaning up legacy code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>My first product when I joined was an insurance-related internal product. At the time, this product didn‚Äôt even have TDS (Toss Design System) attached, was developed so urgently that the internal design wasn‚Äôt solid, and had development environment differences from other Toss products ‚Äî there was a lot to improve.</p>\n<p>When I first take on a product, I look through its commit history. Looking at commit history tells you how the product was developed following business context, and roughly what design direction the developer before me was trying to take.</p>\n<p>After looking at this product‚Äôs commit history, my first thought was ‚Äúthe schedule was f***ing tight‚Ä¶‚Äù Usually with commits you can group them by feature ‚Äî commits for feature A, commits for feature B ‚Äî but this product had very short gaps between developing one feature and the next, and sometimes multiple features were developed in a single day.</p>\n<p>But as always, you can‚Äôt carve out time for refactoring when you‚Äôre busy developing features to keep up with rapidly changing business context, so I had no choice but to refactor bit by bit following the <a href=\"https://johngrib.github.io/wiki/Boy-Scout-Rule/\" target=\"_blank\" rel=\"nofollow\">Boy Scout Rule</a>.</p>\n<p>My refactoring goal at the time was simple:</p>\n<blockquote>\n<p>Make it so any frontend developer at Toss could take over this product without feeling out of place!</p>\n</blockquote>\n<p>I handled this product from December last year to August this year ‚Äî roughly 9 months. The seemingly endless refactoring showed some results just by doing it steadily.</p>\n<p>When I first arrived, deployment was done by manually running scripts, but now the process of developing features, raising PRs, and running CI/CD matches other Toss products, so other frontend developers can develop features and deploy in the same development environment.</p>\n<p>Also, this product‚Äôs domain characteristic was complex models, naturally making client state very complex too. At the time, all this complex state was managed with context, so context was a messy mix of state-holding objects, <code class=\"language-text\">dispatch</code> functions for state changes, functions for async processing, reducers, etc.</p>\n<p>So I introduced Redux, which Toss uses a lot, separated async processing functions into middleware, and split stores by data domain to make them somewhat easier to understand. The Redux introduction itself wasn‚Äôt high difficulty, and even with Redux the state complexity is still high, but I think matching the development environment with other Toss products has more significance.</p>\n<p>There was also a problem synchronizing server state and client state. When initially developing this product, there wasn‚Äôt much time, so it was developed using a Poll method that called the API once per second. So state changes happened once per second, and worse, many components shared this state through Prop drilling based on Context, causing unnecessary rendering once per second too.</p>\n<p>So I tried to improve rendering performance using Redux and react-redux hooks and change the API Poll to a Push method. But ultimately I only finished the Redux introduction and rendering optimization before this product left my hands.</p>\n<p>Fortunately, when I mentioned this to the FE developer who took over this product, they empathized with the direction I was trying to take, and recently finished the refactoring by removing the Poll method and changing to Push. <small>(Thanks to them, I took one burden off my mind)</small></p>\n<p>Of course there are still many disappointing parts, but it feels good that it improved a lot compared to the beginning. I left at dawn several times because of this product and struggled whenever developing features, but I worked on it with affection for 9 months, so it became‚Ä¶ a kind of love-hate relationship.</p>\n<h3 id=\"sig-weekend-work-channel\" style=\"position:relative;\">#sig-weekend-work Channel<a href=\"#sig-weekend-work-channel\" aria-label=\"sig weekend work channel permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Besides work, I also do toy projects and write blog posts, so on weekends I often gather with friends at nice cafes to eat delicious food and work together. Someone who heard about this suggested ‚ÄúWhy not just create a weekend work channel on Toss Slack?‚Äù, so I created the <code class=\"language-text\">#sig-weekend-work</code> channel on Toss team Slack.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3686d1458f56aad3a2e272fc34b006b1/f0551/weekend_channel.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACjklEQVR42p1UPW/TUBTNL6gqIaVJ7NjPz9/2y3vPsWPHadqGfqlBlI92QGLsRCWkDkigroihLEidCkwsdEGdmJA6M7DBxMfWjYWyVmp8eTaiQpBCE0tX12+4R+eec94rTScJ7Ny/C/2lRZhf7EOrE4HmqmBaDUDYhJqMQKprF67SSm8OdrY2oNdpQ7vbgySZBh60wPYaIwGdAXpi8NryAgQsANaMgYUBWMQBpFkFu0pNKXpVUv+o4cxLN/vL8HrvEaxd7cOV1XWYuTwLHnOBBTG4PgPD8kDTbbAcAqbtF+e8Y8MZDsgpy/ozKTBCTuJO9ytl0WmzmUCDhcB4BGGrLYApRHEKraQDQRgX/45HQVbw34CC/uBSRQHOyaelpag/ZbHvU6QNKrYz220Ug3nla05V64UEeeXnoQxlFX+zHfJZw+abyUlpWzH1d8g1QUFWpiCjYPGr/17nmiJJ6GVJfJTybc6Txw5xDnnEIYzSzCM/NfwXwDDAL7qu77pe42i2twAeCQbNKBXapcCF65SHoGoXz2OpruogqwYYpputr64ANj3gYbsAKFfks9hcnKGMjsTAK1nR97Bq39Fc7YVJTNCwkymaMXqw5To6yDVEyLru+s0tn5LntufmuctUATjy1ROCH2mG81QMfzRtAobtDnTLgZqExrt6VVk5oGla9mm4WS7j2xbV993AAs8LBghbozMUGh5GNAo4D9/G6Yx4GJLTbndeuM3PDe//Vn7v+WxXPFVPJibkVt2UHho+Btuhg1HicgZYk7VnuSkYWw+ahO13kkgEOxSB9rM8UiMzlGTtWFHQB9Ojx+mtTSBza1lLPAg5WHUMY/KVC0ex2xi0N+6dVOIbp5QyUMS647j8A2aZBoPIf5f8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"weekend channel\" title=\"\" src=\"/static/3686d1458f56aad3a2e272fc34b006b1/6af66/weekend_channel.png\" srcset=\"/static/3686d1458f56aad3a2e272fc34b006b1/69538/weekend_channel.png 160w,\n/static/3686d1458f56aad3a2e272fc34b006b1/72799/weekend_channel.png 320w,\n/static/3686d1458f56aad3a2e272fc34b006b1/6af66/weekend_channel.png 640w,\n/static/3686d1458f56aad3a2e272fc34b006b1/f0551/weekend_channel.png 862w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>And so a channel that should never have opened was opened...</small>\n  <br>\n</center>\n<p>Honestly when creating the channel, I thought ‚ÄúHow many people will even join?‚Äù But somehow these people sniffed it out from everywhere and just flooded into the channel.</p>\n<p>I‚Äôd made similar proposals at my previous workplace saying ‚ÄúWho wants to work together on weekends?‚Äù but this was the first organization to show such an active response. That‚Äôs when I thought ‚ÄúThese people‚Ä¶ really love work‚Ä¶‚Äù</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/26bf3dabbf87909991670fec575c1d23/2566a/toss2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFjElEQVR42jWS+VPTdxrH80/sTLdjFypFBZUrgCj3ERIgQEjCGSIQtFh3292i1V1r16M7TrutXWAoVsUDBOSyLHaR24QchHAEcFCLiHKKUrusLSrtNrz203b2h9c83/nM9/N6nvfz/UoW7E5Wb1xi4txxblZfZrL/DrO9fQxXn6Olooy68nKaLtUyZLzFkHUSq/kuFuNt7Dds2Bpaaaz9itq6Nuobe6hr6EEy45xicfQej4y93O/oYKr/Fg/s49xtqmGw6izOqjMM1tdz23qXW/aHTPTdYqD5Olcra7hS3UJLSx+NDZ2crbxKyZkrSBbHp/mZ+fEHLIw9YFY0WHCM89hkZKnfwWObnTnLIJNDM8yYndxrrqez8jzV5RWcKztD3eVmrje0U3W+mtLSL8SExh6+NlpZHLnNkvMOj0Yn+X+ThbEp5sT0syOTPBieYsloYq6hkom6i4yc/ZTWis8x/bMXS0MLrRdruF7zJZLl9hq+ri1htq2Rb53DghGeCpbHJngydueXJosjE8wPT7BgH2bRYudxdydzTZcZbahjotvKRNNVbFUX6W1sRfL92ACrQ72sOrr4btjMsyGBw8iKc4CV0ZFfGwwNszToZEHUeccwD/udPLSNMGNxcN88wLTJxlSvmbu9NiSrg518N9gtZDdZdRr5YczI2qhJiAXDVlYcFp4OWFi2W3hit7IkWOi3MW8VVTBnNjNj6uOhWMd0rwnJc8eXPLe38EKwcrOB8WvVjH/VxIqtTXyYNpbNHTyzd/JvWydPLR2/1P/0d4naxTfWbpYFTyzdLNwUa+hpF0LLeZ6bz/PScoHHzX/H8sUpes58zFBVOaYL5QzUVbLSW8czYz3/tTaK53qmrl9hvv0q33Q1stx1jbn2ayx1tzHbdQPJWt9pXpj+wUtTKS/7yvixr9S11vOJ6/vOT3jZ9Skv2k7zU1cZa50VDNaWcvzoEfa+c4CiPxZz6PBfOHz4z+x7p5j33z/JieMfIZm79gHLLR/wtPUYq/86xo8dH/JTxym+bT7Ko/oT3K8+udZXcWTts6PvutKy85az9uxHk52HOrcQhVa/mpCV70rOMSBL302MNheJIb+AA/uLOHTwgKvkoxNcOnnQduGvxY5jvy80/yE/f2h3bt60XJk+npSu/0EWEVOj1hnWNala0jQ5Lq0qvSUz783nSZl5KNS5JGr0SFIVctRpGjSajPVsvQG5LGE6OCzhnk9o6ougKNUzX+9Atnn6rO8KDMNvSwB+PiHERiUQukuGoXCf6+2DR0jLyidJqUGZko5Ep0lDl5FBllqDNimRSGkQu6RhbPZXkCRT4ePhhccGT6ICdrDZfeu6+289CAyMxNs7WAi0vPveIU5/eJzyj/9GyamTQpioICEiigJ1KmpZLBHSIJdarnS95hm+fmTvm+vqyEg83TajUybj9uomVDIFURFyAgKjCN0ZzdvF73GlooT6s2VUf/4ZkvjQYFLiwjFkKIjdEUL8zhB0yXG8+ht39mgSiA8L4fUN7iQnyPDxj0Apj8bX2wvvzd5s8djERjcvDDo1fyrSc7T4LSR54tJulZxcQbCPlJ3+UpKiw3F7xZ3I4CACtm3njd95ELUrgtCIOLFjKX7bPNjuJaL7bcFtgwey2O2/EueLJCY0kuiwGMJDovDxCsDfJ4jQHeG84eYpIomzrQFsFMKISDkxcSmkKBPZGRQkpD5I/X3Z+PomosP9SYyXooiTIikq2sv+fXswFOQTHxOPKkWFPicHPy9f9DodSXIFYTtCSZQnEi0m1KSqyc7MJD0jG41KhbfnVtKUImFmKrt1GiRvFRVSVKinIE+PVrycplSSIy4oheDnX0qrUqNOUYsUUSKuOEtKJkObRUamnkwhlccq0KozyNUXYDAU8j93Tgxg2luRDwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"toss2\" title=\"\" src=\"/static/26bf3dabbf87909991670fec575c1d23/6af66/toss2.png\" srcset=\"/static/26bf3dabbf87909991670fec575c1d23/69538/toss2.png 160w,\n/static/26bf3dabbf87909991670fec575c1d23/72799/toss2.png 320w,\n/static/26bf3dabbf87909991670fec575c1d23/6af66/toss2.png 640w,\n/static/26bf3dabbf87909991670fec575c1d23/d9199/toss2.png 960w,\n/static/26bf3dabbf87909991670fec575c1d23/21b4d/toss2.png 1280w,\n/static/26bf3dabbf87909991670fec575c1d23/2566a/toss2.png 4031w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>In April, when we went all the way to \"River\" cafe in Yangpyeong for weekend work</small>\n</center>\n<p>Honestly, when we go to nice cafes in the Seoul suburbs, we don‚Äôt just keep working. We look at scenery, eat delicious food, just play while also working. So I have fun memories of going to Seongsu, Yangpyeong, Yeongjongdo with weekend work members.</p>\n<p>Changing Poll to Push mentioned above was also progressing like a side project, so I met with the backend developer from the same silo in Hongdae on a weekend. After about an hour of heated discussion, we aligned our directions and defined the channel interface ‚Äî quite a fun memory.</p>\n<p>Also, going to a Turkish restaurant in Songdo with weekend work members where we were the only Koreans felt like we were abroad, and playing billiards betting at the billiards hall behind the office after work was fun too.</p>\n<p>Recently as COVID got serious, we stopped meeting on weekends like before, but when COVID recedes, I think this channel will reactivate.</p>\n<h3 id=\"one-direction-various-methods\" style=\"position:relative;\">One Direction, Various Methods<a href=\"#one-direction-various-methods\" aria-label=\"one direction various methods permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Working at any company, you face moments requiring decisions. In organizations I‚Äôve experienced, someone with more say usually led decision-making, but the Toss team doesn‚Äôt have anyone with particularly strong say, so the decision-making process always involved fierce discussion and persuasion.</p>\n<p>I had many such discussions over the past year, and I definitely feel I gained broader perspective to consider more diverse aspects compared to when I first joined Toss.</p>\n<p>Personally, I think the topic where opinions split most in these discussions is the value called <a href=\"https://blog.toss.im/2018/01/29/tossteam/culture/toss-core-values/\" target=\"_blank\" rel=\"nofollow\">Customer Centric</a>. Since customer-centricity is an abstract value, different people have different standards for ‚Äúthis is customer-centric.‚Äù</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 574px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/214ddbe849832b5f6c5c4c7708753223/b5079/image.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 80.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABfqz253YIEP/EABoQAAIDAQEAAAAAAAAAAAAAAAECAwQSERP/2gAIAQEAAQUCeVeM5zUJMciv6vrFQER//8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEQMSIf/aAAgBAwEBPwFxinxmSt3R/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPwGsWH//xAAdEAEAAQQDAQAAAAAAAAAAAAABAAIRITEiQVGB/9oACAEBAAY/Anl8juN1cypKXfkWzmNzuf/EABwQAAICAgMAAAAAAAAAAAAAAAABETFBUSFhkf/aAAgBAQABPyFfgzMLKSo13Q3mG7ELJv0SIYiEkxd0f//aAAwDAQACAAMAAAAQQP8A/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAhMYH/2gAIAQMBAT8QHWZyNJif/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERQf/aAAgBAgEBPxBuwuKf/8QAGhABAQADAQEAAAAAAAAAAAAAAREAITFBUf/aAAgBAQABPxA1rQq95w333NGsKxDpblSYFReGOjQiJ9Ym2k7LvupTX1xOHTEPDP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"\" src=\"/static/214ddbe849832b5f6c5c4c7708753223/b5079/image.jpg\" srcset=\"/static/214ddbe849832b5f6c5c4c7708753223/0913d/image.jpg 160w,\n/static/214ddbe849832b5f6c5c4c7708753223/cb69c/image.jpg 320w,\n/static/214ddbe849832b5f6c5c4c7708753223/b5079/image.jpg 574w\" sizes=\"(max-width: 574px) 100vw, 574px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The phrase heard most often in meetings</small>\n</center>\n<p>Some people say showing customers as much information as possible so they can find what fits them is customer-centric. Others say showing customers only the most necessary information and preventing pointless worrying is customer-centric.</p>\n<p>Especially since Customer Centric is a core value most people at Toss consider important, everyone finds it hard to compromise their own customer-centric values. Working here, you hear the question ‚ÄúIs this really Customer Centric?‚Äù quite often.</p>\n<p>Working in an organization where people speak their minds freely for a year, I could better feel that even pursuing the same value, methods to achieve that value can differ greatly per person ‚Äî not just for Customer Centric. And naturally this realization led to viewing problem-solving methods from various angles.</p>\n<h2 id=\"lubycon-rolling-together-for-6-years\" style=\"position:relative;\">Lubycon, Rolling Together for 6 Years<a href=\"#lubycon-rolling-together-for-6-years\" aria-label=\"lubycon rolling together for 6 years permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Since university, I‚Äôve been active in a team called <a href=\"https://lubycon.io\" target=\"_blank\" rel=\"nofollow\">Lubycon</a>. It‚Äôs nothing grand ‚Äî initially just friends gathering to make things they wanted and study together.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/218dafe85f1922f7ffc7cda7e8b707f9/9568a/lubycon0.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDBQT/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgD/2gAMAwEAAhADEAAAAffzdscQlN3yzFij/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEQE//aAAgBAQABBQI1rDZk9DHfC7pGNe2jgbB//8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAEERD/2gAIAQMBAT8BYV1N2PP/xAAZEQACAwEAAAAAAAAAAAAAAAAAAQMQEUH/2gAIAQIBAT8BHLnBV//EAB0QAAEDBQEAAAAAAAAAAAAAAAABEBECEiIxQVH/2gAIAQEABj8CIaUqj0S3JTT8P//EAB0QAAICAgMBAAAAAAAAAAAAAAERADEhQVFxgZH/2gAIAQEAAT8hTYY9mY2Qbj6MUsNCb6jJryVuNXaAIzNmGQvif//aAAwDAQACAAMAAAAQyCeA/8QAGBEBAQADAAAAAAAAAAAAAAAAAAERMUH/2gAIAQMBAT8Qi1JdGjD/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/EE0VTGn/xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMUFRYf/aAAgBAQABPxCjVDph6QvLdu5M7EDCAIvhDz4wsrkpuvw977lWLShqH4b5iDZDYX8cqo7Z1yeNu7rP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"lubycon0\" title=\"\" src=\"/static/218dafe85f1922f7ffc7cda7e8b707f9/c08c5/lubycon0.jpg\" srcset=\"/static/218dafe85f1922f7ffc7cda7e8b707f9/0913d/lubycon0.jpg 160w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/cb69c/lubycon0.jpg 320w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/c08c5/lubycon0.jpg 640w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/6a068/lubycon0.jpg 960w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/eea4a/lubycon0.jpg 1280w,\n/static/218dafe85f1922f7ffc7cda7e8b707f9/9568a/lubycon0.jpg 3024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Lubycon comrades in a meeting</small>\n</center>\n<p>I created this team around 2015 when I returned to university, so I‚Äôve been rolling with these people for 6 years now. Actually in 2019 we barely did anything besides hanging out because everyone was busy with work, but in 2020 the team atmosphere got busy again as we started a mentoring project together.</p>\n<h3 id=\"mentoring-someone\" style=\"position:relative;\">Mentoring Someone<a href=\"#mentoring-someone\" aria-label=\"mentoring someone permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Starting March 2020, the Lubycon team started a project mentoring methods for smooth collaboration, and through this process I gained many failures and learnings both personally and team-wise.</p>\n<p>I‚Äôm not generous in self-evaluation. So I live whipping myself daily saying ‚Äústill not enough.‚Äù This is less about my passion being great and more about fearing that the moment I think ‚ÄúI did well enough,‚Äù I‚Äôll stop making efforts to grow. <small>(Eventually this led to burnout, but habits don‚Äôt change easily‚Ä¶)</small></p>\n<p>One thing I felt during this mentoring: I apply this standard not just to myself but to others too.</p>\n<p>Regardless of skill level, I think we must constantly strive for growth. And to make such consistent effort, goal-setting and motivation must be clear.</p>\n<p>So before becoming a developer, I tried experiencing various things ‚Äî b-boying, composing, sound engineering, programming ‚Äî to find ‚Äúsomething I can do reasonably well while enjoying.‚Äù</p>\n<p>This was how I grew, so naturally I thought this was the right method. Rather than just thinking with your head, move your body to try as many challenges as possible, see results, judge, then continue the next challenge. So when mentoring, I often told mentees these things.</p>\n<p>When mentees said they struggled with the project because of work, or felt frustrated that skills weren‚Äôt improving, I didn‚Äôt really understand. Honestly, I thought it was just lack of passion and motivation. So I always told mentees things like:</p>\n<blockquote>\n<ul>\n<li>\n<p>Hey, I did it, so there‚Äôs absolutely no reason you can‚Äôt. Try challenging it, and if it really doesn‚Äôt work, let‚Äôs talk again then!</p>\n</li>\n<li>\n<p>Of course you lack time for toy projects while working. You need to create time yourself, even by reducing sleep.</p>\n</li>\n<li>\n<p>Skills absolutely can‚Äôt improve quickly in the short term, so don‚Äôt be anxious. Just keep at it consistently and you‚Äôll grow at some point. So you should cultivate the habit of coding even a little each day. Endure even if it‚Äôs hard.</p>\n</li>\n</ul>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1814c31fd325ae8f46c8a26324434305/36dd4/whipper.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQGAv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFvE+zFIS5X/8QAHBAAAQQDAQAAAAAAAAAAAAAAAgABBBEDISIx/9oACAEBAAEFAoxsYY5HVsh9vVr/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQIQIRMf/aAAgBAQAGPwJ6pjWdHYUf/8QAGRABAQADAQAAAAAAAAAAAAAAAQARIZEQ/9oACAEBAAE/IcuAtXC0NsHfBdry3//aAAwDAQACAAMAAAAQN8//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QSpD/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QXI//xAAcEAEAAwADAQEAAAAAAAAAAAABABEhMUFhUXH/2gAIAQEAAT8QXQqw1Z7XzYyXwtXhWJ6KXfsDFB7ISClN6iODM4/IMsxqf//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"whipper\" title=\"\" src=\"/static/1814c31fd325ae8f46c8a26324434305/36dd4/whipper.jpg\" srcset=\"/static/1814c31fd325ae8f46c8a26324434305/0913d/whipper.jpg 160w,\n/static/1814c31fd325ae8f46c8a26324434305/cb69c/whipper.jpg 320w,\n/static/1814c31fd325ae8f46c8a26324434305/36dd4/whipper.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>This wasn't mentoring, it was professional whipping</small>\n</center>\n<p>I don‚Äôt think what I said then was wrong. You can‚Äôt reduce work hours just because you lack physical time to invest in personal growth due to work, so reducing sleep is a reasonable method. And the easiest way to improve skills is consistently training even a little daily, overcoming the feeling of difficulty and reluctance.</p>\n<p>After 3 months of mentoring, we had a final retrospective, and the frontend developer from the team I mentored said:</p>\n<blockquote>\n<p>I reduced sleep to do the toy project as you suggested, but lack of sleep kept making me lose focus and my physical condition worsened üò¢</p>\n</blockquote>\n<p>I didn‚Äôt show it, but hearing this felt like getting hit in the head with a hammer. That‚Äôs when I thought ‚ÄúAh, I just had better stamina than them to handle that crazy schedule.‚Äù</p>\n<p>Learning methods that work efficiently differ per person, but I just pushed what I‚Äôd done for the past 6 years thinking it was right. Of course, growth methods similar to mine work well for some people, but at least those I mentored weren‚Äôt people for whom this method worked well.</p>\n<p>Ultimately, what I missed as a mentor was empathy and difference. When mentees said they were struggling, I didn‚Äôt empathize with the problem and try to solve it together. I just dismissed those as whining or amateurism, emphasizing only properly finishing the project even if pushing themselves to the extreme. <small>(And I felt like an old fogy realizing this, so I was depressed for a while)</small></p>\n<p>If you repeatedly don‚Äôt work because it‚Äôs hard, teammates‚Äô trust will gradually disappear. This team has only one frontend, backend, and designer each, so if even one person doesn‚Äôt work, the project drops. Have responsibility. Give trust to colleagues. Along with these words.</p>\n<p>These words are hard to call wrong, but a mentor who only pushes this way isn‚Äôt a good mentor ‚Äî just a scolding teacher. A mentor should be able to maintain mentees‚Äô morale and motivation to some degree, but I focused too much on launching the project itself.</p>\n<p>So until last month I kept pondering answers to this problem. At the company I also received feedback to ‚Äúbecome someone who thinks about not just individual growth but team growth,‚Äù making me want to find answers even more.</p>\n<p>But I still don‚Äôt really know. Just empathizing unconditionally won‚Äôt help mentees grow, and just whipping doesn‚Äôt help either.</p>\n<p>Ultimately you need to understand what growth methods work for the person, give appropriate motivation and advice, and bring out their potential. But analyzing people, not computers, is still too difficult for me.</p>\n<h3 id=\"everyones-rolled-a-lot\" style=\"position:relative;\">Everyone‚Äôs Rolled A Lot‚Ä¶<a href=\"#everyones-rolled-a-lot\" aria-label=\"everyones rolled a lot permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I‚Äôd done retrospectives on things the Lubycon team did before, but never really thought about retrospecting the team itself. Recently as things to do together with these friends increased, some new thoughts started emerging.</p>\n<p>While running the mentoring project mentioned earlier, I properly took on work with friends for the first time in a while. Working with friends like this, the feeling I recently felt was ‚ÄúEveryone‚Äôs really rolled a lot‚Ä¶‚Äù <small>(Belatedly realizing this)</small></p>\n<p>Now most have 5-6 years of experience as working professionals, but thinking back to university days, this team was just a total rookie gathering. More like a friend group than a toy project team. We didn‚Äôt know how to collaborate properly and fought all the time.</p>\n<p>Of course, during semester or vacation we gathered daily in Dongguk University Panya Hall basement to ideate, develop, and design together, but back then it was more fun just hanging out with them than developing. Going to PC rooms to crush some games, drinking, billiards, karaoke, sometimes cursing each other out.</p>\n<p>Then this year suddenly the team got busy with lots of work and collaboration increased dramatically. Watching everyone smoothly solve problems popping up everywhere felt a bit strange. In my memory, Lubycon was a team that did lots of fumbling and spent all day googling because we didn‚Äôt know methods, but at some point working in this team started feeling similar to working at the office with such smooth progress.</p>\n<p>Recently there was a major accident where the DB table containing mentoring project applicant data got deleted while deploying a serverless framework application, but later we found out the friend in the DevOps role had been continuously backing up, so it passed without incident. When friction arose from project direction or Lubycon team agenda ‚Äî macroscopic values ‚Äî not syncing, I remember we also coordinated opinions well and solved it.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/51285d2856115eebe4ea358e70ca1ee4/e996b/lubycon3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACB0lEQVR42oWSvY7TQBDH8wwgdEkce/1tr+21d722yX1woUDUSNecxBPQUEALPAMN3Um8wJX0vAAFOl1BQUlDCw0SJMPMmJxyDSn+Hs9+zW8+Jqksr3Tbvrkz9V5lvriweQQiyiFOJIRxBgH+zxf+KDcAZ48mUSovM6WUMd3Hh6en16vjQ9B2CcPyGGxP9gTqxoKsDDxaNSD8EB//z4P0WbghqGEF3YPHUCgDrgh5c+GFLJesiJA2xrN7CPHA+u495/fR2dM/8smzdanMxvWTzZZim66Dmjn+/pT9MAXVdJCkGZO5IgbX9W+RbEmZVoS3/F2NNYzzT1r3z3Hh9VwELwIRvJzmw1eRlBikWMdpcUNKduYI1jbQruUH4zD+UAZBXzXtF2OH77Y//Cbr7pduB2hMD2RLpdkWlcZ/A1Xd8posG6i15XO17kAECdcQIwR8IJMKRyUHpAYii3B0yO4qyUq2QZTxPvn07/kxk07+5b9JpfpRKf3TGMvRGoxc1YYJiEyWmtcVjlBe1PwQ+cbeZ4CDmcdNw6YkF+fnZ/XUS942WfJuZeQ6LTRebPmSi+NCqewWn/yRKgK8Dx76KTY1SVOYzBbiM26818ZuqDYWB5qiUnSSxvooXKc9rDFrJG2ZXLcdVE0PQ19D3xUwoTE4mAs4OVpCVdWQYTpEMXbTv+nqPk3nJB/+AoNoT0EsI4NiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"lubycon3\" title=\"\" src=\"/static/51285d2856115eebe4ea358e70ca1ee4/6af66/lubycon3.png\" srcset=\"/static/51285d2856115eebe4ea358e70ca1ee4/69538/lubycon3.png 160w,\n/static/51285d2856115eebe4ea358e70ca1ee4/72799/lubycon3.png 320w,\n/static/51285d2856115eebe4ea358e70ca1ee4/6af66/lubycon3.png 640w,\n/static/51285d2856115eebe4ea358e70ca1ee4/d9199/lubycon3.png 960w,\n/static/51285d2856115eebe4ea358e70ca1ee4/e996b/lubycon3.png 1050w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Let's make backups a lifestyle... that terrifying day's memory</small>\n</center>\n<p>Though each walked slightly different paths, rolling in the field for 6 years makes now being more grown than university days natural. But lately I keep thinking of memories fumbling back in university. Recently eating omakase in Gangnam with 2 Lubycon friends, remembering eating Hansot lunch boxes and jajangmyeon together when young felt strange.</p>\n<p>Going forward, I hope we can do various activities matching Lubycon team‚Äôs slogan <strong>Growth and Share</strong>, sharing what we have with others. <small><del>(Let‚Äôs build team name value, guys)</del></small></p>\n<h2 id=\"blog-retrospective\" style=\"position:relative;\">Blog Retrospective<a href=\"#blog-retrospective\" aria-label=\"blog retrospective permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I‚Äôve been steadily writing my blog since June last year, and while I looked at data fragmentarily until now, I never looked at overall data from start to today. So this time I‚Äôll share some blog content.</p>\n<p>Actually I connected Google Analytics and Amplitude event tracking solutions to my blog and observed people‚Äôs behavior. <small>(Saying it this way makes it sound like civilian surveillance)</small></p>\n<p>Since this blog isn‚Äôt a commercial service, just my hobby space, I don‚Äôt need to deep dive into data analysis. So I just use it to learn what readers are interested in and what information they gain.</p>\n<h3 id=\"blog-visitors-and-bounce-rate\" style=\"position:relative;\">Blog Visitors and Bounce Rate<a href=\"#blog-visitors-and-bounce-rate\" aria-label=\"blog visitors and bounce rate permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I started blogging seriously in June 2019, so let‚Äôs look at blog visit data from January 2019 to December 30, 2020 when I‚Äôm writing this post.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b4d4611a19cd662532e1e5d9ed79a0c0/03914/blog1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoklEQVR42nVOiw7CIAzk/79zMdnco6NQBgzOgtOoiZc0ubZ31xrvHHJKaBDxcI47TzoLIaDW2ouZkfNT1zQi0nmMx9vTdGbeCNNmEU6A2OE2zZBTAyRgGCfsEiG5YFwI9kg4dLfQjqHr1OM8Vst9HlVnNiKIftJgNdBqUK5A0WsNpT6rfvD+zdXXn52ZyYJ8QNJu3Rl3/dangnyWy/bCP/6NB5gFOWR903IEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog1\" title=\"\" src=\"/static/b4d4611a19cd662532e1e5d9ed79a0c0/6af66/blog1.png\" srcset=\"/static/b4d4611a19cd662532e1e5d9ed79a0c0/69538/blog1.png 160w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/72799/blog1.png 320w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/6af66/blog1.png 640w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/d9199/blog1.png 960w,\n/static/b4d4611a19cd662532e1e5d9ed79a0c0/03914/blog1.png 1173w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>In May 2019 before I started blog activities seriously, monthly visitors were about 60, but in June 2019 when I started, it increased to about 4,000.</p>\n<p>Rather than writing particularly good posts, I posted 9 posts just in June 2019, so inflow probably increased this dramatically. And currently in December 2020, monthly visitors are about 20,000, total pageviews about 470,000.</p>\n<p>What‚Äôs unique in this data: the bounce rate is only 64.94%. Usually services focused on information delivery like blogs have high bounce rates when users get the information they want. So this bounce rate is pretty good for a blog.</p>\n<p>But it‚Äôs still a bit disappointing to just give up on bounce rate, because of this data:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c1d5576bb232ff1ac9bc089f78d03540/12e1b/blog2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42p1STUtbQRR9P6Af7vsTSv+E/6KL/gGldCO6K4KtBbtx495lQcQKfqyaFiwpqFVIE0SlahM1MXnJm7yPmTfzZub0ziShpavUGQ73npnL4czcG/BcIs0VfBQFlLaw1sIMYcdAoQ0y0hBSIQCtpa8dPF05xeTqBepModYW+HSR4LjJ8T/LiXvBqc0GgleHeDBfwVmY41sjw4cfDF8uk/GE/hWc3r5BMHuEx4tVEpTYv86wXmPYu0ru5/DlDgnOHWPiXQ3n3Rzfbzk+nvRRrqejSl88TP/63z98kI+evEWCM0d4+KaKU3ry7lmMlf0QGyfMF7lGOWhrx3P4utTCo7cVPKPG/OxJvFiv48n7Kp6v/UKXayyX21j43ESJGpVIg4PrFIeESGikxBuRQCtRKAwJaqOhKXFtz1Xh7QtlwDJJcXB3ywSajIMTl+Q0TKWHonHJC4Me5TGNnDYGQZRyElIwRBy01rAU/YzR9nz4WX4+yYCry4SEJAOKYK3x5642uAw5bqKMHAh0Yo5Or48eS3DXZYjiFG3H++mAU3T33X6CVhjReTK8d5yBxRl+A9nS7mCjnxyaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog2\" title=\"\" src=\"/static/c1d5576bb232ff1ac9bc089f78d03540/6af66/blog2.png\" srcset=\"/static/c1d5576bb232ff1ac9bc089f78d03540/69538/blog2.png 160w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/72799/blog2.png 320w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/6af66/blog2.png 640w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/d9199/blog2.png 960w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/21b4d/blog2.png 1280w,\n/static/c1d5576bb232ff1ac9bc089f78d03540/12e1b/blog2.png 1607w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>This chart shows the rate users read another post after reading one blog post in the last 30 days. The leftmost chart is users who saw 1 post, and the right charts show users who saw 2, 3, 4, 5 posts.</p>\n<p>Just looking at the chart, you can see user numbers sharply drop going from the leftmost to second chart, meaning many users bounce after seeing just one post.</p>\n<p>Up to here is natural given blog service characteristics with high bounce rates as mentioned, but what‚Äôs interesting is the percentage passing through those funnels keeps rising.</p>\n<table>\n<thead>\n<tr>\n<th>post1</th>\n<th>post2</th>\n<th>post3</th>\n<th>post4</th>\n<th>post5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>100%</td>\n<td>16.9%</td>\n<td>37%</td>\n<td>51%</td>\n<td>62.3%</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">post1</code> is people who saw one post, set as 100%. <code class=\"language-text\">post{n}</code> columns show percentages of people from the previous funnel.</p>\n<p>So <code class=\"language-text\">post2</code> means only 16.9% who read the first post read a second post. Similarly <code class=\"language-text\">post3</code> means 37% of those who read the second post read a third.</p>\n<p>But looking closely, numbers rise after reading the second post. So the more posts you read, the higher the probability of getting interested in my blog and reading more posts.</p>\n<p>So seeing this data, I tried improving bounce rate by adding related posts, grouping by tags, etc. ‚Äî but to conclude, all failed. I should analyze this more and run tests when I have time.</p>\n<h3 id=\"visitor-segments\" style=\"position:relative;\">Visitor Segments<a href=\"#visitor-segments\" aria-label=\"visitor segments permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>My blog has lots of technical content, so my blog‚Äôs user segment is limited to people doing technology-related work in IT. <small>(Sometimes marketers come in through GTM posts)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 295px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/564297705d3b3abc0afd27d96b1313ea/e4a3f/blog6.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 148.74999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFy0lEQVR42p2W+VcURxSF+UOj5pwEl0QBSSJoogi4AGoSc4yaYBQXFgWHfZBNAQ1g0OBGFJgFgWEbYJZeqnq6e25udU8E9LdwzqO6u6q+uu/Vq1eTl81mkclkYNFs24ZlZfhu89kBuz417LSP//IUJL62htjiIhKbm1iKxbCxvo50Kon/85enFNo0J2c2l5UOYPJB2oCRgdeabAXN2TZeta4y14XjKI+yyFszbbREUuhf1NBL655P49pLgbIRgd8nJY4+Erj6t0TFY4Fz4wIDMR3dCxoeLulomUsjnDBhaGnE6ZUKXd4KgfWhJLrmNc9aoik84IR7ahFOVn19izqa+b3tfRpBjglE097id9gXSVO260AI6SnNWyWwmZN7OUlZOycNEtTO1YeWDG+BR2w7cjAF72SrxtzlvDmNG2oa2NjY9DbVU9jAlbrnNc/uE9BLhSoMyr1G9vUTor4raA/HtFJhHxXW/6fQsaEbxpbCpnASPYQoa53z4xkgQMXpLvuUGvW9i/FV4VDq+2MaGtkXpUJbCiSSSW9jdsSw873mue/FMJzylNXP5mLI720E+V7sjKFjSaQ1zQf6ClNUp6MvliY0iUcrhMdSGFnVEZhLYnhZR9cCF1pkfJc0BBfSfjg4L0qgm7G2gMs5hR1Ud+W1xPlJgWsTEjWDJuqYPhVPNdyYMnHumY6LkwauvjRw7i9u0pzuKQwTmBGm5/LWpjAWbXSp8Np77LkYwZHaBXxWOYvy5gR235Ko7JY40CBQ3CLxw7CFAz0W7ocNL4bhnEJN1/1NUUAlvZ1WdOENPi+fROmvb7G77BlONaxib61EVbtA0U0TpYRWdEkUNUm0zuhoiiYxs2nCZGJvbObSxnOZsFZa4U//YE/lK5Rcnsauk5OobFxD/h8SZzsECm+ZKGkSKB+UKOyUCIQYw0gSoaRE1s7ANMU2hezoiGo41qjh4PUUKlo0fFWbQnWvifw2gephquoSKO0l8E8CBwgM+8DpnMK1eNxXuKTbuDGdQvOsjhMtFopuS5xut1DA2NV0W8i/TqBy8w6B9+jyEJ+DdJlAlb9eYmddCCn94vBu3cXebhMnOfD7eyYO3TRQERD4us5AFV394jcTZ9slChjDI4zhyU6BQ40CgRlfoQJawkA8vu4r9IBBAunWiWauflvgdBsBtwRqqCy/lgoZsyK+l96lwofKfSoMbVPI4mCKXAwVcH+QA5kOpwgqafRB37H9uUcypgI/Mm1K6gUXFKjitxKmT2eIhWPOLw4qD9c3NvzEjiQdlI/puPTcRBkVHqaSM60MfJ3A+QcS+6iqhptQzDAco7unxyS+ocq2qKo2vkKXu/zhpMSFjY6FBM9rGmVBf+KZPrrVQuATif19LKxPFYRAFZYhCweZ2IGIgabI1llOpdI+MEqFlVR4+YWJcgK+5cQqqigeFLhA0IEegsf5fUDg+JDAzSkDl3gEg/O6d1Ii246eB5yKu9jVbuIo3ThOBYVUdIrgQ8y56lGJL7u5ANsCvh8jsF8VkIWUX21mcy6ro6fljt5bbko+06ZsRAF5xPoZJwILCK6h0nwCq8f8hb4nMMiaqK4AVeLqQynM8E4RuubdKVtpw50ro7ryxzYOE3h2NOOBz49b2BdUYAvFA5YH7I0ZfsVm20BgOCU9hepO8RLb4B0ZYv2Lm0BoOYFVPYvomobFpI0VujOfyGBVczC7zOOlA8ubaSQtBysJDWuaRMb9+F5mUjqW8F4ypu61WVutxpFZxzf+Rsi60uuzc2M5iP/cTy/6TcvF+JrA+KqJ55sSo0s26l65LK4Z3Hpjo2uKz8MZ1I1kcGPERvt4GlcC73E5MI9fWuYRjpk+P/e7JC9hSMyyYsyzSMylJV4tJjAU0jCx7GJiycHYTBKj7wQmIi5Gpy08ebGCgacxjL7mxfZkAYsrqZ1AhzvjOk7uY5Z3LLffFh9csKVGd+1cvwNLst/JeO8Oxzm2tcPlfwEuB1MAZ2EHJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog6\" title=\"\" src=\"/static/564297705d3b3abc0afd27d96b1313ea/e4a3f/blog6.png\" srcset=\"/static/564297705d3b3abc0afd27d96b1313ea/69538/blog6.png 160w,\n/static/564297705d3b3abc0afd27d96b1313ea/e4a3f/blog6.png 295w\" sizes=\"(max-width: 295px) 100vw, 295px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Everyone seems to rest on Saturday, but why do they come in on Sunday...?</small>\n</center>\n<p>This chart means darker shading indicates larger values. My blog visitors mainly access between 8 AM and 12 PM on weekdays, probably from googling problems while working and discovering my blog.</p>\n<p>Looking closely, from Friday 7 PM to Sunday 11 PM ‚Äî basically the weekend ‚Äî even dark shaded parts don‚Äôt differ much from light parts. The color looks like that just because values exceed <code class=\"language-text\">1500</code>, but actually values stay between <code class=\"language-text\">1400</code>-<code class=\"language-text\">1600</code> during those hours.</p>\n<p>Looking at this, I can hypothesize users visit my blog not for killing time but for practical work help.</p>\n<p>Other user segment factors include age and gender, which you can probably guess:</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e50080c81ca8b19493536bcb4e34ece8/cda19/blog7.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVR42qWSTWsTYRDHn+/gwYOg0H4WwZMoiAd7qV+gHqRWEC++4EH6Ao1K7dWbUoI2WAilbVqxVNM2rUK73U2iWc2um+7GrZvEze7+fNxUmxKobR0YHp6B+c38Z0aEYUgURX+93drjh3URJ+4CPD/kztsSfdMFUpodx8L9Nf5pIu5w91Op+ZwYWkTcmuF6Oh/HgiMSWx1Gf4BNTj15j3iwwMBcsQWMjghsad8Dnnz8DnF/nv7ZYwL3S+4E+kEo5xgdX/J/d/hlp8Hwislg1iCju5wZyyLuZbghZ1hyfWZLLopdPzxQcepcSmmcf6nyXLHpGpfAuxluZj4xuGxwLqnIggbtSg4EqhJ4NV2gZypPUnXoeroHHM1948KkSiJntm4y7DzkTmC1Tm+6yJWpAknNoXt8WUqej4GJNUsCNcbWLZZMj0cfKrzQqgceu1DsGpdTKhdfSckbFU4nlhC3Z+ifzvMwW+bsxCajUvJkscq1BZ0R2a3p+XyUc92Q6jw/oNYM4rcpL0K4DZ9F3eHN523073Veb1k8y+msm3IZ2z+YK1io8i3L5a1+dcjbHpb3kzWjymZlh9/5hlujLL3RDPgFZge89MSfu9cAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog7\" title=\"\" src=\"/static/e50080c81ca8b19493536bcb4e34ece8/6af66/blog7.png\" srcset=\"/static/e50080c81ca8b19493536bcb4e34ece8/69538/blog7.png 160w,\n/static/e50080c81ca8b19493536bcb4e34ece8/72799/blog7.png 320w,\n/static/e50080c81ca8b19493536bcb4e34ece8/6af66/blog7.png 640w,\n/static/e50080c81ca8b19493536bcb4e34ece8/cda19/blog7.png 785w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 439px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5078eefc1192e770146eea9f3fa5e90e/e3b18/blog8.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 103.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADG0lEQVR42o2V2U9TQRTGp71dAKEEAyaG6IOvPvimb8b4ZnjxT3CBCAhoJAYTnjRRiwItpWVzAdEESCTygMYlQUWgCwqELWkJSwBZpEABS1va3s+Z295ellvDJCdzO3fO73xz7plTgjgjGA7D4/XB7/dhIxDEOn32er0I0fX/DbJ/gY/OHt8OBqYXsbq0gLnNAKaXVrE4P4st7zYYkuf5wwHDPNss/V73hzG57sOUexNr2wEpMN0UloHuAYrvQ5Ta7nIjq30cJ+p+IcNsR3pJEzLvNeGSuRNtPycQCIaiAnh5oPhiyuPHxbYxkMc9UOh7QJ72IcVoxZE7L0BumKHIMYFcr8L5yneYWPYcgJLdCxNrPpxuHERqlR2pJge0lTaoqaVWWZFS/BLczVpoC+sFI9eMOEkVjy2u7YESkR0I8bjQMgpS1osMSz+FWaGqsEJJTUcVJlOFivwaAcos6VYDSE41zunfwrsTjKWMhKLk2sFFkIc/oDXYoCy3gquQAeZJQGYapvSqERVfBmO5j+Xw7OthEH0vNExZeZ9g6ooIOB5QXVAnqDzzoFWAxXLodP/FMWMPkqljgtEOtcEhGFdpBym3IdkgD1RRU+bXIpEqHZpbkYBfnfPgaLSUu6+QVtqCo/c7kPboI1KfdEFX2Yv0apvwlXfncL/KzpEZCfh5fFYoBY46KPPMUOaaweVWI6mwDom3n0FHA7F8MTX7gRq6h/l2DE1JwP7pZSESU6mKzswYQEmDKPIsB0DikdmspKnodv2WgJu+AE6VNguFK4BlnGWBBbUgNFhmSSNWtrYjQPHrFLV+F0pAW1R/aKA2WjbZzV2x4iaxW/LHg4zi50LEw6hUCympgY4W+MjCqgQUC5KNZrsTJNsEjuaEJVsOxCDslhynzYLLtaCmexS7GbHCFhtnQ88YNNSJHYXVHVOiLYyYhj6zNXaPVfQkpm/DEWVhXr59iVGG5ty4XPchcl+pYnLFEDFaHgk0x1mW93DMLO/xid+xaR7ELZMrG3jjcKHs0wD01JptTriiLUuuF8oCxY3xWrzYVcJx/gL+AUgc7J0NNxocAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog8\" title=\"\" src=\"/static/5078eefc1192e770146eea9f3fa5e90e/e3b18/blog8.png\" srcset=\"/static/5078eefc1192e770146eea9f3fa5e90e/69538/blog8.png 160w,\n/static/5078eefc1192e770146eea9f3fa5e90e/72799/blog8.png 320w,\n/static/5078eefc1192e770146eea9f3fa5e90e/e3b18/blog8.png 439w\" sizes=\"(max-width: 439px) 100vw, 439px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n</center>\n<p>Though the development field‚Äôs gender ratio improved compared to before, it‚Äôs still male-dominated. My blog visitors are also 77.7% male and 22.3% female, showing much higher male ratio, with main age group being 25-34.</p>\n<p>So the main persona of users primarily using my blog would be male developers in late 20s or early 30s. Of course, since I won‚Äôt market or run events targeting this user segment ‚Äî just run a blog writing technical information ‚Äî this analysis doesn‚Äôt mean much.</p>\n<h3 id=\"search-inflow-keywords\" style=\"position:relative;\">Search Inflow Keywords<a href=\"#search-inflow-keywords\" aria-label=\"search inflow keywords permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Like most blogs, mine also lives on organic traffic flowing in from search engines like Google. Looking at Google Analytics channel inflow data, organic traffic occupies over 50%.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e4f35f0567ceb1d28541214478a0a2c0/99272/blog3.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACgklEQVR42q2US0wTQRjHVyVB4oODxoOYeCAGlXAxMSExxnggkHiQQ9MoaTx405MXPXjQxCjBFw+Liah4IjHqATVBtB6MkFZaaIUGpFC30He7lD5ZFtjO/p2dLsUGiKBO8u0cZuY3/+/7/rMc/vPgFEVBIpFAMplENBpl8z8BCSEMpEJ5nkc4HGYL6kXrDaLk1tcKrnCrCiH0K0Omp9QgyiYV5lEki7VOq7cSTe2yaOfMEtwBAUIkBEEQEAqF4Pf7EY/HNaBC2LQkj0NeuIKJyEXo3//AXWsQUXGxIE112GI+OKfcGB1xwuv1MpAKTKVSFKjBFh09mPUehDi/DYOeSuxq7gN3px8Vz+1wROfYnizJ7Q1ErHDzI5ie8tHax1enLE+PYra+DLFbFCgVY8h3GHuM31DcMgCuqQ9VnQ6kFrOsxgw5OYTA2DBGx12YjcXypck3JfPkKmYulEPQVUHs2Ad75ChK28zYct+CkhYLuNt9eDYSYQdlomK/whewYcLlYc6QJOk3hbQZ89fOYKH+AMTzhyDp9sPaVYvSDgq8Z6FKrSh6aMHlz3zeCLY5CXbeQ2s4jGlaw8KUKfC78Rze3KxA++Nq3Og6BsOrBux8NEAVmrG33YZiCrxk+qk1R0GGqsxQVZl0GqIorq6hcawRJ3srUWuqRt3HI6h5p8OO1kFsfWBGSStNubEfnc6olrLyZx/ySRf0PdUw9J6G4dNx1HU3YHfbMLa35GBVLxxIs6aseHH9p6fZpj9ogu7DCdS8LcOp13oUNTloM76g/OmKbYiibOylLBs2OOfHy8lmXDe34mw3jzZ7EDFJzht7c09vnduVDSpbBcypIMgqWRZ/+3P4BaeDzLC41FWXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog3\" title=\"\" src=\"/static/e4f35f0567ceb1d28541214478a0a2c0/6af66/blog3.png\" srcset=\"/static/e4f35f0567ceb1d28541214478a0a2c0/69538/blog3.png 160w,\n/static/e4f35f0567ceb1d28541214478a0a2c0/72799/blog3.png 320w,\n/static/e4f35f0567ceb1d28541214478a0a2c0/6af66/blog3.png 640w,\n/static/e4f35f0567ceb1d28541214478a0a2c0/99272/blog3.png 669w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Top organic inflow is 50.6%, 2nd SNS channel inflow is 21.7%.</small>\n</center>\n<p>In this situation, I naturally get interested in what search terms bring people to my blog. This data can be seen in more detail in Search Console than Google Analytics.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d33a9725b00f44fbf215e1d9c05f007b/c0255/blog4.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 40.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVR42o2STWtTURCGs9P/4F4Q/Nj1BxTc6E6oBcGNoIg7EYrQheCiFDFQUQihYFViLTXUQGiNQi2F2DaxShNakmBMbkxrSaqxprkf59x77uO9JxZx5wvDez5m3jNnZiI3Hve4Eje5HDO5eH+fW8NLjF5aZHRoiavDaU7EJjgz9ZBjj8Y5N/sUxxHYlhWwg+/7/5hSisjZsQPO3+sxcMfk1M0OF06nuD44z9DxOQZPTnH07m2OjI0QGbnGQDyKaZla8FAgRLD8wz6R1AfBy5xkNrDkqsPrFzUy01UyiS+kkxWiuSzRfJbxtWVmSgUdpIP5K3gILah8pS//ByrMKvDflxYdp4ftumz/kJSbNntdEXoQCbXWv+3wvvkVx/PwggDbkQjb5cC0+W53KRRaLK80yDaaZLa2SRbqzBUNnq/sEnvb4kF6j+lsO3jMCwQDbLR3mSzmydWaLKzWmHn1mSfPKkwmy8RTFSYSBomFNosfTebzFm/WBe8+SdZKgqIhqbcUm4aHI3SGPl1L0vnpslX5xWbVpNQQbFRtyoagvuPSEz4yKJdwwZE+lghN4QVnSvm6oiHpLnvBN8NRcISHkLJ/qVxdj5CVkoQ+QggdIER/XELu7wVSurrTnvL4DbDAOSHe9Qn3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog4\" title=\"\" src=\"/static/d33a9725b00f44fbf215e1d9c05f007b/6af66/blog4.png\" srcset=\"/static/d33a9725b00f44fbf215e1d9c05f007b/69538/blog4.png 160w,\n/static/d33a9725b00f44fbf215e1d9c05f007b/72799/blog4.png 320w,\n/static/d33a9725b00f44fbf215e1d9c05f007b/6af66/blog4.png 640w,\n/static/d33a9725b00f44fbf215e1d9c05f007b/c0255/blog4.png 920w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Search result impressions and clicks trend upward, but CTR doesn't grow well</small>\n</center>\n<p>My blog appeared about 1,800,000 times in search results from January last year until now, clicked about 125,000 times. Average CTR so far is about 7%.</p>\n<p>Looking at the chart‚Äôs rightmost part, you can see metrics dropping. This year-end metric decline trend appeared the same last year.</p>\n<p>Last year seeing this I thought it dropped because of many year-end appointments, but seeing it the same this year when COVID prevents making appointments, it seems people don‚Äôt work much at year-end regardless of appointments.</p>\n<p>Recently Google launched Search Console Insights that organizes and shows these data as summaries. Looking here definitely shows at a glance what search terms brought people to my blog in the last month, what sites backlinked my blog.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/9a6434311050fa41aabb35f6a0a3bb73/889a4/blog5.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 114.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACc0lEQVR42qVV6dLaMAzk/V+vf+DjCuHIQQKJc9ixY7aSSjydrxA6rWZEDjvyStoVC+89Ho8H+GqMwTAMcM7JO/bJpuc55xgLusOP8wNVZ3E6xojjI4qiwDiOsBR4OoCf56zretm34MhKgz72aNsWbdeJa61pUwelGtlsBxuQvjJGx4cu5EYQ+LDIC86NcuV1Nvssw5xJygzzfLlguVwiTTNZiKJIfL3ZIM9zeVfebjgcIlRV/RapBGQUN9pcFKWkzHa9l8iqAm3TStpstVK43e9Sp1mE37spp5O7h/9js/d/kbK1DmmW43JJER1iVLUKHf1Us5cB+afvO+mkcNJ7/KuFlFXTSNF1r1HrBoc2xaUrcGqvcN7NBmExKKpvQ/UW2nBAvhmshdGkFGehLHHRajSWUD8+I55KE7pc1zVRJsX1+guRdhSYrma0H+vI30+SFYRCWkIn6qCU1dBg15xxaFLsVUKB7WxAplHf9+hJWUEpzD8mbFVVKImP1tj/a0pDTWGVZESfNMuwux1xbHNEhPJuVODmK+Ps+HvOMAwHjswPrFdHsFvXS0O4OWYcnuPJh32TT1qfxBFS5nG1Wq2w3+9J0yvsNjucaIwdthE2Xxvs6P16vSEtxyjLUvTNUs0oG24Ii4ObwodKUww9FLTxTjWs6gpbSnl7P+HrFiNRBRylNc3FV3ThEcdaZ5OUuQ7GDKH97dA/XaMfDI23cWZyf+Oh96N0+EppcypJniLOzkiuGc55goT4yenN0UaTIBjMbzx0Ij/Wc20aRG2Ciy5x7HPYD9LjgBwsBPykhKkkXAr/YXCEaTNR550LpSgoI3j3bzf5T6ZdCTqNpJ1WAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog5\" title=\"\" src=\"/static/9a6434311050fa41aabb35f6a0a3bb73/6af66/blog5.png\" srcset=\"/static/9a6434311050fa41aabb35f6a0a3bb73/69538/blog5.png 160w,\n/static/9a6434311050fa41aabb35f6a0a3bb73/72799/blog5.png 320w,\n/static/9a6434311050fa41aabb35f6a0a3bb73/6af66/blog5.png 640w,\n/static/9a6434311050fa41aabb35f6a0a3bb73/889a4/blog5.png 658w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Undisputed 1st place: CORS...</small>\n</center>\n<p>As this data shows, 4 of the top 5 search keywords flowing to my blog are CORS policy violation-related keywords.</p>\n<p>Actually the post <a href=\"/2020/05/21/about-cors/\">Why Does CORS Make Our Lives So Hard?</a> written in May this year has had consistent traffic inflow from then until now, showing many people struggle solving CORS policy violations.</p>\n<p>The <code class=\"language-text\">backpropagation</code> keyword in the middle leads to the <a href=\"/2018/07/19/deep-learning-backpropagation/\">[Deep Learning Series] Understanding Backpropagation</a> post written in 2018. Probably manually solving the backpropagation algorithm step by step and porting to code helped people entering machine learning.</p>\n<p>Besides these, posts on topics directly related to programming like HTTP3, TCP, Git, math mainly rank high, while posts on non-CS developers or business philosophy relatively lag behind.</p>\n<h2 id=\"lets-prepare-an-inflearn-course\" style=\"position:relative;\">Let‚Äôs Prepare an Inflearn Course!<a href=\"#lets-prepare-an-inflearn-course\" aria-label=\"lets prepare an inflearn course permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In last year‚Äôs retrospective <a href=\"/2019/12/22/2019-retrospective/\">End of My 20s, Looking Back at 2019</a>, I said I wanted to try presentations or lectures in 2020, and finally started preparing a course recently.</p>\n<p>Someone around me says the developer‚Äôs 3 great lies are toy projects, changing jobs, and YouTube/Inflearn. I also kept lying throughout 2020, starting this challenge only as 2020 was ending.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/34601be0190fa3a883d1fd6c160453de/82158/liers.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChklEQVR42pVUO4sTURROYSNipZtk8pjJTOZx7zwzr0wmj8ljXUFwYUFXQaysTKmCjWC1aG0tgpVib6M/wX8g2FlZWG8hmeM5V1ZYBDMJnLkhQ777fd/5zqlJqnlaj1dfGmHxVeqZb+r19qOuprzmqQaqZpa6waEja9BqK9Dq9KDdVf9bNanvfqvh59Lxs1VrevN5ammJ6bqPbc8C1wvLQTQETeegqIaorYBtlf04PDq+z4vDlz03AcfxN9wdgMk8sLiHpwvM9sHxQuBOsJVljR6azkDuGdA3eMltv1RUvfSDWAASEFWzJVeTTA+prWyoGAJESQZq38JzBP4ggWQ4hkGUCkDyshIgFd2umzZ4yMxGySQvTnII4yEEYSJkV2Z4BoiSzwGSbC+IRBmWsxsgSkagAObLA3D9CKi72WgqfruyJ4n328D+YUjNId+osnwKxWIfJrOlACc7dpZMzaA/xmn+F2w0noGHjOmynSWThxQV8izLZwhWINtYvKcO79TlM0BiSHKJXZSOIEfQ+fIazOb7YFcNtgAUXWaiu1SqxsSo9TQTT118r8ywiyUrfVDRJ4u7yBJnV9cEmyq+nQOMBiG8f3UCJ0/WMCsWcPvOPZgu5sBiWcinsSNm9WZHTMtWwGmWwdsXTzcPbt3YjPMJzFcHMKT88QB9XEA+KXD8aGIyEaetHhrYiNV4DKnnAc2y4+JWwTDbwZ/FQFPj+rEIO9mxHdDyfy6vH61Nk6+vNlp3L9QuJk2l+ZAl2HWdlQbKbqDUvUa70rTU8ObvAHAZd6xkMecDbpt3mMPPDPcgbRwKNi0HmvFKwe7K2ik3zY/9vvEJI/KLlgDlUcOi+JB3FHRme5UAfwPFVTHmfyiVowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"liers\" title=\"\" src=\"/static/34601be0190fa3a883d1fd6c160453de/6af66/liers.png\" srcset=\"/static/34601be0190fa3a883d1fd6c160453de/69538/liers.png 160w,\n/static/34601be0190fa3a883d1fd6c160453de/72799/liers.png 320w,\n/static/34601be0190fa3a883d1fd6c160453de/6af66/liers.png 640w,\n/static/34601be0190fa3a883d1fd6c160453de/82158/liers.png 696w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>Going to challenge making lies reality</small>\n  <br>\n  <br>\n</center>\n<p>I finished writing the course curriculum last week and am now writing scripts, but this is a different feeling from writing blogs or books, causing various difficulties. Since it‚Äôs a script, writing in spoken rather than written style reads better later, but I keep habitually writing in written style, making it too stiff when reading. <small>(Doing a one-man lecture show while writing seems to help a bit‚Ä¶?)</small></p>\n<p>Of course, I have a long way to finish the script, but even if it takes time, I‚Äôm aiming to write steadily daily, so I‚Äôll finish eventually. Honestly, once I write about half, no matter how hard it gets, I‚Äôll have to finish because of sunk cost.</p>\n<h2 id=\"sending-off-2020\" style=\"position:relative;\">Sending Off 2020<a href=\"#sending-off-2020\" aria-label=\"sending off 2020 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Looking back at 2020, there weren‚Äôt many dramatic challenges. If I had to pick one, maybe the mentoring project‚Ä¶?</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2f100039441c2bddb273d5fa4221e8f9/644c5/lubycon1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDBQH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAaK+ZsOrxPNvIlGN/wD/xAAcEAADAQACAwAAAAAAAAAAAAAAAQIDEhMhIjH/2gAIAQEAAQUCS9lkjrJfEnZk0T9085Kmf//EABURAQEAAAAAAAAAAAAAAAAAABAB/9oACAEDAQE/ASH/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAaEAACAwEBAAAAAAAAAAAAAAAAEQEQMSFB/9oACAEBAAY/Ak7enqg2INO1/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIUExUWH/2gAIAQEAAT8hsQGeYns1so3tXtchFsbUr7jIrq6xvTIbvqKNqf/aAAwDAQACAAMAAAAQTNeD/8QAGBEBAQADAAAAAAAAAAAAAAAAAAERIXH/2gAIAQMBAT8QvWW0R//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEBH/2gAIAQIBAT8QG4Tn/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARITFRgWFx/9oACAEBAAE/EAVQRoZShnrAhW+QpBVfsRnUAIwu89ZF24GgC+9S5xOiprIlihRC+oHNZcavZcwm64n/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"lubycon1\" title=\"\" src=\"/static/2f100039441c2bddb273d5fa4221e8f9/c08c5/lubycon1.jpg\" srcset=\"/static/2f100039441c2bddb273d5fa4221e8f9/0913d/lubycon1.jpg 160w,\n/static/2f100039441c2bddb273d5fa4221e8f9/cb69c/lubycon1.jpg 320w,\n/static/2f100039441c2bddb273d5fa4221e8f9/c08c5/lubycon1.jpg 640w,\n/static/2f100039441c2bddb273d5fa4221e8f9/6a068/lubycon1.jpg 960w,\n/static/2f100039441c2bddb273d5fa4221e8f9/eea4a/lubycon1.jpg 1280w,\n/static/2f100039441c2bddb273d5fa4221e8f9/644c5/lubycon1.jpg 1440w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>In June we held a mentoring demo day at Cow &amp; Dog in Seongsu</small>\n</center>\n<p>Actually just mentoring alone was so physically and mentally draining that I couldn‚Äôt muster courage for anything else. Since this was my first time mentoring, I didn‚Äôt know giving someone attention and leading them required so many resources.</p>\n<p>Until now I was a developer who only took care of my own growth. I thought each person‚Äôs growth, whether soft skills or hard skills, was something each person had to manage. Then individual growth would lead to team growth. If a teammate didn‚Äôt grow as much as others, of course you should help your best, but if they still can‚Äôt keep up even with help, ultimately cutting them off was right.</p>\n<p>But during this mentoring, doubts started sprouting that this thinking might be wrong. Just vaguely helping isn‚Äôt the answer. Depending on who leads and mentors how, this person‚Äôs potential could burst out or die right there.</p>\n<p>As I gradually build my career, I could become someone‚Äôs mentor, someone‚Äôs role model, or a leader of some team. I think it‚Äôs time for deep contemplation on whether I can properly perform that role when the situation comes.</p>\n<p>I can‚Äôt be a developer who only looks after my own growth forever. Now I need to look after not just myself but organizational growth too.</p>\n<p>So recently I‚Äôve been talking with fellow developers about topics like ‚ÄúWhat is a senior developer?‚Äù, got recommended and am reading the book <a href=\"http://www.yes24.com/Product/Goods/67350256\" target=\"_blank\" rel=\"nofollow\">Growing Together</a>, but haven‚Äôt found answers on what methods are right yet.</p>\n<p>In 2020 I end this retrospective with questions I couldn‚Äôt answer. But for my 2021 retrospective next year, I‚Äôll set a goal to find answers to these questions and concerns and write them in the retrospective.</p>","fields":{"slug":"20201229-2020-retrospective-en","path":"/2020/12/29/2020-retrospective/en/","lang":"en"},"frontmatter":{"title":"2020, How Did I Grow? A Mid-Level Developer's Retrospective","subTitle":"Code, People, and Learning ‚Äì A Year in the Life of a Developer","date":"Dec 29, 2020","categories":["Essay"],"tags":["Retrospective","Lubycon","Toss","Google Analytics","Amplitude"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/e4b6d09b3da9e83c56b4d85bc517f572/d803c/thumbnail.png","srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/d803c/thumbnail.png 320w,\n/static/e4b6d09b3da9e83c56b4d85bc517f572/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/fc5c5/thumbnail.webp 320w,\n/static/e4b6d09b3da9e83c56b4d85bc517f572/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/e4b6d09b3da9e83c56b4d85bc517f572/01fb2/thumbnail.png","srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/e4b6d09b3da9e83c56b4d85bc517f572/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"aa7e78f8-d11c-5873-9fed-047eb7246ba9","tableOfContents":"<ul>\n<li>\n<p><a href=\"#how-it-started\">How It Started</a></p>\n</li>\n<li>\n<p><a href=\"#drawing-a-doughnut-chart\">Drawing a Doughnut Chart</a></p>\n<ul>\n<li><a href=\"#visualizing-multiple-data-points\">Visualizing Multiple Data Points</a></li>\n<li><a href=\"#full-code\">Full Code</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#building-animation-with-arcs\">Building Animation with Arcs</a></p>\n<ul>\n<li><a href=\"#cant-use-the-circle-element\">Can‚Äôt Use the circle Element</a></li>\n<li><a href=\"#understanding-how-svg-renders-arcs\">Understanding How SVG Renders Arcs</a></li>\n<li><a href=\"#understanding-the-arc-flags\">Understanding the Arc Flags</a></li>\n<li><a href=\"#finding-arc-endpoints-with-trigonometry\">Finding Arc Endpoints with Trigonometry</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"In this post, I want to talk about something I recently wrestled with: drawing doughnut charts with SVG. Drawing the chart itself is straightforward since SVG provides a  element, but what really gave me trouble was the animation.","html":"<p>In this post, I want to talk about something I recently wrestled with: drawing doughnut charts with SVG. Drawing the chart itself is straightforward since SVG provides a <code class=\"language-text\">circle</code> element, but what really gave me trouble was the animation.</p>\n<!-- more -->\n<p>Of course, you can easily get a doughnut chart by using a chart library like <a href=\"https://www.chartjs.org/\" target=\"_blank\" rel=\"nofollow\">chartjs</a> or <a href=\"https://nivo.rocks/\" target=\"_blank\" rel=\"nofollow\">nivo</a>, but all I actually needed was a bar chart and a doughnut chart. Using a full chart library felt like overkill, and I figured I could just throw something together with canvas or SVG ‚Äî so I decided to build it myself.</p>\n<h2 id=\"how-it-started\" style=\"position:relative;\">How It Started<a href=\"#how-it-started\" aria-label=\"how it started permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/d73af6df8335316c67a49ab5b03887cb/doughnut_clipped.gif\" width=\"100%\">\n  <div>\n</div></div></center>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// The original interface looked like this</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DoughnutChart</span></span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">rate</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">80</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>It all started with this doughnut chart. It was only being used in one specific service I was responsible for, so it had a rather naive interface. But recently, other teams started needing it too, which meant I had to make the interface more abstract.</p>\n<p>The original interface rendered a single data point onto an empty doughnut using a <code class=\"language-text\">rate</code> percentage value, so it only worked under the assumption that there would always be exactly one data point.</p>\n<p>But to make the doughnut chart freely usable across different contexts, I needed to support visualizing multiple data points ‚Äî which meant overhauling both the chart logic and the animation.</p>\n<h2 id=\"drawing-a-doughnut-chart\" style=\"position:relative;\">Drawing a Doughnut Chart<a href=\"#drawing-a-doughnut-chart\" aria-label=\"drawing a doughnut chart permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Drawing an SVG doughnut chart itself is fairly simple by combining the <code class=\"language-text\">circle</code> element with <code class=\"language-text\">stroke</code>. Let‚Äôs start by drawing a simple circle in SVG.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42q2UsYrCQBCGoygKPoQWloK+iaCNjSD4DlaWaqUW2vkggo2NhYV2oq2gfYpIEkw0/93cMCSYxFsvt/DDLv/ONzObzWq6rsOyLJimmVi32w0aTWh4noekw3VdNSBZKvl+BT6frLj1R8Bg4GuFcdXGAmW63QKdDlCpsLpdYL8PJ3wLlI2zGZBOA5oGpFIsmmcywGIRDQ0BHw82NhsOzGaBfh84nYDjEej1GJzPA7tdGBoCitlqcTWDAa8pkSSjBORR++LJEUW27DhAucxB57NfhQAPB/ZqNd4bPPNI4P3uAy8X2ciiQa2TV60qAKXlRoODptNwy6MRe+22QssStFxyUKEAzOfA9crVTiZALsfeeu0Dla7NcMiBJIIIiDQeK16b179ktQLqdaBYBEoloNn0K1O+2HLIwVZsmyUj6H30ONBXlC8Ztf7z8/Xv7+FHQMMwfibOdy9JZds2vgDYWtG2KLhreAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"circle\" title=\"\" src=\"/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png\" srcset=\"/static/928ae352c7a3d1872f030ad036c7c03d/69538/circle.png 160w,\n/static/928ae352c7a3d1872f030ad036c7c03d/72799/circle.png 320w,\n/static/928ae352c7a3d1872f030ad036c7c03d/71554/circle.png 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>In SVG, numbers without explicit units are implicitly defined in <code class=\"language-text\">px</code>. I rendered a square box with <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code> of <code class=\"language-text\">500px</code> and used <code class=\"language-text\">viewBox=\"0 0 100 100\"</code> to define an internal coordinate system of <code class=\"language-text\">100px</code> by <code class=\"language-text\">100px</code>.</p>\n<p>Without the <code class=\"language-text\">viewBox</code> attribute, SVG would automatically render a viewbox matching the <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code> pixel values, but having coordinates from 0 to 100 makes it easier to reason about shape positions.</p>\n<p>So the box we see is <code class=\"language-text\">500px</code> on each side, but internally it operates on a <code class=\"language-text\">100 √ó 100</code> coordinate system. I then rendered a circle centered at <code class=\"language-text\">(50px, 50px)</code> with a radius of <code class=\"language-text\">20px</code> and a stroke width of <code class=\"language-text\">10px</code>.</p>\n<p>This circle by itself can be thought of as a doughnut chart where a single data point takes up 100%. Since SVG‚Äôs <code class=\"language-text\">circle</code> element alone can produce the basic shape, the visualization itself isn‚Äôt particularly difficult.</p>\n<p>But a doughnut chart should be able to visualize multiple data points simultaneously. So how do we represent multiple data points?</p>\n<h3 id=\"visualizing-multiple-data-points\" style=\"position:relative;\">Visualizing Multiple Data Points<a href=\"#visualizing-multiple-data-points\" aria-label=\"visualizing multiple data points permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A doughnut chart is essentially a single doughnut shape divided among multiple data points. In other words, each data point occupies a portion of the circle.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42rWUT6uCUBDF+84uW0dbP4I7Azct0sidCzdZSCiBlJkRRJQWlBWkncdcMORpf9T3hIMD987vHu7M3EYYhrhcLoiiqLbO5zMaFPzVd7/fvwc+Ho/6QIIUqRIwm/gb9Ar60WEQBBgOh1BVlckwDOz3+5fQQmC6cbVaQZIkCIKATqcDURRZzPM8RqNRITQHTDccDgcMBgP0+33Yto3T6cTaYjweo9VqMa3X6xz0JdCyLPR6Pbium7tDXdfRbDbR7XbfA9MF+lMSOcyuJUnC4t1uB47j0G63GSCb+xZIRbherzmHt9sNpmliOp0+DykEZhcmkwlkWYbneTng8XjEfD7Hdrv9XOU0idpFURRomsYKRBtJBKN7nc1mbP5L9eFyuWQVpuTFYsHkOA5zR+BSjZ06JRebzQa+7zNRXOSs9OjR5acFqDV6RYmVH4d/fw+/BtKcxnH8bI2qIgY1/Q8BlAsFCsBhOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut\" title=\"\" src=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" srcset=\"/static/733cf6be71679daf82979b47834fb780/69538/doughnut.png 160w,\n/static/733cf6be71679daf82979b47834fb780/72799/doughnut.png 320w,\n/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Each data point occupies a portion of the circle</small>\n</center>\n<p>Fortunately, SVG provides a <code class=\"language-text\">stroke-dasharray</code> attribute that can render dashed lines (dashes), which is exactly what we need to control how much of each data point to draw.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span>\n  <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10 5<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">stroke-dasharray</code> takes a series of space-separated values to define the dash pattern: the first value determines how long to draw the line, and the second determines how long to leave a gap. So the code above draws <code class=\"language-text\">10px</code> of line followed by <code class=\"language-text\">5px</code> of gap, repeating around the circle:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 510px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42s2VTYvCMBCG/f8/RBDxC08i3jyIeBAvioigeFLEUvphq/bRsQxbm3btbpHdQGjSTJ9535BMK5Zl4fs+nueV7o7jUHFdF2lRFFG2hWH4R0BZKpLvLfB2M8Hpd4WByeluB+s1XK/Zid4CdTgYwGoFoxHU67DZwHSabz8TqNkXC6jVvuYKqVZhOMxWmqvwfIbl8nUv1e7lAttttm0DqEGzGXQ6pgqF9nown5t7bQB1UfZKLKc/UGC7HSdNJ8y1LEGTSWxPQcmz2GrB4VBAYTJjowH9/qsKeYqy4/EX5/BRL9jvYTyGZpPHxYduNx6nlRUCqiqxJvZPJ5DQ767hj4tDqav3keLwP+qhbdvPQRAEpbv8Bu6uQSNFqgA4NwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dasharray\" title=\"\" src=\"/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png\" srcset=\"/static/2a7989e6f31606ad23b405a597271acd/69538/dasharray.png 160w,\n/static/2a7989e6f31606ad23b405a597271acd/72799/dasharray.png 320w,\n/static/2a7989e6f31606ad23b405a597271acd/0abdd/dasharray.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A dashed line with 10px dashes and 5px gaps</small>\n</center>\n<p>Using this attribute, we can draw a line that occupies only part of the circle while leaving the rest as a gap ‚Äî which is how we represent multiple data points in a doughnut chart.</p>\n<p>But if you look closely at the example above, the line segment on the right side of the circle is longer than the others. That‚Äôs because the values I passed to <code class=\"language-text\">stroke-dasharray</code> don‚Äôt evenly divide the circumference.</p>\n<p><code class=\"language-text\">stroke-dasharray</code> takes values in <code class=\"language-text\">px</code> ‚Äî the length of lines and gaps. So to get evenly spaced dashes, you need to first calculate the circumference and then use values that divide it evenly.</p>\n<p>SVG renders circles starting from the point <code class=\"language-text\">(cx + r, cy)</code> ‚Äî the rightmost point of the circle. So if <code class=\"language-text\">stroke-dasharray</code> doesn‚Äôt align precisely with the circumference, you get that uneven segment at the starting point.</p>\n<p>The formula for circumference is the beautifully simple <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span></span>, which we can easily compute with <code class=\"language-text\">Math.PI</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>diameter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 125.66370614359172</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>With a radius of <code class=\"language-text\">20px</code>, the circumference is about <code class=\"language-text\">126px</code>. Dividing by <code class=\"language-text\">15</code> (the sum of our dasharray values, <code class=\"language-text\">10 + 5</code>) gives <code class=\"language-text\">8.37</code> ‚Äî not a clean division. So the dash pattern repeats 8 times with <code class=\"language-text\">0.37</code> worth of leftover awkwardly attached to the start.</p>\n<p>To properly visualize multiple data points in a doughnut chart, you need two pieces of information:</p>\n<blockquote>\n<ol>\n<li>The circumference (<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span></span>)</li>\n<li>The ratio of each data point to the total</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ratio <span class=\"token operator\">=</span> data <span class=\"token operator\">/</span> total<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> strokeLength <span class=\"token operator\">=</span> diameter <span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> spaceLength <span class=\"token operator\">=</span> diameter <span class=\"token operator\">-</span> strokeLength<span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">stroke-dasharray = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>strokeLength<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>spaceLength<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">stroke-dasharray = 51.4078797860148 74.25582635757692\nstroke-dasharray = 28.559933214452663 97.10377292913907\nstroke-dasharray = 22.847946571562133 102.81575957202959\nstroke-dasharray = 17.135959928671596 108.52774621492013\nstroke-dasharray = 5.711986642890533 119.95171950070119</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With the circumference and each data point‚Äôs ratio, we can define exactly how much of the circle each data point should occupy.</p>\n<p>But if you try to render the chart with just this information, you‚Äôll hit a problem: every data point starts rendering from the same point, <code class=\"language-text\">(cx + r, cy)</code>.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/95e06fb4efbe157747f5fe4cb2318dae/6fffd/blog-Page-9.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 94.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH3pYVRjQcQf//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEg/9oACAEBAAEFAtKLZ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABsQAQEBAAIDAAAAAAAAAAAAAAEAERAhMUFx/9oACAEBAAE/IcLc9MBZBF337wk+b//aAAwDAQACAAMAAAAQAwAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFBcVGBkf/aAAgBAQABPxAAcVmI2TPENdBuZHvzB0WA3ucu4kWWK7+xAC2z/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"blog Page 9\" title=\"\" src=\"/static/95e06fb4efbe157747f5fe4cb2318dae/c08c5/blog-Page-9.jpg\" srcset=\"/static/95e06fb4efbe157747f5fe4cb2318dae/0913d/blog-Page-9.jpg 160w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/cb69c/blog-Page-9.jpg 320w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/c08c5/blog-Page-9.jpg 640w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/6a068/blog-Page-9.jpg 960w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/eea4a/blog-Page-9.jpg 1280w,\n/static/95e06fb4efbe157747f5fe4cb2318dae/6fffd/blog-Page-9.jpg 1364w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>No matter how accurately you‚Äôve computed the line lengths, if every data point renders from the same starting point, you end up with a sad-looking chart like this:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVR42u3TOwqEMBAGYG+tF7DyCtbqGawF0ZSp7AQLAxYKvvHxywQCu+wuGFwWFhyYIo/5CJnEqOsa4zhiGIbL2XUdjL7v8a1YluUGb/An4LquaNsWVLfvuz5IRZTbtslxVVWwLAuO40hA7dE+oSqK4ximaSIIgqf5U+A8z2iaBtM0yb+aZRlc14Vt28jzXA+kjUVRSCRJEoRhCM/z4Ps+OOcv2CmQ1oQQSNMUURSBMYayLN9iWndInVVN+YSdAlWHVRD6CP/pT6FXT3dEgytJBj2vA6s/IZqqELpFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut failed\" title=\"\" src=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png\" srcset=\"/static/d4cb50a4f4bcede54c55b2ae29f0585c/69538/doughnut_failed.png 160w,\n/static/d4cb50a4f4bcede54c55b2ae29f0585c/72799/doughnut_failed.png 320w,\n/static/d4cb50a4f4bcede54c55b2ae29f0585c/2fd48/doughnut_failed.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>An unidentifiable something has been summoned</small>\n</center>\n<p>Since a doughnut chart accumulates data to eventually form a complete circle, after rendering one data point, the next data point‚Äôs starting position needs to be offset by the total of all previously rendered data.</p>\n<p>Fortunately, SVG provides the <code class=\"language-text\">stroke-dashoffset</code> attribute to shift where the dash pattern begins, so we just need to compute the right offset values.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Accumulate the data values</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>result<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The first data point doesn‚Äôt need any offset, so it starts at <code class=\"language-text\">0</code>. The <code class=\"language-text\">reduce</code> function‚Äôs second argument is the initial value, so we pass an array containing just <code class=\"language-text\">0</code>.</p>\n<p>Since the initial array already contains <code class=\"language-text\">0</code>, the accumulated array is one element longer than the dataset. The last element <code class=\"language-text\">22</code> ‚Äî equal to the total ‚Äî isn‚Äôt really needed since these values define starting positions for rendering, and <code class=\"language-text\">22</code> represents the point where all data has been rendered.</p>\n<p>With these accumulated values, we can compute exactly how many pixels to offset using <code class=\"language-text\">(acc[i] / total) * diameter</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>result<span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> diameter<span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">stroke-dashoffset = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token operator\">-</span>offset<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">stroke-dashoffset = 0\nstroke-dashoffset = -51.4078797860148\nstroke-dashoffset = -79.96781300046746\nstroke-dashoffset = -102.8157595720296\nstroke-dashoffset = -119.9517195007012</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You could skip <code class=\"language-text\">reduce</code> and just use a <code class=\"language-text\">let</code> variable that accumulates as you render. The key point is knowing ‚Äúhow far have I rendered so far.‚Äù</p>\n<p>Notice I‚Äôm negating the offset values. That‚Äôs because SVG renders lines in the counterclockwise direction by default.</p>\n<p>Intuitively, you‚Äôd expect doughnut chart data to accumulate clockwise, so SVG should render clockwise too ‚Äî but SVG doesn‚Äôt care about your expectations. Data might accumulate clockwise in this chart, but depending on how coordinates are defined, counterclockwise is equally valid. Changing the rendering direction every time coordinates shift would be inefficient, so SVG always draws counterclockwise by default.</p>\n<p>This same concept applies to arcs, which I‚Äôll discuss below. Keeping this in mind will make it easier to understand how arcs are rendered. To verify SVG‚Äôs drawing direction, you can test with lines instead of circles:</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 452px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArklEQVR42jWQVwqEQBQEvf8JFRRdUAzImnPopRp2fkbtmup5Bvd9KwxDbdumOI41DIOKolBZlvp+v0qSxFkURTqOw+y6rkrT1HlVVfp8PmK976uAh77vhXiaJh9CsCyLzvN0wfM8Zth5v65L8zyb2/fd5/4rIPx/pBFhXdcuoJ29aRozXdeZo6xtWxfC4iCzEME4jpblee5xGBOYX4CI8WAoQM4tsyzzDWFxkCH8ASGDMXqTBVmPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"line offset plus\" title=\"\" src=\"/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png\" srcset=\"/static/3ac1afa110392b8bc30dc4a4874b889c/69538/line_offset_plus.png 160w,\n/static/3ac1afa110392b8bc30dc4a4874b889c/72799/line_offset_plus.png 320w,\n/static/3ac1afa110392b8bc30dc4a4874b889c/fcb94/line_offset_plus.png 452w\" sizes=\"(max-width: 452px) 100vw, 452px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>With an offset of 3, the bottom line shifts 3px to the left</small>\n</center>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>line</span> <span class=\"token attr-name\">stroke-dasharray</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-dashoffset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>-3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">x2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y1</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y2</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 451px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 23.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR42rWQTQuFIBBF/f9/LF2GLewDDMqVCqkRVOh9jIvgQcv37nIO3DkzbNs27PuO8zzhvUcpBdZa3PeNEAJSSpU5517ZdV0Po7BpmmCMQYwRXdch54y2bXEcB7TWWNe1MinlF5vnGcuy1FJiTyF+HEb6TdPUTX3fg4zpDUKIehrnvBoOw4BxHF8ZzZVS/zH8AINHf/jeKilIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"line offset minus\" title=\"\" src=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png\" srcset=\"/static/6c9e6de0fef414a907f7acb5218e6d4c/69538/line_offset_minus.png 160w,\n/static/6c9e6de0fef414a907f7acb5218e6d4c/72799/line_offset_minus.png 320w,\n/static/6c9e6de0fef414a907f7acb5218e6d4c/38070/line_offset_minus.png 451w\" sizes=\"(max-width: 451px) 100vw, 451px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>With an offset of -3, the bottom line shifts 3px to the right</small>\n</center>\n<p>Now that we understand all this, we can freely control how much data to render along the circumference and how many pixels to offset each data point‚Äôs starting position, using <code class=\"language-text\">stroke-dasharray</code> and <code class=\"language-text\">stroke-dashoffset</code>.</p>\n<h3 id=\"full-code\" style=\"position:relative;\">Full Code<a href=\"#full-code\" aria-label=\"full code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- Draw a 100 x 100 viewbox --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>svg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Chart radius</span>\n<span class=\"token keyword\">const</span> diameter <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Chart circumference</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'#ddd'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#bbb'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#aaa'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#888'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#666'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dataset <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Total of all dataset values</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r <span class=\"token operator\">+</span> v<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Accumulated dataset values</span>\n<span class=\"token keyword\">const</span> acc <span class=\"token operator\">=</span> dataset<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> last <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr<span class=\"token punctuation\">,</span> last <span class=\"token operator\">+</span> v<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Time for some property-setting grunt work...</span>\n<span class=\"token keyword\">const</span> svg <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'svg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndataset<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ratio <span class=\"token operator\">=</span> data <span class=\"token operator\">/</span> total<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> fillSpace <span class=\"token operator\">=</span> diameter <span class=\"token operator\">*</span> ratio<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> emptySpace <span class=\"token operator\">=</span> diameter <span class=\"token operator\">-</span> fillSpace<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> diameter<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> circle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElementNS</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://www.w3.org/2000/svg'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'circle'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'50'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'50'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span>radius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fill'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'transparent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke'</span><span class=\"token punctuation\">,</span> colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-width'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-dasharray'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fillSpace<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>emptySpace<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  circle<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stroke-dashoffset'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>offset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  svg<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>circle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42rWUT6uCUBDF+84uW0dbP4I7Azct0sidCzdZSCiBlJkRRJQWlBWkncdcMORpf9T3hIMD987vHu7M3EYYhrhcLoiiqLbO5zMaFPzVd7/fvwc+Ho/6QIIUqRIwm/gb9Ar60WEQBBgOh1BVlckwDOz3+5fQQmC6cbVaQZIkCIKATqcDURRZzPM8RqNRITQHTDccDgcMBgP0+33Yto3T6cTaYjweo9VqMa3X6xz0JdCyLPR6Pbium7tDXdfRbDbR7XbfA9MF+lMSOcyuJUnC4t1uB47j0G63GSCb+xZIRbherzmHt9sNpmliOp0+DykEZhcmkwlkWYbneTng8XjEfD7Hdrv9XOU0idpFURRomsYKRBtJBKN7nc1mbP5L9eFyuWQVpuTFYsHkOA5zR+BSjZ06JRebzQa+7zNRXOSs9OjR5acFqDV6RYmVH4d/fw+/BtKcxnH8bI2qIgY1/Q8BlAsFCsBhOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"doughnut\" title=\"\" src=\"/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png\" srcset=\"/static/733cf6be71679daf82979b47834fb780/69538/doughnut.png 160w,\n/static/733cf6be71679daf82979b47834fb780/72799/doughnut.png 320w,\n/static/733cf6be71679daf82979b47834fb780/2fd48/doughnut.png 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The finished doughnut chart!</small>\n</center>\n<h2 id=\"building-animation-with-arcs\" style=\"position:relative;\">Building Animation with Arcs<a href=\"#building-animation-with-arcs\" aria-label=\"building animation with arcs permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now we can freely render beautiful doughnut charts with any dataset. But the real challenge wasn‚Äôt rendering the chart. Let‚Äôs look at my implementation again.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/d73af6df8335316c67a49ab5b03887cb/doughnut_clipped.gif\" width=\"100%\">\n  <div>\n</div></div></center>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/acb04/um.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEFAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAelzUauZGH//xAAZEAEBAQEBAQAAAAAAAAAAAAABAgMRAAT/2gAIAQEAAQUCbHcuSnndYdvozyc/Wo//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARL/2gAIAQMBAT8BZr//xAAWEQEBAQAAAAAAAAAAAAAAAAAAERL/2gAIAQIBAT8BjT//xAAdEAACAQQDAAAAAAAAAAAAAAABEQACEBMyMUFx/9oACAEBAAY/AsZKCfspFJ26JsQFxMj1Kt//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhMUFxkf/aAAgBAQABPyEk4LRnplASuwiaqYfNFInlpUkqNwmb/9oADAMBAAIAAwAAABB/3//EABcRAAMBAAAAAAAAAAAAAAAAAAARIQH/2gAIAQMBAT8QcGXD/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAgEBPxDrZA5f/8QAHBABAAIDAQEBAAAAAAAAAAAAAREhADFRQWGB/9oACAEBAAE/EHEoKU5glsNtbwuKLWpNW08nmWBT7ilEUtNE+H3HF627Nj+5AQhJvP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"um\" title=\"\" src=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/c08c5/um.jpg\" srcset=\"/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/0913d/um.jpg 160w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/cb69c/um.jpg 320w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/c08c5/um.jpg 640w,\n/static/f289e4b9b9b1c2f28a253dfe3ee0ed08/acb04/um.jpg 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Uh... there's a nice animation in there</small>\n</center>\n<p>There aren‚Äôt actually that many ways to implement this kind of animation. If you want to keep it lightweight, it comes down to roughly two approaches:</p>\n<blockquote>\n<ol>\n<li>Use SVG‚Äôs <code class=\"language-text\">clippath</code> or <code class=\"language-text\">mask</code></li>\n<li>Animate the <code class=\"language-text\">stroke-dasharray</code> and <code class=\"language-text\">stroke-offset</code> properties for each data point</li>\n</ol>\n</blockquote>\n<p>This is a fairly settled debate. The second approach ‚Äî animating <code class=\"language-text\">stroke-dasharray</code> and <code class=\"language-text\">stroke-offset</code> per data point ‚Äî means defining separate animations for each slice of the doughnut chart.</p>\n<p>But making the second data point‚Äôs animation start seamlessly right after the first one finishes is a pain. <del>(Since they‚Äôre separate animations, no matter how precisely you time them, there‚Äôs a good chance of some jankiness.)</del></p>\n<p>So I went with option 1: clip paths. At first I thought, ‚ÄúIt‚Äôs basically the same principle as drawing the chart, just apply it to a clip path, right?‚Äù Turns out, this path led straight to hell too.</p>\n<h3 id=\"cant-use-the-circle-element\" style=\"position:relative;\">Can‚Äôt Use the circle Element<a href=\"#cant-use-the-circle-element\" aria-label=\"cant use the circle element permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The road to hell started when I realized I couldn‚Äôt use the <code class=\"language-text\">circle</code> element. Since the animation renders a circle clockwise from a starting point, I naturally assumed <code class=\"language-text\">circle</code> would work. But on closer thought, the intermediate frames aren‚Äôt circles.</p>\n<p>The animation only becomes a full circle at the very end. During the animation, the intermediate shapes aren‚Äôt circles ‚Äî so <code class=\"language-text\">circle</code> can‚Äôt be used.</p>\n<p>You might ask whether <code class=\"language-text\">stroke-dasharray</code> and <code class=\"language-text\">stroke-offset</code> could work, but <code class=\"language-text\">clippath</code> masks the intersection of filled areas, so stroke-based properties can‚Äôt create a mask.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <img src=\"/3411be000f4591fc8094072520231528/pie.gif\" width=\"100%\">\n  </div>\n  <br>\n  <small>The animation progresses by rendering shapes like these one by one</small>\n</center>\n<p>The intermediate shapes during the animation can‚Äôt be defined as circles. A circle is defined as the set of points equidistant from a center, and those partially-eaten shapes don‚Äôt satisfy this definition.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/716a0371418c438cea6811c21c0d9d6f/84f4d/arc_render_animation.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVR42n2SfU+DMBDG+f5fyP+N29jUJRplMFj2PqZi5kAoLZTHXkvZZqaXXA7o0989veKgjYI3CHcCSSrR4P/ImMR8zxGscizeK+Ss7tacpt2dZgL9CUPPLzFdF5BSXoXtPmu4QYnepESfqtK7kxxvh+oX8MgxDBhGYYk7j2GTGEHTJsUxlxgoiDstMVI5bKvbPn+X8gxYmM4koE1Pcw67ZussrrSzc5iuoXG8/KhOwJcVx+0rw31oOo7DAoJXF0BvLTDwDYDqzbjowH31HsYCDuc1InUZ9MEuksPnBTlsLoDRvtI664xOZB3SPJcxg/MQFEpkZqczUva9AttEdDAL/KIZ+ieIzWE7x4xm+Djj2hF1JjF1Cnccsr5+y5uk1vqBf0qCxQfz6zilaLBWN+pvhJ5Bktado7+CnEZK66k9M9U8zXh3mh+/G6h59wwMaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render animation\" title=\"\" src=\"/static/716a0371418c438cea6811c21c0d9d6f/6af66/arc_render_animation.png\" srcset=\"/static/716a0371418c438cea6811c21c0d9d6f/69538/arc_render_animation.png 160w,\n/static/716a0371418c438cea6811c21c0d9d6f/72799/arc_render_animation.png 320w,\n/static/716a0371418c438cea6811c21c0d9d6f/6af66/arc_render_animation.png 640w,\n/static/716a0371418c438cea6811c21c0d9d6f/d9199/arc_render_animation.png 960w,\n/static/716a0371418c438cea6811c21c0d9d6f/84f4d/arc_render_animation.png 1208w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>In the figure above, all points on the right shape‚Äôs edge are equidistant from the center, but the left shape‚Äôs edge points are not. The right shape satisfies the definition of ‚Äúa set of points equidistant from a center‚Äù and is therefore a <strong>circle</strong>, while the left shape represents a portion of the circumference ‚Äî an <strong>arc</strong>.</p>\n<p>It‚Äôs easy to confuse since we‚Äôre drawing arcs based on circles here, but an arc is defined as a portion of the circumference, not a portion of the circle itself. Since ellipses also have circumferences, arcs can take many different shapes.</p>\n<p>Since an arc isn‚Äôt a circle, the <code class=\"language-text\">circle</code> element can‚Äôt be used for this clip path animation.</p>\n<h3 id=\"understanding-how-svg-renders-arcs\" style=\"position:relative;\">Understanding How SVG Renders Arcs<a href=\"#understanding-how-svg-renders-arcs\" aria-label=\"understanding how svg renders arcs permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>SVG doesn‚Äôt provide a dedicated element for arcs, but it offers the <code class=\"language-text\">A</code> command within the <code class=\"language-text\">path</code> element to define them.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n  M 50 50\n  A 45 45, 0, 1, 0, 275 125\n  L 275 80 Z\n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This might look simple, but the rendering logic isn‚Äôt exactly intuitive. When people see an arc, they naturally think of it as part of a circle and instinctively think in terms of the central angle ‚Äî but as you can see from the interface above, there‚Äôs no angle parameter anywhere.</p>\n<p>SVG‚Äôs arc rendering does start with defining a circle on the coordinate plane. As discussed, an arc is a portion of a circumference, so you need a circle first.</p>\n<p>The circle is defined by the first parameters of the <code class=\"language-text\">A</code> command: <code class=\"language-text\">rx</code> and <code class=\"language-text\">ry</code>. The reason it takes x and y axis lengths instead of a single radius is that arcs are portions of circumferences ‚Äî not just circles, but potentially ellipses too.</p>\n<p>Since a circle is just a special case of an ellipse, the <code class=\"language-text\">A</code> command is designed with the abstract interface of taking x-axis and y-axis radii. But since all our examples use circles, I‚Äôll keep the explanations circle-based for simplicity.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3c5013d03ac4f509c0333f538f8322e0/d48f1/arc_render1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVR42pVUCXLDIAz0/5/ZaXPa8Y257C1LqsQm5KhmGDRIWq0EqEAiy7LERfHewxgDa23YbdR5lvqtpUBGGNS2LS6XC/quw8/xhK/9AX3fhbM62tbAWUAxaK1RliWmabqfWYdRm5sfbeKTgm4Y0qGqqiT7EgAtlDGb4Hmeo69SKs+QDszKPRUbEhyaNoDaB1DGCIEIKMamaTCOY7YvxnlU/QATSk+FDOu63jIkAOnnbi320IUe/pX8+CqwqayQ3vHmcuzugHYDsvbl7Usv3wBedaM7NHUJNXroyeG463Da9yHOQSuP3Tdt6nOGi1ewUw9r5rAcnJ3DCo9eO3i34LCvPmX4WsS365KSaWBj/wO2ls2lrJ+NZPkEWHxY3cOzkf97Pp9vmV6Bio07Y5xz+a9HhmnpMlXS6SJvVz7D02nDEpiVQ+KZyADJtajIlbIeX8MwRBZc1HnGfr8dXymo6GQhgNRzw2MN+Aut8ItFkjTV9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render1\" title=\"\" src=\"/static/3c5013d03ac4f509c0333f538f8322e0/6af66/arc_render1.png\" srcset=\"/static/3c5013d03ac4f509c0333f538f8322e0/69538/arc_render1.png 160w,\n/static/3c5013d03ac4f509c0333f538f8322e0/72799/arc_render1.png 320w,\n/static/3c5013d03ac4f509c0333f538f8322e0/6af66/arc_render1.png 640w,\n/static/3c5013d03ac4f509c0333f538f8322e0/d48f1/arc_render1.png 796w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>The arc rendering process begins by drawing a virtual circle like this</small>\n  <br>\n</center>\n<p>An important detail: the arc‚Äôs starting point is not the circle‚Äôs center. Looking back at the <code class=\"language-text\">path</code> element example, there‚Äôs no parameter for the circle‚Äôs center point.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n  M 50 50\n  A 45 45, 0, 1, 0, 275 125\n  L 275 80 Z\n<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This command sequence starts with <code class=\"language-text\">M 50 50</code>, where the <code class=\"language-text\">M</code> command moves the render cursor to an arbitrary position (Move).</p>\n<p>But this position isn‚Äôt the circle‚Äôs center ‚Äî it‚Äôs the starting point where the arc begins drawing. The arc is drawn from coordinate <code class=\"language-text\">(50, 50)</code> to the <code class=\"language-text\">A</code> command‚Äôs final arguments <code class=\"language-text\">(dx, dy)</code>, following the virtual circumference defined by <code class=\"language-text\">rx, ry</code>.</p>\n<center>\n  <div style=\"max-width: 400px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/345642d6dabfe22074ecf24472c1a351/0fcea/arc_render2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42pWUa2+dMAyGz///Z5u0qdq+TLu166FQDpdArhDCeWfTJSsRbVVLEVHAT2y/Nidkdr1e09M5B2stLm2Lrhfw8wwtGxTFGWVVoSxLWGN2/qcjGIP6vodUChPthTIYydERvHi8R9GMWBZPa8G6hs0vrlMeodYawzDQh2s6c97DhwULHd0UDh9/D/hZETSE3H0P5PQYlkdsZ09rxkXO+HQ34stZ4cOtwt3jBaI5o760qOsaLZUmAQPd1nVdguwuImAlRnyrND7/UQSV+F47GGdQFrcQYth8pZT/gYrqZf4VOIdOVK/BzLi51xvs3E8I69M3DJkp+pRydBaCVKRaHRnX71dj8PXBQLqwu9QYvQUTz05xkwuxnUehrMKPB0EpBgQf0NYakyWFwxVK2i3lnShcv+di5LZMI5xWmN1KwnkYTSIZTy1Ffp1F2/THKXNfvde4M7jVUsoRyBFO0/RuYC5mUpmV4iiPVH7JuOZ5q+0am4GcwlvQ+G4cx5Tui7PMN/Isv2Xcfwx8dfSetxCvp+Ff0+DznkvDP448sleBsaYcAYP5GfcsQuyGo7L8BTt65ir/jmDOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc render2\" title=\"\" src=\"/static/345642d6dabfe22074ecf24472c1a351/6af66/arc_render2.png\" srcset=\"/static/345642d6dabfe22074ecf24472c1a351/69538/arc_render2.png 160w,\n/static/345642d6dabfe22074ecf24472c1a351/72799/arc_render2.png 320w,\n/static/345642d6dabfe22074ecf24472c1a351/6af66/arc_render2.png 640w,\n/static/345642d6dabfe22074ecf24472c1a351/0fcea/arc_render2.png 851w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>I've shown the arc as a filled area for clarity,<br>but only the arc's stroke from (x,y) to (dx,dy) is actually rendered</small>\n  <br>\n</center>\n<p>This is the basic principle of how SVG draws arcs. But the catch is that there‚Äôs more than one way to connect <code class=\"language-text\">(x, y)</code> and <code class=\"language-text\">(dx, dy)</code>. An arc simply connects two points along a circumference ‚Äî there‚Äôs no rule saying it has to go in a specific direction.</p>\n<p>So SVG uses two circles that can both place <code class=\"language-text\">(x, y)</code> and <code class=\"language-text\">(dx, dy)</code> on their circumferences.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1fa1f37669b1e0df075146506faacf30/2bef9/arc_with_circle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOklEQVR42o2T226EMAxE+f9v3IduV4XtVtzD/eL2BBkFwkJHygPEM7bHTiAnmOfZnnEcpSgKMcZIXdf2lGVpv6dp2nACuUDf95JlmQzD4N21bWvvXNFTQQIhUOE7dF1nq/+XIK1VVXXVhBXUDoK9ZwARPHpGX55HMk/L2SVumua4QkSTJJYwjCR83KwwFeDlotf+nc7zmThPkLLxDF8AQQTjIf+p5AhMWznB2QCYIsGuV0p0kef5ygvUN4jqw95whIFW6gK/3aSrIMSj9dDKaZdYY6q1Sh2et9gEIqji64DGikv7fyEbyZJvuX/cJIqe8vN6bbZj4yGC/ooMHqEscnl83iVNU4nj2Bd0W9bVOHvXDGDfyeFbZmUIPgNt68vRBG8FdeOPWofI3VXCw5fCBCGyCnpIolO+EvwF0Kft1sSJ3SUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc with circle\" title=\"\" src=\"/static/1fa1f37669b1e0df075146506faacf30/6af66/arc_with_circle.png\" srcset=\"/static/1fa1f37669b1e0df075146506faacf30/69538/arc_with_circle.png 160w,\n/static/1fa1f37669b1e0df075146506faacf30/72799/arc_with_circle.png 320w,\n/static/1fa1f37669b1e0df075146506faacf30/6af66/arc_with_circle.png 640w,\n/static/1fa1f37669b1e0df075146506faacf30/d9199/arc_with_circle.png 960w,\n/static/1fa1f37669b1e0df075146506faacf30/2bef9/arc_with_circle.png 1024w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>There are exactly two circles that can place both (x, y) and (dx, dy) on their circumference</small>\n</center>\n<p>Using these two circles, there are four possible arcs that connect <code class=\"language-text\">(x, y)</code> and <code class=\"language-text\">(dx, dy)</code>. The ‚Äúlarge arc flag‚Äù and ‚Äúsweep flag‚Äù determine which arc gets drawn.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"understanding-the-arc-flags\" style=\"position:relative;\">Understanding the Arc Flags<a href=\"#understanding-the-arc-flags\" aria-label=\"understanding the arc flags permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A picture is worth a thousand words, so let‚Äôs draw some arcs to understand exactly what these flags do. As with the doughnut chart, I‚Äôll use a 100 √ó 100 viewbox for easy coordinate reasoning.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n    M 50 10\n    A 40 40, 0, 0, 0, 10 50<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<ol>\n<li>Move the render cursor to <code class=\"language-text\">(50, 10)</code>.</li>\n<li>Define a circle with radius 40 by setting both rx and ry to <code class=\"language-text\">40</code>.</li>\n<li>Set rotation to <code class=\"language-text\">0</code>, large arc flag to <code class=\"language-text\">0</code>, sweep flag to <code class=\"language-text\">0</code>.</li>\n<li>Draw an arc to the endpoint <code class=\"language-text\">(10, 50)</code>.</li>\n</ol>\n</blockquote>\n<p>With both the large arc flag and sweep flag set to <code class=\"language-text\">0</code>, SVG draws the smaller arc by default, in SVG‚Äôs default counterclockwise direction.</p>\n<p>The rotation parameter determines how much to tilt the reference circle, but since we‚Äôre using a circle (not an elongated ellipse), tilting has no effect.</p>\n<p>With these commands, we get a nice-looking arc:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4klEQVR42u2VSwvCMBCE/f8/TKlePHip4ANUpFQbWpNN82hGEl+UFm3twYtDFpINfJmFgYwYY5BSgohqJUiE0qWGVbZx31acc4yEEPByzqFNF3VBwhNUrsInGWNeQDi/blDrLNZsjdlhhkWywJZtQ68X8OEwL3NE+wgbtoGpDPqo7vAOG+/GIE3Pnn+oy7gNoHcz2U3AFQ/nrpAGkIsbYHleYpWtvoY1HE73U5S2xBAFoJIKmcwwP87fxqcz0Ac3pRTxKR407hNIgkL+tNUYqtYc/oF/4C+ARVGEjdZ6cPmv5AobUiygbVTaNgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 0\" title=\"\" src=\"/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png\" srcset=\"/static/a084d433d6987120384f775cc95cd1e5/69538/arc_0_0.png 160w,\n/static/a084d433d6987120384f775cc95cd1e5/72799/arc_0_0.png 320w,\n/static/a084d433d6987120384f775cc95cd1e5/71554/arc_0_0.png 509w\" sizes=\"(max-width: 509px) 100vw, 509px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<h4 id=\"the-sweep-flag\" style=\"position:relative;\">The Sweep Flag<a href=\"#the-sweep-flag\" aria-label=\"the sweep flag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>There are only two flags for arcs, but the shape changes dramatically when either value flips. This can feel confusing if you don‚Äôt understand exactly how SVG draws arcs.</p>\n<p>But if you remember that SVG draws lines counterclockwise by default, it‚Äôs not that complicated.</p>\n<p>Let me redraw the arc from above in more detail:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/94400700b6bb656957fa15af90fe1e42/73b94/arc_0_0_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVR42p1U7W6DMAzk/Z+nDzGtmir20apqpf6i7QT0CxICAW65aGYp7TppSCaJHTt3tpPofD5jsVggyzLw67pukL7v0batHynUcS32e/Ooqiqs12tst1torVEUBS6Xi5eyLJHnObLjEQcnYuMYzjlaa33QiKiUUqjr2p9AQ9M06Jyxdev47RVPkwmW8zkaZxNHG8zJ0vsQIQMSCRX8hGZpKican0WF3UuMTitYBnL7whSIP4NTF1FJyMYYr6AhdzS0C1aYDmnpchPkj0woglD8qfOUGYR5oILzI+nbGqrukevvZI+Sz30SgB/9byi37jRVG2gnpemRKVYZzqkbKIZV5yhpuqIcIlS1xllbpBc7ONoA3bhVhJXUwCPkjwGVS3py0jho5rFxgayvslRSJFwLbQE0tI3WLtFqh13yhPePJabTZyRJ4umEjR1WVgrINdvuinLp+9Cgs8ZXmw0udNr/Ujamdsp2cBLHR5R5uPhfURbIYwRyt+9RflhlKgS+NG34ONx7BGTfTR/+UDaDA+eyYZxD6h/elN/usjhQP16P6RPQTWNLwPB6jSlLEBnvBqSSCE+nkx/lLeQmWcv7F76VImmaYr/fD/6RnBRWWVrjr7Yhq81mg9lshjiOsVqt8AV3P83cpNmVpgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 0 example\" title=\"\" src=\"/static/94400700b6bb656957fa15af90fe1e42/6af66/arc_0_0_example.png\" srcset=\"/static/94400700b6bb656957fa15af90fe1e42/69538/arc_0_0_example.png 160w,\n/static/94400700b6bb656957fa15af90fe1e42/72799/arc_0_0_example.png 320w,\n/static/94400700b6bb656957fa15af90fe1e42/6af66/arc_0_0_example.png 640w,\n/static/94400700b6bb656957fa15af90fe1e42/d9199/arc_0_0_example.png 960w,\n/static/94400700b6bb656957fa15af90fe1e42/73b94/arc_0_0_example.png 1004w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The arc follows the virtual circumference defined by the command</small>\n</center>\n<p>The red dot is the starting point I set with the <code class=\"language-text\">M</code> command, and the yellow dot is the endpoint <code class=\"language-text\">(10, 50)</code> from the <code class=\"language-text\">A</code> command‚Äôs last arguments.</p>\n<p>The blue arrow shows the actual direction SVG renders the line. There‚Äôs only one way to draw a small arc from the start point to the endpoint in the counterclockwise direction. <del>(If this isn‚Äôt clear, try drawing it on paper.)</del></p>\n<p>What happens if we swap the start and endpoints? This time, I‚Äôll move the start to <code class=\"language-text\">(10, 50)</code> and set the endpoint to <code class=\"language-text\">(50, 10)</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"svg\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-svg line-numbers\"><code class=\"language-svg\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 100 100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>\n    M 10 50\n    A 40 40, 0, 0, 0, 50 10<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>green<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4a6a8910a7786f804c830459a4f05322/d74fe/arc_0_1_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVR42n1UXW+DMAzk//+zvUxat5aNSZXWh3XaukL5CAQIXi7rRYayRbIAx7Hv7CPJOI7inBNrrfR9H57DMATDNwwx2rCnn9qfIBkPTtMkLABjEIosD2JfJ2R8QidRdl0XEjOARZhk6ce3jk9YHetwOMh2u5W2bWNyWN/jHa0Yow/7Oi4mBFVWBoqiKEIgzBgTgsuykof7O3l9fpTc78OH/aZpQsI8zyODQBmQSQFBWKQRKg9O0n0mx/cnf3CKlLGHheT0RYRw4B0JidaCpvcVZpRTY8VeBwBUVAVi67qOarihXFWVryS/weMguZmktk6qtpFBKYDqwAKIGWUtA/TNAcnQS96MYuwkpm+l7lr0YTZlogLlmJBUSQEIvRCk6CZpPDLTGSl9kTUdIp6sImWtIWt7MVUppzSTt+OXfJw+PTobB8Dh8Z0FZkNZ9sT4Bn/v95JlL7Lb7QJ9N7qbP0j/KRhKpKwTwolNiMER+SKJ7iH7j77HhKRBCoDvrn1do6n1x5g/KbPBDNaSWiKkHpHkX8qAT7RMqi8Q3j6cKmIpmzDltR7OfrurTGj8ZlGsGUKtL1Q9n89B+aCOQG3wgQH3+LxcLrFgsnbHLW/mv25snEOyNE1ls9l4qWXyA9Fw0bKuvd0DAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 0 1 example\" title=\"\" src=\"/static/4a6a8910a7786f804c830459a4f05322/6af66/arc_0_1_example.png\" srcset=\"/static/4a6a8910a7786f804c830459a4f05322/69538/arc_0_1_example.png 160w,\n/static/4a6a8910a7786f804c830459a4f05322/72799/arc_0_1_example.png 320w,\n/static/4a6a8910a7786f804c830459a4f05322/6af66/arc_0_1_example.png 640w,\n/static/4a6a8910a7786f804c830459a4f05322/d9199/arc_0_1_example.png 960w,\n/static/4a6a8910a7786f804c830459a4f05322/d74fe/arc_0_1_example.png 1164w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The arc follows a virtual circle on the opposite side</small>\n</center>\n<p>The arc is still drawn along a circle with the same radius, but this time it follows a different virtual circle on the opposite side.</p>\n<p>That‚Äôs because, just as before, there‚Äôs only one way to draw a small arc from this start point to this endpoint in the counterclockwise direction. If you tried to draw an arc along the first example‚Äôs circle while connecting these swapped points, it would go clockwise, not counterclockwise.</p>\n<p>This is the principle behind the sweep flag. Instead of swapping start and endpoints, you can simply change the drawing direction to define both arcs.</p>\n<h4 id=\"the-large-arc-flag\" style=\"position:relative;\">The Large Arc Flag<a href=\"#the-large-arc-flag\" aria-label=\"the large arc flag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The large arc flag selects whether to draw the smaller or larger arc connecting the start and endpoints. As we saw, SVG defines two virtual circles for arc rendering, which is what makes the concepts of ‚Äúsmall arc‚Äù and ‚Äúlarge arc‚Äù possible.</p>\n<p>We‚Äôve already seen the small arc, so let‚Äôs see what happens when we draw the large arc.</p>\n<p>If the sweep flag is <code class=\"language-text\">0</code> (counterclockwise), the small and large arcs look like this:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/762ad0bb83895985025acc4e8a438a41/d74fe/arc_1_0_example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACH0lEQVR42n1Uy47bMAzM//9Wr20PATYugj0UuXW7SeRYfsiSPOXQpqIYixogZMuj4QxJ+5BSQk4Z/S1icAnDI2LqksbgouwnpCiRIohlxBhf1nr/oGTXjMlHYFmQsyRYnhGGBH8lWA7l58Gc8wshn7keBpcRfAYgawiYxkl4FwUwJAvmccFwz7Kfy0FijMjwSug/VyW8LpcL3t7eMI7jSj5NGnMMojIizqI4rHt8X+MKIe0Kv9aRFpxzCmQMw4AwBXS+w49v39H8bOBapy74vu97Jbzf76UMSkhbOa8WCOJlNqY44zEHXI5H/D2eMHN/s7yWBEpuZTiw4CJWiz7PsxJqwQXgeo9OwHwXpcssDQ9SFYN4Yr33er9a/sylAZTddR0FoxW7oygzJSHMBWdBEl4UUSxPXcb4WOvIzVGIJiGisqVKxMN1N3lvqkZ1sRFyQwfaJVXRi3wva9xGwuzVM2eHSWiuimU2g9lCL7UQ++3HiO76C3d31e7ZrNm8mUqbQ1NYmlLXhNn8Y0D75zfe3884nZqXT8twdm+q2ZRi+QnaCKWzIlrHqE62J6Qa4hmc10JoNpbtO6Z8rjYSe5v1/Bnmv5Z1bDawHfhKoc0jSb60bISUbwU3UquVYWyoTZWNzdblXVMkW/23sTGxsGdLyutFYd1FZr3dbjr5tE5gHdyjA3tna9u2JeFh37n9H7h+3u/zHMmapsFRfh7n8xn/AEGl0P4EVf+IAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc 1 0 example\" title=\"\" src=\"/static/762ad0bb83895985025acc4e8a438a41/6af66/arc_1_0_example.png\" srcset=\"/static/762ad0bb83895985025acc4e8a438a41/69538/arc_1_0_example.png 160w,\n/static/762ad0bb83895985025acc4e8a438a41/72799/arc_1_0_example.png 320w,\n/static/762ad0bb83895985025acc4e8a438a41/6af66/arc_1_0_example.png 640w,\n/static/762ad0bb83895985025acc4e8a438a41/d9199/arc_1_0_example.png 960w,\n/static/762ad0bb83895985025acc4e8a438a41/d74fe/arc_1_0_example.png 1164w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The small and large arcs when the sweep flag is 0</small>\n</center>\n<p>If you draw it out yourself, you‚Äôll easily see that these are the only possible small and large arcs that can connect the start and endpoints counterclockwise on these two virtual circles.</p>\n<p>If you set the sweep flag to <code class=\"language-text\">1</code> to switch the drawing direction to clockwise, the arc follows the opposite virtual circle ‚Äî just as we saw in the sweep flag example.</p>\n<h3 id=\"finding-arc-endpoints-with-trigonometry\" style=\"position:relative;\">Finding Arc Endpoints with Trigonometry<a href=\"#finding-arc-endpoints-with-trigonometry\" aria-label=\"finding arc endpoints with trigonometry permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Now that we understand how SVG draws arcs, it‚Äôs time to build the animation. The animation I wanted sweeps an arc‚Äôs central angle from <code class=\"language-text\">0¬∞</code> to <code class=\"language-text\">360¬∞</code>. So I just need to build it, right?</p>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n<div style=\"max-width:300px\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABs2lpGpALaQbsY1//xAAbEAEBAAIDAQAAAAAAAAAAAAABAgASAwQFEf/aAAgBAQABBQImqLTWLKPO+vWpTNqwkOMrZz//xAAYEQACAwAAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPwHShR//xAAXEQEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/AWpr/8QAHxAAAgEDBQEAAAAAAAAAAAAAAAERAiFBEBIyYXFy/9oACAEBAAY/AppQqFup7RI/oTmHmDky1vBzi2n/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBBcZGh/9oACAEBAAE/IcpB03LYaGiUNZ5gCV2r5ChuKDSLb9sJVqBjAcRmA6K4/9oADAMBAAIAAwAAABBQ/wAD/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QbYuaj//EABgRAQEAAwAAAAAAAAAAAAAAAAEAEBEx/9oACAECAQE/EAC1uMf/xAAgEAEBAAIBAwUAAAAAAAAAAAABEQAhMUFhsRBRcYGh/9oACAEBAAE/EGfNgAVPb7yZYA6Wrp31k+cmyLEMcBcNgdyLzcp1cdaHSnbnneJWrtHjADmNbAah3cGBXqTRf30//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no\" title=\"\" src=\"/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg\" srcset=\"/static/f4617a9e1f692a7df11953b0a4b86f44/0913d/no.jpg 160w,\n/static/f4617a9e1f692a7df11953b0a4b86f44/cb69c/no.jpg 320w,\n/static/f4617a9e1f692a7df11953b0a4b86f44/d7854/no.jpg 550w\" sizes=\"(max-width: 550px) 100vw, 550px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n<small>It's never that easy</small>\n<br>\n<br>\n</center>\n<p>All the arc examples I used above had central angles of 90¬∞ or 270¬∞. There‚Äôs a reason for that.</p>\n<p>Arcs are defined by specifying a start point and an endpoint. To draw an arc neatly along a circumference, both points must lie on that circumference. But when the angle is 90¬∞, 180¬∞, or 270¬∞, you can simply pick points on the X and Y axes without any calculation ‚Äî which is why all my examples conveniently used those angles.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/73b94/coords_default.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACKklEQVR42n1Ua4/aMBDk//+gSu23vnQfWglRpAOFRNBCaK5ABeRBYieZ7hjWZ46okaz4sTue2YdHp9MJs9kM+/0e/Lqu86Pve//Xedu2/nxoPrpcLojjGNvtFlVVIc9znM9nN4qiQLRY4DmKsFyt3FlZ5KjKHHWVy/rs7a21DnREVmVZomkadwMPjDH+xuVyiejTR2wE0MjZ6mCxObZ4zqwHoUr6OIYEJBNu8FNpNLZiTAcz/YFWlPR9h6efBt9TIPnbo7Ed1J/29B3RmZTruvax4FxZ8m/F0NhWXC2+rQ3ezXm5QWOsu4T+VOgkE5Vx4Aa/UC7P3DwIfte1DqRprnb86D8omcZh5jTrmmV/QY8r+xuJO8khQxe3ICkeICil9hZX2jE0tHkl1F1jSMCLlIxxge8fHHWua8dWmDVi3wqQEvJlU8lmnaYonr7i1/Y3Yqm9w+Hg5ChTDo3xQuoykjLKvnxGl8QoqUz2veSCdSj0a7kxFWAWunYOGYWdQyZJkiAS0D8vL6wz5EOSa8bwTSv9VzLBCRLk4K5TlIkCaJbDtcY37KjBLHODN6ikUGYYw/ARULuHOvSSBzqFIAtJ0Hg6xXw+d+fcD0tMO+1O8ttedrFiy4kDk7P+8B67dAN7AwwZK8OHwlbAIZldukZPoKBzwm66A+QmGR6PR/fXt5BGbi1PU853UubhW6ljt9shyzLvPwqzpuzCzGqshsqIqvhejsdjTCYTF+9/yYTH8+PR9EoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"coords default\" title=\"\" src=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/6af66/coords_default.png\" srcset=\"/static/aecd9ae0d9289225ee34ac1a9bfcd29c/69538/coords_default.png 160w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/72799/coords_default.png 320w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/6af66/coords_default.png 640w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/d9199/coords_default.png 960w,\n/static/aecd9ae0d9289225ee34ac1a9bfcd29c/73b94/coords_default.png 1004w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The red points on the circumference are easy to compute mentally,<br>but the blue points are not...</small>\n</center>\n<p>But the clip path animation doesn‚Äôt teleport between 90¬∞, 180¬∞, 270¬∞, and 360¬∞ ‚Äî it moves smoothly. So I need to find the coordinates of countless blue points along the circumference as the animation progresses. How?</p>\n<blockquote>\n<p>The answer is <strong>trigonometry</strong>.</p>\n</blockquote>\n<h4 id=\"save-me-trigonometry\" style=\"position:relative;\">Save Me, Trigonometry!<a href=\"#save-me-trigonometry\" aria-label=\"save me trigonometry permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>As I mentioned, the most intuitive unit for thinking about arcs is degrees. So I envisioned a nice interface like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ArcData</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// x-coordinate of the circle's center</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// y-coordinate of the circle's center</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Circle radius</span>\n  degree<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Angle to draw the arc from the origin</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">drawArc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ArcData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">M blah A blah L Z</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Arc drawing commands, roughly</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2be3abdad9703847459d8b18dcb32f6e/27b7a/arc_func.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTElEQVR42oVV227bMAzN///VsKdhQNGuQLeHZF0wp3Xs+O5E8k1nPHJoyFnWCVAkkdQxeUgxm/1+j7ZtUdc1sizza9M0yPMcVVUte8p51r3aU6+6KIqwKcsSHNM0+emcW+Y4jouc+/Ac2nPlOB6P2BCdgmEY0Pe9v8S9tRbGGHRd5+VceaZcZaE9genxpigKjx56wAs04lk9UJ16rjZ65iAdK0D15BbkXsjc01uVLSGTVAVkSB8B3J7pIR1YecgfDuVLL+oFXXXe09FTjhWHChZm8H8eKsfdFXAJ2TnJci/cTaPfSxHJOrKWYET+VuV4rwpY4VhUcKNblU1/5XBOivyMk0Pa9Lj0I0ozIaod4sahsZLxAXiJ3/EjfpOPSmlNkl0nyRt6GJaQANVPj+h3W+TyQCRkAk74XfTIzhNeC4fHGHg+AgcBLg2wywp8+xXh58MFL58u+P75gmh3QW3lhQ0jDo8PaF93SPPio5AZkp4djHB8KhrYTDirpCqs83pRobCGTKAI69BaCeVK+qhTzyRfaKnNGVV3nstsYobnD6Z15bnM14DWF3aYwdsyoY48NeKRY1JE3sq9rJ1rOY7j+S0TnRdYi/fqMKxFep40lc8+5UldomP27z09bRD/6jb+7bKRiH0iWT1KIoyE7MKy0fYVeqZdJGxPCzj5FPvy6xdUz0/z3WFYty8NWXnSbqKtSnV69q8qSNxwBfwr5LBd3T497ZmL14G9Ngf/lg+Hg0dO0xQEP51OfpKKJEm8Eds79Zy6p01oz7+R7XaLP4J4F36YJAytAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"arc func\" title=\"\" src=\"/static/2be3abdad9703847459d8b18dcb32f6e/6af66/arc_func.png\" srcset=\"/static/2be3abdad9703847459d8b18dcb32f6e/69538/arc_func.png 160w,\n/static/2be3abdad9703847459d8b18dcb32f6e/72799/arc_func.png 320w,\n/static/2be3abdad9703847459d8b18dcb32f6e/6af66/arc_func.png 640w,\n/static/2be3abdad9703847459d8b18dcb32f6e/27b7a/arc_func.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The product of happy-path thinking</small>\n</center>\n<p>To draw an arc using an arbitrary angle as I designed, I need to pick an arbitrary start point and then use the angle to compute the endpoint‚Äôs coordinates.</p>\n<p>The start point can be any point on the circumference. As I mentioned, SVG uses <code class=\"language-text\">(cx + r, cy)</code> as the starting point when rendering circles, so I‚Äôll use this same coordinate as the 0¬∞ reference.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c6251100be299d7bb20ac6580128e408/27b7a/0degree.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.62500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVR42o1Uy3LCMAzk//+pPXb6AZ0O00MP0NRJyItASl5G9Ro2CJNmqhkTWbKXXVvyarvdStM0cjgcpCxL/6Vf17Ucj0epqsrHMKfPNcgjjnkURbLCApi11o/z+TyNcRynOHzOkdPr8YUlSSIroCMwDIP0fe83wW/bVk6nk3Rd5+P4IsaBmF4P4DzPZQXaMDLAwGYsgk8Gmh3XAJBzWFEUN8kIkkkIEkrmAFPG7iQDAIwgUQOQJX09Z4xqJob4gfFcNBsCDDOAU87twV5YnmU3yfinUNKdZDs+HoEDtU5d6/bCUkhG/UByCOj90cqPi0dVIaaupHNsYCwrC8DYSLffi3VHl63XF8kEDM+ox9m43Edq5C3aSKMKunAD8zjdiXl+Ert+v0hGkjf2F2Ds2H3G37JLU0ndMMb4G4W/iRMxry8i0ZckRXmRDMClM5wkBp3EchmcDytxyyzsJcARnRSUkb7p1pWbv2XdKaz8ubIZl8rm2qZ/FvYcg6XC5tlPha17mQ/Ef1+bsPW8ZN3LTAKUbOYAdcvpxyFhYXORloQNfL7IHHOwYkyf40MvM6FvmXNuDlkzT4YZC7u/Njj+mUPH9APLuF4PH8BxHMsvU/McxsMEDsMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"0degree\" title=\"\" src=\"/static/c6251100be299d7bb20ac6580128e408/6af66/0degree.png\" srcset=\"/static/c6251100be299d7bb20ac6580128e408/69538/0degree.png 160w,\n/static/c6251100be299d7bb20ac6580128e408/72799/0degree.png 320w,\n/static/c6251100be299d7bb20ac6580128e408/6af66/0degree.png 640w,\n/static/c6251100be299d7bb20ac6580128e408/27b7a/0degree.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Connecting the circle's center to this point creates the initial side at 0¬∞</small>\n</center>\n<p>With the initial side defined, I just need to find which point on the circumference lies at angle <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Œ∏</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Œ∏</span></span></span></span></span> from it.</p>\n<p>This is where trigonometry comes in. Using trig functions, we can easily find the coordinates where a line at a given angle from the initial side intersects the circumference. Let‚Äôs dust off the trigonometry we learned in school.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/93359637e4ee5965580fb27914c67df8/7321b/triangle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADxUlEQVR42oWUy0tbWxTGz6CtSUx9nGOMMab2DbVw4fYf6LDiQOlAFBQ7sChaBFGhUAoZ6UwQtEp8omIEaYqP1CgRUlSCghhrrQbByk31ihiKQp10oF2/wznQ0kEHm7322t9ej2+ttZW9vb303d3dtO3tbW1ra8vOzvnk5OQ68uXlpXVsbOz2+Pj4HeTNzc1M1s7Ojn4PDnwikVCPj4/tSiwWyzANRiIR++rqqra2tqY7QcbIyMjIXZbItqWlpUzWysqKfg8OPPLy8vJ1ZWNjI1UUNpRi0MLOWTxakS8uLlJmZ2cdgUAgG5kseBiNRvV7A2fD8P7+vkXhksjwOj09rUfAGUfQIVGlLCwsOFnIpEp08/PzqWDBgSdTDCuGQFRZGGfnDDf9/f25paWl7oaGhoLGxsaHVVVVbp/P55JoHJvBYGZcsGbKUIYzBauEj1dJLYWd0IuKinLKyso8ExMT1r6+Pierq6vLXvrsWc77F8/vH7d578YikQxo4j3GxHiKQsWIcn193YGxg4MDrb6+Pt/r9eaenp6qRCrpuoPBYH4iEbV+/Xqetxj9/Orp0yeus7MzjbeseDyuR6sXhYUS0js6OpzFxcW58IVOdosYywkERrIfe/ctn/47f/8leTmrKIrN5xt10QXmeyLVUyZFQpbLK3BGahg3dFfD4Xea3z/ljP//Y+hcFPHDH2/FoNLc3Jwvx2u8Pzo6SpUOuKZQPeFJT0kql93S0vLP6OhoXigUcoXD4Rvsg+NvPB+W452x+Lfzj3un32O7Sb/X25D28uXrf7knA3lTMDg46FHEWPrAwIBDFK6hoaGM6urqB62trc7h4WHN1PX29t4KTIceTYnzubk5KdSMu7OzUwMLTgqm9vT03Ovu7s4m5XRSk3BV+Kitrb0pF5kipxo6m1Qyxz/lpw+t9GYymUxra2vTpHA3wBmdkXF4eGjTDZpjBJ/Cn94uGJKUNUChUMAFLZHIlj4AGCwpKfHQSswv76UgKsX5ow8B0IOFhYUOvFMomaAsMcj5ClWvqKhwcQ+Wt7/14a8Rmp8DvSepu2tqau60t7erk5OTuRRKUlQrKytvNTU1eZhpsOYoQg86hYMx7CrzyS6RppEyJJeXlzvr6uoeiIMCZBk9vYFxDtb8LBgQPWUUvzYmu9nscEUfLi4uOmgpes7kDKrAwrH5kfDz6KPHgdExPweA6JBJaWZmxi3fVx6yEZVqfijgjA8mC0cKHrBMGpBq/L5WyEcmKv5DM0JjIuxMh3FvAQ/vTNdfDQIiAuFMn/W/GfwJFPm1e/daHiUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"triangle\" title=\"\" src=\"/static/93359637e4ee5965580fb27914c67df8/6af66/triangle.png\" srcset=\"/static/93359637e4ee5965580fb27914c67df8/69538/triangle.png 160w,\n/static/93359637e4ee5965580fb27914c67df8/72799/triangle.png 320w,\n/static/93359637e4ee5965580fb27914c67df8/6af66/triangle.png 640w,\n/static/93359637e4ee5965580fb27914c67df8/d9199/triangle.png 960w,\n/static/93359637e4ee5965580fb27914c67df8/7321b/triangle.png 1184w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>This shows a circle with radius <code class=\"language-text\">1</code> on a coordinate plane. The <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>-axis serves as the initial side, and we measure angle <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Œ∏</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Œ∏</span></span></span></span></span> counterclockwise from it.</p>\n<p>The point <code class=\"language-text\">(x, y)</code> where the line at this angle meets the circumference is exactly what we want to find. Drawing a perpendicular line from this point down to the initial side creates a right triangle.</p>\n<p>Using trigonometric functions on this triangle, we can define the components <code class=\"language-text\">x</code> and <code class=\"language-text\">y</code> of point <code class=\"language-text\">(x, y)</code>:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>sin</mi><mo>‚Å°</mo><mi>Œ∏</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>cos</mi><mo>‚Å°</mo><mi>Œ∏</mi><mo>=</mo><mi>x</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n\\sin{\\theta} = y \\\\\n\\cos{\\theta} = x \\\\\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3em;vertical-align:-1.25em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.75em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">sin</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Œ∏</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">cos</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Œ∏</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.25em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<p>This is high school material, but it had been so long that I had to look it up too. <del>(The memories of SOH-CAH-TOA came flooding back‚Ä¶)</del></p>\n<p>If this were a math exam, you‚Äôd need to solve it by hand using the angle <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Œ∏</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Œ∏</span></span></span></span></span> and trig ratios. But thankfully, JavaScript provides <code class=\"language-text\">Math.sin</code> and <code class=\"language-text\">Math.cos</code>, so we don‚Äôt have to compute them ourselves.</p>\n<p>One thing to be careful about, though, is the unit of angle <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Œ∏</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">Œ∏</span></span></span></span></span>. When we think of angles, we naturally think in degrees like <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>90</mn><mi mathvariant=\"normal\">¬∞</mi></mrow><annotation encoding=\"application/x-tex\">90¬∞</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">90¬∞</span></span></span></span></span>. But a value with the special unit ‚Äúdegrees‚Äù can‚Äôt be computed with regular numbers ‚Äî you can‚Äôt use degrees directly with trig functions.</p>\n<p>If that‚Äôs not clear, think about it this way: adding 10km and 6 doesn‚Äôt give you 16km. Similarly, 10km plus 6 miles isn‚Äôt 16km either. To perform arithmetic on physical quantities, both operands must have the same unit.</p>\n<p>Since trig functions are functions operating on numbers, they can‚Äôt work with values that carry a special unit. 90 is just 90, but ‚Äú90 degrees‚Äù can‚Äôt be fed into a trig function. So we need to convert degrees to radians ‚Äî a unit-free measure of angle.</p>\n<p>Radians might sound intimidating, but it‚Äôs just a different way of expressing the same thing: ‚Äúlet‚Äôs call 180¬∞ ‚Äô<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> radians.‚Äò‚Äù It‚Äôs like converting 1 Korean <em>geun</em> to 600 grams.</p>\n<p>Radians, like degrees, are a way of expressing angles. But since radians are defined using arc length and radius, they‚Äôre expressed as pure, unit-free numbers.</p>\n<center>\n  <div style=\"max-width: 300px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVR42pWUya6CQBBF+///RT/AxJ1xZVCQ0YEFLpQEEYmKc5lbL2VanmLbSaWhrD7WcGlFhut2u/G+XC5pOBzS9Xp9G6dMYPf7nfcsyygIAt7H4/HzT34CCmyz2TDkcrnw+2q1YrjESJwyge33e7Jtm47H40v58/mcFovFi099gwEyGo1ot9u9+AXiui5n3+l0aLvdNmeI8gBDYB0mz3mek2VZz/JV01TRMwygDqtDPc97VqA+Bfm+zxL5BNP9aZrSdDr9D5SAyWRCSZI0wuqtQS9RlarDMLk4jo1hekVlWf4BZeTICtnpPlMgdInzShzoVxRF9OuS80VR8Hkln1QYhgxdr9csZAj2cDgYAyEtDEZBlO12m/U0GAyo2+1Sq9Xivaoqbvj5fKbT6cSG57rhokD/kJRyHIf6/T6LE5NCcyFm+FECgmAYFvor77ohDpqdzWZmtw1Wr9f7qkvWIX7ERGFya+iGhVLRDuz67fLOHmu3JOkSx0u8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"1rad\" title=\"\" src=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png\" srcset=\"/static/a34b977dc5fad2e1f8aa536c40cf7580/69538/1rad.png 160w,\n/static/a34b977dc5fad2e1f8aa536c40cf7580/72799/1rad.png 320w,\n/static/a34b977dc5fad2e1f8aa536c40cf7580/29f4e/1rad.png 506w\" sizes=\"(max-width: 506px) 100vw, 506px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>When the arc length equals the radius, the central angle is 1 radian</small>\n</center>\n<p>Knowing that 1 radian is the central angle where the arc length equals the radius makes everything else easier.</p>\n<p>We already know the full circumference is <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span>. So how many arcs with a central angle of 1 radian do you need to complete a full circle?</p>\n<blockquote>\n<p>Exactly <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> of them. In other words, a full 360¬∞ equals <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> radians.</p>\n</blockquote>\n<p>Since an arc with a 1-radian central angle always has a length of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span> (the radius), you need <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> such arcs to cover the entire circumference, giving a total arc length of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span> and a central angle of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">2\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> radians.</p>\n<p>From here, you can easily infer that half a circle needs <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> arcs. A semicircle with a 180¬∞ central angle corresponds to <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span> radians.</p>\n<p>So what about 90¬∞? That‚Äôs half of 180¬∞, so it‚Äôs <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mi>œÄ</mi><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{\\pi}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0404em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6954em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span> radians. Generalizing this:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>m</mi><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>n</mi><mi mathvariant=\"normal\">¬∞</mi></mrow><mrow><mn>180</mn><mi mathvariant=\"normal\">¬∞</mi></mrow></mfrac><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">m_{rad} = \\frac{n\\degree}{180\\degree} \\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0574em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">180¬∞</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"mord\">¬∞</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span></div>\n<p>This formula is simple enough to be a one-liner in code:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> degree <span class=\"token operator\">=</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> radian <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Since radians express angle magnitude using only arc length and radius with no units attached, we can freely compute with other numbers. Using radians and trig functions, we can find the coordinates of any point on the circumference at any angle from the initial side.</p>\n<p>Putting all this together, we can write a function that generates the <code class=\"language-text\">path</code> element commands for drawing an arc:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Values needed to draw an arc</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">ArcData</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  degree<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Find the coordinates of a point at n degrees from the initial side using trig</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getCoordsOnCircle</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ArcData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> radian <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token operator\">:</span> x <span class=\"token operator\">+</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>radian<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    y<span class=\"token operator\">:</span> y <span class=\"token operator\">+</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>radian<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_DEGREE</span> <span class=\"token operator\">=</span> <span class=\"token number\">359.9</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Draw an arc of degree(Œ∏) in the positive direction centered at (x, y)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getArc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ArcData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> startCoord <span class=\"token operator\">=</span> <span class=\"token function\">getCoordsOnCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">,</span> degree<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> finishCoord <span class=\"token operator\">=</span> <span class=\"token function\">getCoordsOnCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> degree <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isLargeArc <span class=\"token operator\">=</span> degree <span class=\"token operator\">></span> <span class=\"token number\">180</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isEnd <span class=\"token operator\">=</span> degree <span class=\"token operator\">===</span> <span class=\"token constant\">MAX_DEGREE</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">M </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startCoord<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startCoord<span class=\"token punctuation\">.</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> A </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 0 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isLargeArc<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 1 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>finishCoord<span class=\"token punctuation\">.</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n    finishCoord<span class=\"token punctuation\">.</span>y\n  <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> L </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isEnd <span class=\"token operator\">?</span> <span class=\"token string\">'z'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>By passing values from <code class=\"language-text\">0</code> to <code class=\"language-text\">359.9</code> sequentially to the <code class=\"language-text\">getArc</code> function‚Äôs <code class=\"language-text\">degree</code> parameter, we can render all the arcs needed for the animation. <del>(I used <code class=\"language-text\">react-spring</code> for the implementation.)</del></p>\n<p>Note that the maximum angle is <code class=\"language-text\">359.9</code>, not <code class=\"language-text\">360</code>. When the central angle reaches 360¬∞, the start and endpoints have the same coordinates, causing SVG to render nothing. So I cap it at <code class=\"language-text\">359.9</code> and, when that value is reached, use the <code class=\"language-text\">Z</code> command to draw a line straight back to the start point.</p>\n<p>Of course, the closer the max value is to 360¬∞, the more circle-like the arc becomes. But at a certain point, the difference is imperceptible to the human eye, so this was good enough.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>You don‚Äôt have to build a doughnut chart from scratch like I did ‚Äî you could just use an existing chart library and call it a day. But since all I needed was a bar chart and a doughnut chart, I decided that bundling a heavy chart library just for these two wasn‚Äôt worth the trade-off. <del>(Admittedly, it took more time than expected.)</del></p>\n<p>Every now and then, working with 2D or 3D graphics requires mathematical concepts like trigonometry or linear algebra. Some people see math-heavy examples and think, ‚ÄúI‚Äôm bad at math, I can‚Äôt do this.‚Äù But I‚Äôm far from being good at math myself.</p>\n<p>When I took my college entrance exam, I didn‚Äôt study math at all ‚Äî I just filled in the same answer for every question on the answer sheet and fell asleep, earning a rank of 8 out of 9. The only people below me were probably others who did the exact same thing. If someone who completely gave up on studying math can understand this stuff, then most people can too with just a bit of thought.</p>\n<p>Sure, if you try to go deep into the theories and formulas, it‚Äôs endless and genuinely hard. In fact, you probably won‚Äôt understand most of it anyway. But the level of math needed to solve the kinds of problems we encounter when building real applications isn‚Äôt that difficult.</p>\n<p>Back in school, they taught trigonometry without ever explaining what real problems it could solve ‚Äî they just made us memorize formulas for exams. <del>(Even though I slept through every class, SOH-CAH-TOA somehow stuck‚Ä¶)</del></p>\n<p>But things are different now. We know exactly what problems these formulas can solve, and the person experiencing the problem is us. That makes the motivation far stronger than when we were studying purely for exams.</p>\n<p>That‚Äôs all for this post on how SVG doughnut charts work ‚Äî a trigonometric approach.</p>","fields":{"slug":"20201212-draw-arc-with-svg-clippath-en","path":"/2020/12/12/draw-arc-with-svg-clippath/en/","lang":"en"},"frontmatter":{"title":"How SVG Doughnut Charts Work ‚Äî A Trigonometric Approach","subTitle":"The elegant intersection of math and code: building doughnut charts with animation","date":"Dec 12, 2020","categories":["Programming","Graphics"],"tags":["SVG","Trigonometry","Chart","Doughnut Chart","SVG Arc"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/d803c/thumbnail.png","srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/d803c/thumbnail.png 320w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/fc5c5/thumbnail.webp 320w,\n/static/bb2bd4c7e09988c47f89c5f8246cf8cb/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/01fb2/thumbnail.png","srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/bb2bd4c7e09988c47f89c5f8246cf8cb/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"31728f7a-82cc-5845-9fd3-beaf700a2fd3","tableOfContents":"<ul>\n<li>\n<p><a href=\"#it-all-comes-down-to-abstraction\">It All Comes Down to Abstraction‚Ä¶</a></p>\n<ul>\n<li><a href=\"#building-components-that-guarantee-user-freedom\">Building Components That Guarantee User Freedom</a></li>\n<li><a href=\"#lets-build-a-text-component\">Let‚Äôs Build a Text Component</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#designing-through-incremental-abstraction\">Designing Through Incremental Abstraction</a></p>\n<ul>\n<li><a href=\"#mimicking-html-elements\">Mimicking HTML Elements</a></li>\n<li><a href=\"#adding-custom-properties\">Adding Custom Properties</a></li>\n<li><a href=\"#making-it-renderable-as-any-element\">Making It Renderable as Any Element</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#full-code-at-a-glance\">Full Code at a Glance</a></p>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Recently, our team at Lubycon started a small project called lubycon-ui-kit together with mentees from a mentoring program. It‚Äôs still in its early stages with not much to show, but the goal is to build a UI library based on Korean typography that‚Äôs easy for domestic designers and developers to use.","html":"<p>Recently, our team at Lubycon started a small project called <a href=\"https://github.com/Lubycon/lubycon-ui-kit\" target=\"_blank\" rel=\"nofollow\">lubycon-ui-kit</a> together with mentees from a mentoring program. It‚Äôs still in its early stages with not much to show, but the goal is to build a UI library based on Korean typography that‚Äôs easy for domestic designers and developers to use.</p>\n<!-- more -->\n<p>Like many modern projects, this one was built by mixing React and TypeScript in the right proportions, sprinkling in a generous helping of <a href=\"https://storybook.js.org/\" target=\"_blank\" rel=\"nofollow\">Storybook</a>, and finishing it off with <a href=\"https://rollupjs.org/guide/en/\" target=\"_blank\" rel=\"nofollow\">Rollup</a>.</p>\n<p>Once a component is designed, the developers and designers get together for a review. If it passes, we immediately start development, deploy Storybook to a dev server, and do a final review ‚Äî a short iteration cycle. I want to share some of the struggles I had while typing the component interfaces for this UI kit.</p>\n<h2 id=\"it-all-comes-down-to-abstraction\" style=\"position:relative;\">It All Comes Down to Abstraction‚Ä¶<a href=\"#it-all-comes-down-to-abstraction\" aria-label=\"it all comes down to abstraction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I personally believe the hardest part of building an open-source library project is the design. This includes module and component interfaces, encapsulation decisions about what to expose and what to hide from users, and more.</p>\n<p>On top of that, since this kind of project involves collaboration from the start rather than solo work, the team needs to align on design values.</p>\n<p>Honestly, I didn‚Äôt think too deeply about the design going in, because I was already using TDS (Toss Design System) for service development at work. I vaguely thought, ‚ÄúCan‚Äôt I just build something with a similar feel?‚Äù</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABny6XQRjxT//EABoQAAICAwAAAAAAAAAAAAAAAAECESEDMTP/2gAIAQEAAQUCaVUy4NHLyQ0d/wD/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQMSQf/aAAgBAwEBPwGZaXP/xAAXEQADAQAAAAAAAAAAAAAAAAAAAQNB/9oACAECAQE/AYvByP/EABgQAQADAQAAAAAAAAAAAAAAAAEAEHEh/9oACAEBAAY/AtnCjYlf/8QAGRABAQADAQAAAAAAAAAAAAAAAREAECFR/9oACAEBAAE/Ieoy+MFIzCoahChl1f/aAAwDAQACAAMAAAAQT8//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEDAQE/EAAEbOl//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxB1aG8b/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITFBkaH/2gAIAQEAAT8QFJVqyK46jf6aAA4njvZYh0AvYKgmhAzSf//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tds\" title=\"\" src=\"/static/54696de7a7e6c8a6cf270e1286b33c24/c08c5/tds.jpg\" srcset=\"/static/54696de7a7e6c8a6cf270e1286b33c24/0913d/tds.jpg 160w,\n/static/54696de7a7e6c8a6cf270e1286b33c24/cb69c/tds.jpg 320w,\n/static/54696de7a7e6c8a6cf270e1286b33c24/c08c5/tds.jpg 640w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>This design system alone speeds up development tremendously</small>\n</center>\n<p>So in our first sync meeting with the designers, I was excitedly explaining things using TDS as an example, when I got this response:</p>\n<blockquote>\n<p>Um‚Ä¶ a design system and a UI kit are slightly different concepts.</p>\n</blockquote>\n<p>Here‚Äôs what that means: a design system is a concept infused with an organization‚Äôs brand and design philosophy. So TDS, which I use at work, embodies the various design philosophies that Toss as an organization stands for ‚Äî meaning it might not translate directly to other organizations.</p>\n<p>A UI kit, on the other hand, is as decoupled from such philosophies as possible, providing pure UI components.</p>\n<p>In other words, something like <a href=\"https://getbootstrap.com/\" target=\"_blank\" rel=\"nofollow\">Bootstrap</a> doesn‚Äôt carry a specific design philosophy ‚Äî it‚Äôs a collection of UI components you can assemble like LEGO blocks, making it a UI kit. When an organization like Google creates <a href=\"https://material.io/design/\" target=\"_blank\" rel=\"nofollow\">Material Design</a>, Airbnb creates its <a href=\"https://airbnb.design/tag/dls/\" target=\"_blank\" rel=\"nofollow\">Design Language System</a>, or Toss creates <a href=\"https://blog.toss.im/2019/04/18/tossteam/culture/toss-design-conference/\" target=\"_blank\" rel=\"nofollow\">TDS</a>, they‚Äôre embedding design philosophy into a UI kit to create a design system. <small>(UI kit is said to be the broader concept that encompasses design systems.)</small></p>\n<p>Since I was so accustomed to TDS‚Äôs interfaces from daily use at work, I‚Äôd vaguely assumed ‚ÄúI‚Äôll just build something with a similar feel.‚Äù But after hearing this, I revisited the design systems mentioned above and realized how deeply each organization‚Äôs design philosophy is embedded in them.</p>\n<p>Ultimately, a UI kit needs to guarantee enough flexibility for users to customize it to fit their organization‚Äôs design guidelines and coding conventions, which means abstraction requires even deeper thought than when building a design system.</p>\n<h3 id=\"building-components-that-guarantee-user-freedom\" style=\"position:relative;\">Building Components That Guarantee User Freedom<a href=\"#building-components-that-guarantee-user-freedom\" aria-label=\"building components that guarantee user freedom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>After this conversation, the first thing the frontend developers discussed was: ‚ÄúHow much freedom should we guarantee users?‚Äù</p>\n<p>For example, imagine building a clickable component like <code class=\"language-text\">Button</code>. In HTML, there‚Äôs more than one way to express that an element is clickable:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>I'm a button<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Me too<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>Not a button but can be used like one<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Technically I'm a button too<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Of course, using <code class=\"language-text\">role=\"button\"</code> like the last example requires the developer to separately add <code class=\"language-text\">tabindex</code> for focusability, define <code class=\"language-text\">click</code> or <code class=\"language-text\">keydown</code> event handlers so the button activates on Enter or Space when focused ‚Äî otherwise it wouldn‚Äôt be considered a semantic button. That might seem odd, but the important point is that none of these are errors.</p>\n<p>A design system bound to a specific organization‚Äôs philosophy can simply create a rule like ‚Äúthe <code class=\"language-text\">Button</code> component must always render as a <code class=\"language-text\">button</code> element‚Äù ‚Äî as long as that design philosophy is shared within the team, it‚Äôs fine. But a UI kit should help with UI concerns while preserving the way users originally work with HTML, making this kind of consideration essential.</p>\n<p>After much deliberation, we decided to preserve HTML‚Äôs original usage as much as possible. And somehow, I ended up being the one to design the first component for this project.</p>\n<h3 id=\"lets-build-a-text-component\" style=\"position:relative;\">Let‚Äôs Build a Text Component<a href=\"#lets-build-a-text-component\" aria-label=\"lets build a text component permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The component I was assigned was the <code class=\"language-text\">Text</code> component. When defining a UI kit, the designers said we needed to define typography and color palette first as the system‚Äôs foundation, so naturally the component that expresses typography came first.</p>\n<p>Of course, the typography style data itself is also provided as SCSS, CSS variables, and JS modules, but having to import modules or write classes every time you use typography is quite tedious ‚Äî so providing a component is cleaner.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Something like this</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">typography</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>h1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">I'm heading 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">typography</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">I'm content</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>And since you can use various elements like <code class=\"language-text\">span</code>, <code class=\"language-text\">p</code>, <code class=\"language-text\">div</code> to render text in HTML, the <code class=\"language-text\">Text</code> component should also have an abstract interface that allows rendering as different elements.</p>\n<p>In other words, the <code class=\"language-text\">Text</code> component should only concern itself with typography, and everything else should work exactly as if you were using a native <code class=\"language-text\">p</code> or <code class=\"language-text\">span</code> element.</p>\n<h2 id=\"designing-through-incremental-abstraction\" style=\"position:relative;\">Designing Through Incremental Abstraction<a href=\"#designing-through-incremental-abstraction\" aria-label=\"designing through incremental abstraction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As mentioned, to guarantee user freedom we must not break the behavior of HTML elements within React. So the component‚Äôs properties should faithfully reproduce the attributes of the target element.</p>\n<p>Users should also be able to render whatever element they want ‚Äî <code class=\"language-text\">span</code>, <code class=\"language-text\">p</code>, <code class=\"language-text\">div</code>, etc. We could force users to only use <code class=\"language-text\">span</code> or <code class=\"language-text\">p</code>, but enforcing such rules goes beyond the concern of typography.</p>\n<p>Since we‚Äôre developing with TypeScript, and this library needs to provide types via <code class=\"language-text\">*.d.ts</code> files, the component‚Äôs property types should flexibly change based on the element the user wants to render, enabling proper IDE autocomplete and static type analysis.</p>\n<p>In this post, I‚Äôll walk through my abstraction process in three stages: mimicking HTML elements, adding custom properties, and allowing rendering as any element.</p>\n<h3 id=\"mimicking-html-elements\" style=\"position:relative;\">Mimicking HTML Elements<a href=\"#mimicking-html-elements\" aria-label=\"mimicking html elements permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The first design step is to mimic HTML elements directly. React provides an <code class=\"language-text\">HTMLAttributes</code> type for convenient access to element attribute types, so just this much lets you replicate an HTML element:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Props</span> <span class=\"token operator\">=</span> HTMLAttributes<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Text</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVR42qWSSVPbQBBG9UOQFwzWYm3IkseSxlpHsiIvMsRJgErlkFw4ceL/f2lLJFQqHAI5vOqunpo30z0j5axFzLZwyhvMwwbVpx84Pjxh9/UB7fdHiP0d4oyDxzkMK4KiLaDqrGe27NGXv2tSmN+B+w2u/BJ+cwsva7GKa1x5KWw3gWFzEgVEiJkRQO8gAYmnqt+hqH3eCZcsQ1F9BC+OCPkO4WqPKG7BkwOipEVI+Sq9Ia47TvWyvkXd3EOsv0BQXlA81TxWQXKojUXxGfnhG4Q40I1W0M0ImhHSrfgLZh9ntOa4KbxFgbmfw6f4KzftiFq2MljBDm7yAaVokIsNbaYWpg6GQx2DofYcX5AHGmRZxRkhD3rOZAUXlw4kTfOhh1sw0ZJwi7zYIM0a2E6I0bmJ8cT6i/NXGE9MTJU5JPVZGJTXqNd7ZHkDTfcwHM0wPgn/kdHYIKELSaHXYXwNlm6wrvaw7KBrqTv1/cKyE6Zp3c3hLaLXhVGJoNiBc9HP6X+FS14h3RxhWezNs/tT2D3KAq6fwGE5LumrTC7ez1T18BPzUXff/O3mNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"html attrs\" title=\"\" src=\"/static/1425cce2ebe3ccbafd98dd47f519e8e6/6af66/html_attrs.png\" srcset=\"/static/1425cce2ebe3ccbafd98dd47f519e8e6/69538/html_attrs.png 160w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/72799/html_attrs.png 320w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/6af66/html_attrs.png 640w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/d9199/html_attrs.png 960w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/d56e1/html_attrs.png 1130w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Even just this gives you nice autocomplete</small>\n</center>\n<p>But this type won‚Äôt work as-is. <code class=\"language-text\">HTMLAttributes</code> only contains React‚Äôs basic HTML attributes ‚Äî it doesn‚Äôt include <code class=\"language-text\">ref</code> or <code class=\"language-text\">key</code>.</p>\n<p>You could use React‚Äôs <code class=\"language-text\">DetailedHTMLProps</code> type to include <code class=\"language-text\">ref</code> in the properties, but that only declares the type ‚Äî it doesn‚Äôt actually make the component pass <code class=\"language-text\">ref</code> through. It‚Äôs purely a type declaration.</p>\n<p>This is well documented in React‚Äôs official docs under Forwarding Refs:</p>\n<blockquote>\n<p>refs will not get passed through. <strong>That‚Äôs because ref is not a prop.</strong> Like key, it‚Äôs handled differently by React.</p>\n<p><strong>Forwarding Refs</strong> - <em><a href=\"https://reactjs.org/docs/forwarding-refs.html#forwarding-refs-in-higher-order-components\" target=\"_blank\" rel=\"nofollow\">reactjs.org</a></em></p>\n</blockquote>\n<p>To truly replicate how HTML elements work in React, you need to implement the ability to receive <code class=\"language-text\">ref</code> from a parent component and pass it to a child ‚Äî and that‚Äôs what the <code class=\"language-text\">forwardRef</code> function is for.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> Text <span class=\"token operator\">=</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n  props<span class=\"token operator\">:</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span>HTMLSpanElement<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">forwardRef</code> function passes <code class=\"language-text\">props</code> and <code class=\"language-text\">ref</code> to its callback. Since the forwarded <code class=\"language-text\">ref</code> comes as a separate argument, <code class=\"language-text\">props</code> naturally excludes <code class=\"language-text\">ref</code>.</p>\n<p>Conveniently, React provides the <code class=\"language-text\">ComponentPropsWithoutRef</code> type that types all component properties minus <code class=\"language-text\">ref</code>, so developers don‚Äôt need to manually use the <code class=\"language-text\">Omit</code> utility type to remove the <code class=\"language-text\">ref</code> key.</p>\n<h3 id=\"adding-custom-properties\" style=\"position:relative;\">Adding Custom Properties<a href=\"#adding-custom-properties\" aria-label=\"adding custom properties permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>At this point, the <code class=\"language-text\">Text</code> component has the same functionality as a <code class=\"language-text\">span</code> element. This pattern of using <code class=\"language-text\">forwardRef</code> to pass everything from a parent to a child is a common technique also used when creating Higher-Order Components (HOCs). <small><del>(In fact, that‚Äôs where it‚Äôs used more often.)</del></small></p>\n<p>But the <code class=\"language-text\">Text</code> component needs to accept not just <code class=\"language-text\">span</code> element attributes, but also custom typography-related properties from our UI kit. As it stands, it‚Äôs just a plain <code class=\"language-text\">span</code>. So we need to add custom property types to the <code class=\"language-text\">span</code> element attribute types.</p>\n<p>Since TypeScript provides intersection (<code class=\"language-text\">&amp;</code>) types, this seems straightforward:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Text <span class=\"token operator\">=</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> typography<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span>HTMLSpanElement<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Intersection types merge two different types, so this bundles my <code class=\"language-text\">typography</code> property with <code class=\"language-text\">span</code> element attributes into the <code class=\"language-text\">TextProps</code> type.</p>\n<p>But there‚Äôs a problem with this approach: it can‚Äôt handle cases where a custom property has the same key as a property from <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code>.</p>\n<p>Let me illustrate with an example. If I add a <code class=\"language-text\">customId</code> property to my custom props, it infers correctly as declared:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  customId<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVR42l2OyU6EUBBF+RgnHvMkM3SjSCOIaJC2o3GtGzf+f44POvbCxcm9t+pWUooQMaqI0MwcP6xxvRuc4Igns+1XK8suiBts55jDZIftVehmgeve4bj1qkobjcR+gxs2tNM7236i7l5o2pluOFBUA/mmZ9fNPIxv5NE9WdkzTh/kUh1ryyY7UKYzW6nK9e0TZjFg7V+xvr/Qfj4Jnvey8IgvP1q+PFejlbOrkAst4VKy+EVVI5Oz6IQizBRVTxBWhu6WK5r0Qk/RjBTxn6VrJCe/3up/85Rf/RqGJ2pYMcQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"o\" title=\"\" src=\"/static/1b2d749ba284a65bbbc99d320d58cd84/6af66/o.png\" srcset=\"/static/1b2d749ba284a65bbbc99d320d58cd84/69538/o.png 160w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/72799/o.png 320w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/6af66/o.png 640w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/3d4b6/o.png 712w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Inference works perfectly ‚Äî satisfying</small>\n</center>\n<p>But if I add <code class=\"language-text\">id</code> ‚Äî which already exists inside <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> ‚Äî the two intersected types collide, and my declared <code class=\"language-text\">id</code> property gets unexpectedly inferred as <code class=\"language-text\">undefined</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVR42lVSyXajMBD0t0wW24h9FwLMJjBmsSGxM8l7k8P8/z/UNMppDvVEC3VVV3fvmCXwqoU4aBxJNqBsFkTijCjuEHg9eLgg9EdoeoY9S3DQhTo1I/0PB8bhJmfsHHqYeC2sfEJWjOBZj0reEEQNwriFIJEsH5GXI2JBInEDnnZEspFzHDfQ956KMpwaO9s5Iec9jEDiVA2o6gmyvcHyTkQgESYNDDuF6WTQTaGItvh57xMCdT69+vj17EB3KuwMevjCQrLNoYkFurgq7OMJLB7higFFNVIrrqhJqKgmVW3TLihIfLs7X+4UX2H7kipkKRq3hwgmpOWMqltRtStKsn2Zf6Pt3zCMD1wIXf+uIM8rpusnLtMD/XDHMH0oN6bbECFZ4x71y5W4rZ94PP5gWb7w+PhWqpIENlIvrCipVQRbXDYzRN6rOzco8XLwfyxbdg5jaywTCLIromIBL1eImpLaN+rnivQ0UvIFcXqmoUhESUfDopi2Ic0HhLyD4xWw/A47zzyhShcE1YJ4/ouo+YaZ3XEMZ/jJRFW+U5/uqOU72f4iogm2VxNBo+BS3xy/gWkXJDjT2hCzTQosqRHlLUKyZtBuHlkMRhPd1mKbrKYnate2WKf/GxhN3bAyuovxRNPmQuIfEJ0zdUJD/0MAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"x\" title=\"\" src=\"/static/c9307aeb70ad34301279d568ff3762a8/6af66/x.png\" srcset=\"/static/c9307aeb70ad34301279d568ff3762a8/69538/x.png 160w,\n/static/c9307aeb70ad34301279d568ff3762a8/72799/x.png 320w,\n/static/c9307aeb70ad34301279d568ff3762a8/6af66/x.png 640w,\n/static/c9307aeb70ad34301279d568ff3762a8/6029f/x.png 906w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>The confused compiler</small>\n</center>\n<p>The compiler gets confused because intersection types in TypeScript aren‚Äôt inheritance with overriding. From the compiler‚Äôs perspective, it can‚Äôt determine which <code class=\"language-text\">id</code> is correct ‚Äî the one from custom properties or the one inside <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">A</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">B</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Both have id...</span>\n<span class=\"token comment\">// Which one is correct?</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Result</span> <span class=\"token operator\">=</span> <span class=\"token constant\">A</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This issue also occurs with interfaces using <code class=\"language-text\">extends</code> for inheritance. Trying to override a property that exists on the parent produces an ‚ÄúInterface ‚Äô*‚Äô incorrectly extends‚Ä¶‚Äù compile error.</p>\n<p>When we merge objects using JavaScript‚Äôs <code class=\"language-text\">Object.assign</code>, if both the first and second objects have the same property, the first object‚Äôs property is implicitly overridden by the second:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Implicitly overridden by the second object's property</span>\n<span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>But TypeScript is a statically typed language that favors explicit declarations, so it never allows such implicit overriding.</p>\n<p>To merge types this way, you first need to use the <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys\" target=\"_blank\" rel=\"nofollow\">Omit</a> utility type to remove the properties you want to override, then merge. But doing this every time with <code class=\"language-text\">Omit</code> is tedious, so it‚Äôs better to create a merge utility type:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Combine<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">Combine</code> takes two generic types, removes all properties from <code class=\"language-text\">K</code> that overlap with <code class=\"language-text\">T</code>, then merges them with an intersection. In effect, if a key declared in <code class=\"language-text\">T</code> also exists in <code class=\"language-text\">K</code>, <code class=\"language-text\">T</code>‚Äôs version wins.</p>\n<p>Now we use <code class=\"language-text\">Combine</code> to merge our custom properties with <code class=\"language-text\">span</code> element attributes to declare the final <code class=\"language-text\">Text</code> component properties.</p>\n<p>Even if a developer‚Äôs custom property happens to overlap with a <code class=\"language-text\">span</code> attribute, <code class=\"language-text\">Combine</code> handles the override automatically, so developers can declare properties as usual without extra concern:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"making-it-renderable-as-any-element\" style=\"position:relative;\">Making It Renderable as Any Element<a href=\"#making-it-renderable-as-any-element\" aria-label=\"making it renderable as any element permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Text</code> component now flexibly includes both custom properties and HTML element attributes, but there‚Äôs one more layer of abstraction left.</p>\n<p>So far, the <code class=\"language-text\">Text</code> component can only render as a <code class=\"language-text\">span</code>. But as we‚Äôve discussed repeatedly, there‚Äôs no law saying you must use <code class=\"language-text\">span</code> for text content in HTML, so we need to abstract one more level to allow the render target element to be freely changed.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>p<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token comment\">// Renders as p, typed with p element attributes</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token comment\">// Renders as a, typed with a element attributes</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The common approach is providing an <code class=\"language-text\">as</code> prop that accepts an element tag name and renders accordingly. I went with the same approach. <small><del>(Basically copied Bootstrap.)</del></small></p>\n<p>In previous abstractions, the render target was guaranteed to be <code class=\"language-text\">span</code>, so we just needed to merge types correctly. Now that the target could be anything, we need to accept it flexibly via a generic type.</p>\n<p>Let‚Äôs look at the <code class=\"language-text\">Text</code> component‚Äôs property type again:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>I want this type to accept not just <code class=\"language-text\">span</code> but various elements, so I need to turn the <code class=\"language-text\">'span'</code> in <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> into a type variable like <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code>.</p>\n<p>In other words, once we receive an HTML element name via the <code class=\"language-text\">as</code> prop, we find the matching element attribute type and merge it into the <code class=\"language-text\">Text</code> component‚Äôs properties using <code class=\"language-text\">Combine</code>.</p>\n<h4 id=\"breaking-down-generics-and-type-inference\" style=\"position:relative;\">Breaking Down Generics and Type Inference<a href=\"#breaking-down-generics-and-type-inference\" aria-label=\"breaking down generics and type inference permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Let‚Äôs think about how to type this according to the design. It‚Äôs best to start from the outermost layer ‚Äî the <code class=\"language-text\">Text</code> component‚Äôs properties that receive the generic type <code class=\"language-text\">T</code> directly from the user:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Text component's custom properties</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Props&lt;T> passes T directly to ComponentPropsWithoutRef&lt;T>.</span>\n<span class=\"token comment\">// It also binds T to the as property inside custom props.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  Combine<span class=\"token operator\">&lt;</span>TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 27.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABNUlEQVR42k1Q2U7DMBDMp0BbkjbOacfxkctJSGkljqIiUSH+/zeGTSIBD6uZ2R2Pvfb2pkeQWESpW4olLaJ8RJQNa2/GpENMyBbdk6dDGDcLHlgF3xfwA4FdUMALq0cYPqKxr5DuHWb8QN1cYPor7PkL1XSDPt2If6OePlG7K9R4hezfUHQvkMMFglCRbrtneJNyOJojdNrB6jOUGMADDhFKiEiBH2bU4Ix4WILvBXENGRuUtJlMK0hCm9XoqbxW9+AZNVSPkjcUSFW0kJyMeQVTEs8tzWq0diSfQ03flIQFdncM/ibGwybClvj2nsEzFJSnFoIOq6KhAAfXPtFr6QIKr8yw4Kzn/tCd0NYTNPnCPW2SVWAHCp+Dtwk8QeZ1HQVBq/xW+MeX2TJfcdHROiv+n2EaP2hjxDu+cW7LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"generic error\" title=\"\" src=\"/static/3823464654cd20a44beec2c98e1f9580/6af66/generic_error.png\" srcset=\"/static/3823464654cd20a44beec2c98e1f9580/69538/generic_error.png 160w,\n/static/3823464654cd20a44beec2c98e1f9580/72799/generic_error.png 320w,\n/static/3823464654cd20a44beec2c98e1f9580/6af66/generic_error.png 640w,\n/static/3823464654cd20a44beec2c98e1f9580/d9199/generic_error.png 960w,\n/static/3823464654cd20a44beec2c98e1f9580/21b4d/generic_error.png 1280w,\n/static/3823464654cd20a44beec2c98e1f9580/081ff/generic_error.png 2182w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Wrong answer!</small>\n</center>\n<p>In my optimistic mental model this seemed fine ‚Äî why does it fail? After all, everything uses the same type variable <code class=\"language-text\">T</code> and just passes it along.</p>\n<p>The reason is that <code class=\"language-text\">ComponentPropsWithoutRef</code> restricts its generic to <code class=\"language-text\">ElementType</code>. Since my type places no constraints on the type variable <code class=\"language-text\">T</code>, passing it directly to <code class=\"language-text\">ComponentPropsWithoutRef</code> causes a compiler error.</p>\n<p>So if we want to safely pass type variable <code class=\"language-text\">T</code> to <code class=\"language-text\">ComponentPropsWithoutRef</code>, we need to constrain it to <code class=\"language-text\">ElementType</code> from the very point where the <code class=\"language-text\">Text</code> function receives its generic:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  Combine<span class=\"token operator\">&lt;</span>TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Seeing that the <code class=\"language-text\">Text</code> component takes a generic type, you might think you‚Äôd need awkward syntax like <code class=\"language-text\">&lt;Text&lt;'span'> /></code> ‚Äî but that‚Äôs not the case.</p>\n<p>That‚Äôs because this generic type <code class=\"language-text\">T</code> can be inferred. Looking at the example above, the type variable <code class=\"language-text\">T</code> that <code class=\"language-text\">Text</code> receives flows through <code class=\"language-text\">TextProps&lt;T></code> to <code class=\"language-text\">TextBaseProps&lt;T></code> and gets bound directly to <code class=\"language-text\">as</code>.</p>\n<p>All these type variables are guaranteed to be the same:</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">Text&lt;T></code></li>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">TextProps&lt;T></code></li>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">TextBaseProps&lt;T></code></li>\n<li><code class=\"language-text\">T</code> bound to the <code class=\"language-text\">as</code> property</li>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code></li>\n</ol>\n<hr>\n<p>This means that if just <em>one</em> of these points makes the type of <code class=\"language-text\">T</code> clear, the rest can be inferred naturally.</p>\n<p>Using TypeScript‚Äôs type inference, if we assign <code class=\"language-text\">'span'</code> as the default for <code class=\"language-text\">T</code>, or if a value like <code class=\"language-text\">'span'</code> is passed to the <code class=\"language-text\">as</code> prop, the remaining <code class=\"language-text\">T</code>s are automatically filled in with the same type:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">&lt;</span>Text <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// -> T is inferred as span</span>\n<span class=\"token operator\">&lt;</span>Text <span class=\"token keyword\">as</span><span class=\"token operator\">=</span><span class=\"token string\">\"p\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// -> T is inferred as p</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now that we understand the type inference flow, let‚Äôs type this properly.</p>\n<h4 id=\"abstracting-the-code-classlanguage-textascode-prop-typing\" style=\"position:relative;\">Abstracting the <code class=\"language-text\">as</code> Prop Typing<a href=\"#abstracting-the-code-classlanguage-textascode-prop-typing\" aria-label=\"abstracting the code classlanguage textascode prop typing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">as</code> prop pattern ‚Äî rendering as any desired element ‚Äî isn‚Äôt unique to <code class=\"language-text\">Text</code>. Components with abstract concerns like a <code class=\"language-text\">Grid</code> layout component would all need this capability.</p>\n<p>But if every developer had to manually add <code class=\"language-text\">as</code> to their props and think through generic inference relationships each time, it would be quite painful.</p>\n<p>So we need to abstract this part as much as possible so that other components can easily add the <code class=\"language-text\">as</code> prop. Something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Text component properties</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// OverridableProps automatically includes the as prop for type inference</span>\n<span class=\"token comment\">// and types HTML element attributes based on T!</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">OverridableProps</code> abstracts only the part where a component receives an HTML element name via <code class=\"language-text\">as</code> and internally finds and binds the corresponding element attribute types.</p>\n<p>With this abstraction, other developers don‚Äôt need to think about using <code class=\"language-text\">ComponentPropsWithoutRef</code>, constraining <code class=\"language-text\">T</code> to <code class=\"language-text\">ElementType</code> in <code class=\"language-text\">Combine</code>, or other tedious details ‚Äî they can just add the <code class=\"language-text\">as</code> prop quickly and easily. <small>(‚Ä¶he said, optimistically.)</small></p>\n<p>Now let‚Äôs refine what we built earlier to create <code class=\"language-text\">OverridableProps</code>.</p>\n<p>The <code class=\"language-text\">Combine&lt;T, K></code> utility type we created earlier has no constraints on its generics, but <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code> ‚Äî representing the HTML element attributes we need to merge ‚Äî restricts its generic to <code class=\"language-text\">ElementType</code>.</p>\n<p>So first, we need to bridge this gap:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">K</span><span class=\"token punctuation\">,</span>\n  ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Hide the existence of ComponentPropsWithoutRef</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">CombineElementProps</code> constrains one of the two types being merged to represent an HTML element, then passes it directly to <code class=\"language-text\">ComponentPropsWithoutRef</code>, preventing type mismatch errors.</p>\n<p>By defaulting the <code class=\"language-text\">K</code> type variable to <code class=\"language-text\">unknown</code>, we ensure that users of this utility type must provide the component‚Äôs properties for <code class=\"language-text\">K</code>.</p>\n<p>For the same reason, <code class=\"language-text\">TextProps</code> ‚Äî which passes generics to <code class=\"language-text\">CombineElementProps</code> ‚Äî must also constrain its type to <code class=\"language-text\">ElementType</code>. Then we use <code class=\"language-text\">CombineElementProps</code> to define <code class=\"language-text\">OverridableProps</code>, which adds the <code class=\"language-text\">as</code> prop:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// The as prop with generic type inference is now included.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now with <code class=\"language-text\">OverridableProps</code>, you just pass the desired <code class=\"language-text\">ElementType</code> and your component‚Äôs custom properties to conveniently create a type with the <code class=\"language-text\">as</code> prop.</p>\n<h2 id=\"full-code-at-a-glance\" style=\"position:relative;\">Full Code at a Glance<a href=\"#full-code-at-a-glance\" aria-label=\"full code at a glance permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Since it‚Äôs hard to follow the full picture when code and explanations alternate, here‚Äôs the complete code in one place:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Combine<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">K</span><span class=\"token punctuation\">,</span>\n  ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> typography <span class=\"token operator\">=</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">as</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> <span class=\"token keyword\">as</span> <span class=\"token operator\">??</span> <span class=\"token string\">'span'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> Component <span class=\"token operator\">=</span> target<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Component\n      ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span>\n      <span class=\"token comment\">// Typography class rendering logic here</span>\n      <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span>Text<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">typeof</span> Text<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When I was first ‚Äúchosen‚Äù to develop the <code class=\"language-text\">Text</code> component, I honestly didn‚Äôt take it too seriously. It‚Äôs just one component without any grand functionality ‚Äî I figured it‚Äôd be quick. Turns out the typing was tougher than expected.</p>\n<p>I use TypeScript in both my day job and personal projects, but I rarely have to write deeply nested generic types with layered inference like this. Usually I‚Äôd just ask Google, somehow solve it, and forget about it.</p>\n<p>One thing I learned through this struggle is that <code class=\"language-text\">@types/react</code> isn‚Äôt actually that hard to read. It‚Äôs worth browsing through when you have some time.</p>\n<p>The <code class=\"language-text\">ComponentPropsWithoutRef</code> type I used heavily has an internal chain of 4-5 type references. Just tracing through those referenced types reveals plenty of useful types for everyday work:</p>\n<blockquote>\n<p><code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code> > <code class=\"language-text\">PropsWithoutRef&lt;T></code> > <code class=\"language-text\">ComponentProps&lt;T></code> > <code class=\"language-text\">JSX.IntrinsicElements[T]</code> > ‚Ä¶(and a few more)</p>\n</blockquote>\n<p>The file is around 3,000 lines, which might feel daunting, but if you follow the type reference chain like I did, you‚Äôll find the number of core types isn‚Äôt actually that large. Plus, types like <code class=\"language-text\">IntrinsicElements</code> ‚Äî which hold HTML element names as keys ‚Äî take up a significant chunk of those lines.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 523px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42p1U13LiMADM/3/jgbvc5N5N2ezKXOYejhCiGY0woNU2+eNyuWDfd2xNizoxGPMCU2FhoxhtVaPvB9R1g6quUfF5nBZ8Nz7+At5uN5TWIogidKVFZzI0BOj6HtfrFT8dDnDbNvewcvWDAEmaoiTYn9MZnu/D2gpZljuGbwFqDYIQhoB5WTrwtu1wOnsEP6FpWwzjiGmanrL+knylZG0wJkVHRgO9bOmbWLddh45znme39sMA7fsWUENsPM9HQ7AmoWyukrnvx+b7/f4LyWGEhCwt2UlyFMfOv5Df26p6H1Ab5WHBpEMm3rBOQRi6cGSJ5A5O8gsPtSrNhF3s8xIjJQ/0S78piJFBLMviaqTnl6FoTDRdbAp5VxRI4sSFJCABPAviZW0SY1jy6ugkPwv06KN9s9jr6him8rAoEZNh2x4eytu6adyUly9rI5OzPGeiGeaM95lXT1L3x4H6n2QvPFRTV/U5w4eHR20OyQrozE6ePc+lqlB0Q96ULA8DSs5QsjYR3zi5wuEB8rZ69FD9vj8pugNc/wGUbyYx7s0Tkq089Omfx4P0CpO3Yj/Oq7tF8v2/Hmp6ZJETcMlKdGQpkJTgGb8f+pGpRy750JQs+Oj2yOdt278APwHFyiI78x0EuwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"typesafe actions\" title=\"\" src=\"/static/39be8850618810d1ad5bd7e3d45ddd2d/3e286/typesafe-actions.png\" srcset=\"/static/39be8850618810d1ad5bd7e3d45ddd2d/69538/typesafe-actions.png 160w,\n/static/39be8850618810d1ad5bd7e3d45ddd2d/72799/typesafe-actions.png 320w,\n/static/39be8850618810d1ad5bd7e3d45ddd2d/3e286/typesafe-actions.png 523w\" sizes=\"(max-width: 523px) 100vw, 523px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Honestly, compared to <a href=\"https://github.com/piotrwitek/typesafe-actions/blob/master/src/type-helpers.ts\" target=\"_blank\">typesafe-actions</a>, React's type readability is quite generous.<br>That place is pure chaos...</small>\n</center>\n<p>That wraps up this post on designing extensible components with TypeScript.</p>","fields":{"slug":"20201128-making-your-components-extensible-with-typescript-en","path":"/2020/11/28/making-your-components-extensible-with-typescript/en/","lang":"en"},"frontmatter":{"title":"Designing Extensible Components with TypeScript","subTitle":"Flexible React component design using generics and type inference","date":"Nov 28, 2020","categories":["Programming","Architecture","JavaScript"],"tags":["React","TypeScript","Generic Type"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/471db2e1aa1eff1dab0d1d6d36e45405/3a812/thumbnail.jpg","srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/3a812/thumbnail.jpg 320w,\n/static/471db2e1aa1eff1dab0d1d6d36e45405/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/fc5c5/thumbnail.webp 320w,\n/static/471db2e1aa1eff1dab0d1d6d36e45405/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/471db2e1aa1eff1dab0d1d6d36e45405/2d839/thumbnail.jpg","srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"5fe4e9e4-20ba-58ae-a60e-80388c5437a2","tableOfContents":"<ul>\n<li>\n<p><a href=\"#we-are-employed\">We Are Employed</a></p>\n<ul>\n<li><a href=\"#why-do-developers-pursue-good-design\">Why Do Developers Pursue Good Design?</a></li>\n<li><a href=\"#were-not-the-old-man-whittling-a-bat\">We‚Äôre Not the Old Man Whittling a Bat</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#finding-the-balance-between-business-and-good-design\">Finding the Balance Between Business and Good Design</a></p>\n</li>\n<li>\n<p><a href=\"#is-this-really-worth-designing-well\">Is This Really Worth Designing Well?</a></p>\n<ul>\n<li><a href=\"#when-speed-matters-more-than-solid-design\">When Speed Matters More Than Solid Design</a></li>\n<li><a href=\"#sometimes-you-build-features-meant-to-be-deleted\">Sometimes You Build Features Meant to Be Deleted</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"In this post, I want to talk about a topic that‚Äôs both distant and close to developers: business. Developers are people who constantly agonize over good architecture and robust applications. But the best architectural choice isn‚Äôt always the right choice ‚Äî because we‚Äôre hired to make money using programming.","html":"<p>In this post, I want to talk about a topic that‚Äôs both distant and close to developers: business. Developers are people who constantly agonize over good architecture and robust applications. But the best architectural choice isn‚Äôt always the right choice ‚Äî because we‚Äôre hired to make money using programming.</p>\n<!-- more -->\n<p>When developers talk about ‚Äúgood design,‚Äù you‚Äôll hear plenty about TDD, DDD, SOLID, open-for-extension architectures, pure functions, and other technical topics. But far fewer talk about business. When you consider that developers aren‚Äôt people who simply program, but people who do business through programming, that seems a bit odd.</p>\n<h2 id=\"we-are-employed\" style=\"position:relative;\">We Are Employed<a href=\"#we-are-employed\" aria-label=\"we are employed permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Some developers work as freelancers, but most of us ‚Äî myself included ‚Äî are employed by a company. So why does a company hire developers?</p>\n<p>Obviously, to make money using your programming skills. As everyone knows, a company is fundamentally a profit-seeking organization, so the salary they pay you is an investment. If a company pays you $50,000 a year, they naturally expect you to generate at least that much ‚Äî or more ‚Äî in value.</p>\n<p>In other words, a developer isn‚Äôt just someone who needs to be good at programming. A developer needs to be someone who can generate money through programming.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3d398f9d4ae6fd2c9152ec66398c531d/eea4a/money.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaGJnKKMj//EABoQAQEAAgMAAAAAAAAAAAAAAAECAxIEMTP/2gAIAQEAAQUCUnHVVqZROR5ZLdjr/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRABAAIBBQEAAAAAAAAAAAAAAQACMQMQESFBkf/aAAgBAQAGPwJV4gJZtTLt17manyE//8QAGhAAAwEBAQEAAAAAAAAAAAAAAAERMSFBof/aAAgBAQABPyGQwlqFuhihaaM0zafQ0noWus4f/9oADAMBAAIAAwAAABDTP//EABcRAAMBAAAAAAAAAAAAAAAAAAARIVH/2gAIAQMBAT8QaJh//8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8QGf/EAB4QAQACAQQDAAAAAAAAAAAAAAEAESExQWFxUYHB/9oACAEBAAE/EHRvrrHXMZgoAlFmWnOGmbMFwn3mVarAeBn04hh3NcjUUx2s9z//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"money\" title=\"\" src=\"/static/3d398f9d4ae6fd2c9152ec66398c531d/c08c5/money.jpg\" srcset=\"/static/3d398f9d4ae6fd2c9152ec66398c531d/0913d/money.jpg 160w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/cb69c/money.jpg 320w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/c08c5/money.jpg 640w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/6a068/money.jpg 960w,\n/static/3d398f9d4ae6fd2c9152ec66398c531d/eea4a/money.jpg 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The reason companies hire developers is ultimately to generate revenue</small>\n</center>\n<p>If we compare the IT industry to traditional manufacturing, developers and designers are the craftspeople who make things. The only difference is that what we produce has shifted from physical goods to software. And a craftsperson isn‚Äôt just responsible for product quality ‚Äî they must simultaneously care about real user satisfaction, the company‚Äôs business requirements, and much more.</p>\n<p>In other words, a profit-seeking organization doesn‚Äôt just need someone who‚Äôs good at programming. It needs someone who can use programming to satisfy users and generate the revenue that follows.</p>\n<p>That‚Äôs why many organizations look for more than just programming skills when hiring good craftspeople. They also look for smooth collaboration with stakeholders, leadership, business insight, understanding of user experience, and various other skills needed for effective product development.</p>\n<p>Moreover, things like collaboration skills and UX understanding may not generate immediate revenue, but in the long run they significantly impact the company‚Äôs brand and culture, and can ultimately transform how the organization works and performs. Serious organizations don‚Äôt neglect these factors.</p>\n<p>In short, a developer isn‚Äôt just someone who programs ‚Äî they‚Äôre one of many team members racing to make their organization‚Äôs product succeed in the market. That‚Äôs why developers shouldn‚Äôt focus solely on programming, but should develop a broad perspective that encompasses the organization‚Äôs business challenges as well.</p>\n<h3 id=\"why-do-developers-pursue-good-design\" style=\"position:relative;\">Why Do Developers Pursue Good Design?<a href=\"#why-do-developers-pursue-good-design\" aria-label=\"why do developers pursue good design permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When you work as a developer, you can‚Äôt help wanting to invest the time for good architecture ‚Äî it‚Äôs your baby, after all.</p>\n<p>Developers know from experience that cutting corners on design today creates debt that boomerangs back eventually. The classic example is the ‚Äúlegacy code‚Äù meme that‚Äôs ubiquitous among developers.</p>\n<p>Code with poor readability and unclear control flow harbors countless potential bugs. Sometimes bugs occur but slip past tracking tools due to weird exception handling. Poorly designed code can create major pain points for users, and in severe cases, ruin critical user moments and drive them away.</p>\n<p>What‚Äôs worse, if you keep piling features on top of bad design without improving it, the bad design only grows. Development isn‚Äôt about wiping the slate clean for every new feature ‚Äî it‚Äôs about building on top of what already exists.</p>\n<p>Once design goes off the rails, even a small change can trigger bugs in unexpected places. Developers become increasingly cautious, and the organization‚Äôs development velocity gradually slows. Eventually, you might want to add a new feature but literally can‚Äôt because the architecture won‚Äôt allow it.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 327px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4ae506992fda7327aecbb04a40446576/cafdf/no.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 156.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAfABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDBAL/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAP/2gAMAwEAAhADEAAAAW75jrwIlshSJkXJ/wD/xAAcEAEAAgIDAQAAAAAAAAAAAAABAgMAERASIRP/2gAIAQEAAQUCELd6k+r8c96ZKlUjvhsnuDIyNTI//8QAGREBAQADAQAAAAAAAAAAAAAAAQACERIT/9oACAEDAQE/ATBbzZ3dF//EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAgEBPwGqxH//xAAcEAACAgMBAQAAAAAAAAAAAAAAARAREiFhUbH/2gAIAQEABj8CdmeNrsP05D2jUNZHwuz/xAAcEAEBAQACAwEAAAAAAAAAAAABEQAhMUFRoWH/2gAIAQEAAT8h/QjrUDqopcqMC+Dczb2995JV7aaO2aw7zFE8fdx7+aSrtN3ictyxEXxN/9oADAMBAAIAAwAAABCg6v7/xAAcEQACAgIDAAAAAAAAAAAAAAAAAREhMUFxkfD/2gAIAQMBAT8QyFcjS4IUpd6HNb90f//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxBA3TimGrf/xAAfEAEAAwACAgMBAAAAAAAAAAABABEhMUFRYXGR8MH/2gAIAQEAAT8QRByImI31BIZqwejD1cuig+CYAcqNfxzE3a7V7+pXywwZQ9B3PcRqsKJqDjnmV5/z5iyo6hhb3VzaSDln5Mgt+N2Naz//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no\" title=\"\" src=\"/static/4ae506992fda7327aecbb04a40446576/cafdf/no.jpg\" srcset=\"/static/4ae506992fda7327aecbb04a40446576/0913d/no.jpg 160w,\n/static/4ae506992fda7327aecbb04a40446576/cb69c/no.jpg 320w,\n/static/4ae506992fda7327aecbb04a40446576/cafdf/no.jpg 327w\" sizes=\"(max-width: 327px) 100vw, 327px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>How I feel looking at code I wrote a year ago...</small>\n</center>\n<p>Ultimately, developers pursue good design to maintain high code quality, preserve development velocity, and prevent unpredictable bugs. But as I said earlier, a good craftsperson doesn‚Äôt just focus on programming ‚Äî they need a broad perspective that encompasses business too. Developers are, after all, the people who build products and deliver them to users.</p>\n<p>Reframing through a user-centric lens: the reason developers pursue good design is to maintain rapid development velocity so users consistently receive improved products quickly, and to prevent mysterious bugs from giving users bad experiences.</p>\n<blockquote>\n<p>In other words, good design is for the sake of <strong>good user experience</strong>.</p>\n</blockquote>\n<p>But think about it ‚Äî good design isn‚Äôt the only thing developers can do for user experience. Good design is just one of many approaches to delivering great experiences. A good developer should be able to choose the option that delivers the maximum benefit at the minimum cost given the current situation.</p>\n<h3 id=\"were-not-the-old-man-whittling-a-bat\" style=\"position:relative;\">We‚Äôre Not the Old Man Whittling a Bat<a href=\"#were-not-the-old-man-whittling-a-bat\" aria-label=\"were not the old man whittling a bat permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In Korean culture, there‚Äôs a well-known essay called ‚ÄúThe Old Man Whittling a Bat‚Äù that‚Äôs often cited when discussing craftsmanship. It appears in middle school textbooks, so most Koreans have read it at least once.</p>\n<p>The full story is quite long, but here‚Äôs the gist:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cd2e52ab949020fabea93b1cb50994d7/066f9/batman.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAG8d2KrhNLQIR//xAAbEAEBAAIDAQAAAAAAAAAAAAABAgADEBESIf/aAAgBAQABBQJVdfuWKfMtU9UZWxmq+YvH/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAEQAhESIWFR/9oACAEBAAY/AnodWL5D8Fi+Fman/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMSFhgf/aAAgBAQABPyEo6C9yXlQmCIF8fY5N/EQZDgjpLYnZIlawn//aAAwDAQACAAMAAAAQj8gD/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQMBAT8QY//EABYRAAMAAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPxAKP//EAB0QAQACAgMBAQAAAAAAAAAAAAEAESExQWGBkbH/2gAIAQEAAT8QrLumiDErcm2DO/I1A5DBhhBKW7nX2/JgJuBTYfkoGDsK4l8srsa5iTi3pqErNva3P//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"batman\" title=\"\" src=\"/static/cd2e52ab949020fabea93b1cb50994d7/066f9/batman.jpg\" srcset=\"/static/cd2e52ab949020fabea93b1cb50994d7/0913d/batman.jpg 160w,\n/static/cd2e52ab949020fabea93b1cb50994d7/cb69c/batman.jpg 320w,\n/static/cd2e52ab949020fabea93b1cb50994d7/066f9/batman.jpg 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<blockquote>\n<p><em>One day, a man passing through town tries to buy a laundry bat from an old craftsman carving them by the roadside. But the old man quotes a steep price‚Ä¶</em></p>\n<p><strong>Customer:</strong> ‚ÄúCould you give me a discount?‚Äù</p>\n<p><strong>Old man:</strong> ‚ÄúHaggling over one bat? Just go buy one somewhere else.‚Äù</p>\n<p><strong>Customer:</strong> ‚ÄúFine, I‚Äôll pay full price. Just make sure it‚Äôs well made.‚Äù</p>\n<p><em>The customer watches the old man work, growing increasingly impatient. It looks done to him, but the old man keeps whittling. Time is running out‚Ä¶</em></p>\n<p><strong>Customer:</strong> ‚ÄúIt looks finished. Can I just have it?‚Äù</p>\n<p><strong>Old man:</strong> ‚ÄúRice has to boil until it‚Äôs done. Raw rice doesn‚Äôt become cooked just because you rush it.‚Äù</p>\n<p><strong>Customer:</strong> ‚ÄúThe buyer says it‚Äôs fine! I‚Äôm going to miss my bus‚Ä¶‚Äù</p>\n<p><strong>Old man:</strong> ‚ÄúThen go buy one somewhere else.‚Äù</p>\n<p><strong>Customer:</strong> ‚ÄúSigh‚Ä¶ fine, take your time.‚Äù</p>\n<p><strong>Old man:</strong> ‚ÄúThe more you rush me, the longer it takes. Just wait.‚Äù</p>\n<p><em>The customer misses his bus and his mood is ruined. The old man doesn‚Äôt care about customers at all ‚Äî no wonder his business is struggling.</em></p>\n<p><em>‚Ä¶But later, upon closer inspection, the quality of the bat turns out to be extraordinary.</em></p>\n</blockquote>\n<p>The story ends with the protagonist wanting to go back and apologize to the old man for failing to appreciate his deeper purpose.</p>\n<p>The moral, in a word, is ‚Äúrespect for craftsmanship,‚Äù and it‚Äôs frequently cited as an example of the mindset makers should have.</p>\n<p>The old man in the story takes immense pride in his whittling skills. He‚Äôs probably been doing this for a long time, which means he has clear convictions about his craft. Developers who‚Äôve been in the industry for a long time aren‚Äôt much different in that regard.</p>\n<p>But there‚Äôs one crucial difference between this heartwarming story and reality. The old man never intended to sell to anyone who didn‚Äôt share his values. That‚Äôs essentially the same as a developer telling users, ‚ÄúI need to take my time and build a proper architecture, so if you don‚Äôt like it, use a different app‚Äù ‚Äî while users are complaining, ‚ÄúWhy is this app so slow to update?‚Äù</p>\n<p>Viewed this way, the old man doesn‚Äôt seem so professional after all. Wouldn‚Äôt a true professional find a way to deliver the best possible quality within the timeframe the customer needs ‚Äî satisfying both the customer and themselves?</p>\n<p>The protagonist in the story watches the old man work and thinks, ‚ÄúIt looks done ‚Äî why does he keep going?‚Äù If the old man represents the developer, then the protagonist represents the users.</p>\n<p>And unlike this patient protagonist, real users won‚Äôt wait around the moment they think ‚Äúsomething‚Äôs off.‚Äù They won‚Äôt marvel at the quality of your carefully designed product either. The moment users sense something is wrong, they‚Äôll abandon your product and switch to another.</p>\n<h2 id=\"finding-the-balance-between-business-and-good-design\" style=\"position:relative;\">Finding the Balance Between Business and Good Design<a href=\"#finding-the-balance-between-business-and-good-design\" aria-label=\"finding the balance between business and good design permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As I‚Äôve discussed, developers need to consider business factors while simultaneously thinking about good application architecture. But many developers invest heavily in studying technical approaches to good design while giving surprisingly little thought to business.</p>\n<p>The developer community‚Äôs idea of a ‚Äúgood developer‚Äù often centers on someone who‚Äôs great at programming, or at most, someone who can uplift other developers. So we study paradigms like functional programming, various design patterns and guidelines, and work hard to apply them in practice.</p>\n<p>But in my view, one of the conditions for being a truly effective developer is having all of that <em>plus</em> business insight. And beyond that, having a range of soft skills too. As I‚Äôve said multiple times, a developer isn‚Äôt someone who sits isolated with a computer doing nothing but programming.</p>\n<p>The ‚Äúgood design‚Äù I‚Äôm really talking about isn‚Äôt simply abstracting duplicate logic or using extensible patterns. Depending on the situation, copy-pasting existing code might be good design. In an urgent situation, shipping something that barely works ‚Äî design be damned ‚Äî might be good design.</p>\n<h2 id=\"is-this-really-worth-designing-well\" style=\"position:relative;\">Is This Really Worth Designing Well?<a href=\"#is-this-really-worth-designing-well\" aria-label=\"is this really worth designing well permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When designing an application, the first question you should ask is <strong>‚ÄúIs this really worth investing in design?‚Äù</strong> Once you determine it is, that‚Äôs when you start thinking seriously about proper architecture.</p>\n<p>Solid application design generally pays off in the long term rather than the short term. If the time you invest in design is more likely to <em>not</em> pay off in the future, then it might be better to just rough it out and ship the feature fast. Business is always about Cost vs. Benefit.</p>\n<p>You might wonder what costs are involved in just ‚Äúthinking about design,‚Äù but they‚Äôre real. Your salaries, server costs, office rent ‚Äî money flows out of the company‚Äôs bank account every single day, even when nothing is happening.</p>\n<p>Labor costs in particular are something many people overlook, and they add up surprisingly fast. Go ahead and calculate ‚Äúmy daily pay √ó team size‚Äù right now. A team of just 5 people each earning <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>50</mn><mi>K</mi><mi mathvariant=\"normal\">/</mi><mi>y</mi><mi>e</mi><mi>a</mi><mi>r</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>s</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>g</mi><mi>h</mi><mi>l</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">50K/year costs roughly </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">50</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">ye</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">rcos</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">sro</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ug</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>1,000 per day.</p>\n<p>If building one feature takes 5 days, the company spends roughly ‚Äú$5,000 + Œ±‚Äù on development costs. The ‚Äúplus alpha‚Äù includes office rent, server costs, and so on.</p>\n<p>And if deploying that feature actually <em>decreases</em> a critical conversion rate, the losses grow even bigger. That‚Äôs the risk a company takes when developing a product. Plus, if you‚Äôre running an A/B test, the feature you‚Äôre building right now might be deleted within a week.</p>\n<p>In situations like these, always spending time on design isn‚Äôt necessarily the right answer. We need to ask ‚Äúis this really worth designing well?‚Äù <em>before</em> asking ‚Äúhow should I design this?‚Äù</p>\n<h3 id=\"when-speed-matters-more-than-solid-design\" style=\"position:relative;\">When Speed Matters More Than Solid Design<a href=\"#when-speed-matters-more-than-solid-design\" aria-label=\"when speed matters more than solid design permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In practice, every developer encounters situations where they need to build something fast. The reason might be a client‚Äôs demand, a fresh startup that needs to find market fit quickly, or a company that‚Äôs genuinely running out of money ‚Äî but what matters isn‚Äôt the reason, it‚Äôs that the product needs to ship fast.</p>\n<p>In these situations, developers face a dilemma: invest time in solid design, or build something rough and ship it immediately.</p>\n<p>Of course, as your skills grow, you develop an intuition <del>(forged through years of trial and error)</del> that raises the quality floor even when you‚Äôre cutting corners. But less experienced developers might produce genuinely hard-to-follow code.</p>\n<p>As I mentioned, developers can clearly see the parts that will become tech debt if not designed properly now. From a long-term perspective, if design keeps getting neglected, the application‚Äôs complexity grows exponentially, and eventually you can‚Äôt add features even when you want to.</p>\n<p>Having thought this far, the developer makes a decision:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/bae1f9c188c8a245cf34964e67bf7c2a/0b533/decision.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvUlEQVR42m2Sy27TUBCGTbsAVix5CXa8QRX6DJXYIlW8AIgNG6SUqkVIqKgIumBVCbFIEUKC9AYtadImqdNc2iZ1rk0dO7F9fGzHPj7H9mGaqFJBjHwZyefzP/PPCGrbUDtIbupirqRpA855tVrdz6SLhYIoFtPbifWPj4823lb2fyRf3RMXhbW5+81623UcGyNhIGNNxoZq57NiEDCAPc/r9ZQwoJAPSiuFeaH0enJvbrL0ZqL+4cbOC+HkcJvzcOgYgqFaFrLc4bBWq9XrUhAEfBSM0YjzoVasLN85Xpqovb99snwrvyhsvZvGeBAw7BNTGPQw0q2hY/vEPdjP2LZtmiYDlNKAXYqj2mp56eYh6C8IW/G77U4DiqMUMWoJpu5gZDu2xaibzR6EYaTreqvVsiwL6qfUxw6TSknxy5P2t4f5z49abYlz16egDLBmQ/NR5A8GF6m9lIlxPB6fnZ2tVCrj+pVe9+X8wtNnzw0Tyz2lXBY5J74PsC3oqmUizDk9rZabZxLB1szMzNTUlCRJY1hV1VgsNv0g1pIkRkgqtUMpZoHNGCgb2HMdzzOzhRz5/stZWe02Gl1Z5lHkjiKKIvjR8ekp/vSVrSXzYs73zSCw4RIIccDa7kUjnUlzz2c6CqNwPDBoXtO0Me9TSvqDUDcLhUOfmkEIsCW4Lrxcw1A2NzeAgfFEVzEu+3oeBOHu7k/KMMgygPtKHxkIViK5njzvdOBECI6PIrwKyMfzz+Vy6cwuGAT8Zc9IsyzThvvoqNAZwdH/gl8SNJFIdDpgJAFZsE3Q+4h4nix3mk2YPoc+ocl/fgGyiqLAE77W69UgcAhBI2Wke56jqt1SqQgMOAQnrhcPOSEEYEhgc1qtM0aHCCkIyYJ80TV0nXhuKvUbFhNkHcfhf9vm+36/r0LS68mKek4IbKRp6L0/bsQb8xWjcbQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"decision\" title=\"\" src=\"/static/bae1f9c188c8a245cf34964e67bf7c2a/0b533/decision.png\" srcset=\"/static/bae1f9c188c8a245cf34964e67bf7c2a/69538/decision.png 160w,\n/static/bae1f9c188c8a245cf34964e67bf7c2a/72799/decision.png 320w,\n/static/bae1f9c188c8a245cf34964e67bf7c2a/0b533/decision.png 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\"Right, I can't just give up on design. I need to negotiate the timeline...!\"</small>\n</center>\n<p>Of course, thinking this way is entirely natural for a developer. But what matters is accurately understanding <em>what</em> the current situation actually is.</p>\n<p>If the tight deadline is simply because the PO or client is impatient, there‚Äôs certainly room to negotiate. But if there‚Äôs a pressing business issue ‚Äî like an imminent funding round that requires finding market fit fast and painting a pretty revenue graph ‚Äî then negotiating for more design time isn‚Äôt such a great call.</p>\n<p>No matter how thoughtfully a developer designs for the future, if the company runs out of money and shuts down next month, that code disappears anyway. As long as a developer works within a company, the lifespan of everything they produce ultimately depends on the company‚Äôs bank balance.</p>\n<p>That‚Äôs why, even though programming is a developer‚Äôs primary job, they shouldn‚Äôt think only about programming. They should always view the feature they‚Äôre building through a business lens. Sometimes the right call is to cut corners on design, ship the product quickly, test it, find market fit, create user happy moments, and focus on increasing AMPU (Average Margin Per User).</p>\n<p>In such situations, it might be better to accept some design compromises and develop quickly, while predicting risks from the compromised design, handling errors that could interfere with critical user actions, and deploying error monitoring solutions like <a href=\"https://sentry.io/welcome/\" target=\"_blank\" rel=\"nofollow\">Sentry</a> or <a href=\"https://www.bugsnag.com/\" target=\"_blank\" rel=\"nofollow\">Bugsnag</a> with aggressive Slack notifications to catch anything you missed. <del>(Bug fixes, of course, you‚Äôll just have to grind through.)</del></p>\n<h3 id=\"sometimes-you-build-features-meant-to-be-deleted\" style=\"position:relative;\">Sometimes You Build Features Meant to Be Deleted<a href=\"#sometimes-you-build-features-meant-to-be-deleted\" aria-label=\"sometimes you build features meant to be deleted permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>And sometimes you have to build features that are meant to be deleted. What does that mean? New features are supposed to upgrade the product for users ‚Äî how can a feature be ‚Äúmeant to be deleted‚Äù?</p>\n<p>It happens when you need to run A/B tests.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/62091fb4f8accc0f63f209ba823f6b3a/37523/abtest.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6klEQVR42lWT7VPSWRTH+XP6F/ZVL5t9tzW9aF/s7pTVNtNm7To7Nk0ztTOkm5VNlpMo0WYGiSKBSGNiyrMKiCBhKaCJpIACIkLy4GcvP7Op78ydc873nHvumXPOlSGwv79fF6ylMlx++JzSXlmyD9jvUfsS2/fGyenbPaylM9/xsmqtxl6lIhlDdg+/tCiY8Iclu87X/Yeo6+VqVdKfjdo509ZDNJGS7DpfrdaQHVR4cGF9K0cmXyCV3eZb/lscUvXK5mMJNgufSBVWvvplFl8IzbgLnXWGYYcPk8OLYSbI4Mw86nE348J/iLezYdQWJzrbDEaXl9HpME+ct3nsbhSxdsa875BpLS7im9vEMwVi2V2ixQoJp4/kkJl4Io1BPPBZ9LRSqWK0elhN50R8gZWNHdHzGgOB+3S4G1hObaK1uJEN2Txs7ZYZtM2h15h5PWzFcO8J0VMXSK+sY/KGpIRlkdA8NUcyX6LfNYvirQm1y4Lc+IB2ayNruQx6u09UODFFtlTlqnKEkz/+zoXfrnPmrBz/iQbS0TiG6SClz3vSgIyi8vR2ib9eGDnSfJ6jbX/zQ+s15GOXWN1KMTDpQTY4Oc3uXo2eyQDHbqn46ZGehscGlu91k93IYBL9PKxwxO1nu1RGORHgeEsfP983cLpbj/5dL8mdvJiDSNjeP4IjuIgzuMRmNi81PymmbX3/EUcoQodulI1MjnQuL+m2+Q+4whFSuYNNSIqNsAWXsYeWuKs1I2t9aeapw8+DUQeXlAP8qdJxsVtL55gLlejJv/1mPAtRfIvLtGleo34zi9I0xZUOLc1depo6dXS9cqAZ8wu/SLj+PkLkoYqYUk2kT8eCOHUZ6+olqnhOIrJC9csCfvgUQetToJ9TYQpoGJrtY1jIV4H/0HgfsbQREz9lYZFiw2WKV65TvHmHkryd4j93KV5spvjHVWof41+XeX1nEYX3HE/9jejCcgZCN9CK0zvXROf0ryQLMf4HVsAs8PYe3D0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"abtest\" title=\"\" src=\"/static/62091fb4f8accc0f63f209ba823f6b3a/6af66/abtest.png\" srcset=\"/static/62091fb4f8accc0f63f209ba823f6b3a/69538/abtest.png 160w,\n/static/62091fb4f8accc0f63f209ba823f6b3a/72799/abtest.png 320w,\n/static/62091fb4f8accc0f63f209ba823f6b3a/6af66/abtest.png 640w,\n/static/62091fb4f8accc0f63f209ba823f6b3a/37523/abtest.png 720w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A/B testing deploys both existing and new UI/UX to a test group,<br>compares metrics, and keeps the winner.</small>\n</center>\n<p>For example, imagine your product‚Äôs payment page has a 10% conversion rate. To boost it, you make the payment button bigger and bolder, adding a striking <code class=\"language-text\">#ff0000</code> color. This wasn‚Äôt a random decision ‚Äî it was made after intense discussion and deliberation involving the PO, UI/UX designers, and the entire team.</p>\n<p>So now that we‚Äôve made the payment button more eye-catching after all that deliberation, will the conversion rate go up?</p>\n<center>\n.<br/>\n.<br/>\n.<br/>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b9cbfd621dfb3d56bd15f5a81b7b086d/6b6e1/i_dont_know.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe7lSWD/xAAXEAADAQAAAAAAAAAAAAAAAAAAAREg/9oACAEBAAEFAqLP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQESFBYf/aAAgBAQABPyGmIyTbYEBE8b//2gAMAwEAAgADAAAAEAMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITEQQVH/2gAIAQEAAT8QKAGNTeErao8dHsEwEumwWJ//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"i dont know\" title=\"\" src=\"/static/b9cbfd621dfb3d56bd15f5a81b7b086d/6b6e1/i_dont_know.jpg\" srcset=\"/static/b9cbfd621dfb3d56bd15f5a81b7b086d/0913d/i_dont_know.jpg 160w,\n/static/b9cbfd621dfb3d56bd15f5a81b7b086d/6b6e1/i_dont_know.jpg 268w\" sizes=\"(max-width: 268px) 100vw, 268px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Nobody knows</small>\n</center>\n<p>The truth is, nobody knows how users will react when you build a feature and release it. Users are unpredictable creatures who might suddenly bounce just because a single line of copy changed on a page. But you can‚Äôt just build random things and ship them either ‚Äî the financial risks of labor costs, server costs, and more are too high.</p>\n<p>That‚Äôs why many organizations use A/B testing to reduce this risk. No matter how brilliant the people gathered in a room, no matter how long they discuss and deliberate, at the end of the day it‚Äôs all just predicting ‚Äúour users will behave this way.‚Äù</p>\n<p>In other words, until you deploy and actually observe how users interact with your product, every opinion is just speculation ‚Äî which is why you run these tests.</p>\n<p>If the Control (existing version) shows higher conversion after the test, you simply discard the new Variant. If the Variant wins, you discard the Control. Either way, you safely improve conversion rates with minimal risk, regardless of whether your hypothesis was right.</p>\n<p>For effective data analysis, you also need to control variables as much as possible. If you change a bunch of things at once and the metrics improve, but you can‚Äôt tell which specific change drove the user behavior, the test becomes meaningless.</p>\n<p>That‚Äôs why A/B tests usually keep most features identical and only make small, focused changes to the part being tested. This means that when coding for an A/B test, there will inevitably be a lot of shared logic between Control and Variant.</p>\n<p>Some developers abstract these common parts for an efficient design. But here‚Äôs the trap:</p>\n<blockquote>\n<p>One of the two will eventually <strong>have to be deleted</strong>.</p>\n</blockquote>\n<p>If you aggressively abstract shared code or split things into separate modules to reduce duplication, you actually increase the number of things to worry about when it‚Äôs time to remove the test code ‚Äî and mistakes during removal can introduce unexpected bugs.</p>\n<p>Moreover, A/B tests often have nearly identical variations down to trivial details. No matter how carefully you abstract, once the test ends and you delete one side, you may be left with pointless abstractions.</p>\n<p>That‚Äôs why A/B test code should be built to be as easy to delete as possible. The code you write for a test isn‚Äôt something you‚Äôll maintain long-term ‚Äî it‚Äôs something that gets deleted after a week-long test at most.</p>\n<p>You might say ‚Äújust revert the commit since we have Git,‚Äù but that only works when the Control wins. If the new Variant wins, a revert is useless.</p>\n<p>In cases like this, forget abstraction ‚Äî just copy the entire page, route to <code class=\"language-text\">/test-page/a</code> or <code class=\"language-text\">/test-page/b</code> based on the A/B test variable, and when results come in, cleanly delete the losing page. That might actually be the better design.</p>\n<p>If you develop with a narrow, programming-only perspective without considering these business realities, you might end up doing perfectly solid design work only to receive ‚Äúoverengineering‚Äù feedback ‚Äî which is a truly sad outcome.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In this post, I‚Äôve talked about the relationship between business and application design. Honestly, more experienced developers probably already know all of this.</p>\n<p>But for developers who are just starting out, it‚Äôs common for their overflowing enthusiasm to be channeled entirely into programming-related work ‚Äî refactoring architecture, adopting new and efficient technologies. When I first started as a developer, I was the same way. I said we needed to refactor all the legacy code without considering any business context, and received feedback to broaden my perspective. <del>(Embarrassingly, at the time I thought the person giving that feedback was just being stubborn‚Ä¶)</del></p>\n<p>Of course, as a developer myself, I get excited about open-for-extension architectures, clearly separated modules, and side-effect-free functions. But at the end of the day, I‚Äôm employed by a company, entangled with countless stakeholders and users who use my product. Realistically, it‚Äôs hard to do only what I want without considering any of that.</p>\n<p>Just as developers value good design and paying off tech debt, designers value UI/UX, and CEOs value management. And most crucially, users only care about the experience they have while using the service.</p>\n<p>Because everyone prioritizes different values, I wanted to use this post to say that developers shouldn‚Äôt have a narrow perspective focused solely on the application.</p>\n<p>That‚Äôs all for this post on why good developers care about business.</p>","fields":{"slug":"20201024-buisiness-with-programming-en","path":"/2020/10/24/buisiness-with-programming/en/","lang":"en"},"frontmatter":{"title":"Why Good Developers Care About Business","subTitle":"Software engineering is more than code ‚Äî it's understanding markets and people","date":"Oct 24, 2020","categories":["Essay"],"tags":["Good Design","Effective Developer","Startup","Business"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/98be92b406bd23618e3ed1e3eecb9ada/3a812/thumbnail.jpg","srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/3a812/thumbnail.jpg 320w,\n/static/98be92b406bd23618e3ed1e3eecb9ada/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/fc5c5/thumbnail.webp 320w,\n/static/98be92b406bd23618e3ed1e3eecb9ada/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/98be92b406bd23618e3ed1e3eecb9ada/2d839/thumbnail.jpg","srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/98be92b406bd23618e3ed1e3eecb9ada/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"a670b023-5d3b-59cb-a217-8dbd6c594eba","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-basics-of-cors\">The basics of CORS</a></p>\n<ul>\n<li><a href=\"#what-is-origin\">What is Origin?</a></li>\n<li><a href=\"#sopsame-origin-policy\">SOP(Same-Origin Policy)</a></li>\n<li><a href=\"#same-origin-and-different-origin\">Same origin and different origin</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#how-does-works-cors\">How does works CORS?</a></p>\n<ul>\n<li><a href=\"#preflight-request\">Preflight Request</a></li>\n<li><a href=\"#simple-request\">Simple Request</a></li>\n<li><a href=\"#credentialed-request\">Credentialed Request</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#how-to-solve-cors-policy-violations-problem\">How to solve CORS policy violations problem.</a></p>\n<ul>\n<li><a href=\"#setting-access-control-allow-origin\">Setting Access-Control-Allow-Origin</a></li>\n<li><a href=\"#reverse-proxying-with-webpack-dev-server\">Reverse proxying with Webpack Dev Server</a></li>\n<li><a href=\"#wouldnt-it-be-possible-to-put-the-request-in-the-img-tag\">Wouldn‚Äôt it be possible to put the request in the img tag?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#epilogue\">Epilogue</a></p>\n</li>\n</ul>","excerpt":"In this post, I‚Äôm going to talk about the CORS(Cross-Origin Resource Sharing) policy which every web developer would have heard of at least once. In fact, in web development, it is not an exaggeration to say that errors occur with CORS policy violations are very common, and every web developer will experience it at least once.","html":"<p>In this post, I‚Äôm going to talk about the CORS(Cross-Origin Resource Sharing) policy which every web developer would have heard of at least once. In fact, in web development, it is not an exaggeration to say that errors occur with CORS policy violations are very common, and every web developer will experience it at least once.</p>\n<!-- more -->\n<p>When I was in college, I first encountered this issue while making a toy project with my friends. At the time, I was making a client application in a local environment, and I tried to communicate with the API of a development server made by a friend.</p>\n<p>This was a simple task to communicate with the API server to receive data, but as soon as I tried to communicate, an unknown red message appeared on the console.</p>\n<blockquote>\n<p>üö® Access to fetch at ‚Äô<a href=\"https://api.lubycon.com/me\" target=\"_blank\" rel=\"nofollow\">https://api.lubycon.com/me</a>‚Äô from origin ‚Äòhttp://localhost:3000‚Äô has been blocked by CORS policy: No ‚ÄòAccess-Control-Allow-Origin‚Äô header is present on the requested resource. If an opaque response serves your needs, set the request‚Äôs mode to ‚Äòno-cors‚Äô to fetch the resource with CORS disabled.</p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABAD/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAQoJBIk23//EABsQAAICAwEAAAAAAAAAAAAAAAECABEDEjEz/9oACAEBAAEFAkaiVXSpj6PQAT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAABECD/2gAIAQEABj8CcE//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMRBBcbH/2gAIAQEAAT8hSv8AJSUAnYb4bfI2i8XEGSf/2gAMAwEAAgADAAAAEOwP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/EByf/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAECAQE/EDWb/8QAGhABAQEBAQEBAAAAAAAAAAAAAREAIWFRcf/aAAgBAQABPxB6coHKy1h6dHhua+ZKr7xKkCF5lSK383//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"what\" title=\"\" src=\"/static/34d40d58a5f3a94ac3dce372aa54cd71/c08c5/what.jpg\" srcset=\"/static/34d40d58a5f3a94ac3dce372aa54cd71/0913d/what.jpg 160w,\n/static/34d40d58a5f3a94ac3dce372aa54cd71/cb69c/what.jpg 320w,\n/static/34d40d58a5f3a94ac3dce372aa54cd71/c08c5/what.jpg 640w,\n/static/34d40d58a5f3a94ac3dce372aa54cd71/80e3c/what.jpg 720w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>CO...What...? Access control allow origin...?</small>\n</center>\n<p>If I think about it now, it‚Äôs an error message that kindly tells me how to fix it, but I didn‚Äôt know what to do after seeing this message because I had little experience in developing web applications at the time.</p>\n<h2 id=\"the-basics-of-cors\" style=\"position:relative;\">The basics of CORS<a href=\"#the-basics-of-cors\" aria-label=\"the basics of cors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As such, all of the CORS-related issues we encounter arise from violations of CORS policies. Developers may be annoyed as there are more things to care about when developing because of that policy, but in fact, there is a barrier like CORS, so we can get a minimum guarantee that the resources we bring from other server are safe.</p>\n<p>CORS is short for ‚ÄúCross-Origin Resource Sharing‚Äù. Actually ‚ÄúCross Origin‚Äù means ‚ÄúDifferent Origin‚Äù. but I think that non-English people hard to understand this because we don‚Äôt understand the nuances of the English word ‚ÄúCross‚Äù.</p>\n<p>So I‚Äôm writing this post using the word ‚ÄúDifferent origin‚Äù instead of ‚ÄúCross Origin‚Äù for a little easier understanding of non-English speaking people like me.</p>\n<p>Then, before looking at the resource sharing between different origins, let‚Äôs simply dig into what exactly this <code class=\"language-text\">Origin</code> means and proceed.</p>\n<h3 id=\"what-is-origin\" style=\"position:relative;\">What is Origin?<a href=\"#what-is-origin\" aria-label=\"what is origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>URLs like <code class=\"language-text\">https://google.com</code>, which means the location of the server, look like a single string, but are actually made up of several components.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVR42h2MX0+CcAAA+f6PPbae6qG1XGuKytLE0JW62nKaGvkPDIQE4YdoU9CLtd12u5eTzu47XFSGeJsDJCdadQM590qzOmUfgxMbKN0cxbcbpmKIOzBoXSt08xqd2xpiPMbvFdHVK8LhI1LP8Jk4EftsRsba22HO1qzcmGMKv8cYOzRZ+FM2qWAf7fCNJYHhElgrku2GJLLYOmMSYSP1TcHsZ4tpBlhGgGOJzAJ7EWKZ4b8d8Z1N5wT2D2KxIlr6rOcOke0RZB27LgdvwilNkM4rIy61GaXyEK2sUyuOqCs6VXnAk/KF+tCnNpBR9QJdrYFeavOptBnIz/TzDT4KLyyaKv77Hek24A//mh4jJrvfIAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"uri structure\" title=\"\" src=\"/static/e25190005d12938c253cc72ca06777b1/6af66/uri-structure.png\" srcset=\"/static/e25190005d12938c253cc72ca06777b1/69538/uri-structure.png 160w,\n/static/e25190005d12938c253cc72ca06777b1/72799/uri-structure.png 320w,\n/static/e25190005d12938c253cc72ca06777b1/6af66/uri-structure.png 640w,\n/static/e25190005d12938c253cc72ca06777b1/d9199/uri-structure.png 960w,\n/static/e25190005d12938c253cc72ca06777b1/21b4d/uri-structure.png 1280w,\n/static/e25190005d12938c253cc72ca06777b1/5bd27/uri-structure.png 1432w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <br>\n</center>\n<p>The origin means protocol and host, and port numbers such as <code class=\"language-text\">:80</code> and <code class=\"language-text\">:443</code>. In other words, it puts together the most basic things we need to find the location of the server.</p>\n<p>Also, as shown in the figure above, the port number in the origin can be omitted, because the default port number of the HTTP and HTTPS protocols used in each web is set. We can find the default port number defined in the <a href=\"https://tools.ietf.org/html/rfc2616#section-3.2.2\" target=\"_blank\" rel=\"nofollow\">RFC 2616</a> document where HTTP is defined.</p>\n<blockquote>\n<p>3.3.2 http URL</p>\n<p>‚Ä¶<br />\n<strong>If the port is empty or not given, port 80 is assumed.</strong> The semantics are that the identified resource is located at the server listening for TCP connections on that port of that host, and the Request-URI for the resource is abs_path (section 5.1.2).<br />\n‚Ä¶</p>\n</blockquote>\n<p>If a port number is explicitly included in the origin, such as ‚Äù<a href=\"https://google.com:443\" target=\"_blank\" rel=\"nofollow\">https://google.com:443</a>‚Äù, it is recognized that the origin is the same only if all port numbers match. However, since clear rules for this case are not established as standards, the evaluation of the origin may vary in some cases.</p>\n<p>We can easily find out origin which application is running from by accessing the <code class=\"language-text\">origin</code> property of the <code class=\"language-text\">Location</code> object from the browser‚Äôs developer tools console.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">\"https://evan-moon.github.io\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"sopsame-origin-policy\" style=\"position:relative;\">SOP(Same-Origin Policy)<a href=\"#sopsame-origin-policy\" aria-label=\"sopsame origin policy permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>There are two policies in the web ecosystem that limit requests for resources from other origins. One is CORS, the topic of this post, and the other is SOP(Same-Origin Policy).</p>\n<p>SOP is a web security policy first defined by <a href=\"https://tools.ietf.org/html/rfc6454#page-5\" target=\"_blank\" rel=\"nofollow\">RFC 6454</a> in 2011. It is literally a policy with the rule that ‚Äúyou can only share resources from the same origin‚Äù.</p>\n<p>However, the web is an open space environment, and it is very common to bring and use resources from different origins, so it cannot be banned without exception. So they defined some exception cases and decided to allow requests for resources contained in these exceptions, even if the resources originate differently. One of the exceptions is ‚Äúrequest for a resource that does not violate the CORS policy‚Äù. <small>(The name CORS first appeared in 2009, which is faster than SOP.)</small></p>\n<blockquote>\n<p>Access to network resources varies depending on whether the resources are in the same origin as the content attempting to access them.</p>\n<p>Generally, reading information from another origin is forbidden.\nHowever, an origin is permitted to use some kinds of resources retrieved from other origins. For example, an origin is permitted to execute script, render images, and apply style sheets from any origin.  Likewise, an origin can display content from another origin, such as an HTML document in an HTML frame. <strong>Network resources can also opt into letting other origins read their information, for example, using Cross-Origin Resource Sharing.</strong></p>\n<p><a href=\"https://tools.ietf.org/html/rfc6454#section-3.4.2\" target=\"_blank\" rel=\"nofollow\">RFC 6454 - 3.4.2 Network Access</a></p>\n</blockquote>\n<p>If we request a resource from a different origin, it violates the SOP policy, and if we do not comply with the CORS policy, which is an exception to the SOP, the resource of a different origin cannot be used at all.</p>\n<p>In other words, the act of restricting the use of resources of different origins is not a matter determined by only one policy. If the exception case defined in the SOP and the cases that can use CORS do not match, we may can not use resources from other origins.</p>\n<p>But why are these people making such annoying policies to bother developers? As we know, the developer would write the code to communicate only with the specified server anyway.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 436px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVR42n2SSY8BURSF679b2FlYCRsrFoYQiTKEhZipUkgtSMxCRIUgZl73R3UjnVTfxctL3jn3nHvuk/r9vqZp9Xq92WxOp9PZbGYYxna7FUJ8/VsApG6322g0yuUytOVyyZ0WnJ1OB8TxeLzf75bkYrEYi8UqlQpq7Xa7Wq3SDi+ZTGa9XtNuv99bkvP5fCKRqNVq0CDrup7NZoPBoKIo3AG9lMVvvcmlUkl7Fnzmx0IkErHZbF6vN5lMmiBL5V6vh6Df7+dyOp0YweVy2e12h8PhdDpvt5sJxTxZEMRgMHiTd7sdUXs8nsViAYIIotEoLRgHMqDD4TCZTDBFihhUVZVor9crT5L+rEKhsNlsAPEQCoUYO51OswJTczQajcdjXhEfDodc2MKD3Gq1fD4f2a5WK0wCRWE+n8O0WtLbNjnhUJZlNkRXJue3oExar6/Ceblc6PUZ+E/axItt5VmYT6VSbrc7Ho8TOKsGhyMSOZ/Pn+E/yKw0l8vRArdoYjscDpsDBwIBjJg4EvqzMyHEN7KqfRhZKKGAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"trust\" title=\"\" src=\"/static/b7814fc71828e37d43c7516e4d1314ab/8574c/trust.png\" srcset=\"/static/b7814fc71828e37d43c7516e4d1314ab/69538/trust.png 160w,\n/static/b7814fc71828e37d43c7516e4d1314ab/72799/trust.png 320w,\n/static/b7814fc71828e37d43c7516e4d1314ab/8574c/trust.png 436w\" sizes=\"(max-width: 436px) 100vw, 436px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Can't you just trust the developer...?</small>\n</center>\n<p>However, if we think about it a little more, the environment in which two applications in different origins can communicate freely is a pretty dangerous environment.</p>\n<p>We must not forget that client applications, especially client applications running on the web, are too vulnerable to malicious attacks from users.</p>\n<p>When users use Chrome‚Äôs developer tools, they can check without any restrictions on a number of important information, such as the structure of the DOM, which server the client communicates with, and where the resource comes from.</p>\n<p>Some say it‚Äôs hard to read because we uglify the JavaScript source code, but uglify is only uglify, not encryption.</p>\n<p>And even if the source is uglified, it‚Äôs not even incomprehensible to humans, and being able to directly view the source code is a very dangerous part of security.</p>\n<p>In this situation, if there are no rules for applications of different origins to communicate with each other, then the bad user can reads the source code and uses a method like <a href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery\" target=\"_blank\" rel=\"nofollow\">CSRF(Cross-Site Request Forgery)</a>ÎÇò <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" target=\"_blank\" rel=\"nofollow\">XSS(Cross-Site Scripting)</a> to pretend the code was executed in your application.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOklEQVR42h2U6VOb1xXG34+1IXZKIA7E7ELbqw3QBpLQDgKtaEP7hgRCGIyDTcDO4mbB43ZiY8fJOElrT1s3JomXJDNO63xIZzxtPfmrfr2TD2feO/c955nnPOc5Vxo9bWGoZ5rB3mmG+qwo+21o+q2Yxr045EWW7DnqS5ts5Q9oxM5Rim6xGDnPbOoAg7OFWk4xPOShX2D0ntAhjffMMt7vQTnkY3xgFtWgA+OwkxllgIAxzlpii92dI/zeIhF3jlaqQ75wBU/2ALu3hVEfRx4LMNAzRV+XEUkeWmJidF6EF9WwC51gZlGHcJoSRJwFGpU/4LDlOKps86/PH9As7lCrXSGauYTLWWHKlMYgx1Eqwpwd8CBZ5AImXQq9NoJBu4jZEBcABfxzdSKBFirdMiGDl0/XLvHggxuU0xvk8rsko+fwuOrYXU2mZhvorWWUchLJ59rA5aoy68jjcORwO3MEgk3CS21i4Q3OvDlLyuzluwuH/HLzz1y9eEg82iSb2CYitA2E2rhEvt1dwSY6kgqhfZKBLZLBDqng+m+RXdiknr7MWv59oVEWs8LMwwtXebL/CdvVPfILbdaFhuXINvnQJunf6tokxFdq2S5TmBRCT7UpWTvkJlusBi5ybuMu5dw1MtH3UEyEsSkdhF1RMkK3Ded56rYOdfMaeWOV/GSToqXDimUTqW65TEq3yrK+SkxfIGbI0SxcI527js8v2oruEgjsoJcTDA45WDQVWDGUBIEqUTlLwlAhZqoRMTVIWDaQyuaLJOV1otoKcXmFqDFHu3mLRvMzMplDPO4WoUUxhPQ+s84aobDIXzogPFljQeQ7FAn8+hIBUx2vro4UVlSJqJuk9GuExjO4JzM0WncoVsREazfw+7ZwOhqEhZmdzjru+R1cCx08tnV86jQBfZGpsWXc2jJh0xpSaXqPrHGLqKpJQJHDPJUjnfmAWOx9YtF3mBcA7jnxz9fG42kzaSkj68IEvdvMjERERw3hgm28qnVCmm2kqnmPiKpFTFknZVhHFl6ac68LZptYbBVRHMUgNsZsEe05myjGfRgE4Jyrw4JGSKBep+Z4hw3/TXK260hxVYOliToZfZuq7QJabUIUFxgWW9PXo+GNPh29vTJnzhh4rc+ASXayFDrPnHcLj7pBcKzKvKJBxb5HybaP5B1KE1bXWLW/RVCuoJlcEYySwipR3nxdj10bZPTsDD2vTjAx5kWtCmG25jHbK8xM5HENruAbLeIeEZM3X0ByD6ep23eIjBUxjyToF8y0wsyjijiviRfoZNc4r3SP0d09yunTKvr7pxk4a0ejXMA+ssLMwAp+AeYbreEbqSE1gpeI21q4lVlmNEl0kyki2XeJJHfFKtVw+1fx+8s4PEUmp+dRquwYJ0KURV1IaL48vSVavUjJeYXUzFtIuxuf8vjrn7l8/g73vvqJu1/+zMF79/j46Dt+/P4l9/7xgmfPXvLo6a88++evPPnhvzy6/ws/fPOS29ee8s2959x695jn3/+Pm/t3kTqrh9z46AF/vf2Iq29/xZPjf3P04Rf86aP7HH3ymNs3n/Lj8X+48fFDrh8e8+3fXnD/L895evyCv996LHIfcOePD7l9/Vv20gdI1okEVmUSvzGDeTiMTiu0cS4zbYmgNUaxzdWYdWWR9SEhRwybY4UpcR82lng7+yE55zZLpjIBYex5TRHp7EkbQ112Bk5YGRTngVfsnOq1cqJbSdcpJd2n1fS9MS0sY6T71DgnRbx+Souyy0NQUyLr6DDyOyfy7/2oX/Xwf+8f/ytffeuZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hacker\" title=\"\" src=\"/static/8d7b67f798121b900eda125cf4e20698/6af66/hacker.png\" srcset=\"/static/8d7b67f798121b900eda125cf4e20698/69538/hacker.png 160w,\n/static/8d7b67f798121b900eda125cf4e20698/72799/hacker.png 320w,\n/static/8d7b67f798121b900eda125cf4e20698/6af66/hacker.png 640w,\n/static/8d7b67f798121b900eda125cf4e20698/c5bb3/hacker.png 680w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  </div>\n  <small>I think that gonna be fun to inject my script on this site...!\n  <br>\n  <br>\n</small></center>\n<p>Now, we keep talking on the subject of the same origin and different origins, so exactly in what cases does the web evaluate the origins as the same, and in what cases does the origins differ?</p>\n<h3 id=\"same-origin-and-different-origin\" style=\"position:relative;\">Same origin and different origin<a href=\"#same-origin-and-different-origin\" aria-label=\"same origin and different origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The logic for determining that the two origins are the same is very simple. Among the components of the two origins, only the three components, scheme, host, and port, need to be the same.</p>\n<p>For example, the origin of my blog, <code class=\"language-text\">https://evan-moon.github.io</code>, is recognized as the following.</p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th>isSame</th>\n<th>reason</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.io\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io</a></strong>/about</td>\n<td>O</td>\n<td>Scheme, Host, Port is same</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.io\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io</a></strong>/about?q=ÏïàÎáΩ</td>\n<td>O</td>\n<td>Scheme, Host, Port is same</td>\n</tr>\n<tr>\n<td>**https://**user:password@<strong>evan-moon.github.io</strong></td>\n<td>O</td>\n<td>Scheme, Host, Port is same</td>\n</tr>\n<tr>\n<td><strong><a href=\"http://evan-moon.github.io\" target=\"_blank\" rel=\"nofollow\">http://evan-moon.github.io</a></strong></td>\n<td>X</td>\n<td>Scheme is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://api.github.io\" target=\"_blank\" rel=\"nofollow\">https://api.github.io</a></strong></td>\n<td>X</td>\n<td>Host is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.naver.com\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.naver.com</a></strong></td>\n<td>X</td>\n<td>Host is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.com\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.com</a></strong></td>\n<td>X</td>\n<td>Host is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.io:8000\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io:8000</a></strong></td>\n<td>?</td>\n<td>Depends on browser spec</td>\n</tr>\n</tbody>\n</table>\n<p>In the last case, if my blog origin has a port number, such as <code class=\"language-text\">https://evan-moon.github.io:80</code>, it is evaluated as a clearly different origin. However, in this case it is ambiguous to judge because the port number is not included to example origin. RFC 6454‚Äôs <a href=\"https://tools.ietf.org/html/rfc6454#section-5\" target=\"_blank\" rel=\"nofollow\">Comparing Origins</a> section presupposes ‚ÄúIf the two origins are scheme/host/port triples‚Ä¶‚Äù, and the implementation of this rule may vary depending on how it is interpreted.</p>\n<p>So in this case, each browser‚Äôs own origin comparison logic is followed.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAYAQACAwAAAAAAAAAAAAAAAAABAgADBP/aAAwDAQACEAMQAAABis00VbKEbqzBAB//xAAcEAACAgIDAAAAAAAAAAAAAAABAgADEjETISP/2gAIAQEAAQUCzsmdhis0K97Ka4/RQUZa5//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASH/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BWNa//8QAGxAAAQUBAQAAAAAAAAAAAAAAAAECESIxMnH/2gAIAQEABj8CW7jtx0oueSVaYSS1TT//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhQVFhwf/aAAgBAQABPyFdZULuXQ0dldvA9gdFwBIRa0sQL12USnHK+ym26rJMTe/J/9oADAMBAAIAAwAAABDgyD3/xAAYEQEBAQEBAAAAAAAAAAAAAAABABEhMf/aAAgBAwEBPxDV3seQAgL/xAAYEQADAQEAAAAAAAAAAAAAAAAAARExUf/aAAgBAgEBPxCLgi4U3BtT/8QAHBABAQEAAwADAAAAAAAAAAAAAREAIUFRYYHx/9oACAEBAAE/EBMhgH65SElvN02lhzfRnCKbYVl06i8UTESR6V4YBZtplevlouawqR+89wVav73/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ie is trash\" title=\"\" src=\"/static/a21288d9ab75a6714b1f5a752d171ce4/c08c5/ie_is_trash.jpg\" srcset=\"/static/a21288d9ab75a6714b1f5a752d171ce4/0913d/ie_is_trash.jpg 160w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/cb69c/ie_is_trash.jpg 320w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/c08c5/ie_is_trash.jpg 640w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/6a068/ie_is_trash.jpg 960w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/fb914/ie_is_trash.jpg 998w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  </div>\n  <small>\n    Internet Explorer is the only browser that completely ignores port numbers when comparing origins.<br>So let's throw it to the trashcan now.<br>\n    <a href=\"https://www.memedroid.com/memes/detail/2429165/internet-explorer-is-crap\" target=\"_blank\">- memdroid -</a>\n  </small>\n  <br>\n  <br>\n</center>\n<p>The important thing is that this origin comparison logic is not a specification implemented in the server, but a specification implemented in the browser.</p>\n<p>Even if we make a request for a resource that violates the CORS policy, the server responds normally unless the server has logic that only allows requests from the same origin. And the browser checks the headers of this response, and if it determines that the request it sent violates the CORS policy, the response is discarded without using the response.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVR42lWSS0/CQBSF+b1ujAaBCiSAsDea4IKF8gtcmBCjwQcrg4muNJEYIlCoIH2ldMp0Oj3eKeDjNqd3krn97pneSUVRBMZ8cM7Bl8uVaL2krPZUxPF/qXAcC2N9iPF4QllHv98nDkOKcwVhkFIiomqpRGtBsHDpQfI5PHsE3x1T1ilPCGejc3MBLbuNXG4f1eoBCoUCBoMBUkII6rpuO52ttHYlQoZYeBAEXrhf8NwZAmbDF3O02y1k93aQ0zRUKhUUi0Xo5DQBqq/V0+1eY/TUIpwgp/QOTMTcIJc2QjaDYHMw38DL7Bmtq3PktQzy+QJqtRrK5fIvcOPwPfqEFX0kDcL7O/DTM4jXN8iNZQr1O1R0bi+xt7uFdDqDUqkEjZwOh8MVUEkVxmQrpvogCGBSt2mvB2c6RahOgTiRlKtBPXYfcHx0iHr9BM1mE41GA4ZhIKU2XddN5LgOTc+GZVlY0MTkGvMz2j8R0C0wTSupdRwHvu8nJ/0GiJD+Yn5vu6MAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cors\" title=\"\" src=\"/static/d4d623ba331c1d7851e7000c11cd3809/6af66/cors.png\" srcset=\"/static/d4d623ba331c1d7851e7000c11cd3809/69538/cors.png 160w,\n/static/d4d623ba331c1d7851e7000c11cd3809/72799/cors.png 320w,\n/static/d4d623ba331c1d7851e7000c11cd3809/6af66/cors.png 640w,\n/static/d4d623ba331c1d7851e7000c11cd3809/d9199/cors.png 960w,\n/static/d4d623ba331c1d7851e7000c11cd3809/21b4d/cors.png 1280w,\n/static/d4d623ba331c1d7851e7000c11cd3809/f4fb1/cors.png 1766w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>The server responds normally even if the request violates CORS,<br>and the browser decides whether to discard the response</small>\n</center>\n<p>In other words, CORS is a policy included in the browser implementation specification, so this policy does not apply when communicating between servers without going through a browser. so, even if an error occurs in the client application due to a resource request that violates the CORS policy, only logs about succeessful responded is recorded in server. So if we don‚Äôt know exactly how CORS works, it can be difficult to solve CORS problem.</p>\n<h2 id=\"how-does-works-cors\" style=\"position:relative;\">How does works CORS?<a href=\"#how-does-works-cors\" aria-label=\"how does works cors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now, we will have a close look at how we can safely use resources with different origins.</p>\n<p>Basically, when a web client application requests a resource of a different origin, the HTTP protocol is used, and the application includes the origin of the current resource request in the <code class=\"language-text\">Origin</code> field in the request header.</p>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\"><span class=\"token header\"><span class=\"token header-name keyword\">Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evan-moon.github.io</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Thereafter, when the server responds to this request, it returns the ‚Äúorigin allowed to access this resource‚Äù in the ‚ÄúAccess-Control-Allow-Origin‚Äù field of the response header. And the browser compares the <code class=\"language-text\">Origin</code> in the request header sent by itself with the <code class=\"language-text\">Access-Control-Allow-Origin</code> in the response header sent by server, and determines whether this response is a valid response.</p>\n<p>Although the basic flow of CORS is simple, in fact, the way CORS works is changed according to three scenarios rather than one. That‚Äôs why it will be easier to fix errors due to CORS policy violations if we understand what scenario our resource request is in.</p>\n<h3 id=\"preflight-request\" style=\"position:relative;\">Preflight Request<a href=\"#preflight-request\" aria-label=\"preflight request permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Preflight is the most common scenario we encounter when developing web applications. In this scenario, the browser does not send the request at once, but divides it into a preflight request and a main request and sends them to the server.</p>\n<p>And for this preflight request, the HTTP method <code class=\"language-text\">OPTIONS</code> is used. The role of the preflight request is to make sure it is safe to send this request by the browser itself before sending it.</p>\n<p>This process can be roughly expressed as a simple flow chart.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVR42mNgYGDQBGJDIBZmgABGKAYBQVYGBgMuBgZJEKeegYHpP1QORP9HUsvJwCANpNRBbBYIHyzBdOnSJT0g1oAayATE3EgW4ANAuxnYQAxmIOYDYnaQ4MaNGyN37NjhAzZERYXdhYFB6ikDA9f/GzdE/q1dK7OnsFB6e1WV5ImyMpnN6enS/48ckfp/9KjYFAYGnmKI5WADOZCtgnqH5b+WFlsbMCj0gAof3Lu36ea1ay/279595+jhw/fOnDx579CBA3euX7364tXz5xtBPing4pLEMPD///+MjywsOIEGqgGxai4PjyhI/OrVq84fvnyp/fbjR9mtu3crHj99Wv7t16+yV2/e1F+5ccMGFDy9fHxCWF2I5EqmdCEhUGAz3rl2LfLB7dvPH929e/fEkSMPTgLx/du37zy6d+/N7y9f3EBqFikpieE0EGgkOCKiVcz4nuu5cm8y9uGqF1LhywWGNTC2WSBYnmOimQffc9di7lVKxvxpxsZceAyEAPHAbjEG7wpBhtB6HoaYRdxbDp2IPHL2Ytne4+cq9py4GMLAEMomFL2Yj8E4UJLbtRjVhaDwq6//zwQ2qe2/MHvzf0V5+3wBZAsunz2u+ebxY4tbF89YXDx1Sh052cgkz8Ydhgz1/7l4J/8XFrKIk+bn1xdgAHobjIEad+4+kHXg8NE0kDJR+1Aecb0Ybn45G0GZ0F6wgSyCgoL8IMaxY8d0b926FXLjxo1QIFYEiUk5xwprZe3nUZl4i92i9xgniN26bI9467JL4sb1T7nk6/dz2M//z6EUOpNf1D6LB2wgLy8vONvt3LnTeM+ePTG7du2KnT9/KSi3MAoJCfGRk1PY8SgEBkc9EyLm/zNiskHAGGwgAL767TM7F884AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cors preflight\" title=\"\" src=\"/static/c86699252752391939dc68f8f9a860bf/6af66/cors-preflight.png\" srcset=\"/static/c86699252752391939dc68f8f9a860bf/69538/cors-preflight.png 160w,\n/static/c86699252752391939dc68f8f9a860bf/72799/cors-preflight.png 320w,\n/static/c86699252752391939dc68f8f9a860bf/6af66/cors-preflight.png 640w,\n/static/c86699252752391939dc68f8f9a860bf/d9199/cors-preflight.png 960w,\n/static/c86699252752391939dc68f8f9a860bf/21b4d/cors-preflight.png 1280w,\n/static/c86699252752391939dc68f8f9a860bf/2b36a/cors-preflight.png 2268w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Î∏åÎùºÏö∞Ï†ÄÎäî Î≥∏ ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Í∏∞ Ï†Ñ ÏòàÎπÑ ÏöîÏ≤≠ÏùÑ Î®ºÏ†Ä Î≥¥ÎÇ¥Í≥†, ÏöîÏ≤≠Ïùò Ïú†Ìö®ÏÑ±ÏùÑ Í≤ÄÏÇ¨ÌïúÎã§</small>\n</center>\n<p>When we use JavaScript‚Äôs fetch API to tell the browser to fetch a resource, the browser sends a preflight request before sending the main request to the server. And in response to this preflight request, the server sends back to the browser with information about what was allowed and what was banned in the response header.</p>\n<p>After that, the browser compares the preflight request sent by itself with the permission policy included in the response from the server, and if it determines that it is safe to send main request, it sends the request again to the same endpoint. Then, when the server responds to this main request, the browser finally passes this response data to JavaScript.</p>\n<p>This flow can be reproduced simply in the browser‚Äôs developer tools console. In my blog environment, if we send a request to the RSS file resource of my Tistory blog, we can check that the browser sends a preflight request using the  ªOPTIONS` method before sending main request.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> headers <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Headers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'text/xml'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://evanmoon.tistory.com/rss'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> headers <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">OPTIONS https://evanmoon.tistory.com/rss\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">*/*</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept-Encoding</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">gzip, deflate, br</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept-Language</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">en-US,en;q=0.9,ko;q=0.8,ja;q=0.7,la;q=0.6</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Request-Headers</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">content-type</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Request-Method</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">GET</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Connection</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">keep-alive</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Host</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">evanmoon.tistory.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evan-moon.github.io</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Referer</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evan-moon.github.io/2020/05/21/about-cors/</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Sec-Fetch-Dest</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">empty</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Sec-Fetch-Mode</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">cors</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Sec-Fetch-Site</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">cross-site</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If we check the header of the preflight request sent by the browser as in the example above, we can see that information on the main request to be sent after the preflight request is also included, not just information about <code class=\"language-text\">Origin</code>.</p>\n<p>The browser notice to server that it will use the <code class=\"language-text\">Content-Type</code> field or the <code class=\"language-text\">GET</code> method in the main request through the <code class=\"language-text\">Access-Control-Request-Headers</code> field or the <code class=\"language-text\">Access-Control-Request-Method</code> field of the preflight request.</p>\n<p>browser has sent a preflight request to the Tistory server, now Tistory server to send a response to preflight request which browser sent.</p>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">OPTIONS https://evanmoon.tistory.com/rss 200 OK\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Allow-Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evanmoon.tistory.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Encoding</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">gzip</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">699</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/xml; charset=utf-8</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Sun, 24 May 2020 11:52:33 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">P3P</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">CP='ALL DSP COR MON LAW OUR LEG DEL'</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Server</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Apache</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Vary</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Accept-Encoding</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">X-UA-Compatible</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">IE=Edge</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>What we need to note in this response is the value <code class=\"language-text\">Access-Control-Allow-Origin: https://evanmoon.tistory.com</code> included in the header.</p>\n<p>The Tistory server told the browser that the only origin that could access this resource is <code class=\"language-text\">https://evanmoon.tistory.com</code>. However, the origin I sent this request to is <code class=\"language-text\">https://evan-moon.github.io</code>, which is different from the origin allowed by the server.</p>\n<p>Therefore, the browser determines that this request violates the CORS policy and throws the following error.</p>\n<blockquote>\n<p>üö® Access to fetch at ‚Äô<a href=\"https://evanmoon.tistory.com/rss\" target=\"_blank\" rel=\"nofollow\">https://evanmoon.tistory.com/rss</a>‚Äô from origin ‚Äòhttps://evan-moon.github.io‚Äô has been blocked by CORS policy: Response to preflight request doesn‚Äôt pass access control check: The ‚ÄòAccess-Control-Allow-Origin‚Äô header has a value ‚Äòhttp://evanmoon.tistory.com‚Äô that is not equal to the supplied origin. Have the server send the header with a valid value, or, if an opaque response serves your needs, set the request‚Äôs mode to ‚Äòno-cors‚Äô to fetch the resource with CORS disabled.</p>\n</blockquote>\n<p>Here, we are confused because the error is displayed in red on the console window even though an error does not occur in the response to the prelight request and <code class=\"language-text\">200</code> status code is returned normally. In fact, errors caused by CORS policy violations have little to do with the success of the preflight request.</p>\n<p>This is because the browser determines whether the CORS policy is violated after receiving the response to the preflight request.</p>\n<p>Of course, even if the preflight request fails, it may be treated as a CORS policy violation, but more important thing is whether there is a valid Access-Control-Allow-Origin value in the response header. not whether the preflight request succeeds or fails. In other words, even if the preflight request fails and a status code <code class=\"language-text\">200</code> is not returned, if that value is properly entered in the header, it means that it is not a CORS policy violation.</p>\n<p>In most cases, the preflight scenario is used, in which the preflight request and the main request are divided, but in all situations, the request is not sent twice. Although this is a tricky condition, in some cases, it checks for CORS policy violations only with the main request without a preflight request.</p>\n<h3 id=\"simple-request\" style=\"position:relative;\">Simple Request<a href=\"#simple-request\" aria-label=\"simple request permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>There is no official name for this scenario, but MDN‚Äôs CORS document calls this scenario as <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Examples_of_access_control_scenarios\" target=\"_blank\" rel=\"nofollow\">Simple Request</a>, so I will just call it Simple Request.</p>\n<p>In the simple request scenario, after sending main request to the server without sending a preflight request, the server sends a value such as <code class=\"language-text\">Access-Control-Allow-Origin</code> in the response header of this main request, then the browser checks CORS policy violations. In other words, the preflight scenario and the simple request scenario have the same overall logic, and differ only in the presence or absence of a preflight request.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABx0lEQVR42mNgYGDQB2I5BkzADMSaQKwDxKwMhIECEGuDGFyhoaEgzQzLli0TP3HihJaxsTHIAEYgZgPJQ9T/Z4RgGEDn27MACQ4Qi8/CwoITxFi9erXz/v37a+3t7XmgrhIEYh4G4gAzzEBOnErs61kkfepFjNPOcJnVb+NLnn1MaM6G61LLzj6UWn/5rWz9pqci9ln7eYzrz3DJRbULimqBHYIw8P///4yrVq1ihnqXQav+Cg+vRoCwjAzEB4vXrpU5ePhY5YmzZ8v2HTrStGv/fhOQuEVoISevlIawiHuVJHYX1v/nYqj5ry5Y/xQUWdwgi4DYE4hjf/78Fnv6xIm4169fxgL5MUAcBsS8IG0asZOFcRnIxLDqP7N8/noBBmF1KfusLJ6r127uvXvv/usr127cP3jk6MMLFy89uHP33tN7Dx7ePn75Jig1cOjFTBODGwjyKtAmLigGB65x2kxWpdCZ/KGr/rPJ28/nYLBYxckQv59DZeI/dnkgLRO6ihNEg+RBwSPsV8rLwM3NLQ6KofXr1xscO3asF5hsJhw5ciQTGmPciGRDWiwz1tfXs0ycOJEdhIFsNmjEwNMWnnTIiEiHKuwAnnGz5V1xAocAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"simple request\" title=\"\" src=\"/static/d8ed6519e305c807c687032ff61240f8/6af66/simple-request.png\" srcset=\"/static/d8ed6519e305c807c687032ff61240f8/69538/simple-request.png 160w,\n/static/d8ed6519e305c807c687032ff61240f8/72799/simple-request.png 320w,\n/static/d8ed6519e305c807c687032ff61240f8/6af66/simple-request.png 640w,\n/static/d8ed6519e305c807c687032ff61240f8/d9199/simple-request.png 960w,\n/static/d8ed6519e305c807c687032ff61240f8/21b4d/simple-request.png 1280w,\n/static/d8ed6519e305c807c687032ff61240f8/2b36a/simple-request.png 2268w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>The simple request scenario is a scenario in which CORS violations are checked with the main request without a preflight request.</small>\n</center>\n<p>However, we can use a simple request. the preflight request can be omitted only when certain conditions are satisfied. Moreover, it is quite difficult to meet this requirement, so if we design your web application architecture in a generic way, it is almost impossible to meet it. So I hardly ever experienced such a case.</p>\n<hr>\n<ol>\n<li>The request method must be one of <code class=\"language-text\">GET</code>, <code class=\"language-text\">HEAD</code>, and <code class=\"language-text\">POST</code>.</li>\n<li>Headers other than <code class=\"language-text\">Accept</code>, <code class=\"language-text\">Accept-Language</code>, <code class=\"language-text\">Content-Language</code>, <code class=\"language-text\">Content-Type</code>, <code class=\"language-text\">DPR</code>, <code class=\"language-text\">Downlink</code>, <code class=\"language-text\">Save-Data</code>, <code class=\"language-text\">Viewport-Width</code>, and <code class=\"language-text\">Width</code> should not be used.</li>\n<li>If <code class=\"language-text\">Content-Type</code> is used, only <code class=\"language-text\">application/x-www-form-urlencoded</code>, <code class=\"language-text\">multipart/form-data</code>, and <code class=\"language-text\">text/plain</code> are allowed as values of this field.</li>\n</ol>\n<hr>\n<p>In fact, if we want to follow the condition 1, we just do not use some methods such as <code class=\"language-text\">PUT</code> or <code class=\"language-text\">DELETE</code>. So actually it is not difficult. However, it is not condition 2 or 3.</p>\n<p>Since the header fields specified in condition 2 are really basic fields, it is rare that an additional field is not used in a complex commercial web application. Even the <code class=\"language-text\">Authorization</code> header used for user authentication is not included in that condition.</p>\n<p>In addition, since we usually design HTTP APIs to have a content type of <code class=\"language-text\">text/xml</code> or <code class=\"language-text\">application/json</code>, it is not so easy to create a situation that satisfies all of these conditions in reality.</p>\n<h3 id=\"credentialed-request\" style=\"position:relative;\">Credentialed Request<a href=\"#credentialed-request\" aria-label=\"credentialed request permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The third scenario is how to use credential requests. This scenario is not the basic scenario of CORS, but it is additionally used when we want to strengthen the security in communication between different origins.</p>\n<p>Basically, the <code class=\"language-text\">XMLHttpRequest</code> object or <code class=\"language-text\">fetch</code> API, which is an asynchronous resource request API provided by the browser, does not include the browser‚Äôs cookie information or authentication-related headers in the request without any options. At this time, if we can include authentication-related information to request with <code class=\"language-text\">credentials</code> option.</p>\n<p>A total of 3 values can be used for this option, and the meaning of each value is as follows.</p>\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>same-origin (default)</td>\n<td>Authentication-related information can be included in request between same origin</td>\n</tr>\n<tr>\n<td>include</td>\n<td>Authentication-related information can be included in any request</td>\n</tr>\n<tr>\n<td>omit</td>\n<td>Authentication-related information can not be included in any request</td>\n</tr>\n</tbody>\n</table>\n<p>If we use options such as <code class=\"language-text\">same-origin</code> or <code class=\"language-text\">include</code> to include authentication information in a resource request, now the browser add some strict rules to CORS policy conditions, not only check the <code class=\"language-text\">Access-Control-Allow-Origin</code> field.</p>\n<p>Let‚Äôs take a closer look at which rules have been added through communication with the local environment where I am writing this post and the Github server hosting my blog.</p>\n<p>In my blog, the value of the <code class=\"language-text\">Access-Control-Allow-Origin</code> field is set to <code class=\"language-text\">*</code>, which means that all origins are allowed. So when someone requests a resource from other origin to my blog server, they are not constrained by CORS policy violations.</p>\n<p>So, even in a local development environment such as <code class=\"language-text\">http://localhost:8000</code>, we can request and retrieve resources at will by using <code class=\"language-text\">fetch</code> API.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://evan-moon.github.io/feed.xml'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">Request\nGET https://evan-moon.github.io/feed.xml\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">http://localhost:8000</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Referer</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">http://localhost:8000/2020/05/21/about-cors/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">Response\nGET https://evan-moon.github.io/feed.xml 200 OK\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Allow-Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">*</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Encoding</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">gzip</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1132748</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">application/xml</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Server</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">GitHub.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Status</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">200</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Also, the default value of <code class=\"language-text\">credentials</code> in Google Chrome browser is <code class=\"language-text\">same-origin</code>, which means that authentication-related information is used only within the same origin. So, in local environment, the resource request sent to <code class=\"language-text\">https://evan-moon.github.io</code> cannot contain authentication-related information such as browser cookies.</p>\n<p>That is why the browser simply checks the value of <code class=\"language-text\">Access-Control-Allow-Origin: *</code> and concludes that ‚ÄúThis request is safe‚Äù. However, if I change the <code class=\"language-text\">credentials</code> option to <code class=\"language-text\">include</code>, which means to include authentication-related information in all requests, and send the same request, the situation is a little different this time.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://evan-moon.github.io/feed.xml'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">credentials</span><span class=\"token operator\">:</span> <span class=\"token string\">'include'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Credentials is changed to \"include\"!</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>As we can see if we run this code in the browser console, this time, the <code class=\"language-text\">credentials: include</code> option was used to set the request to include authentication-related information unconditionally regardless of the same origin. So we can check that this request contains the browser‚Äôs cookie information.</p>\n<p>The Github server hosting my blog sent the same response this time, but the browser behavior changed a bit.</p>\n<blockquote>\n<p>üö® Access to fetch at ‚Äô<a href=\"https://evan-moon.github.io/feed.xml\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io/feed.xml</a>‚Äô from origin ‚Äô<a href=\"http://localhost:8000\" target=\"_blank\" rel=\"nofollow\">http://localhost:8000</a>‚Äô has been blocked by CORS policy: The value of the ‚ÄòAccess-Control-Allow-Origin‚Äô header in the response must not be the wildcard ‚Äô*‚Äô when the request‚Äôs credentials mode is ‚Äòinclude‚Äô.</p>\n</blockquote>\n<p>Browsers are saying that if the credentials mode is <code class=\"language-text\">include</code>, we should not use <code class=\"language-text\">*</code> in the <code class=\"language-text\">Access-Control-Allow-Origin</code> header field which meaning that all requests are allowed.</p>\n<p>Like this, when requesting a resource from other origins while authentication-related information is included in the request, the browser adds the two rules for checks for CORS policy violations.</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">*</code> can not be used in <code class=\"language-text\">Access-Control-Allow-Origin</code> field, and this value is must be an explicit URL.</li>\n<li><code class=\"language-text\">Access-Control-Allow-Credentials: true</code> is must contained in response header.</li>\n</ol>\n<hr>\n<p>This scenario, including authentication, may feel a bit more complicated than other scenarios. but if we know about various scenarios for CORS policy like this can greatly shorten the time spent wandering in case of a problem caused by a violation of CORS policy in real life. So, It is recommended to be familiar with it.</p>\n<h2 id=\"how-to-solve-cors-policy-violations-problem\" style=\"position:relative;\">How to solve CORS policy violations problem.<a href=\"#how-to-solve-cors-policy-violations-problem\" aria-label=\"how to solve cors policy violations problem permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>So far, we have looked at what CORS is and in what situations it is applied and violated. In this section, let‚Äôs look at what can be done when a problem occurs due to a violation of the CORS policy.</p>\n<h3 id=\"setting-access-control-allow-origin\" style=\"position:relative;\">Setting Access-Control-Allow-Origin<a href=\"#setting-access-control-allow-origin\" aria-label=\"setting access control allow origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The most representative way to solve the problem caused by CORS policy violation is that to just set an valid value in the <code class=\"language-text\">Access-Control-Allow-Origin</code> header in the server.</p>\n<p>Using the wildcard `*‚Äô means that we are accepting requests from all origins, so you can be comfortable right now. However, if you think about it in a different sight, it means that we will receive all requests from strange origins that you don‚Äôt know about. Therefore, if we solve the problem in this way, serious security issues may arise.</p>\n<p>So, even if it‚Äôs bother as much as possible, try to specify the origin like <code class=\"language-text\">Access-Control-Allow-Origin: https://evan.github.io</code>.</p>\n<p>This header field can be added to the configuration file of server engines such as Nginx or Apache, but in this case, it is inconvenient to make complex settings, so I recommend setting it using response middleware in the source code.</p>\n<p>Named backend frameworks such as Spring, Express, and Django all provide CORS-related configuration settings or middleware libraries, so the setting itself will not be difficult.</p>\n<h3 id=\"reverse-proxying-with-webpack-dev-server\" style=\"position:relative;\">Reverse proxying with Webpack Dev Server<a href=\"#reverse-proxying-with-webpack-dev-server\" aria-label=\"reverse proxying with webpack dev server permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In fact, it is no exaggeration to say that the most common violation situation of CORS policy is the case of developing front-end applications in a local environment. because it is rare to put a general origin such as <code class=\"language-text\">http://localhost:3000</code> in this important field such as <code class=\"language-text\">Access-Control-Allow-Origin</code>.</p>\n<p>Most front-end developers use Webpack and webpack-dev-server to build a development environment on their local machine. If we use the proxy feature provided by these libraries, we can bypass CORS policy very comfortably.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">devServer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">proxy</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">'/api'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://api.evan.com'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">changeOrigin</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">pathRewrite</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'^/api'</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With this configuration, requests to URLs starting with <code class=\"language-text\">/api</code> in the local environment are proxyed to <code class=\"language-text\">https://api.evan.com</code>. In other words, browser thinks that it sent a request to <code class=\"language-text\">localhost:8000/api</code>, but in fact, Webpack is proxying the request to <code class=\"language-text\">https://api.evan.com</code> in background. So we can tricks the browser as if it followed the CORS policy.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 518px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACKUlEQVR42pWUZ4siQRCG/fmifvCDkTUnMKGimLOucY2YUBEzBlAXQRBh63gLZrnd9Y67gZ7prq556q2qnhFVq1XK5/NkNpt5vLy8kMvlIpPJRGq1moxGI/n9fvL5fKTVaslqtZJGo2G7xWIhvV7PtkKhQKVSiUS4tVotcrvdDMSm3W7nuU6nI4VCQUqlkiQSCYnFYrYhkPBUqVQcvF6v0+vrK4nK5TIvGo0Gj2azyQPzbrdLTqeTZDIZSaVScjgcHFzYx7PdbrPtC/Dt7Y1qtRobMTDHC9lsllM9nU50PB45C6SGPcH39/EF+H0T0QHEAPB8PlMkEmGgEPS/gahvv99nCHzQwFwux2k+U/lHoLBOJBLU6XQoFApROp1mVcFgkLxe72eQfwJCSbFYpOVySfP5nEajEc1mM/J4PHxM0HmDwfAj7b8C39/fab/f03a7JZvNxmcTTYFCvIPaflf5A4gnnKbTKV0uF64TUo7H47z3eDy4rvBFo4TgT4HCUclkMrRarWi327FKNGWz2ZBwQfFwOOQ9nNOnKWNRqVQYjC6iw/f7nQGo3/V6/QSu12tKJpO0WCy4zoAIShmIG0CIBhg6Ox6PWRUUAwb47Xajj48PVocgh8OB7UIJ4MtALABC4cPhMAPRSXz4sAk/gUAgwD8JuVzOc3zvgPR6Pa5xNBpljmgymVAqleI/CDo3GAy4kzi8UI45gkAJ6oyXY7EYA+CLpqH7OAXw/wVI5OBE3AhEbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"trap\" title=\"\" src=\"/static/e4e41838e8e9f4ac284b2b2a6214052f/6b9fd/trap.png\" srcset=\"/static/e4e41838e8e9f4ac284b2b2a6214052f/69538/trap.png 160w,\n/static/e4e41838e8e9f4ac284b2b2a6214052f/72799/trap.png 320w,\n/static/e4e41838e8e9f4ac284b2b2a6214052f/6b9fd/trap.png 518w\" sizes=\"(max-width: 518px) 100vw, 518px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Webpack's Trap Card Reverse Proxying has been activated!</small>\n</center>\n<p>Even if you have built your own development environment with a combination of <a href=\"https://github.com/webpack/webpack-dev-middleware\" target=\"_blank\" rel=\"nofollow\">webpack-dev-middleware</a> and Node server, don‚Äôt worry as you can easily configure proxy by using the <a href=\"https://github.com/chimurai/http-proxy-middleware\" target=\"_blank\" rel=\"nofollow\">http-proxy-middleware</a> library. <small>(webpack-dev-server internally uses http-proxy-middleware)</small></p>\n<p>I recommend you that use this method when serving the origin of the client application and the origin of the API server are the same.</p>\n<p>Of course, in the local development environment, there is nothing wrong with webpack proxying requests, but after building the application and deploying it to the server, it is no longer an environment where webpack-dev-server runs. If so, the request will no longer be proxyed and the API request will be sent to where the client application is served, not the API server, and the request will fail.</p>\n<p>For example, if the origin of the API server is <code class=\"language-text\">https://api.evan.com</code> and the origin of the server serving the client application is <code class=\"language-text\">https://www.evan.com</code>, the following situation occurs.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/me'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">in local environment...\nGET https://api.evan.com/me 200 OK\n\nThere is no proxying logic in production environment...\nGET https://www.evan.com/api/me 404 Not Found</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Of course, we can also use the API host according to each environment by using environment variables such as <code class=\"language-text\">process.env.NODE_ENV</code> within the business logic. However, I avoid it because I don‚Äôt think it‚Äôs a good idea to include the source for this development environment in business logic.</p>\n<h3 id=\"wouldnt-it-be-possible-to-put-the-request-in-the-img-tag\" style=\"position:relative;\">Wouldn‚Äôt it be possible to put the request in the img tag?<a href=\"#wouldnt-it-be-possible-to-put-the-request-in-the-img-tag\" aria-label=\"wouldnt it be possible to put the request in the img tag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I said that there are several exceptions to the SOP policy that allow access to resources from different origins, and one of them is a request to comply with the CORS policy. And also there are other exceptions such as executable scripts, images to be rendered, and style sheets.</p>\n<p>So wouldn‚Äôt it be possible to bypass CORS policy violation by sending a request with a different exception case‚Ä¶? Like this!</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://evanmoon.tistory.com/rss<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://evanmoon.tistory.com/rss<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Well, if we request a resource in this way, the request succeeds without violating the CORS policy. And if we look closely at the headers of these requests in the network tab of the browser‚Äôs developer tools, we can see that they contain a value of <code class=\"language-text\">Sec-Fetch-Mode: no-cors</code>.</p>\n<p>This <code class=\"language-text\">Sec-Fetch-Mode</code> header is a field that configures the request mode. If the value of this field is <code class=\"language-text\">no-cors</code>, the browser does not check for CORS policy violations even resource is served from other origins. But sadly, the browser doesn‚Äôt tell JavaScript the response of requests with this value in request header. It means we can never access the body of this response from within JavaScript code.</p>\n<p>I was also curious if there really was no way to do this, so I tried several ways, and as a result all failed. So let‚Äôs just give up on trying to circumvent CORS policy violations and follow the CORS policy as the smart guys tell us.</p>\n<h2 id=\"epilogue\" style=\"position:relative;\">Epilogue<a href=\"#epilogue\" aria-label=\"epilogue permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Perhaps the most difficult thing when solving problems caused by CORS policy violations is that the someone who has the problem and the someone who needs to solve the problem is different.</p>\n<p>As I said, CORS policies are implementation specifications for browsers, so most of the people who actually have problems with CORS policy violations are front-end developers. However, in order for us to solve this problem, the backend developer needs to set correct value in  ªAcccess-Control-Allow-Origin` field of server application‚Äôs response header.</p>\n<p>Of course, front-end developers can solve it by themselves using the proxying option of webpack-dev-server which I talked about, but this method works only in a local development environment. In other words, it is not a solution to problems in an production environment.</p>\n<p>Therefore, in the end, in order to properly solve the problem of CORS policy violations, it is inevitable that we need help from backend developers.</p>\n<p>In fact, resolving CORS policy violations is not so difficult and complex, so if one of the front-end or back-end developers is familiar with these policies, they can solve it quicker and easier than you think.</p>\n<p>However, it is hard to find a solution if neither the frontend nor the backend has experience with this problem, such as when I first experienced a CORS policy violation. It‚Äôs a very subtle problem.</p>","fields":{"slug":"20200521-about-cors-en","path":"/2020/05/21/about-cors/en/","lang":"en"},"frontmatter":{"title":"Why we need to know about CORS?","subTitle":"Navigating the Cross-Origin Minefield: What Every Developer Needs to Know","date":"Oct 06, 2020","categories":["Programming","Network","Web"],"tags":["CORS","Cross-Origin Resource Sharing","Network","Web","Web Secure","Access-Control-Allow-Origin"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/e21f60bac8f04efc2928f1d0504fd95f/d803c/thumbnail.png","srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/d803c/thumbnail.png 320w,\n/static/e21f60bac8f04efc2928f1d0504fd95f/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/fc5c5/thumbnail.webp 320w,\n/static/e21f60bac8f04efc2928f1d0504fd95f/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/e21f60bac8f04efc2928f1d0504fd95f/01fb2/thumbnail.png","srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"79dacf7b-7b4b-5009-8e14-5d706edd23ad","tableOfContents":"<ul>\n<li>\n<p><a href=\"#koreas-current-work-life-balance-situation\">Korea‚Äôs Current Work-Life Balance Situation</a></p>\n</li>\n<li>\n<p><a href=\"#does-work-really-lower-my-quality-of-life\">Does Work Really Lower My Quality of Life?</a></p>\n</li>\n<li>\n<p><a href=\"#why-do-we-work\">Why Do We Work?</a></p>\n<ul>\n<li><a href=\"#what-makes-humans-work\">What Makes Humans Work</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#so-what-about-my-work-life-balance\">So What About My Work-Life Balance?</a></p>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Work-Life Balance literally means the balance between work and your personal life. This term is so famous that I don‚Äôt think I need to explain what it means. The concept actually starts from a negative view of work.","html":"<p>Work-Life Balance literally means the balance between work and your personal life. This term is so famous that I don‚Äôt think I need to explain what it means. The concept actually starts from a negative view of work.</p>\n<!-- more -->\n<p>While work-life balance only started trending in Korea recently, making it seem like a modern buzzword, the term ‚ÄúWork-Life Balance‚Äù actually appeared in the UK in the late 1970s ‚Äî it‚Äôs already about 50 years old. I think this unfortunate term emerged from a combination of corporate culture that squeezes employees for performance and the struggles of workers who have to do jobs they don‚Äôt particularly want to do, solely for money.</p>\n<h2 id=\"koreas-current-work-life-balance-situation\" style=\"position:relative;\">Korea‚Äôs Current Work-Life Balance Situation<a href=\"#koreas-current-work-life-balance-situation\" aria-label=\"koreas current work life balance situation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Looking at the flood of news articles, you often see Korea getting criticized as an OECD country with extremely long working hours but low productivity. But since I don‚Äôt fully trust these articles, I decided to look up the statistics myself on the OECD website.</p>\n<p>First, I searched for Hours Worked statistics ‚Äî the average annual working hours for 2018 on the OECD data site. Maybe the articles were based on incorrect statistics?</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQ0lEQVR42qVSXVPaUBDlb9fH1k6nBZ/UTtuZPjgjIN9WqdaKECgIKBCUIpRp+YhDgfAhwUCAUE73JgGxMz714czu3bvn7NmbmCqde1TaMrqSjJ4BWZliOFafhDyePsJwoqJzP8TdQIap1pYgdAYk+oCyKKHckvCr1ddzA4v7KpmodvSo1SjP8wVkf9ZhWiVVDBJrrBGEnozaP0PK4gAFoYl8jSCISJcE+JPfETFvI3NTIYekLnT1iWWxr7kq1ju4LjeQoIZA6gYnRDhOXGM/nMJB9ArPN7ZgOwrDR2fXaQL24CW4N1vgCySYKt0SsYpQpkikHA6jPBzUZDuJYe80DtdZcgk71RyBJJ6tm2H9zMEdSoGjgflqHen3O0gzh25qdBDReZbQSOxs+xIjwXPt7A1dwmNAG0Bu1l5uwEoOmWAkU0DptgH+4y5STNAbuoA7aBCDFxqYEwZXILGsMex9pSEU19YtsPpD8HEpeJj7SAZhekNtZSbEmjwrTuzkzm449DzlkFb2hdPaIBfFsOUt+GIVJg85/G9B5tCyrQuydZ20mtt4PwbrcVSDkwRW68uP8sKM3cOg9kxu4jppde71pr6yP5alL5sFiwt4qYHh4Bv/6G6fS2u/zavNDyQUx1E8Bz/9FZ/Oc4i+20H2hwBTs3OH3+0eWGx1+2hQvsCixmKTRXZPudBooSE+3Is9CV3q78sKTBNFgTIaYaZOMVZGGEh9TMaKlrOaOp1iNBxCpZydWa/U13sUqrPafDbDH1UF5nP8BahGerHGYRNGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hours worked\" title=\"\" src=\"/static/e4815498431813e02909ec93cab2fa11/6af66/hours_worked.png\" srcset=\"/static/e4815498431813e02909ec93cab2fa11/69538/hours_worked.png 160w,\n/static/e4815498431813e02909ec93cab2fa11/72799/hours_worked.png 320w,\n/static/e4815498431813e02909ec93cab2fa11/6af66/hours_worked.png 640w,\n/static/e4815498431813e02909ec93cab2fa11/d9199/hours_worked.png 960w,\n/static/e4815498431813e02909ec93cab2fa11/21b4d/hours_worked.png 1280w,\n/static/e4815498431813e02909ec93cab2fa11/be061/hours_worked.png 3584w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\n    Average annual working hours in OECD countries<br>\n    [Source] <a href=\"https://data.oecd.org/emp/hours-worked.htm\" target=\"_blank\">https://data.oecd.org/emp/hours-worked.htm</a>\n  </small>\n</center>\n<blockquote>\n<p>‚Ä¶we‚Äôre undeniably top tier.</p>\n</blockquote>\n<p>Sadly, the statistics show Korea is indeed top tier among OECD member countries for working hours. As we all know, a day is limited to 24 hours, so the longer working hours get, the less time we naturally have for ourselves each day. This is why people say work-life balance collapses and quality of life deteriorates.</p>\n<p>We‚Äôve all experienced overtime, so even without examining OECD statistics, we all know and feel that Korea‚Äôs working hours are on the long side.</p>\n<p>So what if the government heavily regulates workers‚Äô hours and cuts them down, like the recent 52-hour workweek law? But if you think about it, this approach isn‚Äôt that simple to implement. Because of Korea‚Äôs productivity.</p>\n<p>Looking at OECD statistics, while Korea‚Äôs productivity has been improving since 2010, GDP per working hour isn‚Äôt particularly outstanding, making it difficult to easily reduce working hours.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACNElEQVR42o2TWW/aUBCF+eftc9un9qVvTapKCWvAQSUECBA24wABQlIBCUvKjpeAbcwWnc69BJUiVYmlT/d6Znx8Zq5ta8k6HhUTD2MdQ82ANjGgEIa1hDlfvYnZYg11okObGrC1x1O0iLa8WZsvNEaTN3M/fEKq0kS1p8LWpEDzJdHcZUf8H/ZqfqsmSo0evPEcql3lr+BrNMgFe2lb0akbnYvdDzTU+yrCV7c4ieVQ6zHB/7ho7Lhmc+5oMy5UJDeR/C8EsxUIiQI80Su4LiT4aF/jLe/Mayu4mSkdlmqQ2AR3HRmhdA5BsQx7WMTReQbHhIP27qi0J8jaYC0Qje6YkHnipjVAod5B7LoKIVXGuw+f8c0bhoscOSNZQiShLAnuOWRuMpUHBKRbpOMStJEMsVLnTlwRiZykISRLeP/xC74LES7InDGYsJvEXLT6LvObGeaqj7CT/SMqjHnPURILOJMqcNIDbD5uKt4KHvrCrwt66HQcoQzsiWtEDx0I/DjBEcXc3CG1RjlfoshbPvCG4CQBO6sPbWbIa2j1xvObln+myxAuC/DRqSU8AcT8F/CJFfiTRZwSAr3oTLrDp68HsAeTOE2VyE2BI1DeT/esLiDeoMa+w6HyhIGsoT9WMR4pGBB9WeX3LL6lMxijR7HeiOU2se5Q5nU9eobp6PS72p7Xa6yWSywWczyv6L80DZi6DsPQsVotsabYcrnAdDrBYm5hbs34yjCobm5ZsEyT17HrDwMjl86pVg6dAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"productivity\" title=\"\" src=\"/static/bc00347b35226009d66ebc50c920f109/6af66/productivity.png\" srcset=\"/static/bc00347b35226009d66ebc50c920f109/69538/productivity.png 160w,\n/static/bc00347b35226009d66ebc50c920f109/72799/productivity.png 320w,\n/static/bc00347b35226009d66ebc50c920f109/6af66/productivity.png 640w,\n/static/bc00347b35226009d66ebc50c920f109/d9199/productivity.png 960w,\n/static/bc00347b35226009d66ebc50c920f109/21b4d/productivity.png 1280w,\n/static/bc00347b35226009d66ebc50c920f109/be061/productivity.png 3584w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\n  GDP per hour worked in OECD countries<br>\n  [Source] <a href=\"https://data.oecd.org/lprdty/gdp-per-hour-worked.htm#indicator-chart\" target=\"_blank\">https://data.oecd.org/lprdty/gdp-per-hour-worked.htm#indicator-chart</a>\n  </small>\n</center>\n<p>Of course, GDP isn‚Äôt only influenced by working hours ‚Äî it‚Äôs affected by various factors like each country‚Äôs industrial structure and foreign companies entering the domestic market. But looking at the graph, Korea‚Äôs GDP per working hour is lower than countries like Poland and Slovakia, which have smaller economies and shorter working hours, so it‚Äôs hard to say our productivity is good.</p>\n<p>GDP doesn‚Äôt directly impact our daily lives, so it might not feel relevant. But ultimately, declining GDP means Korea‚Äôs economic scale is shrinking, which will eventually boomerang back to us as salary freezes or job shortages.</p>\n<p>The 52-hour workweek wasn‚Äôt implemented just because citizens were suffering too much. It was implemented because Korea‚Äôs productivity per working hour improved compared to before, creating a situation where limiting working hours to 52 per week could protect both citizens‚Äô work-life balance and domestic production. <small>(I doubt any country would guarantee work-life balance while sacrificing the national economy)</small></p>\n<p>Companies are the same as the government. I don‚Äôt think many companies are prepared to protect employees‚Äô work-life balance at a loss. Companies that maintain good work-life balance do so because they believe it makes employees more productive.</p>\n<p>Let me summarize Korea‚Äôs current work-life balance situation: unless Korea‚Äôs work efficiency improves dramatically, the government will find it difficult to make citizens work less than 52 hours per week.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 589px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdOiXZZwM9goD//EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMREiEiMUP/2gAIAQEAAQUCoTociymt3WJAqlHsena//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgIDAQEAAAAAAAAAAAAAACEBEQIiYRBR/9oACAEBAAY/At8eE8RUREC0Fk/pSGVfn//EAB0QAAMBAAIDAQAAAAAAAAAAAAABESExQVFhcZH/2gAIAQEAAT8hUL1kPgRpKecSaK6pGS/hKi3pP+vZXcHktaampORqqz//2gAMAwEAAgADAAAAEHDHPP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABwQAQEAAwADAQAAAAAAAAAAAAERACExQXGBUf/aAAgBAQABPxBZTYNiDeCvj3giJ7JebL9MFIRhifMpVkNaiy785wQAqV8qiX1gGADi7xEqFEfwWGG5KAi8dmsso3P/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"money\" title=\"\" src=\"/static/5b27d64504ba6d530763179a02ea1223/86a2c/money.jpg\" srcset=\"/static/5b27d64504ba6d530763179a02ea1223/0913d/money.jpg 160w,\n/static/5b27d64504ba6d530763179a02ea1223/cb69c/money.jpg 320w,\n/static/5b27d64504ba6d530763179a02ea1223/86a2c/money.jpg 589w\" sizes=\"(max-width: 589px) 100vw, 589px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Either way, we have to grind at the office for about 8-10 hours a day</small>\n</center>\n<p>Unless we become building owners, we‚Äôll always have to work until retirement. And work-life balance views this work negatively, as a minus element in personal life.</p>\n<p>More specifically, work-life balance means combining work (-) and personal time (+) to make quality of life at least approach <code class=\"language-text\">0</code>. And as time for myself to recharge increases, my quality of life tilts toward the plus (+) side, so it also contains the value that the less you work, the higher your quality of life.</p>\n<p>But is there a reason why work time must lower my quality of life and only consume energy? Can‚Äôt work time also raise my quality of life and give me value?</p>\n<h2 id=\"does-work-really-lower-my-quality-of-life\" style=\"position:relative;\">Does Work Really Lower My Quality of Life?<a href=\"#does-work-really-lower-my-quality-of-life\" aria-label=\"does work really lower my quality of life permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When we go to the office, we want to leave quickly. So we can drink with friends after work or watch a movie at home with a beer. But why exactly do we feel that time after work is better than time working at the office?</p>\n<p>Honestly, the answer is simple.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 98.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUDAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABrd+fSNE8KoQAv//EABwQAAICAgMAAAAAAAAAAAAAAAECAxEAISIxM//aAAgBAQABBQK7YA5TZewzESM4dOU46n9v/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHRAAAQMFAQAAAAAAAAAAAAAAAQAQEQISMTNBUf/aAAgBAQAGPwIxxZYkcbZao9atf//EAB4QAQACAgIDAQAAAAAAAAAAAAEAESFRMUFhcYGR/9oACAEBAAE/IakVcMw+e32aWvbNetm5kieEOY8KDoWZLADmAAaIP2n/2gAMAwEAAgADAAAAEO84wf/EABcRAQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QYmv/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EGor/8QAHhABAQACAgMBAQAAAAAAAAAAAREAITFRQWFxofD/2gAIAQEAAT8QprRbQX13zloGA3cPku2zf7iSRaHgffGzFsRbwRPup3mr0iQKTmT7itAGSuj3cN2wDeWt/YZ//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unnamed\" title=\"\" src=\"/static/b6d7f2b02d0274dbb32c9614c28d7f0a/36dd4/unnamed.jpg\" srcset=\"/static/b6d7f2b02d0274dbb32c9614c28d7f0a/0913d/unnamed.jpg 160w,\n/static/b6d7f2b02d0274dbb32c9614c28d7f0a/cb69c/unnamed.jpg 320w,\n/static/b6d7f2b02d0274dbb32c9614c28d7f0a/36dd4/unnamed.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Because work f***ing sucks. Because I just want to play and eat.</small>\n</center>\n<p>Honestly, everything we do at the office is a series of intensity and stress. Every task has a deadline, we have to be with colleagues and bosses who can evaluate us, and it‚Äôs not easy to bare our hearts to coworkers. We can endure all this only because of the reward we get for putting up with it all: ‚Äúmoney.‚Äù</p>\n<p>Thinking back, everything we did in school was ultimately to get a good job and earn money stably. Getting into a good university, studying for certifications, even volunteering ‚Äî wasn‚Äôt it all to stand out a bit more in the job market later, get better scores, and land a better job?</p>\n<p>Having lived this way, we naturally endure difficult and hard things at work because of money. If I quit this job, I lose fixed income, making it burdensome to pay fixed expenses like phone bills and jeonse loan interest. Then I have to tighten my belt and give up many things I‚Äôve been enjoying because I need to save money.</p>\n<p>We can endure because the value of our salary is bigger and heavier than enduring unpleasant work at the office. When people judge that their salary‚Äôs value has become lighter than working at the office, they often renegotiate salary or change jobs.</p>\n<p>Looking at these situations, it seems natural that work is a minus element in our lives. But is it really?</p>\n<blockquote>\n<p>Do we work only for money? Is there no other meaning?</p>\n</blockquote>\n<h2 id=\"why-do-we-work\" style=\"position:relative;\">Why Do We Work?<a href=\"#why-do-we-work\" aria-label=\"why do we work permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>American psychologist <a href=\"https://en.wikipedia.org/wiki/Barry_Schwartz_(psychologist)\" target=\"_blank\" rel=\"nofollow\">Barry Schwartz</a> gave a TED talk in 2014 titled ‚ÄúWhy We Work,‚Äù and I personally found this talk very interesting.</p>\n<p>Barry Schwartz starts by asking, ‚ÄúWhy do we work?‚Äù Of course, we know the obvious fact that we work to earn money, but his question is whether that‚Äôs really the only reason we work.</p>\n<p>Adam Smith, the father of modern economics, said in his book The Wealth of Nations that humans are animals who instinctively choose to maximize their own benefit in any situation. Because of this instinctive human selfishness, division of labor occurs in the market, and when everyone moves to maximize their own benefit, the market develops and national wealth accumulates.</p>\n<p>Adam Smith believed that humans, being selfish animals, won‚Äôt work without appropriate compensation for their labor, and if you want people to work more and efficiently, you need to give them appropriate value. This Adam Smith value system is fully embedded in our current mindset of ‚ÄúI have no choice but to go to work because of money.‚Äù</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAIDAQQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAeVPVsILFlMxMhf/xAAcEAABAwUAAAAAAAAAAAAAAAABABARAwQSMTL/2gAIAQEAAQUCoRncdsTJYoa//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BY//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABYQAQEBAAAAAAAAAAAAAAAAACAhIv/aAAgBAQAGPwKjR//EABsQAAIDAAMAAAAAAAAAAAAAAAABESExQVFh/9oACAEBAAE/IUvjWJ8sTVJ+EC0fI0vsoWmTA//aAAwDAQACAAMAAAAQCB//AP/EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/EAEf/8QAGREAAgMBAAAAAAAAAAAAAAAAABEBECEx/9oACAECAQE/EFrERyv/xAAcEAEAAgMAAwAAAAAAAAAAAAABABEQITFBYaH/2gAIAQEAAT8QUHQfaGioFaINgrAaU7JxkAadgeGS+Cf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"adam\" title=\"\" src=\"/static/250bd1eff083d5af392d5e6635c5ef42/c08c5/adam.jpg\" srcset=\"/static/250bd1eff083d5af392d5e6635c5ef42/0913d/adam.jpg 160w,\n/static/250bd1eff083d5af392d5e6635c5ef42/cb69c/adam.jpg 320w,\n/static/250bd1eff083d5af392d5e6635c5ef42/c08c5/adam.jpg 640w,\n/static/250bd1eff083d5af392d5e6635c5ef42/4f216/adam.jpg 839w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\"Humans are selfish, so they won't do anything without rewards\"</small>\n</center>\n<p>Adam Smith‚Äôs view is somewhat valid. For example, the lady making kimbap at Kimbap Heaven is more likely running a kimbap shop to earn money, not rolling kimbap with a humanitarian heart hoping ‚Äúpeople won‚Äôt go hungry because I make kimbap‚Ä¶‚Äù</p>\n<p>But Barry Schwartz‚Äôs view differs. Barry Schwartz says human nature isn‚Äôt something fixed that gets discovered ‚Äî it‚Äôs created by regulations and systems. He argues that various systems created during the industrial era based on Adam Smith‚Äôs mistaken views still make us work while only looking at money.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 508px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAUrOq2OucJyn/8QAGhABAQACAwAAAAAAAAAAAAAAAQMAAhETFP/aAAgBAQABBQIOWkHpyG+s6ewcojv/AP/EABYRAAMAAAAAAAAAAAAAAAAAAAECEP/aAAgBAwEBPwFjP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAQACAgMAAAAAAAAAAAAAAAEAEQMSECIx/9oACAEBAAY/AqIVj7HvGyXE0YpP/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARMSFR/9oACAEBAAE/IaoFXAlSc6UOyoadTA9iQLw9IBFC5P/aAAwDAQACAAMAAAAQ2w//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQMBAT8QLQjL/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QCf/EABsQAAMAAwEBAAAAAAAAAAAAAAABESExQVGh/9oACAEBAAE/EK9lEK2yfhpFJ7fSB/vV4m2KINMl6LpjddiuPv2n/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ted\" title=\"\" src=\"/static/f1c851008d3cb3574e5f35afc3a084cf/a2d2e/ted.jpg\" srcset=\"/static/f1c851008d3cb3574e5f35afc3a084cf/0913d/ted.jpg 160w,\n/static/f1c851008d3cb3574e5f35afc3a084cf/cb69c/ted.jpg 320w,\n/static/f1c851008d3cb3574e5f35afc3a084cf/a2d2e/ted.jpg 508w\" sizes=\"(max-width: 508px) 100vw, 508px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>\"You're wrong, man. People actually believe it because you put out weird values\"</small>\n</center>\n<p>Of course, both Barry Schwartz and Adam Smith have right and wrong parts, so we can‚Äôt accept everything uncritically. But it‚Äôs worth thinking about why Barry Schwartz says this.</p>\n<h3 id=\"what-makes-humans-work\" style=\"position:relative;\">What Makes Humans Work<a href=\"#what-makes-humans-work\" aria-label=\"what makes humans work permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As mentioned, Adam Smith‚Äôs view that ‚Äúhumans want appropriate rewards for labor‚Äù still influences us living in modern society. One representative example is the incentive system.</p>\n<p>The incentive system emerged from thinking that humans selfishly labor for their own rewards, so if you promise bigger rewards for doing more work, they‚Äôll definitely do it. This system still remains with us, filling our bank accounts nicely. <small>(Money solves everything‚Ä¶?)</small></p>\n<p>But we can‚Äôt just blindly trust our ancestor‚Äôs words. Scholars worldwide conducted experiments on whether incentives actually help improve human work efficiency. The results were quite interesting.</p>\n<p>For simple repetitive tasks, incentives worked effectively. But conversely, for complex tasks requiring creativity, incentives worked in the opposite direction.</p>\n<p>This isn‚Äôt something I picked up somewhere ‚Äî it‚Äôs been tested quite extensively by reputable institutions like the Federal Reserve, Princeton University, London School of Economics, and various economists. In almost all results, incentives hindered productivity in creative tasks.</p>\n<p>Factors that positively influenced creative work were autonomy and control over work, enjoyment of work, and the desire to improve.</p>\n<p>The difference between incentives and these factors is external versus internal motivation. Incentives are external motivation saying ‚Äúif you do this work well, I‚Äôll give you this much reward,‚Äù so the person doing the work has to do it for money whether they like it or not, trying to quickly achieve only the goal that gets them rewards, narrowing their perspective on the task. But people who know the value of this work, enjoy it, and want to do it well can freely set broader goals instead of narrow ones, raising creativity in their work.</p>\n<p>This is why Google and Atlassian allocate about 20% of the day to side projects. This is time where workers have complete control to do what they want, and many products we use today were born during this time.</p>\n<p>This incentive content often appears in corporate consulting, usually targeting owners, but it suggests important points for employees like me too.</p>\n<blockquote>\n<p>Looking only at money makes it hard to work well. You have to enjoy the work itself.</p>\n</blockquote>\n<p>Of course, most Korean companies don‚Äôt provide autonomous work environments to employees, and rather than presenting cool visions to employees, they‚Äôre desperate to fill daily sales, so finding enjoyment in work in such environments might seem difficult.</p>\n<p>I also empathize because I‚Äôve experienced developing while only looking at company sales or my salary in non-autonomous work environments. But I think there are definitely visions you can present to yourself even in such unfavorable environments.</p>\n<p>Or changing jobs is a solution. Of course, changing jobs isn‚Äôt easy and there‚Äôs natural anxiety about leaving a familiar environment, but I think the value of being able to work in an organization where I can work happily is much greater than two to three months of anxiety during the job search. So if my current workplace can‚Äôt make me happy, I think you need to cut it off.</p>\n<p>And these things are necessary for our own happiness ‚Äî we have to work every day for about 30 years until retirement, not for the company. I don‚Äôt think anyone wants to become a person who works like a machine for money. If we have to work anyway, isn‚Äôt it better to work more enjoyably and happily?</p>\n<p>Barry Schwartz said the seemingly unchangeable reality of ‚Äúworking for money‚Äù is ultimately a frame created by the system, and we can break it depending on how we approach work. Ultimately, depending on how we think, work that‚Äôs done only for money can transform into something that makes our hearts race.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 148.74999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7qSqzeQjKLRgW4oR/8QAHBAAAgICAwAAAAAAAAAAAAAAAAECIRAREjFB/9oACAEBAAEFAveLEbtulKpJli1jp0f/xAAZEQADAAMAAAAAAAAAAAAAAAAAARECEhP/2gAIAQMBAT8BrZuYunNn/8QAGREAAwADAAAAAAAAAAAAAAAAAAEREhMh/9oACAECAQE/AYYjU6bUf//EABoQAAMAAwEAAAAAAAAAAAAAAAABIRARMTL/2gAIAQEABj8C6ejoyZVLhouz/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIVExQXFh/9oACAEBAAE/IQpN89XHocxM2hcNRnhshukvqAjzudwvnkYNpmY3reJW4+z/2gAMAwEAAgADAAAAECsuTv/EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQMBAT8QGRMkY5zJ0yrd/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxBARvpEpjy//8QAHBABAQACAwEBAAAAAAAAAAAAAREAIUFRYTFx/9oACAEBAAE/EBrvZofmI0Mve8DO2/VwpM941bbET6ee4UUV0mSKbQ0Dmd/mAiEh7fXk4ybErdMPqzyZo9CV0lMktcx5Z//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"why we work\" title=\"\" src=\"/static/8d2b4687bcea9d92a38be241b26a1393/c08c5/why_we_work.jpg\" srcset=\"/static/8d2b4687bcea9d92a38be241b26a1393/0913d/why_we_work.jpg 160w,\n/static/8d2b4687bcea9d92a38be241b26a1393/cb69c/why_we_work.jpg 320w,\n/static/8d2b4687bcea9d92a38be241b26a1393/c08c5/why_we_work.jpg 640w,\n/static/8d2b4687bcea9d92a38be241b26a1393/b2462/why_we_work.jpg 808w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  </div>\n  <small>Actually, the book lets you explore Barry Schwartz's thoughts in more detail than the TED talk,<br>so I recommend reading the book rather than just watching the TED talk</small>\n</center>\n<h2 id=\"so-what-about-my-work-life-balance\" style=\"position:relative;\">So What About My Work-Life Balance?<a href=\"#so-what-about-my-work-life-balance\" aria-label=\"so what about my work life balance permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>It would feel incomplete to end here, so let me talk in detail about my own values regarding work-life balance.</p>\n<p>First, to be honest: I‚Äôm not Buddha, detached from the world and transcending all desires. Of course I love money too. Money is obviously better the more you have. I was one of the retail investors who poured cold water and prayed during Apple and Tesla‚Äôs stock splits. <small>(Mom asked how many Tesla shares I have during Chuseok‚Ä¶)</small></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 63.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAb/xAAVAQEBAAAAAAAAAAAAAAAAAAABA//aAAwDAQACEAMQAAABTKkySo0JR//EABwQAAICAgMAAAAAAAAAAAAAAAECAxEABBMhIv/aAAgBAQABBQIFFYcTsYZLNZrt7U9f/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BqP/EABcRAAMBAAAAAAAAAAAAAAAAABAREiH/2gAIAQIBAT8BhaP/xAAbEAACAwADAAAAAAAAAAAAAAAAAQIRIRAiMf/aAAgBAQAGPwLtBMyFGHhSXH//xAAbEAACAwEBAQAAAAAAAAAAAAAAAREhMVFhkf/aAAgBAQABPyHWivg0XG1VibQr0sjjplClDHI//9oADAMBAAIAAwAAABA0D//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QV4yT/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERIaH/2gAIAQIBAT8QVofRaf/EABsQAQADAQEBAQAAAAAAAAAAAAEAESExUWGx/9oACAEBAAE/EFAbiYWyMkFYrpqn9+Qj78cWe0xhK3WxwRqu3Nlqez//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"stock\" title=\"\" src=\"/static/09e0cdaef5e8168acb5f0e36ddecbafd/c08c5/stock.jpg\" srcset=\"/static/09e0cdaef5e8168acb5f0e36ddecbafd/0913d/stock.jpg 160w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/cb69c/stock.jpg 320w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/c08c5/stock.jpg 640w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/6a068/stock.jpg 960w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/eea4a/stock.jpg 1280w,\n/static/09e0cdaef5e8168acb5f0e36ddecbafd/7b7b4/stock.jpg 1439w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Ancestors... please make Tesla hit $600...</small>\n</center>\n<p>But even though I love money, salary isn‚Äôt my #1 reason for choosing a workplace. You might think ‚Äúwell, he earns a lot so he can say that,‚Äù but I don‚Äôt earn that much either. Of course I earn more than some and less than others, but honestly, a difference of a few thousand won in annual salary isn‚Äôt enough to change someone‚Äôs life, is it? <small>(Don‚Äôt forget that ultimately the bank buys your house)</small></p>\n<p>Like most developers, I became a developer because I enjoy creating things through programming. So naturally, I focus on ‚Äúwhat products can I make at this company?‚Äù</p>\n<p>Because my work-life balance heavily depends on this.</p>\n<p>No matter which company I join, I‚Äôll spend most of my day in the office coding. Spending my day making boring products I don‚Äôt care about is a horrifying thought. Even if they pay me a lot, spending 10 hours a day like penance on boring time doesn‚Äôt seem to help my quality of life much.</p>\n<p>Of course, if they paid me 200 million won salary, I could endure it, but that‚Äôs literally just enduring, so the stress I receive at the office would remain. I hate spending most of my day under such stress more than earning a lot of money.</p>\n<p>My reason for choosing my current workplace also aligns with this value. This company had an interesting vision of ‚Äúmaking difficult finance easier and more convenient,‚Äù and during interviews, I felt this was an organization really working hard to make this vision reality. After joining, I found the organization internally puts a lot of effort into keeping team members focused on this direction.</p>\n<p>Of course, this company is famous for high work intensity, and it‚Äôs actually not that easy. But at least I can make products while being properly convinced of what benefits these products can give people, and there are many good people, making work more fun compared to other workplaces.</p>\n<p>You, like me, will probably spend most of your day working at the office. If work-life balance meant only reducing work hours to improve quality of life, my work-life balance would be a total mess. But from my own perspective, my work-life balance level is pretty decent.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Of course, work time and personal time for yourself should be separated, and the balance and harmony of these times matter. Obviously, people can‚Äôt live working all the time, so spending precious time with family, friends, or lovers during non-work hours, pursuing dreams unrelated to work, or having hobbies are also desirable directions for improving quality of life.</p>\n<p>But realistically, we can‚Äôt live without working for the various reasons mentioned. In this situation, if we think of work-life balance only as reducing work time, our quality of life has a clear upper limit, so we need to find something that can give us higher value than simply reducing work hours.</p>\n<p>Of course, my values about work-life balance are very personal opinions. People assign different values to actions, so unlike me, some people might not want to place much value on work. These people will look for something that can give them more happiness in non-work time rather than finding value in work like me.</p>\n<p>But what I want to say through this post is that we don‚Äôt have to think of work as something we‚Äôre forced to do for money. Whether it‚Äôs actually done for money or not.</p>\n<p>As Barry Schwartz said, whether we work for money or can find value beyond that ultimately depends on how we think about and approach work.</p>\n<p>And I think giving meaningful value to the act of work, which takes up most of our day, lets us spend at least slightly better time than spending most of the day working dully.</p>\n<p>That concludes this post about maintaining both work and work-life balance.</p>","fields":{"slug":"20200927-work-life-balance-en","path":"/2020/09/27/work-life-balance/en/","lang":"en"},"frontmatter":{"title":"Is Work Hours Really All There Is to Work-Life Balance?","subTitle":"Why do we see work only as an obstacle to life?","date":"Oct 03, 2020","categories":["Essay"],"tags":["Work-Life Balance","Developer Work-Life Balance","Developer Overtime","TED Incentives","Adam Smith Wealth of Nations"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ed823abf8104624f4d6cdea9d9528029/3a812/thumbnail.jpg","srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/3a812/thumbnail.jpg 320w,\n/static/ed823abf8104624f4d6cdea9d9528029/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/fc5c5/thumbnail.webp 320w,\n/static/ed823abf8104624f4d6cdea9d9528029/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ed823abf8104624f4d6cdea9d9528029/2d839/thumbnail.jpg","srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ed823abf8104624f4d6cdea9d9528029/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"84c50775-bbc4-52ef-ba7f-eed918a9867c","tableOfContents":"<ul>\n<li>\n<p><a href=\"#validating-user-input\">Validating User Input</a></p>\n<ul>\n<li><a href=\"#validating-email-addresses\">Validating Email Addresses</a></li>\n<li><a href=\"#phone-numbers\">Phone Numbers</a></li>\n<li><a href=\"#passwords\">Passwords</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#extracting-specific-information-from-irregular-strings\">Extracting Specific Information from Irregular Strings</a></p>\n<ul>\n<li><a href=\"#extracting-only-numbers-from-a-string\">Extracting Only Numbers from a String</a></li>\n<li><a href=\"#extracting-monetary-values-from-a-sentence\">Extracting Monetary Values from a Sentence</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reformatting-strings\">Reformatting Strings</a></p>\n<ul>\n<li><a href=\"#masking-user-information\">Masking User Information</a></li>\n<li><a href=\"#find-and-replace-in-your-ide\">Find-and-Replace in Your IDE</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"In my previous post, Finding Patterns in Irregularity: A Guide to Regular Expressions, I covered the basics of how regex works. But no matter how well you understand the fundamentals, the moment you actually need to use regex in a real situation, your mind tends to go blank.","html":"<p>In my previous post, <a href=\"/2020/07/24/about-regular-expression\">Finding Patterns in Irregularity: A Guide to Regular Expressions</a>, I covered the basics of how regex works.</p>\n<p>But no matter how well you understand the fundamentals, the moment you actually need to use regex in a real situation, your mind tends to go blank.</p>\n<!-- more -->\n<p>So in this post, I‚Äôd like to walk through several real-world scenarios I‚Äôve encountered at work, with examples and explanations of how I used regex to solve them.</p>\n<p>Regex sees the most action in three situations: ‚Äúvalidating user input,‚Äù ‚Äúextracting desired information,‚Äù and ‚Äúreformatting strings.‚Äù Let‚Äôs define problems in each category and solve them with regex.</p>\n<h2 id=\"validating-user-input\" style=\"position:relative;\">Validating User Input<a href=\"#validating-user-input\" aria-label=\"validating user input permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The most common place you‚Äôll encounter regex in practice is when validating user input.</p>\n<p>You learn this naturally as you build products, but users absolutely will not use your product the way you designed it. Blindly trusting user-submitted data and shipping it straight to the server is a fairly dangerous thing to do.</p>\n<p>You told them to enter an email address, but they entered a phone number. In the worst case, someone with malicious intent might inject a script or query and send it to the server.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 554px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d3d5049ed982f669de8ee19432f6f22e/04abd/sql_injection.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42m1R2U7DMBDMF/MnfAa/0JcKkFpKaaAtSCVNFdLch9PmPp2TSS0QIEYra7zeWe14ueGCvu9xFkVxOBw0TXNdRxAEcEVRJEkC3+/3Xdd9VzJwjLNUnuerFf/0xMvycT5/mM1mkImiuFgslsslpfSvuKkrtIzj2PfPURSnWWiRo02Uokz/lDLOzqZp2rblriePyJxOZ8uyCPFUTVytpwjb0SitdV3Tdd0wDLzihAvTNMHTNE2ShJusNl1dE0JM03BdIsm75+3ty/bOcY2qooYxKqGXZRlKRlAMC6M4i4KyqjAD7nXd5EUKB3ESUFqx8X4CZYxUaEwpN/wGHPVdP8YPt/8CBdzRctADk6iqatuObkrrt/vX3Zx45tAPwReiKArD0Pd9dgUZx766mQ5tjZzneUEQHlWR39w9b+8tW8/zce1ois2LX8DaYR5/hsm513chSzM0cxznfPZ140M48Igg9DAbfhXLz7IsuQAEmeKCsiw/AXYMKq9gkgA4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sql injection\" title=\"\" src=\"/static/d3d5049ed982f669de8ee19432f6f22e/04abd/sql_injection.png\" srcset=\"/static/d3d5049ed982f669de8ee19432f6f22e/69538/sql_injection.png 160w,\n/static/d3d5049ed982f669de8ee19432f6f22e/72799/sql_injection.png 320w,\n/static/d3d5049ed982f669de8ee19432f6f22e/04abd/sql_injection.png 554w\" sizes=\"(max-width: 554px) 100vw, 554px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Modern backend frameworks and ORMs handle injection attacks automatically,<br>but raw queries are still used for performance reasons ‚Äî never let your guard down</small>\n</center>\n<p>That‚Äôs why client-side developers write validation logic to verify that user input is correct, and regex is incredibly useful in this process.</p>\n<h3 id=\"validating-email-addresses\" style=\"position:relative;\">Validating Email Addresses<a href=\"#validating-email-addresses\" aria-label=\"validating email addresses permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Email is one of the most common data formats you‚Äôll receive from users. And since email addresses have clearly defined fields and limited rules, validating whether a given string is a proper email address isn‚Äôt terribly difficult.</p>\n<p>The specifics may vary slightly between MBPs (Mailbox Providers), but according to <a href=\"https://tools.ietf.org/html/rfc2822#section-3.4.1\" target=\"_blank\" rel=\"nofollow\">RFC 2822 ¬ß Addr-spec specification</a>, which defines the internet message protocol, an email address can be described as a string with the following pattern:</p>\n<blockquote>\n<ol>\n<li>\n<p>An email address consists of a local part, <code class=\"language-text\">@</code>, and a domain.</p>\n</li>\n<li>\n<p>The local part may contain letters, digits, and special characters such as <code class=\"language-text\">!#$%&amp;'*+-/=?^_{|}~</code>. The <code class=\"language-text\">.</code> character is also allowed, but the local part must not start or end with <code class=\"language-text\">.</code>.</p>\n</li>\n<li>\n<p>The domain consists of a host and domain identifier connected by <code class=\"language-text\">.</code> (e.g., google.com).</p>\n</li>\n<li>\n<p>The local part and domain are connected by <code class=\"language-text\">@</code>.</p>\n</li>\n</ol>\n</blockquote>\n<p>Since email addresses follow a well-defined pattern, we can validate them through simple pattern matching with regex.</p>\n<h4 id=\"the-local-part\" style=\"position:relative;\">The Local Part<a href=\"#the-local-part\" aria-label=\"the local part permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The local part of an email can contain letters and digits, so we can use <code class=\"language-text\">\\w</code> ‚Äî the word group that matches both letters and digits ‚Äî to handle this easily. It also allows special characters like <code class=\"language-text\">!#$%&amp;'*+-/=?^_{|}~</code>, so a custom group like <code class=\"language-text\">[\\w!#$%&amp;'*+-/=?^_{|}~]</code> covers all valid characters for the local part.</p>\n<p>This pattern must appear at least once. If it appears zero times, the local part is empty, which isn‚Äôt a valid email address. So we append the <code class=\"language-text\">+</code> quantifier at the end, meaning ‚Äúone or more occurrences.‚Äù</p>\n<div class=\"gatsby-highlight\" data-language=\"regex\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-regex line-numbers\"><code class=\"language-regex\"><span class=\"token anchor function\">^</span><span class=\"token char-class\"><span class=\"token char-class-punctuation punctuation\">[</span><span class=\"token char-set class-name\">\\w</span>!#$%&amp;'*+/=?^_{|}~-<span class=\"token char-class-punctuation punctuation\">]</span></span><span class=\"token quantifier number\">+</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This is the basic pattern for an email local part. But RFC 2822 has one more finicky rule: ‚Äù<code class=\"language-text\">.</code> is allowed, but the local part must not start or end with <code class=\"language-text\">.</code>.‚Äù</p>\n<p>Checking that a string doesn‚Äôt start or end with <code class=\"language-text\">.</code> is straightforward using the <code class=\"language-text\">^</code> and <code class=\"language-text\">$</code> anchors, but handling <code class=\"language-text\">.</code> appearing in the middle requires a bit more thought.</p>\n<p>The simplest way to express ‚Äúa character that may or may not appear in the middle‚Äù is actually quite intuitive:</p>\n<blockquote>\n<p><code class=\"language-text\">.</code> always appears in the middle of the local part. In other words, <code class=\"language-text\">.</code> must always be followed by the <code class=\"language-text\">[\\w!#$%&amp;'*+-/=?^_{|}~]</code> pattern.</p>\n</blockquote>\n<p>To put it more precisely: the pattern <code class=\"language-text\">.something</code> may or may not appear within the local part, but if it does appear, there must always be other characters after the <code class=\"language-text\">.</code>.</p>\n<p>Expressed as regex on its own:</p>\n<div class=\"gatsby-highlight\" data-language=\"regex\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-regex line-numbers\"><code class=\"language-regex\"><span class=\"token group punctuation\">(?:</span><span class=\"token special-escape escape\">\\.</span><span class=\"token char-class\"><span class=\"token char-class-punctuation punctuation\">[</span><span class=\"token char-set class-name\">\\w</span>!#$%&amp;'*+/=?^_{|}~-<span class=\"token char-class-punctuation punctuation\">]</span></span><span class=\"token quantifier number\">+</span><span class=\"token group punctuation\">)</span><span class=\"token quantifier number\">*</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Let‚Äôs start with the <code class=\"language-text\">(?:</code> and <code class=\"language-text\">)</code> wrapping. This is the same grouping mechanism as the capturing feature I explained in the previous post.</p>\n<p>Capturing groups actually serve double duty ‚Äî they capture and they group multiple expressions. When you add <code class=\"language-text\">?:</code> at the beginning of a group <code class=\"language-text\">()</code>, you‚Äôre saying ‚ÄúI want the grouping but not the capturing.‚Äù That‚Äôs why it‚Äôs called a ‚ÄúNon-Capturing Group.‚Äù</p>\n<p>Inside the group, <code class=\"language-text\">\\.</code> means the literal <code class=\"language-text\">.</code> character. Without the escape, the regex engine would interpret <code class=\"language-text\">.</code> as the character class meaning ‚Äúany character,‚Äù so we escape it to match the literal dot.</p>\n<p>After that comes the same <code class=\"language-text\">[\\w!#$%&amp;'*+/=?^_{|}~-]+</code> pattern we used before ‚Äî meaning at least one character from this set must follow the <code class=\"language-text\">.</code>.</p>\n<p>Finally, since this entire pattern may or may not appear, we append the <code class=\"language-text\">*</code> quantifier (zero or more) after the closing <code class=\"language-text\">)</code>.</p>\n<p>Combining this with the earlier <code class=\"language-text\">[\\w!#$%&amp;'*+/=?^_{|}~-]+</code> pattern gives us a complete regex for valid email local parts:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[\\w!#$%&amp;'*+/=?^_{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_{|}~-]+)*$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Letters + digits</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n<span class=\"token comment\">// Dot in the middle</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91.test'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token comment\">// Starts or ends with dot</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.bboydart91'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"the-domain\" style=\"position:relative;\">The Domain<a href=\"#the-domain\" aria-label=\"the domain permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Now that we‚Äôve defined a regex pattern for valid email local parts, all that‚Äôs left is defining one for valid domains.</p>\n<p>According to RFC 2822, the domain is ‚Äúa host and domain identifier connected by <code class=\"language-text\">.</code>‚Äù ‚Äî so the matching conditions aren‚Äôt particularly demanding.</p>\n<p>But look closely: the spec says the host and domain identifier are connected by <code class=\"language-text\">.</code>, but it doesn‚Äôt say <code class=\"language-text\">.</code> appears only once. So we need to handle cases like <code class=\"language-text\">google.com</code> as well as <code class=\"language-text\">google.co.kr</code> where <code class=\"language-text\">.</code> appears multiple times.</p>\n<p>These ambiguous patterns are easily handled with the Non-Capturing Group we just used:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(?:\\w+\\.)+\\w+$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">(?:\\w+\\.)+</code> expresses that a word group followed by <code class=\"language-text\">.</code> (like <code class=\"language-text\">google.</code>) must appear at least once, and the trailing <code class=\"language-text\">\\w+</code> requires that another word group must follow the final <code class=\"language-text\">.</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Both host and domain identifier present</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google.co.kr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span>\n\n<span class=\"token comment\">// Missing domain identifier</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\n\n<span class=\"token comment\">// Missing host</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.co.kr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"combining-the-local-part-and-domain-patterns\" style=\"position:relative;\">Combining the Local Part and Domain Patterns<a href=\"#combining-the-local-part-and-domain-patterns\" aria-label=\"combining the local part and domain patterns permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Now that we have regex patterns for both valid local parts and domains, we just need to join them with <code class=\"language-text\">@</code> to satisfy the final condition: ‚Äúthe local part and domain are connected by <code class=\"language-text\">@</code>.‚Äù</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Local part pattern: ^[\\w!#$%&amp;'*+/=?^_{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_{|}~-]+)*</span>\n<span class=\"token comment\">// Domain pattern: (?:\\w+\\.)+\\w+$</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[\\w!#$%&amp;'*+/=?^_{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_{|}~-]+)*@(?:\\w+\\.)+\\w+$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart.evan@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart@naver.co.kr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.bboydart91@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91@gmail'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bboydart91.@gmail.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"phone-numbers\" style=\"position:relative;\">Phone Numbers<a href=\"#phone-numbers\" aria-label=\"phone numbers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Phone numbers are another piece of data you frequently receive from users. I touched on this in the previous post, <a href=\"/2020/07/24/about-regular-expression\">Finding Patterns in Irregularity</a>, but I‚Äôll revisit it here for readers who may have missed that one.</p>\n<p>Phone number formats vary by country, but the core idea is universal: digits grouped in a predictable structure separated by delimiters. Let‚Äôs use US phone numbers as an example. A standard US phone number has a 3-digit area code, a 3-digit exchange code, and a 4-digit subscriber number:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'212-555-1234'</span>\n<span class=\"token string\">'(212) 555-1234'</span>\n<span class=\"token string\">'2125551234'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Since phone numbers are just digits repeating in fixed-length groups, the regex to match them is straightforward:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d{3}-?\\d{3}-?\\d{4}$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2125551234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'212-555-1234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3015551234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'301-555-1234'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The digit counts in each field are clearly defined, so simple quantifiers do the job. The hyphens between fields may or may not be present, so we use the <code class=\"language-text\">?</code> quantifier (zero or one) to handle them.</p>\n<p>The regex itself is straightforward, but there‚Äôs a subtle mistake developers sometimes make in practice:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Pattern that only matches numbers starting with a specific area code</span>\n<span class=\"token operator\">/</span><span class=\"token number\">212</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>This pattern only captures phone numbers with the <code class=\"language-text\">212</code> area code. If your validation is too narrow, you‚Äôll reject perfectly valid phone numbers from other regions.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5d22138cdc7f106c76184f763b009060/41099/old_phone.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAF4bZikSGP/xAAbEAACAQUAAAAAAAAAAAAAAAAAAQISEyEiMv/aAAgBAQABBQLQqki2xYHy5s//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8BMX//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEQMUH/2gAIAQEABj8CwfYxT//EABkQAQEBAQEBAAAAAAAAAAAAAAERACExQf/aAAgBAQABPyEATpndAlQ/HQ9evc7BjOi0uQ7/2gAMAwEAAgADAAAAEGPf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxDBMp//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QHY//xAAZEAEBAAMBAAAAAAAAAAAAAAABEQAhMUH/2gAIAQEAAT8QYwEaGgeFyCchT3fIcxh2hVybek20lTmWCj0aO+ZWrXP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"old phone\" title=\"\" src=\"/static/5d22138cdc7f106c76184f763b009060/41099/old_phone.jpg\" srcset=\"/static/5d22138cdc7f106c76184f763b009060/0913d/old_phone.jpg 160w,\n/static/5d22138cdc7f106c76184f763b009060/cb69c/old_phone.jpg 320w,\n/static/5d22138cdc7f106c76184f763b009060/41099/old_phone.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The 1996 \"Gulliver Phone\" ‚Äî a nostalgic relic from the early mobile era</small>\n</center>\n<p>The takeaway: when building phone number validation, think about all the formats your users might enter. Consider international prefixes, area codes with varying lengths, and optional delimiters like hyphens, dots, or parentheses. A pattern like <code class=\"language-text\">\\d{3}[-.\\s]?\\d{3}[-.\\s]?\\d{4}</code> handles more cases gracefully.</p>\n<h3 id=\"passwords\" style=\"position:relative;\">Passwords<a href=\"#passwords\" aria-label=\"passwords permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Passwords are directly tied to user authentication and security, making them one of the more demanding fields to validate.</p>\n<p>Off the top of my head, there are roughly three common conditions ‚Äî these are baseline security requirements observed across most services:</p>\n<blockquote>\n<ul>\n<li>Must contain at least one lowercase letter, one uppercase letter, one digit, and one special character.</li>\n<li>No character may repeat three or more times consecutively.</li>\n<li>Must be at least 8 characters long.</li>\n</ul>\n</blockquote>\n<p>Depending on how detailed you want your error messages to be, you might validate these conditions individually or all at once.</p>\n<p>The first condition requires that the password contains at least one of each character type. Checking them individually is simple with expressions like <code class=\"language-text\">/[a-z]/g</code> or <code class=\"language-text\">/\\d/g</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> password <span class=\"token operator\">=</span> <span class=\"token string\">'test1234!'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Individual checks</span>\n<span class=\"token keyword\">const</span> hasNumberPattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\d</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasLowerCasePattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasUpperCasePattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[A-Z]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasSpecialCharPattern <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\W</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>hasNumberPattern<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Password must contain at least one number...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>hasLowerCasePattern<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Password must contain at least one lowercase letter...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>But the challenge arises when you want to check all conditions at once. A custom group like <code class=\"language-text\">[a-zA-Z\\d]</code> would pass if just one type is present, and a pattern like <code class=\"language-text\">[a-z]+[A-Z]+</code> would enforce a specific order ‚Äî ‚Äúlowercase must come before uppercase‚Äù ‚Äî which isn‚Äôt what we want.</p>\n<p>This is where we can use a slightly tricky technique.</p>\n<h4 id=\"validating-with-lookaround\" style=\"position:relative;\">Validating with Lookaround<a href=\"#validating-with-lookaround\" aria-label=\"validating with lookaround permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The technique is Positive Lookahead (<code class=\"language-text\">(?=)</code>), which matches a pattern based on what follows it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Match \"https\" only when followed by \"://\"</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">https(?=:\\/\\/)</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">regex<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// null</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ['https']</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Expressions that match based on what appears before or after a pattern are called ‚ÄúLookaround,‚Äù and they come in four flavors:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Pattern</th>\n<th>Meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Positive Lookahead</td>\n<td><code class=\"language-text\">abc(?=123)</code></td>\n<td>Match <code class=\"language-text\">abc</code> when followed by <code class=\"language-text\">123</code></td>\n</tr>\n<tr>\n<td>Negative Lookahead</td>\n<td><code class=\"language-text\">abc(?!123)</code></td>\n<td>Match <code class=\"language-text\">abc</code> when NOT followed by <code class=\"language-text\">123</code></td>\n</tr>\n<tr>\n<td>Positive Lookbehind</td>\n<td><code class=\"language-text\">(?&lt;=123)abc</code></td>\n<td>Match <code class=\"language-text\">abc</code> when preceded by <code class=\"language-text\">123</code></td>\n</tr>\n<tr>\n<td>Negative Lookbehind</td>\n<td><code class=\"language-text\">(?&lt;!123)abc</code></td>\n<td>Match <code class=\"language-text\">abc</code> when NOT preceded by <code class=\"language-text\">123</code></td>\n</tr>\n</tbody>\n</table>\n<p>True to the name ‚Äúlook around,‚Äù these expressions check whether a specific pattern exists before or after the target. But by understanding how the regex engine processes them, we can repurpose them to check whether a certain pattern appears at least once anywhere in a string.</p>\n<p>Lookaround expressions don‚Äôt actually consume characters ‚Äî they act as boundaries, similar to the <a href=\"/2020/07/24/about-regular-expression/#anchors-that-match-boundaries-not-characters\">\\b anchor</a>. The crucial characteristic is that even when the regex engine successfully matches a character via Lookaround, it then acts as if that match never happened.</p>\n<p>Let me illustrate with a detailed example. If we apply the expression <code class=\"language-text\">q(?=u)i</code> to the string <code class=\"language-text\">quit</code>, the regex engine works like this:</p>\n<blockquote>\n<ol>\n<li>Engine tries to match <code class=\"language-text\">q</code> in the string. The literal <code class=\"language-text\">q</code> in the regex matches ‚Äî success.</li>\n<li>Engine tries to match <code class=\"language-text\">u</code> in the string. The <code class=\"language-text\">u</code> inside <code class=\"language-text\">(?=u)</code> matches ‚Äî success. Then the engine ‚Äúforgets‚Äù that this Lookaround match ever happened.</li>\n<li>Engine now tries to match the pattern <em>after</em> the Lookaround against <code class=\"language-text\">u</code> again.</li>\n<li>But the next expression is <code class=\"language-text\">i</code>. It doesn‚Äôt match <code class=\"language-text\">u</code> ‚Äî failure.</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">q(?=u)i</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'quit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">null</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This makes sense when you think about it: <code class=\"language-text\">(?=u)</code> is merely a condition for what should follow <code class=\"language-text\">q</code> ‚Äî it‚Äôs not actually trying to capture <code class=\"language-text\">u</code>. That‚Äôs why the regex engine tries to match <code class=\"language-text\">u</code> again with the next expression after the Lookaround.</p>\n<p>If we change the literal after <code class=\"language-text\">(?=u)</code> from <code class=\"language-text\">i</code> to <code class=\"language-text\">u</code>, condition 4 passes and we get a match:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">q(?=u)u</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'quit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"qu\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The key insight is that the regex engine treats a Lookaround match as a ‚Äúpreliminary‚Äù match rather than a ‚Äúreal‚Äù one, so it re-attempts matching the same character with whatever expression comes after the Lookaround.</p>\n<p>By exploiting this behavior, we can effectively use Lookaround as an <code class=\"language-text\">if</code> statement. Let‚Äôs use this technique to check one of our password conditions:</p>\n<blockquote>\n<p>Must contain at least one lowercase letter, one uppercase letter, one digit, and one special character.</p>\n</blockquote>\n<p>Checking all at once would make the expression long, so let‚Äôs start with just one condition: does the password contain at least one digit?</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=\\d).</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abc123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The regex matched <code class=\"language-text\">1</code> because <code class=\"language-text\">(?=\\d)</code> successfully matched <code class=\"language-text\">1</code>, and then the engine re-attempted the match on the same character using <code class=\"language-text\">.</code> ‚Äî which succeeded.</p>\n<p>In pseudocode, it works like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=\\d)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=\\d)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Pattern matched, discard it</span>\n  <span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Re-attempt with the next pattern on the same character</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In other words, the fact that the engine reached the <code class=\"language-text\">.</code> literal means the preceding <code class=\"language-text\">(?=\\d)</code> already matched that character successfully.</p>\n<p>Now that we‚Äôve handled digits, we just chain the remaining conditions ‚Äî lowercase, uppercase, and special characters ‚Äî in the same way:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// \\d = digit</span>\n<span class=\"token comment\">// [a-z] = lowercase letter</span>\n<span class=\"token comment\">// [A-Z] = uppercase letter</span>\n<span class=\"token comment\">// [\\W] = non-word character (not a letter or digit)</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>z<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span><span class=\"token constant\">Z</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">=</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">[</span>\\<span class=\"token constant\">W</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>g</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">\\W</code> character class technically matches any non-word character, which includes not just special characters but also characters like CJK or Cyrillic. Listing every special character individually would be tedious, so I‚Äôm using the shorthand here. <del>(Laziness is a virtue.)</del> <small>(In production, you‚Äôd want to explicitly list the allowed special characters like <code class=\"language-text\">!@#$%^...</code>.)</small></p>\n<p>Using the same approach, we can add the remaining conditions ‚Äî ‚Äúno character repeats 3+ times consecutively‚Äù and ‚Äúat least 8 characters‚Äù ‚Äî into a single expression:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\\W])(?!.*(.)\\1{2}).{8,}</span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<table>\n<thead>\n<tr>\n<th>Expression</th>\n<th>Meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">(?=.*\\d)</code></td>\n<td>Contains at least one <code class=\"language-text\">\\d</code> (digit)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?=.*[a-z])</code></td>\n<td>Contains at least one <code class=\"language-text\">[a-z]</code> (lowercase)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?=.*[A-Z])</code></td>\n<td>Contains at least one <code class=\"language-text\">[A-Z]</code> (uppercase)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?=.*[\\W])</code></td>\n<td>Contains at least one <code class=\"language-text\">[\\W]</code> (special character)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">(?!.*(.)\\1{2})</code></td>\n<td>No character repeats 3+ times consecutively</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">.{8,}</code></td>\n<td>At least 8 characters that pass all above conditions</td>\n</tr>\n</tbody>\n</table>\n<p>This expression only reaches the final <code class=\"language-text\">.{8,}</code> after all the Positive and Negative Lookahead conditions pass, so any string that matches has satisfied every condition we defined.</p>\n<p>Of course, validating passwords with a single regex like this means you can only show a generic ‚ÄúInvalid password‚Äù error message, so in practice it‚Äôs more common to check conditions individually. But Lookaround-based conditional checking is such a useful technique that I thought it was worth explaining in detail.</p>\n<h2 id=\"extracting-specific-information-from-irregular-strings\" style=\"position:relative;\">Extracting Specific Information from Irregular Strings<a href=\"#extracting-specific-information-from-irregular-strings\" aria-label=\"extracting specific information from irregular strings permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Most of the time, regex is used for validating user input. But the true raison d‚Äô√™tre of regex isn‚Äôt merely validation ‚Äî it‚Äôs finding and extracting specific patterns from within irregular data.</p>\n<p>This time, I want to share some real-world scenarios I‚Äôve encountered, along with how I used regex to solve them.</p>\n<h3 id=\"extracting-only-numbers-from-a-string\" style=\"position:relative;\">Extracting Only Numbers from a String<a href=\"#extracting-only-numbers-from-a-string\" aria-label=\"extracting only numbers from a string permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Extracting just the numbers from a given string is a surprisingly common problem in practice. I‚Äôve frequently needed to pull out numbers representing amounts or ages from source data I couldn‚Äôt modify directly, in order to normalize the data or display it in a different format.</p>\n<p>For example, imagine an API that returns price information not as a numeric <code class=\"language-text\">1000</code> but as a formatted string like <code class=\"language-text\">$1,000</code>. And your client needs this business logic:</p>\n<blockquote>\n<p>Which is the larger amount: ‚Äù<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>000</mn><mi mathvariant=\"normal\">\"</mi><mi>o</mi><mi>r</mi><mi mathvariant=\"normal\">\"</mi></mrow><annotation encoding=\"application/x-tex\">1,000\" or \"</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">000\"</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord\">\"</span></span></span></span></span>2,000‚Äù?</p>\n</blockquote>\n<p>Ideally, the raw data would come as a numeric <code class=\"language-text\">1000</code> and the display formatting would happen on the client side. But modifying the API might require auditing everywhere it‚Äôs used and updating every client that consumes it ‚Äî so sometimes you just leave it as-is for risk management.</p>\n<p>In this situation, the developer needs to strip everything except the digits from <code class=\"language-text\">$1,000</code>, convert it to <code class=\"language-text\">1000</code>, and then compare the two amounts.</p>\n<p>Without regex, you‚Äôd have to split the string, iterate through the resulting array checking whether each character is a digit, or call <code class=\"language-text\">String.prototype.replace</code> multiple times:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">NUMBERS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'5'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'6'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'7'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'8'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'9'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'$1,000'</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> <span class=\"token constant\">NUMBERS</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Or</span>\n\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'$1,000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'$'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">1000</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The <code class=\"language-text\">String.prototype.replace</code> approach looks simple enough, but its limitation is that if any unexpected characters sneak in, you need to add another <code class=\"language-text\">replace</code> for each one. <small>(The moment a string like <code class=\"language-text\">$1,000...maybe?</code> shows up, you‚Äôre in trouble.)</small></p>\n<p>With regex, you can solve the same problem far more concisely and flexibly:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'$1,000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^0-9]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Or</span>\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'$1,000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^\\d]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Or</span>\n<span class=\"token keyword\">const</span> amount <span class=\"token operator\">=</span> <span class=\"token string\">'$1,000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\D</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">1000</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>JavaScript‚Äôs <code class=\"language-text\">String.prototype.replace</code> method searches for a pattern and replaces it with the second argument. Since <code class=\"language-text\">replace</code> supports regex, we can catch ‚Äúeverything that isn‚Äôt a digit‚Äù and replace it with an empty string ‚Äî effectively solving our ‚Äúextract only numbers‚Äù problem.</p>\n<p>The expressions <code class=\"language-text\">[^0-9]</code>, <code class=\"language-text\">[^\\d]</code>, and <code class=\"language-text\">\\D</code> all mean ‚Äúcharacters that are not digits,‚Äù letting us strip everything non-numeric in one shot.</p>\n<p>Of course, you can solve this without regex by combining <code class=\"language-text\">split</code>, <code class=\"language-text\">filter</code>, <code class=\"language-text\">join</code>, and <code class=\"language-text\">replace</code>. But in the real world, problems far more complex than ‚Äúfind the numbers in a string‚Äù are the norm.</p>\n<p>Let‚Äôs look at a slightly harder problem.</p>\n<h3 id=\"extracting-monetary-values-from-a-sentence\" style=\"position:relative;\">Extracting Monetary Values from a Sentence<a href=\"#extracting-monetary-values-from-a-sentence\" aria-label=\"extracting monetary values from a sentence permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>This time, we‚Äôll tackle a problem in the same vein but more complex. Instead of extracting digits from a clearly monetary string like <code class=\"language-text\">$1,000</code>, we need to find and extract monetary values from a long natural-language sentence.</p>\n<p>Here‚Äôs an example paragraph ‚Äî drawn from my wishful thinking about getting rich:</p>\n<blockquote>\n<p>The global luxury goods market reached approximately <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>362</mn><mi>b</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>i</mi><mi>n</mi><mn>2023.</mn><mi>T</mi><mi>h</mi><mi>e</mi><mi>a</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>n</mi><mi>s</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">362 billion in 2023. The average consumer spent around </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">362</span><span class=\"mord mathnormal\">bi</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">ll</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">nin</span><span class=\"mord\">2023.</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">er</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">eco</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">ers</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">d</span></span></span></span></span>1,200 per year on luxury items. According to a recent survey, roughly 45% of millennials purchased at least one luxury item, with an average transaction value of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>890</mn><mi>p</mi><mi>e</mi><mi>r</mi><mi>p</mi><mi>u</mi><mi>r</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi mathvariant=\"normal\">.</mi><mi>T</mi><mi>h</mi><mi>e</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>k</mi><mi>e</mi><mi>t</mi><mi>i</mi><mi>s</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>t</mi><mi>o</mi><mi>g</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>t</mi><mi>o</mi></mrow><annotation encoding=\"application/x-tex\">890 per purchase. The market is projected to grow to </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">890</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">er</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">rc</span><span class=\"mord mathnormal\">ha</span><span class=\"mord mathnormal\">se</span><span class=\"mord\">.</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">ma</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mord mathnormal\">ec</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\">wt</span><span class=\"mord mathnormal\">o</span></span></span></span></span>500 billion by 2030.</p>\n</blockquote>\n<p>If we need to extract only the monetary data from this long sentence, we can break the problem into two smaller problems:</p>\n<blockquote>\n<ol>\n<li>From all the numbers in the text, pick out only the ones that represent monetary values.</li>\n<li>Convert values like <code class=\"language-text\">$362 billion</code> into a numeric <code class=\"language-text\">362000000000</code>.</li>\n</ol>\n</blockquote>\n<p>The second problem is a bit much for regex alone, so let‚Äôs focus on the first: ‚Äúpick out only the monetary values from all the numbers.‚Äù</p>\n<p>If we just used <code class=\"language-text\">\\d</code> or <code class=\"language-text\">[0-9]</code>, we‚Äôd also catch numbers from <code class=\"language-text\">2023</code>, <code class=\"language-text\">45%</code>, and <code class=\"language-text\">2030</code> ‚Äî which aren‚Äôt monetary values. So a simple approach won‚Äôt cut it.</p>\n<p>But the real power of regex shines in situations like this. Even though monetary values seem to appear irregularly in natural language, they actually follow a specific pattern. In English, monetary values are preceded by a currency symbol like <code class=\"language-text\">$</code>:</p>\n<p>Using this observation, we can write a regex to find dollar amounts:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> string <span class=\"token operator\">=</span> <span class=\"token string\">'The global luxury goods market reached approximately $362 billion in 2023. The average consumer spent around $1,200 per year on luxury items. According to a recent survey, roughly 45% of millennials purchased at least one luxury item, with an average transaction value of $890 per purchase. The market is projected to grow to $500 billion by 2030.'</span><span class=\"token punctuation\">;</span>\n\nstring<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$[\\d,]+(?:\\s(?:billion|million|thousand))?</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"$362 billion\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"$1,200\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"$890\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"$500 billion\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">String.prototype.match</code> finds all substrings that match the given regex. Since monetary values appear multiple times in the sentence, <code class=\"language-text\">match</code> returns all of them.</p>\n<p>The regex <code class=\"language-text\">\\$[\\d,]+(?:\\s(?:billion|million|thousand))?</code> breaks down as:</p>\n<blockquote>\n<p><code class=\"language-text\">\\$</code>: A literal <code class=\"language-text\">$</code> sign (escaped because <code class=\"language-text\">$</code> is a special regex character)</p>\n<p><code class=\"language-text\">[\\d,]+</code>: One or more digits or commas</p>\n<p><code class=\"language-text\">(?:\\s(?:billion|million|thousand))?</code>: Optionally followed by a space and a magnitude word</p>\n</blockquote>\n<p>In the previous post, I covered simple expressions like <code class=\"language-text\">[^\\d]</code>. This time the regex is more complex because we‚Äôre dealing with a multi-condition pattern ‚Äî but the underlying principle is the same. We‚Äôre combining character classes, quantifiers, and non-capturing groups to precisely describe the pattern we‚Äôre looking for.</p>\n<p>Regex is just a tool for finding patterns in strings. Beyond extracting data like this, it can validate user input, parse HTML or JavaScript code, parse file formats ‚Äî it‚Äôs useful virtually everywhere, making it a skill that pays dividends for a long time.</p>\n<h2 id=\"reformatting-strings\" style=\"position:relative;\">Reformatting Strings<a href=\"#reformatting-strings\" aria-label=\"reformatting strings permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As hinted at in earlier examples, regex is also incredibly useful when you need to transform strings into a specific format.</p>\n<p>Think: masking sensitive user information with <code class=\"language-text\">*</code> characters, or inserting <code class=\"language-text\">-</code> between digits in a phone or credit card number for readability.</p>\n<p>Regex‚Äôs capturing feature is particularly effective here. Capturing is useful in many situations, but it truly shines when you need to grab specific parts of a string and replace the rest.</p>\n<h3 id=\"masking-user-information\" style=\"position:relative;\">Masking User Information<a href=\"#masking-user-information\" aria-label=\"masking user information permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When building services, you sometimes need to display a list of users while masking their sensitive information. To signal that these are real people (not bots), you typically mask only part of the data rather than all of it.</p>\n<p>For names, you might show the first character and mask the rest. For phone numbers, you might reveal the area code and first couple of digits while masking everything else.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">mask</span> <span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">,</span> headCount <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Get the first n characters of the string</span>\n  <span class=\"token keyword\">const</span> head <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">^.{</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>headCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Mask everything except head</span>\n  <span class=\"token keyword\">const</span> tails <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Combine head and tails</span>\n  <span class=\"token keyword\">return</span> head <span class=\"token operator\">+</span> tails<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Evan Moon'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01012345678'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'Ev** ****'</span>\n<span class=\"token string\">'01012******'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">mask</code> function takes the number of characters to leave unmasked as an argument, so we need to construct the regex dynamically using a <code class=\"language-text\">RegExp</code> object rather than the <code class=\"language-text\">/</code> literal syntax.</p>\n<p>But simple character counting can cause problems in cases like these:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Spaces count toward the character limit</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E Van Moon'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Hyphens count too</span>\n<span class=\"token function\">mask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'010-1234-5678'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Intended to skip 2 characters, but only 1 is visible</span>\n<span class=\"token string\">'E ********'</span>\n\n<span class=\"token comment\">// Intended to skip 5 characters, but only 4 are visible</span>\n<span class=\"token string\">'010-1********'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This technically works, but <code class=\"language-text\">E V** ****</code> or <code class=\"language-text\">010-12**-****</code> looks much cleaner ‚Äî excluding spaces and hyphens from the character count improves both completeness and readability.</p>\n<p>The tricky part is counting characters while skipping spaces and <code class=\"language-text\">-</code>. But regex quantifiers count <em>patterns</em>, not individual characters:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Did the (?:) grouped pattern appear 2 times?</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span>\\<span class=\"token constant\">S</span><span class=\"token punctuation\">[</span>\\s<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>This expression means: a non-space character (<code class=\"language-text\">\\S</code>) optionally followed by spaces or <code class=\"language-text\">-</code>, repeated 2 times. For a string like <code class=\"language-text\">E E-</code>, it groups <code class=\"language-text\">E\\s</code> or <code class=\"language-text\">E-</code> as a single unit for counting.</p>\n<p>Remember: to apply a quantifier to a complex pattern, you need to wrap it in <code class=\"language-text\">(?:)</code> (Non-Capturing Group) or <code class=\"language-text\">()</code> (Capturing Group).</p>\n<p>Using this property of regex quantifiers, we can easily satisfy both conditions ‚Äî skip the first n visible characters and exclude spaces/hyphens from the count:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">enhancedMask</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str<span class=\"token punctuation\">,</span> headCount <span class=\"token operator\">=</span> <span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Group \\S[\\s-]* patterns n times and assign to head</span>\n  <span class=\"token keyword\">const</span> head <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">^(?:\\\\S[\\\\s-]*){</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>headCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Mask everything in the tail except spaces and hyphens</span>\n  <span class=\"token keyword\">const</span> tails <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^\\s-]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Combine head and tails</span>\n  <span class=\"token keyword\">return</span> head <span class=\"token operator\">+</span> tails<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">enhancedMask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'E Van Moon'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">enhancedMask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'010-1234-5678'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'E V** ****'</span>\n<span class=\"token string\">'010-12**-****'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"find-and-replace-in-your-ide\" style=\"position:relative;\">Find-and-Replace in Your IDE<a href=\"#find-and-replace-in-your-ide\" aria-label=\"find and replace in your ide permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Most IDEs and code editors support regex in their Find and Replace features. Since code is essentially a collection of strings with specific patterns, regex can be far more effective than plain text search.</p>\n<p>There are many examples of using regex to find and modify code, but let me share a scenario I personally stumble into frequently.</p>\n<p>In JavaScript modules, when you export a constant or function without the <code class=\"language-text\">default</code> keyword, the module evaluates as an object:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Test</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Test</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>You typically use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" target=\"_blank\" rel=\"nofollow\">destructuring assignment</a> to access the value you want. The problem arises when the export style changes mid-development:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Test</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Test</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Export style changed</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Test<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Module not found: Error: Cannot resolve 'file' or 'directory'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>When you‚Äôre working fast, it‚Äôs easy to change a module‚Äôs export style without thinking about all the places that import it. In such cases, you might revert the export, but if the developer intentionally switched to <code class=\"language-text\">export default</code>, you need to find and update every import statement.</p>\n<p>Since most IDEs support regex in Find and Replace, we can handle this quickly:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 528px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cd303e1a62e4fc55b0c2dc0621732980/4af8e/use_regex.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.87500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGElEQVR42mVSa2+bQBDkj0SNHXCwAfOG443BNgY/kjhxIjVqFUVVlR9QqT9/OpxSqVI/jI5bdndmd05Jy0cMzTdoMw/1qkdZdZhMLHy5NnA9MbEwQphWDNfLYC2FhGH40Kwcoj7h7viMZn1CUfawLAGlLi/4PfyCqrkwlxlcv4LtFliYCYtz3uvPOxtZKbxgTYISNzMfptfC9ltYXg3DqaGbKZS2fkGxeoI+j5GVA/rhCcPhGXV7wmb3iG64oN0+wA1WRI1+/46mfcVM9+HFPUynQhj0CMIBtwsqfNz/wPHwDl2PyFCQrYOqCyLEjCQa49o8YoMYllNQYSlX03LMFUmb9oBut8f5ckIQlVBEcoQZbnGrBxBJy2CDNNtAXwSYTC1Mb2xiiQkxVW3Mbj3u25EkdrhjXgo3KZGUBZYkVIr6Gd+7D1mY5luOe0HV7CmfykjyP0KoM5f/YzhRj7mZQZ2PubGMKXl2j5+bD7L6yIotHTugrHuaEElFN5rzD1zGHOn+WGwHW8yNBJorICjmeP8VSpidYImeo/gct6LsHJFo6aiQxSqJVD6pv81Gt12vkHHdiKXi08MrLi9vGPiEFFGcEWd38tmMoyzMmAYEZI5lU30RytOyU57JZ3zMYdyu5C5zTlS1e6lSCcSAQOyhUWFEhaNrFRNyjp9ma3muN0f53e3umFPj6konkZCmjDv0nQ5ZdIbvdvgDLCpH2gIHBEIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"use regex\" title=\"\" src=\"/static/cd303e1a62e4fc55b0c2dc0621732980/4af8e/use_regex.png\" srcset=\"/static/cd303e1a62e4fc55b0c2dc0621732980/69538/use_regex.png 160w,\n/static/cd303e1a62e4fc55b0c2dc0621732980/72799/use_regex.png 320w,\n/static/cd303e1a62e4fc55b0c2dc0621732980/4af8e/use_regex.png 528w\" sizes=\"(max-width: 528px) 100vw, 528px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Regex lets you target exactly the parts you need</small>\n</center>\n<p>The challenge is that in <code class=\"language-text\">import { Test } from 'components/Test'</code>, parts like <code class=\"language-text\">import</code> and <code class=\"language-text\">from 'components/Test'</code> need to stay unchanged. And since we‚Äôre only changing the import style, not renaming the variable, we want to keep <code class=\"language-text\">Test</code> as-is.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Change this</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Test <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Into this</span>\n<span class=\"token keyword\">import</span> Test <span class=\"token keyword\">from</span> <span class=\"token string\">'components/Test'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Regex capturing makes this precise transformation possible ‚Äî capture exactly the parts you want to keep and replace the rest:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> targetCode <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">import { Component } from 'components/Test';</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\ntargetCode<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\{\\s(Component)\\s\\}</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">import Component from 'components/Test';</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Using regex for find-and-replace in your IDE really shines during migration work ‚Äî library upgrades with breaking changes, large-scale refactors, and the like. <del>(In truth, I just make this mistake often enough that it made a good example.)</del></p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Regular expressions are an abstract tool for matching patterns in strings, which gives them an enormous range of applications.</p>\n<p>Beyond the examples in this post, regex can be used to parse files, normalize scraped data, quickly search log files, and much more. Plus, regex syntax barely differs between programming languages, so once you learn it, you‚Äôll keep reaching for it across your entire career.</p>\n<p>That‚Äôs all for this post on how regex is actually used.</p>","fields":{"slug":"20200815-regex-example-en","path":"/2020/08/15/regex-example/en/","lang":"en"},"frontmatter":{"title":"How Do You Actually Use Regex?","subTitle":"A journey of finding order in irregular data","date":"Sep 15, 2020","categories":["Programming"],"tags":["Regex","Regular Expression","Extracting Numbers","Lookahead","Lookbehind","Lookaround","Capturing Group"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/fc5c5/thumbnail.webp 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"5378ff90-1b70-5262-9faf-4d5f6558180f","tableOfContents":"<ul>\n<li>\n<p><a href=\"#what-even-is-regex\">What Even Is Regex?</a></p>\n</li>\n<li>\n<p><a href=\"#basic-regex-features\">Basic Regex Features</a></p>\n<ul>\n<li><a href=\"#character-classes-catching-groups-of-characters\">Character Classes: Catching Groups of Characters</a></li>\n<li><a href=\"#anchors-catching-boundaries-not-characters\">Anchors: Catching Boundaries, Not Characters</a></li>\n<li><a href=\"#flags-regex-options\">Flags: Regex Options</a></li>\n<li><a href=\"#quantifiers-how-many-times-a-pattern-appears\">Quantifiers: How Many Times a Pattern Appears</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#nice-to-know-advanced-features\">Nice-to-Know Advanced Features</a></p>\n<ul>\n<li><a href=\"#capturing-remembering-patterns\">Capturing: Remembering Patterns</a></li>\n<li><a href=\"#greedy-vs-lazy\">Greedy vs. Lazy</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"Developers are people who analyze problems described in natural language, then design and write programs to solve them. This work often involves filtering out the useful bits from a flood of unstructured information, or abstracting haphazardly declared classes and variables into clean structures.","html":"<p>Developers are people who analyze problems described in natural language, then design and write programs to solve them. This work often involves filtering out the useful bits from a flood of unstructured information, or abstracting haphazardly declared classes and variables into clean structures.</p>\n<!-- more -->\n<p>Many skills contribute to doing this well, but one especially important one is the ability to find regularity ‚Äî patterns ‚Äî within seemingly irregular information.</p>\n<p>Among the most common problems in everyday business contexts are things like parsing files or validating user input: extracting desired information by finding patterns in irregular strings. But the sheer number of edge cases means that trying to solve these with plain programming alone can leave you drowning in a spectacular nest of <code class=\"language-text\">if</code> statements.</p>\n<p>This is exactly the kind of problem that regular expressions ‚Äî regex ‚Äî make easy to solve.</p>\n<h2 id=\"what-even-is-regex\" style=\"position:relative;\">What Even Is Regex?<a href=\"#what-even-is-regex\" aria-label=\"what even is regex permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The full name is ‚Äúregular expression,‚Äù but in practice it goes by regex, regexp, or various affectionate nicknames in different developer communities.</p>\n<p>Regex is a type of expression that can represent patterns, and by applying these expressions to strings, you can pluck out exactly the parts you want ‚Äî an incredibly convenient tool. But thanks to its notoriously hostile readability, regex tends to be met with a certain‚Ä¶ reluctance.</p>\n<p>I use regex fairly often myself, but unless it‚Äôs a pattern I write frequently, I always Google the expression and verify it on <a href=\"https://regexr.com/\" target=\"_blank\" rel=\"nofollow\">RegExr</a> before using it.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cf1e76c74723af6eb45ee626ca4269a9/e5166/regex_meme.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB32UTM6UU0wG1Av/EABoQAQEBAQADAAAAAAAAAAAAAAECAxEAEiH/2gAIAQEAAQUCvXlNEnfLZ96iED5pAumJZJw//8QAFREBAQAAAAAAAAAAAAAAAAAAEAH/2gAIAQMBAT8BIf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAICAwEAAAAAAAAAAAAAAAERABACITFB/9oACAEBAAY/Al5GclSLm+WiShX/xAAcEAEAAgMBAQEAAAAAAAAAAAABABEhMUFRgaH/2gAIAQEAAT8hW+aewNVPZdBHDLg9NkzifghA79iJfIG5pUpS2jE//9oADAMBAAIAAwAAABBsPwP/xAAaEQEAAQUAAAAAAAAAAAAAAAABEBEhQWHB/9oACAEDAQE/EBat4OdvI//EABcRAQEBAQAAAAAAAAAAAAAAAAABMUH/2gAIAQIBAT8Qmq6r/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARIUExUYH/2gAIAQEAAT8QaOoLcX3IcLIJ/YXBgInSPUmgph2AgAcL0SHQoDG3nJZzdCys2e0w2Fr9chA0ILrwJ//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"regex meme\" title=\"\" src=\"/static/cf1e76c74723af6eb45ee626ca4269a9/c08c5/regex_meme.jpg\" srcset=\"/static/cf1e76c74723af6eb45ee626ca4269a9/0913d/regex_meme.jpg 160w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/cb69c/regex_meme.jpg 320w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/c08c5/regex_meme.jpg 640w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/6a068/regex_meme.jpg 960w,\n/static/cf1e76c74723af6eb45ee626ca4269a9/e5166/regex_meme.jpg 1200w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Memes like this exist because regex genuinely looks like gibberish at first glance</small>\n</center>\n<p>But since regex‚Äôs primary use case is finding patterns in strings ‚Äî a situation developers encounter constantly ‚Äî you‚Äôll inevitably cross paths with regex sooner or later. There‚Äôs no escaping it. <del>(Just accept your fate and it gets easier.)</del></p>\n<p>Of course, staring at regex cold makes you think ‚Äúwhat on earth does this mean?‚Äù But even the longest regular expression is just small expressions combined together, so when you break them apart, they‚Äôre often simpler than you‚Äôd expect.</p>\n<h2 id=\"basic-regex-features\" style=\"position:relative;\">Basic Regex Features<a href=\"#basic-regex-features\" aria-label=\"basic regex features permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Regex has a wide variety of keywords, and the entirety of using regex comes down to combining these keywords to build expressions that capture the patterns you want. In other words, the most fundamental way to get started with regex is to memorize these keywords.</p>\n<p>You don‚Äôt need to know every keyword ‚Äî just searching ‚Äúregex‚Äù on Google yields an avalanche of references. But memorizing at least the basics means you can solve simple pattern matching problems without consulting Google, which is a win for productivity. <del>(Memorizing all of them is impossible anyway.)</del></p>\n<p>Combining these features appropriately for each situation is what determines how well you use regex. So in this post, I‚Äôll give a quick taste of the features regex provides, and in the next post, I‚Äôll go deeper with practical, real-world examples.</p>\n<h3 id=\"character-classes-catching-groups-of-characters\" style=\"position:relative;\">Character Classes: Catching Groups of Characters<a href=\"#character-classes-catching-groups-of-characters\" aria-label=\"character classes catching groups of characters permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Regex has various keywords that represent specific characters or groups of characters. These are called ‚Äúcharacter classes.‚Äù</p>\n<p>Since the core function of regex is finding the characters you want, knowing the types and roles of character classes lets you roughly decipher simple regex patterns without Googling.</p>\n<h4 id=\"lets-start-by-finding-specific-characters\" style=\"position:relative;\">Let‚Äôs Start by Finding Specific Characters<a href=\"#lets-start-by-finding-specific-characters\" aria-label=\"lets start by finding specific characters permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Regex is packed with character classes like <code class=\"language-text\">\\d</code> and <code class=\"language-text\">\\w</code> whose meanings aren‚Äôt obvious at a glance. But these cryptic keywords aren‚Äôt the only option. For example, to extract a specific word from a long sentence, you can just write:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'hello, world'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">hello</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello, world\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Since regular characters work freely in regex, keywords like <code class=\"language-text\">\\w</code> and <code class=\"language-text\">\\s</code> that represent character groups must be escaped with <code class=\"language-text\">\\</code> in front. In other words, <code class=\"language-text\">\\s</code> is a keyword, but <code class=\"language-text\">s</code> is just the letter s.</p>\n<p>Because of this escaping, people unfamiliar with regex often get confused about whether something is <code class=\"language-text\">s</code> or the whitespace keyword <code class=\"language-text\">\\s</code>. There‚Äôs no magic tip here ‚Äî when you see something like <code class=\"language-text\">/\\/s\\.s.{1,2}/</code>, just read it by slicing from left to right, one token at a time.</p>\n<p>Using specific characters like <code class=\"language-text\">hello</code> in a regex can find exact patterns in strings, but if all you need is to find a specific string, you don‚Äôt need regex at all ‚Äî <code class=\"language-text\">String.prototype</code> methods like <code class=\"language-text\">includes</code>, <code class=\"language-text\">indexOf</code>, or <code class=\"language-text\">search</code> with a plain string argument work just fine.</p>\n<p>The real power of regex lies not in finding specific strings, but in finding <em>groups</em> of strings matching a pattern.</p>\n<h4 id=\"lets-build-custom-character-groups\" style=\"position:relative;\">Let‚Äôs Build Custom Character Groups<a href=\"#lets-build-custom-character-groups\" aria-label=\"lets build custom character groups permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Imagine you need to validate that user input contains only English letters. English has 48 characters counting both upper and lowercase, so you could build a map or array of the alphabet and check each character, or in the worst case, chain 48 conditions with <code class=\"language-text\">||</code>. <del>(49 including exception handling‚Ä¶)</del></p>\n<p>We can all agree that‚Äôs not the coolest approach. And as conditions pile up ‚Äî checking for numbers too, or verifying that letters repeat n times ‚Äî the code just keeps getting more complex.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> alphabet <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'A'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'B'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Z'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isAlphabet</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token builtin\">string</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">every</span><span class=\"token punctuation\">(</span>char <span class=\"token operator\">=></span> alphabet<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <small>For simple English-only validation, you could handle it like this</small>\n  <br />\n  <br />\n</center>\n<p>So regex also lets you create custom groups to catch the characters you want. The syntax is simple: just put the characters you want to group inside square brackets (<code class=\"language-text\">[]</code>).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Match x or y or z!</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>xyz<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>\n\n<span class=\"token comment\">// Match anything that's NOT x, y, or z!</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^xyz]</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token comment\">// Match a through z!</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z]</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token comment\">// Match a-z and A-Z!</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-zA-Z]</span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Inside the brackets, you‚Äôre not limited to individual characters ‚Äî you can use <code class=\"language-text\">-</code> to express character ranges, and adding <code class=\"language-text\">^</code> at the start means ‚ÄúNOT.‚Äù</p>\n<p>The range syntax like <code class=\"language-text\">a-z</code> refers to ranges in the <a href=\"http://www.asciitable.com/\" target=\"_blank\" rel=\"nofollow\">ASCII Table</a>.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 349px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/55b14704e00c60b3167cd812dcd52258/e9bf8/ascii-table.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 121.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVR42pWVW2/TQBCFF9GQxLk5iR2HYGgFlNhJCIUWIR6QEIgXxP//PcyKb6PTiVFhpSN5x+szZ27rEEL4ZfhsaAw/DS8N3wxbwx3Pe8MP9jfy/rvhleGL4athZQifeJjzsm94z/7KMDZUEC0MteG5YWI4GqY8x3NPIuEthsywCX/WwTAwrNnPDK2hB/mcjxvOTYOsD7CP8BzwHG2FEB5FbQlhTMVQCB8F8jJDYc2LPQ5K9jGCHakpcdTDNuT707rBQyR8IbYRoSXCPepWoEdqhig/reQlEjyTHEYHS6dwjcIlIe9cyGeESeEWW/4XwgqF266ipHxFXAphBjTkjSNsUDpQwoNU+UoIxy6HO8nhGsKWSCZeYQZBUtjgIOVwzLkaWyVV7v9LyC37p6KwJdxU5QsIz3L4DoNWuSGUQggb+q2QKrcQ3gv5VhTWrvKlU1jgfO4mZe5Hb+QUtv9B2JduOCn0s9xim7kql9gWEL4l5JES3vGBNvaBvW/sBbYlVe4kVIW1KMxoDw15Rche4b0qf8SgfZhmuXSTspZKa5XPCHM3KanZc9c2BYQlIb/uum1Slcf8T7Sxpx2NncukXD9EeCl9OOGwElY4SQrfcCbrqrIqPHYQag4ruRwGcu50O6cqb9zl8FgIt9LYueTwIv1L4voNxWskW8umJHYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ascii table\" title=\"\" src=\"/static/55b14704e00c60b3167cd812dcd52258/e9bf8/ascii-table.png\" srcset=\"/static/55b14704e00c60b3167cd812dcd52258/69538/ascii-table.png 160w,\n/static/55b14704e00c60b3167cd812dcd52258/72799/ascii-table.png 320w,\n/static/55b14704e00c60b3167cd812dcd52258/e9bf8/ascii-table.png 349w\" sizes=\"(max-width: 349px) 100vw, 349px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<p>Looking at the table, you can see special characters like <code class=\"language-text\">[</code> and <code class=\"language-text\">^</code> sitting between the uppercase group (65‚Äì90) and lowercase group (97‚Äì122). Since regex operates based on ASCII codes, if you try to catch only English letters with a range like <code class=\"language-text\">a-Z</code>, those special characters in between get included too.</p>\n<p>That‚Äôs why I separate the ranges into <code class=\"language-text\">a-z</code> and <code class=\"language-text\">A-Z</code> to filter English letters properly.</p>\n<p>With some ASCII knowledge, you can easily build custom character groups using the <code class=\"language-text\">-</code> range keyword. Even without memorizing the table, just Google ‚ÄúASCII Table‚Äù and reference it.</p>\n<p>But manually defining groups every time is also tedious. <del>(Lazier developers make better developers‚Ä¶)</del> So regex helpfully provides several predefined groups.</p>\n<h4 id=\"code-classlanguage-textcode\" style=\"position:relative;\"><code class=\"language-text\">.</code><a href=\"#code-classlanguage-textcode\" aria-label=\"code classlanguage textcode permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Matches any single character except the newline escape <code class=\"language-text\">\\n</code>. Regardless of what the character is, if it‚Äôs a character, it matches. This includes spaces ‚Äî applying the <code class=\"language-text\">.</code> class to <code class=\"language-text\">I am Evan</code> will match spaces too.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Match the first 4 characters from the start!</span>\n<span class=\"token string\">'I am Evan'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^....</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"I am\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>To express this character class as a custom group, you‚Äôd need to put every character in the ASCII table except <code class=\"language-text\">\\n</code> inside brackets ‚Äî which is obviously impossible. That‚Äôs why knowing these character classes is the first step to writing regex comfortably.</p>\n<h4 id=\"the-code-classlanguage-textdcode-and-code-classlanguage-textdcode-classes\" style=\"position:relative;\">The <code class=\"language-text\">\\d</code> and <code class=\"language-text\">\\D</code> Classes<a href=\"#the-code-classlanguage-textdcode-and-code-classlanguage-textdcode-classes\" aria-label=\"the code classlanguage textdcode and code classlanguage textdcode classes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">d</code> keyword stands for Digit ‚Äî characters representing numbers. In ASCII terms, this means characters <code class=\"language-text\">0</code>‚Äì<code class=\"language-text\">9</code> (codes 48‚Äì57), so characters like Roman numerals (II) or Chinese numerals (‰∫î) are not recognized as digits.</p>\n<p>Lowercase <code class=\"language-text\">\\d</code> matches digit characters; uppercase <code class=\"language-text\">\\D</code> matches non-digit characters.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'010-1111-1111'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\d</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Characters 0-9 are matched, excluding -</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h4 id=\"the-code-classlanguage-textwcode-and-code-classlanguage-textwcode-classes\" style=\"position:relative;\">The <code class=\"language-text\">\\w</code> and <code class=\"language-text\">\\W</code> Classes<a href=\"#the-code-classlanguage-textwcode-and-code-classlanguage-textwcode-classes\" aria-label=\"the code classlanguage textwcode and code classlanguage textwcode classes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">w</code> class stands for Word. In regex, ‚ÄúWord‚Äù characters are ASCII <code class=\"language-text\">A</code>‚Äì<code class=\"language-text\">Z</code> (65‚Äì90), <code class=\"language-text\">a</code>‚Äì<code class=\"language-text\">z</code> (97‚Äì122), and the <code class=\"language-text\">\\d</code> (digit) group.</p>\n<p>Characters outside this ASCII range ‚Äî like Korean, Cyrillic, etc. ‚Äî are not considered ‚ÄúWord‚Äù and can‚Äôt be caught with <code class=\"language-text\">\\w</code>. Like the <code class=\"language-text\">d</code> class, lowercase <code class=\"language-text\">\\w</code> matches Word characters and uppercase <code class=\"language-text\">\\W</code> matches non-Word characters.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'Phone: 010-0000-1111'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// : and - are not Word characters, so only English and digits match</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\"P\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"h\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"n\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"e\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h4 id=\"the-code-classlanguage-textscode-and-code-classlanguage-textscode-classes\" style=\"position:relative;\">The <code class=\"language-text\">\\s</code> and <code class=\"language-text\">\\S</code> Classes<a href=\"#the-code-classlanguage-textscode-and-code-classlanguage-textscode-classes\" aria-label=\"the code classlanguage textscode and code classlanguage textscode classes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">s</code> keyword stands for Space ‚Äî whitespace characters. Lowercase <code class=\"language-text\">\\s</code> matches whitespace; uppercase <code class=\"language-text\">\\S</code> matches non-whitespace.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'Hi, my name is Evan'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\s</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// The 4 spaces in the string are matched</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"anchors-catching-boundaries-not-characters\" style=\"position:relative;\">Anchors: Catching Boundaries, Not Characters<a href=\"#anchors-catching-boundaries-not-characters\" aria-label=\"anchors catching boundaries not characters permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The keywords we‚Äôve looked at so far all represent individual characters. But regex also provides the ability to match boundaries between characters, not the characters themselves.</p>\n<p>Keywords that catch boundaries are called ‚Äúanchors.‚Äù Since anchors only represent boundaries, they‚Äôre typically used in combination with character classes to catch characters positioned before or after a specific boundary.</p>\n<p>Since anchors catch the ‚Äúboundary‚Äù itself, using an anchor alone returns a zero-length string.</p>\n<h4 id=\"the-code-classlanguage-textcode-and-code-classlanguage-textcode-anchors\" style=\"position:relative;\">The <code class=\"language-text\">^</code> and <code class=\"language-text\">$</code> Anchors<a href=\"#the-code-classlanguage-textcode-and-code-classlanguage-textcode-anchors\" aria-label=\"the code classlanguage textcode and code classlanguage textcode anchors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">^</code> anchor represents the start-of-string boundary; <code class=\"language-text\">$</code> represents the end-of-string boundary.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Match only the character right after ^(start boundary)</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Evans Library</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"E\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Evans Library\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Match only the character right before $(end boundary)</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Evans Library</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Evans Library\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>It goes without saying that a character before <code class=\"language-text\">^</code> or after <code class=\"language-text\">$</code> can‚Äôt exist, so expressions like <code class=\"language-text\">.^</code> or <code class=\"language-text\">$.</code> can‚Äôt match anything.</p>\n<h4 id=\"the-code-classlanguage-textbcode-and-code-classlanguage-textbcode-anchors\" style=\"position:relative;\">The <code class=\"language-text\">\\b</code> and <code class=\"language-text\">\\B</code> Anchors<a href=\"#the-code-classlanguage-textbcode-and-code-classlanguage-textbcode-anchors\" aria-label=\"the code classlanguage textbcode and code classlanguage textbcode anchors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">b</code> keyword stands for Boundary ‚Äî specifically, all boundaries between words composed of the Word group. In simple terms, it‚Äôs a superset of the <code class=\"language-text\">^</code> and <code class=\"language-text\">$</code> anchors, which only match the start and end of the entire string.</p>\n<p>An important caveat: since it‚Äôs about ‚Äúwords composed of the Word group,‚Äù this only applies to English letters and digits included in the <code class=\"language-text\">\\w</code> group.</p>\n<p>The vague definition of ‚Äúboundaries between words‚Äù might be confusing, but examples make it clear:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'abc def'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Here I used <code class=\"language-text\">\\b</code> to catch all word boundaries in <code class=\"language-text\">abc def</code>. The results are all zero-length strings, because as I mentioned, a boundary isn‚Äôt a character and has no length.</p>\n<p>The word boundaries in <code class=\"language-text\">abc def</code> are:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d1779cbaba0a0243ed42fc5d27d3228/d56e1/boundaries.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVR42l2STU/bQBCG+cP0wC0SIHEoKkINCIEg6qlqqoo4uXDhBodElIiI8Bc4cIjrxHYcf+56H2btJKS80uyu57HfGY+9hSiYpcy8BG8Sk8aFTWFMtRFHBaGfMQ+yNVvJMpsP/ZRkUbMtu+SpJgpzFvOcoig/GeZM3RhfCtrzptJEVY3UbMPQqshLTFm7lEphJKqz5LQqURK2iJHFMqN1zXXNV1obqlwLtKYSYYj2PHlIoSWnpGvLjeVipF0XPZvZamv+Ybh8NZUW/HscMh0OGToOb4MB8/GY17t7ijCiFP7WH/DY6eDKPYuXF0a9Ln+dHiZbzla6rwwrz0Lz1HG42N3lx8EBPw8PcU6aPF93IIoJJh7d702u9ve53Nvj5vyCr1+26f9qyzCzDUM7h2W7vbMzvu3scN1sitkJf46PGUlH5DmhjOD30RFtidNGg367zW2rhfvwUPH/DFfKZHZZEJD6PrFEKtfBZLL+5NF0WnMJuxPHmCT5+CWAd1F4UjIJMUWSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"boundaries\" title=\"\" src=\"/static/6d1779cbaba0a0243ed42fc5d27d3228/6af66/boundaries.png\" srcset=\"/static/6d1779cbaba0a0243ed42fc5d27d3228/69538/boundaries.png 160w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/72799/boundaries.png 320w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/6af66/boundaries.png 640w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/d9199/boundaries.png 960w,\n/static/6d1779cbaba0a0243ed42fc5d27d3228/d56e1/boundaries.png 1130w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Don't overthink it ‚Äî just consider where each word's boundaries are</small>\n</center>\n<p>The uppercase <code class=\"language-text\">\\B</code> catches positions that are NOT word boundaries ‚Äî in other words, positions where a word hasn‚Äôt ended.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'abc def'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\B</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Again 4 boundaries, but their meaning is completely different: these are ‚Äúboundaries where the word hasn‚Äôt ended.‚Äù</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/97a4fb713d83f95c04382b7fb6b20106/748b0/boundaries2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMklEQVR42m2S208TURDG96/knQfriwkQCbEl4QHCTYWIwUQESV8AjZBwMUYNofhgBRoCGKFSWygUaekFCnS3ezv9OdsCyUYm2d05+818852Z0RBTbo3c32tKZzq5k2sKZxX0is19Zug2F0WDy/Mq5wUD/cpCqdodrnmvmpw9sFyqcnlhUhLfrDp+ppsc/doim7miKMXPPBF5A9dRfkLPHFvdAZbp1ovcZ54ay2wUcyTetpQP124zPULbdv8nvHVuvq6r6vgtoSM5SjClGsRaTQ6u62DJFb0AJb5p2KJWAl3Xr07Ojvz3FCrlijoH2/S3RrNSKUj+wdj7TTLyDZVKcvVzDzeZRCUS2Pl8Q025DIKdrm9w+iMGhweY8f36s7m4yH4k4vUDrbi2xvL4G+JLn3jW3sH04CCl7xtEp6ZZHhvDOT5uqCsU2F+YJ/ggwMb7WdZnpvk1v0js3Qc6mpvZmZuTXllo6dVVeltaGHjcznhPD+G+Pp53PGGit5f01y9U0+k6YV5u8ioUItw/wItgJ6GHAUZCncwMDRMMBMisrIBpon2emOBRUxOjwSBvu7t53dXFwssRRiU5Gg5jHx3VCS+EeLi1ladtbUz199MpJJHJSRIfl5gdGkLt7ODoOlo1l+Nwa4vLgwOy29skolFq2Swnu7ukNjdlk42bvXI4jcc5lBg7k+E4FiMrJIYUKku/LeGp9/Bub2XatVIJVSziVir+lcG/QkqKKBmWkkHVHP+U/wHruB77k5EMYwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"boundaries2\" title=\"\" src=\"/static/97a4fb713d83f95c04382b7fb6b20106/6af66/boundaries2.png\" srcset=\"/static/97a4fb713d83f95c04382b7fb6b20106/69538/boundaries2.png 160w,\n/static/97a4fb713d83f95c04382b7fb6b20106/72799/boundaries2.png 320w,\n/static/97a4fb713d83f95c04382b7fb6b20106/6af66/boundaries2.png 640w,\n/static/97a4fb713d83f95c04382b7fb6b20106/748b0/boundaries2.png 868w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Boundaries at positions where the word hasn't ended</small>\n</center>\n<p>The <code class=\"language-text\">b</code> keyword doesn‚Äôt match a character ‚Äî it matches a boundary. Keep this distinction in mind and you‚Äôll find it surprisingly useful in various situations.</p>\n<h3 id=\"flags-regex-options\" style=\"position:relative;\">Flags: Regex Options<a href=\"#flags-regex-options\" aria-label=\"flags regex options permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>You‚Äôll often see characters like <code class=\"language-text\">g</code>, <code class=\"language-text\">i</code>, or <code class=\"language-text\">m</code> appended after a regex: <code class=\"language-text\">/regex/g</code>. These are ‚Äúflags‚Äù that serve as option settings.</p>\n<p>When using the <code class=\"language-text\">new RegExp()</code> constructor instead of literal <code class=\"language-text\">/</code> syntax, pass flags as the second argument.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">pattern</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">gi</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> regex2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">pattern</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// These two have the same pattern</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span>flags <span class=\"token operator\">===</span> regex2<span class=\"token punctuation\">.</span>flags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Regex provides 6 flags: <code class=\"language-text\">g</code>, <code class=\"language-text\">i</code>, <code class=\"language-text\">m</code>, <code class=\"language-text\">s</code>, <code class=\"language-text\">u</code>, <code class=\"language-text\">y</code>. I‚Äôll only cover the three most commonly used ‚Äî <code class=\"language-text\">g</code>, <code class=\"language-text\">i</code>, and <code class=\"language-text\">m</code> ‚Äî so Google the rest if you‚Äôre curious.</p>\n<h4 id=\"the-code-classlanguage-textgcode-flag\" style=\"position:relative;\">The <code class=\"language-text\">g</code> Flag<a href=\"#the-code-classlanguage-textgcode-flag\" aria-label=\"the code classlanguage textgcode flag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">g</code> flag stands for <code class=\"language-text\">global</code>. A regex with this flag finds all parts of the string that match the pattern. Without <code class=\"language-text\">g</code>, the regex only finds the first match.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'hello, world'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'hello, world'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">.</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"h\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">input</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hello, world\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">groups</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">\"h\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"e\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\",\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"r\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"l\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"d\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Without the <code class=\"language-text\">g</code> flag, regex matches only one character; with it, all matching characters are found. This is intuitive enough that playing with it in the console a few times will make it click.</p>\n<h4 id=\"the-code-classlanguage-texticode-flag\" style=\"position:relative;\">The <code class=\"language-text\">i</code> Flag<a href=\"#the-code-classlanguage-texticode-flag\" aria-label=\"the code classlanguage texticode flag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">i</code> flag stands for <code class=\"language-text\">ignoreCase</code> ‚Äî matching without distinguishing uppercase from lowercase.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">abcd</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">;</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abcd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\nregex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ABCD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>User-generated strings often vary in capitalization ‚Äî <code class=\"language-text\">My name is Evan</code>, <code class=\"language-text\">my name is evan</code>, etc. The <code class=\"language-text\">i</code> flag lets you find the string you want without worrying about case.</p>\n<h4 id=\"the-code-classlanguage-textmcode-flag\" style=\"position:relative;\">The <code class=\"language-text\">m</code> Flag<a href=\"#the-code-classlanguage-textmcode-flag\" aria-label=\"the code classlanguage textmcode flag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">m</code> flag stands for <code class=\"language-text\">multiline</code>, meaning the regex will evaluate a multi-line string. But oddly, regex matches multi-line strings just fine without this flag.</p>\n<p>Let‚Äôs create a multi-line string and try a simple pattern match:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> string <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">abcd\\nefgh\\nijkl</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\nstring<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{2}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cd\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ef\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"gh\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ij\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"kl\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Regex just finds matching patterns in whatever string it‚Äôs given, so multi-line strings work fine without the <code class=\"language-text\">m</code> flag.</p>\n<p>So why does the <code class=\"language-text\">m</code> flag exist? Because it changes how regex treats the <code class=\"language-text\">\\n</code> newline escape.</p>\n<p>Let‚Äôs add the <code class=\"language-text\">^</code> anchor to find two characters at the start of the string, not just any two <code class=\"language-text\">\\w</code> characters:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">string<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\w{2}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Only <code class=\"language-text\">ab</code> is returned. Even though lines are separated by <code class=\"language-text\">\\n</code>, the regex sees the whole thing as a single string, so only the <code class=\"language-text\">a</code> at the very beginning counts as the start (<code class=\"language-text\">^</code>).</p>\n<p>Now with the <code class=\"language-text\">m</code> flag:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">string<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\w{2}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">gm</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ef\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ij\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Now each line separated by <code class=\"language-text\">\\n</code> is treated as a separate string. The <code class=\"language-text\">m</code> flag doesn‚Äôt simply mean ‚Äúsearch multi-line strings‚Äù ‚Äî it means ‚Äúsplit on <code class=\"language-text\">\\n</code> and treat each line as its own search target.‚Äù</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/69dd01cadc54feeecd2154af66259484/35751/multiline.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVR42m1Ta08aQRTdf84fwU8mtSQWaCMULfUBRogCAkKoqAhqdBeFfTA7uzszcHpnfETSTkLYnTn3zDnn3rUSKRHHMYRSUPRLkgRRFEGIBMvlEp+XovfkDaPx+lwIgTiJzZ6ut17abbgnJ7g+O0OTngs7Oziu1hCGkblIr9VqZf7jMMRLpwOvXsdVs4n2xQW+5/PodC4Iz40Qy97dRdBoYFCpoFQuI5/PonrYwPXAgZRindB14RSLBt/e30eRajOZr6hVu7j5Q3glYAmyzBiD7/vgnGOxWIBHHEEQGDuflyRLnPY4KY0Iqx3oGq2MsfDV8tHREba2tlCkm0ulEj1/wehmgkXATC5rCumS+WBgLE/Oz/GjUEA2m8XTo01CXvFWOp3G6empIUulUjg4+I3acRtXA/sfy9F0CodiiUYj/KSsNb5c/oX6cZci0ngi9DzPME8mE3S7Xbju3NjWEfzPckjx6MkY396i1+sZbEgRaIVKSVgVasbl5SU2NzfRarWwt7dHpK4BfhC+KUxozx0Owe/vcU5NOSO8jiyk/BidGcu5XA79fh8bGxsoUCZ6bB6oQDfqnfDDMqmeUjyc3BxubyPzLWtqHNs2AnSTrJgG+O5ubCzqLoXU4YT25FJ9EL2vJb0LPdTPU0jqrqCMtV0dgcbrc0u6HnhMXwCXCJgA8wjoh5BzD0up1iyv9Kj4NGJMIY4UXD+GZPSVzTwIL4CKKcPYdvA4DWHfeXh0GJyHOfjTM4LhmIrDNctqNgMnwvHEx8xmGI3niGYLsNsHzPsj8FmAv+izel8PUmvHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"multiline\" title=\"\" src=\"/static/69dd01cadc54feeecd2154af66259484/6af66/multiline.png\" srcset=\"/static/69dd01cadc54feeecd2154af66259484/69538/multiline.png 160w,\n/static/69dd01cadc54feeecd2154af66259484/72799/multiline.png 320w,\n/static/69dd01cadc54feeecd2154af66259484/6af66/multiline.png 640w,\n/static/69dd01cadc54feeecd2154af66259484/35751/multiline.png 873w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Whether the m flag is present determines if lines are treated<br>as one combined string or as individual strings.</small>\n</center>\n<p>The <code class=\"language-text\">m</code> flag is more useful when dealing with long strings containing line breaks than short strings. I‚Äôve used it for things like checking that English text capitalizes the first letter of each line, or parsing uncompressed files.</p>\n<h3 id=\"quantifiers-how-many-times-a-pattern-appears\" style=\"position:relative;\">Quantifiers: How Many Times a Pattern Appears<a href=\"#quantifiers-how-many-times-a-pattern-appears\" aria-label=\"quantifiers how many times a pattern appears permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In the previous example, I used <code class=\"language-text\">{2}</code> to find two <code class=\"language-text\">\\w</code> characters. This expression specifies the repetition count for the preceding expression. You can also use <code class=\"language-text\">{0,2}</code> to specify a min/max range.</p>\n<p>Expressions that capture how many times a preceding pattern matches are called quantifiers.</p>\n<h4 id=\"specifying-exact-repetition-counts\" style=\"position:relative;\">Specifying Exact Repetition Counts<a href=\"#specifying-exact-repetition-counts\" aria-label=\"specifying exact repetition counts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'aaaabbbcc'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{3}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"aaa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"abb\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bcc\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The expression <code class=\"language-text\">\\w{3}</code> simply says ‚Äúfind where the Word group repeats 3 times,‚Äù so regex pulls out every 3-character chunk of Word characters.</p>\n<p>Repetition patterns are applicable in many situations. A classic example is phone numbers or ID numbers, where character groups repeat a fixed number of times.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'010-0101-0101'</span>  <span class=\"token comment\">// Mobile</span>\n<span class=\"token string\">'02-0101-0101'</span>   <span class=\"token comment\">// Landline (Seoul area code)</span>\n<span class=\"token string\">'031-010-0101'</span>   <span class=\"token comment\">// Landline (regional area code)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Phone numbers in many countries follow predictable formats. Mobile numbers typically start with a carrier prefix followed by fixed-length digit groups. Using quantifiers makes it easy to capture these patterns:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Pattern for catching mobile numbers (Korean format)</span>\n<span class=\"token operator\">/</span><span class=\"token number\">01</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token operator\">|</span><span class=\"token number\">1</span><span class=\"token operator\">|</span><span class=\"token number\">6</span><span class=\"token operator\">|</span><span class=\"token number\">8</span><span class=\"token operator\">|</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>You might wonder why we don‚Äôt just match <code class=\"language-text\">010</code> ‚Äî but mobile carrier prefixes weren‚Äôt always <code class=\"language-text\">010</code>. Older prefixes like <code class=\"language-text\">011</code>, <code class=\"language-text\">016</code>, <code class=\"language-text\">018</code> existed before being unified, and some people still use them. Keep edge cases like these in mind when writing validation logic.</p>\n<h4 id=\"checking-if-a-pattern-appears-one-or-more-times\" style=\"position:relative;\">Checking If a Pattern Appears One or More Times<a href=\"#checking-if-a-pattern-appears-one-or-more-times\" aria-label=\"checking if a pattern appears one or more times permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Exact repetition counts are great, but they‚Äôre too rigid for abstract patterns like ‚Äúmay or may not exist‚Äù or ‚Äúappears n or more times.‚Äù So regex provides more flexible quantifiers.</p>\n<h5 id=\"the-code-classlanguage-textcode-quantifier\" style=\"position:relative;\">The <code class=\"language-text\">*</code> Quantifier<a href=\"#the-code-classlanguage-textcode-quantifier\" aria-label=\"the code classlanguage textcode quantifier permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>The <code class=\"language-text\">*</code> quantifier matches when the preceding pattern appears 0 or more times. ‚Äú0 or more‚Äù means the pattern before it may not appear at all, or may repeat many times.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// The a before b can be absent or appear many times ‚Äî match them all!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">a*b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'b'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'ab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'aab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'aab'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Since patterns before <code class=\"language-text\">*</code> are matched no matter how many times they appear, any number of <code class=\"language-text\">a</code>s will be caught.</p>\n<h5 id=\"the-code-classlanguage-textcode-quantifier-1\" style=\"position:relative;\">The <code class=\"language-text\">?</code> Quantifier<a href=\"#the-code-classlanguage-textcode-quantifier-1\" aria-label=\"the code classlanguage textcode quantifier 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>The <code class=\"language-text\">?</code> quantifier matches when the preceding pattern appears 0 or 1 times. Unlike <code class=\"language-text\">*</code>, even if the pattern appears many times, <code class=\"language-text\">?</code> only captures one.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// The a before b can be absent or appear many times ‚Äî only match 1!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">a?b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'b'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'ab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'aab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h5 id=\"the-code-classlanguage-textcode-quantifier-2\" style=\"position:relative;\">The <code class=\"language-text\">+</code> Quantifier<a href=\"#the-code-classlanguage-textcode-quantifier-2\" aria-label=\"the code classlanguage textcode quantifier 2 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>The <code class=\"language-text\">+</code> quantifier means the preceding pattern must appear at least once. If it doesn‚Äôt appear, the match fails.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// The a before b must exist, and match all of them!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">a+b</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'b'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'ab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'aab'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'ab'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'aab'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Put simply, <code class=\"language-text\">+</code> means ‚ÄúI don‚Äôt care how many times, just be there‚Äù ‚Äî useful for catching characters that must be present.</p>\n<h2 id=\"nice-to-know-advanced-features\" style=\"position:relative;\">Nice-to-Know Advanced Features<a href=\"#nice-to-know-advanced-features\" aria-label=\"nice to know advanced features permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>So far we‚Äôve covered the basics: character classes, anchors, flags, and quantifiers. This is enough for most business situations, but occasionally you‚Äôll hit cases where these alone become unwieldy.</p>\n<p>Let‚Äôs look at some features that make regex more convenient to work with.</p>\n<h3 id=\"capturing-remembering-patterns\" style=\"position:relative;\">Capturing: Remembering Patterns<a href=\"#capturing-remembering-patterns\" aria-label=\"capturing remembering patterns permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Regex doesn‚Äôt just match patterns ‚Äî it can also remember matched patterns. This capturing ability is useful for string replacement (distinguishing parts that should change from parts that shouldn‚Äôt), finding duplicates, and more.</p>\n<p>For example, consider a string representing a dollar amount: <code class=\"language-text\">$10000</code>. What pattern captures this?</p>\n<p>A dollar amount means <code class=\"language-text\">$</code> followed by at least one digit to be meaningful. A simple expression matching <code class=\"language-text\">$</code> followed by one or more digits does the trick. (Remember that bare <code class=\"language-text\">$</code> is the end-of-string anchor, so escape it with <code class=\"language-text\">\\</code>.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'$10000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$\\d+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"$10000\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Now, what if we want to change <code class=\"language-text\">$10000</code> to <code class=\"language-text\">10000 dollars</code>?</p>\n<p>You might think of <code class=\"language-text\">String.prototype.replace</code>, but the pattern above captures <code class=\"language-text\">$10000</code> as a whole ‚Äî there‚Äôs no way to keep <code class=\"language-text\">10000</code> while replacing just the <code class=\"language-text\">$</code>.</p>\n<p>We need a way to remember a specific part of the match. This is where capturing comes in.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Wrap the part you want to remember in parentheses!</span>\n<span class=\"token operator\">/</span>\\<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>\\d<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The only difference from before is wrapping <code class=\"language-text\">\\d+</code> in parentheses. This tells regex to capture that part.</p>\n<p>The second argument of <code class=\"language-text\">String.prototype.replace</code> is the replacement string. Captured patterns can be referenced there using the special <code class=\"language-text\">$n</code> syntax.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'$10000'</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$(\\d+)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$1 dollars'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">\"10000 dollars\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">$1</code> refers to the first captured group. With multiple capture groups, you can use <code class=\"language-text\">$2</code>, <code class=\"language-text\">$3</code>, and so on.</p>\n<p>Capturing is also useful for finding repeated characters, since repetition means a previously seen character appears again consecutively:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\w)\\1</span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Here I captured a Word character with <code class=\"language-text\">(\\w)</code>, then referenced it with <code class=\"language-text\">\\1</code> ‚Äî expressing the pattern of repetition.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'aabccdeef'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\w)\\1</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ee\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Expressions like <code class=\"language-text\">(.)\\1{2}</code> (combined with quantifiers) are useful for password validation rules like ‚Äúthe same character must not repeat 3 or more times.‚Äù</p>\n<h3 id=\"greedy-vs-lazy\" style=\"position:relative;\">Greedy vs. Lazy<a href=\"#greedy-vs-lazy\" aria-label=\"greedy vs lazy permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Earlier we learned about the <code class=\"language-text\">+</code> (1 or more) and <code class=\"language-text\">*</code> (0 or more) quantifiers. Using ‚Äún or more‚Äù quantifiers creates an ambiguity in pattern matching:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Find all strings wrapped in &lt; and >!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.*></span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">\"&lt;p>This is p tag&lt;/p>\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"&lt;p>This is p tag&lt;/p>\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>My regex just says ‚Äúfind anything wrapped in <code class=\"language-text\">&lt;</code> and <code class=\"language-text\">></code>,‚Äù so it might seem natural that it captures the entire <code class=\"language-text\">&lt;p>This is p tag&lt;/p></code>. But <code class=\"language-text\">&lt;p></code> and <code class=\"language-text\">&lt;/p></code> individually also match this pattern.</p>\n<p>Regex defaults to matching the longest possible pattern ‚Äî this is called <strong>greedy</strong> matching. It greedily gobbles up the longest match it can find. <del>(This is unrelated to the Greedy algorithm concept, despite sharing the name.)</del></p>\n<p>So how do you capture the smaller matches like <code class=\"language-text\">&lt;p></code> and <code class=\"language-text\">&lt;/p></code>?</p>\n<blockquote>\n<p>Make the regex <strong>lazy</strong>.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Find all strings wrapped in &lt; and > ‚Äî lazily!</span>\n<span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.*?></span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">\"&lt;p>This is p tag&lt;/p>\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"&lt;p>\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;/p>\"</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The only change is adding <code class=\"language-text\">?</code> after the <code class=\"language-text\">*</code> quantifier. Lazy matching finds the shortest possible matches. Given the same expression, it finds the minimal match and calls it a day ‚Äî hence ‚Äúlazy.‚Äù</p>\n<p>In summary: quantifiers like <code class=\"language-text\">*</code> and <code class=\"language-text\">+</code> default to greedy matching (longest possible). Adding <code class=\"language-text\">?</code> after them switches to lazy matching (shortest possible).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Greedy</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token operator\">/</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.+></span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token comment\">// Lazy</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">?</span><span class=\"token operator\">></span><span class=\"token operator\">/</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;.+?></span><span class=\"token regex-delimiter\">/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Without understanding the difference between greedy and lazy matching, you‚Äôll fail to capture the patterns you want when multiple valid matches exist. Keep this distinction in mind.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I first encountered regex as a college student, building a parser that converted OBJ files into <a href=\"https://threejs.org/\" target=\"_blank\" rel=\"nofollow\">ThreeJS</a> objects. That required seriously heavy regex usage. <del>(The OBJ Loader that ThreeJS provided at the time had a bug üò¢)</del></p>\n<p>OBJ files represent vertex coordinates, texture UV mapping coordinates, vertex normals, and more:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># Vertex coordinates\nv -1.692615 -0.021714 -1.219301\nv 7.334266 -0.021714 -1.219302\nv 7.334265 0.021714 -1.219302\n...\n\n# Texture UV values\nvt 0.0000 0.0000\nvt 1.0000 0.0000\n...\n\n# Vertex normals\nvn -0.0000 -0.0000 -1.0000\nvn 0.0000 -1.0000 -0.0000\n\nusemtl Material.001\n\n# Vertex indices for each face\nf 1/1/1 4/2/1 3/3/1 2/4/1\nf 8/5/2 5/6/2 6/7/2 7/8/2</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>I used the <code class=\"language-text\">m</code> flag to split the file line by line, then parsed lines starting with <code class=\"language-text\">v</code> as vertex coordinates, <code class=\"language-text\">vt</code> as texture UVs, <code class=\"language-text\">vn</code> as normals, and so on. It was challenging and complex, but fun.</p>\n<p>It was eye-opening to realize that computer-generated files are really just sequences of meaningful strings ‚Äî and even more fun that regex could transform those strings into meaningful information.</p>\n<p>But as I mentioned, regex is used far more often in everyday business logic than in building parsers. For validating user input like passwords or email addresses, regex is practically a cheat code.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 399px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f8ab432328c5d8bafe5aa95518ad4df2/a307d/password_rule.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVR42p1T2Y7CMBDr///c8sA+8oSABnoftMmk8XpSjiJYCYjkJk0ztjMzTfqmwe96jZ/VClVdw3sPay2ccx9BRKAjKcsKTd2gbduv0XUd8jyPxElVVVDUdPctGt5SCdVlInK17OHkbn+Jec897WlqlgghINGcqUJRFDGHTUv7XBdFieyUoeQcHWQZjDHI6ETdDMMQc6YkOpRnmqaZ0DmLkXkYux6WGEigihqkszqydozv4zhGaNxy3An5CAzwVPV0JCaFbLe4yOPd8eAwEJ6FkdMpwpcF7GZzu84XhHTY1JDjkU4LSMYW2O+iyLtOnx2yEHI0dFdCtKfSAyRN59M8+ED6QuCRkAuJ+TPz1VnZmMsr4ccOL0WR/Z7XzeguhdN8ktweDnAUmvoenlV2ux2FzJPQjTD+g/wQ2B5Tf55nBk5sjTDamFvPlgpsZBUO/BbO5/8dKqG+aPu8BMVe7mvMAsqjf8of4zBFjqIV43cAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"password rule\" title=\"\" src=\"/static/f8ab432328c5d8bafe5aa95518ad4df2/a307d/password_rule.png\" srcset=\"/static/f8ab432328c5d8bafe5aa95518ad4df2/69538/password_rule.png 160w,\n/static/f8ab432328c5d8bafe5aa95518ad4df2/72799/password_rule.png 320w,\n/static/f8ab432328c5d8bafe5aa95518ad4df2/a307d/password_rule.png 399w\" sizes=\"(max-width: 399px) 100vw, 399px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>You can validate with built-in methods alone, but regex makes it far simpler</small>\n</center>\n<p>Without regex, validating something as simple as an email address requires combining multiple built-in methods ‚Äî quite inefficient. And personally, as hard as regex is to read, I think it‚Äôs still more readable than a complex chain of method calls.</p>\n<p>Regex doesn‚Äôt have lines or indentation like code, so it looks like a meaningless jumble of characters. But the number of expressions regex provides isn‚Äôt that large, and with a bit of practice, anyone can understand short regex patterns quickly.</p>\n<p>That‚Äôs all for this post on finding patterns in irregularity. In the next post, I‚Äôll walk through real-world examples of how I‚Äôve used regex as a working developer.</p>","fields":{"slug":"20200724-about-regular-expression-en","path":"/2020/07/24/about-regular-expression/en/","lang":"en"},"frontmatter":{"title":"Finding Patterns in Irregularity: A Guide to Regular Expressions","subTitle":"The art of defining patterns in infinite possibility","date":"Aug 10, 2020","categories":["Programming","Tutorial"],"tags":["Regex","Regular Expression","Character Class","Anchor","Capturing Group","Greedy","Lazy"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/d803c/thumbnail.png 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/fc5c5/thumbnail.webp 320w,\n/static/c9a689e73a6e0677baa07d0624c6b5c1/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png","srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/c9a689e73a6e0677baa07d0624c6b5c1/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}],"pageInfo":{"currentPage":2,"pageCount":7}}},"pageContext":{"limit":15,"skip":15,"lang":"en","totalCount":96}},"staticQueryHashes":["3523904809","650499039"],"slicesMap":{}}