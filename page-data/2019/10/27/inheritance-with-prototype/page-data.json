{"componentChunkName":"component---src-templates-post-page-template-index-tsx","path":"/2019/10/27/inheritance-with-prototype/","result":{"data":{"markdownRemark":{"id":"a9680e03-58e1-5f68-82fa-94e0e953b3fa","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0%EC%99%80-%EB%A9%94%EC%86%8C%EB%93%9C%EB%8A%94-%EC%9B%90%EB%B3%B8-%EA%B0%9D%EC%B2%B4%EB%A5%BC-%ED%86%B5%ED%95%B4-%EA%B3%B5%EC%9C%A0%EB%90%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\">프로퍼티와 메소드는 원본 객체를 통해 공유될 수 있다</a></p>\n<ul>\n<li><a href=\"#%EC%83%9D%EC%84%B1%EC%9E%90-%ED%95%A8%EC%88%98-%EB%82%B4%EC%97%90%EC%84%9C-this%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">생성자 함수 내에서 this를 사용하는 방법</a></li>\n<li><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-%EA%B0%9D%EC%B2%B4%EC%97%90-%EC%A0%95%EC%9D%98%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">프로토타입 객체에 정의하는 방법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-%EB%A3%A9%EC%97%85\">프로토타입 룩업</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%83%81%EC%86%8D\">프로토타입을 사용한 상속</a></p>\n<ul>\n<li><a href=\"#objectcreate%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90\">Object.create를 사용하자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 이전 포스팅에 이어, 프로토타입을 사용한 다양한 상속 패턴에 대한 이야기를 해볼까 한다. 사실 자바스크립트에는 상속이나 캡슐화와 같은 개념이 명시적으로 존재하지는 않기 때문에 자바나 C++ 같은 클래스 기반 언어를 사용하던 개발자들은 자바스크립트에 클래스가 없다는 사실에 혼란스러워한다.","html":"<p>이번 포스팅에서는 <a href=\"/2019/10/23/js-prototype/\">이전 포스팅</a>에 이어, 프로토타입을 사용한 다양한 상속 패턴에 대한 이야기를 해볼까 한다.</p>\n<p>사실 자바스크립트에는 상속이나 캡슐화와 같은 개념이 명시적으로 존재하지는 않기 때문에 자바나 C++ 같은 클래스 기반 언어를 사용하던 개발자들은 자바스크립트에 클래스가 없다는 사실에 혼란스러워한다.</p>\n<!-- more -->\n<p>즉, 자바스크립트에서의 상속이나 캡슐화 등은 OOP(객체지향프로그래밍)에 익숙한 개발자들이 자바스크립트에서도 이런 개념들을 가져다 사용하기 위해 프토토타입을 사용하여 이를 유사하게 구현한 일종의 디자인 패턴이라고 할 수 있다.</p>\n<p>자바스크립트에서의 상속은 프로토타입 체인을 사용하여 구현하고, 캡슐화는 클로저를 사용해서 구현하게 되는데, 이번 포스팅에서는 이 중 프로토타입을 사용한 상속 패턴에 집중해서 설명해볼까 한다.</p>\n<h2 id=\"프로퍼티와-메소드는-원본-객체를-통해-공유될-수-있다\" style=\"position:relative;\">프로퍼티와 메소드는 원본 객체를 통해 공유될 수 있다<a href=\"#%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0%EC%99%80-%EB%A9%94%EC%86%8C%EB%93%9C%EB%8A%94-%EC%9B%90%EB%B3%B8-%EA%B0%9D%EC%B2%B4%EB%A5%BC-%ED%86%B5%ED%95%B4-%EA%B3%B5%EC%9C%A0%EB%90%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"프로퍼티와 메소드는 원본 객체를 통해 공유될 수 있다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>객체의 상속을 알아보기 전에 객체를 생성할 때 프로퍼티와 메소드를 부여하는 방법에 대해서 알아보도록 하자. <a href=\"/2019/10/23/js-prototype/\">이전 포스팅</a>에서 필자는 자바스크립트는 클래스가 아닌 함수를 사용하여 객체를 생성한다고 이야기 했었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이때 <code class=\"language-text\">User</code> 함수를 생성자로 호출하면서 생성된 <code class=\"language-text\">evan</code> 객체는 <code class=\"language-text\">User.prototype</code> 객체를 원본 객체로 하여 복제된 객체이다.</p>\n<p>이때 두 가지 방법을 사용하여 새롭게 생성되는 객체들에게 프로퍼티나 메소드를 부여할 수 있는데, 첫 번째는 생성자 함수 내에서 <code class=\"language-text\">this</code>를 사용하여 선언하는 방법, 두 번째는 새롭게 생성되는 객체들이 복사할 원본 객체인 프로토타입 객체에 선언하는 방법이다.</p>\n<p>먼저, <code class=\"language-text\">this</code>를 사용하여 프로퍼티나 메소드를 정의하는 방법에 대해서 살펴보자.</p>\n<h3 id=\"생성자-함수-내에서-this를-사용하는-방법\" style=\"position:relative;\">생성자 함수 내에서 this를 사용하는 방법<a href=\"#%EC%83%9D%EC%84%B1%EC%9E%90-%ED%95%A8%EC%88%98-%EB%82%B4%EC%97%90%EC%84%9C-this%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"생성자 함수 내에서 this를 사용하는 방법 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>자바스크립트도 생성자 역할을 하는 함수 내에서 <code class=\"language-text\">this</code>를 사용하여 다른 언어와 비슷한 느낌으로 객체들에게 프로퍼티나 메소드를 부여할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Hello, World!</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>참고로 생성자 함수 내에서 <code class=\"language-text\">strict</code> 모드를 사용한 이유는, 해당 생성자 함수가 실수로 <code class=\"language-text\">new</code> 예약어 없이 호출되어 <code class=\"language-text\">this</code>가 전역 객체로 평가되는 불상사를 방어하기 위해서이다. <small>(이 내용은 프로토타입과는 관련이 없기 때문에 자세히 다루지는 않겠다)</small></p>\n<p>이 방법은 일반적인 생성자의 사용 방법과 비슷해서 직관적으로 이해가 되는 편이다. 이때 생성자 함수 안의 <code class=\"language-text\">this</code>는 새롭게 생성된 객체를 의미하기 때문에, 함수 내에서 <code class=\"language-text\">this</code>를 통해 정의한 프로퍼티나 메소드는 이 생성자 함수를 사용하여 객체가 생성될 때마다 새롭게 정의된다.</p>\n<p>무슨 말인지 조금 더 쉽게 알아보기 위해 생성자 함수를 통해 두 개의 새로운 객체를 생성하고, 이 객체들의 메소드를 비교해도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>say <span class=\"token operator\">===</span> john<span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>생성자 함수가 호출될 때 <code class=\"language-text\">this</code>는 각각 <code class=\"language-text\">evan</code> 객체와 <code class=\"language-text\">john</code> 객체를 의미했을 것이고, <code class=\"language-text\">say</code> 메소드 또한 이 객체들에게 직접 할당되었을 것이다. 자바스크립트의 완전항등연산자(<code class=\"language-text\">===</code>)는 다른 메모리에 적재된 객체는 다르다고 평가하므로 이 두 객체의 메소드들은 각자 다른 메모리에 담긴, 전혀 다른 함수라고 할 수 있다.</p>\n<p>이때 <code class=\"language-text\">evan</code> 객체나 <code class=\"language-text\">john</code> 객체를 출력해보면, 객체 내부에 <code class=\"language-text\">say</code> 메소드가 정의되어 있는 모습 또한 확인해볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">User <span class=\"token punctuation\">{</span><span class=\"token function-variable function\">say</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>필자가 이와 같은 당연한 이야기를 강조하는 이유는 바로 밑에서 후술할 프로토타입 객체에 정의하는 방법과의 차이점을 분명히 하기 위해서이다. 프로토타입 객체를 사용해서 프로퍼티나 메소드를 정의하게되면 지금과는 전혀 다른 결과가 나온다.</p>\n<h3 id=\"프로토타입-객체에-정의하는-방법\" style=\"position:relative;\">프로토타입 객체에 정의하는 방법<a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-%EA%B0%9D%EC%B2%B4%EC%97%90-%EC%A0%95%EC%9D%98%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"프로토타입 객체에 정의하는 방법 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이번에는 <code class=\"language-text\">User</code> 생성자 함수의 프로토타입 객체인 <code class=\"language-text\">User.prototype</code>을 사용하여 메소드를 한번 정의해보도록 하자. <code class=\"language-text\">this</code>를 통해서 정의하는 방법과 어떤 차이가 있을까?</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Hello, World!</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>일단 <code class=\"language-text\">this</code>를 사용하여 정의했던 메소드와 동일한 느낌으로 작동하고 있다. 그래서 동일한 동작이라고 생각할 수도 있지만, 사실 두 방법들 사이에는 중요한 차이가 존재한다.</p>\n<p>바로 생성자 함수를 통해 생성된 모든 객체들이 해당 메소드를 “공유하고 있냐, 없냐”의 차이이다. 이전과 마찬가지로 두 개의 객체를 생성하고, 두 객체의 메소드를 비교해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>say <span class=\"token operator\">===</span> john<span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>음? 이번에는 아까와는 다르게 두 객체의 메소드가 같다고 한다. 방금 전과는 다르게 이번에는 <code class=\"language-text\">evan.say</code>와 <code class=\"language-text\">john.say</code>가 객체에 따로따로 정의된 메소드가 아닌, 원본 객체의 메소드를 공유하고 있는 상황이기 때문이다.</p>\n<p>생성된 <code class=\"language-text\">evan</code> 객체를 한번 콘솔에 출력해보면, 원본 객체의 프로퍼티나 메소드를 공유하고 있다는 말이 무엇인지 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">User <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">evan</code> 객체를 출력해보니, 이 객체는 아무 메소드나 프로퍼티도 가지고 있지 않고 텅 비어있는 친구다.</p>\n<p>즉, 생성자 함수 내에서 <code class=\"language-text\">this</code>를 사용하지 않고, 원본 객체에 메소드나 프로퍼티를 정의하게 되면 객체들에게는 해당 프로퍼티가 없고, 원본 객체의 프로퍼티나 메소드를 참조한다는 것이다.</p>\n<p>이 특징을 제대로 인지하지 못하면 이런 상황도 발생할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Evan\nEvan</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>그렇기 때문에 각 객체마다 고유한 프로퍼티를 부여하고 싶다면 원본 객체에 정의하는 것이 아니라, 생성자 함수 내에서 <code class=\"language-text\">this</code>를 사용하여 정의해야한다. 다시 말하지만 <strong>원본 객체에 정의한 프로퍼티나 메소드는 생성된 객체들끼리 공유된다</strong>.</p>\n<p>한 가지 이상한 점은, 분명히 <code class=\"language-text\">evan</code> 객체에는 아무런 프로퍼티나 메소드도 없었는데, 필자는 분명히 <code class=\"language-text\">evan.say</code>를 통해 해당 메소드에 접근할 수 있었다는 것이다. 어떻게 이런 일이 가능한 것일까?</p>\n<h2 id=\"프로토타입-룩업\" style=\"position:relative;\">프로토타입 룩업<a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-%EB%A3%A9%EC%97%85\" aria-label=\"프로토타입 룩업 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>그 질문에 대한 해답은 바로 자바스크립트가 객체 내에서 프로퍼티를 찾는 방법 중 하나인 프로토타입 룩업(Prototype Lookup)에서 알아볼 수 있다. 방금 전 자바스크립트가 <code class=\"language-text\">evan</code> 객체에서 <code class=\"language-text\">say</code> 메소드를 찾아냈던 과정은 다음과 같다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3caa593b82cbd86bf7af67e4dff11475/a2498/prototype_lookup.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAD2EAAA9hAHVrK90AAABiUlEQVR42pVSu2oCURDdGC0sbVKE4B9YWfkLWiSF+YCkskt62TqQ3xERF0VECxE1yKKID1B84BOX9YFys07mLG5YjJJkYJh7Z86cO/fcK0knRkTXiK1W63G1WlG5XDbS6fShWCwauq4T8nbcr2YBJ5NJeDqdglBUq9XPfD4v5vM5If9fQgdiPB6PYML1em1w7sCOSIlEImLH/YXwioMjFosF2+12NpfLJTkqfN3kYrHIMmEI9SPuLIEzk8mYXiqVXEegm9114Uzk3cABb/WCB346GeJdoVB47nQ6IUsnW83Jj3LPD/TE61t77dvG47Fcr9flRqMhj0ajKPu7oiivtVrtwTrRRujiBwqnUqmXwWDwxr1R9MLB02w2ZYCINSImMEXfbDYfXq/XA50uXNmBOnDAq6pq8NRYEmtMEhfEcDgU2+12jySLXwkEAjd+v/+shsijrmlaZbfbEU+6ZxPcKmazmZD4itTr9Wi5XJoT8l49TvhDH2vv8/k83W5Xxb/kXvPD82DU7/fpC7lobzt/8ly5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prototype lookup\" title=\"\" src=\"/static/3caa593b82cbd86bf7af67e4dff11475/6af66/prototype_lookup.png\" srcset=\"/static/3caa593b82cbd86bf7af67e4dff11475/69538/prototype_lookup.png 160w,\n/static/3caa593b82cbd86bf7af67e4dff11475/72799/prototype_lookup.png 320w,\n/static/3caa593b82cbd86bf7af67e4dff11475/6af66/prototype_lookup.png 640w,\n/static/3caa593b82cbd86bf7af67e4dff11475/d9199/prototype_lookup.png 960w,\n/static/3caa593b82cbd86bf7af67e4dff11475/21b4d/prototype_lookup.png 1280w,\n/static/3caa593b82cbd86bf7af67e4dff11475/a2498/prototype_lookup.png 1764w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<blockquote>\n<ol>\n<li><code class=\"language-text\">evan.say</code>로 접근 시도</li>\n<li>어, <code class=\"language-text\">say</code> 프로퍼티가 없네? <code class=\"language-text\">__proto__</code>를 통해 원본 객체로 올라가보자!</li>\n<li><code class=\"language-text\">User.prototype</code>객체야, 너는 <code class=\"language-text\">say</code> 프로퍼티 가지고 있니?</li>\n<li>있네? Profit!</li>\n</ol>\n</blockquote>\n<p>이런 식으로 우리가 어떤 객체의 프로퍼티에 접근을 시도했을 때, 자바스크립트는 먼저 그 객체가 해당 프로퍼티를 가지고 있는지를 확인하고, 해당 프로퍼티가 없다면 그 객체의 원본 객체로 거슬러 올라가서 다시 확인하게 된다.</p>\n<p>이 집요한 확인 과정은 모든 객체의 조상인 <code class=\"language-text\">Object.prototype</code>에 다다를 때까지 계속되고, 만약 여기에도 존재하지 않는 프로퍼티라면 그때서야 <code class=\"language-text\">undefined</code>를 반환하게 된다.</p>\n<p>이 말인 즉슨, 모든 객체는 자신의 프로토타입 체인 내에 있는 모든 원본 객체들의 프로퍼티나 메소드에 접근할 수 있다는 뜻이다.</p>\n<p>쉽게 말해, 방금 생성한 <code class=\"language-text\">evan</code> 객체는 아무 프로퍼티나 메소드도 가지고 있지 않지만, 자신의 원본 객체인 <code class=\"language-text\">User.prorotype</code>에 정의된 <code class=\"language-text\">say</code> 메소드도 사용할 수 있고, <code class=\"language-text\">Object.prototype</code>에 있는 <code class=\"language-text\">toString</code>이나 <code class=\"language-text\">hasOwnProperty</code>와 같은 메소드도 사용할 수 있다는 것이다.</p>\n<center>\n  <div style=\"width: 200px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7b54dda3a84203718b2412b4631d61b5/31493/prototype_lookup2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 220.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAYAAABloJjNAAAACXBIWXMAAD2EAAA9hAHVrK90AAAGZUlEQVR42q1XW0xUVxQdrNZiqhapoQVKrJ22SGqTxsQ2fjWm6ZdJv0x/TKyNf36ppdGERBIzxqTph4kzVKdm5OEEjU9QER+8BhWfKIiACCKIKDigyEXg3svuWif3TGcQpJie5GSfOffeffbeZ611zrhc/7a41atXx8Mm5OXl7X/y5Im0tbWNoFu6t7S0WPfv37du376txg8ePFDznOvu7rZKSkqsKH+u9xcuXOiG/aGgoKBU0Gw02rGxMRoJh8NSXV0t58+fF8uyRDfnNamrq5Noh/Pi4+OTOdi7d+9PFy9e/PPSpUvbYT26h0Ihz+nTpz3nzp3zXL58OWb+xo0bHmTmccHxTPS4tLS0hAULFqRyvG3btpmu/6HNQ/9I1xOO33mbzgjLsQFlN2/erEIa1b29vZWYK0L/mJ5hZzlZTNnLy8tnuvr6+towaD1x4kR7UVFROxx3YK4GiyQ5DuOmlSfqNYN2z54989evX5/K8aFDhzIbGhpq79y5U3H37t0QIBK6d+9eCIuF+BtQCTU3N0fm6+vr1dzx48dD0b7npqSkKIc1NTU5DlwsQgYvy/Xr1wU4E2QiFRUVUllZqWDS09MTgc9rsElNTU3h4Nq1a16+gNWtjo4OaW1tFYBXEJEA1ILngggFGcjTp09lcHBQOUSkMQ7nADZLYN8DePcTuLm5uVZ2drbs3LlTCgsLBaUQlEaNvV6vAK8SCARky5YtaiEuElPP5cuXEzouANfPFfv7+y1SELQSbJQw2sePH8vz58/l2bNnKt3Ozk559OiRmKYpV69ejXWoth3typUrKuVXr15ZpNXo6CjHimK0TJFzdEI7MjKiUsamTewQlPMyAlgLVJNTp07J0aNHhePi4mJBBlJVVSXHjh1Tz06ePDlhDaMd+rg60rH4AXeY9amtrZWuri4B+AVIULvOkkB1JtzlmAhfvnzJKKzS0lK5deuW0B45ckRFg81S9sKFCzI8PBxRo/EO41asWDEX9gN8nMu6ANwW6Kg+ZJSECSNkLXVn01I23uFc6OFnsD8CCqWMEGnakCeBPElTU5McPnw4kh6d6chi9JCkprf09PTEZcuWpTlM8QEyfGEYhTeRukmLeprt7e0mvjHhRFl2RKgssGjGMCWKej6uCOxR2hX2WPwXL14omIxv4yP8FfX6Bd43oNC/4ffPqF0JHhajZv7Gxsb9SDcAUQhgPoANCgBvMR1qrZ6DSQE6VJAAmFn4MYfsPYZhpDryNWNa8gWofHX27NklAO13Pp9vJRx+AY6uzMrK+mbTpk3pW7duzWCHzGXk5ORk7Nq1S409Hk+GfrZ582Zl161blzFhDcvKyv5gvcDZAZx0BhYxwFcD6RkogYGaGpA0A/VVz8AqA3g0ICoGhXWW3uWlS5d+yTGg4nfqrbhMyLAkyCZCN8KJ2CQuJ9PD2YmJiek86JF+Hl/Ay6MQVBuObOy8Dac2eGzjuQ3w2wC8DaG14ZjbbGPD7DeqDRxa1D5SjWyhWpOCtGfOnFF6uG/fPjXHRk2c0CFW9Wn50mygWJCOLAGppqVMSxh/syyTigOdYGMsKsvAwIByRiHgx7rTGTvn2ahGMeKwatWqObBJ0LwDpB4WsPx+vzqkou84UzFFAXfx4sXz3W43xeH7/Pz8EooD2ggcmyi6iYKbEAkT0UQ4PCWXk5OTP9FcZn3wosXzgsXGCahgwvTH8zkmQrzwIcYJiOBTpPc1xrOBtd/BzSI4yAdPg8BhEA6DOEaD/I35IOoV6ZwD4IPgcpAp9+FHH7a+H4DtwxnMXOvQ3+4q8vDhw79RGz9ok4t+AM79oFjB7t27v127du2izMzMzzdu3OjG2esGh907duxQY935TD9fs2aNe8KbA8RiO+AyDI72oocxDoOzYSweRgZhcDkMHqt5/WxoaCgMIQ4ruGiHSUlJizjAOfKXU2x1WPBI5VWYxySEQ3VuEM9h4nCyQ+pdh8uJoFWe43CU92xstg19tFEanjGKwzhi1TwbnL6Zy/qyxNuXhgbphuuaHDx4UN1tcLZEwD7ZpT0iZZrLuHJYiExxFjWKHJ10rq8kfO6QYHIuA9heJyqlh/yAgkteR99pNJf/092GJx0+sng35L2G1w78bVD3QS0GU/1Pea2GlC9Gxih0vZg6052WQ0Tk5XmM6Pj3K3J7paXyMGr+1p2nJjnP+84/JJLSlavYgYkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prototype lookup2\" title=\"\" src=\"/static/7b54dda3a84203718b2412b4631d61b5/6af66/prototype_lookup2.png\" srcset=\"/static/7b54dda3a84203718b2412b4631d61b5/69538/prototype_lookup2.png 160w,\n/static/7b54dda3a84203718b2412b4631d61b5/72799/prototype_lookup2.png 320w,\n/static/7b54dda3a84203718b2412b4631d61b5/6af66/prototype_lookup2.png 640w,\n/static/7b54dda3a84203718b2412b4631d61b5/31493/prototype_lookup2.png 664w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>evan 객체는 프토토타입 체인 내에 있는 모든 원본 객체의 프로퍼티를 공유받는다</small>\n  <br>\n  <br>\n</center>\n<p>이 프로토타입 룩업 과정은 객체의 프로퍼티나 메소드에 접근하는 그 순간마다 수행되기 때문에, 클래스가 정의될 때 모든 상속관계가 함께 평가되는 클래스 기반 언어의 상속과는 조금 다른 느낌이다.</p>\n<p>그러나 추상적으로 생각해보면 원본 객체(부모)의 속성을 물려받고 있다는 점에서 착안하여, 프로토타입 룩업을 토대로 상속을 구현할 수 있다.</p>\n<h2 id=\"프로토타입을-사용한-상속\" style=\"position:relative;\">프로토타입을 사용한 상속<a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%83%81%EC%86%8D\" aria-label=\"프로토타입을 사용한 상속 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자바스크립트에서 프로토타입을 사용하여 상속을 구현하는 방법은 크게 <code class=\"language-text\">Object.create</code> 메소드를 사용하는 방법과 이 메소드를 사용하지않는 <small>(더러운)</small> 방법, 두 가지로 나누어질 수 있다.</p>\n<p>사실 <code class=\"language-text\">Object.create</code>만 사용해도 프로토타입을 사용한 상속은 충분히 구현이 가능하다. 하지만 굳이 두 가지를 나눠서 이야기한 이유는, <code class=\"language-text\">Object.create</code> 메소드가 Internet Explorer 9부터 지원이 되기 때문이다.</p>\n<p>하지만 필자의 행복을 위해 쓰는 포스팅에서 IE 8 이하 환경에 대한 자세한 이야기는 별로 하고 싶지 않으므로 <code class=\"language-text\">Object.create</code>를 사용하지 않는 방법에 대한 코드를 간단하게 <a href=\"https://gist.github.com/evan-moon/a7e5a51e20d22016ea443a03480765b7\" target=\"_blank\" rel=\"nofollow\">필자의 Github Gist 링크</a>로 첨부하겠다.</p>\n<h3 id=\"objectcreate를-사용하자\" style=\"position:relative;\">Object.create를 사용하자<a href=\"#objectcreate%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90\" aria-label=\"objectcreate를 사용하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">Object.create</code> 메소드는 첫 번째 인자로 생성할 객체의 원본 객체가 될 객체, 두 번째 인자로 새로 생성할 객체에 추가할 프로퍼티를 객체 타입으로 받는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>proto<span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span> properties<span class=\"token operator\">?</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이때 두 번째 인자는 선택사항이며, 단순하게 <code class=\"language-text\">{ test: 1 }</code>처럼 넘기는 것이 아니라, <code class=\"language-text\">Object.defineProperties</code> 메소드를 사용할 때 처럼 데이터 서술자와 접근 서술자를 지정해줘야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'I am Foo!'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>자세한 프로퍼티들의 의미는 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties\" target=\"_blank\" rel=\"nofollow\">MDN Web Docs: Object.defineProperties</a>에서 확인해보도록 하자.</p>\n<p>이 메소드에서 중요한 포인트는 객체의 프로토타입 객체를 지정할 수 있다는 것이며, 이 말인 즉슨 객체의 프로토타입 체인을 내 맘대로 만져줄 수 있다는 것이다. 심지어 동적으로 변경도 가능하다. <small>(사실 이게 JS의 변태적인 면…)</small></p>\n<p>그럼 이제 <code class=\"language-text\">Object.create</code> 메소드와 프로토타입을 사용하여 상속을 한번 구현해보도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuperClass</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">SuperClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">I am </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>우선 부모 클래스 역할을 할 <code class=\"language-text\">SuperClass</code> 생성자 함수를 생성하고, 이 함수의 프로토타입 객체에 <code class=\"language-text\">say</code> 메소드를 정의했다. 그럼 이제 자식 클래스 역할을 할 생성자 함수를 구현하고, 이 두 개의 함수의 상속 관계도 함께 정의해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SubClass</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">SuperClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SuperClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> SubClass<span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">run</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is running</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>뭘 이것저것 많이 만진 것 같지만, 막상 하나하나 뜯어보면 별 거 없다.</p>\n<h4 id=\"superclasscallthis\" style=\"position:relative;\">SuperClass.call(this)<a href=\"#superclasscallthis\" aria-label=\"superclasscallthis permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">Function.prototype.call</code> 메소드는 호출된 함수의 실행 컨텍스트를 첫 번째 인자로 받은 녀석으로 변경한다. 즉, <code class=\"language-text\">this</code>의 타겟을 변경하는 것이다.</p>\n<p>즉, <code class=\"language-text\">SuperClass.call(this, name)</code>의 의미는 부모 생성자 함수의 생성자를 호출하되, 실행 컨텍스트를 자식 생성자 함수로 변경하라는 의미이다. 자바로 치면 <code class=\"language-text\">super</code> 메소드를 호출하는 것과 비슷한 느낌이랄까.</p>\n<p>필자는 이때 <code class=\"language-text\">call</code> 메소드를 사용했지만, 뭐가 됐든 부모 생성자 함수의 실행 컨텍스트만 변경해주면 장땡이기 때문에 <code class=\"language-text\">apply</code>나 <code class=\"language-text\">bind</code> 메소드를 사용해도 상관없다.</p>\n<h4 id=\"subclassprototype-변경\" style=\"position:relative;\">SubClass.prototype 변경<a href=\"#subclassprototype-%EB%B3%80%EA%B2%BD\" aria-label=\"subclassprototype 변경 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>그 후 <code class=\"language-text\">Object.create</code> 메소드를 사용하여 <code class=\"language-text\">SuperClass.prototype</code> 객체를 원본 객체로 하는 새로운 객체를 생성하고, 이 객체를 <code class=\"language-text\">SubClass</code>의 프로토타입 객체로 할당해준다. 자식 생성자 함수의 프로토타입 객체와 부모 생성자 함수의 프로토타입 객체 간의 프로토타입 체인, 쉽게 말해 부모 자식 관계를 만들어 주는 것이다.</p>\n<h4 id=\"subclassprorotypeconstructor-변경\" style=\"position:relative;\">SubClass.prorotype.constructor 변경<a href=\"#subclassprorotypeconstructor-%EB%B3%80%EA%B2%BD\" aria-label=\"subclassprorotypeconstructor 변경 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>우리는 부모 생성자 함수의 프로토타입 객체를 토씨 하나 안바꾸고 그대로 복제했기 때문에, 새롭게 생성한 자식 생성자 함수의 프로토타입 객체의  <code class=\"language-text\">constructor</code> 프로퍼티는 여전히 부모 생성자 함수인 <code class=\"language-text\">SuperClass</code>를 참조하고 있다.</p>\n<p>하지만 자식 생성자 함수인 <code class=\"language-text\">SubClass</code>를 통해 생성된 객체가 <code class=\"language-text\">SuperClass</code>를 사용하여 생성된 것처럼 처리되면 안되므로, 다시 <code class=\"language-text\">constructor</code> 프로퍼티를 <code class=\"language-text\">SubClass</code>로 변경해줘야한다.</p>\n<p>이런 과정들을 거치면 다음과 같은 관계가 성립된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/a3c4c/extends.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAD2EAAA9hAHVrK90AAAB/klEQVR42qVSOYtaURR2BrKQFCkCmSappphJkTbFFCEIQggYcILKaBIdAhbpUoRMZ+ef0NZWHTQyATfEQm0EN8R9eS+uuO++d2++e3EmPyAHDufB+d453z3fpxiPx1SSJJrJZGggEGBVpojhcPjHZDKd+ny+r8gfGo3m+Wg0ut5utzSdTkvhcJjG43FaKBRkQgirSgULURRJs9kkvV6PzGYzslwuJTZwvV63bDbb00ql8qpUKp0BegDc9XQ6pYPBYAsiBN8ElePdbvdHPnCxWFC2geU+OMPNZiMqlcojl8t14fF4vgP6pFwu/8Yw2u12JfovOD4Wi73nAxuNhh5b9O12Wy8IAqu6Tqdzge8PWq32vsViuWe1Wh8ybLVafVMsFj+Bse4Wj9T1+31DMBg89vv9DxT/EyB2sK+PIpHIt0QicaWo1+tG3NGIzTxrtZoBT/rcarXOGbv9D4esovcWvUvGKJvNGnFTI+5uwBlMDofjRKVSPeY3ZAHqNBqNsspvAnFEDDwNhUIWKHplNptfzOdzD+vhyVIymaSpVIqCDMeD3TtOG7cgYEMmkwmBskRiHkLAHgKs8sxut790Op2vAT3Esl9MFCi/Q5+sVqs7V9yJAr9RbGaqcqV3ux3fCLCgVquPvF7vF/jwJ1M5l8vd5PN5iudKsizTfXL8rQ//Atnk4klMaXG1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"extends\" title=\"\" src=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/6af66/extends.png\" srcset=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/69538/extends.png 160w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/72799/extends.png 320w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/6af66/extends.png 640w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/d9199/extends.png 960w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/21b4d/extends.png 1280w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/a3c4c/extends.png 2196w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>이제 한번 <code class=\"language-text\">SubClass</code> 생성자 함수를 사용하여 객체를 생성해보고, 제대로 부모 생성자 함수의 속성들을 물려받았는지 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Evan'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">SubClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// 에반 객체</span>\nSubClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">constructor</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token operator\">:</span> SubClass<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// 에반 객체의 원본 객체</span>\nSuperClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// 에반 객체의 원본 객체의 원본 객체</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">evan</code> 객체는 <code class=\"language-text\">SubClass</code>의 프로토타입 객체를 복제해서 정상적으로 생성되었고, <code class=\"language-text\">evan</code> 객체의 원본 객체와 원본 객체의 원본 객체도 잘 체이닝되어있다.</p>\n<p>즉, <code class=\"language-text\">evan</code> -> <code class=\"language-text\">SubClass.prototype</code> -> <code class=\"language-text\">SuperClass.prototype</code>으로 이어지는 프로토타입 체인이 완성된 것이다. 이때 <code class=\"language-text\">evan</code> 객체의 <code class=\"language-text\">run</code>이나 <code class=\"language-text\">say</code> 메소드를 호출하면, 위에서 언급한 프로토타입 룩업을 통해 원본 객체의 메소드를 호출할 수 있다.</p>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><a href=\"/2019/10/23/js-prototype/\">이전 포스팅</a>에 이어 이번에는 자바스크립트에서 프로토타입을 활용한 상속 패턴에 대한 내용을 한번 다뤄보았다.</p>\n<p>솔직히 말해서, 필자가 실무에서 이러한 패턴을 사용해서 상속을 구현해본 경험은 거의 없다. 필자가 개발자로 일을 시작하고 얼마 되지 않아 ES6가 나오기도 했었고, 필자는 당시 자바가 더 익숙했기 때문에 새로 추가된 <code class=\"language-text\">class</code> 키워드에 흠뻑 빠져있었다.</p>\n<p>하지만 일을 시작하고 몇 년이 지나면서 레거시 코드에서 이 상속 패턴을 꽤 마주치기도 했고, 면접에서 이런 패턴에 대해서 물어보는 경우도 있었기 때문에 확실히 공부할 필요는 있는 것 같다.</p>\n<p>아무리 요즘 ES5를 거의 사용하지 않는다고 하지만, 사실 이런 상속 패턴이 자바스크립트를 사용한 프로그램 아키텍처의 근간이기도 하니 말이다.</p>\n<p>이상으로 프로토타입을 사용하여 상속하기 포스팅을 마친다.</p>","fields":{"slug":"20191027-inheritance-with-prototype","path":"/2019/10/27/inheritance-with-prototype/","lang":"ko"},"frontmatter":{"title":"[JS 프로토타입] 프로토타입을 사용하여 상속하기","subTitle":"자바스크립트에서 상속이 실제로 작동하는 방식, 프로토타입 체인","date":"Oct 27, 2019","categories":["프로그래밍","자바스크립트"],"tags":["프로토타입","자바스크립트","JavaScript","Prototype","자바스크립트 기초","프론트엔드 기초","자바스크립트 상속","자바스크립트 클래스"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ffc88c93a54f1c5d1783f61478e57588/d803c/thumbnail.png","srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/d803c/thumbnail.png 320w,\n/static/ffc88c93a54f1c5d1783f61478e57588/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/fc5c5/thumbnail.webp 320w,\n/static/ffc88c93a54f1c5d1783f61478e57588/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ffc88c93a54f1c5d1783f61478e57588/01fb2/thumbnail.png","srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}},"allMarkdownRemark":{"edges":[{"node":{"id":"a4fa5185-a7ee-51e2-b7db-9147ee3bced8","tableOfContents":"<ul>\n<li>\n<p><a href=\"#properties-and-methods-can-be-shared-through-the-original-object\">Properties and Methods Can Be Shared Through the Original Object</a></p>\n<ul>\n<li><a href=\"#using-this-inside-the-constructor-function\">Using this Inside the Constructor Function</a></li>\n<li><a href=\"#defining-on-the-prototype-object\">Defining on the Prototype Object</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#prototype-lookup\">Prototype Lookup</a></p>\n</li>\n<li>\n<p><a href=\"#inheritance-using-prototypes\">Inheritance Using Prototypes</a></p>\n<ul>\n<li><a href=\"#use-objectcreate\">Use Object.create</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"In this post, continuing from the previous one, I want to talk about various inheritance patterns using prototypes. JavaScript doesn’t have explicit concepts like inheritance or encapsulation, which is why developers coming from class-based languages like Java or C++ are often confused by the absence of classes in JavaScript.","html":"<p>In this post, continuing from the <a href=\"/2019/10/23/js-prototype/\">previous one</a>, I want to talk about various inheritance patterns using prototypes.</p>\n<p>JavaScript doesn’t have explicit concepts like inheritance or encapsulation, which is why developers coming from class-based languages like Java or C++ are often confused by the absence of classes in JavaScript.</p>\n<!-- more -->\n<p>In other words, inheritance and encapsulation in JavaScript are essentially design patterns — implemented by OOP-minded developers using prototypes to approximate these concepts in JavaScript.</p>\n<p>Inheritance in JavaScript is implemented using the prototype chain, and encapsulation is implemented using closures. In this post, I’ll focus on explaining inheritance patterns using prototypes.</p>\n<h2 id=\"properties-and-methods-can-be-shared-through-the-original-object\" style=\"position:relative;\">Properties and Methods Can Be Shared Through the Original Object<a href=\"#properties-and-methods-can-be-shared-through-the-original-object\" aria-label=\"properties and methods can be shared through the original object permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Before diving into object inheritance, let’s look at how to assign properties and methods when creating objects. In the <a href=\"/2019/10/23/js-prototype/\">previous post</a>, I explained that JavaScript uses functions, not classes, to create objects.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">evan</code> object created by calling <code class=\"language-text\">User</code> as a constructor is a clone of the <code class=\"language-text\">User.prototype</code> object — the original object.</p>\n<p>There are two ways to assign properties or methods to newly created objects. The first is declaring them using <code class=\"language-text\">this</code> inside the constructor function. The second is declaring them on the prototype object — the original object that new objects are cloned from.</p>\n<p>Let’s first look at defining properties and methods using <code class=\"language-text\">this</code>.</p>\n<h3 id=\"using-this-inside-the-constructor-function\" style=\"position:relative;\">Using this Inside the Constructor Function<a href=\"#using-this-inside-the-constructor-function\" aria-label=\"using this inside the constructor function permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In JavaScript, you can assign properties and methods to objects using <code class=\"language-text\">this</code> inside a constructor function, similar to other languages.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Hello, World!</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The reason I used <code class=\"language-text\">strict</code> mode inside the constructor function is to prevent <code class=\"language-text\">this</code> from being evaluated as the global object if the constructor is accidentally called without the <code class=\"language-text\">new</code> keyword. <small>(This isn’t directly related to prototypes, so I won’t go into detail.)</small></p>\n<p>This approach is intuitive because it resembles how constructors work in other languages. Since <code class=\"language-text\">this</code> inside the constructor refers to the newly created object, properties and methods defined through <code class=\"language-text\">this</code> are freshly created every time an object is instantiated using this constructor.</p>\n<p>To see what that means more concretely, let’s create two objects using the constructor and compare their methods.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>say <span class=\"token operator\">===</span> john<span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>When the constructor was called, <code class=\"language-text\">this</code> referred to the <code class=\"language-text\">evan</code> object and the <code class=\"language-text\">john</code> object respectively, and <code class=\"language-text\">say</code> was directly assigned to each. Since JavaScript’s strict equality operator (<code class=\"language-text\">===</code>) considers objects in different memory locations as different, these two methods are completely separate functions stored in different memory.</p>\n<p>If you print the <code class=\"language-text\">evan</code> object, you can see the <code class=\"language-text\">say</code> method defined directly inside it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">User <span class=\"token punctuation\">{</span><span class=\"token function-variable function\">say</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The reason I’m emphasizing something so obvious is to clearly contrast it with the approach I’m about to describe — defining methods on the prototype object. Using the prototype object produces an entirely different result.</p>\n<h3 id=\"defining-on-the-prototype-object\" style=\"position:relative;\">Defining on the Prototype Object<a href=\"#defining-on-the-prototype-object\" aria-label=\"defining on the prototype object permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>This time, let’s define a method on <code class=\"language-text\">User.prototype</code> — the prototype object of the <code class=\"language-text\">User</code> constructor. How does this differ from defining with <code class=\"language-text\">this</code>?</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Hello, World!</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>It seems to work the same as the method defined with <code class=\"language-text\">this</code>. You might think it’s identical, but there’s an important difference between the two approaches.</p>\n<p>The difference is whether all objects created through the constructor <strong>share</strong> the method or not. Let’s create two objects again and compare their methods.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>say <span class=\"token operator\">===</span> john<span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This time, unlike before, the two objects’ methods are the same. That’s because <code class=\"language-text\">evan.say</code> and <code class=\"language-text\">john.say</code> aren’t methods defined separately on each object — they’re sharing the method from the original object.</p>\n<p>If you print the <code class=\"language-text\">evan</code> object, you can see what “sharing the original object’s properties and methods” means.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">User <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The <code class=\"language-text\">evan</code> object is completely empty — no methods or properties at all.</p>\n<p>In other words, when you define methods or properties on the original object instead of using <code class=\"language-text\">this</code> inside the constructor, the created objects don’t have those properties themselves — they reference the original object’s properties and methods.</p>\n<p>If you don’t properly understand this distinction, you can end up in situations like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Evan\nEvan</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>So if you want each object to have its own unique properties, you should define them using <code class=\"language-text\">this</code> inside the constructor, not on the original object. To repeat: <strong>properties and methods defined on the original object are shared among all created objects.</strong></p>\n<p>One curious thing is that the <code class=\"language-text\">evan</code> object had no properties or methods, yet I was able to access the <code class=\"language-text\">say</code> method through <code class=\"language-text\">evan.say</code>. How is that possible?</p>\n<h2 id=\"prototype-lookup\" style=\"position:relative;\">Prototype Lookup<a href=\"#prototype-lookup\" aria-label=\"prototype lookup permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The answer lies in prototype lookup — one of the ways JavaScript searches for properties within an object. Here’s what happened when JavaScript found the <code class=\"language-text\">say</code> method on the <code class=\"language-text\">evan</code> object:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3caa593b82cbd86bf7af67e4dff11475/a2498/prototype_lookup.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAD2EAAA9hAHVrK90AAABiUlEQVR42pVSu2oCURDdGC0sbVKE4B9YWfkLWiSF+YCkskt62TqQ3xERF0VECxE1yKKID1B84BOX9YFys07mLG5YjJJkYJh7Z86cO/fcK0knRkTXiK1W63G1WlG5XDbS6fShWCwauq4T8nbcr2YBJ5NJeDqdglBUq9XPfD4v5vM5If9fQgdiPB6PYML1em1w7sCOSIlEImLH/YXwioMjFosF2+12NpfLJTkqfN3kYrHIMmEI9SPuLIEzk8mYXiqVXEegm9114Uzk3cABb/WCB346GeJdoVB47nQ6IUsnW83Jj3LPD/TE61t77dvG47Fcr9flRqMhj0ajKPu7oiivtVrtwTrRRujiBwqnUqmXwWDwxr1R9MLB02w2ZYCINSImMEXfbDYfXq/XA50uXNmBOnDAq6pq8NRYEmtMEhfEcDgU2+12jySLXwkEAjd+v/+shsijrmlaZbfbEU+6ZxPcKmazmZD4itTr9Wi5XJoT8l49TvhDH2vv8/k83W5Xxb/kXvPD82DU7/fpC7lobzt/8ly5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prototype lookup\" title=\"\" src=\"/static/3caa593b82cbd86bf7af67e4dff11475/6af66/prototype_lookup.png\" srcset=\"/static/3caa593b82cbd86bf7af67e4dff11475/69538/prototype_lookup.png 160w,\n/static/3caa593b82cbd86bf7af67e4dff11475/72799/prototype_lookup.png 320w,\n/static/3caa593b82cbd86bf7af67e4dff11475/6af66/prototype_lookup.png 640w,\n/static/3caa593b82cbd86bf7af67e4dff11475/d9199/prototype_lookup.png 960w,\n/static/3caa593b82cbd86bf7af67e4dff11475/21b4d/prototype_lookup.png 1280w,\n/static/3caa593b82cbd86bf7af67e4dff11475/a2498/prototype_lookup.png 1764w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<blockquote>\n<ol>\n<li>Attempt to access <code class=\"language-text\">evan.say</code></li>\n<li>Hmm, no <code class=\"language-text\">say</code> property here? Let’s follow <code class=\"language-text\">__proto__</code> up to the original object!</li>\n<li><code class=\"language-text\">User.prototype</code>, do you have a <code class=\"language-text\">say</code> property?</li>\n<li>You do? Profit!</li>\n</ol>\n</blockquote>\n<p>When you try to access a property on an object, JavaScript first checks whether that object has the property. If it doesn’t, it follows the prototype link up to the original object and checks again.</p>\n<p>This persistent search continues all the way up to <code class=\"language-text\">Object.prototype</code> — the ancestor of all objects. If the property doesn’t exist even there, only then does it return <code class=\"language-text\">undefined</code>.</p>\n<p>This means every object can access the properties and methods of all original objects in its prototype chain.</p>\n<p>Put simply, the <code class=\"language-text\">evan</code> object we just created has no properties or methods of its own, but it can use the <code class=\"language-text\">say</code> method defined on <code class=\"language-text\">User.prototype</code> (its original) as well as methods like <code class=\"language-text\">toString</code> or <code class=\"language-text\">hasOwnProperty</code> from <code class=\"language-text\">Object.prototype</code>.</p>\n<center>\n  <div style=\"width: 200px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7b54dda3a84203718b2412b4631d61b5/31493/prototype_lookup2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 220.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prototype lookup2\" title=\"\" src=\"/static/7b54dda3a84203718b2412b4631d61b5/6af66/prototype_lookup2.png\" srcset=\"/static/7b54dda3a84203718b2412b4631d61b5/69538/prototype_lookup2.png 160w,\n/static/7b54dda3a84203718b2412b4631d61b5/72799/prototype_lookup2.png 320w,\n/static/7b54dda3a84203718b2412b4631d61b5/6af66/prototype_lookup2.png 640w,\n/static/7b54dda3a84203718b2412b4631d61b5/31493/prototype_lookup2.png 664w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>The evan object inherits properties from all original objects in its prototype chain</small>\n  <br>\n  <br>\n</center>\n<p>Prototype lookup is performed every time you access a property or method, which makes it feel a bit different from inheritance in class-based languages where all inheritance relationships are evaluated when the class is defined.</p>\n<p>But abstractly speaking, since it’s inheriting the parent (original) object’s attributes, we can implement inheritance based on prototype lookup.</p>\n<h2 id=\"inheritance-using-prototypes\" style=\"position:relative;\">Inheritance Using Prototypes<a href=\"#inheritance-using-prototypes\" aria-label=\"inheritance using prototypes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>There are broadly two ways to implement inheritance using prototypes in JavaScript: using the <code class=\"language-text\">Object.create</code> method, and without it <small>(the ugly way)</small>.</p>\n<p>In practice, <code class=\"language-text\">Object.create</code> alone is more than enough for prototype-based inheritance. The reason I mention both is that <code class=\"language-text\">Object.create</code> is only supported from Internet Explorer 9 onwards.</p>\n<p>But since this post is written for my own happiness, I’d rather not go into detail about IE 8 and below environments. I’ll simply attach a <a href=\"https://gist.github.com/evan-moon/a7e5a51e20d22016ea443a03480765b7\" target=\"_blank\" rel=\"nofollow\">link to my GitHub Gist</a> with the code for the non-<code class=\"language-text\">Object.create</code> approach.</p>\n<h3 id=\"use-objectcreate\" style=\"position:relative;\">Use Object.create<a href=\"#use-objectcreate\" aria-label=\"use objectcreate permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Object.create</code> method takes as its first argument the object that will serve as the new object’s original, and as an optional second argument, properties to add to the new object.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>proto<span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span> properties<span class=\"token operator\">?</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The second argument is optional, and rather than simply passing something like <code class=\"language-text\">{ test: 1 }</code>, you need to specify data descriptors and accessor descriptors, like you would with <code class=\"language-text\">Object.defineProperties</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'I am Foo!'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>For the detailed meaning of each property, check <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties\" target=\"_blank\" rel=\"nofollow\">MDN Web Docs: Object.defineProperties</a>.</p>\n<p>The key point of this method is that you can specify an object’s prototype object, which means you can manipulate the prototype chain however you want. You can even change it dynamically. <small>(This is honestly one of JS’s more wild aspects…)</small></p>\n<p>Now let’s implement inheritance using <code class=\"language-text\">Object.create</code> and prototypes.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuperClass</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">SuperClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">I am </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>First, I created a <code class=\"language-text\">SuperClass</code> constructor function to serve as the parent class and defined a <code class=\"language-text\">say</code> method on its prototype object. Now let’s implement the child class constructor and define the inheritance relationship.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SubClass</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">SuperClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SuperClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> SubClass<span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">run</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is running</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>It might look like a lot, but when you break it down piece by piece, it’s fairly straightforward.</p>\n<h4 id=\"superclasscallthis\" style=\"position:relative;\">SuperClass.call(this)<a href=\"#superclasscallthis\" aria-label=\"superclasscallthis permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">Function.prototype.call</code> method changes the execution context of the called function to whatever is passed as the first argument. In other words, it changes the target of <code class=\"language-text\">this</code>.</p>\n<p>So <code class=\"language-text\">SuperClass.call(this, name)</code> means: call the parent constructor, but change the execution context to the child constructor. Think of it as the JavaScript equivalent of calling <code class=\"language-text\">super</code> in Java.</p>\n<p>I used <code class=\"language-text\">call</code> here, but anything that changes the parent constructor’s execution context works fine — <code class=\"language-text\">apply</code> or <code class=\"language-text\">bind</code> would do the job equally well.</p>\n<h4 id=\"changing-subclassprototype\" style=\"position:relative;\">Changing SubClass.prototype<a href=\"#changing-subclassprototype\" aria-label=\"changing subclassprototype permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Next, I used <code class=\"language-text\">Object.create</code> to create a new object with <code class=\"language-text\">SuperClass.prototype</code> as its original, and assigned it as <code class=\"language-text\">SubClass</code>’s prototype object. This creates a prototype chain — in other words, a parent-child relationship — between the child constructor’s prototype object and the parent constructor’s prototype object.</p>\n<h4 id=\"changing-subclassprototypeconstructor\" style=\"position:relative;\">Changing SubClass.prototype.constructor<a href=\"#changing-subclassprototypeconstructor\" aria-label=\"changing subclassprototypeconstructor permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Since we cloned the parent constructor’s prototype object verbatim, the new child constructor’s prototype object still has its <code class=\"language-text\">constructor</code> property pointing to the parent constructor <code class=\"language-text\">SuperClass</code>.</p>\n<p>But objects created through <code class=\"language-text\">SubClass</code> shouldn’t appear as if they were created using <code class=\"language-text\">SuperClass</code>, so we need to reassign the <code class=\"language-text\">constructor</code> property to <code class=\"language-text\">SubClass</code>.</p>\n<p>After all these steps, the following relationship is established:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/a3c4c/extends.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAD2EAAA9hAHVrK90AAAB/klEQVR42qVSOYtaURR2BrKQFCkCmSappphJkTbFFCEIQggYcILKaBIdAhbpUoRMZ+ef0NZWHTQyATfEQm0EN8R9eS+uuO++d2++e3EmPyAHDufB+d453z3fpxiPx1SSJJrJZGggEGBVpojhcPjHZDKd+ny+r8gfGo3m+Wg0ut5utzSdTkvhcJjG43FaKBRkQgirSgULURRJs9kkvV6PzGYzslwuJTZwvV63bDbb00ql8qpUKp0BegDc9XQ6pYPBYAsiBN8ElePdbvdHPnCxWFC2geU+OMPNZiMqlcojl8t14fF4vgP6pFwu/8Yw2u12JfovOD4Wi73nAxuNhh5b9O12Wy8IAqu6Tqdzge8PWq32vsViuWe1Wh8ybLVafVMsFj+Bse4Wj9T1+31DMBg89vv9DxT/EyB2sK+PIpHIt0QicaWo1+tG3NGIzTxrtZoBT/rcarXOGbv9D4esovcWvUvGKJvNGnFTI+5uwBlMDofjRKVSPeY3ZAHqNBqNsspvAnFEDDwNhUIWKHplNptfzOdzD+vhyVIymaSpVIqCDMeD3TtOG7cgYEMmkwmBskRiHkLAHgKs8sxut790Op2vAT3Esl9MFCi/Q5+sVqs7V9yJAr9RbGaqcqV3ux3fCLCgVquPvF7vF/jwJ1M5l8vd5PN5iudKsizTfXL8rQ//Atnk4klMaXG1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"extends\" title=\"\" src=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/6af66/extends.png\" srcset=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/69538/extends.png 160w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/72799/extends.png 320w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/6af66/extends.png 640w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/d9199/extends.png 960w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/21b4d/extends.png 1280w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/a3c4c/extends.png 2196w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>Now let’s create an object using the <code class=\"language-text\">SubClass</code> constructor and verify that it properly inherits the parent constructor’s attributes.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Evan'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">SubClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// The evan object</span>\nSubClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">constructor</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token operator\">:</span> SubClass<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// evan's original object</span>\nSuperClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// The original of evan's original object</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">evan</code> object was properly created by cloning <code class=\"language-text\">SubClass</code>’s prototype object, and the chain of original objects is correctly linked.</p>\n<p>In other words, the prototype chain <code class=\"language-text\">evan</code> → <code class=\"language-text\">SubClass.prototype</code> → <code class=\"language-text\">SuperClass.prototype</code> is complete. When you call <code class=\"language-text\">run</code> or <code class=\"language-text\">say</code> on the <code class=\"language-text\">evan</code> object, prototype lookup kicks in to find and call the method from the original objects.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Continuing from the <a href=\"/2019/10/23/js-prototype/\">previous post</a>, I’ve covered inheritance patterns using prototypes in JavaScript.</p>\n<p>Honestly, I’ve rarely had to implement inheritance using these patterns in production. ES6 came out shortly after I started working as a developer, and since I was more familiar with Java at the time, I was completely absorbed by the new <code class=\"language-text\">class</code> keyword.</p>\n<p>But after a few years on the job, I encountered these inheritance patterns fairly often in legacy code, and they sometimes came up in interviews too, so they’re definitely worth studying.</p>\n<p>Even though ES5 is rarely used these days, these inheritance patterns are still foundational to JavaScript program architecture.</p>\n<p>That wraps up this post on implementing inheritance with prototypes.</p>","fields":{"slug":"20191027-inheritance-with-prototype-en","path":"/2019/10/27/inheritance-with-prototype/en/","lang":"en"},"frontmatter":{"title":"[JS Prototypes] Implementing Inheritance with Prototypes","subTitle":"The real way to implement inheritance in JavaScript — everything about the prototype chain","date":"Oct 27, 2019","categories":["Programming","JavaScript"],"tags":["Prototype","JavaScript","JavaScript Fundamentals","Frontend Fundamentals","JavaScript Inheritance","JavaScript Class"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ffc88c93a54f1c5d1783f61478e57588/d803c/thumbnail.png","srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/d803c/thumbnail.png 320w,\n/static/ffc88c93a54f1c5d1783f61478e57588/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/fc5c5/thumbnail.webp 320w,\n/static/ffc88c93a54f1c5d1783f61478e57588/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ffc88c93a54f1c5d1783f61478e57588/01fb2/thumbnail.png","srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}]}},"pageContext":{"slug":"20191027-inheritance-with-prototype","previous":{"fields":{"slug":"20191023-js-prototype","path":"/2019/10/23/js-prototype/","lang":"ko","postGroup":"20191023-js-prototype"},"frontmatter":{"title":"[JS 프로토타입] 클래스보다 깊은 세계, 자바스크립트 프로토타입 완전 정복"}},"next":{"fields":{"slug":"20191030-make-simple-with-math","path":"/2019/10/30/make-simple-with-math/","lang":"ko","postGroup":"20191030-make-simple-with-math"},"frontmatter":{"title":"수학과 함께 복잡한 문제를 단순하게 만들자"}},"lang":"ko","postGroup":"20191027-inheritance-with-prototype"}},"staticQueryHashes":["3129619726","3523904809","376081736","650499039"],"slicesMap":{}}