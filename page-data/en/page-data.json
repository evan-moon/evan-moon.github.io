{"componentChunkName":"component---src-templates-posts-page-template-tsx","path":"/en/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"73164d21-6db6-5d5a-b728-925b83a48c87","tableOfContents":"<ul>\n<li>\n<p><a href=\"#what-happens-in-the-brain-when-we-read-code\">What Happens in the Brain When We Read Code</a></p>\n</li>\n<li>\n<p><a href=\"#working-memory-4-slots\">Working Memory: 4 Slots</a></p>\n</li>\n<li>\n<p><a href=\"#chunking-the-brains-data-compression-algorithm\">Chunking: The Brain’s Data Compression Algorithm</a></p>\n</li>\n<li>\n<p><a href=\"#system-1-and-system-2-intuition-and-analysis\">System 1 and System 2: Intuition and Analysis</a></p>\n</li>\n<li>\n<p><a href=\"#gestalt-principles-how-visual-structure-affects-code-comprehension\">Gestalt Principles: How Visual Structure Affects Code Comprehension</a></p>\n<ul>\n<li><a href=\"#law-of-proximity\">Law of Proximity</a></li>\n<li><a href=\"#law-of-similarity\">Law of Similarity</a></li>\n<li><a href=\"#law-of-continuity\">Law of Continuity</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#cognitive-load-theory-three-types-of-load\">Cognitive Load Theory: Three Types of Load</a></p>\n</li>\n<li>\n<p><a href=\"#experience-physically-changes-the-brain\">Experience Physically Changes the Brain</a></p>\n</li>\n<li>\n<p><a href=\"#predictive-coding-the-brain-doesnt-read-code--it-predicts\">Predictive Coding: The Brain Doesn’t Read Code — It Predicts</a></p>\n</li>\n<li>\n<p><a href=\"#so-what-is-good-code-really\">So What Is “Good Code,” Really?</a></p>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"I previously wrote a post called “What Is Good Code? On the Illusion of Readability” where I discussed how subjective and context-dependent the formula “good code = readable code” really is. The conclusion that people judge readability differently is fair enough. But if you trace the mechanics behind it — where that sense of “this is easy to read” actually comes from — you start to find some hints.","html":"<p>I previously wrote a post called <a href=\"/2024/12/23/the-illusion-of-a-right-answer/\">“What Is Good Code? On the Illusion of Readability”</a> where I discussed how subjective and context-dependent the formula “good code = readable code” really is.</p>\n<p>The conclusion that people judge readability differently is fair enough. But if you trace the mechanics behind it — where that sense of “this is easy to read” actually comes from — you start to find some hints.</p>\n<!-- more -->\n<p>So that’s what this post is about. How humans understand code, and what makes certain forms of information feel easier to process.</p>\n<h2 id=\"what-happens-in-the-brain-when-we-read-code\" style=\"position:relative;\">What Happens in the Brain When We Read Code<a href=\"#what-happens-in-the-brain-when-we-read-code\" aria-label=\"what happens in the brain when we read code permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In a <a href=\"https://doi.org/10.7554/eLife.58906\" target=\"_blank\" rel=\"nofollow\">2020 fMRI study conducted at MIT</a>, researchers observed which brain regions activate when programmers read code. The results were interesting.</p>\n<p>According to the study, reading code primarily activated the Multiple Demand Network — the region responsible for logical reasoning and complex cognitive tasks — rather than the language network. The language regions weren’t completely uninvolved, but the Multiple Demand Network response was dominant.</p>\n<p>Put simply, when our brains read code, they rely more on logical reasoning than language processing.</p>\n<p>The study confirmed that five brain regions related to working memory, attention, and language processing showed pronounced activation during code comprehension. Meanwhile, Default Mode Network activity (the regions active when the brain is resting) decreased. In other words, reading code is a fairly expensive operation for the brain.</p>\n<p>So far, this might seem unsurprising. But the more interesting findings come from the differences between experts and novices. Skilled developers showed lower overall brain activation levels when reading code. Not because they were trying less, but because they were processing more efficiently. Novice developers, on the other hand, showed widespread brain activation — meaning they were consciously processing nearly everything one piece at a time.</p>\n<p>Novices tended to read code like natural language text, top to bottom. Experts followed the program’s execution flow. Same code, fundamentally different processing.</p>\n<h2 id=\"working-memory-4-slots\" style=\"position:relative;\">Working Memory: 4 Slots<a href=\"#working-memory-4-slots\" aria-label=\"working memory 4 slots permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>To understand why some code reads easily while other code refuses to organize itself in your head, you need to know about working memory.</p>\n<p>In 1956, cognitive psychologist George A. Miller published the famous paper <a href=\"https://doi.org/10.1037/h0043158\" target=\"_blank\" rel=\"nofollow\">“The Magical Number Seven, Plus or Minus Two”</a>, revealing that human short-term memory capacity is roughly 7±2 items. Subsequent research has revised this downward — according to <a href=\"https://doi.org/10.1017/s0140525x01003922\" target=\"_blank\" rel=\"nofollow\">Cowan (2001)</a> and others, the number of chunks that can be simultaneously held in working memory converges around 3–4. Though this figure can vary depending on the type of task, level of expertise, and modality of information.</p>\n<p>Think about what we load into our heads when reading code. The current value of a variable, the direction of control flow, the order of function calls, the state of the current scope — all of these occupy working memory slots. When those slots fill up, the brain struggles to take in new information. That’s the moment when you get that “this code feels complicated” sensation.</p>\n<p>To put it in programming terms, working memory is like a fixed-size stack.</p>\n<p>Real working memory is a far more complex system than a stack, but the analogy works well enough for intuiting the key property: “there’s a capacity limit, and exceeding it causes things to break down.” The stack size is roughly 4, and exceeding it causes a stack overflow. In practice, the items occupying each slot aren’t uniform in size, and interference between items also occurs, so the exact number matters less than the fact that capacity is limited. And the moment that capacity hits its limit is exactly when you feel “this code is hard to read.”</p>\n<p>Let’s compare code that rapidly exhausts working memory with code that doesn’t.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Code that rapidly exhausts all 4 working memory slots</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">processOrder</span><span class=\"token punctuation\">(</span>order<span class=\"token operator\">:</span> Order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span> <span class=\"token operator\">&amp;&amp;</span> order<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> discount <span class=\"token operator\">=</span> order<span class=\"token punctuation\">.</span>customer<span class=\"token punctuation\">.</span>tier <span class=\"token operator\">===</span> <span class=\"token string\">'premium'</span>\n      <span class=\"token operator\">?</span> order<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> sum <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span>\n      <span class=\"token operator\">:</span> order<span class=\"token punctuation\">.</span>coupon<span class=\"token operator\">?.</span>discount <span class=\"token operator\">??</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> tax <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span>total <span class=\"token operator\">-</span> discount<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span>shipping<span class=\"token punctuation\">.</span>domestic <span class=\"token operator\">?</span> <span class=\"token number\">0.1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> finalPrice <span class=\"token operator\">=</span> order<span class=\"token punctuation\">.</span>total <span class=\"token operator\">-</span> discount <span class=\"token operator\">+</span> tax <span class=\"token operator\">+</span> order<span class=\"token punctuation\">.</span>shipping<span class=\"token punctuation\">.</span>cost<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>order<span class=\"token punctuation\">,</span> finalPrice<span class=\"token punctuation\">,</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'processed'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> order<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This function isn’t wrong, but it demands too many things be held in the reader’s working memory simultaneously.</p>\n<p>The condition on <code class=\"language-text\">order.status</code>, the check on <code class=\"language-text\">order.items</code>, the discount branching by <code class=\"language-text\">customer.tier</code>, the null check on the coupon, the domestic/international tax branching, the final price calculation — trying to fit all of this context into 3–4 slots is what makes the brain scream.</p>\n<p>If we can break this context into appropriately sized units, we can save working memory slots needed to understand each operation.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Version that reduces working memory load</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>order<span class=\"token operator\">:</span> Order<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span>customer<span class=\"token punctuation\">.</span>tier <span class=\"token operator\">===</span> <span class=\"token string\">'premium'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> subtotal <span class=\"token operator\">=</span> order<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> sum <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> subtotal <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> order<span class=\"token punctuation\">.</span>coupon<span class=\"token operator\">?.</span>discount <span class=\"token operator\">??</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateTax</span><span class=\"token punctuation\">(</span>amount<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> shipping<span class=\"token operator\">:</span> ShippingInfo<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> shipping<span class=\"token punctuation\">.</span>domestic <span class=\"token operator\">?</span> amount <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">processOrder</span><span class=\"token punctuation\">(</span>order<span class=\"token operator\">:</span> Order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span>status <span class=\"token operator\">!==</span> <span class=\"token string\">'pending'</span> <span class=\"token operator\">||</span> order<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> order<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> discount <span class=\"token operator\">=</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> tax <span class=\"token operator\">=</span> <span class=\"token function\">calculateTax</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span>total <span class=\"token operator\">-</span> discount<span class=\"token punctuation\">,</span> order<span class=\"token punctuation\">.</span>shipping<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> finalPrice <span class=\"token operator\">=</span> order<span class=\"token punctuation\">.</span>total <span class=\"token operator\">-</span> discount <span class=\"token operator\">+</span> tax <span class=\"token operator\">+</span> order<span class=\"token punctuation\">.</span>shipping<span class=\"token punctuation\">.</span>cost<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>order<span class=\"token punctuation\">,</span> finalPrice<span class=\"token punctuation\">,</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'processed'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In this version, the amount you need to hold in your head at each step is noticeably reduced. The behavior is identical, but by packaging information into consistent units, we control how much context occupies each working memory slot.</p>\n<p>When reading <code class=\"language-text\">calculateDiscount</code>, you only need to focus on discount logic. When reading <code class=\"language-text\">processOrder</code>, you can understand the overall flow without knowing each calculation’s implementation details. Each function is digestible within working memory’s capacity, which is why it feels easier to understand. This is also why proper abstraction at appropriate granularity matters in design. Of course, the reverse is also true — splitting things too finely means you spend working memory on jumping between functions and tracking context. The goal isn’t splitting for its own sake, but reducing how much you need to hold in your head at once.</p>\n<h2 id=\"chunking-the-brains-data-compression-algorithm\" style=\"position:relative;\">Chunking: The Brain’s Data Compression Algorithm<a href=\"#chunking-the-brains-data-compression-algorithm\" aria-label=\"chunking the brains data compression algorithm permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Here’s a natural question: if working memory only has about 4 slots, how on earth do we comprehend hundreds of lines of code?</p>\n<p>The answer lies in a cognitive mechanism called chunking. Chunking means grouping multiple small units of information into a single meaningful cluster. According to <a href=\"https://doi.org/10.5334/joc.451\" target=\"_blank\" rel=\"nofollow\">research from the University of Zurich</a>, chunking reduces working memory load by retrieving compressed chunk representations from long-term memory to replace individual element representations. The freed-up capacity is then used to process new incoming information.</p>\n<p>Think about phone numbers. Trying to remember <code class=\"language-text\">01012345678</code> as eleven individual digits would far exceed working memory capacity. But split it as <code class=\"language-text\">010-1234-5678</code>, and you only need to remember three chunks. Better yet, if <code class=\"language-text\">010</code> is already familiar as “Korean mobile prefix,” it’s automatically processed as a single chunk, meaning you really only need to memorize two new chunks.</p>\n<p>The same thing happens with code. Look at what happens when a skilled developer reads this:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> activeUsers <span class=\"token operator\">=</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>u <span class=\"token operator\">=></span> u<span class=\"token punctuation\">.</span>isActive<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>u <span class=\"token operator\">=></span> u<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>A novice developer has to load each individual element into working memory: the <code class=\"language-text\">users</code> variable, how <code class=\"language-text\">.filter</code> works, arrow function syntax, the <code class=\"language-text\">u.isActive</code> property access, how <code class=\"language-text\">.map</code> works, another arrow function…</p>\n<p>For a skilled developer, <code class=\"language-text\">users.filter(...).map(...)</code> is recognized as a single chunk: “filter array then transform.” Having seen this pattern hundreds or thousands of times, they pull a stored chunk from long-term memory and use just one working memory slot. The remaining slots can be allocated to higher-level thinking like “why is this being filtered?” or “where does the result get used?”</p>\n<p>This is the same principle that allows chess masters to glance at a board and grasp the entire situation. Chess masters don’t memorize individual piece positions one by one — they recognize familiar formation patterns as single chunks. That’s why they can quickly recall meaningfully arranged boards but perform no better than novices with randomly placed pieces.</p>\n<p>Code works the same way. Idiomatic code is easy to read not because it’s “correct,” but because it matches chunks already stored in the developer’s long-term memory.</p>\n<p>And what makes a pattern idiomatic is shaped by external factors: the language’s design intent, standard library conventions, and the community’s repeated choices. It’s not simply “familiar because it’s used a lot” — it’s that convergence driven by multiple forces created that familiarity. This is also why project-specific unique patterns or overly creative code are hard to read. When existing chunks don’t match, the brain has to decompose everything into individual elements for processing, and working memory saturates almost instantly.</p>\n<h2 id=\"system-1-and-system-2-intuition-and-analysis\" style=\"position:relative;\">System 1 and System 2: Intuition and Analysis<a href=\"#system-1-and-system-2-intuition-and-analysis\" aria-label=\"system 1 and system 2 intuition and analysis permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This is where Daniel Kahneman’s dual process theory becomes relevant. Kahneman divided human thinking into two systems:</p>\n<hr>\n<ul>\n<li><strong>System 1</strong>: Fast, automatic, intuitive thinking. Based on pattern recognition.</li>\n<li><strong>System 2</strong>: Slow, conscious, analytical thinking. Based on logical reasoning.</li>\n</ul>\n<hr>\n<p>Most of our everyday judgments are handled by System 1. Driving a car, or sensing your partner’s mood from a single word over the phone — that’s all System 1. When encountering new information, System 1 doesn’t create entirely new patterns; it matches against patterns already stored.</p>\n<p>When System 1 gets stuck, that’s when System 2 gets called in. The moment you consciously think “what is this?” and begin analyzing — that’s System 2 engaging. And when you apply this framework to code reading, it explains a remarkable amount.</p>\n<p>Readable code is code that’s mostly processed by System 1’s pattern recognition, with minimal System 2 involvement.</p>\n<p>When skilled developers read code, familiar patterns are handled automatically by System 1. <code class=\"language-text\">for</code> loops, <code class=\"language-text\">if-else</code> branches, <code class=\"language-text\">map</code>/<code class=\"language-text\">filter</code>/<code class=\"language-text\">reduce</code> chaining, <code class=\"language-text\">try-catch</code> blocks — these have been seen thousands of times, so they’re processed without conscious effort. System 2 stays in a comfortable low-power mode, simply approving the information that System 1 surfaces.</p>\n<p>But when an unexpected pattern appears, things change.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Code that System 1 can handle</span>\n<span class=\"token keyword\">const</span> canPurchase <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">18</span> <span class=\"token operator\">&amp;&amp;</span> user<span class=\"token punctuation\">.</span>isVerified<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Code that invokes System 2</span>\n<span class=\"token keyword\">const</span> canPurchase <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&lt;</span> <span class=\"token number\">18</span> <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>user<span class=\"token punctuation\">.</span>isVerified<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>age <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Both express the same intent. But the moment you see the second version, System 1 sends an “I don’t know” signal, and System 2 begins its expensive analysis. You have to unwind the double negation, run De Morgan’s law in your head, and figure out why that final <code class=\"language-text\">undefined</code> check is necessary. This transition itself is a cognitive cost.</p>\n<p>Kahneman called this phenomenon cognitive strain. The more System 2 intervenes, the more energy the brain consumes and the more fatigue it experiences. The subjective feeling of “hard-to-read code” is really the cognitive cost arising from pattern matching failure triggering a system switch.</p>\n<p>From this perspective, feedback like “this is hard to understand” in code reviews isn’t just a matter of taste — it’s closer to a signal that system-switching costs are actually occurring. The magnitude of that cost varies by individual experience and chunk composition, but the fact that the cost occurs is real.</p>\n<h2 id=\"gestalt-principles-how-visual-structure-affects-code-comprehension\" style=\"position:relative;\">Gestalt Principles: How Visual Structure Affects Code Comprehension<a href=\"#gestalt-principles-how-visual-structure-affects-code-comprehension\" aria-label=\"gestalt principles how visual structure affects code comprehension permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Readable code depends not only on logical structure but on visual structure as well. This is where the perceptual principles of Gestalt psychology come in.</p>\n<p>Gestalt psychology studies how the human brain prioritizes perceiving overall patterns and structures over individual elements. Several of its core principles connect directly to code readability.</p>\n<h3 id=\"law-of-proximity\" style=\"position:relative;\">Law of Proximity<a href=\"#law-of-proximity\" aria-label=\"law of proximity permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Elements that are close together are perceived as a group. Let’s look at two versions of the same code to see why this grouping matters.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Code without proximity principle applied</span>\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>firstName <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> user<span class=\"token punctuation\">.</span>lastName<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> isValid <span class=\"token operator\">=</span> email<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> email<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> role <span class=\"token operator\">=</span> <span class=\"token function\">determineRole</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dashboard <span class=\"token operator\">=</span> <span class=\"token function\">getDashboard</span><span class=\"token punctuation\">(</span>role<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> notifications <span class=\"token operator\">=</span> <span class=\"token function\">getNotifications</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> role<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Code with proximity principle applied</span>\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>firstName <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> user<span class=\"token punctuation\">.</span>lastName<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> isValid <span class=\"token operator\">=</span> email<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> email<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> role <span class=\"token operator\">=</span> <span class=\"token function\">determineRole</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dashboard <span class=\"token operator\">=</span> <span class=\"token function\">getDashboard</span><span class=\"token punctuation\">(</span>role<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> notifications <span class=\"token operator\">=</span> <span class=\"token function\">getNotifications</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> role<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The second version just adds a single blank line, yet the brain automatically recognizes two groups: “user info processing” and “permission-based data retrieval.”</p>\n<p>According to Gestalt research, proximity is an even stronger grouping cue than similarity of color or shape. This principle is used directly in UI design — related information is placed close together and unrelated information is spaced apart, precisely for this reason.</p>\n<p>Similarly, the reason blank lines and indentation matter in code isn’t just aesthetics — it’s because the brain’s perceptual system uses them to parse structure.</p>\n<h3 id=\"law-of-similarity\" style=\"position:relative;\">Law of Similarity<a href=\"#law-of-similarity\" aria-label=\"law of similarity permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Like proximity, elements that look alike are also perceived as belonging to the same group. This explains why consistent naming matters in code.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Naming that violates similarity</span>\n<span class=\"token keyword\">const</span> userData <span class=\"token operator\">=</span> <span class=\"token function\">fetchUser</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> get_orders <span class=\"token operator\">=</span> <span class=\"token function\">retrieveOrderList</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> pmtHistory <span class=\"token operator\">=</span> <span class=\"token function\">loadPayments</span><span class=\"token punctuation\">(</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Naming that follows similarity</span>\n<span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token function\">fetchUser</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> orders <span class=\"token operator\">=</span> <span class=\"token function\">fetchOrders</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> payments <span class=\"token operator\">=</span> <span class=\"token function\">fetchPayments</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In the first version, despite all three being the same kind of operation — data fetching — the naming conventions are inconsistent. <code class=\"language-text\">userData</code>, <code class=\"language-text\">get_orders</code>, <code class=\"language-text\">pmtHistory</code> each have different forms, and <code class=\"language-text\">fetchUser</code>, <code class=\"language-text\">retrieveOrderList</code>, <code class=\"language-text\">loadPayments</code> lack any consistency. The brain can’t recognize these as the same group and processes each line as a separate item, consuming working memory.</p>\n<p>In the second version, the pattern is clear. The consistent <code class=\"language-text\">fetch + resourceName</code> structure causes all three lines to be recognized as a single chunk: “data fetching in the same pattern.”</p>\n<h3 id=\"law-of-continuity\" style=\"position:relative;\">Law of Continuity<a href=\"#law-of-continuity\" aria-label=\"law of continuity permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The law of continuity states that we perceive elements as a single continuous entity when they follow a natural flow of direction. In code, this relates to the linearity of execution flow.</p>\n<p>Our brains find top-to-bottom, left-to-right flow natural. Deep nesting, complex callbacks, and scattered <code class=\"language-text\">goto</code> statements are hard to read because they violate the law of continuity.</p>\n<p>This is also why early return patterns feel easier to read than nested <code class=\"language-text\">if</code> statements. Once edge cases are filtered out, the remaining code flows in a single direction from top to bottom.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Code that breaks continuity</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span>user<span class=\"token operator\">:</span> User<span class=\"token punctuation\">,</span> product<span class=\"token operator\">:</span> Product<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>isActive<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">.</span>inStock<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>tier <span class=\"token operator\">===</span> <span class=\"token string\">'premium'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> product<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">.</span>onSale<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> product<span class=\"token punctuation\">.</span>salePrice<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> product<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Out of stock'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Inactive user'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Code that maintains continuity</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span>user<span class=\"token operator\">:</span> User<span class=\"token punctuation\">,</span> product<span class=\"token operator\">:</span> Product<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">.</span>isActive<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Inactive user'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>product<span class=\"token punctuation\">.</span>inStock<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Out of stock'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>tier <span class=\"token operator\">===</span> <span class=\"token string\">'premium'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> product<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">.</span>onSale<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> product<span class=\"token punctuation\">.</span>salePrice<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> product<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The first version forces your eyes to zigzag right and left as indentation deepens. The brain has to maintain “which condition am I currently inside” in working memory at each nesting level.</p>\n<p>The second version filters out exceptions first, then flows naturally from top to bottom. Because it aligns with the law of continuity, the cost for the brain to parse the structure drops significantly.</p>\n<h2 id=\"cognitive-load-theory-three-types-of-load\" style=\"position:relative;\">Cognitive Load Theory: Three Types of Load<a href=\"#cognitive-load-theory-three-types-of-load\" aria-label=\"cognitive load theory three types of load permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>There’s a framework that systematically organizes everything discussed so far: John Sweller’s <a href=\"https://en.wikipedia.org/wiki/Cognitive_load\" target=\"_blank\" rel=\"nofollow\">Cognitive Load Theory</a>.</p>\n<p>According to this theory, cognitive load during learning or problem-solving breaks down into three types:</p>\n<hr>\n<ol>\n<li><strong>Intrinsic load</strong>: The inherent complexity of the task itself. Algorithm difficulty, domain complexity, and so on.</li>\n<li><strong>Extraneous load</strong>: Unnecessary complexity from presentation that’s irrelevant to the task. Inconsistent naming, unnecessary indirection, confusing code structure.</li>\n<li><strong>Germane load</strong>: The beneficial load spent forming and learning new schemas.</li>\n</ol>\n<hr>\n<p>According to this theory, what we should pursue when writing readable code is minimizing extraneous load.</p>\n<p>Intrinsic load can’t be reduced — it’s inherent to the problem. Code implementing a distributed consensus algorithm will be complex no matter how well it’s written. The problem to avoid is when extraneous load from “how it’s expressed” piles unnecessarily on top of intrinsic load.</p>\n<p>From this perspective, patterns that improve readability — consistent naming, appropriate function decomposition, clear type declarations, meaningful blank lines — are all acts of reducing extraneous cognitive load. They let the brain’s limited resources avoid being wasted on extraneous load and focus on processing intrinsic load (the actual problem).</p>\n<p>A <a href=\"https://doi.org/10.1016/j.jss.2023.111619\" target=\"_blank\" rel=\"nofollow\">2023 systematic literature review</a> found something interesting as well. Among studies investigating the relationship between source code metrics and actually measured cognitive load, few traditional code metrics showed consistently high correlation with actual cognitive load, and even when correlation was found, results tended to vary depending on task conditions and measurement methods. In other words, what we “measure” as complexity and what a developer’s brain actually “feels” as complex can be different things.</p>\n<p>This is a significant finding. Mechanically measurable metrics capture a code’s surface-level complexity, but the cognitive load a developer’s brain actually experiences is influenced by subjective perception — pattern familiarity, chunking efficiency, and visual structural clarity.</p>\n<h2 id=\"experience-physically-changes-the-brain\" style=\"position:relative;\">Experience Physically Changes the Brain<a href=\"#experience-physically-changes-the-brain\" aria-label=\"experience physically changes the brain permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I mentioned earlier that expert and novice brain activation patterns differ. This isn’t just “more experience means you get better.” A <a href=\"https://www.nature.com/articles/s41598-024-56090-6\" target=\"_blank\" rel=\"nofollow\">2024 study published in Scientific Reports</a> measured brainwaves from 62 Python programmers while observing their neural responses to intentionally inserted syntax errors and semantic errors in code.</p>\n<p>The results were striking. Skilled programmers showed distinct brainwave patterns for syntactic violations versus semantic violations. This parallels how the brain produces different brainwave responses to grammatical errors versus semantic errors when reading natural language. It means that programming experience forms neural circuits in the brain specialized for processing specific languages and patterns.</p>\n<p>In other words, coding experience physically changes the brain’s structure. Through neuroplasticity, code patterns encountered repeatedly are stored as schemas in long-term memory, and these schemas become the foundation for chunking. System 1’s ability to automatically process code is the result of accumulated schemas.</p>\n<p>Furthermore, because schemas form based on the patterns an individual has been exposed to, people who repeatedly encounter the same patterns in the same codebase end up sharing similar schemas. Flip this around, and maintaining a consistent code style within a team isn’t a matter of taste — it’s the process of forming shared chunks in team members’ brains. The reason coding conventions matter isn’t just uniformity; it’s collective cognitive efficiency.</p>\n<h2 id=\"predictive-coding-the-brain-doesnt-read-code--it-predicts\" style=\"position:relative;\">Predictive Coding: The Brain Doesn’t Read Code — It Predicts<a href=\"#predictive-coding-the-brain-doesnt-read-code--it-predicts\" aria-label=\"predictive coding the brain doesnt read code  it predicts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>One of the theories gaining attention in recent cognitive science is predictive coding. According to this theory, the brain doesn’t passively receive information — it constantly predicts what information will come next and only performs additional processing when the actual input differs from its prediction.</p>\n<p>The same applies when reading code. Our brains constantly predict what the next line will be.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fetchUserProfile</span><span class=\"token punctuation\">(</span>userId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/users/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>userId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Your brain is already predicting what comes next</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>A skilled developer’s brain reading this code is already predicting “it’ll probably parse the response data and return it.” And when <code class=\"language-text\">return response.data;</code> actually appears, the prediction was correct, so virtually no additional cognitive cost is incurred.</p>\n<p>But what if something completely unexpected shows up?</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fetchUserProfile</span><span class=\"token punctuation\">(</span>userId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/users/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>userId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    globalEventBus<span class=\"token punctuation\">.</span><span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user-fetched'</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Wait, what?</span>\n    localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lastUser'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Huh?</span>\n    analytics<span class=\"token punctuation\">.</span><span class=\"token function\">track</span><span class=\"token punctuation\">(</span><span class=\"token string\">'profile_view'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> userId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Why is logging here?</span>\n    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>What the brain predicted from the name <code class=\"language-text\">fetchUserProfile</code> was “a function that fetches a user profile and returns it.” But then event bus emission, localStorage writes, and analytics tracking appear — actions outside the prediction. Each time, the brain generates a prediction error signal and invokes System 2 to analyze why this code is here.</p>\n<p>The reason the second version feels hard to read is that the function is named <code class=\"language-text\">fetchUserProfile</code>, but internally it does things that have nothing to do with that name. The more closely a name’s set expectation matches the actual behavior, the fewer prediction errors occur and the less cognitive cost is incurred.</p>\n<p>This applies not just within functions but to interface design as well. Let me use component interfaces familiar to frontend developers like myself as an example.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Predictable interface</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">TextInput</span></span>\n  <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setName<span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Hard-to-predict interface</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserNameInput</span></span>\n  <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">setUser</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setUser<span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">blank</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The first component follows <code class=\"language-text\">value</code>, <code class=\"language-text\">onChange</code>, <code class=\"language-text\">placeholder</code> — an interface shared by virtually every input component in the React ecosystem. A developer’s System 1, having encountered this pattern countless times, processes it as “it’s an input component” and moves on.</p>\n<p>The second uses <code class=\"language-text\">user</code>, <code class=\"language-text\">setUser</code>, <code class=\"language-text\">blank</code> — an interface either tightly coupled to business logic or with unclear meaning. Until you figure out which fields of the <code class=\"language-text\">user</code> object it touches internally and when <code class=\"language-text\">blank</code> is actually used, you can’t use it with confidence. You have to look at the internal implementation every time, and each time, prediction errors occur.</p>\n<p>In other words, to write readable code, we need to maximize predictability at every level of the codebase — not just function names, but variable names, file structure, directory organization, and API design.</p>\n<h2 id=\"so-what-is-good-code-really\" style=\"position:relative;\">So What Is “Good Code,” Really?<a href=\"#so-what-is-good-code-really\" aria-label=\"so what is good code really permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Summarizing everything so far, the substance behind the subjective feeling of “readable code” is this:</p>\n<hr>\n<ol>\n<li><strong>Code that doesn’t exceed working memory</strong>: Context that needs to be held simultaneously stays within 3–4 items</li>\n<li><strong>Code that matches existing chunks</strong>: Uses familiar patterns so long-term memory schemas can be leveraged</li>\n<li><strong>Code processable by System 1</strong>: Understandable through pattern recognition alone, without unnecessarily invoking System 2</li>\n<li><strong>Code whose visual structure matches its logical structure</strong>: Aligns with Gestalt principles so the brain’s perceptual system automatically parses the structure</li>\n<li><strong>Predictable code</strong>: Doesn’t violate expectations set by names and structure</li>\n<li><strong>Code with low extraneous cognitive load</strong>: Removes unnecessary complexity from presentation, leaving only the problem’s inherent complexity</li>\n</ol>\n<hr>\n<p>Looking at this list, you’ll notice something interesting. None of these mean “correct code.”</p>\n<p>Readability and correctness are separate axes. Code can be perfectly correct but impossible to read, and code can be easy to read but wrong. That said, readable code also makes bugs easier to find — with lower extraneous load, the brain can focus its resources on finding logical errors.</p>\n<p>There’s one caveat, though. Kahneman also warned about System 1’s biases. System 1 is fast, but that speed comes at the cost of bias. A classic example is familiarity bias. It’s true that you feel patterns familiar to you as “readable code,” but whether that’s objectively optimal is a separate question. A developer fluent in functional programming might find <code class=\"language-text\">for</code> loops “hard to read,” and vice versa. In those cases, the feeling of “hard to read” may not reflect the code’s objective quality but the bias of chunks stored in your own System 1.</p>\n<p>When giving “this is hard to understand” feedback in code reviews, it’s worth asking yourself once: is this genuinely high-cognitive-load code, or is it simply a pattern not registered in my System 1? If the former, refactoring is needed. If the latter, it might actually be an opportunity to expand your chunk library.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>“Readable code” isn’t just a matter of feeling or taste. It’s a natural outcome produced by human cognitive architecture — working memory capacity limits, chunking mechanisms, dual process systems, Gestalt perceptual principles, and predictive coding.</p>\n<p>The reason I said “readability is subjective” in my previous post comes down to exactly this. Chunking depends on individual experience, and the patterns registered in System 1 differ from person to person.</p>\n<p>When two people look at the same code and one finds it easy while the other finds it hard, it’s not just a difference in taste — it’s because the schemas accumulated in their brains are different. The very reason readability is inevitably subjective is embedded in our cognitive structure.</p>\n<p>Many developers stop their thinking at “good code is readable code.” But if readable code is the answer, then what exactly is readable code? That’s a question worth asking yourself, and exploring in depth. Stopping your thinking in a vague domain is the most dangerous thing of all.</p>","fields":{"slug":"20260130-developer-intuition-readable-code-and-neuroscienceen","path":"/2026/01/30/developer-intuition-readable-code-and-neuroscience/en/","lang":"en"},"frontmatter":{"title":"Why Do We Feel Some Code Is Easier to Read?","subTitle":"Developer Intuition, Code Readability, and Neuroscience","date":"Jan 30, 2026","categories":["Programming"],"tags":["Neuroscience","Readability","Cognitive Psychology","DX"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/018bf68e64ee3bfca73cdc09a1144553/d803c/thumbnail.png","srcSet":"/static/018bf68e64ee3bfca73cdc09a1144553/d803c/thumbnail.png 320w,\n/static/018bf68e64ee3bfca73cdc09a1144553/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/018bf68e64ee3bfca73cdc09a1144553/fc5c5/thumbnail.webp 320w,\n/static/018bf68e64ee3bfca73cdc09a1144553/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/018bf68e64ee3bfca73cdc09a1144553/01fb2/thumbnail.png","srcSet":"/static/018bf68e64ee3bfca73cdc09a1144553/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/018bf68e64ee3bfca73cdc09a1144553/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"06f00a78-f650-5152-a17f-3a437b2d6903","tableOfContents":"<ul>\n<li><a href=\"#is-type-checking-really-just-checking\">Is Type Checking Really Just “Checking”?</a></li>\n<li><a href=\"#the-three-pillars-of-type-systems-formal-logic-set-theory-and-lambda-calculus\">The Three Pillars of Type Systems: Formal Logic, Set Theory, and Lambda Calculus</a></li>\n<li><a href=\"#logical-structures-through-types\">Logical Structures Through Types</a></li>\n<li><a href=\"#composition-and-transformation\">Composition and Transformation</a></li>\n<li><a href=\"#typescript-isnt-100-logically-sound\">TypeScript Isn’t 100% Logically Sound</a></li>\n<li><a href=\"#wrapping-up\">Wrapping Up</a></li>\n</ul>","excerpt":"We use types every day and face countless type errors. Each time, we read the error message, search for a fix, and move on — but we rarely stop to think deeply about why the type system behaves the way it does. Knowing how to use types is like understanding grammar. Understanding the type system is closer to understanding why that grammar was designed the way it is.","html":"<p>We use types every day and face countless type errors. Each time, we read the error message, search for a fix, and move on — but we rarely stop to think deeply about <em>why</em> the type system behaves the way it does.</p>\n<p>Knowing how to use types is like understanding grammar. Understanding the type system is closer to understanding why that grammar was designed the way it is.</p>\n<!-- more -->\n<p>I previously translated the <a href=\"/2024/01/30/category-theory-for-programmers-0-preface/\">“Category Theory for Programmers”</a> series, covering concepts like categories, functors, and composition. Looking back, it had a fairly steep learning curve, so I wanted to write a more accessible version.</p>\n<p>In this post, I’ll focus on the correspondence between types and logic, and explore what it actually means when the type checker says “pass.”</p>\n<h2 id=\"is-type-checking-really-just-checking\" style=\"position:relative;\">Is Type Checking Really Just “Checking”?<a href=\"#is-type-checking-really-just-checking\" aria-label=\"is type checking really just checking permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When most developers first learn TypeScript, they treat the type system like a linter. Put in the wrong type and you get a red underline; put in the right type and it passes.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Error: Argument of type 'string' is not assignable to parameter of type 'number'</span>\n<span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This isn’t wrong, but it’s missing something.</p>\n<p>A type system isn’t just a tool for catching errors. Behind it lies a mathematical structure, and passing type checking carries meaning beyond simply “no errors found.” Types correspond to propositions in logic, and code that satisfies a type corresponds to a proof of that proposition.</p>\n<p>So what are the type errors we encounter? Simple mistakes — or signals that some contract we implicitly entered into has been broken?</p>\n<p>To understand this story, we first need to talk about the fundamental mathematical concepts underlying type systems.</p>\n<h2 id=\"the-three-pillars-of-type-systems-formal-logic-set-theory-and-lambda-calculus\" style=\"position:relative;\">The Three Pillars of Type Systems: Formal Logic, Set Theory, and Lambda Calculus<a href=\"#the-three-pillars-of-type-systems-formal-logic-set-theory-and-lambda-calculus\" aria-label=\"the three pillars of type systems formal logic set theory and lambda calculus permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Type systems rest on three mathematical ideas. The sudden mention of math might feel intimidating, but don’t worry — these are things we already work with in code every day.</p>\n<h4 id=\"formal-logic-what-it-means-to-prove-something-true\" style=\"position:relative;\">Formal Logic: What It Means to “Prove Something True”<a href=\"#formal-logic-what-it-means-to-prove-something-true\" aria-label=\"formal logic what it means to prove something true permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Formal logic is a system for handling propositions like ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>,” ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>,” and “if <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>.” The core idea is: “if you want to claim something is true, you have to prove it.”</p>\n<table>\n<thead>\n<tr>\n<th>Symbol</th>\n<th>Everyday Meaning</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>∧</td>\n<td>and</td>\n<td>“I have an umbrella and rain boots”</td>\n</tr>\n<tr>\n<td>∨</td>\n<td>or</td>\n<td>“I’ll take the bus or the subway”</td>\n</tr>\n<tr>\n<td>→</td>\n<td>if … then</td>\n<td>“If it rains, the ground gets wet”</td>\n</tr>\n</tbody>\n</table>\n<p>For example, to claim that <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>∨</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A \\lor B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∨</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> is true, you need to show that <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> is true or show that <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> is true. “One of them must be true, but I don’t know which” doesn’t count as a proof.</p>\n<p>And once you accept ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>∨</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A \\lor B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∨</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>,” you can see that to derive anything from it, you need branches that handle both cases (<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>). This is structurally identical to why type narrowing is needed when working with <code class=\"language-text\">string | number</code> in code.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">  <span class=\"token comment\">// To claim \"A or B\" is true, you must concretely show which one</span>\n  <span class=\"token keyword\">type</span> <span class=\"token class-name\">Result</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> Result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// \"It's one of the two\" isn't enough. You need to check which case.</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> x <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"set-theory-types-are-collections-of-elements\" style=\"position:relative;\">Set Theory: Types Are Collections of Elements<a href=\"#set-theory-types-are-collections-of-elements\" aria-label=\"set theory types are collections of elements permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Think of a set as a bag that holds similar things. The <code class=\"language-text\">number</code> type is a bag containing every number the program can represent. The <code class=\"language-text\">string</code> type is a bag of all strings. And <code class=\"language-text\">number | string</code> is the combined contents of both bags.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Pull one from the number bag</span>\n<span class=\"token keyword\">const</span> n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Pull one from the string bag</span>\n<span class=\"token keyword\">const</span> s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Pull from either bag</span>\n<span class=\"token keyword\">const</span> x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0.5</span> <span class=\"token operator\">?</span> <span class=\"token number\">42</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>When you think of types as sets, many things become natural. The <code class=\"language-text\">never</code> type is an empty bag, and <code class=\"language-text\">unknown</code> is the bag that contains everything.</p>\n<p>Strictly speaking, TypeScript’s actual type system differs from pure set theory in some ways, but this level of understanding is sufficient for building intuition.</p>\n<h4 id=\"lambda-calculus-functions-and-more\" style=\"position:relative;\">Lambda Calculus: Functions, and More<a href=\"#lambda-calculus-functions-and-more\" aria-label=\"lambda calculus functions and more permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Lambda calculus is a concept created in the 1930s by mathematician Alonzo Church to answer the question: “What is computation?” The name sounds intimidating, but if you’re a developer, you already use it every day.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// In lambda calculus: λx.x</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">identity</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// In lambda calculus: λx.λy.x</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">first</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">y</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Arrow functions are close to the modern syntax for lambda (<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>λ</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">λ</span></span></span></span></span>) notation, and they most directly demonstrate lambda calculus’s core idea of “function definition and application.” The remarkable thing Church proved is that these simple concepts alone can express arithmetic, conditionals, loops, and even numbers themselves.</p>\n<p>Of course, real JavaScript functions aren’t 100% identical to lambda calculus due to side effects, exceptions, <code class=\"language-text\">this</code> binding, and the runtime object model. But they share the essential insight that “computation is ultimately about creating and applying functions,” and that’s enough for our purposes.</p>\n<h4 id=\"where-three-worlds-meet-the-curry-howard-correspondence\" style=\"position:relative;\">Where Three Worlds Meet: The Curry-Howard Correspondence<a href=\"#where-three-worlds-meet-the-curry-howard-correspondence\" aria-label=\"where three worlds meet the curry howard correspondence permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>So how are these three concepts used in type systems? To answer this, we need to talk about the Curry-Howard correspondence — the concept that unifies them.</p>\n<p>The Curry-Howard correspondence (also called the Curry-Howard isomorphism) is a direct relationship between computer programs and logical proofs. More precisely, it’s the claim that proof rules in logic correspond to type rules in type systems.</p>\n<p>This pattern was first noticed in the 1930s by logician Haskell Curry, who discovered it while adding types to lambda calculus. Later, in 1969, William Howard dug deeper and established the following correspondences:</p>\n<table>\n<thead>\n<tr>\n<th>In Logic</th>\n<th>In Programming</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Proposition</td>\n<td>Type</td>\n</tr>\n<tr>\n<td>Proof</td>\n<td>Program</td>\n</tr>\n<tr>\n<td>If A then B</td>\n<td>Function from A to B</td>\n</tr>\n<tr>\n<td>A and B</td>\n<td>Tuple/object containing both A and B</td>\n</tr>\n<tr>\n<td>A or B</td>\n<td>Union type: A or B</td>\n</tr>\n<tr>\n<td>False (unprovable)</td>\n<td>never (no value can exist)</td>\n</tr>\n</tbody>\n</table>\n<p>The essence of this concept in one line:</p>\n<blockquote>\n<p>Types correspond to propositions, and programs that produce values of those types correspond to proofs of those propositions.</p>\n</blockquote>\n<p>TypeScript is a language that partially borrows this idea for practical purposes. “Partially” because escape hatches like <code class=\"language-text\">any</code> and type assertions exist.</p>\n<p>So in this post, when I say “proof,” think of it as “fulfilling the contract that the type rules demand.” I’ll revisit TypeScript’s limitations at the end.</p>\n<h2 id=\"logical-structures-through-types\" style=\"position:relative;\">Logical Structures Through Types<a href=\"#logical-structures-through-types\" aria-label=\"logical structures through types permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Let’s now look at how the Curry-Howard correspondence actually manifests, one piece at a time.</p>\n<h4 id=\"functions-evidence-of-if-a-then-b\" style=\"position:relative;\">Functions: Evidence of “If A Then B”<a href=\"#functions-evidence-of-if-a-then-b\" aria-label=\"functions evidence of if a then b permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Let’s start with the most fundamental correspondence: function types. The function type <code class=\"language-text\">(a: A) => B</code> corresponds to “if <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>” in logic.</p>\n<p>What does this mean? Let me put it in a more everyday analogy.</p>\n<p>Say a friend promises: “If you give me flour, I’ll make you bread.” This is the proposition “flour → bread.” How do you verify this promise is real? Simple — you give them flour, and bread comes out.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">makeBread</span><span class=\"token punctuation\">(</span>flour<span class=\"token operator\">:</span> Flour<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Bread <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Knead the flour, let it ferment, bake it...</span>\n  <span class=\"token keyword\">return</span> bread<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This function passing type checking shows that the promise “give me flour and I can make bread” is fulfillable within the type rules. The function’s implementation itself is the fulfillment of that contract.</p>\n<p>What happens when a type error occurs?</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">makeBread</span><span class=\"token punctuation\">(</span>flour<span class=\"token operator\">:</span> Flour<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Bread <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Error: Type 'Flour' is not assignable to type 'Bread'</span>\n  <span class=\"token keyword\">return</span> flour<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You promised to take flour and make bread, but you just handed back the flour. That’s a breach of contract, hence the type error.</p>\n<p>When this contract structure is properly maintained, we can start inferring function results.</p>\n<p>In logic, there’s an inference rule called Modus Ponens:</p>\n<blockquote>\n<p>If “if <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>” is true, and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> is true, then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> is also true.</p>\n</blockquote>\n<p>For example, if the proposition “if it rains, the ground gets wet” is true and “it’s raining” is also true, then we can easily infer “the ground is wet.” This structure is identical to function calls in programming, which is why we can infer the result type of a function.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// The \"flour → bread\" promise</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">makeBread</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>flour<span class=\"token operator\">:</span> Flour<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Bread <span class=\"token operator\">=</span> <span class=\"token comment\">/* ... */</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// We have flour</span>\n<span class=\"token keyword\">const</span> flour<span class=\"token operator\">:</span> Flour <span class=\"token operator\">=</span> <span class=\"token function\">getFlour</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Therefore we get bread</span>\n<span class=\"token keyword\">const</span> bread<span class=\"token operator\">:</span> Bread <span class=\"token operator\">=</span> <span class=\"token function\">makeBread</span><span class=\"token punctuation\">(</span>flour<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The function <code class=\"language-text\">makeBread</code> is the proposition “if you give me flour, I can make bread.” If this proposition is true and “flour is given” is also true, then naturally the value stored in <code class=\"language-text\">bread</code> being of type <code class=\"language-text\">Bread</code> is also true.</p>\n<p>The function calls and return type inference we do every day share this exact structure with logical inference.</p>\n<h4 id=\"tuples-evidence-of-and\" style=\"position:relative;\">Tuples: Evidence of “And”<a href=\"#tuples-evidence-of-and\" aria-label=\"tuples evidence of and permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The logical ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>” corresponds to tuples or objects in programming.</p>\n<p>Think of an everyday example. To travel abroad, you need to satisfy the condition “I have a passport and I have a plane ticket.” How do you fulfill this? Show both.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">CanTravel</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>Passport<span class=\"token punctuation\">,</span> Ticket<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Fulfilling the \"can travel\" condition = a tuple with both passport and ticket</span>\n<span class=\"token keyword\">const</span> proof<span class=\"token operator\">:</span> CanTravel <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>myPassport<span class=\"token punctuation\">,</span> myTicket<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Once the <code class=\"language-text\">CanTravel</code> type is satisfied — in other words, once “I have a passport and a plane ticket” holds — you can freely extract either one from the tuple.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getPassport</span><span class=\"token punctuation\">(</span>travel<span class=\"token operator\">:</span> CanTravel<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Passport <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Extract A from \"A and B\"</span>\n  <span class=\"token keyword\">return</span> travel<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getTicket</span><span class=\"token punctuation\">(</span>travel<span class=\"token operator\">:</span> CanTravel<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Ticket <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Extract B from \"A and B\"</span>\n  <span class=\"token keyword\">return</span> travel<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This mirrors the logical rule “if <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>∧</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A \\land B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> is true, then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> is true.” Extracting an element from a tuple corresponds to logical inference.</p>\n<h4 id=\"unions-evidence-of-or\" style=\"position:relative;\">Unions: Evidence of “Or”<a href=\"#unions-evidence-of-or\" aria-label=\"unions evidence of or permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>TypeScript’s union type <code class=\"language-text\">A | B</code> corresponds to ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>” in logic. The key point is that to claim ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>” is true, you must concretely show either that <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> is true or that <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> is true.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">PaymentMethod</span> <span class=\"token operator\">=</span> CreditCard <span class=\"token operator\">|</span> BankTransfer<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Fulfilling \"credit card or bank transfer\" = concretely provide one</span>\n<span class=\"token keyword\">const</span> payment1<span class=\"token operator\">:</span> PaymentMethod <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'credit'</span><span class=\"token punctuation\">,</span> cardNumber<span class=\"token operator\">:</span> <span class=\"token string\">'1234...'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> payment2<span class=\"token operator\">:</span> PaymentMethod <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'bank'</span><span class=\"token punctuation\">,</span> accountNumber<span class=\"token operator\">:</span> <span class=\"token string\">'5678...'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>And even if the proposition ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>” is true, you can’t know which one it is until you concretely check.</p>\n<p>So to derive anything from this proposition, you need to handle both cases.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">processPayment</span><span class=\"token punctuation\">(</span>method<span class=\"token operator\">:</span> PaymentMethod<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Receipt <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'credit'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Handle case A</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">chargeCreditCard</span><span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Handle case B</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">processBankTransfer</span><span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This is why exhaustiveness checking matters in TypeScript. Logically, when handling ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>,” you need strategies for both cases to have complete coverage.</p>\n<p>That said, whether TypeScript automatically checks that all cases are handled depends on your configuration and code patterns. If you want to strictly enforce exhaustiveness, use a pattern like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">assertNever</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">never</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Unexpected value\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Shape</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'circle'</span><span class=\"token punctuation\">;</span> radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'square'</span><span class=\"token punctuation\">;</span> side<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'triangle'</span><span class=\"token punctuation\">;</span> height<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span>shape<span class=\"token operator\">:</span> Shape<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'circle'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> shape<span class=\"token punctuation\">.</span>radius <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'square'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> shape<span class=\"token punctuation\">.</span>side <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token comment\">// Argument of type '{ type: \"triangle\"; height: number; }' is not assignable to parameter of type 'never'.</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">assertNever</span><span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If all union cases are handled, the <code class=\"language-text\">default</code> branch is unreachable and <code class=\"language-text\">shape</code> becomes <code class=\"language-text\">never</code>. But if you add a new shape and forget to handle it, <code class=\"language-text\">shape</code> won’t be <code class=\"language-text\">never</code> anymore, and you’ll get a compile error.</p>\n<h4 id=\"never-expressing-impossible\" style=\"position:relative;\">Never: Expressing “Impossible”<a href=\"#never-expressing-impossible\" aria-label=\"never expressing impossible permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>TypeScript’s <code class=\"language-text\">never</code> type means “no such value can exist.” In logic, this is expressed as contradiction or falsehood.</p>\n<p>Using the set theory analogy from earlier, <code class=\"language-text\">never</code> is an empty bag. Nothing is in it, and nothing ever will be.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">throwError</span><span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">never</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// This function never returns normally</span>\n  <span class=\"token comment\">// A return value \"cannot exist\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Here’s where an interesting principle from logic comes in: “from a contradiction, anything can be derived.” In Latin, this is called “Ex falso quodlibet” — if an impossible situation has occurred, then anything goes.</p>\n<p>We can express this principle in TypeScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">absurd</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">;</span>  <span class=\"token comment\">// From never, you can convert to any type</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This function expresses the rule “if <code class=\"language-text\">never</code>, then <code class=\"language-text\">T</code>.” Try replacing <code class=\"language-text\">never</code> with any concrete type and you’ll immediately get an error. Since <code class=\"language-text\">never</code> represents falsehood/contradiction, any type can follow it without being logically wrong.</p>\n<p>To be precise, TypeScript doesn’t exactly implement Ex falso in the formal sense. The <code class=\"language-text\">never</code> type is treated as a bottom type — a subtype of all types — so values of type <code class=\"language-text\">never</code> can be assigned to any type position. It resembles the Ex falso principle, but it’s really a consequence of subtyping.</p>\n<h4 id=\"generics-contracts-that-hold-for-all-cases\" style=\"position:relative;\">Generics: Contracts That Hold “For All Cases”<a href=\"#generics-contracts-that-hold-for-all-cases\" aria-label=\"generics contracts that hold for all cases permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>When first learning generics, we’re usually told they let you “decide the type later.” This isn’t wrong, but what generics mean goes deeper.</p>\n<p>In logic, there’s something called a universal proposition: “for all <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">P(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span> holds.” Like “all humans are mortal.”</p>\n<p>Generic functions have a structure similar to this universal proposition.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">identity</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This function expresses the contract: “for every type <code class=\"language-text\">T</code>, if you give me a <code class=\"language-text\">T</code>, I’ll return a <code class=\"language-text\">T</code>.”</p>\n<p>The crucial point is that you must show this holds for <em>all</em> cases — which means you can’t assume anything about any specific case.</p>\n<p>That’s why assuming something specific about a generic type immediately produces a type error:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">broken</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Assuming all T is number...</span>\n  <span class=\"token comment\">// Operator '+' cannot be applied to types 'T' and 'number'.</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The moment you assume <code class=\"language-text\">T</code> is <code class=\"language-text\">number</code>, this is no longer a contract about all <code class=\"language-text\">T</code> — it’s narrowed to a contract about <code class=\"language-text\">number</code>. It’s no longer a universal proposition.</p>\n<p>We solve this by adding constraints to the “for all” premise:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">addOne</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// OK</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>With <code class=\"language-text\">T extends number</code>, <code class=\"language-text\">T</code> becomes “a <code class=\"language-text\">T</code> that is a subset of <code class=\"language-text\">number</code>.” We’re adjusting the scope of “all.” That’s why we use the <code class=\"language-text\">extends</code> keyword for these constraints.</p>\n<h2 id=\"composition-and-transformation\" style=\"position:relative;\">Composition and Transformation<a href=\"#composition-and-transformation\" aria-label=\"composition and transformation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>So far we’ve looked at the basic correspondences between types and logic. Now let’s talk about how to combine and transform them.</p>\n<h4 id=\"function-composition-chaining-inferences\" style=\"position:relative;\">Function Composition: Chaining Inferences<a href=\"#function-composition-chaining-inferences\" aria-label=\"function composition chaining inferences permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>In logic, there’s the syllogism. The most basic hypothetical syllogism can be expressed as:</p>\n<blockquote>\n<p>If <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>.\nIf <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>.\nTherefore, if <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>.</p>\n</blockquote>\n<p>For example, if “eating makes you full” is true and “being full makes you sleepy” is true, then “eating makes you sleepy” is also true. In programming, this is expressed as function composition.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">compose</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">C</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token function-variable function\">f</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">B</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">g</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>b<span class=\"token operator\">:</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">C</span>\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">C</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">g</span><span class=\"token punctuation\">(</span><span class=\"token function\">f</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> parseNumber <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> isPositive <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">=></span> n <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Connecting string → number</span>\n<span class=\"token comment\">// and number → boolean</span>\n<span class=\"token comment\">// gives us string → boolean</span>\n<span class=\"token keyword\">const</span> isPositiveString <span class=\"token operator\">=</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>parseNumber<span class=\"token punctuation\">,</span> isPositive<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">isPositiveString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"42\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This is like chaining small inferences together to build larger, more complex ones. The ability to stack small, simple structures into larger ones is what makes function composition powerful.</p>\n<p>This is why concepts like <code class=\"language-text\">pipe</code> and <code class=\"language-text\">compose</code>, and related ideas like Functors and Monads, are central to functional programming.</p>\n<p>In category theory, composition is said to be the very essence of a category. If you’re interested, see <a href=\"/2024/01/30/category-theory-for-programmers-1-category/\">“Category Theory for Programmers - 1. Category: The Essence of Composition”</a>.</p>\n<h4 id=\"currying-a-logically-natural-transformation\" style=\"position:relative;\">Currying: A Logically Natural Transformation<a href=\"#currying-a-logically-natural-transformation\" aria-label=\"currying a logically natural transformation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Currying is the pattern of transforming a multi-argument function into a chain of single-argument functions. It makes composition easier because any function can be reduced to the common pattern of unary functions.</p>\n<p>An interesting point is that this transformation from multi-argument to single-argument functions is <em>always</em> possible. Why?</p>\n<p>In logic, there’s an equivalence called the Exportation law, and currying is a pattern based on this concept:</p>\n<blockquote>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>A</mi><mo>∧</mo><mi>B</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>C</mi><mo>≡</mo><mi>A</mi><mo>→</mo><mo stretchy=\"false\">(</mo><mi>B</mi><mo>→</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(A \\land B) \\rightarrow C \\equiv A \\rightarrow (B \\rightarrow C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≡</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>“If (A and B) then C” is logically equivalent to “If A, then (if B then C).”</p>\n</blockquote>\n<p>Strictly speaking, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>A</mi><mo>∧</mo><mi>B</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">(A \\land B) \\rightarrow C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∧</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span> corresponds to “a function that takes a tuple of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span> and returns <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>,” and JavaScript’s multi-argument functions are a practical approximation of this.</p>\n<p>In more everyday terms: “If you have flour and water, you can make dough” and “If you have flour, then (if you have water, you can make dough)” mean the same thing. This is why the transformation is always guaranteed to be safe.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Takes two arguments at once</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">makeDough</span><span class=\"token punctuation\">(</span>flour<span class=\"token operator\">:</span> Flour<span class=\"token punctuation\">,</span> water<span class=\"token operator\">:</span> Water<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Dough <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">mix</span><span class=\"token punctuation\">(</span>flour<span class=\"token punctuation\">,</span> water<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Takes one argument at a time (curried)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">makeDoughCurried</span><span class=\"token punctuation\">(</span>flour<span class=\"token operator\">:</span> Flour<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>water<span class=\"token operator\">:</span> Water<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Dough <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>water<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">mix</span><span class=\"token punctuation\">(</span>flour<span class=\"token punctuation\">,</span> water<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Both are logically equivalent</span>\n<span class=\"token keyword\">const</span> dough1 <span class=\"token operator\">=</span> <span class=\"token function\">makeDough</span><span class=\"token punctuation\">(</span>flour<span class=\"token punctuation\">,</span> water<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dough2 <span class=\"token operator\">=</span> <span class=\"token function\">makeDoughCurried</span><span class=\"token punctuation\">(</span>flour<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>water<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Currying is possible not because it’s merely a programming technique, but because it mirrors a logical equivalence.</p>\n<h4 id=\"type-algebra-like-addition-and-multiplication\" style=\"position:relative;\">Type Algebra: Like Addition and Multiplication<a href=\"#type-algebra-like-addition-and-multiplication\" aria-label=\"type algebra like addition and multiplication permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Have you heard the term Algebraic Data Types? It means that types support operations analogous to arithmetic in algebra.</p>\n<p>For example, there are product types and sum types. A representative product type is the tuple (“and”), and a sum type is the union type (“or”).</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">|</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 2 values</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Pair</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>Bool<span class=\"token punctuation\">,</span> Bool<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 2 * 2 = 4 values</span>\n<span class=\"token comment\">// [true, true], [true, false], [false, true], [false, false]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Three</span> <span class=\"token operator\">=</span> <span class=\"token string\">'a'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'b'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 3 values</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Five</span> <span class=\"token operator\">=</span> Three <span class=\"token operator\">|</span> Bool<span class=\"token punctuation\">;</span>       <span class=\"token comment\">// 3 + 2 = 5 values</span>\n<span class=\"token comment\">// 'a', 'b', 'c', true, false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This is why they’re called Algebraic Data Types. When you look at types in terms of the number of possible values, sum types behave like addition and product types like multiplication.</p>\n<p>What’s even more interesting is that the distributive law from algebra also shows up in types. Mathematically:</p>\n<blockquote>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>×</mo><mo stretchy=\"false\">(</mo><mi>B</mi><mo>+</mo><mi>C</mi><mo stretchy=\"false\">)</mo><mo>≡</mo><mo stretchy=\"false\">(</mo><mi>A</mi><mo>×</mo><mi>B</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mo stretchy=\"false\">(</mo><mi>A</mi><mo>×</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A \\times (B + C) \\equiv (A \\times B) + (A \\times C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≡</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span></p>\n</blockquote>\n<p>In TypeScript, this structure becomes very clear in one particular feature: conditional types.</p>\n<p>TypeScript’s conditional types automatically distribute over union types. This property lets you directly observe the distributive law of type algebra:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">PairWith<span class=\"token operator\">&lt;</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">B</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">B</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\"><span class=\"token builtin\">any</span></span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">A</span></span> <span class=\"token operator\">=</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">B</span></span> <span class=\"token operator\">=</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Since boolean = true | false, this distributes into a union of three products</span>\n<span class=\"token comment\">// [string, number] | [string, false] | [string, true]</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Result</span> <span class=\"token operator\">=</span> PairWith<span class=\"token operator\">&lt;</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">B</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This example shows that when <code class=\"language-text\">B</code> is the sum type <code class=\"language-text\">number | boolean</code>, the product type <code class=\"language-text\">[A, B]</code> distributes into the sum type <code class=\"language-text\">[A, number] | [A, boolean]</code>.</p>\n<p>At the type level, we see the same algebraic distributive law: <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>×</mo><mo stretchy=\"false\">(</mo><mi>B</mi><mo>+</mo><mi>C</mi><mo stretchy=\"false\">)</mo><mo>≡</mo><mo stretchy=\"false\">(</mo><mi>A</mi><mo>×</mo><mi>B</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mo stretchy=\"false\">(</mo><mi>A</mi><mo>×</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A \\times (B + C) \\equiv (A \\times B) + (A \\times C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≡</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span>.</p>\n<p>TypeScript’s type system doesn’t always automatically treat these distributed forms as identical types. But at the level of type computation and transformation rules, the ideas of algebraic data type addition, multiplication, and distribution are clearly alive.</p>\n<p>In category theory, products and sums are treated from an even more abstract perspective called Universal Construction. See <a href=\"/2024/04/18/category-theory-for-programmers-9-function-types/\">“Category Theory for Programmers - 9. Function Types”</a> for how these algebraic structures are extended.</p>\n<h2 id=\"typescript-isnt-100-logically-sound\" style=\"position:relative;\">TypeScript Isn’t 100% Logically Sound<a href=\"#typescript-isnt-100-logically-sound\" aria-label=\"typescript isnt 100 logically sound permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now that we’ve covered the basic concepts, let’s look at the TypeScript limitations I mentioned earlier.</p>\n<p>I said TypeScript partially borrows the Curry-Howard correspondence. What are its limits?</p>\n<p>TypeScript intentionally provides several escape hatches that can lead to logical contradictions, all in the name of practicality. I’ll cover two representative ones here.</p>\n<p>The first escape hatch is the existence of <code class=\"language-text\">any</code> and type assertions. <code class=\"language-text\">any</code> is a declaration to skip type checking entirely. In logical terms, it’s like “accepting anything as true without verification.” Type assertions via <code class=\"language-text\">as</code> are the same.</p>\n<p>These are escape hatches that bypass the proof system, which is why TypeScript becomes a language that permits logical contradictions.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> x<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Assigning a string to a number type</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">const</span></span> z <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">unknown</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// Forced type conversion</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The second escape hatch is corner cases in structural typing. Notably, function parameter bivariance, index signatures, and optional properties can all undermine logical interpretation.</p>\n<p>Logically, function parameters should be contravariant. In simple terms, if <code class=\"language-text\">Dog</code> is a subtype of <code class=\"language-text\">Animal</code>, then <code class=\"language-text\">(animal: Animal) => void</code> should be a subtype of <code class=\"language-text\">(dog: Dog) => void</code> — because a function that accepts a broader type can substitute for one that accepts a narrower type.</p>\n<p>But TypeScript treats method-syntax function declarations as bivariant:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">  <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Dog</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span> breed<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">type</span> <span class=\"token class-name\">Handler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>animal<span class=\"token operator\">:</span> Animal<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> dogHandler<span class=\"token operator\">:</span> Handler <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// A function that only handles Dogs is assigned where Animal is expected</span>\n    <span class=\"token comment\">// Not caught even with strictFunctionTypes</span>\n    <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span>dog<span class=\"token operator\">:</span> Dog<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dog<span class=\"token punctuation\">.</span>breed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  dogHandler<span class=\"token punctuation\">.</span><span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"cat\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Possible runtime error</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Index signatures can also lead to logical contradictions. Even when accessing a key that doesn’t exist on an object, TypeScript infers the declared type rather than <code class=\"language-text\">undefined</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> scores<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> alice<span class=\"token operator\">:</span> <span class=\"token number\">100</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> bobScore <span class=\"token operator\">=</span> scores<span class=\"token punctuation\">[</span><span class=\"token string\">\"bob\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Type is number, actual value is undefined</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bobScore<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Runtime error</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If you want stricter type checking, enable the <code class=\"language-text\">noUncheckedIndexedAccess</code> option in tsconfig to properly infer <code class=\"language-text\">number | undefined</code>.</p>\n<p>Finally, there’s the confusion between optional properties and <code class=\"language-text\">undefined</code>. In a type like <code class=\"language-text\">{ a?: string }</code>, the state where <code class=\"language-text\">a</code> is <code class=\"language-text\">undefined</code> and the state where <code class=\"language-text\">a</code> doesn’t exist at all aren’t logically distinguished:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Config</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> timeout<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> config1<span class=\"token operator\">:</span> Config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> timeout<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n<span class=\"token keyword\">const</span> config2<span class=\"token operator\">:</span> Config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n\n<span class=\"token comment\">// Both are treated as the same type, but</span>\n<span class=\"token comment\">// Object.hasOwn(config1, 'timeout') and Object.hasOwn(config2, 'timeout') differ</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Since TypeScript 4.4, the <code class=\"language-text\">exactOptionalPropertyTypes</code> option lets you more strictly distinguish between “doesn’t exist” and “exists as <code class=\"language-text\">undefined</code>.”</p>\n<p>These escape hatches are the result of TypeScript choosing practical JavaScript compatibility over 100% logical soundness.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This post isn’t about how to use TypeScript better. If you’ve worked with types extensively in practice, most of the examples here are probably familiar.</p>\n<p>What I wanted to convey is more about the <em>perspective</em> with which we approach the type system. Instead of seeing type errors as “obstacles to get past,” try reading them as a tool that tells you what contract you declared and where that contract is breaking down.</p>\n<p>Once this perspective takes hold, your attitude toward type errors naturally shifts. Before asking “why doesn’t this work,” you start thinking about “what contract am I violating.”</p>\n<p>Type systems have more to say than we realize. It might be a waste to read them as nothing more than a pass/fail from the compiler.</p>\n<p>If you found this post interesting, check out the <a href=\"/2024/01/30/category-theory-for-programmers-0-preface/\">“Category Theory for Programmers”</a> series. You’ll see how concepts covered here — composition, product and sum types, function types — are generalized in category theory, and how ideas like functors and natural transformations extend them further.</p>","fields":{"slug":"20260125-types-as-proofs-typescript-hidden-mathen","path":"/2026/01/25/types-as-proofs-typescript-hidden-math/en/","lang":"en"},"frontmatter":{"title":"Why Do Type Systems Behave Like Proofs?","subTitle":"From seeing type checks as compiler hurdles to reading type systems as logic","date":"Jan 25, 2026","categories":["Programming"],"tags":["TypeScript","Type System","Mathematics","Logic","Curry-Howard","Lambda Calculus"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/431b08e8376f331ee6da16cb53233c65/d803c/thumbnail.png","srcSet":"/static/431b08e8376f331ee6da16cb53233c65/d803c/thumbnail.png 320w,\n/static/431b08e8376f331ee6da16cb53233c65/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/431b08e8376f331ee6da16cb53233c65/fc5c5/thumbnail.webp 320w,\n/static/431b08e8376f331ee6da16cb53233c65/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/431b08e8376f331ee6da16cb53233c65/01fb2/thumbnail.png","srcSet":"/static/431b08e8376f331ee6da16cb53233c65/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/431b08e8376f331ee6da16cb53233c65/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"bd27bf90-3ee9-5272-b0de-1137f21a0cc6","tableOfContents":"<ul>\n<li>\n<p><a href=\"#organizational-excellence-is-built-from-individual-excellence\">Organizational Excellence Is Built from Individual Excellence</a></p>\n<ul>\n<li><a href=\"#what-is-an-excellent-organization\">What Is an Excellent Organization?</a></li>\n<li><a href=\"#from-10-to-140-the-need-for-systems\">From 10 to 140: The Need for Systems</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#spin-the-flywheel-that-creates-organizational-excellence\">Spin the Flywheel That Creates Organizational Excellence</a></p>\n<ul>\n<li><a href=\"#stage-1-recruit--gather-exceptional-talent-obsessed-with-growth\">Stage 1: Recruit — Gather Exceptional Talent Obsessed with Growth</a></li>\n<li><a href=\"#stage-2-self-awareness--view-organizational-expectations-and-personal-strengths-through-a-shared-language\">Stage 2: Self-awareness — View Organizational Expectations and Personal Strengths Through a Shared Language</a></li>\n<li><a href=\"#stage-3-opportunity--let-people-experience-growth-in-small-increments\">Stage 3: Opportunity — Let People Experience Growth in Small Increments</a></li>\n<li><a href=\"#stage-4-recognition--let-people-experience-achievement-through-tangible-and-psychological-rewards\">Stage 4: Recognition — Let People Experience Achievement Through Tangible and Psychological Rewards</a></li>\n<li><a href=\"#stage-5-contribution--positive-experiences-make-the-organization-excellent\">Stage 5: Contribution — Positive Experiences Make the Organization Excellent</a></li>\n<li><a href=\"#stage-6-branding--share-excellence-with-the-outside-world\">Stage 6: Branding — Share Excellence with the Outside World</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"In this post, I want to talk about what I’ve been thinking about over the roughly two and a half years I’ve spent as a frontend chapter lead at Toss. My job and goal as a chapter lead at Toss is clear: make the Toss frontend chapter the most excellent engineering organization in the world.","html":"<p>In this post, I want to talk about what I’ve been thinking about over the roughly two and a half years I’ve spent as a frontend chapter lead at Toss.</p>\n<p>My job and goal as a chapter lead at Toss is clear: make the Toss frontend chapter the most excellent engineering organization in the world.</p>\n<!-- more -->\n<p>There are many ways to define “excellence,” but what I believe truly matters isn’t creating excellence in the current moment — it’s building an organization that can march toward excellence on its own, even without me.</p>\n<h2 id=\"organizational-excellence-is-built-from-individual-excellence\" style=\"position:relative;\">Organizational Excellence Is Built from Individual Excellence<a href=\"#organizational-excellence-is-built-from-individual-excellence\" aria-label=\"organizational excellence is built from individual excellence permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"what-is-an-excellent-organization\" style=\"position:relative;\">What Is an Excellent Organization?<a href=\"#what-is-an-excellent-organization\" aria-label=\"what is an excellent organization permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I believe an excellent organization is fundamentally a collection of excellent individuals. When exceptional people come together, stimulate each other, and work side by side, organizational excellence naturally follows. And indeed, the Toss frontend chapter has many outstanding developers who quickly grasp complex problems, craft elegant solutions, and help each other grow.</p>\n<p>When leading a small organization, you can build excellence by establishing clear technical and cultural hiring standards and focusing on collecting exceptional talent. That’s why at my previous company, I remember pouring the most energy into hiring.</p>\n<p>But the Toss frontend chapter is a large organization — around 250 people across the broader community, with nearly 140 in the Toss Core frontend chapter where I work. Leading an organization this large requires a different approach than leading a small one.</p>\n<p>At this scale, simply gathering excellent individuals isn’t enough. With more diverse people joining, the organization needs significantly more energy to understand each person’s strengths and capabilities and make sound decisions.</p>\n<h3 id=\"from-10-to-140-the-need-for-systems\" style=\"position:relative;\">From 10 to 140: The Need for Systems<a href=\"#from-10-to-140-the-need-for-systems\" aria-label=\"from 10 to 140 the need for systems permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Back when the frontend chapter had around 10 people, everyone could know each other in detail — faces, names, personalities.</p>\n<p>But when I returned to Toss, the frontend chapter had already grown into a massive organization compared to before.</p>\n<p>Even within the same chapter, there are cases where people don’t know who else is on the team. If you’re not actively paying attention, you might not even notice when new hires join. The rules of the game are simply different with 10 people versus 140.</p>\n<p>Even a chapter lead, without making a deliberate effort, would find it extremely difficult to understand this many people’s strengths, growth trajectories, and motivations. Right now, individual effort from leads still covers things to some degree, but if the headcount keeps growing, there will inevitably come a point where even that becomes impossible.</p>\n<p>Information about individuals would fragment across the minds of multiple leads, and depending on who interacts with which lead, some people would naturally become more visible while others fade into the background.</p>\n<p>That’s why I concluded that the lead’s role in this game needs to shift — from “directly caring for people” to “building systems that make the organization excellent on its own.”</p>\n<h2 id=\"spin-the-flywheel-that-creates-organizational-excellence\" style=\"position:relative;\">Spin the Flywheel That Creates Organizational Excellence<a href=\"#spin-the-flywheel-that-creates-organizational-excellence\" aria-label=\"spin the flywheel that creates organizational excellence permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As I mentioned, the key to building an excellent organization is designing one that naturally gravitates toward excellence on its own. This is similar to the <a href=\"https://en.wikipedia.org/wiki/Flywheel\" target=\"_blank\" rel=\"nofollow\">flywheel effect</a> borrowed from product development.</p>\n<p>The flywheel effect describes a structure where small, repeated impacts accumulate to produce increasingly larger outcomes. It requires a lot of energy at first, but once it starts spinning, momentum allows it to generate bigger results with less effort.</p>\n<p>Similarly, in organizational management, when individual activities connect into a virtuous cycle, excellence naturally accelerates.</p>\n<p>The flywheel I’ve designed for an excellent organization consists of six stages:</p>\n<hr>\n<ol>\n<li><strong>Recruit</strong>: Gather exceptional talent obsessed with growth.</li>\n<li><strong>Self-awareness</strong>: Understand the organization’s expectations and your current state.</li>\n<li><strong>Opportunity</strong>: Provide opportunities for prepared talent to experience the next level of growth in small increments.</li>\n<li><strong>Recognition</strong>: Deliver tangible and psychological rewards to those who’ve achieved growth, giving them a sense of acknowledgment and accomplishment.</li>\n<li><strong>Contribution</strong>: People with positive experiences participate in chapter activities, making the organization more excellent.</li>\n<li><strong>Branding</strong>: Organize and share the chapter’s excellent work externally.</li>\n</ol>\n<hr>\n<h3 id=\"stage-1-recruit--gather-exceptional-talent-obsessed-with-growth\" style=\"position:relative;\">Stage 1: Recruit — Gather Exceptional Talent Obsessed with Growth<a href=\"#stage-1-recruit--gather-exceptional-talent-obsessed-with-growth\" aria-label=\"stage 1 recruit  gather exceptional talent obsessed with growth permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Building an excellent organization requires a continuous inflow of exceptional talent. The important thing here isn’t simply finding skilled people — it’s finding people who are obsessed with growth and have high growth potential.</p>\n<p>Identifying these people during the hiring process matters, but what matters even more is branding that makes people on the outside think, “If I go there, I can grow even more” — naturally driving more applications to Toss.</p>\n<p>We need to concretely show what technical capabilities the Toss frontend chapter has and what kind of culture it fosters. This is exactly where Stage 6 (Branding) connects back to Stage 1 (Recruit).</p>\n<h3 id=\"stage-2-self-awareness--view-organizational-expectations-and-personal-strengths-through-a-shared-language\" style=\"position:relative;\">Stage 2: Self-awareness — View Organizational Expectations and Personal Strengths Through a Shared Language<a href=\"#stage-2-self-awareness--view-organizational-expectations-and-personal-strengths-through-a-shared-language\" aria-label=\"stage 2 self awareness  view organizational expectations and personal strengths through a shared language permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I believe growth always starts with self-awareness. So the growth that an excellent organization produces ultimately begins with how accurately each member recognizes their own capabilities and strengths.</p>\n<p>It’s similar to a strategy game. Think of Lü Bu and Zhuge Liang from the Romance of the Three Kingdoms. Both are exceptional talents, but the moment they’re given mismatched roles, their excellence vanishes. Assigning Lü Bu to domestic administration or sending Zhuge Liang into single combat would obviously produce poor results.</p>\n<p>The problem is that in reality, people often don’t know whether they’re a Lü Bu or a Zhuge Liang — or they might be a Lü Bu who says they want to do administration. I think this is less about willpower and more about a lack of self-awareness.</p>\n<p>That’s why I believe the first step toward growth in an excellent organization is helping members accurately recognize their own capabilities and strengths, then connecting them with the right growth opportunities.</p>\n<p>Along these lines, the Toss frontend chapter uses a tool called the Skill Tree. Rather than a device for defining excellence, it’s more like a reference line that helps members see their current capabilities and strengths more clearly, and articulate their next growth direction for themselves.</p>\n<p>Once someone can articulate their growth direction and strengths, leads use this information to coach them so their strengths translate into real outcomes and growth.</p>\n<h3 id=\"stage-3-opportunity--let-people-experience-growth-in-small-increments\" style=\"position:relative;\">Stage 3: Opportunity — Let People Experience Growth in Small Increments<a href=\"#stage-3-opportunity--let-people-experience-growth-in-small-increments\" aria-label=\"stage 3 opportunity  let people experience growth in small increments permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Once self-awareness is established, what the organization needs to do next is clear: provide opportunities for members to take on challenges without pressure and experience small wins. No matter how well someone understands their strengths and current state, growth remains theoretical without a real arena to try things in.</p>\n<p>This conviction became sharper through a recent leadership survey. The results showed that interest in leadership roles was far greater than expected. However, a common response was: “I’m interested, but I don’t feel ready yet.”</p>\n<p>At first, I assumed members felt their capabilities were lacking. But analyzing individual responses more closely, it was closer to “I don’t know what I should be preparing for or what capabilities I need to build.” In other words, the chapter wasn’t providing enough hints about the direction, standards, and methods of growth.</p>\n<p>So I decided we needed to create more of these opportunities and expose them more frequently. Growth isn’t built from a single giant leap — it’s built on many small wins. We need to create an environment where chapter members can take on challenges without hesitation.</p>\n<p>This problem awareness led to the creation of the Next F-Lead program. This program focuses on three core competencies: strategic thinking, interview skills, and 1-on-1 coaching. The goal isn’t to suddenly turn someone into a lead — it’s to let them experience the F-Lead role in small doses beforehand. Through this, members come to see leadership not as “something far removed from me” but as “a next step I can gradually prepare for.”</p>\n<p>Beyond Next F-Lead, we’re working to help members envision their next steps more clearly through various education and experience programs. The key isn’t pushing anyone in a specific direction — it’s creating an environment where each person can try things and choose for themselves.</p>\n<p>Someone who has experienced small wins can imagine bigger challenges, and that imagination translates into real action toward the next stage of growth. That’s why the Opportunity stage is crucial in the flywheel.</p>\n<h3 id=\"stage-4-recognition--let-people-experience-achievement-through-tangible-and-psychological-rewards\" style=\"position:relative;\">Stage 4: Recognition — Let People Experience Achievement Through Tangible and Psychological Rewards<a href=\"#stage-4-recognition--let-people-experience-achievement-through-tangible-and-psychological-rewards\" aria-label=\"stage 4 recognition  let people experience achievement through tangible and psychological rewards permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Growth isn’t completed by experience alone. Recognition must follow for those who’ve produced growth. Positive feedback as a reward is easily underestimated in organizational management, but it’s actually one of the most important elements for re-accelerating the flywheel.</p>\n<p>Within the Toss frontend chapter, there are already many people contributing to the organization by showcasing their strengths — people who consistently share technical knowledge, participate in activities like the Open Source Committee or Code Quality Committee, or build and share tools that help colleagues work better.</p>\n<p>These contributions elevate the organization, but if their value isn’t made visible enough, even the contributors themselves may struggle to feel their own achievements. That’s why I believe these people need to be recognized more often and more clearly.</p>\n<p>The same goes for people in lead roles. They don’t just deliver their own results — they help colleagues grow right beside them. From the organization’s perspective, it’s an extremely important role. From the individual’s perspective, it’s no light responsibility. There’s a lot to do and a lot to think about. For me, every day working alongside these people is filled with gratitude, and their dedication absolutely deserves to be rewarded.</p>\n<p>That’s why the Toss frontend chapter is preparing a dedicated leadership education program for leads. Beyond just training, we’re also planning opportunities for deeper participation in chapter decision-making, along with explicit expansion of authority and roles. This isn’t just a reward — it’s a clear message: “The organization takes your growth seriously.”</p>\n<p>Recognition isn’t the end of achievement — it’s the signal that starts the next phase of growth. Someone who has experienced accomplishment naturally wants to contribute again, and that contribution makes the organization more excellent once more. That’s why the Recognition stage is indispensable in the flywheel.</p>\n<h3 id=\"stage-5-contribution--positive-experiences-make-the-organization-excellent\" style=\"position:relative;\">Stage 5: Contribution — Positive Experiences Make the Organization Excellent<a href=\"#stage-5-contribution--positive-experiences-make-the-organization-excellent\" aria-label=\"stage 5 contribution  positive experiences make the organization excellent permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>People who’ve been recognized and experienced achievement naturally start contributing to the organization. And when these contributions are met with the recognition mentioned in Stage 4 — shout-outs, expanded authority, participation in decision-making — the behavior is naturally reinforced. This is the core of the flywheel.</p>\n<p>I believe an organization becomes excellent when knowledge sharing, new ideas and feedback, and vigorous debate appear frequently. These are what contribution looks like, and these contributions collectively make an organization excellent.</p>\n<p>The Toss frontend chapter has a long history of such contributions.</p>\n<p>In the early days when the team was small, efforts like building internal libraries, developing TDS (Toss Design System), and creating admin tools were all driven by this kind of contribution. Now it takes the form of technical tool and knowledge sharing, the Open Source Committee, the Code Quality Committee, Frontend Accelerator mentoring, user accessibility improvements, and more.</p>\n<p>Leads who completed Next F-Lead improve the program. Developers active in the Open Source Committee propose new libraries. Chapter members who’ve used the Skill Tree provide feedback. All of this is contribution.</p>\n<p>Systems are improved by individuals, and improved systems in turn make more individuals excellent. The small flywheel is already spinning.</p>\n<h3 id=\"stage-6-branding--share-excellence-with-the-outside-world\" style=\"position:relative;\">Stage 6: Branding — Share Excellence with the Outside World<a href=\"#stage-6-branding--share-excellence-with-the-outside-world\" aria-label=\"stage 6 branding  share excellence with the outside world permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The final stage is branding — organizing the excellent chapter’s activities and sharing them externally.</p>\n<p>Currently, the Toss frontend chapter is building its brand of excellence through various activities: the Open Source Committee, Frontend Accelerator mentoring, the Frontend Fundamentals documentation project, and the Bonfire YouTube content series, among others.</p>\n<p>For example, the Open Source Committee has produced several libraries including es-toolkit, es-hangul, and overlay-kit. <a href=\"https://es-toolkit.dev/\" target=\"_blank\" rel=\"nofollow\">es-toolkit</a> in particular has been adopted by big tech companies like Microsoft, as well as well-known tools like Storybook and Yarn. It currently sees around 9 million weekly downloads.</p>\n<p><a href=\"https://frontend-fundamentals.com/code-quality/\" target=\"_blank\" rel=\"nofollow\">Frontend Fundamentals</a> and the Frontend Accelerator mentoring program aim to grow the broader frontend ecosystem. The hope is that this produces more excellent developers in the ecosystem, which in turn naturally funnels exceptional talent toward Toss — creating a virtuous cycle.</p>\n<p>Content like the <a href=\"https://toss.tech/article/firesidechat_frontend_10\" target=\"_blank\" rel=\"nofollow\">Bonfire YouTube series</a> is an excellent vehicle for creating positive influence among many developers at relatively low cost. It naturally shows the standards by which the Toss frontend chapter writes code and who the developers within the chapter are, generating branding effects.</p>\n<p>All of these activities deliver the message: “The Toss frontend chapter is an excellent organization.” People obsessed with growth who see this message are drawn to Toss. When branding works well, it feeds back into Stage 1 (Recruit), completing the flywheel.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The thing I value most as a leader is building “an organization that runs without me.” It might sound paradoxical, but this is what true sustainability looks like.</p>\n<p>Reducing individual dependency and leaving behind clear standards and functioning systems. Making the flywheel keep spinning even when I go on vacation, focus on something else, or even leave this role entirely. That’s why I’ve spent the past two and a half years focusing not on directly caring for people, but on building systems that make the organization excellent on its own.</p>\n<p>A truly excellent organization is one that can continuously produce excellent individuals. And those individuals, in turn, make the organization even more excellent.</p>\n<p>In truth, each system still has much room for improvement. The Skill Tree needs to become more refined. Next F-Lead needs to produce more leads. The recognition system is still being built. Above all, I’m still searching for a clear answer to whether all of this is truly “making the organization more excellent.”</p>\n<p>But I’m confident the direction is right. Small wins are accumulating. Feedback from chapter members keeps flowing in. And most importantly, the small flywheel is actually spinning.</p>\n<p>Organizational management isn’t a problem that yields answers overnight. But with a clear direction and functioning systems, I believe the flywheel will spin faster over time, and the Toss frontend chapter will become an even more excellent organization than it is today.</p>","fields":{"slug":"20260124-leading-frontend-organizationen","path":"/2026/01/24/leading-frontend-organization/en/","lang":"en"},"frontmatter":{"title":"People Create Excellence, but Systems Make It Last","subTitle":"Designing a flywheel that reduces individual dependency and leaves lasting systems","date":"Jan 24, 2026","categories":["Essay"],"tags":["Leadership","Organizational Culture","Frontend","Chapter Lead"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ad36c013dbd2031d00e50cb2530b0f09/d803c/thumbnail.png","srcSet":"/static/ad36c013dbd2031d00e50cb2530b0f09/d803c/thumbnail.png 320w,\n/static/ad36c013dbd2031d00e50cb2530b0f09/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ad36c013dbd2031d00e50cb2530b0f09/fc5c5/thumbnail.webp 320w,\n/static/ad36c013dbd2031d00e50cb2530b0f09/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ad36c013dbd2031d00e50cb2530b0f09/01fb2/thumbnail.png","srcSet":"/static/ad36c013dbd2031d00e50cb2530b0f09/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ad36c013dbd2031d00e50cb2530b0f09/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"b484c5c2-8cdd-5cd6-8dee-73e6eaf7c4f5","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-essence-of-declarative-programming\">The Essence of Declarative Programming</a></p>\n<ul>\n<li><a href=\"#state-space-and-cognitive-load\">State Space and Cognitive Load</a></li>\n<li><a href=\"#the-relationship-between-input-and-output\">The Relationship Between Input and Output</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#the-declarative-overlay-pattern\">The Declarative Overlay Pattern</a></p>\n<ul>\n<li><a href=\"#from-state-to-relationships\">From State to Relationships</a></li>\n<li><a href=\"#redistribution-of-cognitive-load\">Redistribution of Cognitive Load</a></li>\n<li><a href=\"#composition-and-control-flow\">Composition and Control Flow</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#extending-declarative-thinking\">Extending Declarative Thinking</a></p>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"In this post, continuing from my previous one, I want to dig deeper into how declarative programming manifests in real-world code. Just explaining theory would be boring, so let’s explore declarative programming in more detail through overlay-kit, a library that makes it easy to manage overlay elem…","html":"<p>In this post, continuing from my previous one, I want to dig deeper into how declarative programming manifests in real-world code.</p>\n<p>Just explaining theory would be boring, so let’s explore declarative programming in more detail through <a href=\"https://overlay-kit.slash.page/en\" target=\"_blank\" rel=\"nofollow\">overlay-kit</a>, a library that makes it easy to manage overlay elements like modals and toasts in React.</p>\n<!--more -->\n<h2 id=\"the-essence-of-declarative-programming\" style=\"position:relative;\">The Essence of Declarative Programming<a href=\"#the-essence-of-declarative-programming\" aria-label=\"the essence of declarative programming permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I previously wrote about <a href=\"/2025/09/07/declarative-programming-misconceptions-and-essence/en\">the essence of declarative programming</a>. Using array methods like <code class=\"language-text\">map</code> or <code class=\"language-text\">filter</code> doesn’t automatically make your code declarative. True declarative thinking focuses on “What” instead of “How” — on relationships, not procedures.</p>\n<p>But most React developers still haven’t escaped the procedural mindset of a decade ago when it comes to handling elements like modals and toasts.</p>\n<p>We still use <code class=\"language-text\">useState</code> to create state, wire up event handlers, and manage the sequence of state changes. This is procedural thinking — focusing on temporal order: “first open the dialog, then wait for confirmation, and finally call the API.”</p>\n<p>Just as you can think procedurally while using <code class=\"language-text\">map</code>, using <code class=\"language-text\">useState</code> doesn’t make your code declarative.</p>\n<h3 id=\"state-space-and-cognitive-load\" style=\"position:relative;\">State Space and Cognitive Load<a href=\"#state-space-and-cognitive-load\" aria-label=\"state space and cognitive load permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Remember the async data state example from the previous post? Managing <code class=\"language-text\">loading</code>, <code class=\"language-text\">data</code>, and <code class=\"language-text\">error</code> as independent boolean states creates logically impossible state combinations. The exact same problem occurs in overlay management.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOpen<span class=\"token punctuation\">,</span> setIsOpen<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoading<span class=\"token punctuation\">,</span> setIsLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>result<span class=\"token punctuation\">,</span> setResult<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token string\">'confirmed'</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Logically impossible state combinations</span>\n<span class=\"token comment\">// { isOpen: false, isLoading: true, result: null }</span>\n<span class=\"token comment\">// → Closed but loading</span>\n\n<span class=\"token comment\">// { isOpen: false, isLoading: false, result: 'confirmed' }</span>\n<span class=\"token comment\">// → Closed but has a result</span>\n\n<span class=\"token comment\">// { isOpen: true, isLoading: true, result: 'confirmed' }</span>\n<span class=\"token comment\">// → Loading but already has a result</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Three independent state variables theoretically produce <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">2³ = 8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">8</span></span></span></span></span> combinations, but the number of logically valid combinations is far fewer. Every time developers write code, they must mentally verify: “Is this combination possible?”</p>\n<p>The fundamental reason this is problematic is the increase in cognitive load. According to psychologist John Sweller’s <a href=\"https://en.wikipedia.org/wiki/Cognitive_load\" target=\"_blank\" rel=\"nofollow\">cognitive load theory</a>, human working memory is limited, with a finite amount of information it can process simultaneously. George Miller’s “magic number 7±2” comes from the same line of thinking.</p>\n<p>So the problem with the overlay management pattern above is that you must track <code class=\"language-text\">isOpen</code>, <code class=\"language-text\">isLoading</code>, <code class=\"language-text\">result</code>, <em>and</em> the valid combinations between them just to understand how the overlay behaves. Right now it’s only 8 possible combinations, but as more states are added, the amount of information a developer must remember grows exponentially.</p>\n<p>But this situation isn’t inherent complexity of the problem itself — it’s extraneous cognitive load created by the way we’ve chosen to express it. Just as a complex mathematical expression becomes easier to understand when rewritten with better notation, a small shift in approach can let us express overlays in a much simpler way.</p>\n<h3 id=\"the-relationship-between-input-and-output\" style=\"position:relative;\">The Relationship Between Input and Output<a href=\"#the-relationship-between-input-and-output\" aria-label=\"the relationship between input and output permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The key point I emphasized in my previous post was that declarative code expresses relationships, not the flow of time.</p>\n<p>Recall the linear function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">y = 2x + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>. This isn’t an instruction to “multiply <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> by 2 and add 1” — it declares the relationship between <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>. This relationship is a timeless truth. Whenever <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> is 3, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span> is 7 — always, everywhere.</p>\n<p>The essence of overlays is the same. Look at the browser’s native API, <code class=\"language-text\">window.confirm</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Are you sure you want to delete this?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Of course, <code class=\"language-text\">window.confirm</code> has the side effect of displaying UI, so it’s not a pure function. But the important thing is that this function doesn’t expose state management to the caller. There’s no <code class=\"language-text\">isOpen</code> state, no <code class=\"language-text\">handleConfirm</code> handler. How it’s implemented internally, what order things render in — all of that is hidden behind the abstraction. The developer can focus solely on the relationship: “what goes in, what comes out.”</p>\n<p>In mathematics, a function represents a correspondence between sets. When we write <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">f:A→B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>, we declare how each element of set <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> corresponds to an element of set <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>. This isn’t about computation — it’s about the relationship between structures.</p>\n<p><code class=\"language-text\">window.confirm</code> works the same way. It represents a correspondence from the set of message strings to the set of <code class=\"language-text\">boolean</code> values.</p>\n<h2 id=\"the-declarative-overlay-pattern\" style=\"position:relative;\">The Declarative Overlay Pattern<a href=\"#the-declarative-overlay-pattern\" aria-label=\"the declarative overlay pattern permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>So what should we do? The answer is surprisingly simple: don’t treat overlays as state — treat them as functions.</p>\n<p>The declarative overlay pattern brings the functional essence that <code class=\"language-text\">window.confirm</code> demonstrated into the React ecosystem.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> overlay<span class=\"token punctuation\">.</span><span class=\"token function\">openAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> isOpen<span class=\"token punctuation\">,</span> close <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ConfirmDialog</span></span>\n    <span class=\"token attr-name\">isOpen</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isOpen<span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">onConfirm</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">onCancel</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">openAsync</code> is a function that returns a <code class=\"language-text\">Promise&lt;T></code>.</p>\n<p>If you’ve used Promises, you already know this pattern. Call an API, get a Promise back, await the result. <code class=\"language-text\">openAsync</code> works identically. Open an overlay, get a Promise back, wait for the user to respond. The only difference is that the response comes from a user instead of an API server.</p>\n<p>In other words, it declares the relationship: “show an overlay and receive the user’s response.”</p>\n<p>In this section, I want to examine three aspects of why the declarative overlay pattern is better than traditional state management.</p>\n<h3 id=\"from-state-to-relationships\" style=\"position:relative;\">From State to Relationships<a href=\"#from-state-to-relationships\" aria-label=\"from state to relationships permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In the previous post, I covered how to prevent impossible state combinations — explicitly enumerating possible states and letting the type system block invalid combinations.</p>\n<p>But the declarative overlay pattern takes a different approach. Instead of constraining state combinations, it abstracts away the state itself.</p>\n<p>Traditional state management deals with snapshots: “Is the dialog open right now?”, “Is it loading right now?”, “Is there a result right now?” It tracks the state at the current point in time and changes these states one by one to produce the desired behavior. It’s like creating animation by stitching together individual photographs.</p>\n<p>But think about it — what we actually want to know is whether the user clicked “confirm” in the dialog, not whether the dialog is currently open or closed.</p>\n<p>The intermediate states are just means to an end. We don’t care about the current state — we want the final result.</p>\n<p>The declarative overlay pattern eliminates this intermediate process. What used to require managing multiple complex states is expressed as a single action — opening an overlay — and the focus is solely on receiving the result.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Open the dialog</span>\n<span class=\"token function\">setIsOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Somewhere later, close the dialog and set the result</span>\n<span class=\"token function\">setIsOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setResult</span><span class=\"token punctuation\">(</span><span class=\"token string\">'confirmed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Express only the relationship between action and result</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> overlay<span class=\"token punctuation\">.</span><span class=\"token function\">openAsync</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Why is this better?</p>\n<p>First, the code directly expresses intent. The intention “I want to get user confirmation” is right there in the code. There’s no need for a developer to mentally combine three state variables and deduce “ah, this is trying to get confirmation.”</p>\n<p>Second, there’s less room for errors. The first approach has plenty of openings for human error — forgetting to set <code class=\"language-text\">isOpen</code> back to <code class=\"language-text\">false</code>, setting <code class=\"language-text\">result</code> without closing the dialog, and so on. Abstracting these operations into a function makes such mistakes structurally impossible.</p>\n<p>Third, you can focus on the result of a change rather than the process of change. It expresses <em>what happens</em>, not <em>how state changes</em>. In other words, it’s declarative.</p>\n<p>Put another way, the declarative overlay pattern replaces tracking what values individual state variables hold (state snapshots) with expressing what result comes from what action (input-output relationships).</p>\n<h3 id=\"redistribution-of-cognitive-load\" style=\"position:relative;\">Redistribution of Cognitive Load<a href=\"#redistribution-of-cognitive-load\" aria-label=\"redistribution of cognitive load permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Code readability is often considered a matter of subjective taste. But psychologist John Sweller’s cognitive load theory shows that it’s not just about taste — it’s a matter of cognitive science.</p>\n<p>Look at the traditional state management approach again. Developers must simultaneously track multiple state variables like <code class=\"language-text\">isOpen</code>, <code class=\"language-text\">isLoading</code>, and <code class=\"language-text\">result</code>. To understand how the module behaves, they must mentally simulate what order these variables change in and which combinations are valid.</p>\n<p>In cognitive load theory, this is called extraneous load. Extraneous load in code isn’t the inherent complexity of the problem — it’s unnecessary complexity created by the way we’ve chosen to express it. The essential problem of showing an overlay and getting user confirmation is simple, but expressing this through multiple state variables artificially inflates the complexity.</p>\n<p>Recall George Miller’s “magic number 7±2.” Humans can only hold about 7 items in working memory at once. But with just three state variables, the possible combinations already reach 8, and tracking which of those are valid pushes us to our cognitive limits.</p>\n<p>The declarative overlay pattern removes this extraneous load. Developers no longer need to remember combinations across multiple state variables — they only need to remember one function call, the relationship between input and output, which reduces the load.</p>\n<p>I believe that expressing the same problem with less cognitive load — removing unnecessary complexity so developers can focus on the essential problem — is the essence of writing readable code.</p>\n<p>But there’s something important not to misunderstand: the complexity hasn’t disappeared — it’s merely been redistributed.</p>\n<p>The implementers of the overlay-kit library still have to deal with complex logic like Promise management and state synchronization. But this gnarly implementation only needs to be done once.</p>\n<p>Through the contributions of a few, countless developers can work with overlays at low cognitive load. This is the value that abstraction gives us.</p>\n<h3 id=\"composition-and-control-flow\" style=\"position:relative;\">Composition and Control Flow<a href=\"#composition-and-control-flow\" aria-label=\"composition and control flow permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Consider a situation where you need to collect user input through multiple overlays. With the traditional approach, the logic looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">CreateUserFlow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>step<span class=\"token punctuation\">,</span> setStep<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>info<span class=\"token punctuation\">,</span> setInfo<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>preference<span class=\"token punctuation\">,</span> setPreference<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleInfoSubmit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setInfo</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setStep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handlePreferenceSubmit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setPreference</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setStep</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleConfirm</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">createUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>info<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>preference <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setStep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setInfo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setPreference</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>step <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserInfoForm</span></span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleInfoSubmit<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>step <span class=\"token operator\">===</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PreferenceForm</span></span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handlePreferenceSubmit<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>step <span class=\"token operator\">===</span> <span class=\"token number\">3</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ConfirmDialog</span></span> <span class=\"token attr-name\">onConfirm</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleConfirm<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This is a simple flow that collects user info, preferences, and a final confirmation before calling an API. But the information flow is scattered throughout the code. Developers must follow how <code class=\"language-text\">step</code> state changes, what each handler does, and what conditions control the JSX rendering — all just to understand the overall flow.</p>\n<p>Now look at the same logic implemented with overlay-kit’s <code class=\"language-text\">openAsync</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">createUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> info <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> overlay<span class=\"token punctuation\">.</span><span class=\"token function\">openAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> isOpen<span class=\"token punctuation\">,</span> close <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserInfoForm</span></span> <span class=\"token attr-name\">isOpen</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isOpen<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>close<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> preference <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> overlay<span class=\"token punctuation\">.</span><span class=\"token function\">openAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> isOpen<span class=\"token punctuation\">,</span> close <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PreferenceForm</span></span> <span class=\"token attr-name\">isOpen</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isOpen<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>close<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">confirmCreation</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">,</span> preference<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">createUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>info<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>preference <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The biggest difference is that the information flow is linear. The first line collects user info, the second line collects preferences, and the third line gets confirmation before calling the API. The order you read the code from top to bottom <em>is</em> the execution order.</p>\n<p>This is possible because <code class=\"language-text\">openAsync</code> returns a Promise. Promises let you wait for an asynchronous operation to complete. Wait for the first overlay to close, then open the second. When the second closes, move to the third. Each step executes sequentially, and information flows from top to bottom.</p>\n<p>Each step is also independent, meaning the concerns have low coupling and high cohesion. The user info form only collects user info, the preference form only collects preferences, and how to stitch them together is decided by the <code class=\"language-text\">createUser</code> function. Each component simply calls <code class=\"language-text\">close</code> and doesn’t need to know where the result goes.</p>\n<p>Furthermore, since <code class=\"language-text\">openAsync</code> is just a function that returns a value, it integrates naturally with standard control flow. Need conditional logic? Use <code class=\"language-text\">if</code>. Need error handling? Use <code class=\"language-text\">try/catch</code>. Need iteration? Use <code class=\"language-text\">for</code>. The control flow you learned in Programming 101 works as-is — no special overlay patterns to learn.</p>\n<p>Thanks to these function characteristics, reusing specific UX flows is also straightforward:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">confirmAction</span><span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> overlay<span class=\"token punctuation\">.</span><span class=\"token function\">openAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> isOpen<span class=\"token punctuation\">,</span> close <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ConfirmDialog</span></span>\n      <span class=\"token attr-name\">message</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">isOpen</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isOpen<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">onConfirm</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">onCancel</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">confirmAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Are you sure you want to delete this?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">deleteUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">confirmAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Reset your settings?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">resetSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This is the power of treating overlays as functions. You can express information flow linearly, integrate naturally with standard control flow like <code class=\"language-text\">if</code>, <code class=\"language-text\">try/catch</code>, and <code class=\"language-text\">for</code>, and reuse is as simple as extracting a function.</p>\n<h2 id=\"extending-declarative-thinking\" style=\"position:relative;\">Extending Declarative Thinking<a href=\"#extending-declarative-thinking\" aria-label=\"extending declarative thinking permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In 2013, React freed us from direct DOM manipulation and introduced a world where we could declaratively express the structural relationship between data and UI through JSX.</p>\n<p>But sadly, within the same React codebase, we write components declaratively while handling overlays procedurally.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Components: declarative</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserProfile</span></span> <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token comment\">// Overlays: procedural</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOpen<span class=\"token punctuation\">,</span> setIsOpen<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleOpen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClose</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Why did this split happen? Because overlays <em>appear</em> to be bound to time. A user clicks a button, a dialog opens, then the user clicks confirm, an API is called, and the response arrives, the dialog closes. So we thought we needed state to manage this sequence.</p>\n<p>But look at <code class=\"language-text\">window.confirm</code> again:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Are you sure you want to delete this?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">deleteItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Of course, the effect this code produces also involves temporal ordering — waiting for the user to click confirm in the dialog. But we don’t express this as a flow of time in the code. We express it as a function that takes a string and returns a boolean — a relationship between a string and a boolean.</p>\n<p>This is exactly what the declarative overlay pattern does. It transforms temporal sequences into relationships between conditions and results.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Procedural: \"first open, wait, close, then...\"</span>\n<span class=\"token function\">setIsOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ... somewhere else</span>\n<span class=\"token function\">setIsOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ... and then</span>\n<span class=\"token function\">deleteItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Declarative: \"if confirmed, delete\"</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> overlay<span class=\"token punctuation\">.</span><span class=\"token function\">openAsync</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">deleteItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now we can extend React’s declarative philosophy to overlays. Just as components declare the relationship between data and UI, overlays declare the relationship between user responses and the next action.</p>\n<p>And this consistency matters. If you think declaratively when reading components but must switch to procedural thinking for overlays, cognitive dissonance arises. But with the declarative overlay pattern, the entire codebase is unified under a single way of thinking.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><a href=\"https://overlay-kit.slash.page/en\" target=\"_blank\" rel=\"nofollow\">overlay-kit</a> is a library that implements this pattern.</p>\n<p>Its value isn’t in reducing lines of code — it’s in bringing the simplicity that <code class=\"language-text\">window.confirm</code> demonstrated into the React ecosystem. It simply makes something that was easy 10 years ago but got complicated along the way easy again.</p>\n<p>In my previous post, I said declarative programming is a way of thinking, not a tool. Just as using <code class=\"language-text\">map</code> or <code class=\"language-text\">filter</code> doesn’t make code declarative, using <code class=\"language-text\">useState</code> doesn’t make it procedural either. What matters is what you’re expressing.</p>\n<p>The declarative overlay pattern discussed in this post is the same. What matters isn’t the <code class=\"language-text\">openAsync</code> API — it’s “do you see overlays as state, or as relationships?”</p>\n<p>See them as state, and you must track variables like <code class=\"language-text\">isOpen</code>, <code class=\"language-text\">isLoading</code>, and <code class=\"language-text\">result</code>. See them as relationships, and you only need to think about input and output. Expressing the same problem differently is enough to change the cognitive load.</p>\n<p>And I believe that removing unnecessary complexity so developers can focus on the essential problem is the essence of good abstraction.</p>","fields":{"slug":"20251007-declarative-overlay-pattern-with-overlay-kiten","path":"/2025/10/07/declarative-overlay-pattern-with-overlay-kit/en/","lang":"en"},"frontmatter":{"title":"From State to Relationships: The Declarative Overlay Pattern","subTitle":"Linear information flow and cognitive load redistribution, learned through overlay-kit","date":"Oct 07, 2025","categories":["Programming"],"tags":["Functional Programming","Declarative Programming"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/2266686ccc6c841e53970844943c01ec/d803c/thumbnail.png","srcSet":"/static/2266686ccc6c841e53970844943c01ec/d803c/thumbnail.png 320w,\n/static/2266686ccc6c841e53970844943c01ec/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/2266686ccc6c841e53970844943c01ec/fc5c5/thumbnail.webp 320w,\n/static/2266686ccc6c841e53970844943c01ec/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/2266686ccc6c841e53970844943c01ec/01fb2/thumbnail.png","srcSet":"/static/2266686ccc6c841e53970844943c01ec/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/2266686ccc6c841e53970844943c01ec/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"d44c889f-dbcb-575d-bb53-64490de51ad2","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-most-common-misconception-about-declarative-programming\">The Most Common Misconception About Declarative Programming</a></p>\n</li>\n<li>\n<p><a href=\"#declarative-programming-from-a-mathematical-perspective\">Declarative Programming from a Mathematical Perspective</a></p>\n</li>\n<li>\n<p><a href=\"#procedural-vs-declarative-a-difference-in-thinking\">Procedural vs. Declarative: A Difference in Thinking</a></p>\n</li>\n<li>\n<p><a href=\"#why-is-jsx-declarative\">Why Is JSX Declarative?</a></p>\n<ul>\n<li><a href=\"#the-correspondence-between-data-and-ui\">The Correspondence Between Data and UI</a></li>\n<li><a href=\"#expressing-structural-relationships\">Expressing Structural Relationships</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#declarative-and-procedural-are-relative\">Declarative and Procedural Are Relative</a></p>\n</li>\n<li>\n<p><a href=\"#code-that-looks-declarative-vs-code-that-actually-is\">Code That Looks Declarative vs. Code That Actually Is</a></p>\n<ul>\n<li><a href=\"#code-that-looks-declarative--focused-on-state-change-processes\">Code that looks declarative — focused on state change processes</a></li>\n<li><a href=\"#truly-declarative-code--focused-on-state-relationships\">Truly declarative code — focused on state relationships</a></li>\n<li><a href=\"#why-is-the-first-version-procedural\">Why is the first version procedural?</a></li>\n<li><a href=\"#why-is-the-second-version-declarative\">Why is the second version declarative?</a></li>\n<li><a href=\"#differences-when-used-in-components\">Differences when used in components</a></li>\n<li><a href=\"#differences-in-extensibility\">Differences in extensibility</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#practical-guidelines\">Practical Guidelines</a></p>\n<ul>\n<li><a href=\"#when-should-you-take-a-declarative-approach\">When should you take a declarative approach?</a></li>\n<li><a href=\"#when-is-a-procedural-approach-acceptable\">When is a procedural approach acceptable?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"When conducting technical interviews, I often ask candidates about the reasoning behind their decisions in take-home assignments. A common answer I hear is “because this approach is more declarative.” But when I follow up with “What makes it declarative?” or “What does declarative code actually mean?”, clear answers are surprisingly rare. So in this post, I want to share my thoughts on what it truly means for code to be declarative.","html":"<p>When conducting technical interviews, I often ask candidates about the reasoning behind their decisions in take-home assignments.</p>\n<p>A common answer I hear is “because this approach is more declarative.” But when I follow up with “What makes it declarative?” or “What does declarative code actually mean?”, clear answers are surprisingly rare.</p>\n<p>So in this post, I want to share my thoughts on what it truly means for code to be declarative.</p>\n<!-- more -->\n<p>Many developers believe they’re writing declarative code, but they often miss the essence — confusing the use of a specific tool or syntax with being declarative.</p>\n<p>In my view, declarative programming isn’t about tools. It’s a fundamental shift in how you think.</p>\n<h2 id=\"the-most-common-misconception-about-declarative-programming\" style=\"position:relative;\">The Most Common Misconception About Declarative Programming<a href=\"#the-most-common-misconception-about-declarative-programming\" aria-label=\"the most common misconception about declarative programming permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The first trap many developers fall into is the belief that “abstracting procedural behavior into functions makes it declarative.” But using functions doesn’t automatically make your code declarative.</p>\n<p>Let’s start with a simple example. Here’s a procedural way to fetch user information:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getUserInfo</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> connection <span class=\"token operator\">=</span> <span class=\"token function\">connectDB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> userRow <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SELECT * FROM users WHERE id = ?'</span><span class=\"token punctuation\">,</span> userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> permissionRows <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SELECT * FROM permissions WHERE user_id = ?'</span><span class=\"token punctuation\">,</span> userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token operator\">:</span> userRow<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> userRow<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n    email<span class=\"token operator\">:</span> userRow<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n    permissions<span class=\"token operator\">:</span> permissionRows<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>row <span class=\"token operator\">=></span> row<span class=\"token punctuation\">.</span>permission_name<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    user<span class=\"token punctuation\">.</span>displayName <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> user<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This code uses a function, but it focuses on temporal sequencing: “first fetch the user from the DB, then add permissions, and finally format the data.” Using a function doesn’t free you from procedural thinking.</p>\n<p>Declarative code shifts focus away from temporal ordering and toward describing the <em>relationships</em> between operations.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Declarative approach — focus on data transformation relationships</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUserInfo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n    fetchUserFromDB<span class=\"token punctuation\">,</span>\n    addUserPermissions<span class=\"token punctuation\">,</span>\n    formatUserData\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Or more explicitly</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUserInfo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token function\">formatUserData</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">addUserPermissions</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">fetchUserFromDB</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This code declares the relationship “user ID → formatted user info.” It focuses on the relationships between data transformations, not on execution order.</p>\n<p>The distinction is clear. Procedural code focuses on “How — step by step.” Declarative code focuses on “What — what relationship do we want?”</p>\n<p>This misconception is especially common with array methods. Many people assume that using <code class=\"language-text\">map</code>, <code class=\"language-text\">filter</code>, or <code class=\"language-text\">reduce</code> automatically makes code declarative.</p>\n<p>But you can absolutely think procedurally while using array methods:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Array methods used with procedural thinking</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">processItems</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> items\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> price <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>basePrice<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>discount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        price <span class=\"token operator\">=</span> price <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> item<span class=\"token punctuation\">.</span>discount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      price <span class=\"token operator\">=</span> price <span class=\"token operator\">*</span> <span class=\"token number\">1.1</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>item<span class=\"token punctuation\">,</span> finalPrice<span class=\"token operator\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>price <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>finalPrice <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>A declarative approach, by contrast, focuses exclusively on describing the business relationships each transformation represents:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// Truly declarative approach</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">processItems</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">items</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  items\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>applyDiscount<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>addTax<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>formatPrice<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>hasValidPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">applyDiscount</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>item<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>basePrice <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>discount <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addTax</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>item<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> <span class=\"token number\">1.1</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">formatPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>item<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">finalPrice</span><span class=\"token operator\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">hasValidPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>finalPrice <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The first version uses array methods but still focuses on step-by-step processing. The second version clearly declares the business relationship each transformation represents.</p>\n<p>What matters is proper abstraction — each function clearly expressing what it does.</p>\n<p>Functions are neutral tools. You can wrap procedural thinking in a function, or express relational thinking through one. The essence of declarative programming isn’t whether you use functions — it’s what kind of abstraction those functions provide.</p>\n<p>These rough examples might not fully convey the idea, so let’s dig into the fundamentals.</p>\n<h2 id=\"declarative-programming-from-a-mathematical-perspective\" style=\"position:relative;\">Declarative Programming from a Mathematical Perspective<a href=\"#declarative-programming-from-a-mathematical-perspective\" aria-label=\"declarative programming from a mathematical perspective permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>To properly understand declarative programming, we first need to understand the concept of “declaration” itself. The easiest way is to start with everyday examples.</p>\n<p>Think about a cooking recipe. The procedural approach is like a recipe: “Boil 2 cups of water, add the noodles and cook for 3 minutes, add the seasoning and cook for 1 more minute, serve in a bowl.” It’s a set of instructions that follow a timeline.</p>\n<p>The declarative approach expresses relationships: “Ramen = cooked noodles + seasoning + hot water.” It describes the essential relationships between ingredients.</p>\n<p>A recipe is a set of instructions ordered by time. A relational declaration describes the essential relationships between components. This difference is the fundamental distinction between procedural and declarative thinking.</p>\n<p>Let’s look at a clearer example from math. Consider the linear function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">f(x) = 2x + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> that we all learned in school. This expression is not a command telling a computer to “multiply <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> by 2 and add 1.” It’s a declaration that “this relationship exists between <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span>.”</p>\n<p>This declaration is a timeless truth because it describes a relationship. Whenever <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> is 3, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span> is 7 — always, everywhere. The computation process or execution order doesn’t matter. What matters is the relationship between <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span> itself.</p>\n<p>What mathematicians focus on when defining functions is precisely these invariant relationships. A function isn’t a computation algorithm — it’s a correspondence between structures. When we define the trigonometric function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>sin</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\sin(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">sin</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span>, we’re declaring the relationship between an angle and the <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>-coordinate on the unit circle, not prescribing how to calculate it.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ce883bea384b4c39d034555b129d50a2/151cf/image1.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdxYEj//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAYEAADAQEAAAAAAAAAAAAAAAAAEBEBQf/aAAgBAQABPyHqwhF//9oADAMBAAIAAwAAABCzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAAIDAQEBAAAAAAAAAAAAAAERACExQVGR/9oACAEBAAE/EGSd4Zo0ivZnuxW2fsVdgFT/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image1\" title=\"\" src=\"/static/ce883bea384b4c39d034555b129d50a2/c08c5/image1.jpg\" srcset=\"/static/ce883bea384b4c39d034555b129d50a2/0913d/image1.jpg 160w,\n/static/ce883bea384b4c39d034555b129d50a2/cb69c/image1.jpg 320w,\n/static/ce883bea384b4c39d034555b129d50a2/c08c5/image1.jpg 640w,\n/static/ce883bea384b4c39d034555b129d50a2/6a068/image1.jpg 960w,\n/static/ce883bea384b4c39d034555b129d50a2/151cf/image1.jpg 1181w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Memorizing the trigonometry table means memorizing the relationships that sin, cos, and tan express</small>\n</center>\n<p>The same applies to programming. Declarative code doesn’t order a computer to do something — it expresses “the essence of this problem lies in these relationships.” From this perspective, programming becomes not about dictating computation steps, but about discovering and expressing the mathematical structure of a problem domain.</p>\n<h2 id=\"procedural-vs-declarative-a-difference-in-thinking\" style=\"position:relative;\">Procedural vs. Declarative: A Difference in Thinking<a href=\"#procedural-vs-declarative-a-difference-in-thinking\" aria-label=\"procedural vs declarative a difference in thinking permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now let’s look at concrete examples that approach the same functionality from both mindsets. Procedural thinking focuses on changes that happen over time: “First do this, then do that…” — a sequential execution model.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// Procedural programming — focused on How</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">items</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> total <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Step 1: Iterate through each item</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> items<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> items<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Step 2: Validate</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>quantity <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Step 3: Calculate base price</span>\n      <span class=\"token keyword\">let</span> itemPrice <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> item<span class=\"token punctuation\">.</span>quantity<span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Step 4: Apply discount</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>discount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        itemPrice <span class=\"token operator\">=</span> itemPrice <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>itemPrice <span class=\"token operator\">*</span> item<span class=\"token punctuation\">.</span>discount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token comment\">// Step 5: Accumulate total</span>\n      total <span class=\"token operator\">=</span> total <span class=\"token operator\">+</span> itemPrice<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> total<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This code focuses on temporal order and state changes. You have to track what happens at each step and how variables mutate.</p>\n<p>Declarative thinking, on the other hand, focuses on timeless logical relationships. It declares: “total price = the sum of discounted prices of valid items.”</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// Declarative programming — focused on What</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calculateTotalPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">items</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  items\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>hasValidQuantity<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>calculateItemPrice<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">hasValidQuantity</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>quantity <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calculateItemPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> item<span class=\"token punctuation\">.</span>quantity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>discount <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sum</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This code declares data transformation relationships. Each function represents a specific transformation, and their composition solves the whole problem.</p>\n<p>In programming, this difference manifests in the <em>kind</em> of abstraction the code expresses. Procedural code abstracts over the computer’s execution process — memory allocation, loop execution, conditional branching — wrapping mechanical operations in variables and control structures. Declarative code abstracts over the logical structure of the problem domain — expressing conceptual relationships like business rules, data relationships, and state transformations through functions and types.</p>\n<p>So why does this relational thinking matter? The fundamental reason is human cognitive limitations. According to psychologist George Miller’s research, human short-term memory can only handle about 7±2 units of information simultaneously.</p>\n<p>In procedural thinking, you must track all state changes over time, and as programs grow complex, the combinations of states explode exponentially. With 10 variables, there are <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>10</mn></msup><mo>=</mo><mn>1024</mn></mrow><annotation encoding=\"application/x-tex\">2^{10} = 1024</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">10</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1024</span></span></span></span></span> possible states, and at each step you need to consider all of them. Tracking all these changes is nearly impossible for human memory.</p>\n<p>With relational thinking, you manage complexity through composition of invariant relationships. It’s the same principle as expressing a complex function as a composition of simpler ones in math. In <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>g</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">h(x) = f(g(x))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">))</span></span></span></span></span>, you don’t need to know the internals of both <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span> to understand <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">h</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span></span></span></span></span> — you only need to understand each one’s input-output relationship.</p>\n<p>This relational thinking lets us chunk complex states into manageable pieces, greatly helping us understand complex code.</p>\n<h2 id=\"why-is-jsx-declarative\" style=\"position:relative;\">Why Is JSX Declarative?<a href=\"#why-is-jsx-declarative\" aria-label=\"why is jsx declarative permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Let’s now look at JSX, a declarative tool we encounter daily. I want to address the question “Why is specific code declarative?” through the lens of JSX.</p>\n<p>One pattern I frequently see in interviews is answering “What is declarative code?” with “It’s using tools like JSX or React.” When I follow up with “So why is JSX declarative?”, the answer is often “Because using JSX lets you write declarative code” — a textbook circular argument.</p>\n<p>The real reason JSX is declarative lies in how it expresses structural relationships. Let’s compare two approaches:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">createUserProfile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'user-profile'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> nameElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  nameElement<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>nameElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> emailElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  emailElement<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>emailElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> avatarElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    avatarElement<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> user<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">;</span>\n    avatarElement<span class=\"token punctuation\">.</span>alt <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>user<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">'s avatar</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    container<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>avatarElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> container<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">UserProfile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>user-profile<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>avatar <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>user<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">'s avatar</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The first version focuses on the order of creating and manipulating DOM elements: “First create a container, then create a name element and append it, then create an email element and append it…” Temporal order matters — changing the order of <code class=\"language-text\">appendChild</code> calls changes the result.</p>\n<p>The JSX version focuses solely on declaring: “A UserProfile is a structure composed of a name, email, and optionally an avatar.” What matters here is the containment and hierarchy between elements — temporal order is irrelevant.</p>\n<h3 id=\"the-correspondence-between-data-and-ui\" style=\"position:relative;\">The Correspondence Between Data and UI<a href=\"#the-correspondence-between-data-and-ui\" aria-label=\"the correspondence between data and ui permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>JSX’s real power lies in its ability to intuitively express the correspondence between data structures and UI structures.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">TodoList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> todos <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>todos<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todo</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">TodoItem</span></span>\n        <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>todo<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">text</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>todo<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">completed</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>todo<span class=\"token punctuation\">.</span>completed<span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Looking at this code, you can immediately read the relationship: each item in the <code class=\"language-text\">todos</code> array corresponds to a <code class=\"language-text\">TodoItem</code> component. The structure of the data <em>becomes</em> the structure of the UI.</p>\n<p>The same behavior written imperatively looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">createTodoList</span><span class=\"token punctuation\">(</span>todos<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ul <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> todos<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    li<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> todos<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>todos<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>completed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      li<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    ul<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> ul<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In the imperative version, procedural steps — data iteration, element creation, attribute setting, DOM insertion — are all tangled together. To understand the relationship between the data structure and the final UI, you have to read the entire code and mentally execute it.</p>\n<h3 id=\"expressing-structural-relationships\" style=\"position:relative;\">Expressing Structural Relationships<a href=\"#expressing-structural-relationships\" aria-label=\"expressing structural relationships permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>JSX is similar to how mathematics expresses set relationships. When we write <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy=\"false\">{</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">A = \\{a, b, c\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">}</span></span></span></span></span>, we declare that set <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> is composed of elements <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a, b, c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span></span>. This relationship is independent of the order in which elements were added.</p>\n<p>JSX works the same way. When we write code like this, we declare “UserCard is composed of Avatar and UserInfo.” This relationship is conceptually separate from the order in which components are rendered.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Declaration of structural relationships</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">UserCard</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>user-card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Avatar</span></span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UserInfo</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">email</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>It focuses solely on declaring “a user card is a combination of an avatar and user info.” How each component is implemented and in what order they’re added to the DOM are separate concerns.</p>\n<p>From this perspective, JSX is declarative not merely because it hides complex processes, but because it lets you directly express the essential relationships between data and UI.</p>\n<p>Now that we understand why JSX is declarative, a question might arise:</p>\n<blockquote>\n<p>“But JSX ultimately compiles to <code class=\"language-text\">createElement</code>, and React’s reconciliation is procedural code too, right? Is it really declarative then?”</p>\n</blockquote>\n<h2 id=\"declarative-and-procedural-are-relative\" style=\"position:relative;\">Declarative and Procedural Are Relative<a href=\"#declarative-and-procedural-are-relative\" aria-label=\"declarative and procedural are relative permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This is a critical point when understanding abstraction and declarative programming — treating these concepts as absolutes leads to serious misconceptions.</p>\n<p>In reality, the same code can be declarative or procedural depending on your vantage point and level of abstraction. “Declarative” and “procedural” aren’t absolute categories — they’re relative concepts.</p>\n<p>Let’s examine this relativity through a React Query example:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Application level — declarative</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">useUserData</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">,</span> userId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetchUser</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">UserProfile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> userId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token operator\">:</span> user<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useUserData</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isLoading<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Loading...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">An error occurred</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>From the application developer’s perspective, this code is completely declarative. It declares a relationship: “a query that fetches user data for a given <code class=\"language-text\">userId</code>.” Complex logic like caching, retries, and error handling is all abstracted away.</p>\n<p>But the <a href=\"https://github.com/TanStack/query/blob/main/packages/query-core/src/queryClient.ts\" target=\"_blank\" rel=\"nofollow\">QueryClient implementation code</a> behind <code class=\"language-text\">useQuery</code> is procedural — cache checks, network requests, state updates, and retry logic are all laid out explicitly.</p>\n<p>This relativity becomes especially clear at domain boundaries. Looking at an order processing function at the business logic level:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Business logic level — declarative</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">processOrder</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> validatedOrder <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">validateOrder</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> payment <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">processPayment</span><span class=\"token punctuation\">(</span>validatedOrder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> shipment <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">scheduleShipment</span><span class=\"token punctuation\">(</span>validatedOrder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token function\">createOrderConfirmation</span><span class=\"token punctuation\">(</span>validatedOrder<span class=\"token punctuation\">,</span> payment<span class=\"token punctuation\">,</span> shipment<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This function is declarative from a business logic perspective — it clearly expresses the relationships: “validate the order, process payment, and schedule shipping.” But the infrastructure-level functions underneath, like payment processing, are procedural:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Infrastructure level — procedural</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">processPayment</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> paymentGateway <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PaymentGateway</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">PAYMENT_API_KEY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> paymentRequest <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      amount<span class=\"token operator\">:</span> order<span class=\"token punctuation\">.</span>total<span class=\"token punctuation\">,</span>\n      currency<span class=\"token operator\">:</span> order<span class=\"token punctuation\">.</span>currency<span class=\"token punctuation\">,</span>\n      source<span class=\"token operator\">:</span> order<span class=\"token punctuation\">.</span>paymentMethod\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> paymentGateway<span class=\"token punctuation\">.</span><span class=\"token function\">charge</span><span class=\"token punctuation\">(</span>paymentRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'succeeded'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> database<span class=\"token punctuation\">.</span>payments<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        orderId<span class=\"token operator\">:</span> order<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n        paymentId<span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n        amount<span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>amount<span class=\"token punctuation\">,</span>\n        status<span class=\"token operator\">:</span> <span class=\"token string\">'completed'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> success<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> paymentId<span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PaymentError</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> logger<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Payment processing failed'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> orderId<span class=\"token operator\">:</span> order<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">throw</span> error<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The concept of “declarative” is inherently relative depending on which layer you’re observing from. Ultimately, the point of declarative code is how well the abstracted parts are expressed so you need to inspect the procedurally written parts less.</p>\n<p>Another common prejudice is that “procedural code is bad and should always be avoided.” This too is misguided. Even the most elegant functional code ultimately runs as procedural CPU instructions.</p>\n<p>What matters is providing the right abstraction at the right level.</p>\n<p>Understanding this relativity reveals that finding appropriate abstractions at each level is what’s important. Not everything needs to be declarative. At the business logic level, a declarative approach works well because the focus should be on expressing the essential relationships of the domain. At the infrastructure level, procedural code is perfectly fine because efficient, safe implementation matters more.</p>\n<p>The key is to draw clear boundaries and match the level of abstraction. It must be clear which level handles which concerns. In a good design, the business level declaratively expresses the shopping cart’s structure, while the infrastructure level uses procedural calculation logic — and that’s perfectly fine.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Good example: Clear level separation</span>\n\n<span class=\"token comment\">// Business level — declarative</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ShoppingCart</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> items<span class=\"token punctuation\">,</span> onCheckout <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>shopping-cart<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ItemList</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">TotalPrice</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CheckoutButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">onCheckout</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Presentation level — declarative</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ItemList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> items <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ItemCard</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Infrastructure level — procedural is OK</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateTotalWithTax</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">,</span> taxRate<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> subtotal <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> items<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    subtotal <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> item<span class=\"token punctuation\">.</span>quantity<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> tax <span class=\"token operator\">=</span> subtotal <span class=\"token operator\">*</span> taxRate<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> subtotal <span class=\"token operator\">+</span> tax<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>From this perspective, declarative programming isn’t about “making all code declarative” — it’s about “having the right expressiveness at the right level of abstraction.”</p>\n<h2 id=\"code-that-looks-declarative-vs-code-that-actually-is\" style=\"position:relative;\">Code That Looks Declarative vs. Code That Actually Is<a href=\"#code-that-looks-declarative-vs-code-that-actually-is\" aria-label=\"code that looks declarative vs code that actually is permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now let’s concretely answer the core question: “What makes specific code declarative?” The essence of declarative code is clearly defining the <em>relationships between possible states</em>.</p>\n<p>Just as mathematics defines the domain of a function precisely, a program should first declare “which state combinations are logically possible.”</p>\n<p>Consider asynchronous data requests. In reality, only states like idle, loading, success (with data), and error (with an error message) are logically possible. A state that is “loading while simultaneously having data and an error” is a contradictory combination that can’t happen in reality.</p>\n<p>Let’s examine this through handling async data in a React + TypeScript environment.</p>\n<h3 id=\"code-that-looks-declarative--focused-on-state-change-processes\" style=\"position:relative;\">Code that looks declarative — focused on state change processes<a href=\"#code-that-looks-declarative--focused-on-state-change-processes\" aria-label=\"code that looks declarative  focused on state change processes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>An async data hook written with a procedural approach focuses on <em>how</em> state changes:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Procedural approach — focused on how state changes</span>\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">useAsyncData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token function-variable function\">fetcher</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>loading<span class=\"token punctuation\">,</span> setLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">,</span> setError<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Step 1: Transition to loading state</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">fetcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>result <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Step 2: Transition to success state</span>\n        <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span>err <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Step 3: Transition to error state</span>\n        <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>fetcher<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"truly-declarative-code--focused-on-state-relationships\" style=\"position:relative;\">Truly declarative code — focused on state relationships<a href=\"#truly-declarative-code--focused-on-state-relationships\" aria-label=\"truly declarative code  focused on state relationships permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The declarative approach focuses on <em>what</em> the possible states are:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Declarative approach — focused on what states are possible</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">AsyncDataState<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'idle'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'loading'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">;</span> data<span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">;</span> error<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">useAsyncData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token function-variable function\">fetcher</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> AsyncDataState<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>AsyncDataState<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'idle'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'loading'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">fetcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=></span> <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=></span> <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> error<span class=\"token operator\">:</span> error<span class=\"token punctuation\">.</span>message <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>fetcher<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"why-is-the-first-version-procedural\" style=\"position:relative;\">Why is the first version procedural?<a href=\"#why-is-the-first-version-procedural\" aria-label=\"why is the first version procedural permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The first version focuses on the sequence and process of state changes: “First set loading to <code class=\"language-text\">true</code>, reset error to <code class=\"language-text\">null</code>, reset data to <code class=\"language-text\">null</code>…” — a series of procedural commands.</p>\n<p>The more critical problem is that impossible state combinations are permitted at the type level. TypeScript can’t prevent a nonsensical state like <code class=\"language-text\">{ data: someUserData, loading: true, error: \"Network Error\" }</code>. Having data while simultaneously loading and having an error is a logical contradiction. But with the first approach, the developer must manually guarantee the validity of all state combinations.</p>\n<p>You have to check at every <code class=\"language-text\">setState</code> call whether the other states are properly reset — and this easily leads to human error. For instance, forgetting <code class=\"language-text\">setLoading(false)</code> on success, or omitting <code class=\"language-text\">setData(null)</code> on error.</p>\n<h3 id=\"why-is-the-second-version-declarative\" style=\"position:relative;\">Why is the second version declarative?<a href=\"#why-is-the-second-version-declarative\" aria-label=\"why is the second version declarative permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The second version declares the essential state relationships of the “async data request” domain. Through a union type, it expresses the invariant relationship “exactly one of these four states can exist” at the type level.</p>\n<p>The key point is that impossible states are blocked at the source. The TypeScript compiler prevents contradictory combinations like “loading and success at the same time” at compile time. This follows the same principle as clearly defining a function’s domain in mathematics. In <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">f: A \\rightarrow B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span> is the domain of function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span>, and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> is undefined for values outside <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span></span>.</p>\n<p>Let’s look more concretely at the safety guarantees union types provide:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Safety enforced by TypeScript at compile time</span>\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">handleAsyncState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>state<span class=\"token operator\">:</span> AsyncDataState<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'idle'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">\"Not started yet\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'loading'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Accessing state.data or state.error here causes a compile error</span>\n\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'success'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Data: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>state<span class=\"token punctuation\">.</span>data<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// state.data is guaranteed to exist here</span>\n      <span class=\"token comment\">// Accessing state.error causes a compile error</span>\n\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'error'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Error: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>state<span class=\"token punctuation\">.</span>error<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// state.error is guaranteed to exist here</span>\n      <span class=\"token comment\">// Accessing state.data causes a compile error</span>\n\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token comment\">// TypeScript verifies all cases are handled</span>\n      <span class=\"token keyword\">const</span> exhaustiveCheck<span class=\"token operator\">:</span> <span class=\"token builtin\">never</span> <span class=\"token operator\">=</span> state<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> exhaustiveCheck<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In each case, only the properties valid for that state are accessible — attempting to access other properties results in a compile error. The <code class=\"language-text\">never</code> type in the <code class=\"language-text\">default</code> case lets the compiler verify that all cases have been covered.</p>\n<h3 id=\"differences-when-used-in-components\" style=\"position:relative;\">Differences when used in components<a href=\"#differences-when-used-in-components\" aria-label=\"differences when used in components permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Using the first approach requires the developer to manually handle all combinations:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// First approach — manual handling of all combinations</span>\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">DataDisplay</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> fetcher<span class=\"token punctuation\">,</span> render <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">fetcher</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>data<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span>ReactNode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> loading<span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useAsyncData</span><span class=\"token punctuation\">(</span>fetcher<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Developer must manually consider every combination</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>loading <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>error <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>data<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadingSpinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>loading<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ErrorMessage</span></span> <span class=\"token attr-name\">error</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>error<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>loading <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>error<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// How do we handle unexpected state combinations?</span>\n  <span class=\"token comment\">// What about { loading: true, data: someData, error: null }?</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Unknown state</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The second approach lets the types guarantee complete coverage:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Second approach — types guarantee all cases</span>\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">DataDisplay</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> fetcher<span class=\"token punctuation\">,</span> render <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">fetcher</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>data<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span>ReactNode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">useAsyncData</span><span class=\"token punctuation\">(</span>fetcher<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// TypeScript verifies all cases are handled</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'idle'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Ready...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'loading'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadingSpinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'success'</span><span class=\"token operator\">:</span>\n      <span class=\"token comment\">// state.data is guaranteed to be of type T</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'error'</span><span class=\"token operator\">:</span>\n      <span class=\"token comment\">// state.error is guaranteed to exist</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ErrorMessage</span></span> <span class=\"token attr-name\">error</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>state<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// TypeScript verifies at compile time that all cases are covered</span>\n    <span class=\"token comment\">// Adding a new state triggers a compile error for unhandled cases</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>TypeScript verifies that all cases are handled and guarantees that the relevant properties exist in each case. When a new state is added, compile errors surface any missed spots.</p>\n<h3 id=\"differences-in-extensibility\" style=\"position:relative;\">Differences in extensibility<a href=\"#differences-in-extensibility\" aria-label=\"differences in extensibility permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Consider a scenario where you need to add new states. With the first approach, you must modify multiple variables:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// First approach — must modify multiple variables</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>retrying<span class=\"token punctuation\">,</span> setRetrying<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>stale<span class=\"token punctuation\">,</span> setStale<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Each state change requires considering combinations with all other states</span>\n<span class=\"token comment\">// Of 16 boolean combinations, how many are logically valid?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With the second approach, you simply extend the type definition:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Second approach — just extend the type definition</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">AsyncDataState<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'idle'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'loading'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'retrying'</span><span class=\"token punctuation\">;</span> previousError<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> attempt<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">;</span> data<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span> stale<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">;</span> error<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// TypeScript forces handling of new cases at all usage sites</span>\n<span class=\"token comment\">// Compile errors surface any missed spots</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Adding a new state makes TypeScript enforce handling at every usage site. Compile errors reliably surface anything you’ve missed, allowing safe extension.</p>\n<p>The essence of declarative thinking in this example is defining “what is possible” first. Just as mathematics defines a function’s domain and range precisely, we explicitly declare the possible states of an async request.</p>\n<p>Procedural approaches focus on “how to change state,” while declarative approaches first declare “which states are logically possible in this problem domain.” This shift in perspective is the essence of declarative programming.</p>\n<h2 id=\"practical-guidelines\" style=\"position:relative;\">Practical Guidelines<a href=\"#practical-guidelines\" aria-label=\"practical guidelines permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now let’s distill the theory into concrete criteria for real-world application. Here are practical guidelines for when to choose procedural vs. declarative approaches.</p>\n<h3 id=\"when-should-you-take-a-declarative-approach\" style=\"position:relative;\">When should you take a declarative approach?<a href=\"#when-should-you-take-a-declarative-approach\" aria-label=\"when should you take a declarative approach permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><strong>Business logic and state management</strong> benefit from a declarative approach.</p>\n<p>As with the async data state example above, when complex state combinations are possible, it’s important to block impossible states at the type level:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Reusing the AsyncDataState example from above</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">AsyncDataState<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'idle'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'loading'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">;</span> data<span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">;</span> error<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>UI structure</strong> is also a natural fit for the declarative approach. As we saw with JSX, you can directly express the structural relationship between data and UI:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// Reusing the JSX example — clearly declaring structural relationships</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">UserProfile</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>user-profile<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>avatar <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>user<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">'s avatar</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>Data transformation pipelines</strong> also benefit from a declarative approach when each step can be independently defined and tested:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Clearly declaring transformation relationships</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">processUserData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>rawUsers<span class=\"token operator\">:</span> RawUser<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  rawUsers\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>isActiveUser<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>normalizeUserData<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>addComputedFields<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>byLastLoginDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"when-is-a-procedural-approach-acceptable\" style=\"position:relative;\">When is a procedural approach acceptable?<a href=\"#when-is-a-procedural-approach-acceptable\" aria-label=\"when is a procedural approach acceptable permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><strong>Infrastructure-level code and performance optimization</strong> are well suited to procedural approaches.</p>\n<p>As discussed in the relativity section, when efficiency and performance matter, procedural implementation is natural:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Reusing the calculation logic example from above</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateTotalWithTax</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">,</span> taxRate<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> subtotal <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> items<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    subtotal <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> item<span class=\"token punctuation\">.</span>quantity<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> tax <span class=\"token operator\">=</span> subtotal <span class=\"token operator\">*</span> taxRate<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> subtotal <span class=\"token operator\">+</span> tax<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>Complex state management and optimization</strong> in library code — like React Query’s internals — also calls for procedural approaches. Cache checks, network requests, state updates, and retry logic are more efficiently implemented procedurally.</p>\n<p><strong>System-level code with complex error handling</strong> is another good fit:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Complex error handling and retry logic</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">retryWithBackoff</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token function-variable function\">operation</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  maxAttempts<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> lastError<span class=\"token operator\">:</span> Error<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> attempt <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> attempt <span class=\"token operator\">&lt;=</span> maxAttempts<span class=\"token punctuation\">;</span> attempt<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">operation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      lastError <span class=\"token operator\">=</span> error <span class=\"token keyword\">as</span> Error<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>attempt <span class=\"token operator\">===</span> maxAttempts<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> lastError<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">const</span> delay <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> attempt <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span></span><span class=\"token punctuation\">(</span>resolve <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">throw</span> lastError<span class=\"token operator\">!</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Declarative programming isn’t simply about using specific syntax or tools. It’s a shift in thinking — from “how” to “what,” from procedures to relationships.</p>\n<p>To summarize the key ideas from this post: the essence of declarative programming lies in relational thinking — focusing on logical relationships rather than temporal sequences. State modeling — declaring possible states upfront and blocking impossible ones at the source — is critical. Appropriate abstraction provides the right expressiveness at each level. And this is not an absolute distinction but a relative concept that depends on perspective and level.</p>\n<p>The hallmarks of truly declarative code: business intent is directly readable from the code structure; technical complexity is hidden behind appropriate abstractions; each part is independently comprehensible yet safely composable; and impossible states are prevented at the type level.</p>\n<p>Declarative programming isn’t a skill you pick up overnight. But through consistent practice and finding the right levels of abstraction, you’ll find yourself writing code that’s easier to read and maintain.</p>\n<p>Code isn’t for computers — it’s for people. Declarative programming is a powerful tool that helps people understand and manage complex problems more easily.</p>\n<p>Declarative programming is a way of thinking, not a tool. A philosophy, not syntax. When you understand this philosophy and apply it in practice, you can write better code.</p>","fields":{"slug":"20250907-declarative-programming-misconceptions-and-essenceen","path":"/2025/09/07/declarative-programming-misconceptions-and-essence/en/","lang":"en"},"frontmatter":{"title":"Misconceptions About Declarative Programming","subTitle":"It's not syntax — it's a shift in thinking that produces truly declarative code","date":"Sep 07, 2025","categories":["Programming"],"tags":["Functional Programming","Declarative Programming"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/6a5f574ff07ce78b377e52b976f14a84/d803c/thumbnail.png","srcSet":"/static/6a5f574ff07ce78b377e52b976f14a84/d803c/thumbnail.png 320w,\n/static/6a5f574ff07ce78b377e52b976f14a84/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/6a5f574ff07ce78b377e52b976f14a84/fc5c5/thumbnail.webp 320w,\n/static/6a5f574ff07ce78b377e52b976f14a84/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/6a5f574ff07ce78b377e52b976f14a84/01fb2/thumbnail.png","srcSet":"/static/6a5f574ff07ce78b377e52b976f14a84/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/6a5f574ff07ce78b377e52b976f14a84/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"a5ba3a91-5975-5855-b8a2-b7c8094cb35c","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-drive-to-find-the-right-answer\">The Drive to Find the Right Answer</a></p>\n<ul>\n<li><a href=\"#what-is-good-code-code-with-good-readability\">“What is good code?” “Code with good readability.”</a></li>\n<li><a href=\"#how-should-i-grow-as-a-developer\">“How should I grow as a developer?”</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#truth-that-shifts-with-context-not-fixed-truth\">Truth That Shifts with Context, Not Fixed Truth</a></p>\n<ul>\n<li><a href=\"#my-choice-or-others-expectations\">My Choice, or Others’ Expectations?</a></li>\n<li><a href=\"#understanding-yourself-is-the-first-step\">Understanding Yourself Is the First Step</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"Throughout life, we face countless problems. Just looking at the practical ones — education, careers, job changes, finances, growth — we encounter all kinds of missions. And when I talk to people about these things, I often hear them speak as if there’s a predetermined right answer, or at least wishing there were one.","html":"<p>Throughout life, we face countless problems. Just looking at the practical ones — education, careers, job changes, finances, growth — we encounter all kinds of missions. And when I talk to people about these things, I often hear them speak as if there’s a predetermined right answer, or at least wishing there were one.</p>\n<!-- more -->\n<p>Sometimes it feels like society is the one enforcing these answers. “Get into a good university and life will work out.” “You need to own a home to be happy.” “You need to earn at least this much to be middle class.” Hearing all these conditions and benchmarks, I sometimes wonder: are the decisions I make truly my own, or am I just following standards that society has laid out for me?</p>\n<p>Students don’t study to explore and acquire knowledge — they study to match the answers that the majority proclaims as correct. This problem isn’t limited to schools. It shows up in private education, in coding bootcamps, in all sorts of organizations that teach developers. At the end of the day, customers want right answers, so providing right answers is the business.</p>\n<p>These formulas for success that society offers have conditioned us. Most problems we encounter in reality are unstructured and have no single correct answer. Yet when we face a problem, we often fall into the illusion that a right answer must exist somewhere.</p>\n<p>This social conditioning runs deep in how we think, and developers like me are no exception. So in this post, I want to unpack a concern I’ve been carrying for a while.</p>\n<h2 id=\"the-drive-to-find-the-right-answer\" style=\"position:relative;\">The Drive to Find the Right Answer<a href=\"#the-drive-to-find-the-right-answer\" aria-label=\"the drive to find the right answer permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Developers are, by nature, a group accustomed to seeking correct answers. Given the nature of working with logic, we’re trained to make decisions that are logically sound and grounded in clear evidence.</p>\n<p>The “right answers” developers tend to champion usually revolve around code structure and relationships. It’s not uncommon to see someone adopt a monorepo without a clear reason, or introduce a global state management library or memoization without any particular context demanding it.</p>\n<p>But as I mentioned earlier, reality isn’t that simple. In most cases, what counts as “best” varies depending on context, circumstances, and who’s interpreting it.</p>\n<h3 id=\"what-is-good-code-code-with-good-readability\" style=\"position:relative;\">“What is good code?” “Code with good readability.”<a href=\"#what-is-good-code-code-with-good-readability\" aria-label=\"what is good code code with good readability permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I’ve been conducting interviews since 2016, early in my career, and I’ve kept at it ever since. Having done this for so long, I’ve developed a few go-to questions.</p>\n<p>One of them is: “What is good code?” It’s a topic I’ve personally pondered for a long time, so I genuinely enjoy hearing different developers’ perspectives. But when I ask this question, a remarkably large number of people answer: “Code with good readability.” With slight exaggeration, I’d say 99 out of 100 give this answer.</p>\n<p>Every time I hear it, I feel a subtle awkwardness — because readability is inherently subjective and abstract. The same code can be called readable by one person and unreadable by another.</p>\n<p>Sure, there are elements that many people would agree make code more readable — writing in a familiar programming language rather than Egyptian hieroglyphs, for instance. But we all know that’s not the level of readability we’re actually talking about.</p>\n<p>Can there really be a technical quality that all ~26 million software developers worldwide would universally agree on? If it’s a value that not everyone can agree on, shouldn’t we question whether “readable code” even exists as a meaningful concept?</p>\n<p>With this in mind, when I follow up with “What makes code readable?”, the answers start to diverge. Some emphasize cohesion and coupling. Others point to clear, intuitive naming. Some talk about separation of concerns. In other words, rather than a definition that captures the full essence of readability, most people cite specific real-world examples: “When you do this, readability improves.”</p>\n<p>This means every developer has a different idea of what’s most important for achieving good readability — and these varied answers actually reveal just how subjective, abstract, and context-dependent readability really is. It’s like looking at the same painting where one person sees beauty and another can’t figure out what it’s trying to express.</p>\n<p>Yet many people answer “code with good readability” to the question of what good code is. As if the answer were predetermined.</p>\n<h3 id=\"how-should-i-grow-as-a-developer\" style=\"position:relative;\">“How should I grow as a developer?”<a href=\"#how-should-i-grow-as-a-developer\" aria-label=\"how should i grow as a developer permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>This instinct isn’t limited to developers — it shows up in the big and small decisions we make in everyday life. I occasionally have 1-on-1s and mentoring sessions where I get to hear other developers’ concerns and offer guidance. And in these settings too, I’ve seen the same drive to find the right answer.</p>\n<p>The questions and concerns I typically hear go something like this:</p>\n<hr>\n<ul>\n<li>How do I become a good developer?</li>\n<li>What skills should I build to get into company X?</li>\n<li>I want to have this kind of experience in the future — what should I do?</li>\n</ul>\n<hr>\n<p>I completely empathize with the motivation behind these questions. When you desperately want to achieve something but don’t know what steps to take, that frustration is something everyone has felt at some point.</p>\n<p>The people asking these questions are genuinely passionate about growth and sincerely want to get better. But the problem is that they approach goals like success or growth through overly standardized methods.</p>\n<p>As a result, I’ve often seen people follow generic “right answers” that don’t fit their own circumstances, goals, or capabilities, and end up pouring effort in the wrong direction. It’s like trying to force yourself into clothes that don’t fit.</p>\n<p>Between the lines, there’s also the idea that if you just put in enough effort — like the 10,000-hour rule — you’ll eventually achieve what you want. I absolutely disagree with this. Time and effort are extremely limited resources, so where you invest them matters enormously. (If you invest 10,000 hours only to discover it contributed nothing to your growth, those 10,000 hours are gone forever.)</p>\n<p>What ultimately matters is the direction of where to invest your time and energy. The problem is that while we believe we’ve chosen this direction ourselves, that choice is often the product of standards set by others or by society.</p>\n<h2 id=\"truth-that-shifts-with-context-not-fixed-truth\" style=\"position:relative;\">Truth That Shifts with Context, Not Fixed Truth<a href=\"#truth-that-shifts-with-context-not-fixed-truth\" aria-label=\"truth that shifts with context not fixed truth permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>It’s natural for humans to seek stability and certainty — we’re psychologically wired to be uncomfortable with uncertainty. So this kind of thinking isn’t unnatural at all. If anything, believing that there’s no right answer might be the act that goes against human instinct.</p>\n<p>That’s why in the examples of readability and growth I mentioned earlier, many people who were eager to become great developers likely absorbed information from blogs, books, or fellow developers without critical examination. But we shouldn’t overlook the fact that problems like readability and growth simply don’t have predetermined right answers.</p>\n<p>In philosophy, concepts like relativism and contextualism are used to explore these kinds of problems.</p>\n<p>Relativism holds that truth and value aren’t universal — they vary depending on culture, perspective, and circumstances. This means that standards for readability can also differ based on an individual’s criteria or the situation they’re in.</p>\n<p>Contextualism means that whether a proposition is true depends on the context in which it’s used.</p>\n<p>For example, the same code might be evaluated differently depending on team culture, the nature of the project, or the business situation.</p>\n<p>Many people proclaim “code with good readability” as if it’s the definitive answer to what good code is. But this isn’t a fixed truth — it’s a relative concept that shifts across different contexts.</p>\n<p>Of course, since many people treat interviews as a game of guessing the interviewer’s expected answer, some bias may have crept in. But I’ve seen similar responses not just in interviews but also in mentoring sessions and 1-on-1s, so I don’t think the bias is significant. (If you grab any 10 developers around you right now and ask “What do you think good code is?”, readability will almost certainly come up.)</p>\n<p>We use programming languages — abstractions built from symbols familiar to humans — rather than machine code precisely because we want humans to easily understand how computers work. So if we could truly achieve “readable code,” there’s no question it would be great code.</p>\n<p>But readability is something that inevitably gets judged differently depending on circumstances and context. To glibly declare it as your answer without any fundamental questioning or reflection on what readability actually means — that’s something a programming professional shouldn’t do.</p>\n<p>So what criteria should we use to find essential value?</p>\n<h3 id=\"my-choice-or-others-expectations\" style=\"position:relative;\">My Choice, or Others’ Expectations?<a href=\"#my-choice-or-others-expectations\" aria-label=\"my choice or others expectations permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The first step is to reflect on whether your decisions — or the things you believe are right — are truly your own.</p>\n<p>As I’ve mentioned several times, we live in a culture with strong collectivist tendencies. What we believe we decided for ourselves has often actually been determined by others’ or society’s standards.</p>\n<hr>\n<ul>\n<li>Everyone says a developer’s starting salary should be at least X, so I should get at least that much.</li>\n<li>AI is supposedly the next big thing, so I should study AI.</li>\n<li>Big companies test algorithms, I hear. Time to start solving one algorithm problem a day.</li>\n<li>I absolutely must buy a home in Seoul.</li>\n<li>To be at the frontier of technology, I need to move to the US.</li>\n</ul>\n<hr>\n<p>I catch myself thinking like this too. Most recently it was: “If I drove a nice imported car, wouldn’t my life satisfaction go up a bit?” It felt great at first, but after about three months it just became normal — I spent the money but never got the satisfaction I was looking for.</p>\n<p>In the end, that was a decision influenced by society’s symbols of success, not one that truly came from within. I acquired what’s commonly recognized as a status symbol expecting it to improve my quality of life — a decision shaped by society and others’ perspectives, not my own.</p>\n<p>So when the logic “to do A, you must do B” pops into your head, it’s often not the right answer — or more precisely, it might be the right answer for someone else but not for you. That’s why it’s worth pausing to reflect.</p>\n<h3 id=\"understanding-yourself-is-the-first-step\" style=\"position:relative;\">Understanding Yourself Is the First Step<a href=\"#understanding-yourself-is-the-first-step\" aria-label=\"understanding yourself is the first step permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The right answer isn’t far away. To find it, you first need a deep understanding of yourself.</p>\n<p>You need to know what you enjoy, what brings you joy, what makes you sad. You need to look back and identify what makes your heart race, what activities you lose yourself in. Without this kind of self-reflection, we’re easily swept along by standards that others or society have set for us.</p>\n<p>I believe this is an incredibly important factor. Unfortunately, when we’re busy navigating day-to-day life, we spend all our mental energy on external problems and rarely take the time to look inward and reflect on ourselves.</p>\n<p>“Self-reflection” might sound old-fashioned and heavy, but it really starts with small questions you ask yourself:</p>\n<hr>\n<ul>\n<li>When have I felt truly happy?</li>\n<li>Why do I go to work?</li>\n<li>Why am I working as a developer?</li>\n</ul>\n<hr>\n<p>What matters is checking whether every decision you make truly originates from your own will, and confirming that what you’ve thought and decided actually fits you — like clothes that are actually your size.</p>\n<p>I paid a premium for an imported car, but the novelty wore off in three months and I never got the satisfaction I wanted. Yet someone else might do the exact same thing and be perfectly content. It simply wasn’t the right fit for me. (Though I still drive it because it feels wasteful to sell.)</p>\n<p>The right answer isn’t far away — it’s inside you. We may live in a society with strong collectivist tendencies, but it’s precisely in such an environment that building your own standards is the path to genuine satisfaction and fulfillment.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Existentialist philosopher Jean-Paul Sartre said, “We define ourselves, and the meaning of our existence is something we create.” He emphasized that humans are free to choose, but must also take responsibility for those choices.</p>\n<p>This suggests that when our choices come from our own values and standards rather than others’ expectations, we can live a truly satisfying life.</p>\n<p>Of course, navigating the real world sometimes requires meeting conditions that society or others demand. But what matters is whether you’re aware of why you’re meeting those conditions and have consciously chosen to do so.</p>\n<p>The statement that good code is readable code, or that you need to do this and that to become a good developer — these are just data points among many. Our role isn’t to accept that data as-is, but to filter it through our own standards — taking what fits and discarding what doesn’t.</p>\n<p>So rather than believing the data itself is the answer, I’d encourage you to invest deeper thought into the process of using that data as raw material to build your own values and philosophy.</p>\n<p>That concludes this post on the illusion that right answers exist.</p>","fields":{"slug":"20241223-the-illusion-of-a-right-answeren","path":"/2024/12/23/the-illusion-of-a-right-answer/en/","lang":"en"},"frontmatter":{"title":"What Is Good Code? On the Illusion of Readability","subTitle":"Breaking Free from the Obsession with Right Answers","date":"Dec 23, 2024","categories":["Essay"],"tags":["Existentialism","Readability"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/d8ae58549615ef582a117e086c2797bb/fc5c5/thumbnail.webp","srcSet":"/static/d8ae58549615ef582a117e086c2797bb/fc5c5/thumbnail.webp 320w,\n/static/d8ae58549615ef582a117e086c2797bb/e9225/thumbnail.webp 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/d8ae58549615ef582a117e086c2797bb/b384d/thumbnail.webp","srcSet":"/static/d8ae58549615ef582a117e086c2797bb/b384d/thumbnail.webp 750w","sizes":"100vw"},"sources":[]},"width":1,"height":0.5}}}}}},{"node":{"id":"f719065f-a875-518b-8c57-a4b4c8ff3e49","tableOfContents":"<ul>\n<li><a href=\"#i-could-have-done-better-if-id-used-chatgpt\">“I Could Have Done Better if I’d Used ChatGPT”</a></li>\n<li><a href=\"#what-is-the-fundamental-significance-of-human-existence\">What Is the Fundamental Significance of Human Existence?</a></li>\n<li><a href=\"#does-ai-threaten-the-essence-of-human-existence\">Does AI Threaten the Essence of Human Existence?</a></li>\n<li><a href=\"#who-are-you-the-one-writing-code-right-now\">Who Are You, the One Writing Code Right Now?</a></li>\n<li><a href=\"#closing-thoughts\">Closing Thoughts</a></li>\n</ul>","excerpt":"AI is transforming our lives in profound ways. When you use the ChatGPT mobile app and have voice conversations back and forth, it’s hard not to feel like Jarvis from Iron Man has become reality. Generative AI like ChatGPT is used for everything from casual conversation to complex problem-solving, …","html":"<p>AI is transforming our lives in profound ways. When you use the ChatGPT mobile app and have voice conversations back and forth, it’s hard not to feel like Jarvis from Iron Man has become reality.</p>\n<p>Generative AI like ChatGPT is used for everything from casual conversation to complex problem-solving, making our lives richer and more convenient.</p>\n<p>But I think we need to step back and ask whether the comfort these technologies afford us has made us forget an important question — one about the <strong>fundamental significance of human existence</strong>.</p>\n<p>For thousands of years, philosophers have argued that what makes us human is our capacity for self-reflection, critical and rational thinking, self-awareness, and moral judgment.</p>\n<p>Yet lately, I see more and more people delegating the very faculties we’ve long considered essential to being human to tools like ChatGPT.</p>\n<p>Of course, generative AI still isn’t perfectly accurate, so we haven’t delegated everything just yet. But the fact that the delegation has already begun is what matters. Given the pace of AI’s advancement, it’s not hard to imagine a future where this delegation accelerates rapidly.</p>\n<p>And yet, compared to the speed at which AI is advancing, the ethical and philosophical discourse around it has been largely sidelined. I believe this absence of discourse will come back as a serious side effect once AI develops further — and those who are building this technology should be paying the most attention.</p>\n<h2 id=\"i-could-have-done-better-if-id-used-chatgpt\" style=\"position:relative;\">“I Could Have Done Better if I’d Used ChatGPT”<a href=\"#i-could-have-done-better-if-id-used-chatgpt\" aria-label=\"i could have done better if id used chatgpt permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Since 2016, I’ve interviewed countless developers. If I averaged four to six interviews per month, that comes to roughly 400–600 people over the years.</p>\n<p>I’ve heard all kinds of answers and perspectives through these interviews, but one response I heard recently was something I’d never encountered before:</p>\n<blockquote>\n<p>“I think I could have done better on the assignment if I’d been allowed to use ChatGPT.”</p>\n</blockquote>\n<p>This struck me as a peculiar and unfamiliar answer. It was essentially an admission that without a specific tool, the person couldn’t fully solve the problem in front of them — whether that tool is ChatGPT or Google.</p>\n<p>Typically in interviews, candidates avoid underselling themselves. They try to emphasize what they can do on their own merits, without external tools. Everyone understands that interviews are meant to find people who can solve problems without tools but can use tools to amplify their capabilities — not people who can’t solve problems without them.</p>\n<p>Some of you reading this might argue: “We’ll use ChatGPT on the job anyway, so what’s wrong with using tools during the evaluation?” Why not just assess the ability to use these tools effectively?</p>\n<p>I use ChatGPT at work too. And I won’t deny that using it well can dramatically boost productivity. But the topic I want to explore in this post isn’t something as narrow as “should we test ChatGPT proficiency in interviews.”</p>\n<p>Think about it. Right now, since generative AI has only been around for two years, humans still need to craft good prompts to get good results. But soon enough, AI will reach the point where even a vague, poorly worded question produces a perfect answer.</p>\n<p>If AI reaches that level, what does it even mean to “assess someone’s ability to use the tool”? If anyone — regardless of knowledge — can ask AI a sloppy question and get a perfect response, the very concept of tool proficiency becomes meaningless.</p>\n<p>The real issue is this: despite generative AI being only two years old, the number of people depending on AI for their thinking is growing fast — yet hardly anyone is paying attention to ethical questions like “how should we approach AI?” or “what does it mean to outsource our thinking to AI?”</p>\n<p>As I mentioned earlier, people currently know that generative AI isn’t perfect, so full delegation of thinking hasn’t happened yet. But the moment people start believing that AI produces better answers than they can, the degree of delegation will escalate rapidly.</p>\n<p>This is fundamentally different from simply using a tool to increase productivity. Every tool up to now has either assisted human capabilities or enabled things humans couldn’t do on their own.</p>\n<p>But AI is an entity capable of thinking and making decisions at a level nearly equal to humans — and in certain domains, it has already surpassed us. Unlike every tool that came before, it’s now possible to delegate not just labor but human thought itself to AI. And there’s almost no sign that people are wary of this possibility.</p>\n<p>Given that we’re already delegating parts of our thinking to AI just two years after generative AI entered the mainstream, I believe this trend will only accelerate.</p>\n<h2 id=\"what-is-the-fundamental-significance-of-human-existence\" style=\"position:relative;\">What Is the Fundamental Significance of Human Existence?<a href=\"#what-is-the-fundamental-significance-of-human-existence\" aria-label=\"what is the fundamental significance of human existence permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>To explain the concern I’ve been carrying, we first need to examine what has historically been defined as the reason humans can exist as humans. “What is a human being?” is a question philosophers have explored for thousands of years.</p>\n<p>We know we possess something that distinguishes us from other animals, but because no one has given us a definitive answer, we’ve spent millennia searching for one ourselves.</p>\n<p>Plato, through his Theory of Forms, said humans are beings who pursue truth and ideals. Aristotle defined humans as rational animals. Descartes, with his proposition “I think, therefore I am,” linked human existence to thought and self-awareness. Kant defined humans as autonomous agents capable of moral judgment. Sartre said humans are beings who create their own essence.</p>\n<p>Countless philosophers have offered various definitions of human nature and the significance of existence, but if you look closely, there are a few common threads.</p>\n<p>The most prominent commonality is <strong>self-reflection and self-awareness</strong> — the ability to understand oneself, analyze one’s thoughts and actions, and pursue a deep understanding of one’s own existence. Plato and Aristotle’s rational thinking, Descartes’ thought and self-awareness, Kant’s moral autonomy, Sartre’s creation of essence — all revolve around this core of self-reflection and self-awareness.</p>\n<p>In other words, humans are not beings who merely experience and react. We are beings who analyze and evaluate our experiences, and from them discover new meaning and direction.</p>\n<p>The essential human trait that philosophers have long emphasized — self-reflection and self-awareness — is the very thing that elevates us beyond mere biological existence. As long as there’s a possibility that we delegate this to AI, we need to examine the issue through deep contemplation.</p>\n<h2 id=\"does-ai-threaten-the-essence-of-human-existence\" style=\"position:relative;\">Does AI Threaten the Essence of Human Existence?<a href=\"#does-ai-threaten-the-essence-of-human-existence\" aria-label=\"does ai threaten the essence of human existence permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Returning to the interviewee’s response — “I could have done better if I’d used ChatGPT” — I discussed the danger of humans increasingly delegating their thinking to AI. That answer literally means the person couldn’t adequately perform a task without AI assistance, illustrating how human cognitive ability is becoming dependent on AI.</p>\n<p>The capacity to understand oneself, analyze one’s thoughts and actions, and pursue deep self-understanding — thought, self-reflection, and self-awareness — these are the crucial elements that define what it means to be human. These capabilities are the core factors that give humans their unique value beyond mere biological existence.</p>\n<p>Based on this reasoning, I want to argue that we need to be vigilant about the possibility that AI threatens the essence of human existence.</p>\n<p>As AI advances, we’re delegating more and more of our thinking to it. If relying on AI to solve problems becomes the norm, we’ll likely skip the process of thinking deeply on our own — which ultimately means losing opportunities for self-reflection, constraining our capacity for thought.</p>\n<p>Going further, if AI increasingly makes our decisions for us, we risk losing responsibility and autonomy — key components of self-awareness. The more we depend on AI’s decisions, the less accountable we feel for the outcomes, which could weaken our capacity for moral judgment.</p>\n<p>These questions about responsibility and moral judgment have long surfaced in everyday debates like “who’s responsible when a self-driving car causes an accident?” — yet I want to emphasize that none of these questions have been conclusively answered.</p>\n<p>We must stay alert to the fact that as AI advances and our dependence deepens, we risk losing the very capabilities that define us as human. And those who are leading this technology should be paying even more attention to this ethical discourse.</p>\n<h2 id=\"who-are-you-the-one-writing-code-right-now\" style=\"position:relative;\">Who Are You, the One Writing Code Right Now?<a href=\"#who-are-you-the-one-writing-code-right-now\" aria-label=\"who are you the one writing code right now permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As you’ve probably guessed, the people leading this technology are developers and researchers — especially those contributing directly to the AI domain.</p>\n<p>Yet lately, even among developers, I see cases where people accept AI-suggested code from ChatGPT or Copilot without any critical review.</p>\n<p>ChatGPT and Copilot are advancing rapidly, and it’s true they produce higher-quality code than before. But can we honestly say their output is flawless at this point?</p>\n<p>No, we can’t. AI-generated code sometimes contains errors, and in certain situations, it fails to provide a complete solution. In particular, understanding context across multiple modules and designing architecture remain problems AI hasn’t conquered.</p>\n<p>If AI-generated code were already perfect, the profession of software developer would have ceased to exist. The fact that developers still exist is itself proof that AI’s code is not yet complete. As AI advances, the number of people in this profession may shrink, but for now, that’s not the case.</p>\n<p>So what role should we — the people with expertise in this technology — play?</p>\n<p>Developers shouldn’t simply accept AI’s output. We should critically review and revise what AI generates. We must view AI as a tool and use it to maximize our own thinking and creativity. Even with AI’s help, the final decisions and responsibility rest with us.</p>\n<p>Knowing full well that hallucinations exist, copying and pasting AI-generated code without critical review — or treating AI’s responses as truth — is premature. Even if the day comes when AI produces perfect answers, we must never forget that AI should be controlled by experts as a tool. <em>(AI is a library, not a framework.)</em></p>\n<p>If you’re accepting AI’s output uncritically and mistaking it for your own ability, ask yourself:</p>\n<blockquote>\n<p>Am I a human who uses AI as a tool? Or am I merely a vessel that transfers AI’s output into an IDE?</p>\n</blockquote>\n<p>AI cannot become “me.” We can receive AI’s help, but in that process, we must remain vigilant about preserving our ability to think and judge for ourselves.</p>\n<p>This question goes beyond programming — it demands deep reflection on the nature of being human. If what makes us fundamentally human is the ability to understand ourselves through self-reflection and self-awareness, to explore the meaning of our existence, then merely following the instructions of a non-human tool cannot constitute human existence.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Some might say these thoughts are premature, or that I’m making too great a leap. But as you know, AI is advancing at a staggering pace, and in certain fields, AI has surpassed humans in less than a decade.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7800e68ab22994055e740f794b98ab78/4b190/graph.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3pRQf//EABYQAAMAAAAAAAAAAAAAAAAAABAgIf/aAAgBAQABBQJKP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABsQAAICAwEAAAAAAAAAAAAAAAABITERQWGB/9oACAEBAAE/IXfCnCwKSdHgR//aAAwDAQACAAMAAAAQAA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAwADAQAAAAAAAAAAAAABABExIUFhgf/aAAgBAQABPxBLlcJUvQHYBzFS6YhXhXsBbT5M6NPRP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"graph\" title=\"\" src=\"/static/7800e68ab22994055e740f794b98ab78/c08c5/graph.jpg\" srcset=\"/static/7800e68ab22994055e740f794b98ab78/0913d/graph.jpg 160w,\n/static/7800e68ab22994055e740f794b98ab78/cb69c/graph.jpg 320w,\n/static/7800e68ab22994055e740f794b98ab78/c08c5/graph.jpg 640w,\n/static/7800e68ab22994055e740f794b98ab78/4b190/graph.jpg 800w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Math aside, look at the terrifying slope in language comprehension.</small>\n</center>\n<p>The number of AI-related projects on GitHub was only around 800 in 2011, but by 2023 it had grown to roughly 1.8 million. Over the same period, the number of research papers roughly tripled.</p>\n<p>I believe that compared to how fast the technology is advancing, our perspective on it — our discussion of the potential side effects — has not kept pace.</p>\n<p>AI is fundamentally different from every tool that came before. Previous tools could never surpass humans no matter what, and because of that inherent limitation, even the best tools could only assist.</p>\n<p>But as the chart above shows, AI has already surpassed humans in certain areas. AGI may still be some time away, but in specific domains, it’s already happened. We need to pay attention to this.</p>\n<p>Ultimately, what I want to say is this: as we use this convenient, explosively productive tool called AI, we should pause and ask whether we’re unknowingly delegating our essential human value to it.</p>\n<p>A tool is called a tool because humans wield it with agency. If using AI causes us to lose our autonomy and the fundamental significance of being human, can we still call it a tool?</p>\n<p>In the end, building a better future alongside AI requires that ethical and philosophical discourse keep pace with technological development. Especially those of us leading this technology — we shouldn’t be focused solely on advancing the technology itself. We need to actively participate in these discussions and care about building a world where we, as humans, can properly wield AI as the powerful tool it is.</p>\n<p>This concludes my post: Who Are You, the One Writing Code Right Now?</p>","fields":{"slug":"20240623-perspective-on-aien","path":"/2024/06/23/perspective-on-ai/en/","lang":"en"},"frontmatter":{"title":"Who Are You, the One Writing Code Right Now?","subTitle":"In an Era Where AI Thinks for Us, What Are We Losing?","date":"Jun 23, 2024","categories":["Essay"],"tags":["ChatGPT","Generative AI","Philosophy"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/f3e7e95695f94e8513c768994ddcd10a/fc5c5/thumbnail.webp","srcSet":"/static/f3e7e95695f94e8513c768994ddcd10a/fc5c5/thumbnail.webp 320w,\n/static/f3e7e95695f94e8513c768994ddcd10a/e9225/thumbnail.webp 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/f3e7e95695f94e8513c768994ddcd10a/b384d/thumbnail.webp","srcSet":"/static/f3e7e95695f94e8513c768994ddcd10a/b384d/thumbnail.webp 750w","sizes":"100vw"},"sources":[]},"width":1,"height":0.5}}}}}},{"node":{"id":"92c020a5-7434-5f64-b4cc-b681fa40bc63","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-burden-of-others-evaluations\">The Burden of Others’ Evaluations</a></p>\n<ul>\n<li><a href=\"#broader-responsibility-means-more-diverse-evaluators\">Broader Responsibility Means More Diverse Evaluators</a></li>\n<li><a href=\"#positive-evaluations-and-preconceptions-from-the-blog\">Positive Evaluations and Preconceptions from the Blog</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#live-as-the-master-of-your-own-life\">Live as the Master of Your Own Life</a></p>\n<ul>\n<li><a href=\"#clearly-distinguish-what-you-can-and-cannot-control\">Clearly Distinguish What You Can and Cannot Control</a></li>\n<li><a href=\"#in-the-end-it-is-your-mind-that-moves\">In the End, It Is Your Mind That Moves</a></li>\n<li><a href=\"#remember-that-most-evaluations-are-two-sided\">Remember That Most Evaluations Are Two-Sided</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Humans are said to be social animals who live within relationships. This is especially pronounced in East Asian cultures, where people tend to define themselves through their relationships with others — and commonly make the mistake of letting others’ perceptions and evaluations determine their sel…","html":"<p>Humans are said to be social animals who live within relationships. This is especially pronounced in East Asian cultures, where people tend to define themselves through their relationships with others — and commonly make the mistake of letting others’ perceptions and evaluations determine their self-worth.</p>\n<p>Having lived for over 30 years within the culture of South Korea, an East Asian country, I’m not immune to this tendency. No matter how much I try not to care about others’ judgments, I still find myself shaken by them from time to time.</p>\n<p>Of course, since we spend most of our lives belonging to some group or another, we can never be entirely free from such evaluations. Even freelancers face judgment from their industry, and self-employed people can’t escape reviews on platforms or evaluations within their local community networks.</p>\n<p>But if you let these evaluations dictate your life too much, you end up losing your true self. This is especially easy to fall into if you’re someone who wants to be loved by everyone — because others’ evaluations are inherently subjective, and pleasing everyone is extraordinarily difficult. <em>(You’d probably need to be on the level of Admiral Yi Sun-sin to pull that off.)</em></p>\n<p>I believe that only by protecting the self-esteem and convictions of “me” as an autonomous subject can you establish your identity and advance toward self-actualization. If you let others’ subjective standards determine your worth, maintaining a mature sense of self becomes very difficult. Ultimately, my value is something my own reason determines.</p>\n<p>In this post, I want to talk about the struggles I’ve faced under others’ evaluations and the methods I’ve been working on to overcome them.</p>\n<h2 id=\"the-burden-of-others-evaluations\" style=\"position:relative;\">The Burden of Others’ Evaluations<a href=\"#the-burden-of-others-evaluations\" aria-label=\"the burden of others evaluations permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Let me start by talking about the situations where I found myself preoccupied with others’ evaluations. Some of these will resonate with many readers, while others may be unique to my circumstances — but I imagine everyone has, at some point, grappled with concerns originating from others’ judgments.</p>\n<h3 id=\"broader-responsibility-means-more-diverse-evaluators\" style=\"position:relative;\">Broader Responsibility Means More Diverse Evaluators<a href=\"#broader-responsibility-means-more-diverse-evaluators\" aria-label=\"broader responsibility means more diverse evaluators permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>My recent career has been in a leadership role rather than as an IC (Individual Contributor). Being a leader has the advantage of setting direction, building empathy, and mobilizing people to solve problems that no individual could tackle alone. But paradoxically, that expanded responsibility also means receiving evaluations from a far wider and more diverse range of people compared to when I was an IC.</p>\n<p>A leader’s decisions affect many people across the organization, and the number of stakeholders you interact with is simply larger than what an IC encounters. While an IC is primarily evaluated by the colleagues they directly work with, a leader receives evaluations from people throughout the entire organization — proportional to the broader impact of their decisions.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e46810019d235256fffc4e442cf29a91/89557/dri.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADD0lEQVR42m1TX0iaURS/1UxNS5dbzubGosBt1NgYtcEaDQY9BIte3BiLBXsQKdrDYsTYgzDoYZRr/aEIqaigB8PFbAjh1JaJYmnln7TMxL85NXSuCQny7dzwGz3swuW7597f+Z1zfud8aG5urgwhRFlfX3+0u7v7QS6XX56YmCghCKIAnVn9/f2M6elp9uzsLEMikZQB9q3NZnuK36xW68W1tbVKqVRK/+dwcHCgABLC4XC8wLZOp6OBWUi+j46OMklbrVbXJ5NJIhgMunAg8LX7fL6wQqGoRSTI6XS2wKVsY2ODJxKJKJBpEb4nM4VK+BDkOQQsHhoaonp9vs9AJIKngv39fReQB8Cn7mxVmJiRP58DcGsgEOiBMmn4YmlpqUGv129OTU1dwTaPxyvBONhUnL1KpaKOjY1V4NLaQAMpBnG53FNC0Igdj8e3s9ks4fV6G/MZluWzLTDL5YKTeExxHAp94iNE9/v95yHDWyMjI5XIZDI9BEHfe398b4g7HD0OufwSztTtdrdHo9GPIDwXEyqVynrArQmbm8vtev14Kp0mErEYYVEqn/mDwflcLkdAY18ig9H42q9SVWeSyQhuSioQUIA/HXQsce/sfPV4PCtCoZAOJfG3trbEmNxjMr3D2F+JRNa4MH/PHwq9iUQiLq1W+xhptNrxoF53P5NO/8kB6OToaBV8mK+6uiqhUVGXy5Xo6+vjguDMycnJm+U1NWVChIridvuTuNVajwNAlVWAEwwMDFxAKysrLYODg4K409Z+HIl8CRgMtU1NTVhslMlkrqZSqer8qDSazeag0WjkdnZ2Mje3txU7e3sSXI3dbo8dHh7+lslkDxCMidpisbR+W1y8q9FoViHJIjyg5NiQCzcFSDn4PDMzc+dnNEqEQiEH/ilAloVwOKwZHh6uQqAPUyAQlELrby8vL7eLxeIKIKPnu12INz7j2cOBent7WVAB22AwtIGujRwOp7S7u5va0dFBAywNMRiMCgqFUldcXHwD/K7B5qP/r9MBZ7FYbPiQWCzHdfIHwGP1F/WavDK/RBI6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dri\" title=\"\" src=\"/static/e46810019d235256fffc4e442cf29a91/6af66/dri.png\" srcset=\"/static/e46810019d235256fffc4e442cf29a91/69538/dri.png 160w,\n/static/e46810019d235256fffc4e442cf29a91/72799/dri.png 320w,\n/static/e46810019d235256fffc4e442cf29a91/6af66/dri.png 640w,\n/static/e46810019d235256fffc4e442cf29a91/d9199/dri.png 960w,\n/static/e46810019d235256fffc4e442cf29a91/21b4d/dri.png 1280w,\n/static/e46810019d235256fffc4e442cf29a91/89557/dri.png 1928w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A leader's decisions affect and are evaluated by more people across the organization, commensurate with their expanded responsibility.<br>Considering this burden, being a leader isn't always as glamorous as it seems.</small>\n</center>\n<p>For this reason, I found myself exposed to evaluations from a much more diverse set of people than when I was an IC — an environment where it’s naturally easy to start caring about those evaluations.</p>\n<p>What’s interesting is how subjective these evaluations tend to be. When a leader proposes direction A, some people might say “I think they’re doing a good job” while others might say “I don’t think that approach will work.”</p>\n<p>Of course, a leader is just another human, so their decisions are also driven by intuition shaped by personal views, values, experience, and available information. Even when quantitative data is available, data doesn’t speak for itself — interpreting it and making decisions still comes down to human intuition. A leader doesn’t always present <em>the</em> right answer; they present what they <em>believe</em> to be the right direction based on their own criteria.</p>\n<p>Likewise, evaluations of a leader’s decisions are conducted through each evaluator’s own subjective criteria. Different people can view the same phenomenon and arrive at different assessments. If an evaluator tends toward conformity or introversion, they might even anchor their evaluation on the majority opinion or the views of someone they trust.</p>\n<p>When the evaluation target is something quantitative — like OKR, NSM, or KPI achievement — you can make evaluations without much subjectivity. But when it comes to directions proposed before results are in, or missions that are hard to quantify like organizational culture, binary success/failure thinking doesn’t apply — and subjective factors inevitably become the basis of evaluation.</p>\n<p>In summary: a leader’s values realistically may not earn everyone’s empathy. And evaluations of those decisions and values are often influenced more by perceptions of the leader as a person — likability and trust capital — than by the decisions themselves. This is especially true when the organization lacks shared foundational values.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/91b1a1491e66a4045794d72dae0055b2/acb04/review.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 32.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcuAqD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAEDH/2gAIAQEABj8CKv/EABcQAQEBAQAAAAAAAAAAAAAAAAEAYRH/2gAIAQEAAT8hdbpF2//aAAwDAQACAAMAAAAQA8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhUaHR8P/aAAgBAQABPxB0FJqhnsPcNcPmf//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"review\" title=\"\" src=\"/static/91b1a1491e66a4045794d72dae0055b2/c08c5/review.jpg\" srcset=\"/static/91b1a1491e66a4045794d72dae0055b2/0913d/review.jpg 160w,\n/static/91b1a1491e66a4045794d72dae0055b2/cb69c/review.jpg 320w,\n/static/91b1a1491e66a4045794d72dae0055b2/c08c5/review.jpg 640w,\n/static/91b1a1491e66a4045794d72dae0055b2/acb04/review.jpg 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>So sometimes in the course of work, you receive evaluations like this on anonymous platforms.<br>\"TS\" in the original referred to Toss, and I was the only developer in that organization who had come from Toss.</small>\n</center>\n<p>For example, imagine a leader with the value that “underperformers should be let go and high performers should be compensated accordingly.” Some might evaluate this as “Isn’t that obvious in a capitalist market economy?” while others might say “We spend most of our day at work — that feels too cold.”</p>\n<p>Debating right and wrong on such values is largely pointless. There are no correct answers when it comes to ideology. Everyone simply advocates for the direction they believe in.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 559px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/88380e1d1c538b6f85ed9691d2d203c3/db7b4/politics.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACA//EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABGhGM6Nd4/8QAGRAAAwADAAAAAAAAAAAAAAAAAAECEBJB/9oACAEBAAEFAphM0gcyjjx//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EABgQAAIDAAAAAAAAAAAAAAAAAAAyASAx/9oACAEBAAY/AsFgWn//xAAcEAEAAQQDAAAAAAAAAAAAAAABABARIUFhcYH/2gAIAQEAAT8hbtcvM1CdxrOsJOPCn//aAAwDAQACAAMAAAAQD/8A/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EIkQ/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/EKVmf//EAB4QAQACAQQDAAAAAAAAAAAAAAEAESExQVGBcbHx/9oACAEBAAE/ELiAUsYO9NoE3Dt8gYa0JQ4HuY48QgABwHiUW4NX3P/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"politics\" title=\"\" src=\"/static/88380e1d1c538b6f85ed9691d2d203c3/db7b4/politics.jpg\" srcset=\"/static/88380e1d1c538b6f85ed9691d2d203c3/0913d/politics.jpg 160w,\n/static/88380e1d1c538b6f85ed9691d2d203c3/cb69c/politics.jpg 320w,\n/static/88380e1d1c538b6f85ed9691d2d203c3/db7b4/politics.jpg 559w\" sizes=\"(max-width: 559px) 100vw, 559px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>This is easy to understand if you think about the parliament of a multi-party democracy.<br>Among the various ideologies different parties champion, which one is correct?<br>There is no correct answer. Each party simply argues for what they believe is right — for their own interests or the nation's.</small>\n</center>\n<p>But ultimately, the person in a leadership role must propose a specific direction they believe will create the greatest impact for the organization, based on their own values. Even in organizations that value diversity, without at least a foundational direction, you end up with chaos where everyone is just shouting what they individually believe is right.</p>\n<p>So a leader must strike the right balance between direction and diversity — proposing a mission that team members can empathize with, then welcoming diverse opinions on how to achieve it, maximizing collective intelligence.</p>\n<p>The direction I proposed was probably just one of many possible directions, and naturally, the many people within the organization each evaluated me according to their own subjective standards and values.</p>\n<p>With more people evaluating me and their expectations and assessments diverging, it was an environment where caring about those evaluations came far more easily than before.</p>\n<h3 id=\"positive-evaluations-and-preconceptions-from-the-blog\" style=\"position:relative;\">Positive Evaluations and Preconceptions from the Blog<a href=\"#positive-evaluations-and-preconceptions-from-the-blog\" aria-label=\"positive evaluations and preconceptions from the blog permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When I first started this blog in 2017, I was just an ordinary developer who enjoyed writing as a hobby. That hasn’t changed in 2023 — I’m still an ordinary developer. But having written for so long, people occasionally recognize me in daily life, talk to me about my posts, or even tell me they’re a fan.</p>\n<p>Most people who know of my existence probably discovered me through my writing rather than through actually working or spending time with me.</p>\n<p>People who first encounter me through the blog tend to think I’m a very serious, thoughtful person. This is probably because the written medium and my writing style don’t reveal much emotion, and my posts tend to cover academic topics or my personal philosophy.</p>\n<p>That side is certainly part of me, but the person who exists in real life isn’t all seriousness. I’m actually closer to someone who just lives the way they want, rather than chasing the conventional values society prescribes — money, prestige, pedigree, credentials.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e29d08b6cd6fef0018fbd6525801f5ac/acb04/star.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 236.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAvABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQMA/9oADAMBAAIQAxAAAAHy6xbbVui8lZix1CLzQWN1kn//xAAbEAEAAgMBAQAAAAAAAAAAAAABABECAxAxEv/aAAgBAQABBQKq59Yc9XQEuHroSNQLXDaSk4mrrqCf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwFf/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAEQUQIREv/aAAgBAgEBPwE6whN3G1Z//8QAHxAAAQIGAwAAAAAAAAAAAAAAAQAQAhEhMTKRM6Gi/9oACAEBAAY/Artx9tIIVKs2QKspKsXp6GLT5jS//8QAIBABAAICAgEFAAAAAAAAAAAAAQARITEQUUFhcYGRsf/aAAgBAQABPyF2AfaW9zCejPbgEgLZUm2s6jfY/ILBYX5YwbhdgxLVIgDbGA8EKcku+vqWMuLxXDtXfKf/2gAMAwEAAgADAAAAEHA/PcAv/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERURD/2gAIAQMBAT8QIxEWcjw//8QAHREBAAIABwAAAAAAAAAAAAAAAQAxEBEhgZGh8P/aAAgBAgEBPxCoMaLyxqZKvWAxb20//8QAHhABAAMAAQUBAAAAAAAAAAAAAQARITFBUWFxkaH/2gAIAQEAAT8QfAM1dziLFKT3GpKIBX13g03j7jZTgZWzdFKAw9TmdXGgw6DxAYCgeA8srQFCiT5BcHhRpxKkbALa1m+YwUaPsMZNDtPJHgQHiCisrbBs/VcC0O8I6BdkP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"star\" title=\"\" src=\"/static/e29d08b6cd6fef0018fbd6525801f5ac/c08c5/star.jpg\" srcset=\"/static/e29d08b6cd6fef0018fbd6525801f5ac/0913d/star.jpg 160w,\n/static/e29d08b6cd6fef0018fbd6525801f5ac/cb69c/star.jpg 320w,\n/static/e29d08b6cd6fef0018fbd6525801f5ac/c08c5/star.jpg 640w,\n/static/e29d08b6cd6fef0018fbd6525801f5ac/acb04/star.jpg 750w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>I might come across as scholarly on the blog,<br>but I'm just an ordinary guy in his 30s who enjoys gaming with friends in the evening.</small>\n  <br>\n  <br>\n</center>\n<p>These positive evaluations and preconceptions have undeniably been helpful in my life. They’ve led to good career opportunities — job offers, side projects, and more.</p>\n<p>But these evaluations don’t always bring only good things. In my case, the positive preconceptions actually caused me quite a bit of anguish.</p>\n<p>Throughout my career as a developer, I have never once thought of myself as an outstanding developer. I am absolutely not a perfect human being — I have plenty of shortcomings and many experiences of failure when I encountered problems beyond my capabilities.</p>\n<p>There are so many talented people around me that I still think of myself as just another average developer wandering around Gangnam or Pangyo.</p>\n<p>But when I step away from the internet and meet people in real life, I occasionally hear things like:</p>\n<blockquote>\n<p>“I want to become a developer like you.”</p>\n<p>“Wow, it’s like meeting a celebrity.”</p>\n<p>“Someone at your level doesn’t have to worry about making a living, right?”</p>\n<p>“Can’t you just pick whichever company you want?”</p>\n</blockquote>\n<p>The people who say these things are readers who love and resonate with my writing and who are cheering me on — and for that, I’m truly grateful. Having someone empathize with your thoughts and values and root for you is a genuinely happy thing.</p>\n<p>But hearing these things, alongside gratitude, I also find myself thinking:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 496px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b4ec7a5ca3af9bd5b634dc29a2234796/6a372/surprised.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwAEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAUEgOnZ4/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAAxESEyH/2gAIAQEAAQUC6NrXayHqRCfGY5n/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAAARARMf/aAAgBAQAGPwIq2zI2P//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQVFhsf/aAAgBAQABPyGpCl637jRWPsM3ksa+9yu1DeZ//9oADAMBAAIAAwAAABBYH//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxAxf//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAVf//EABoQAQADAQEBAAAAAAAAAAAAAAEAESFBMVH/2gAIAQEAAT8QCBJCi0uxSFmnK+oa9MC9VhaV4iVWau17M1032f/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"surprised\" title=\"\" src=\"/static/b4ec7a5ca3af9bd5b634dc29a2234796/6a372/surprised.jpg\" srcset=\"/static/b4ec7a5ca3af9bd5b634dc29a2234796/0913d/surprised.jpg 160w,\n/static/b4ec7a5ca3af9bd5b634dc29a2234796/cb69c/surprised.jpg 320w,\n/static/b4ec7a5ca3af9bd5b634dc29a2234796/6a372/surprised.jpg 496w\" sizes=\"(max-width: 496px) 100vw, 496px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Wait, I'm not quite at that level...?</small>\n</center>\n<p>In reality, I haven’t achieved financial freedom, I’m not a celebrity — I’m just an ordinary developer with lots of worries who happens to enjoy writing.</p>\n<p>But as I’ve mentioned multiple times, evaluation is conducted according to the evaluator’s subjective criteria. People who first encounter me through the blog naturally lack detailed information about who I really am or what I’m actually capable of — so they evaluate me based on the surface-level information available to them, like blog posts or code on GitHub.</p>\n<p>The problem from my perspective is that I have no way of knowing how inflated these evaluations are. Being human, when someone has expectations of me, I naturally want to live up to them and not disappoint. But if others’ evaluations are set far above my actual capabilities, satisfying them becomes difficult — and this psychology turns into pressure.</p>\n<p>For a while, whenever someone recognized me or offered positive evaluations, I’d find myself straightening up, watching my words and behavior — becoming hyper-conscious of others’ perceptions in order to live up to their evaluations. <del><em>(In plain terms, it was basically celebrity syndrome.)</em></del></p>\n<h2 id=\"live-as-the-master-of-your-own-life\" style=\"position:relative;\">Live as the Master of Your Own Life<a href=\"#live-as-the-master-of-your-own-life\" aria-label=\"live as the master of your own life permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Whether the evaluations are positive or negative, living a life focused on others’ judgments is enormously stressful. Some people may derive fulfillment from others’ recognition, but fundamentally, other people’s hearts lie outside your sphere of control — and things don’t go the way you want more often than they do.</p>\n<p>Moreover, focusing too much on others’ evaluations can shake your own values and cause you to lose direction. In my case, pouring too much energy into these evaluations led me to act against convictions I had long believed in — and the resulting stress manifested physically.</p>\n<p>As you go through life and build your career, the number of people who remember you naturally grows through the work you’ve done. More people remembering you means more people who might evaluate you — and the more positive evaluations you receive, the easier it becomes to advance your interests within the vast organization that is society.</p>\n<p>But that doesn’t mean you should outsource the fundamental evaluation of who you are entirely to others. As I said, others’ evaluations fundamentally lie outside your sphere of control.</p>\n<p>I, too, found that the more I cared about these evaluations, the more I felt myself losing my center. I spent a long time thinking about how to break free. The first thing I did to reclaim that freedom was to classify what I can control and what I cannot, accept that distinction, and let go of my attachment to what I cannot control.</p>\n<h3 id=\"clearly-distinguish-what-you-can-and-cannot-control\" style=\"position:relative;\">Clearly Distinguish What You Can and Cannot Control<a href=\"#clearly-distinguish-what-you-can-and-cannot-control\" aria-label=\"clearly distinguish what you can and cannot control permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If you look around carefully as you go through life, you’ll realize that the things you can truly control are fewer than you’d think. What you can control is mostly things where you are the subject — your thoughts, your emotions. Things involving other people beyond yourself are mostly in the uncontrollable domain.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/75882324a1834fcc0529ebf9f418eded/07a9c/out-of-control.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrklEQVR42m1Vy44bVRB1gsQCFKRI8F9ILIKikdgEIfiJWWYNkZJVEKMoSlgwiDEIEQmYCbEzEzsittuP+P3qd7vbY/yM+97DqY5n5EnSUrna11V1T516OJXaegBcFm3b9ofj8fhaGIb3R6NRnTINgmBGafLsR8oO3z/a9nnrOfvBcZxPPc+r0AkMqi3LQr/fB8/h+z5OT081z+V7gxdd2/heEtkOdmkT7OZ0OsV8Pkc6nVYHBwfx3t6evn3nDo6OjnCQTuv9/f348PBQMbheLpdwXfdb+r93Hmx3dzdBRkQ3lVKgjkejQAki1/XgUttE6brUtpUgdT1P0GrarrXWINJb28BS5OMzSaPX66l2u62pMQoCBEzR80dw/DFsbwwvCHnuIQh8DIdDdLtdsY0nkwnPgi+SYPl8/gMeFIWrk5MTlclk8Tyf560R+v4cTS9Gw9NouApNN0bPmyeBy4Yh9sjlckqCk6pGsVi8miLcz2ezmaSgwjBCFBEFddNeoNRbwOjPqaeoDJeoDBbUr1C35rQZJ7biQ3Sx8BlF0Y0UP+5tyI0p8MjVMFgiU7TwMP0Y9376E7d/2MejbAU/P3pGOcHjFwMMglViK3yKrxSSsX6RgDVByFs03+EznYazRs16hZq5RHkwx3HZwVPDeo2Q8tJa0yaGS37DUCTSwiP9rRR77D/mjlqthlKxgFbPTDir00F4E50tmTh63rlwJmKxUC9rVRQKBZRKJQwGA50ioVMJ1mq1USkbaPdtOulzp7q9JkIbf+WaRL16K2Cr1UC1Wk3ENE0t/VeXZn4z5TM0UoxMcYjDfJvFmW0FXJO/1ymzsJoTJCk7wuEDKQrHLaaw9zz03BlqjkqchcOnhol//u2h0JmwjRRqtkLHXSSjKCK+UhSC+00Q7iwWyY+KNyGkBGyFlsv0POBZxcXfuQb+eFLGk8IATR9oOitmEiW24kPfeLVaScCvU/xyhVNSlZZh5ysKOp02TMtBz1+iuqm09GN1uEDXWyTVNYcDsed0dRXpkqXRrdfrnyTTwqDXhVROjcpms8hQ2q1WgsD1Q9j+JBF5F0pkJMvlMo6Pj2VaYq47sG2+urBpePCdDDrRrgldy63CT5CIdx7ojDcpBPlf019SvXthOfCRfXaZm+SWkCs7jxQoIdvfCnJWABHZlcI9fb43DOP9CwG3FySddujQFWMGlxW1jSo523TFkPLlOxfsm7uRt1+l8w0G+ZVOruy+DToq/3ei/4YUffyuv4D/AbN8BMBkHMxNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"out of control\" title=\"\" src=\"/static/75882324a1834fcc0529ebf9f418eded/6af66/out-of-control.png\" srcset=\"/static/75882324a1834fcc0529ebf9f418eded/69538/out-of-control.png 160w,\n/static/75882324a1834fcc0529ebf9f418eded/72799/out-of-control.png 320w,\n/static/75882324a1834fcc0529ebf9f418eded/6af66/out-of-control.png 640w,\n/static/75882324a1834fcc0529ebf9f418eded/d9199/out-of-control.png 960w,\n/static/75882324a1834fcc0529ebf9f418eded/21b4d/out-of-control.png 1280w,\n/static/75882324a1834fcc0529ebf9f418eded/07a9c/out-of-control.png 1440w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>Proper self-awareness starts with recognizing where the boundaries of your control lie<br>and where the uncontrollable domain begins.</small>\n  <br>\n  <br>\n</center>\n<p>In other words, how others evaluate me is a concept beyond my sphere of control. Of course, taking action to persuade or build empathy with someone in order to change their mind falls within my control — but the outcome of that action remains outside it.</p>\n<p>At the outset, I said that people who want to be loved by everyone easily lose themselves. That’s because the desire to be loved by everyone tends to manifest as obsession with others’ evaluations — a concept that lies beyond one’s control.</p>\n<p>The people around us hold an incredibly diverse range of values and ideologies, and this is true of any organization. Even when looking at the same phenomenon, different people can have different evaluations and emotional responses.</p>\n<p>This reality is not something I can control. If I can’t control it, why obsess over it? No matter what I do, the people who will like me will like me, and those who won’t, won’t. Is there anything more self-destructive than desperately struggling to obtain something you can never have?</p>\n<p>I believe the “focus on impact” in life is about concentrating on doing better in the areas I can control, and about pulling things from the uncontrollable domain into the controllable domain wherever possible. Devoting excessive attention to things I currently cannot control is essentially spending a limited resource — focus — on something meaningless.</p>\n<p>Recognizing and accepting these limitations connects to metacognition — being aware of what you know versus what you don’t, what you can do versus what you can’t. Awareness of your control boundaries is essentially recognizing the limits of the influence that “I” as a subject can exert on the world.</p>\n<h3 id=\"in-the-end-it-is-your-mind-that-moves\" style=\"position:relative;\">In the End, It Is Your Mind That Moves<a href=\"#in-the-end-it-is-your-mind-that-moves\" aria-label=\"in the end it is your mind that moves permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<blockquote>\n<p>One day, a banner was fluttering in the wind at a temple. Two monks began arguing about the sight. One monk said, “The banner is moving.” The other insisted, “The wind is moving.” The debate went back and forth with neither yielding.</p>\n<p>Then Huineng, the Sixth Patriarch, spoke: <strong>“Neither the wind nor the banner is moving. It is your minds that are moving.”</strong> The two monks were stunned into silence.</p>\n<p><em>The Gateless Gate</em>, Case 29: Not the Wind, Not the Banner.</p>\n</blockquote>\n<p>What was Huineng trying to say in this episode? The <em>Gateless Gate</em> is a collection of koans that pose questions without providing answers, so the book won’t tell you.</p>\n<p>Reading this episode, my thought was: “Phenomena merely exist as they are; interpreting them is a subjective human judgment.”</p>\n<p>The Avatamsaka Sutra, a scripture of Mahayana Buddhism, speaks of the core concept <strong>ilche yushimjo</strong> (一切唯心造) — which literally means “all things are created solely by the mind.” I believe this is the key to living as the master of your own life.</p>\n<p>Generally, the situations where people suffer from others’ evaluations involve negative rather than positive judgments. So imagine a scenario where someone is spreading gossip about you behind your back.</p>\n<p>That gossip is almost certainly not 100% factual. Like most gossip, it’s probably a mixture of partial truth embellished with misunderstanding and subjective interpretation. Few people bother to verify the facts with the person involved — plain truth is far less entertaining than truth with added drama.</p>\n<p>If you learned about this gossip, you might be swept up in emotions — frustration, feeling wronged, anger, betrayal. But where did these emotions originate? From the environment or situation where someone is spreading gossip about you? From the person doing the spreading?</p>\n<p>No. <strong>Frustration, indignation, anger, betrayal — these emotions ultimately start within your own mind.</strong> These are your emotions, and as I discussed, your emotions lie squarely within your controllable domain. Regardless of what’s happening around you, it’s you who generates these emotions and makes yourself suffer.</p>\n<p>This is the meaning of ilche yushimjo — all things are created solely by the mind. Of course, you may need to make value judgments about whether the situation itself is right or wrong, and if wrong, establish action items to address it. But you must not forget that devising a strategy to solve the problem and executing it are separate matters from your emotions.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6271f4799e9572d8153bd8477492a94b/65f94/water.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 132.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAwACAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH3TQzFqFJMh3Y//8QAGRAAAQUAAAAAAAAAAAAAAAAAIAAQESFB/9oACAEBAAEFAg1rUB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAVEAEBAAAAAAAAAAAAAAAAAAAgMf/aAAgBAQAGPwJ0/wD/xAAbEAEBAAIDAQAAAAAAAAAAAAABABEhEDFxgf/aAAgBAQABPyFl3iSZNGZ6sY7z+Xrhm//aAAwDAQACAAMAAAAQswMw/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAMBAAMBAAAAAAAAAAAAAQARMSFBUXGx/9oACAEBAAE/EDxhUWuUQbioV8S0Jwv8mp2j2QMBdN5+RV9bGYmp/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"water\" title=\"\" src=\"/static/6271f4799e9572d8153bd8477492a94b/65f94/water.jpg\" srcset=\"/static/6271f4799e9572d8153bd8477492a94b/0913d/water.jpg 160w,\n/static/6271f4799e9572d8153bd8477492a94b/cb69c/water.jpg 320w,\n/static/6271f4799e9572d8153bd8477492a94b/65f94/water.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The water in the glass simply sits there — how you choose to see it is a matter of the mind.</small>\n</center>\n<p>Ilche yushimjo might sound detached from reality. But I think it may be the most necessary message for modern people suffering under the weight of constant evaluation and comparison.</p>\n<p>Of course, learning that someone is spreading gossip about you or attacking you from behind anonymity is an emotionally difficult situation. But whether or not you’re suffering, unless you rationally analyze the root cause and take action to address it, the situation itself won’t improve.</p>\n<p>In other words, what matters is improving the unhealthy organizational state that allows gossip to spread — not the fact that you became the subject of it.</p>\n<p>So just approach it plainly: think about what caused the situation. If the cause is within your controllable domain, take swift action. If it’s not, focus only on whether you can pull it into the controllable domain.</p>\n<p>If you understand ilche yushimjo and can keep your emotions squarely within the controllable domain, you gain the ability to observe the phenomena around you with a more rational eye, focused on the essence of the problem.</p>\n<p>This isn’t about eliminating emotions. It’s about not letting your emotions depend on external variables like surrounding situations or environment. Regardless of your circumstances, your emotions are yours to control. You can be happy or unhappy regardless of what’s happening around you.</p>\n<h3 id=\"remember-that-most-evaluations-are-two-sided\" style=\"position:relative;\">Remember That Most Evaluations Are Two-Sided<a href=\"#remember-that-most-evaluations-are-two-sided\" aria-label=\"remember that most evaluations are two sided permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When you habitually pay attention to evaluations around you, it’s easy to focus more on negative evaluations than positive ones. Humans are wired to react sensitively to threats from negative information — a kind of negativity bias. <em>(They say newspapers and news programs sell negative stories better than positive ones, too.)</em></p>\n<p>If you’re not yet skilled at emotional control, this can spiral into self-deprecating thoughts like “I’ll never make it” and drag you into a pit of despair. Once you fall into a cycle of giving yourself negative feedback, climbing out on your own isn’t easy.</p>\n<p>But in reality, evaluations of any specific person are mostly two-sided. That is, most people don’t evaluate you as purely bad or purely good — they see both strengths and shortcomings.</p>\n<p>This is only natural, when you think about it. Every human has both strengths and weaknesses, so you’re likely to receive positive evaluations on your strengths and critical ones on your weaknesses.</p>\n<p>Of course, biases like <a href=\"https://en.wikipedia.org/wiki/Actor%E2%80%93observer_asymmetry\" target=\"_blank\" rel=\"nofollow\">actor-observer bias</a> or <a href=\"https://en.wikipedia.org/wiki/Self-serving_bias\" target=\"_blank\" rel=\"nofollow\">self-serving bias</a> can lead people to judge others more harshly than themselves. But fundamentally, any rational adult will make a somewhat balanced evaluation of a specific person. <em>(If someone only has negative things to say about a particular person, they likely lack the ability to view phenomena from multiple perspectives — I’d recommend keeping your distance.)</em></p>\n<p>Internalizing the fact that most evaluations are two-sided and balanced does a great deal to protect your self-esteem. Of course, focusing only on positive information can blind you to reality, so striking the right balance is important. And this isn’t just a hypothetical — it’s the reality playing out around you right now.</p>\n<p>What matters is maintaining your own balanced perspective: reinforce what others evaluate positively about you, and improve what they evaluate negatively. There’s no need to let your mood worsen or improve because of these evaluations. As I’ve been saying, simply acknowledge the plain fact that an evaluation occurred, and take action items to reinforce or improve accordingly.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Like everyone else, I’ve faced countless evaluations throughout my life. This was true not just as a developer, but also during my younger days as a b-boy and sound engineer.</p>\n<p>No matter how little someone values relationships, we all inevitably interact with other humans within the vast network of society. And in that process, it’s only natural that others will form evaluations of us.</p>\n<p>But if you become too consumed by these evaluations, you risk losing your true self. Others’ evaluations and advice may sometimes warrant adjustments to your values or life direction — but the decision-making authority must belong solely to you. You must never delegate that authority to others.</p>\n<p>The words and evaluations we direct at others cost us nothing. Others can evaluate you, but they almost never bear responsibility for those evaluations.</p>\n<p>In other words, they’re not deliberating over their judgments with the same gravity as, say, deciding whether to buy a billion-won apartment.</p>\n<p>So I’d recommend not giving those evaluations too much weight. Ultimately, my value is determined by my own reason — and I believe any mature adult with sound values should do the same.</p>\n<p>As I’ve discussed, there are no correct answers when it comes to human thought and values. These ideas simply exist, and everyone’s judgment of them can differ.</p>\n<blockquote>\n<p>“Is working at a startup the right choice? Or a large corporation?”</p>\n<p>“Is trading work-life balance for high income the right choice? Or is protecting your time over money?”</p>\n<p>“Is equality of opportunity right? Or equality of outcome?”</p>\n<p><strong>No one can provide correct answers to these ideological questions. You simply choose according to the values you believe in.</strong></p>\n</blockquote>\n<p>So stop trying to find the right answer or trying to be loved by everyone. Follow the convictions you believe in, walk the path you think is right, and maintain your own pace.</p>\n<p>Comparing yourself to others, getting emotionally invested in situations that won’t matter in hindsight, struggling desperately for things you can’t have right now — the one making yourself suffer through all of this is, in the end, yourself.</p>\n<p>If you take full control of yourself and observe the phenomena around you rationally, you might realize that you’ve been overcomplicating what are, in truth, rather simple problems.</p>\n<p>This concludes my post: Can I Ever Be Free from Others’ Judgment? I dedicate this writing to all the readers out there who, today as every day, are navigating the complex world of human relationships — thinking deeply, feeling joy, and sometimes getting hurt along the way.</p>","fields":{"slug":"20231121-how-to-overcome-being-self-consciousen","path":"/2023/11/21/how-to-overcome-being-self-conscious/en/","lang":"en"},"frontmatter":{"title":"Can I Ever Be Free from Others' Judgment?","subTitle":"On escaping a life defined by evaluation and learning to live as yourself","date":"Nov 21, 2023","categories":["Essay"],"tags":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/12625a231e18b80c9ad703659f128755/fc5c5/thumbnail.webp","srcSet":"/static/12625a231e18b80c9ad703659f128755/fc5c5/thumbnail.webp 320w,\n/static/12625a231e18b80c9ad703659f128755/e9225/thumbnail.webp 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/12625a231e18b80c9ad703659f128755/b384d/thumbnail.webp","srcSet":"/static/12625a231e18b80c9ad703659f128755/b384d/thumbnail.webp 750w","sizes":"100vw"},"sources":[]},"width":1,"height":0.5}}}}}},{"node":{"id":"f0213054-c3a5-54e2-be0f-a1bcbc755b3b","tableOfContents":"<ul>\n<li>\n<p><a href=\"#what-makes-a-good-leader\">What Makes a Good Leader?</a></p>\n</li>\n<li>\n<p><a href=\"#what-makes-people-move\">What Makes People Move?</a></p>\n<ul>\n<li><a href=\"#self-determination-theory\">Self-Determination Theory</a></li>\n<li><a href=\"#making-people-feel-they-decided-for-themselves\">Making People Feel They Decided for Themselves</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#actions-leaders-can-take-to-strengthen-team-autonomy\">Actions Leaders Can Take to Strengthen Team Autonomy</a></p>\n<ul>\n<li><a href=\"#avoid-top-down-decision-making\">Avoid Top-Down Decision-Making</a></li>\n<li><a href=\"#delegate-final-decision-making-authority-to-each-squads-frontend-engineers\">Delegate Final Decision-Making Authority to Each Squad’s Frontend Engineers</a></li>\n<li><a href=\"#always-discuss-the-chapters-reason-for-existence-and-mission-together\">Always Discuss the Chapter’s Reason for Existence and Mission Together</a></li>\n<li><a href=\"#communicate-that-a-leader-is-not-a-boss-and-that-mutual-feedback-is-essential\">Communicate That a Leader Is Not a Boss, and That Mutual Feedback Is Essential</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"In this post, I want to briefly share what I’ve been thinking about over the past three years — not as an IC (Individual Contributor), but as a leader — about what makes a good leader and what competencies that requires. No matter how good someone was as an IC, that experience doesn’t automatically…","html":"<p>In this post, I want to briefly share what I’ve been thinking about over the past three years — not as an IC (Individual Contributor), but as a leader — about what makes a good leader and what competencies that requires.</p>\n<p>No matter how good someone was as an IC, that experience doesn’t automatically translate into leadership capability. That realization is what naturally led me down this path of inquiry.</p>\n<p>What many developers find difficult when they take on a leader or manager role stems from the fact that, unlike computers, humans don’t behave logically at all.</p>\n<p>When you give a computer the command A, it understands A and executes A. Humans almost never interpret A as straightforwardly as that. Every person carries biases shaped by the environment they grew up in and the experiences they’ve accumulated, so even when you say the same thing, each person may react differently.</p>\n<p>Computers are also guaranteed to deliver the same performance under the same conditions. Humans, on the other hand, might deliver 100% performance one day and suddenly drop to 50% for entirely illogical reasons — making their behavior hard to predict.</p>\n<p>People who were recognized for their ability to work with computers — those perfectly logical machines — are suddenly asked to deal with humans, who are anything but logical. It would be stranger if they didn’t find it difficult.</p>\n<p>I, too, have experienced various types of failure — demoralizing team members through poor decisions, or failing to provide psychological support when it was needed — largely because I lacked a fundamental understanding of human nature.</p>\n<p>That’s why I came to believe that a leader needs more than just communication skills. You need a humanities-grounded understanding of yourself, of human psychology and instinct, and of organizational dynamics. To become a good leader, I thought I first needed to deepen my understanding of human nature and the characteristics that emerge when these “human objects” form a group.</p>\n<h2 id=\"what-makes-a-good-leader\" style=\"position:relative;\">What Makes a Good Leader?<a href=\"#what-makes-a-good-leader\" aria-label=\"what makes a good leader permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When I first took on the F-Lead role at Toss three years ago, and later the Frontend Chapter Lead role at Quotalab, the first question I asked myself was: “What is a good leader?”</p>\n<p>Since “good” is a subjective value judgment that inevitably differs from person to person, there’s no definitive right answer. But I believed that without my own philosophy and definition, I’d lose direction and end up being a leader who stands for nothing.</p>\n<p>Ultimately, a leader’s role is to get diverse people within an organization moving in a particular direction, in step with each other. The word “lead” implies pulling from the front, so you might think that’s what good leadership looks like. But I believe that as long as you can get people moving in the right direction, it doesn’t much matter whether you’re pulling from the front or pushing from behind.</p>\n<h2 id=\"what-makes-people-move\" style=\"position:relative;\">What Makes People Move?<a href=\"#what-makes-people-move\" aria-label=\"what makes people move permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>If a leader’s role isn’t simply to control people but to get them moving in a particular direction, then the next question is: what is the force that makes people move?</p>\n<p>Fortunately, fields like psychology and education have already spent a long time discussing and experimenting with the principles of human motivation and behavior. I was able to approach the problem step by step by reading research papers and experimental findings.</p>\n<h3 id=\"self-determination-theory\" style=\"position:relative;\">Self-Determination Theory<a href=\"#self-determination-theory\" aria-label=\"self determination theory permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The theory that caught my attention was <a href=\"https://en.wikipedia.org/wiki/Self-determination_theory\" target=\"_blank\" rel=\"nofollow\">Self-Determination Theory</a>, one of the major theories of motivation. It states that humans are beings who motivate themselves through internal factors like interest and curiosity, actively developing their sense of self toward psychological growth and integration. The theory identifies three key needs — autonomy, competence, and relatedness — that show a strong positive correlation with intrinsic motivation.</p>\n<p>Similar to <a href=\"https://en.wikipedia.org/wiki/Andragogy\" target=\"_blank\" rel=\"nofollow\">Andragogy</a>, which is often discussed in the context of lifelong learning, understanding what drives adult behavior places particular emphasis on autonomy — the learner’s own will.</p>\n<p>Since autonomy is ultimately a psychological product of feeling that you’re acting by your own choice, I believe that to guide people’s behavior in a particular direction, you first need their empathy toward that direction.</p>\n<p>Empathy, after all, isn’t something that can be force-fed from the outside (short of brainwashing). It’s an emotion that must be self-determined and self-convinced, which makes it the most suitable emotion for triggering intrinsic motivation.</p>\n<p>However, if you try to drive people’s behavior through external control factors alone — without any intrinsic motivation in place — their resistance to stress will be low when obstacles arise.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e5da4b9f591a004456c5e04af9415083/0ff19/tree2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVR42pVSO08CQRBeHiIatdCWxsZCG7G00tZoaaMWNlQYH4WF8R+oiSZqpZ29oSDBhNgDWUgOPI7jdSLBaLjjIBxG8bHOHCc5DCayydx8O9/M7Oy3R8gfizFm1T3Puz+q1adPMMRmrqcFRXbdNxqHsiyziqoyVq8fmLleG7YmjEaXmprWaNbrL4zSxX9PCEmWDk+IHWwIzMpCoXF2fT0B2GLE7N1qujXtw9MfCBmAokFspseXl23M5RowDrIip+dALtZ0vZoaibjlQkGoJpMnHVe+vBwu5/PBaqEQlK+uRsycEo8fq8ViUqV0ph2Hjw03JUo9DU1j5fv7hPkajz7f5EM+//VcKn283d5OmbmSKCaar69M4TiPEbe1X+zU6x1j5fIuU5TZH9KYpJ9VKmtvkrROUFdo1v4DarVZrLnY2Rn9/fpOLARDncwCoz4O0tLSafBmzaxGzGHwhGSz2aNAIKBrIAjCcUYQ5hBnMpl9SumKjkVxA7hNxOFweFWSpD09P5GYF6EGsd/vn87lcicknU5rkLyEQVEUFZ7ntxBD/A72Z4hTqdQN4BvEwJ8Dl0TMcdw2YBVxLBZbgOHevwE+GTuxd0aw3gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tree2\" title=\"\" src=\"/static/e5da4b9f591a004456c5e04af9415083/6af66/tree2.png\" srcset=\"/static/e5da4b9f591a004456c5e04af9415083/69538/tree2.png 160w,\n/static/e5da4b9f591a004456c5e04af9415083/72799/tree2.png 320w,\n/static/e5da4b9f591a004456c5e04af9415083/6af66/tree2.png 640w,\n/static/e5da4b9f591a004456c5e04af9415083/d9199/tree2.png 960w,\n/static/e5da4b9f591a004456c5e04af9415083/21b4d/tree2.png 1280w,\n/static/e5da4b9f591a004456c5e04af9415083/0ff19/tree2.png 2084w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Some argue that leadership through persuasion and empathy doesn't scale with larger teams,<br>\n  but organizations that large typically don't have the leader directly communicating with every member anyway.<br>\n  The leader communicates this way to middle leaders, who in turn do the same with their teams.</small>\n</center>\n<p>This is especially critical in environments like startups, where people often have to endure high workloads and long hours to achieve distant missions. Stress undermines productivity, engagement, and sense of belonging — it’s not something you can dismiss as just an individual’s problem.</p>\n<p>In other words, no matter how passionately a leader talks about their goals, team members without intrinsic motivation won’t simply fall in line and give their all. Even if they go along, their behavior is fundamentally driven by external control factors — the leader’s goals and authority — so expecting that behavior to persist under severe stress is unrealistic.</p>\n<p>External motivation also tends to focus on results rather than the act itself, giving it an instrumental quality. Some research suggests that if controlling stimuli are applied — like saying “You’re doing well following my instructions” — it can undermine autonomy and intrinsic motivation, significantly reducing productivity.</p>\n<p>This is particularly true for people in industries like IT that require creativity rather than mechanical repetition. There’s also the view that extrinsic motivators like monetary incentives are even less effective for such workers. Moreover, continuously providing extrinsic motivation risks damaging intrinsic motivation in the long run, so very careful reward design is needed. <em>(Imagine a company that provides performance-linked bonuses and then suddenly stops. Wouldn’t people start thinking “Why bother if there’s no money in it?“)</em></p>\n<p>That’s why I concluded that to keep team members highly motivated and actively contributing even in stressful environments, you need to build an environment where they feel maximum autonomy — ensuring a strong tendency toward self-actualization among the people in the organization.</p>\n<h3 id=\"making-people-feel-they-decided-for-themselves\" style=\"position:relative;\">Making People Feel They Decided for Themselves<a href=\"#making-people-feel-they-decided-for-themselves\" aria-label=\"making people feel they decided for themselves permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>From a leader’s perspective, it’s certainly easier to use external control factors — rewarding high performers, punishing underperformers, or leveraging organizational politics — to get people moving.</p>\n<p>But as I mentioned, intrinsic motivation plays a crucial role in driving adult behavior. Relying solely on external control factors creates an environment ripe for side effects like low morale, gossip, or people checking out entirely.</p>\n<p>Unlike material resources, human resources are entities capable of emotion and thought, making them difficult to predict and control through a mechanistic lens.</p>\n<p>So leaders need to create an environment where intrinsic motivation can emerge. There are many methods — appropriate delegation of decision-making authority, environments where people can taste small wins (technical and business), clear goals and expectations — but among these, I placed the most weight on the value of autonomy.</p>\n<p>The autonomy a team member feels at work comes from things like exercising decision-making authority over their product, a leader who asks for opinions rather than issuing directives, and being given choices and allowed to make their own selections. It’s about the team member feeling — or actually experiencing — that they’re contributing to the organization through their own autonomous agency.</p>\n<p>Since autonomy isn’t a clear-cut sensation like pain but rather a psychological awareness of exercising one’s own agency, even if team members are unknowingly moving in the direction the organization wants, as long as they believe they have autonomy, that autonomy is effectively secured.</p>\n<p>There’s also substantial empirical research — both domestic and international — showing that work autonomy has a significant positive correlation with organizational trust, job satisfaction, engagement, and performance. In other words, the fact that autonomy can trigger intrinsic motivation appears to hold regardless of commonly cited East-West differences in thinking.</p>\n<p>Of course, given the nature of a company, you can’t guarantee 100% autonomy for everyone. But as I mentioned, autonomy is a psychological awareness rather than an objective sensation — so even just showing that the leader supports team members’ autonomy can have an effect. Alternatively, depending on the leader’s skill, it may be possible to help internalize and integrate externally assigned motivations.</p>\n<h2 id=\"actions-leaders-can-take-to-strengthen-team-autonomy\" style=\"position:relative;\">Actions Leaders Can Take to Strengthen Team Autonomy<a href=\"#actions-leaders-can-take-to-strengthen-team-autonomy\" aria-label=\"actions leaders can take to strengthen team autonomy permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>So what specific methods can strengthen team members’ autonomy?</p>\n<p>I believe the first step is to analyze and diagnose the current state of the organization — specifically, what motivates each person. Since autonomy is a precondition for creating intrinsic motivation to boost productivity and engagement, if people already have intrinsic motivation, there’s not much to worry about. <em>(Though in practice, when you actually observe and analyze, surprisingly few people operate on intrinsic motivation.)</em></p>\n<p>You could ask directly in 1-on-1 meetings — “Do you find your current work enjoyable?” or “Why did you become a developer?” — but personally, I prefer analyzing information that comes up in casual conversation.</p>\n<p>The reason is that the moment you ask someone a question, they might develop biased thinking around that question. Combined with the inherent discomfort of meeting with a leader and the collectivist tendency of not wanting to stand out, they may not share their true feelings. Asking questions without biasing the other person is critically important in situations like user research and interviews — and it’s harder than you’d think.</p>\n<p>That’s why I believe the information that emerges in relaxed settings — smoking a cigarette together, chatting at a café, grabbing dinner after work — tends to be more honest and valuable than what comes out in official 1-on-1 meetings.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/88bbaa99baf8428b6ba76c3155bfa436/92f8c/coffeechat.webp\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRqAAAABXRUJQVlA4IJQAAADQAwCdASoUAAoAPtFUo0uoJKMhsAgBABoJYwCw7BkpyV2/BHFckAAA/pvji9/W2qDheS63N7lYqMRN5bw/LSPvJdYOLlD/IEO4bR7tqTNTS5aW2M9ZvgsCUzkZUItHH3NW15GyKNZA6i2r90hoG+c//yAGLbxjKNebsEjIWGyXkz4QRqq7P7+S2Fqulyh/0AfV8AAA'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"coffeechat\" title=\"\" src=\"/static/88bbaa99baf8428b6ba76c3155bfa436/0ba47/coffeechat.webp\" srcset=\"/static/88bbaa99baf8428b6ba76c3155bfa436/60a22/coffeechat.webp 160w,\n/static/88bbaa99baf8428b6ba76c3155bfa436/4c812/coffeechat.webp 320w,\n/static/88bbaa99baf8428b6ba76c3155bfa436/0ba47/coffeechat.webp 640w,\n/static/88bbaa99baf8428b6ba76c3155bfa436/e46b2/coffeechat.webp 960w,\n/static/88bbaa99baf8428b6ba76c3155bfa436/92f8c/coffeechat.webp 1200w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The more comfortable the environment and the more friendly gestures you show, the more likely people are to be honest with you.</small>\n</center>\n<p>I’d record pieces of information I deemed meaningful, and then categorize people’s motivations using the classification method proposed in an <a href=\"https://scholarworks.bwise.kr/hanyang/handle/2021.sw.hanyang/143183\" target=\"_blank\" rel=\"nofollow\">academic paper on applying Self-Determination Theory to HRD</a>:</p>\n<table>\n<thead>\n<tr>\n<th>Motivation Type</th>\n<th>Behavioral Principle</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Amotivation</td>\n<td>Don’t know why I’m doing this</td>\n<td>I don’t know why I have to do this work</td>\n</tr>\n<tr>\n<td>External Regulation</td>\n<td>To obtain a result</td>\n<td>I do this work to score well on performance reviews</td>\n</tr>\n<tr>\n<td>Introjected Regulation</td>\n<td>Out of obligation</td>\n<td>I do this because I should be a good team member</td>\n</tr>\n<tr>\n<td>Identified Regulation</td>\n<td>Because it’s important</td>\n<td>I do this because it’s necessary for the company’s growth</td>\n</tr>\n<tr>\n<td>Integrated Regulation</td>\n<td>Because it represents my values</td>\n<td>I do this because it expresses who I am</td>\n</tr>\n<tr>\n<td><strong>Intrinsic Motivation</strong></td>\n<td><strong>Because the work itself is interesting</strong></td>\n<td><strong>I do this because the work itself is fascinating and fun</strong></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>🤔 One interesting observation: people who were earlier in their careers more often had introjected regulation or intrinsic motivation, while those with more experience more often showed external regulation or identified regulation.</p>\n<p>Perhaps those who chose development because “coding is fun” still carry that initial learning motivation, while more senior developers have accumulated responsibilities beyond personal interest.</p>\n</blockquote>\n<p>In any case, the leader’s role as I defined it is to move people operating on extrinsic motivations — external regulation, introjected regulation, identified regulation, integrated regulation — toward operating on intrinsic motivation. Simply put, it means figuring out what makes “an environment where people enjoy working” and striving to create it.</p>\n<p>And the way to internalize motivation is to make team members feel autonomy. Given that a leader’s role inherently involves conveying messages on behalf of the organization, leaders easily become the source of extrinsic motivation — which is why I had to consciously take actions that strengthened team members’ autonomy.</p>\n<p>Here are the main methods I used:</p>\n<hr>\n<ol>\n<li>Avoid top-down, notification-style decision-making</li>\n<li>Delegate final decision-making authority to each squad’s frontend engineers for their own services</li>\n<li>Always discuss the frontend chapter’s reason for existence, goals, and mission together</li>\n<li>Communicate that a leader is not a boss, and that mutual feedback is essential</li>\n</ol>\n<hr>\n<h3 id=\"avoid-top-down-decision-making\" style=\"position:relative;\">Avoid Top-Down Decision-Making<a href=\"#avoid-top-down-decision-making\" aria-label=\"avoid top down decision making permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The most fundamental stance I took as a leader was avoiding notification-style decisions. Notification is essentially external pressure that expects compliance, and it severely undermines team members’ autonomy.</p>\n<p>So when making decisions about the chapter, I made a point of sharing problems and directions openly — posting agenda items in Slack channels, walking over to ask people directly, adding items to weekly meeting agendas — ensuring everyone in the chapter had an opportunity to participate in the decision-making process.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/783da1105578e0f9950fffb6d49bf961/d6e5c/meeting.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABumprSpigf//EABoQAAIDAQEAAAAAAAAAAAAAAAACAQMTBBL/2gAIAQEAAQUCzQwgzrF71gZva2dC1v8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAgEFAQAAAAAAAAAAAAAAAAECETEyQZEi/9oACAEBAAY/AsFwwiWXDBnmSVdjhem0f//EABwQAQEBAAEFAAAAAAAAAAAAAAERABAhMVGhsf/aAAgBAQABPyEZhkj8ocfbfRNKZDs6zQw+YI7/2gAMAwEAAgADAAAAEGjf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EFtL/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qh//EABwQAQADAQADAQAAAAAAAAAAAAEAESExUWGR0f/aAAgBAQABPxAAmvAP5Ddtq0Mk518cfn0UCnh2BrQhBaY9ORaLqWmE/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meeting\" title=\"\" src=\"/static/783da1105578e0f9950fffb6d49bf961/c08c5/meeting.jpg\" srcset=\"/static/783da1105578e0f9950fffb6d49bf961/0913d/meeting.jpg 160w,\n/static/783da1105578e0f9950fffb6d49bf961/cb69c/meeting.jpg 320w,\n/static/783da1105578e0f9950fffb6d49bf961/c08c5/meeting.jpg 640w,\n/static/783da1105578e0f9950fffb6d49bf961/6a068/meeting.jpg 960w,\n/static/783da1105578e0f9950fffb6d49bf961/eea4a/meeting.jpg 1280w,\n/static/783da1105578e0f9950fffb6d49bf961/d6e5c/meeting.jpg 1685w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Not everyone's opinion can be reflected in every decision,<br>but at least opening the opportunity to participate provides a degree of autonomy.</small>\n</center>\n<p>It’s true that having the leader make decisions first and then announce them for feedback is faster. But I believed that preserving team members’ intrinsic motivation mattered more than the speed gained from top-down announcements. That’s why I chose to collect feedback before making decisions. Besides, in a small organization of just 5–6 people like the one I led, the leader actively gathering opinions doesn’t significantly slow things down. <em>(And no matter how talented the leader, it’s hard to beat collective intelligence.)</em></p>\n<p>I also judged that if people are given the chance to participate in decision-making, they’re more likely to empathize with the final decision compared to a simple announcement. Even if their opinion wasn’t adopted, they had the chance to voice it and hear the reasoning behind why it wasn’t — a form of equality of opportunity.</p>\n<p>Of course, depending on the team member’s personality and situation, some may find it hard to voice their opinions. But since the organization provided ample opportunity to speak up, whether or not they actually do so is their own choice, which doesn’t significantly violate their autonomy.</p>\n<p>However, the leader’s response should differ depending on whether someone’s reluctance stems from an internal characteristic like an introverted personality, or from external factors — like being new to the company, having recently been criticized, or having been burned by office politics at a previous job.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/072a9adb700670671eb12dbe4a7c7d4a/b4294/pressure.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUDAf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAbXZtA4kjXQMgf/EABoQAAICAwAAAAAAAAAAAAAAAAECABIDERP/2gAIAQEAAQUCtotEe64yelp1fdqw5WlQZ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAMAAgMAAAAAAAAAAAAAAAABEQIQITFR/9oACAEBAAY/Ap7q4lORzIai71T/xAAbEAACAwADAAAAAAAAAAAAAAABEQAhMUFRYf/aAAgBAQABPyEqmLwHsbfJUDGbD332YawghAy6gMwkALZUyccnaE//2gAMAwEAAgADAAAAELDnAv/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABYRAAMAAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxAj/8QAHRABAQADAAIDAAAAAAAAAAAAAREAITFBUWFxsf/aAAgBAQABPxAShtLaPzAzVJSXmADbtaNPjHdC1ls9b8FwQoQRWOwyQCyOM3lghXswyA5tmSDpu0B9Z//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"pressure\" title=\"\" src=\"/static/072a9adb700670671eb12dbe4a7c7d4a/b4294/pressure.jpg\" srcset=\"/static/072a9adb700670671eb12dbe4a7c7d4a/0913d/pressure.jpg 160w,\n/static/072a9adb700670671eb12dbe4a7c7d4a/cb69c/pressure.jpg 320w,\n/static/072a9adb700670671eb12dbe4a7c7d4a/b4294/pressure.jpg 600w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>This is a common preconception among workers in Korean corporate culture,<br>so don't expect people to speak up enthusiastically just because you ask for opinions.</small>\n</center>\n<p>In the former case, if someone’s personality simply doesn’t incline them toward asserting their views, pushing them to share opinions probably won’t change anything. You can change simple behaviors like habits, but altering the personality of someone already in adulthood is no easy feat. <em>(This is why hiring well from the start is so important.)</em></p>\n<p>In this case, the person may be in a state of amotivation or may not have clearly established their growth direction, so you need to find some motivating factor through conversation and at least provide extrinsic motivation. In the latter case, simply removing the blocking factor or showing supportive gestures can naturally increase their participation.</p>\n<p>Of course, given the nature of a company, there are decisions made by executives or decisions that can’t be openly discussed — situations where notification becomes unavoidable.</p>\n<p>In those cases, explain in detail to the team: why the notification is happening, who the decision-maker is, and the reasoning behind the decision. Express that you’re sorry it had to be communicated this way.</p>\n<p>If you don’t properly explain the rationale behind such notifications, team members will feel disrespected by the organization, which can damage intrinsic motivation. The leader must make clear that this isn’t about disrespecting the team, and thoroughly explain the circumstances that made it unavoidable.</p>\n<h3 id=\"delegate-final-decision-making-authority-to-each-squads-frontend-engineers\" style=\"position:relative;\">Delegate Final Decision-Making Authority to Each Squad’s Frontend Engineers<a href=\"#delegate-final-decision-making-authority-to-each-squads-frontend-engineers\" aria-label=\"delegate final decision making authority to each squads frontend engineers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The second value I upheld was ensuring that each squad’s frontend engineers had final decision-making authority over their own services.</p>\n<p>Even as chapter lead, I couldn’t make product decisions on their behalf. If I had a good idea, I’d propose it to the relevant squad’s engineer and delegate the choice to them. Many organizations withhold decision-making authority from juniors or new hires, but I delegated trust and authority regardless of experience level.</p>\n<p>I had two main reasons for this. First, to create intrinsic motivation through autonomy, as discussed above. Second, to ensure that the emotions around success and failure from decision outcomes were felt most strongly by the team member themselves.</p>\n<p>I believe all humans grow through failure, so each individual’s sense and emotional response to failure within the team is extremely important.</p>\n<p>But if a leader gives specific instructions, the emotions around success and failure no longer belong to the team member. The leader held the final decision-making authority, and the team member merely followed orders — so the emotional weight of outcomes tends to be attributed to the decision-maker, the leader. <em>(If the leader also has a self-serving bias — taking credit for successes and blaming others or circumstances for failures — team members’ frustration will only grow. In the worst case, the team implodes.)</em></p>\n<p>When a team member makes their own decision and faces the consequences, the sense of responsibility they feel is far greater than when the leader made the call for them. I believe this is the most fundamental element of what people commonly call the “autonomy and responsibility” principle.</p>\n<p>However, if you design this environment and then blame team members for their failures, that’s a shortcut to disaster. This kind of environment must be accompanied by a value like this:</p>\n<blockquote>\n<p>Everyone can fail. It’s okay to fail.</p>\n<p>But if you do fail, make sure you extract the lessons learned and share them so your colleagues don’t repeat the same mistakes.</p>\n</blockquote>\n<p>New hires and junior members especially tend to fear failure, so the leader absolutely needs to say this explicitly. You could also intentionally show small failures of your own as the leader, though this approach can backfire and erode trust if you haven’t built enough rapport yet — so read the room.</p>\n<p>These kinds of practices aren’t common in typical Korean companies, so some team members may be experiencing them for the first time. In such cases, side effects can occur — people being afraid of being the decision-maker, or beating themselves up for not expressing their thoughts well — requiring appropriate responses from the leader.</p>\n<p>From the leader’s perspective, when you delegate final decision-making authority, you’re still on the hook if things go wrong. Delegating authority doesn’t free you from responsibility for the team’s failures. In other words, by delegating final decision-making to team members, you deliberately create a situation where you have responsibility without authority. <del>(You have to dig your own grave.)</del></p>\n<p>Some leaders might feel anxious about losing control when they delegate decision-making authority. But if you’ve built sufficient rapport or present solid logical reasoning, most team members will seriously consider the leader’s proposals before making their decision — and in the end, things often go the way the leader suggested anyway.</p>\n<p>What matters, then, is the leader’s persuasive ability and the trust they’ve built with team members. If a team member doesn’t follow my suggestion, I think it’s healthier to reflect on whether I failed to persuade them, rather than to blame them.</p>\n<p>Over a year and a half, I delegated final decision-making authority to various frontend engineers. Regardless of experience level, anyone who passed the three-month probation could participate as an interviewer, among other policies. Apart from occasional cases where someone was nervous about having decision-making responsibility, it was rarely a problem. In most cases, through chapter-wide discussions or suggestions from me or other colleagues, people made good decisions.</p>\n<p>For interview process participation in particular, there were reactions like “Am I really qualified to evaluate someone?” But starting with résumé screening, they quickly adapted — and some even ended up proposing improvements to fill gaps in the interview process.</p>\n<p>If anything, this decision-making structure enabled the frontend chapter to make decisions quickly, which translated to increased overall performance.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/56eb2f16b822e0987728e86234b6bad5/019a6/commits.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 27.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyUlEQVR42p2QzY7CMAyE8z6U5o/SNkmTLELaQuHGEd7/MYZJumIlJC4cPo09cWzLYqNHfI16jx2E3Ee0u/Ad+wDZUy11KPEEoUpDGz7z3sSsutUBKnuoE5k99NXX5kJ2Eyd5tP06sVLint7wl3e+si2bRH6+OMjkYW4O9kHuK3rx3HBIMD8J+hChU4Q9ZJgjYW6OqXomZtiUoQNrf1mzTLBzwm6hf06ENXNEd80Qjfk/bFNx9cCNcq+jv3zWNpLaru81lmPNixbvCdRBw12y6juTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"commits\" title=\"\" src=\"/static/56eb2f16b822e0987728e86234b6bad5/6af66/commits.png\" srcset=\"/static/56eb2f16b822e0987728e86234b6bad5/69538/commits.png 160w,\n/static/56eb2f16b822e0987728e86234b6bad5/72799/commits.png 320w,\n/static/56eb2f16b822e0987728e86234b6bad5/6af66/commits.png 640w,\n/static/56eb2f16b822e0987728e86234b6bad5/d9199/commits.png 960w,\n/static/56eb2f16b822e0987728e86234b6bad5/21b4d/commits.png 1280w,\n/static/56eb2f16b822e0987728e86234b6bad5/019a6/commits.png 1818w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>You can roughly gauge performance by looking at the trend of commits merged to main.<br>I joined in March 2022, and the frontend chapter only grew by three people over that period.</small>\n</center>\n<p>While some expressed concern about this system, the reality is that I only delegated final decision-making — I didn’t tell anyone to be a dictator. Any team member’s decision-making process was naturally accompanied by suggestions and feedback from other team members. The pressure of being responsible for their own decisions also compelled them to strive for the most rational choices possible.</p>\n<p>This feedback came in various forms — code reviews, Slack discussions, or offline conversations — and the decision-maker would hear diverse opinions from colleagues before making the final call. Most problems get caught through this process.</p>\n<p>There may be small failures early on when you first delegate, but as I discussed, since the failure resulted from their own choice, they’ll naturally work to avoid repeating the same mistakes. The motivation for this effort might be extrinsic — not wanting to lose colleagues’ trust, or self-satisfaction — but humans inherently possess a need for competence, a desire to be recognized by others. Nobody wants to look incompetent, so they inevitably make the effort.</p>\n<p>Of course, if someone keeps repeating the same failures, you need to provide appropriate feedback while being careful not to let them lose too much sense of competence through self-deprecation like “I’m hopeless at everything.” Just be honest — acknowledge what they’re doing well and suggest working together on areas that need improvement. <em>(I found myself saying this kind of thing a lot when helping colleagues strategize for passing their probation period.)</em></p>\n<p>By delegating decision-making authority to the engineer who knows their squad’s situation best and supporting them, you remove the funnel of reporting to and getting approval from someone — increasing decision speed. You accelerate growth by letting team members directly experience the emotions of failure. And in the long run, you strengthen team members’ autonomy and competence.</p>\n<p>However, this kind of decision-making structure carries a high risk of devolving into everyone-does-their-own-thing chaos, so clear goal alignment across the entire team is absolutely essential.</p>\n<h3 id=\"always-discuss-the-chapters-reason-for-existence-and-mission-together\" style=\"position:relative;\">Always Discuss the Chapter’s Reason for Existence and Mission Together<a href=\"#always-discuss-the-chapters-reason-for-existence-and-mission-together\" aria-label=\"always discuss the chapters reason for existence and mission together permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The third value I upheld was always discussing the frontend chapter’s reason for existence and mission together as a team. An organization, by definition, is a group formed to achieve goals that can’t be accomplished alone — its very raison d’être comes from its mission.</p>\n<p>If people have no say in something this important, it’s only natural for their sense of belonging to decline. So when defining the frontend chapter’s purpose, I made every effort to incorporate as many team members’ opinions as possible.</p>\n<p>These missions were typically defined in OKR format, and I made sure discussions focused more on the Objective — the essence of the mission — than on Key Results, which are merely indicators of whether the mission has been achieved.</p>\n<p>A clear goal like “we are a team organized to achieve X, our mission is Y, and our strategy to achieve it is Z” is essentially a belief about why the frontend chapter can meaningfully exist within the company.</p>\n<p>If this belief wavers, sentiment like “I don’t even know why the frontend chapter exists” can form both inside and outside the chapter. This leads to declining morale and sense of belonging, which in turn erodes competence and intrinsic motivation.</p>\n<p>Another reason organizational mission matters so much is that running an organization isn’t like StarCraft, where you just hotkey your units and attack-move. It’s more like Overwatch or PUBG — games where diverse humans with individual decision-making abilities come together to fight toward a shared objective.</p>\n<p>StarCraft units don’t question orders. They faithfully execute whatever command is given, even if you send naked Marines without Medics into a field of Lurkers for certain annihilation. That’s why a single player can comfortably control dozens of units with 100% compliance.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f65bcc2a376d4096f7dd96c85e80a523/e811e/starcraft.webp\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRnQAAABXRUJQVlA4IGgAAACQAwCdASoUAAsAPtFUo0uoJKMhsAgBABoJZwAAKZMiOSZ6N48AAP6D8LCXxye6Sw9VzNZuMt908H/TIL5d9rtu/M2Jh7bGriXafJbW3eH9HIkK85FXn/wNpS2QjFIPbwt1UH2+10oAAA=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"starcraft\" title=\"\" src=\"/static/f65bcc2a376d4096f7dd96c85e80a523/0ba47/starcraft.webp\" srcset=\"/static/f65bcc2a376d4096f7dd96c85e80a523/60a22/starcraft.webp 160w,\n/static/f65bcc2a376d4096f7dd96c85e80a523/4c812/starcraft.webp 320w,\n/static/f65bcc2a376d4096f7dd96c85e80a523/0ba47/starcraft.webp 640w,\n/static/f65bcc2a376d4096f7dd96c85e80a523/e46b2/starcraft.webp 960w,\n/static/f65bcc2a376d4096f7dd96c85e80a523/e811e/starcraft.webp 1060w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>If you mistake organizational management for StarCraft, team pushback is inevitable.</small>\n</center>\n<p>But in games like Overwatch or PUBG, calling out orders is critical. These are games where multiple humans form a team to achieve objectives together.</p>\n<p>When you’re supposed to push the payload together but one teammate keeps charging into enemy lines for kills and dying, while another is left guarding the payload alone and getting overwhelmed — the game grinds to a halt. The leader needs to call out clearly: “Everyone focus on pushing the payload,” “The rest of you draw aggro from the payload while Genji takes out Widowmaker.” <em>(Unless the team is deep in the lower ranks, this shouldn’t happen too often… I think.)</em></p>\n<p>Real organizational management works similarly. Games at least provide a clear built-in objective, so there’s no need to think about goals. Real organizations have to align on goals first. Without this process, you end up with a team in name only — where one person is playing Overwatch and another is playing PUBG.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ddd1754f6428521be9f2d73642b9e0b1/e1596/star.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB5b8cFhYf/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECERID/9oACAEBAAEFAoqyXOhoU2jbNH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBABAQEBAQAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8hOZdul4gQe99lN//aAAwDAQACAAMAAAAQiN//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCI/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EIa//8QAGBABAQEBAQAAAAAAAAAAAAAAAREAIVH/2gAIAQEAAT8QYBZgEI0pG6CwkI+vcWOhVpkKnd//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"star\" title=\"\" src=\"/static/ddd1754f6428521be9f2d73642b9e0b1/c08c5/star.jpg\" srcset=\"/static/ddd1754f6428521be9f2d73642b9e0b1/0913d/star.jpg 160w,\n/static/ddd1754f6428521be9f2d73642b9e0b1/cb69c/star.jpg 320w,\n/static/ddd1754f6428521be9f2d73642b9e0b1/c08c5/star.jpg 640w,\n/static/ddd1754f6428521be9f2d73642b9e0b1/6a068/star.jpg 960w,\n/static/ddd1754f6428521be9f2d73642b9e0b1/eea4a/star.jpg 1280w,\n/static/ddd1754f6428521be9f2d73642b9e0b1/e1596/star.jpg 2048w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>An organization's goal is the coordinates of a star everyone navigates toward.<br>If everyone doesn't have the same star's coordinates in their heads, the voyage will struggle.</small>\n</center>\n<p>That’s why I made sure that important values like the frontend chapter’s purpose and mission were always defined through everyone’s participation, input, and discussion. Most internal policies were also established in the same way, which I believe kept team members’ autonomy quite high.</p>\n<p>Team members with high autonomy would work late into the night to pursue directions they believed in — without anyone asking them to. Their capabilities weren’t constrained at all; if they wanted to try something, they just had to persuade their chapter colleagues with sound reasoning. It would have been strange if it <em>weren’t</em> fun. <em>(Of course, proposals did get rejected plenty of times too…)</em></p>\n<p>Organizational goals — being somewhat abstract and distant concepts — are easily forgotten in the busyness of daily work. But naturally, goals you set yourself stick in your mind longer than goals imposed by someone else.</p>\n<p>I let the frontend chapter determine its own direction. My role was simply to nudge that direction ever so slightly to ensure it benefited the company as a whole.</p>\n<h3 id=\"communicate-that-a-leader-is-not-a-boss-and-that-mutual-feedback-is-essential\" style=\"position:relative;\">Communicate That a Leader Is Not a Boss, and That Mutual Feedback Is Essential<a href=\"#communicate-that-a-leader-is-not-a-boss-and-that-mutual-feedback-is-essential\" aria-label=\"communicate that a leader is not a boss and that mutual feedback is essential permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The final value I considered important was mutual feedback. I believe that a leader and team members aren’t in a hierarchical relationship — they simply have different roles. And to perform well in each of those roles, you inevitably need help from your colleagues.</p>\n<p>A mutual feedback environment also enhances team members’ autonomy by giving them the power to influence the leader’s direction. Of course, simply exchanging feedback isn’t enough — the leader needs to express gratitude after receiving feedback and demonstrate genuine receptiveness. <em>(And if you disagree with the feedback, just explain your reasoning in detail.)</em></p>\n<p>No human is perfect. Even the most talented person has both strengths and weaknesses, and no matter how long someone has worked, they’re inevitably a beginner in areas outside their expertise.</p>\n<p>I have clear strengths, but I also have clear weaknesses. My knowledge in areas outside frontend development — the field I’ve spent years in — is relatively limited, and I can’t claim to be an expert in everything.</p>\n<p>I imagine the same is true for most people. A single, small human can’t possibly be good at everything in this world.</p>\n<p>In very small startups with around ten employees, a talented leader might handle many things simultaneously like a firefighter. But as organizations grow, that becomes increasingly difficult, and failing to delegate properly can produce various side effects.</p>\n<p>Moreover, in such leader-dependent structures, if the leader isn’t exceptionally capable, the entire organization’s performance crumbles along with them. Active mutual feedback can serve as a means to grow the leader when they’re falling short, or to hedge against the leader’s insufficient decision-making ability.</p>\n<p>However, in traditional companies where leaders are often equated with bosses, it’s hard to establish a robust feedback culture unless the leader genuinely possesses the capacity to accept feedback and the ability to separate feedback from their emotions.</p>\n<p>Feedback receptiveness connects to metacognition — and since metacognition is the high-level concept of “knowing what you don’t know,” it’s not easy to cultivate on your own. Most people find themselves in a state where they don’t even know what they don’t know, yet think “I know a lot” — a kind of Sophist thinking.</p>\n<p>Paradoxically, I believe the best way to develop metacognitive ability is through team members’ feedback. In practice, as I worked in a leadership role and talked with many people, I often found significant gaps between how I saw myself and how others saw me.</p>\n<p>Here’s my own example. The left column is my self-assessment; the right is feedback from colleagues:</p>\n<table>\n<thead>\n<tr>\n<th>Trait</th>\n<th>My Assessment</th>\n<th>Others’ Assessment</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Not very emotionally volatile</td>\n<td>I can make decisions without emotional interference</td>\n<td>Your tone is too cold. We’d like to see more inclusion, not exclusion</td>\n</tr>\n<tr>\n<td>I tend to share opinions first</td>\n<td>I express my thoughts clearly</td>\n<td>Your expression is so strong that it’s hard to voice opposing views</td>\n</tr>\n<tr>\n<td>I don’t show personal emotions at work</td>\n<td>I clearly separate work and personal life</td>\n<td>You seem unapproachable and lacking warmth</td>\n</tr>\n</tbody>\n</table>\n<p>These value judgments inherently include a kind of self-serving bias, so one tends to judge oneself leniently and others strictly. Personal rapport can introduce bias as well. I’m just another human who can’t escape these biases — which is why my self-assessment was skewed positively.</p>\n<p>But ultimately, one thing matters: a leader is in a position where they need to earn others’ trust. So rather than how you see yourself, what matters more is how others perceive your characteristics — and you need to know that clearly and respond accordingly.</p>\n<p>My point isn’t “don’t fall into bias.” While I’m no psychology expert, I believe it’s nearly impossible to completely eliminate these biases.</p>\n<p>What matters is the leader recognizing: “I have biases and errors,” “I’m not that perfect.”</p>\n<p>A leader is human, so naturally there will be areas of strength and areas of weakness. But if you’re not clearly aware of your strengths and weaknesses and try to micromanage beyond your competence or grab excessive decision-making authority, the result can be worse for the organization overall — and it can create problems in earning team members’ trust.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3ab89b5cf9446157970eacacf05d02a3/7bf67/control.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAULnWaBCH//EABsQAAMAAgMAAAAAAAAAAAAAAAABAgMSExQh/9oACAEBAAEFAib2E/OxTJyODnZ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRABAAIDAAAAAAAAAAAAAAAAAAExEBFB/9oACAEBAAY/ArTp3Eqf/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIVFBwf/aAAgBAQABPyF99ZkMJJXSHT4qarCZAG+zmCf/2gAMAwEAAgADAAAAELsP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qp//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMWFxsdH/2gAIAQEAAT8QdjuAoDa2HHXWVb4jdnhwPaAQhoBVU5+wgAu3tMQGCsXZ/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"control\" title=\"\" src=\"/static/3ab89b5cf9446157970eacacf05d02a3/c08c5/control.jpg\" srcset=\"/static/3ab89b5cf9446157970eacacf05d02a3/0913d/control.jpg 160w,\n/static/3ab89b5cf9446157970eacacf05d02a3/cb69c/control.jpg 320w,\n/static/3ab89b5cf9446157970eacacf05d02a3/c08c5/control.jpg 640w,\n/static/3ab89b5cf9446157970eacacf05d02a3/7bf67/control.jpg 680w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Humans tend to think in ways biased by their experiences,<br>\n  so if your early career was spent in a control-heavy organization, your leadership may unconsciously lean toward control as well — which is why metacognition matters.</small>\n</center>\n<p>A leader isn’t someone who controls team members — they’re someone complementary to them. After all, the role of leader can only exist because team members exist.</p>\n<p>So you need to learn how others perceive you through their feedback, and by taking appropriate action items, shape how you appear to your team in the right direction.</p>\n<p>But stepping out of the ideal and into reality, you’ll find that in most organizations where feedback culture hasn’t taken root, people are afraid to transparently share their thoughts about others. Especially in Eastern cultures that value the group over the individual, a “leader” is often equated with a “commander” — so breaking this preconception is important.</p>\n<p>That’s why leaders need to actively communicate that they want feedback, and deliberately — even exaggeratedly — demonstrate a receptive attitude.</p>\n<p>I held coffee chats with everyone in the frontend chapter every two weeks, and at the end of each session, I always asked for feedback. I consistently made explicit statements like: “Giving me feedback helps me grow,” “I’m not perfect either, and I want to improve my weaknesses through feedback,” “Just as you want to grow, I’m just another developer who wants to grow too.” My goal was to make team members think, “This person is genuinely obsessed with feedback…”</p>\n<p>Of course, extracting meaningful feedback every two weeks isn’t easy — most sessions were a parade of “Nothing in particular.” But by persistently maintaining this practice, I was able to receive meaningful feedback from time to time. <em>(Like being told to come in earlier in the morning…)</em></p>\n<p>When I received feedback I resonated with, I’d establish action items to address it and always share the results afterward. Many things didn’t actually improve, but it was a way of actively signaling that I didn’t ignore their feedback.</p>\n<p>It varies somewhat by personality, but in an authority-oriented culture like Korea’s, giving feedback to a leader takes considerable courage. So naturally, the person receiving feedback should express gratitude for the courage it took, and demonstrate that every word was taken to heart.</p>\n<p>Even if you didn’t agree with the feedback, always express gratitude first for the courage it took, and then explain why you didn’t fully resonate with it.</p>\n<p>Be careful, though: reacting emotionally to feedback, or saying “thank you” but then showing no action items or sharing no follow-through — these patterns will cause team members to develop the mindset “Talking to this person won’t change anything,” and they’ll eventually stop speaking up.</p>\n<p>If more and more colleagues start feeling this way, the organization can become like a boiling pressure cooker — ready to blow at any moment. Frustration with the leader has already built up, but people either fear speaking up or feel powerless that nothing will change even if they do.</p>\n<p>That’s why a leader should consistently and proactively seek feedback from colleagues — continuously gathering information that helps develop metacognition: how colleagues perceive you, where you’re falling short, and what you’re doing well.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>After about three years of leadership experience and reflection, the dominant feeling I’ve had is probably “…this is incredibly hard.”</p>\n<p>Computers are friendly companions — give them a command and they faithfully execute it. Humans, by contrast, are wildly inconsistent in behavior and thought, emotional, riddled with all kinds of biases, and astonishingly diverse.</p>\n<p>Of course, people with high empathy intelligence who genuinely enjoy working with others might thrive in such an environment. But I’m a capital-T on the MBTI — not particularly high in empathy intelligence, and not someone who draws energy from people — so I needed an enormous amount of reflection and research on topics like “what makes good leadership” and “what drives people.”</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/dfc9d10866e65a8c46faf88ef1edd58a/2a614/estj.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVR42pWSS28SYRSG+VH+he50rUZjigsTdWFxocSwtF5iF2bQpqLQFkq5OkMHehlsCpkaKDNMhkI7UKYz1Ja2XIoj7fAB31wQbE1J48ZnfZ735OQ9ht4f9N4luq5rmtb7F5o+PNgzXDGHM1QF9mNKPw4EsVSH3V/tzrmv6UPyGVS3JCBDpQ1amqruCiJFUdKpXG5IoAUw15cXZtOT5IaFzVCVyvCygYzkDh4TTK7W/CnLigqdyMQD42iuUk+VK035tMqlwvaJ54HgMxy/43S5GYaun5204YW8d3iIe51MrfY0RY1jQaPNbcNXotn8VLqA0bRlMWJ2zzlnZz0ulxVBbChKCEdCsz2QpU4HY+iXnyctWOgRSd6a9484Fh/OBG96V6/Nk5YkfzsYued0TU59eo9YZxyOd3b7ApWqyvJA5kQxQBDT7rml2Fp4Z+e1xztqvD9mNt9w4COe+PUodxclx0ymV2/eItYP8XicTdNLsdh3lgUt2dABgC8UEskNJp0uiwLNsti36CoZT1OpEJkYJxIfw9FpXwANR0RRaDROqrVqGwAVwm63O7gZQigIu/3Uryjq9/mCAX9oIbSyvLweW2OS61mG3sxm8vnt/f294+MjAMBlz/rf3hVFkSSpWCxmNi/I9sltbXMcz/OlUqler/U7vvok51/V+39+A6aNKxTcsapfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"estj\" title=\"\" src=\"/static/dfc9d10866e65a8c46faf88ef1edd58a/6af66/estj.png\" srcset=\"/static/dfc9d10866e65a8c46faf88ef1edd58a/69538/estj.png 160w,\n/static/dfc9d10866e65a8c46faf88ef1edd58a/72799/estj.png 320w,\n/static/dfc9d10866e65a8c46faf88ef1edd58a/6af66/estj.png 640w,\n/static/dfc9d10866e65a8c46faf88ef1edd58a/d9199/estj.png 960w,\n/static/dfc9d10866e65a8c46faf88ef1edd58a/21b4d/estj.png 1280w,\n/static/dfc9d10866e65a8c46faf88ef1edd58a/2a614/estj.png 5000w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>For the record, my MBTI is a strong ESTJ. I don't love admitting it, but it's surprisingly accurate.</small>\n</center>\n<p>I’m actually someone who’s good at analyzing relationships and connecting them through logical reasoning. So the approach that worked best for me was building knowledge from academic research on human psychology and behavioral principles, then observing and analyzing the people around me to test those theories against reality.</p>\n<p>Of course, no theory explains reality perfectly — especially human behavior, which remains a largely unsolved domain with no definitive answers. All I can do is observe the various situations happening around me, ask myself “why is that person behaving that way?”, and conduct my own analysis.</p>\n<p>Perhaps that’s exactly why I found it so difficult. There aren’t many problems in the world with predetermined right answers, but analyzing and defining something as illogical as humans seems truly, genuinely hard.</p>\n<p>I’m still a fledgling leader with only three years under my belt, so these reflections are just the beginning. There are plenty of days ahead for this kind of thinking, and I’m in no rush.</p>\n<p>This concludes my post: What Do People Work For? — The Psychology of Motivation.</p>","fields":{"slug":"20231003-how-to-be-a-better-leaderen","path":"/2023/10/03/how-to-be-a-better-leader/en/","lang":"en"},"frontmatter":{"title":"What Do People Work For? – The Psychology of Motivation","subTitle":"A leader's job isn't to lead — it's to make people move","date":"Oct 30, 2023","categories":["Essay"],"tags":["Leadership","Psychology","Self-Determination Theory"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/81500200d7fd984809aeaa84eeee10f4/3a812/thumbnail.jpg","srcSet":"/static/81500200d7fd984809aeaa84eeee10f4/3a812/thumbnail.jpg 320w,\n/static/81500200d7fd984809aeaa84eeee10f4/bcf78/thumbnail.jpg 580w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/81500200d7fd984809aeaa84eeee10f4/fc5c5/thumbnail.webp 320w,\n/static/81500200d7fd984809aeaa84eeee10f4/7902e/thumbnail.webp 580w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/81500200d7fd984809aeaa84eeee10f4/f400e/thumbnail.jpg","srcSet":"/static/81500200d7fd984809aeaa84eeee10f4/f400e/thumbnail.jpg 580w","sizes":"100vw"},"sources":[{"srcSet":"/static/81500200d7fd984809aeaa84eeee10f4/2b479/thumbnail.webp 580w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"44dc69dc-9ec2-5623-a3c3-a534e1259afd","tableOfContents":"<ul>\n<li>\n<p><a href=\"#expressing-complex-things-simply\">Expressing Complex Things Simply</a></p>\n</li>\n<li>\n<p><a href=\"#why-does-programming-need-abstraction\">Why Does Programming Need Abstraction?</a></p>\n<ul>\n<li><a href=\"#abstraction-enables-building-more-complex-things\">Abstraction Enables Building More Complex Things</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#moving-beyond-extract-common-features\">Moving Beyond “Extract Common Features”</a></p>\n<ul>\n<li><a href=\"#design-that-too-faithfully-reflects-current-requirements\">Design That Too Faithfully Reflects Current Requirements</a></li>\n<li><a href=\"#why-did-this-happen\">Why Did This Happen?</a></li>\n<li><a href=\"#composing-abstract-things-to-build-concrete-things\">Composing Abstract Things to Build Concrete Things</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#things-worth-considering-for-good-abstraction\">Things Worth Considering for Good Abstraction</a></p>\n<ul>\n<li><a href=\"#dont-force-excessive-context-on-developers\">Don’t Force Excessive Context on Developers</a></li>\n<li><a href=\"#thinking-about-expression\">Thinking About Expression</a></li>\n<li><a href=\"#controlling-input-freedom-for-good-dx\">Controlling Input Freedom for Good DX</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"In this post, I want to talk about abstraction. Abstraction occupies a critically important place not just in application design but across all of computer science. Yet the concept of abstraction is itself so abstract that many developers who are just starting out find themselves deeply confused by…","html":"<p>In this post, I want to talk about abstraction. Abstraction occupies a critically important place not just in application design but across all of computer science. Yet the concept of abstraction is itself so abstract that many developers who are just starting out find themselves deeply confused by it.</p>\n<p>Abstraction shines especially when you need to build something with a complex structure, making it an essential concept when designing large, complex applications.</p>\n<p>I briefly mentioned abstraction in my earlier posts <a href=\"/2019/08/24/what-is-object-oriented-programming/#%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5%EC%9D%B4%EB%9D%BC%EB%8A%94-%EA%B2%83%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%9D%98%EB%AF%B8%ED%95%98%EB%82%98%EC%9A%94\">A Fun Look at Object-Oriented Programming</a> and <a href=\"/2019/12/15/about-functional-thinking/\">Functional Thinking That Breaks Conventional Mindsets</a>, but since abstraction isn’t a concept limited to OOP and wasn’t the main topic of those posts, I didn’t go deep into it.</p>\n<p>Many people understand abstraction only as “extracting common elements.” Strictly speaking, this isn’t wrong — but it’s just one specific technique for defining something abstract. It doesn’t explain what abstraction fundamentally is.</p>\n<p>If you try to understand abstraction from this angle, when someone asks “Why is abstraction needed in programming?”, you’ll only be able to give a narrow answer like “You can extract common parts to improve reusability.” <del><em>(This is actually a question I frequently ask in interviews.)</em></del></p>\n<p>To properly understand abstraction, you need to step away from programming’s definition and think from the ground up about what abstraction fundamentally is and why we need it.</p>\n<h2 id=\"expressing-complex-things-simply\" style=\"position:relative;\">Expressing Complex Things Simply<a href=\"#expressing-complex-things-simply\" aria-label=\"expressing complex things simply permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Let’s start from the most fundamental question: what exactly is abstraction?</p>\n<p>As you know, the term “abstraction” isn’t exclusive to programming. It’s used in mathematics and programming, but also in art and architecture. The most famous abstract painter is, of course, Picasso.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 560px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d79c5756053bcba4a159e4af28a84bb6/9342c/optimize.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB6tTmYZBgo//EABoQAAIDAQEAAAAAAAAAAAAAAAECAwQTABL/2gAIAQEAAQUCrhcfKddAE8Mi46r1pg8v/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAQQCAwAAAAAAAAAAAAAAAAECESEyUTGRof/aAAgBAQAGPwJktTjRg3opIoakmXhKaP/EABwQAQACAQUAAAAAAAAAAAAAAAEAETFBUWGR8f/aAAgBAQABPyG3JdwngJUCFcEIoiGozjdpeWyk/9oADAMBAAIAAwAAABDEP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCYr//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQIBAT8QdosP/8QAHRABAAICAgMAAAAAAAAAAAAAAQARUYEhMUFh8P/aAAgBAQABPxB7mC1C7i4/dqBrEKIL5xK0AUV59RI51w6iAukzmf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"optimize\" title=\"\" src=\"/static/d79c5756053bcba4a159e4af28a84bb6/9342c/optimize.jpg\" srcset=\"/static/d79c5756053bcba4a159e4af28a84bb6/0913d/optimize.jpg 160w,\n/static/d79c5756053bcba4a159e4af28a84bb6/cb69c/optimize.jpg 320w,\n/static/d79c5756053bcba4a159e4af28a84bb6/9342c/optimize.jpg 560w\" sizes=\"(max-width: 560px) 100vw, 560px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Picasso's drawing that removes all complexity from a bull and leaves only its most essential features</small>\n</center>\n<p>As you can see, an abstracted subject emphasizes the features that represent the subject’s essence — or in simpler terms, individual details are stripped away and the characteristics that define the subject itself are strengthened.</p>\n<p>Picasso’s bull drawing can correspond to anything that has the essence of “bull.” Whether it’s a dairy cow, a Korean hanwoo, or a charging bull — none deviate far from that form. In reality these bulls all look different, but they don’t stray from the essential form of what a bull is: four legs and horns on the head.</p>\n<p>It’s like how every individual human has a different face, voice, and personality, but fundamentally we all have two arms, two legs, and one head. That’s the essence of the subject.</p>\n<p>When you express only the essence and remove the details, the expression inevitably becomes simple. Something that expresses only 10 core features is naturally simpler than something expressing 100 granular ones.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 394px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7a4c375ac990f976ecd9ebcade7cc3b3/cc097/zolaman.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 108.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVR42s2V2QqEMAxF/f+/89EPcF/rjluGW4gMjG1t9WECwVDhcJutHhnsOI7LWGUevWxa4L7vVNc1JUlCaZrKGGdOwHVdKYoi6rpOXhXetq0827bNHghF4zj+5K7ve8rz3A4IBQCqioIUqAp0CZznmYqiUFbdGgiL4/jMFQrBAMT4Z53Dpmkuc5VlmSyOqi+1bcNQOFIAF0I860Mo8n2fgiCQsWlatEAoQoGqqpJftFFZlu5AVgPwMAzvjB4MqqZpurUgbilEm/BVHwFZJeY3DEPjYtACWQmUYX7hPD06lVqFy7KcM80LA2fOV8bofa8qrDTnfWh6Dv7jCXABfgBbGs0YyiN/PwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"zolaman\" title=\"\" src=\"/static/7a4c375ac990f976ecd9ebcade7cc3b3/cc097/zolaman.png\" srcset=\"/static/7a4c375ac990f976ecd9ebcade7cc3b3/69538/zolaman.png 160w,\n/static/7a4c375ac990f976ecd9ebcade7cc3b3/72799/zolaman.png 320w,\n/static/7a4c375ac990f976ecd9ebcade7cc3b3/cc097/zolaman.png 394w\" sizes=\"(max-width: 394px) 100vw, 394px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    Expressed with just a circle and five lines, yet no one would mistake this for a dog or cat.<br>\n    This is an abstracted representation that captures the subject's essence.\n  </small>\n</center>\n<p>Ultimately, an abstracted subject is “a simplification that retains only the core features of something complex and removes the rest.” Like the paintings of abstract artists who use simple shapes to express complex things — emotions, animals, objects — simplifying them and emphasizing only what’s essential.</p>\n<p>And these generalized core features inevitably become what these entities have in common. That’s why OOP guides you to extract common features from objects and define classes.</p>\n<p>If I removed the circle from my stick figure drawing, you wouldn’t know if it was a rocket, an arrow, or a headless human. Because any living human is generally expected to have a head in that position. The position and shape of the head is a defining commonality that all humans share.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ce0b65b1961f895989162cd9111bf383/eea4a/headless.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMCBAH/xAAXAQEBAQEAAAAAAAAAAAAAAAACAQAD/9oADAMBAAIQAxAAAAG855O0oC5Og5r0S//EABsQAAICAwEAAAAAAAAAAAAAAAABERIDEBMx/9oACAEBAAEFArDyQ+hYoQLxa//EABYRAQEBAAAAAAAAAAAAAAAAABIAEP/aAAgBAwEBPwEQ3//EABcRAAMBAAAAAAAAAAAAAAAAAAABExD/2gAIAQIBAT8BqVY8/8QAGBAAAwEBAAAAAAAAAAAAAAAAARARACH/2gAIAQEABj8C0jpPWF//xAAdEAACAgEFAAAAAAAAAAAAAAAAAREhMUFRYXGh/9oACAEBAAE/IYb+FZZuJOrOJZuwEkUYhmNWf//aAAwDAQACAAMAAAAQLCdA/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QRqLY/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/EGDG/8QAHBABAAIDAQEBAAAAAAAAAAAAAQAhETFBcVHR/9oACAEBAAE/EDgj1fkJtwvMewCZWz0GZtXyRVYABujnkKDTybn2Yl2273Mux3P/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"headless\" title=\"\" src=\"/static/ce0b65b1961f895989162cd9111bf383/c08c5/headless.jpg\" srcset=\"/static/ce0b65b1961f895989162cd9111bf383/0913d/headless.jpg 160w,\n/static/ce0b65b1961f895989162cd9111bf383/cb69c/headless.jpg 320w,\n/static/ce0b65b1961f895989162cd9111bf383/c08c5/headless.jpg 640w,\n/static/ce0b65b1961f895989162cd9111bf383/6a068/headless.jpg 960w,\n/static/ce0b65b1961f895989162cd9111bf383/eea4a/headless.jpg 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Nobody would look at this photo and think it looks natural</small>\n</center>\n<p>Stripping away everything except the core features of a complex subject and expressing it simply — that is the essence of abstraction.</p>\n<h2 id=\"why-does-programming-need-abstraction\" style=\"position:relative;\">Why Does Programming Need Abstraction?<a href=\"#why-does-programming-need-abstraction\" aria-label=\"why does programming need abstraction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I described abstraction as the act of stripping away everything except the core features of a complex subject and expressing it simply.</p>\n<p>So why do we need this in programming? We’re not artists like Picasso, grasping the essence of objects and expressing them artistically.</p>\n<p>The answer is actually very simple:</p>\n<blockquote>\n<p><strong>To build more complex and difficult things.</strong></p>\n</blockquote>\n<h3 id=\"abstraction-enables-building-more-complex-things\" style=\"position:relative;\">Abstraction Enables Building More Complex Things<a href=\"#abstraction-enables-building-more-complex-things\" aria-label=\"abstraction enables building more complex things permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As I mentioned, an abstracted subject takes on a very simple form because it expresses only the most essential features from its original characteristics. The key point here is “expressing something that’s actually complex in a simple way.”</p>\n<p>One difference between artistic and industrial abstraction: in art, abstraction <em>removes</em> the complex parts, while in industry, abstraction <em>hides</em> them.</p>\n<p>In other words, by hiding concrete, complex implementation behind a simple form, you enable users of your module, component, or product to utilize its functionality without needing to understand the underlying principles.</p>\n<p>Take the computers we use in daily life. Very few people understand the principles down to the semiconductor level, and even elementary school students who don’t know what a CPU is can use a computer. We can abstract “computer” as “a device you operate with a keyboard and mouse to see results on a monitor or speaker” — and that’s sufficient for use. There’s no need or reason to understand every detail of how a computer works.</p>\n<p>A person using Photoshop to edit photos just needs to focus on how to use Photoshop. They don’t need to know how the program works internally or how the OS allocates resources to its process.</p>\n<p>If a Photoshop user had to worry about all of that, wouldn’t “editing a photo in Photoshop” become prohibitively difficult and complex?</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/164a4e620bcf57d8857f4541b3fbe14b/6a068/photoshop.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAY6INFwoT//EABsQAAICAwEAAAAAAAAAAAAAAAABAhEDEiFB/9oACAEBAAEFAoSWrUVi6VR4f//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPwERf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAMAAwAAAAAAAAAAAAAAAAEQEQAhMf/aAAgBAQAGPwI3uE3ccX//xAAbEAADAQEAAwAAAAAAAAAAAAABESEAMUFRsf/aAAgBAQABPyEutTEs8PsOdxqfMGN514Ga+zv/2gAMAwEAAgADAAAAEIfP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EFDc/8QAFxEBAAMAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxBG8j//xAAeEAEAAgIBBQAAAAAAAAAAAAABESEAQdExUWFxkf/aAAgBAQABPxA3K1IRuaxL352LEa84x1I9eMVp0VYwXaBaWLmvmSubP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"photoshop\" title=\"\" src=\"/static/164a4e620bcf57d8857f4541b3fbe14b/c08c5/photoshop.jpg\" srcset=\"/static/164a4e620bcf57d8857f4541b3fbe14b/0913d/photoshop.jpg 160w,\n/static/164a4e620bcf57d8857f4541b3fbe14b/cb69c/photoshop.jpg 320w,\n/static/164a4e620bcf57d8857f4541b3fbe14b/c08c5/photoshop.jpg 640w,\n/static/164a4e620bcf57d8857f4541b3fbe14b/6a068/photoshop.jpg 960w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    If editing photos in Photoshop required understanding all the principles of image processing,<br>\n    the task would become far too difficult for a single person's capacity.\n  </small>\n</center>\n<p>The fundamental concept of abstraction is already at work in cars, smartphones, urban infrastructure, administrative systems, and more. Many things we take for granted are the result of extraordinarily complex logic and infrastructure being abstracted away.</p>\n<p>Thanks to abstraction, we can leverage the systems of complex modern society without needing encyclopedic knowledge across every field.</p>\n<blockquote>\n<ul>\n<li>\n<p>Turn the faucet and clean water comes out → The city’s water supply system is abstracted</p>\n</li>\n<li>\n<p>Go to the municipal office and you can register your residence → The government’s administrative system is divided and abstracted</p>\n</li>\n<li>\n<p>Press the accelerator and the car moves forward → The ECU and engine logic handling intake/compression/combustion/exhaust is abstracted</p>\n</li>\n</ul>\n</blockquote>\n<p>The world we live in today is built on layers of abstract concepts. Thanks to this concept of expressing complex things simply, people can focus only on what they’re responsible for, enabling division of labor and the creation of things more complex than ever before.</p>\n<p>The semiconductor manufacturer focuses only on semiconductors. The computer assembler focuses on computers. The Photoshop developer focuses on image processing and programming. The artist focuses on using Photoshop. Because specialists in each field come together, they can build things more vast and complex than any individual could. If one person had to understand all of it to produce a product, even a lifetime of knowledge-building wouldn’t be enough to produce complex products at high quality.</p>\n<p>These benefits of abstraction apply equally to our experience of programming. The software we build is, like products in other industries, an assembly of many small modules contributed by countless people around the world.</p>\n<p>Frontend developers like me mostly use libraries and frameworks like React or Vue to build web applications. Combining these small programs to create complex applications is nothing unusual.</p>\n<p>Honestly, even without knowing the detailed inner workings of a JavaScript engine, knowing the general syntax of JavaScript and how to use the React library is enough to build applications.</p>\n<p>In the past, developers routinely configured Webpack themselves to bundle applications. Now, CLIs like CRA or frameworks like Next.js generate Webpack configurations automatically — and even hide them behind abstractions. Some developers who started recently have never touched Webpack directly. <em>(In practice, you can build typical applications these days without any Webpack knowledge.)</em></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/eefb5d1a1b23c4fc1c4b4275d203c295/6fa81/webpack.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 87.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOUlEQVR42p1U2XLbMAzM//9c+5Zp4vi2JEsiKYmnzi0Ax249E7uHZ3ZIQxKIxS74Ep1HnyIWADFGhBAwTROe/aZpRt/3GMYZqZ8wzsvt2UurFHzX0XaBMQZKaUk6zzN9MGIk8AHjb/thGOA9F5IQfJSkt4TXzbIsKJoBzic459ARHFUfY6JqBlmv++v7XNc882HDr4T8gJ/w2lKlzlmEyIku1DnO1cp7f/G7VThTH05Hg+2mprXBbttgvzP4WNV4f6so1uJcBNQ1oQpIafzyoDvKZalxPmscj2fsDwUOhxynU4ksqyhRC607NK2jPjew1BLvgxTyZULm3feRkKjJkfrSS2/GaSDqw79TZivstjVRPGNF2KxrgqaYxuq9oriiyi31luwyjKI0q/6QMpee5xXRLIhuhv0+E6pZVqIoaqLZCtW2s0K3s1bc8LSH3tOLnRWDMxIZPiZe0/+pnGcdKXtRV7BvcCCsP0iswhL4wCi9ZcqMpxUqRZOijVCxZGprvSjJe441bUcxTnpZGWydhwmNYa/VaBqLltFSn2ySpDH04G//xPxO5cNB4+1HKQqv19Wn0oq8qGRf5FZGk2edxzKE+LzCpjHQRgmM0WRkRTENQ3H250De5JUThngR62FCFkVrKxNRljQVyiH6kT7iq4pMnxZZU5yf0r6jvNmUpKzC9287vL6eiH5Gc5yL0XnGt5uK/hefo8c97kTpB6MH+ODklnHeXuA6uXl4JJdlFjBFvrL4JvrqcvgJBd93ox0YT8EAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"webpack\" title=\"\" src=\"/static/eefb5d1a1b23c4fc1c4b4275d203c295/6af66/webpack.png\" srcset=\"/static/eefb5d1a1b23c4fc1c4b4275d203c295/69538/webpack.png 160w,\n/static/eefb5d1a1b23c4fc1c4b4275d203c295/72799/webpack.png 320w,\n/static/eefb5d1a1b23c4fc1c4b4275d203c295/6af66/webpack.png 640w,\n/static/eefb5d1a1b23c4fc1c4b4275d203c295/d9199/webpack.png 960w,\n/static/eefb5d1a1b23c4fc1c4b4275d203c295/21b4d/webpack.png 1280w,\n/static/eefb5d1a1b23c4fc1c4b4275d203c295/6fa81/webpack.png 1856w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    Search \"webpack eject\" on Google and you'll see<br>\n    just how many people try to avoid breaking the abstraction and touching Webpack directly.\n  </small>\n</center>\n<p>Thanks to these abstractions, today’s frontend developers are freed from complex concepts like manually syncing state with UI rendering or bundling projects themselves, allowing them to focus on higher-level concerns. This has enabled the development of increasingly large and complex web client applications.</p>\n<p>This is exactly what abstraction in programming — and in industry more broadly — gives us.</p>\n<h2 id=\"moving-beyond-extract-common-features\" style=\"position:relative;\">Moving Beyond “Extract Common Features”<a href=\"#moving-beyond-extract-common-features\" aria-label=\"moving beyond extract common features permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now that we’ve established that abstraction is a general concept not limited to programming and why the programming world needs it, let’s look at something more specific.</p>\n<p>I said earlier that OOP’s guideline of “extract common features from concrete things to define abstract things” doesn’t fully explain the essence of abstraction. It’s just one approach to abstracting something complex into something simple.</p>\n<p>I’m not saying this approach is wrong, but I personally don’t recommend trying to understand abstraction from this guideline. It’s simply “one way to approach a subject for abstraction.” Getting too attached to this method can actually limit your imagination about how the application might evolve, leading to designs that aren’t open to change.</p>\n<p>Let’s look at a simple class example.</p>\n<h3 id=\"design-that-too-faithfully-reflects-current-requirements\" style=\"position:relative;\">Design That Too Faithfully Reflects Current Requirements<a href=\"#design-that-too-faithfully-reflects-current-requirements\" aria-label=\"design that too faithfully reflects current requirements permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2dbad5fcbddeaeca5e18e36c521d345b/010c2/class.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVklEQVR42p1T207CQBDd//8XH33zwQRioggViUBBikFDoYWWS/dCS3vc2QJpKwZxXrYzZ+bMzOkuwwVLIgnhBogjgb8YOxvNDmRiB9ey4dQtuK2B9lUJv4Iwr4jXHE7Nwv3NLUb6jFdRCb+aUEQcXneMZWeM+ZsDwcU/J9SmlALnHOk+RegtdI/U+BS/oGGWT1ToKqU0xfmw2enbTC2EwUt6FyRg1fGrBVXCY0PKOzthpleKudSr7cF1UnUlim+DlVn9hyQ6n3Cqzw44C4ef8KwhfC2+ErL0U9Jkj2Awgf8yRGBPjF/Ed1Jh0fsw9cRDpMxt9NGvNeE+9yEX69OaZrVgY+LtuwfM9T2Uywq+3GDWtGHXWyZPhVswv+Ng+tSD134vXNy8IJE7eK8jfD124euT/CIh5RM+bfTgdzSuYrCEay3mvz8t0ofPQo3L83hEeADiIQ2/Aaowpk7ljaFxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"class\" title=\"\" src=\"/static/2dbad5fcbddeaeca5e18e36c521d345b/6af66/class.png\" srcset=\"/static/2dbad5fcbddeaeca5e18e36c521d345b/69538/class.png 160w,\n/static/2dbad5fcbddeaeca5e18e36c521d345b/72799/class.png 320w,\n/static/2dbad5fcbddeaeca5e18e36c521d345b/6af66/class.png 640w,\n/static/2dbad5fcbddeaeca5e18e36c521d345b/d9199/class.png 960w,\n/static/2dbad5fcbddeaeca5e18e36c521d345b/21b4d/class.png 1280w,\n/static/2dbad5fcbddeaeca5e18e36c521d345b/010c2/class.png 1425w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<hr>\n<ol>\n<li>The requirements include objects A, B, and C.</li>\n<li>Their commonality is that they’re all pink circles; the difference is the letter in the center.</li>\n<li>Define a class: pink circle shape + injectable center letter.</li>\n</ol>\n<hr>\n<p>This class can cover all cases in the current requirements, so it looks well-abstracted. And indeed, this design faithfully satisfies the current business requirements — no problems.</p>\n<p>But problems always arise when changes beyond the current spec come in.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/cd8cf2080c160b648d0b3581bbd6019e/add4c/class_2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVR42qWSTU/CQBCG+/+PHLjzGzjoRb34FSSKKJIANSAVLdCWj3a33W73dWdpCcUgJE4y6aTzzjOzO2vhBBMshuAJpOdBpemfWutgRm0+bL7A7HkAvzNENP4+2tw6Jgj6Dhr1C+NLe/IPYD5hMHbhNN60d7Bw3P9NyDkHYwwsWCHUR2ecIYqiE4A0jVKlBIGSJDFxqhfBNJwsjmOTU7t6itWBCbMsQxiGEEJs/xGQ50CzdZ2jSUlbvia1AWZSQiZCC6QRpntPY8kE/BXLa9S2SQGlWqUZZsKUC3jdEWatAYLhBDLvWpzInjLU7lzUbl28z3gpR1pf10x1LTFkLGBFXx4+7l8xuH7E/MU23Xa3XG8HqJz1UDnvmXjXZJJi3rYxuHmCoxnEspJVBLfVx+ShC1+/ueJIxRTN4RrVSwfVKwfN0bqUI23QH+NTPytiEMvcIQVsGpiO+5ZKhZ7LjFP8a4m6hmqJQXf4A3G5pEjyiHUqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"class 2\" title=\"\" src=\"/static/cd8cf2080c160b648d0b3581bbd6019e/6af66/class_2.png\" srcset=\"/static/cd8cf2080c160b648d0b3581bbd6019e/69538/class_2.png 160w,\n/static/cd8cf2080c160b648d0b3581bbd6019e/72799/class_2.png 320w,\n/static/cd8cf2080c160b648d0b3581bbd6019e/6af66/class_2.png 640w,\n/static/cd8cf2080c160b648d0b3581bbd6019e/d9199/class_2.png 960w,\n/static/cd8cf2080c160b648d0b3581bbd6019e/21b4d/class_2.png 1280w,\n/static/cd8cf2080c160b648d0b3581bbd6019e/add4c/class_2.png 1452w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\"PO/PD: Can you make object B's color changeable?\"</small>\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d3c70bfde81787ab2b3a9eef6094d9d/7cc5e/sudden.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 77.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAE/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABQNXzjgh5P//EABsQAQACAgMAAAAAAAAAAAAAAAECAwATBBES/9oACAEBAAEFAru9W+cD1xsQYtNVgjGX/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQMBAT8Bh//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAECAQE/Aaf/xAAdEAACAQQDAAAAAAAAAAAAAAAAAQIREiFRIjFC/9oACAEBAAY/Anb2WuSq/TOc5SezJRrOxrR//8QAGxABAAIDAQEAAAAAAAAAAAAAAQARMVFxIUH/2gAIAQEAAT8hps1tqAefNBBPVeaMrRXk53fsjhyqn//aAAwDAQACAAMAAAAQwM//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EE8FP//EABcRAAMBAAAAAAAAAAAAAAAAAAABITH/2gAIAQIBAT8Qa0Q//8QAHBAAAgIDAQEAAAAAAAAAAAAAAREAQTFRcSGh/9oACAEBAAE/EFjErRZicsQPyDZ1AOeRAvgFTbgOkDHUTFcMZ4YIEMn7YKn/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sudden\" title=\"\" src=\"/static/6d3c70bfde81787ab2b3a9eef6094d9d/7cc5e/sudden.jpg\" srcset=\"/static/6d3c70bfde81787ab2b3a9eef6094d9d/0913d/sudden.jpg 160w,\n/static/6d3c70bfde81787ab2b3a9eef6094d9d/cb69c/sudden.jpg 320w,\n/static/6d3c70bfde81787ab2b3a9eef6094d9d/7cc5e/sudden.jpg 480w\" sizes=\"(max-width: 480px) 100vw, 480px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>My face when I hear the requirement.jpg</small>\n</center>\n<p>I’m sure many of you have experienced this. In fast-moving business environments, specs changing is completely natural — and this happens regardless of whether you use OOP or FP.</p>\n<p>In the example above, making the object color changeable is a simple change, so it might not seem like a big deal. But you know better than anyone that real-world changes are far more severe than this. <del><em>(Move the building 1cm to the right…mmph)</em></del></p>\n<p>There are many conditions that define “good code,” but a representative one is code that’s “open to change” — code that can be extended without modifying the existing design, even when requirements change. Business requirements inevitably shift with market conditions, and if the code can’t keep up, you can’t deliver real business impact.</p>\n<p>But the code in our example couldn’t handle future changes, creating a situation where the class must be modified. And since classes, being abstract representations, are likely reused in many places, fixing just the class won’t be the end of it.</p>\n<h3 id=\"why-did-this-happen\" style=\"position:relative;\">Why Did This Happen?<a href=\"#why-did-this-happen\" aria-label=\"why did this happen permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Why wasn’t this class designed to be open to change? There are many possible reasons, but I think it’s “because the design was too faithful to current requirements.”</p>\n<p>Of course, we develop products to match business requirements, so designing for current requirements is natural. But every developer wants future-proof designs — extensible, open to change, maximizing code reuse no matter what new features come along.</p>\n<p>But if you abstract by extracting commonalities from your current specs, even the abstracted concept is likely to be designed reflecting only “the present requirements.”</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b87aa75de4c1a353973fc1d2e9704b94/7a18f/bottom-up.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVR42oVT3WvSURh2uVkU25JGBUGEEIHQutiQ7oW6iwi86yK82F9Q7KpFN0EE0W3QhZtzo+HSWcsPRJ0Oh7ChE92cqPN7M+a3F+V2PD3vL3/DuYsOvJzzfj3nvO95H0m1Wu0cHR2xcrksSKVSYQcHByyRSLC9vT0WDodZNBpl+/v7bHd3l0UiEZbP54U4MQf5J61Wi29tbf2ScKxOp8N791wux5HIY7EYX15e5jabjQOYezwebjKZeCqVOhPPGBN2ypGUSiU9bpzDq2YRuBgMBr8fHh7qoM/hdrLPwbaKGH2hUBB0iqU4iqcz5QPHEAgEPkn61iXIze55oMd+q0cX9+uQy/0AVPIACZ01Go1MoVCMdu1SyCCJWq2+hl3W1S+QX6VSjWi12uGujXwyt9s9eAZ8ampqSATse+HVPp3WMOTiuRe6XK4Jn89nW19ft2xsbPwwm80/l5aWlOTzer3vNjc3V9fW1r7BZ8WHvBTzpqenbxsMhvdGo/GD3W5/7XQ6Z3Q63TiVdsXhcDxEgx80Gg1lPB5XAkToDcZkEvojq9X6BOfH+OX7IiDKG8PHvAqFQjO48K3f73+zsrIyLvpHIEN9jz/tLZa8v989PqlcLhfahMqk5wB7k/7TQ3ERyOiphjnSJ5PJhUwmo4csoJeTZLdYLGNgyhfMnh5lLxaLxXmw5zPKukF+9H0C7PmKGZwlP+ZwHnP4UdJsNjlAOcBOaNqR9IIStre379XrdV6r1Xg2m+1A6HwMegl9SqfTzykew39MzAH9/jEF6MTRNmj2hxxIeEYJ+NU7sDeJzzs7O23wuYOYCj7mLvnxcU8BSvT8DV8bOBzV5f8C3ToeMjy/hT4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"bottom up\" title=\"\" src=\"/static/b87aa75de4c1a353973fc1d2e9704b94/6af66/bottom-up.png\" srcset=\"/static/b87aa75de4c1a353973fc1d2e9704b94/69538/bottom-up.png 160w,\n/static/b87aa75de4c1a353973fc1d2e9704b94/72799/bottom-up.png 320w,\n/static/b87aa75de4c1a353973fc1d2e9704b94/6af66/bottom-up.png 640w,\n/static/b87aa75de4c1a353973fc1d2e9704b94/d9199/bottom-up.png 960w,\n/static/b87aa75de4c1a353973fc1d2e9704b94/21b4d/bottom-up.png 1280w,\n/static/b87aa75de4c1a353973fc1d2e9704b94/7a18f/bottom-up.png 1284w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Since you're abstracting from the requirements you've been given,<br>the abstracted concept naturally tends to reflect only current requirements</small>\n</center>\n<p>You can certainly create designs open to change even when abstracting from details. Design patterns commonly discussed in OOP — SOLID principles, and more specifically <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" target=\"_blank\" rel=\"nofollow\">IoC</a> and <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" target=\"_blank\" rel=\"nofollow\">DI</a> — are methods for achieving exactly that.</p>\n<p>But to create designs open to change through this thinking process, you inevitably need the developer’s experience-based ability to predict the future and business domain knowledge. You need a sense for which parts are likely to change frequently so you can design those parts flexibly.</p>\n<p>Moreover, the common instruction “extract objects’ commonalities” says nothing about these design patterns, so developers have to learn them on their own and apply them appropriately.</p>\n<p>Experienced developers might think “just do it, what’s the big deal?” — but for beginners, looking at current requirements and thinking “this part is likely to change later, so I should design it to accept injected functionality from outside” is really not easy.</p>\n<p>So the direction I want to suggest is not defining abstract things from concrete things, but the reverse: <strong>try thinking of the abstract things first.</strong></p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8900a6f2bd640ee40e97b7504d380a91/10d53/top-down.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVR42pVSy2rCQBSNVjdtqVqKgnTT0j/wL/oLrvsJXWfVjSshIohrN0qQtoEY20BbcBGCAcXsxPiKjwR02dCH0zNpAilIbS/cTOaec8/MvXeY8Xi8mc1mZDQaEcMwyGKxIKZpkul0uqH/k8nklef5U47j0vP5/I1ygW8o3+O5q2VZpNPpfDKDwUBAogRCAy4CfECShJi4XC6bELytVqvHxWIxAeweok2IiMPhUAJGuQ1wG7ZtS71e747ZYvvwPWa3hT3uTyOEhHyn+0wmEyuVSieCICTq9XqcZdlwkIsl5AumUqmDbRpBMlMuly9UVc1pmpaTZfmmUCgcergrjEMugecVRcnXarWrnXV4J0XhkWw2e4T+BcsP4cZp9O+s2+2et1qtJPNPi8EjgX0UHvfF/3I7tyxM8dpxnBdM+YlOst/vi7qui5joI40Be6acYKt+FVyv1xXybe+r1cp9o+12myBOYx/0g3glmOPbF2EDKjvl+1EUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"top down\" title=\"\" src=\"/static/8900a6f2bd640ee40e97b7504d380a91/6af66/top-down.png\" srcset=\"/static/8900a6f2bd640ee40e97b7504d380a91/69538/top-down.png 160w,\n/static/8900a6f2bd640ee40e97b7504d380a91/72799/top-down.png 320w,\n/static/8900a6f2bd640ee40e97b7504d380a91/6af66/top-down.png 640w,\n/static/8900a6f2bd640ee40e97b7504d380a91/d9199/top-down.png 960w,\n/static/8900a6f2bd640ee40e97b7504d380a91/21b4d/top-down.png 1280w,\n/static/8900a6f2bd640ee40e97b7504d380a91/10d53/top-down.png 1724w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Think about what components are needed to achieve the concrete requirements</small>\n</center>\n<h3 id=\"composing-abstract-things-to-build-concrete-things\" style=\"position:relative;\">Composing Abstract Things to Build Concrete Things<a href=\"#composing-abstract-things-to-build-concrete-things\" aria-label=\"composing abstract things to build concrete things permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If you’re accustomed to the conventional abstraction approach, “define abstract things before concrete things” might feel unfamiliar. But this concept is neither new nor strange.</p>\n<p>Earlier, I explained that abstraction hides complex things to make them appear simple, and that thanks to this, we can live in modern society without knowing all the knowledge that constitutes it.</p>\n<p>Application design is the same. Instead of asking “what are the commonalities of these concrete implementations and how do I abstract them?”, you should ask “which parts of the concrete implementation should I package as separate components, and how should I let developers assemble these components so they can comfortably use my code without knowing more context than necessary?”</p>\n<p>The result may be similar — common aspects of concrete concepts end up being abstracted — but the direction of thinking is the exact opposite of extracting commonalities.</p>\n<p>Let’s say we need to build an iPhone. Approaching it by extracting commonalities from objects, the thinking flow would go something like:</p>\n<blockquote>\n<ul>\n<li>\n<p>All iPhone models have a way to go home (commonality)</p>\n</li>\n<li>\n<p>iPhones can be divided into those with and without a home button (difference)</p>\n</li>\n<li>\n<p>Then maybe I add a parameter to show or hide the home button? (implementing the difference)</p>\n</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  showHomeButton<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IPhone</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> showHomeButton <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isHomeScreen<span class=\"token punctuation\">,</span> setHomeScreen<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">moveHome</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setHomeScreen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>showHomeButton <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeGesture</span></span> <span class=\"token attr-name\">onSwipeUp</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <small>\n    I wrote this using React's function declaration pattern, which I'm more familiar with.<br />\n    The concept of composing abstract things to build concrete things remains the same regardless.\n  </small>\n  <br />\n  <br />\n</center>\n<p>Something like this, roughly. At first glance, it handles the current requirements well. iPhones do come in older models with a home button and newer models without one.</p>\n<p>But what if later <del>(unlikely as it may be)</del> Apple releases an iPhone with a dial-style home button? This iPhone has no concept of tapping or pressing — you can only rotate it.</p>\n<p>Naturally, our function wasn’t written with that in mind, so now we’d need to add a <code class=\"language-text\">homeUIType</code> parameter and remove the now-meaningless <code class=\"language-text\">showHomeButton</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">IPhoneHomeButtonType</span> <span class=\"token operator\">=</span> <span class=\"token string\">'dial'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'gesture'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'button'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  homeUIType<span class=\"token operator\">:</span> IPhoneHomeButtonType<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IPhone</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> homeUIType<span class=\"token punctuation\">,</span> onMoveHome <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isHomeScreen<span class=\"token punctuation\">,</span> setHomeScreen<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">moveHome</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setHomeScreen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>homeUIType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'button'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'gesture'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeGesture</span></span> <span class=\"token attr-name\">onSwipeUp</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'dial'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeDial</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Just adding one more type of trigger for going home required changing the function’s parameters and internal logic entirely. And since the parameters changed, every place that uses this function needs to be updated too.</p>\n<p>Many developers reading this might be thinking:</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 393px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/40dbc4952056f4f9a119e783e1850333/02e12/what.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAFLEWm55eMf/8QAGhABAAIDAQAAAAAAAAAAAAAAAQACERMhEv/aAAgBAQABBQI6aZqSFzNXvuo//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAREv/aAAgBAwEBPwHRbq//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8BBsv/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhAoH/2gAIAQEABj8C0k9pvSRBoeI//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMUFRIf/aAAgBAQABPyG9awqATN2DWvfIMaFpfJeTjPuLL6T/2gAMAwEAAgADAAAAELz/AP/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8Q4Egcy//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxABXDS3f//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExQWFx/9oACAEBAAE/EE4gEBoxtySv3RgG+X55AA9LvsI5BCRxfIBpFC1sPkRbNjcuDyf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"what\" title=\"\" src=\"/static/40dbc4952056f4f9a119e783e1850333/02e12/what.jpg\" srcset=\"/static/40dbc4952056f4f9a119e783e1850333/0913d/what.jpg 160w,\n/static/40dbc4952056f4f9a119e783e1850333/cb69c/what.jpg 320w,\n/static/40dbc4952056f4f9a119e783e1850333/02e12/what.jpg 393w\" sizes=\"(max-width: 393px) 100vw, 393px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Just use IoC and inject from outside for flexibility from the start — who codes it like that!</small>\n</center>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">renderHomeUI</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token function-variable function\">moveHome</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ReactNode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IPhone</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> renderHomeUI <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isHomeScreen<span class=\"token punctuation\">,</span> setHomeScreen<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">moveHome</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setHomeScreen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token function\">renderHomeUI</span><span class=\"token punctuation\">(</span>moveHome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// By composing with IoC from outside,</span>\n<span class=\"token comment\">// you can use various Home UIs without changing any logic inside the IPhone component.</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IPhone</span></span> <span class=\"token attr-name\">renderHomeUI</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>moveHome<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IPhone</span></span> <span class=\"token attr-name\">renderHomeUI</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>moveHome<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeGesture</span></span> <span class=\"token attr-name\">onSwipeUp</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IPhone</span></span> <span class=\"token attr-name\">renderHomeUI</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>moveHome<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeDialog</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>moveHome<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>I agree. The “go home” feature is an abstract capability that has little to do with the “home button” itself. The home button — the entity that triggers the go-home event — is highly likely to change depending on the phone’s design.</p>\n<p>But as I mentioned, developers unfamiliar with this approach can easily get trapped by their existing knowledge of iPhone features or the current requirements, failing to recognize that the home button is highly change-prone. They might conflate the stable “go home” function with the volatile “home button” as a single concept, producing a tightly coupled design.</p>\n<p>Those who immediately thought “this should be injected from outside” probably developed that insight through past painful experiences, building an intuition for which parts change frequently. In a word: experience.</p>\n<p>But beginners lacking this insight will formulaically extract commonalities from concrete things to abstract, then ad-hoc their way through design extensions as the business evolves. It’s too easy to fall into this pattern.</p>\n<p>Concepts like IoC and DI are things you naturally learn through study after suffering through these mistakes a few times — very few people start development with these concepts already in hand.</p>\n<p>That’s why I recommend approaching abstraction not by extracting commonalities from concrete things, but by first thinking about what small components your concept is made of, then composing those components to build the concrete concept.</p>\n<blockquote>\n<ul>\n<li>\n<p>An iPhone is composed of a microphone, speaker, display, home button, etc.</p>\n</li>\n<li>\n<p>How should each component be assembled?</p>\n</li>\n<li>\n<p>Speakers and microphones probably don’t change position much across different smartphones.</p>\n</li>\n<li>\n<p>Home buttons differ by smartphone, right? Some don’t even have one nowadays. So how should this be assembled?</p>\n</li>\n</ul>\n</blockquote>\n<p>This bottom-up thinking naturally makes it easier to create designs that can cover not just the concept of “iPhone” but even the broader concept of “smartphone.”</p>\n<p>Since concrete concepts tend to reflect only the current business situation, extracting commonalities from them makes it hard to account for future changes. But when you think in terms of composing abstract concepts to build concrete ones, you naturally — almost without conscious effort — end up with designs where abstract components can be swapped in and out.</p>\n<h2 id=\"things-worth-considering-for-good-abstraction\" style=\"position:relative;\">Things Worth Considering for Good Abstraction<a href=\"#things-worth-considering-for-good-abstraction\" aria-label=\"things worth considering for good abstraction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Having covered the macro aspects — what abstraction is and how to approach it — let me now discuss some actionable considerations for when you actually perform abstraction.</p>\n<p>I suggested using bottom-up thinking to consider what abstracted components you need to achieve concrete requirements. When abstracting this way, new questions arise: “what granularity should each component be?” and “how should I express each component’s functionality?”</p>\n<p>You could separate concerns so each component handles a single small responsibility, but splitting too finely can create over-abstraction that makes it hard to grasp context. You might also create components whose functionality is poorly expressed, making them difficult to compose with others.</p>\n<p>So in this section, I’ll share a few considerations I keep in mind when abstracting.</p>\n<h3 id=\"dont-force-excessive-context-on-developers\" style=\"position:relative;\">Don’t Force Excessive Context on Developers<a href=\"#dont-force-excessive-context-on-developers\" aria-label=\"dont force excessive context on developers permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When people talk about the benefits of abstraction, they usually mention reusability. But as I’ve said repeatedly, the greatest benefit of abstraction is making complex things appear simple.</p>\n<p>This benefit can be found in classes, functions, and components alike. Here’s a rough example:</p>\n<blockquote>\n<p>Prepend “I am ” to each value in the array.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Evan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Daniel'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Martin'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> newArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  newArr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">I am </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ['I am Evan', 'I am Daniel', 'I am Martin'];</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Few people write imperative code like this nowadays, but I’ve exaggerated for illustration. This code uses a <code class=\"language-text\">for</code> loop to manually iterate the array, accessing each element by index to reassign values.</p>\n<p>A developer reading this code would naturally pick up on these contexts:</p>\n<blockquote>\n<ol>\n<li>\n<p>A <code class=\"language-text\">for</code> loop will repeatedly execute the inner code.</p>\n</li>\n<li>\n<p>A variable <code class=\"language-text\">i</code> initialized to <code class=\"language-text\">0</code> will increment by <code class=\"language-text\">1</code> after each iteration.</p>\n</li>\n<li>\n<p><code class=\"language-text\">i</code> is used as an array index to access each element.</p>\n</li>\n<li>\n<p>Template strings prepend <code class=\"language-text\">I am</code> to each element’s value.</p>\n</li>\n</ol>\n</blockquote>\n<p>This code actually carries a lot of context. Because all a developer needs to know is whether the code properly prepends “I am” to each array value. They don’t need to know anything about indices or <code class=\"language-text\">for</code> loops.</p>\n<p>What if we abstract this operation at various levels?</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Abstract only the array iteration and new array creation</span>\n<span class=\"token keyword\">const</span> newArray <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>v <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">I am </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>v<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Also abstract the string concatenation with template strings</span>\n<span class=\"token keyword\">const</span> newArray <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>v <span class=\"token operator\">=></span> <span class=\"token function\">addPrefix</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token string\">'I am'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Also abstract the fact that map is used</span>\n<span class=\"token keyword\">const</span> newArray <span class=\"token operator\">=</span> <span class=\"token function\">addPrefixToItems</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> <span class=\"token string\">'I am'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Abstract even the \"I am\" string concatenation</span>\n<span class=\"token keyword\">const</span> newArray <span class=\"token operator\">=</span> <span class=\"token function\">addIamToItems</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>These code samples show progressively higher levels of abstraction from top to bottom.</p>\n<p>The top code abstracts away the <code class=\"language-text\">for</code> loop and new array creation, so the developer no longer needs the context of manually initializing and managing an <code class=\"language-text\">i</code> variable or declaring a new array. They just need to know how <code class=\"language-text\">Array.prototype.map</code> works — that it iterates an array and creates a new array from transformed elements. Code abstracted this way focuses more on the developer’s intended behavior than on the step-by-step instructions for the computer, which is why it’s also called <a href=\"https://en.wikipedia.org/wiki/Declarative_programming\" target=\"_blank\" rel=\"nofollow\">declarative programming</a>. <em>(Focusing on what to do rather than how to do it.)</em></p>\n<p>Let’s look at a more everyday example. You’re probably already writing code like this using various libraries:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> css <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@emotion/css'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> format <span class=\"token keyword\">from</span> <span class=\"token string\">'date-fns/format'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Abstracts: creating a Date object and initializing it to today's date</span>\n  <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Abstracts: generating the desired string from a Date object</span>\n  <span class=\"token keyword\">const</span> formattedDate <span class=\"token operator\">=</span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span>now<span class=\"token punctuation\">,</span> <span class=\"token string\">'yyyy-MM-dd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// Abstracts: creating VDOM objects with React.createElement</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>\n      css<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n        font-size: 1.8rem;\n        font-weight: 800;\n      </span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token comment\">// Abstracts: wrapping CSS in a style tag, inserting into &lt;head>, generating a class name</span>\n    <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Today is </span><span class=\"token punctuation\">{</span>formattedDate<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// And all of the above behavior is abstracted into:</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Foo</span></span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">Foo</code> component does something incredibly simple — displaying today’s date in a format like <code class=\"language-text\">2023-03-02</code>. But even a component this small has an enormous amount abstracted away when you examine each operation.</p>\n<p>If you had to read and understand all this code — or write it from scratch — to create this one component, it would no longer be a “simple” component. Abstraction makes it <em>look</em> simple; it’s actually not simple at all. <em>(Just implementing React in vanilla JS is already a significant undertaking…)</em></p>\n<p>But because all those behaviors described in the comments are abstracted into libraries like <code class=\"language-text\">emotion</code>, <code class=\"language-text\">date-fns</code>, and <code class=\"language-text\">react</code>, we can ignore these complex operations and focus solely on “rendering the current time.”</p>\n<p>To emphasize once more: the value of industrial abstraction is making complex things appear simple, so that individual people can focus on their area of expertise and collaborate to build things more sophisticated and complex. This essential value of abstraction is exactly what we experience in our daily programming lives.</p>\n<p>When people discuss code readability, they often talk about the number of lines. But this is less about having many lines and more about “the amount of code you need to read and analyze to understand a module’s behavior.”</p>\n<p>Simply imagine what it would be like if all the contents of the <code class=\"language-text\">emotion</code>, <code class=\"language-text\">date-fns</code>, and <code class=\"language-text\">react</code> libraries were declared in the same module as the <code class=\"language-text\">Foo</code> component.</p>\n<p>Opening that module with no prior knowledge, you’d struggle to figure out where to start reading, what you can safely ignore, and where in all that code a bug might be. The context forced upon the developer would be excessive.</p>\n<p>The same logic explains why frequently used modules in an organization are published as separate packages to a registry rather than just separated within the application. Both approaches separate the code from business logic, but a package blocks or discourages developers from peeking at the source code, thereby limiting their exposure to the separated module’s context. <em>(Of course, dependency management and cross-application reusability are also benefits of internal libraries.)</em></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Clearly looks like following the reference would lead to @quotalab/utils.d.ts</span>\n<span class=\"token comment\">// So people rarely try to peek at the source</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> uniq <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@quotalab/utils'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// This path makes it feel like you could immediately see the source</span>\n<span class=\"token comment\">// When something seems off, people jump right to the source -> context is exposed</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> uniq <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'utils/array'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <small>\n    If you make it inconvenient for developers to peek at source code, the risk of exposing them to unnecessary context also decreases.\n  </small>\n  <br />\n  <br />\n</center>\n<p>Ultimately, the fundamental reason we abstract is to create context scopes — so that other developers reading our code (or our future selves) aren’t exposed to excessive context when trying to understand behavior. Just as you don’t need to understand semiconductors to use a computer.</p>\n<p>So the person performing abstraction needs to think deeply about what parts others need to know to understand and use the code, and what parts they don’t need to know at all.</p>\n<h3 id=\"thinking-about-expression\" style=\"position:relative;\">Thinking About Expression<a href=\"#thinking-about-expression\" aria-label=\"thinking about expression permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If good abstraction means hiding detailed code so that developers can understand behavior without looking inside, then the next question is: how do we express a module’s internals to the outside world so that developers using it can reasonably infer its behavior without peeking at the source?</p>\n<p>There’s a common joke about people not reading product manuals. The reason this meme works is that products are designed so users can roughly predict how to use them without reading the manual cover to cover. Paradoxically, the fact that you can use a product without reading the manual means it has a UX pattern that’s familiar to everyone.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e76956dc70409588a90016bfaa880d8c/d2602/paper.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGpp0lqMQf/xAAaEAACAgMAAAAAAAAAAAAAAAAAEQEQEiEi/9oACAEBAAEFAoNUzHpn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxABAAMAAAAAAAAAAAAAAAAAEAARYf/aAAgBAQAGPwKa2f/EABoQAAMBAAMAAAAAAAAAAAAAAAABESExUXH/2gAIAQEAAT8hXPCzrnSieEMaLRkLk//aAAwDAQACAAMAAAAQOM//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxBGf//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EBJ//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFh/9oACAEBAAE/ECWysEsxQBB8XEhymNvxmKdq2WzJwXZd/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"paper\" title=\"\" src=\"/static/e76956dc70409588a90016bfaa880d8c/c08c5/paper.jpg\" srcset=\"/static/e76956dc70409588a90016bfaa880d8c/0913d/paper.jpg 160w,\n/static/e76956dc70409588a90016bfaa880d8c/cb69c/paper.jpg 320w,\n/static/e76956dc70409588a90016bfaa880d8c/c08c5/paper.jpg 640w,\n/static/e76956dc70409588a90016bfaa880d8c/6a068/paper.jpg 960w,\n/static/e76956dc70409588a90016bfaa880d8c/eea4a/paper.jpg 1280w,\n/static/e76956dc70409588a90016bfaa880d8c/d2602/paper.jpg 4032w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>I'm the first to admit I don't read manuals for simple devices.<br>I just now learned there's a warranty card in there.</small>\n</center>\n<p>Most products can be figured out by pressing a few visible buttons and tinkering. I never even opened the manual for a monitor I bought three years ago, yet I had no trouble connecting and using it.</p>\n<p>If anything, a product whose usage and behavior can’t be inferred at all without reading the manual — wouldn’t consumers reject it for being too difficult and unintuitive?</p>\n<p>The modules we build should be the same. Think of the manual as the source code. The developer performing abstraction should clearly express the module’s behavior, inputs, and outputs so that users can infer how to use it without reading the source.</p>\n<p>Two primary tools for expressing internal behavior to the outside world:</p>\n<blockquote>\n<ol>\n<li>\n<p>Names of variables and modules</p>\n</li>\n<li>\n<p>If it’s a function or class: input and output types</p>\n</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">addDays</span><span class=\"token punctuation\">(</span>date<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">,</span> amount<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Date<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This is the definition of <a href=\"https://date-fns.org/v2.29.3/docs/addDays\" target=\"_blank\" rel=\"nofollow\">addDays</a>, a function from the <code class=\"language-text\">date-fns</code> library. The name alone tells you it adds “days” to something. It takes a <code class=\"language-text\">Date</code> and a <code class=\"language-text\">number</code> as input and returns a <code class=\"language-text\">Date</code> — so you can infer it returns a new <code class=\"language-text\">Date</code> object with <code class=\"language-text\">amount</code> days added.</p>\n<p>I don’t know exactly what happens inside when I call this function. I can guess it probably uses <code class=\"language-text\">Date.prototype.getDate</code> to get the day and add <code class=\"language-text\">amount</code>, but I don’t need to know any of that to use it.</p>\n<p>All I need to know is: “this function gives me a new <code class=\"language-text\">Date</code> object with the desired number of days added.” And I can infer that from the function’s name and input/output types.</p>\n<p>But what if the name and types looked like this instead?</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 301px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/61f22ae5a2042768a1b9ea04e05fc12e/e8ddc/mental.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 125.62499999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAAAAIEAwUG/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3hr2OYSB6ZNIRBA//8QAHRAAAgMAAgMAAAAAAAAAAAAAAQMAAhEEEhQzQf/aAAgBAQABBQLyFx+GMcanjq6gYynJrUO+HMZWhtB6p//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACEQAAECBQUBAAAAAAAAAAAAAAEAIQIQERJhAxMjMoGR/9oACAEBAAY/Am1IfiughIBxRdrmVPVyPRHbDYlhMTIy/8QAHRABAAIDAAMBAAAAAAAAAAAAAQARITFBEFFx8f/aAAgBAQABPyHHoXr8RM1AsMje4bMjZblCByZagSDJVvYAAVICqep211mWJGNnY6fD4fJ//9oADAMBAAIAAwAAABCTxTz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAdEAEBAAICAwEAAAAAAAAAAAABEQAhMVFBYbGh/9oACAEBAAE/ECqLiaIdTB4OoAQhvDuXzibAguK+NczNsBZomzQ9kwx5R6g3T6Zz7uEkMKpZvALl2fuFpvKgUdc5O4gYbd5+Bz7/AKY4P//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"mental\" title=\"\" src=\"/static/61f22ae5a2042768a1b9ea04e05fc12e/e8ddc/mental.jpg\" srcset=\"/static/61f22ae5a2042768a1b9ea04e05fc12e/0913d/mental.jpg 160w,\n/static/61f22ae5a2042768a1b9ea04e05fc12e/e8ddc/mental.jpg 301w\" sizes=\"(max-width: 301px) 100vw, 301px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>No way to tell what this thing does...!!!</small>\n</center>\n<p>The name <code class=\"language-text\">add</code> suggests it adds something, but I can’t tell what it adds or what it returns. Because this function isn’t faithfully expressing its internal behavior through its types or parameter names.</p>\n<p>Would you trust this function and use it? Setting trust aside, you might not even be able to figure out what it does — and just skip it entirely.</p>\n<p>Even if you do use it somehow, you’d have to read the source code to understand the function’s behavior, losing the very benefit of abstraction: hiding complex context.</p>\n<p>Beyond this example, things like having too many parameters, or a function name that expresses context unrelated to its actual behavior, can also prevent developers from easily inferring the function’s role.</p>\n<p>The importance of expression applies universally to anything exposed outside a module — classes, variables, and more. It’s the foundation of design that shows consideration for other developers who will use your code, or your future self.</p>\n<h3 id=\"controlling-input-freedom-for-good-dx\" style=\"position:relative;\">Controlling Input Freedom for Good DX<a href=\"#controlling-input-freedom-for-good-dx\" aria-label=\"controlling input freedom for good dx permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If you’re comfortable with expressing an abstracted module’s behavior to the outside world, it’s time to think deeply about the DX (Developer Experience) for users of your module.</p>\n<p>Many factors contribute to DX, but one I care most about is: “how much functionality should I expose?” This decision affects the effort users need to invest, the amount of context they must absorb, and the potential for human error.</p>\n<p>For example, imagine building a simple button component:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Button</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> PropsWithChildren<span class=\"token operator\">&lt;</span><span class=\"token builtin\">unknown</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This component doesn’t expose much functionality — it’s what you’d call a “closed” component. Since it only provides the ability to inject <code class=\"language-text\">children</code>, users have very limited freedom.</p>\n<p>While <code class=\"language-text\">children</code> can be freely injected through composition, changing the button’s <code class=\"language-text\">type</code>, adding a click event handler, or anything else is simply not possible.</p>\n<p>But because the provided functionality is so limited, users barely need to think about how to use this component.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> Button <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ComponentProps<span class=\"token operator\">&lt;</span><span class=\"token string\">'button'</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This component, on the other hand, accepts all the properties that React’s <code class=\"language-text\">button</code> component natively provides. Users can use any <code class=\"language-text\">button</code> property they want, giving them high development freedom.</p>\n<p>But because the component provides so many properties, users are continuously exposed to contexts that may not align with their purpose. I often describe this as “the component forcing decisions on the developer.”</p>\n<p>From the creator’s perspective, you can’t predict every way users might use your module, which increases the risk of bugs or use cases that deviate from the design intent.</p>\n<p>In other words, by controlling the module’s input range, the developer who creates the abstracted module can also somewhat control how users interact with it. So input design directly impacts the DX of developers using the module.</p>\n<p>This type of consideration mainly arises when building internal libraries that many developers share. Design systems add even more complexity because you need to incorporate the designer’s intent when designing interfaces. <em>(The more the code properties align with those defined in Figma or Framer, the lower the communication cost between developers and designers.)</em></p>\n<p>There’s no correct answer for whether to open up or restrict a module’s inputs. It depends on the users’ expertise, the module’s purpose, and whether it targets a general audience (like open source) or a limited group (like an internal library).</p>\n<p>The concept of shaping user experience by controlling the scope of provided functionality isn’t limited to code — it’s everywhere in daily life.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6754c9f5811dfe2b0eeedef280d18fc0/12609/synth2.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 49.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFkNwEFkP/EABwQAAAGAwAAAAAAAAAAAAAAAAABAgMSEwQQEf/aAAgBAQABBQJ1b103xjyriQ4Wv//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAQACAgMAAAAAAAAAAAAAAAEAAhExECIy/9oACAEBAAY/ArlLOBnpndyzRNcf/8QAHBABAAEEAwAAAAAAAAAAAAAAAQARITFhQVGR/9oACAEBAAE/IcIAU6hHT5g3l1bzqa3kAMFJ/9oADAMBAAIAAwAAABD0D//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQEAAgEFAAAAAAAAAAAAAAERADEhQVGB0fH/2gAIAQEAAT8QUDEIk4DNYk0eD1htaNXUvGO0BVirny2EwB2CZ//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"synth2\" title=\"\" src=\"/static/6754c9f5811dfe2b0eeedef280d18fc0/c08c5/synth2.jpg\" srcset=\"/static/6754c9f5811dfe2b0eeedef280d18fc0/0913d/synth2.jpg 160w,\n/static/6754c9f5811dfe2b0eeedef280d18fc0/cb69c/synth2.jpg 320w,\n/static/6754c9f5811dfe2b0eeedef280d18fc0/c08c5/synth2.jpg 640w,\n/static/6754c9f5811dfe2b0eeedef280d18fc0/6a068/synth2.jpg 960w,\n/static/6754c9f5811dfe2b0eeedef280d18fc0/eea4a/synth2.jpg 1280w,\n/static/6754c9f5811dfe2b0eeedef280d18fc0/12609/synth2.jpg 3000w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5a9317f4f11dd17948f8a328924b4d7d/4e442/piano.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAADBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAV5CGdNHj//EABwQAAMAAQUAAAAAAAAAAAAAAAECAwAEERIUMf/aAAgBAQABBQJtau/YocnfkqIAlLk5Pz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAACAQMFAAAAAAAAAAAAAAAAASEikbECAxFBUf/aAAgBAQAGPwKi5GCVK8HudI400othH//EABwQAAICAwEBAAAAAAAAAAAAAAERADEhQYFRcf/aAAgBAQABPyHEAx6jWroWPJqMiLMQnOAzA5E21Z+mDlF//9oADAMBAAIAAwAAABAkD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAQACAwACAwAAAAAAAAAAAAEAESExcUFhobHw/9oACAEBAAE/ELogc3huIwrZIHhtX65bX4TGaHCdltPnQb+hwdywJWqV/KP1DV1iT//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"piano\" title=\"\" src=\"/static/5a9317f4f11dd17948f8a328924b4d7d/4e442/piano.jpg\" srcset=\"/static/5a9317f4f11dd17948f8a328924b4d7d/0913d/piano.jpg 160w,\n/static/5a9317f4f11dd17948f8a328924b4d7d/cb69c/piano.jpg 320w,\n/static/5a9317f4f11dd17948f8a328924b4d7d/4e442/piano.jpg 498w\" sizes=\"(max-width: 498px) 100vw, 498px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>People with professional audio knowledge can leverage a synthesizer's vast features in the right contexts,<br>but without that knowledge, a digital piano with limited features may be more appropriate for the purpose.\n  <small>\n</small></small></center>\n<p>A synthesizer lets you directly manipulate audio waveforms to create any sound you want, offering infinite freedom. But hand one to someone without professional audio knowledge and they’ll probably give up and sell it on the secondhand market.</p>\n<p>Moreover, such complex equipment is sometimes sensitive to voltage — careless use could damage it.</p>\n<p>For someone without professional knowledge or who simply doesn’t need that much freedom, a digital piano — with limited features but accessible to non-experts for producing beautiful sounds — may be the better fit.</p>\n<p>This isn’t about exposing more features just because experts know more. It depends on the context in which the tool is used and whether the user needs to understand its inner workings. Someone who just wants to play piano has no need for a complex, feature-rich synthesizer.</p>\n<p>Beyond instruments, examples of this concept abound: manual vs. automatic transmission, cellphones vs. HAM radio transceivers, C vs. JavaScript — tools with similar capabilities but different ranges of exposed functionality based on purpose and user persona.</p>\n<p>We must be careful not to implement a wide range of inputs that force unnecessary decisions on users who don’t need to understand the tool’s inner workings — or conversely, not to implement too narrow a range of inputs that limits use cases for users who need to understand the principles and reuse the tool across various situations.</p>\n<p>As I mentioned, this requires considering the business context, organizational situation, tool purpose, and user needs — there’s no single right answer. But if you’re ever in a position to build an abstracted module that other developers will use, it’s well worth thinking about.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Every developer on Earth today exists in a close collaborative relationship with other developers. Some may work alone as freelancers or in early-stage startups, but ultimately they can’t avoid using tools that others conceived and developed. And since you’re not taking your code to the grave, the day will inevitably come when another developer inherits it.</p>\n<p>Since the moment when someone else must read and understand the code you wrote today is unavoidable, we have no choice but to put effort into writing code that humans can understand. Even if you truly are the only person who will ever touch it — there’s no guarantee your future self will remember how every piece works.</p>\n<p>Ultimately, abstraction in programming is the process of making things with complex underlying principles — or things easily understood by computers but hard for humans — easier for humans to understand. The methods and know-how for good abstraction may vary from person to person, but the fundamental essence of abstraction doesn’t change.</p>\n<p>Personally, I don’t think the specific methods or know-how of abstraction are that important. As I mentioned, patterns and methods for creating designs open to change are already abundant on the internet, and many concepts are already cleanly organized. Reading them and using them a few times should be enough to pick them up.</p>\n<p>But without understanding the fundamental value that the gift of abstraction brings us, it becomes difficult to even judge whether the information you’ve studied is truly useful or not.</p>\n<p>Developers frequently invoke “No Silver Bullet” — the idea that no universal solution exists for all problems. As this phrase implies, not all information we encounter brings only benefits; sometimes a technical decision we make costs us something in return.</p>\n<p>In such circumstances, developers must always coolly weigh the benefits of their decisions against the losses, and I believe what helps with these decisions is an “understanding of the fundamental value that the technology provides.”</p>\n<p>Of course, what I’ve written in this post isn’t the definitive answer. These are simply the thoughts I’ve developed while working as a developer, and I imagine tens of millions of developers worldwide each have their own definitions arrived at through their own deliberation.</p>\n<p>I hope these reflections of mine contribute even a little to the definition of abstraction you’ve arrived at — or will arrive at in the future. This concludes my post: What Is Abstraction, Really?</p>","fields":{"slug":"20230115-what-is-abstracten","path":"/2023/01/15/what-is-abstract/en/","lang":"en"},"frontmatter":{"title":"What Is Abstraction, Really?","subTitle":"More important than implementation — the essence of abstraction that developers should think about","date":"Jan 15, 2023","categories":["Programming"],"tags":["Abstraction","Application Design"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/82222057f7a754072d2c49600010a527/3a812/thumbnail.jpg","srcSet":"/static/82222057f7a754072d2c49600010a527/3a812/thumbnail.jpg 320w,\n/static/82222057f7a754072d2c49600010a527/6a16a/thumbnail.jpg 629w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/82222057f7a754072d2c49600010a527/fc5c5/thumbnail.webp 320w,\n/static/82222057f7a754072d2c49600010a527/5fd7a/thumbnail.webp 629w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/82222057f7a754072d2c49600010a527/e1dd5/thumbnail.jpg","srcSet":"/static/82222057f7a754072d2c49600010a527/e1dd5/thumbnail.jpg 629w","sizes":"100vw"},"sources":[{"srcSet":"/static/82222057f7a754072d2c49600010a527/67948/thumbnail.webp 629w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5007949125596184}}}}}},{"node":{"id":"48e399f3-ff32-5a57-85d3-87916683400c","tableOfContents":"<ul>\n<li>\n<p><a href=\"#effort-without-direction\">Effort Without Direction</a></p>\n</li>\n<li>\n<p><a href=\"#thinking-about-the-cost-of-effort\">Thinking About the Cost of Effort</a></p>\n<ul>\n<li><a href=\"#the-market-perspective\">The Market Perspective</a></li>\n<li><a href=\"#the-perspective-of-continuous-personal-growth\">The Perspective of Continuous Personal Growth</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#so-what-should-i-do\">So What Should I Do?</a></p>\n<ul>\n<li><a href=\"#beware-of-fixating-on-the-act-itself\">Beware of Fixating on the Act Itself</a></li>\n<li><a href=\"#diligence-isnt-a-strong-weapon\">Diligence Isn’t a Strong Weapon</a></li>\n<li><a href=\"#build-intrinsic-motivation\">Build Intrinsic Motivation</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Lately, I’ve been doing more mentoring — reviewing résumés, conducting mock interviews, and discussing growth strategies with developers who are relatively new to the profession. These conversations have been happening more and more frequently. As these experiences accumulated, I started noticing p…","html":"<p>Lately, I’ve been doing more mentoring — reviewing résumés, conducting mock interviews, and discussing growth strategies with developers who are relatively new to the profession. These conversations have been happening more and more frequently.</p>\n<p>As these experiences accumulated, I started noticing patterns in the struggles people face. Today, I want to talk about those patterns.</p>\n<p>These patterns show up not just in mentoring but in actual interviews as well, so in a way, this post might serve as interview advice too. Of course, developers with some years under their belt probably have an intuitive sense of these things already, so I think this post will be most helpful for those in the entry-level to two-year-experience range.</p>\n<p>Going forward, I’ll continue framing the discussion around the emotions and situations of this group. Since writing “entry-level to two-year experience” every time would be tedious, I’ll just call this segment “juniors.”</p>\n<h2 id=\"effort-without-direction\" style=\"position:relative;\">Effort Without Direction<a href=\"#effort-without-direction\" aria-label=\"effort without direction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>One of the most common concerns I hear from junior developers during mentoring is: “I can’t figure out the right direction for my growth.”</p>\n<p>In my experience, people who join the <a href=\"https://lubycon.io\" target=\"_blank\" rel=\"nofollow\">Lubycon mentoring project</a> or request mentoring through other platforms tend to be people who are self-motivated and working hard.</p>\n<p>But because the direction of that effort isn’t clear, doubts like “Am I even on the right path…?” creep in, and they feel anxious despite putting in the work.</p>\n<p>To ease that anxiety and find stability, it’s very easy to channel effort toward a direction that feels safe — meaning what lots of other people are doing. Common examples include daily commits (1 commit per day), writing TIL (Today I Learned) posts, and clone coding. In mentoring sessions and interviews, I see a remarkable number of junior developers engaging in these activities.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/39cecaa3a513c543dbe8543953b2ff61/07d7d/contributions.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42h2O21KCUABF+f8/qabppcnKptKki6WN2qQoGmDckcMBQVBzxfi2935YaytZkTP2ZvxmLvPYRAvmiEIS5YJxNEcLF0RZjJk6zGIDp/DRpYWd+7hlgC5MvoWOnhhsdiVKICJUp88g0rizn3nwXuiEfYZ1V4Mej8s3hr7GuBZdW21uww5PfpfRasqZ3eDUaNDyuvSTL6JKoCRlipb+sJBLLs17mo5aw6Z4acir+OTcuKHtvfPhjWhaKld2qwb2mEmTC7PJyeSSkdSOgnJfoVT7Lb6MCOQKJ/ZZCpckTY/35X5NUmakuzWiSlnvcuS23upc/G0QG4mbBQxWExa+xeFw4B9gECNpMFTS+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"contributions\" title=\"\" src=\"/static/39cecaa3a513c543dbe8543953b2ff61/6af66/contributions.png\" srcset=\"/static/39cecaa3a513c543dbe8543953b2ff61/69538/contributions.png 160w,\n/static/39cecaa3a513c543dbe8543953b2ff61/72799/contributions.png 320w,\n/static/39cecaa3a513c543dbe8543953b2ff61/6af66/contributions.png 640w,\n/static/39cecaa3a513c543dbe8543953b2ff61/d9199/contributions.png 960w,\n/static/39cecaa3a513c543dbe8543953b2ff61/21b4d/contributions.png 1280w,\n/static/39cecaa3a513c543dbe8543953b2ff61/07d7d/contributions.png 1478w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The contribution graph on a GitHub profile is data showing how active someone is in development-related activities.</small>\n</center>\n<p>Of course, doing <em>something</em> for your growth is a great attitude. But blindly jumping in because everyone else is doing it, or because a bootcamp told you it’s necessary for landing a job, may not be the best approach.</p>\n<p>If you’re just starting out, simply committing every day or writing down what you learned on a blog might generate some growth. That’s because at this stage, rapidly getting comfortable with coding directly translates to growth.</p>\n<p>But as you know, this phase passes fairly quickly. The more comfortable you get with coding, the more you encounter familiar things rather than new ones — and from that point on, simply coding alone makes it increasingly difficult to improve or learn something new.</p>\n<p>Eventually, you start to feel that daily commits or TIL posts alone aren’t producing the same growth velocity they used to. And that’s when this question hits:</p>\n<blockquote>\n<p>What should I study next to go further? What kind of effort should I be making now?</p>\n</blockquote>\n<p>This is the state of putting in effort without a clear direction. You need to nail both the <em>volume</em> and the <em>direction</em> of your effort — only then can you get maximum return on the same amount of investment.</p>\n<h2 id=\"thinking-about-the-cost-of-effort\" style=\"position:relative;\">Thinking About the Cost of Effort<a href=\"#thinking-about-the-cost-of-effort\" aria-label=\"thinking about the cost of effort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>People tend to think of the effort they put into achieving something as a kind of cost — and it genuinely is. You’re investing your time and energy to create new value. That’s why we instinctively seek the most efficient form of effort — the direction where minimal input yields maximum return.</p>\n<p>Unfortunately, there’s no predetermined shortcut in life. But you can gradually improve your effort’s efficiency by constantly asking yourself where the right direction might be. The method that maximizes efficiency differs from person to person, and the only way to find it is through your own reflection.</p>\n<p>The problem is that many people can’t afford the mental space for this kind of reflection. Someone who experienced rapid growth through daily commits or TIL tends to think “I’m not growing because I’m not trying hard enough” — because of that past experience, or simply out of inertia.</p>\n<p>But as I mentioned, misdirected effort leads to lower efficiency, and lower efficiency means the value of what your effort produces decreases.</p>\n<p>For those who aren’t sure what “the value of your effort decreasing” means, I want to explain this from two perspectives: the market perspective and the perspective of continuous personal growth.</p>\n<h3 id=\"the-market-perspective\" style=\"position:relative;\">The Market Perspective<a href=\"#the-market-perspective\" aria-label=\"the market perspective permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>First, the place where the returns on your effort shine most brightly is the job market. And since the job market is literally a market, most of the principles we know about markets apply.</p>\n<p>The principle I want to discuss is “inflation.” The basic definition of inflation is when something becomes so common in the market that its value drops. Usually we talk about the value of money dropping, but in the job market, think of it as the value of skills or credentials.</p>\n<p>The most classic example of this inflation is education. In the 1970s, having a college degree commanded respect and gave you a significant advantage in job hunting. But by the 2020s, with college enrollment rates approaching 79%, simply having a bachelor’s degree no longer carries much weight.</p>\n<p>In other words, the bachelor’s degree we spent 12 years earning — from elementary school through college entrance exams — has become something that most people in the job market possess. It’s become an ordinary commodity, and an ordinary commodity that everyone has is, by definition, one that has lost its value.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgb/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAVMlaZvHOGX/xAAZEAADAQEBAAAAAAAAAAAAAAAAAQITETH/2gAIAQEAAQUCUigXmlGtc0s//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAEDAQE/Aco//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAECAQE/AdK//8QAGBAAAgMAAAAAAAAAAAAAAAAAABABMnH/2gAIAQEABj8Ceq0n/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAUUHx/9oACAEBAAE/IVzhKz3u7ZRq5cRjZvob/9oADAMBAAIAAwAAABDTH//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQMBAT8QEan/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFB/9oACAECAQE/EDeL/8QAHBABAQADAAMBAAAAAAAAAAAAAREAIUFRYXHw/9oACAEBAAE/EB7Wh4MPhuTX4HAgJvocRvUKzX7uFKtsFkmiZYKuuvP/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"graduate\" title=\"\" src=\"/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg\" srcset=\"/static/16a130e56cdf12fffd6fd91b275a887d/0913d/graduate.jpg 160w,\n/static/16a130e56cdf12fffd6fd91b275a887d/cb69c/graduate.jpg 320w,\n/static/16a130e56cdf12fffd6fd91b275a887d/36dd4/graduate.jpg 512w\" sizes=\"(max-width: 512px) 100vw, 512px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>\n    As of 2021, the proportion of college graduates has grown compared to the past,<br>\n    and having a degree no longer signals that you're an exceptional talent.\n  </small>\n</center>\n<p>This is a fundamental market principle: when everyone has something, its value drops. And this principle applies to hiring as well. The job market is essentially a jungle of supply and demand where you have to compete against others to survive.</p>\n<p>To survive in this jungle, you need to demonstrate that you’re better at the job than others, that you have higher growth potential — sending the message “invest in me and you won’t regret it” to companies, our consumers. That’s why people try so hard to graduate from good universities, earn certifications, and study abroad.</p>\n<p>The bottom line: you need to be a differentiated person, a desirable product in the job market. This is no different for developers — the only difference is that the differentiation criteria focus on programming skills rather than credentials.</p>\n<p>But the problem is that many people don’t think deeply about whether a particular asset will serve as a weapon in the job market — or whether it’s a weapon at all. They just think they need it because other people already have it. Much like our parents told us we absolutely must graduate college to make a living.</p>\n<p>Sure, having it is probably better than not having it. But relative to the 12 years of effort you invested, a bachelor’s degree probably doesn’t guarantee proportional value. This is especially true in the IT industry, which values ability over credentials.</p>\n<p>Similarly, activities like daily commits, TIL, and clone coding are already widely known. Bootcamps are even providing explicit guidance that these activities help with getting hired. When reviewing résumés, I can definitely feel that far more people are doing these activities than before.</p>\n<p>In other words, these activities have become commodities that too many people possess. Simply having done them no longer makes a strong impression on an interviewer — just like a bachelor’s degree.</p>\n<h3 id=\"the-perspective-of-continuous-personal-growth\" style=\"position:relative;\">The Perspective of Continuous Personal Growth<a href=\"#the-perspective-of-continuous-personal-growth\" aria-label=\"the perspective of continuous personal growth permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Second, as I mentioned, activities like daily commits, TIL, and clone coding only generate meaningful growth during the very earliest stages of learning to code. There are limits to what you can achieve by simply being exposed to coding frequently.</p>\n<p>Moreover, since these activities emphasize consistency, they can easily become mere habits. You end up just “doing them” without deeply considering what you’re learning from them or why you’re doing them in the first place.</p>\n<p>The reasons people fall into this habit vary — inertia from having done it consistently, anxiety about falling behind if they stop — but regardless of the reason, continuing to pour effort in without clear direction can never produce sustained growth.</p>\n<p>Worse, if you forget the original purpose of these activities and just repeat them mechanically, there’s a risk of becoming fixated on results over purpose — making meaningless commits to fill the daily quota, or even faking commit timestamps. This is actually a recurring theme in many people’s retrospectives on daily commits.</p>\n<p>Ultimately, even if you have both the passion for growth and the energy to execute, if you can’t define a clear direction for yourself, your energy might end up invested in the wrong places.</p>\n<h2 id=\"so-what-should-i-do\" style=\"position:relative;\">So What Should I Do?<a href=\"#so-what-should-i-do\" aria-label=\"so what should i do permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Alright, so what should you actually do? Obviously, I can’t provide a one-size-fits-all answer with perfectly clear action items in a single blog post.</p>\n<p>But I can at least talk about things worth reflecting on — things you should sit down and think about seriously.</p>\n<h3 id=\"beware-of-fixating-on-the-act-itself\" style=\"position:relative;\">Beware of Fixating on the Act Itself<a href=\"#beware-of-fixating-on-the-act-itself\" aria-label=\"beware of fixating on the act itself permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>What does it mean to fixate on the act itself? Let me use the popular activity of daily commits as an example.</p>\n<p>The act of “one commit per day” means nothing more and nothing less than making at least one commit each day. If you focus on the act itself, when someone asks “Why do you do daily commits?”, you can only answer with something like “Because it’s important to do something consistently.”</p>\n<p>But as I discussed, once you’re past the very earliest stage of learning to code, mere consistency alone can’t produce sustained growth. If you’ve reached this stage, it’s time to ask yourself:</p>\n<blockquote>\n<p>What is the essential value that daily commits create?</p>\n</blockquote>\n<p>The answer will differ for each person, but I believe the essential value of daily commits is closer to “consistently working on my own development projects without letting go.”</p>\n<p>In other words, the “commit” in “daily commit” doesn’t mean any random commit — it means commits toward building your own side project, contributing to open source, and so on.</p>\n<p>As you know, a commit is ultimately part of the process of building something. But if you fixate on the act of committing itself, the goal of building something disappears into the distance, and only the “commit” remains.</p>\n<p>When you focus solely on the act itself, you fail to capture the real benefits these activities offer and end up wasting energy.</p>\n<h3 id=\"diligence-isnt-a-strong-weapon\" style=\"position:relative;\">Diligence Isn’t a Strong Weapon<a href=\"#diligence-isnt-a-strong-weapon\" aria-label=\"diligence isnt a strong weapon permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A few years ago, I had a casual conversation with someone who had graduated from a bootcamp. I heard something interesting: at their bootcamp, students were told that writing TIL posts on their blogs was necessary for getting hired.</p>\n<p>Of course, bootcamps are businesses, not charities, so they need to maximize results with minimal resources. Providing customized education for every individual is prohibitively expensive, which is why they end up creating standardized curricula and funneling people through them. <em>(Most of the education industry works this way, honestly.)</em></p>\n<p>So I asked:</p>\n<blockquote>\n<p>“Why does writing TIL posts on your blog help with getting hired?”</p>\n</blockquote>\n<p>I asked because I believe hiring involves an enormous number of variables — company size, current business conditions, the talent pool in the market, existing team members’ capacity — and I wasn’t convinced that any specific activity would universally help with employment.</p>\n<p>The answer I got was: “Isn’t it data that shows diligence?”</p>\n<p>Honestly, learning something new every single day and writing about it on a blog is no small feat. How can anyone possibly learn something new every single day?</p>\n<p>Of course, a developer who just started coding might encounter new knowledge daily. But the more comfortable you get with coding, the less that happens. You <em>can</em> sustain this pattern by actively seeking out new knowledge, but it takes considerable effort.</p>\n<p>And if the result of all that effort is merely to demonstrate “diligence” — well, personally, I don’t think that’s a good trade.</p>\n<blockquote>\n<p>Because <strong>companies don’t hire people based on diligence alone.</strong></p>\n</blockquote>\n<p>Companies exist to generate profit. So naturally, when they hire, they want people who will earn back more than what’s invested in them. Diligence might be one criterion for evaluating such people, but it’s not a critical factor. If someone is a bit lazier than average but does great work, helps the team grow, and generates revenue — that’s fine.</p>\n<p>On top of that, as I mentioned, TIL is already a widely recommended activity across multiple bootcamps, and many junior developers are doing it. Inflation has already arrived — simply having done it consistently is no longer that attractive in the job market.</p>\n<p>So if you want TIL to be your weapon, you need something beyond mere consistency and diligence — something that differentiates you. For instance, diving deep into areas most people don’t study, or showing an extraordinary five-year streak of TIL posts without missing a single day.</p>\n<p>To create these differentiating factors, you need to think about what value TIL truly provides.</p>\n<p>TIL isn’t something you do to get hired. It’s an archive where you observe, learn, and record things to hand off to your future self. Yet many people write TIL posts as little more than rough, unorganized notes. And with notes that disorganized, revisiting them a year or two later for review won’t be easy.</p>\n<p>This is a textbook example of using a good tool in a bad way. If you’ve been doing TIL or daily commits for the sake of employment, it’s time to reflect on what value you can genuinely extract from these activities and how that value can fuel your growth.</p>\n<p>Nobody else will do this thinking for you, and no one will teach you the answer. It certainly won’t come quickly, but I recommend practicing — even just a little each day — the habit of questioning whether what you’re currently doing truly has meaning.</p>\n<h3 id=\"build-intrinsic-motivation\" style=\"position:relative;\">Build Intrinsic Motivation<a href=\"#build-intrinsic-motivation\" aria-label=\"build intrinsic motivation permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The last thing I want to talk about is building intrinsic motivation. This connects to the earlier discussion about “activities done for the sake of getting hired or changing jobs” — because landing a job or making a career move is the quintessential example of external motivation.</p>\n<p>Imagine you’ve been diligently doing daily commits or TIL to get hired.</p>\n<p>The developer market currently has more demand than supply, and company founders are always asking “Know any good developers?” — so you’ll probably land a job eventually. <em>(Everyone feels anxious during the process, but people tend to land jobs more easily than they expect.)</em></p>\n<p>OK, so you’ve achieved your goal. Should you keep doing daily commits or TIL?</p>\n<p>Maybe inertia carries you for a while. But once you start adapting to new people, new code, and a new environment at your job, it’s easy to stop — because you’re tired, or because adapting to the job takes priority over personal development.</p>\n<p>The reason you stop might not actually matter that much. Because the moment you achieved your goal of getting hired, the very motivation to continue these labor-intensive, diligence-demanding activities simply vanished.</p>\n<p>This is the fundamental problem with external motivation. Behavior driven by external motivation is easily abandoned the moment the source of that motivation disappears.</p>\n<p>That’s why motivation should stem from intrinsic sources — like growth and genuine interest — rather than external conditions like employment or job changes.</p>\n<p>Intrinsic motivation can also collapse due to internal factors like burnout, but at least it’s far more robust than motivation that evaporates the instant you hit your target.</p>\n<p>Even if you’ve never deeply considered external versus intrinsic motivation, everyone instinctively knows which one is more robust.</p>\n<p>If you were an interviewer and asked “Why do you write TIL?”, would you trust the person who says “To get hired” more, or the person who says “Because I enjoy developing” or “Because it helps me grow”?</p>\n<p>The first answer naturally provokes the thought: “So they’ll stop once they’re hired?” And that reaction is exactly the risk that external motivation creates.</p>\n<p>Of course, most people nod in agreement when I explain it with examples like this. But the truth is, we’re all very accustomed to lives driven by external motivation — and even I, the one writing this, find myself increasingly dependent on the external motivation of money as I get older. <del><em>(Housing prices are absolutely maddening…)</em></del></p>\n<p>Ultimately, what I want to say in this post isn’t that you should eliminate external motivation entirely. That’s impossible, and sometimes external motivation can create even greater momentum. But I do think it’s worth reflecting at least once on whether the motivation you’re currently depending on is sustainable going forward, and whether it truly helps your growth.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>This might sound somewhat idealistic. After all, if you’re in an urgent, desperate situation where you need a job right now, it’s hard to find the headspace for this kind of reflection.</p>\n<p>But everything I’ve discussed in this post will absolutely help your job search and career moves. Your real enemy is the anxiety whispering inside you: “Everyone else is working hard while I’m wasting time on these thoughts” or “I don’t have time to think — I just need to do something.”</p>\n<p>Developers with relatively little experience often don’t have many weapons to showcase in the job market. So to put their best foot forward in interviews, they focus on fundamentals like algorithm problems and language comprehension, or on immediately actionable activities like daily commits.</p>\n<p>Studying fundamentals is indeed essential — you could call it a developer’s basic literacy. And activities like daily commits or TIL can help you demonstrate qualities like diligence. But what matters is that interviewers ultimately aren’t looking for someone who’s merely knowledgeable in theory or just diligent — they’re looking for someone who can “get things done, whatever it takes.”</p>\n<p>In other words, you need a strategy to stand out as a compelling talent in the job market. And crafting that strategy requires “effort with a clear direction.”</p>\n<p>Before starting anything, try visualizing what you want from this effort and who you want to become. Establish your direction, then execute. If you keep practicing this, I believe you’ll eventually develop your own know-how and strategy to showcase what makes you special in the market.</p>\n<p>This concludes my post: How to Find Your Own Color — Setting a Direction for Growth.</p>","fields":{"slug":"20210910-developer-direction-of-efforten","path":"/2021/09/10/developer-direction-of-effort/en/","lang":"en"},"frontmatter":{"title":"How to Find Your Own Color – Setting a Direction for Growth","subTitle":"Developer growth isn't about consistency — it's about direction and differentiation","date":"Sep 10, 2021","categories":["Essay"],"tags":["Developer","Interview","Hiring","Developer Study","Daily Commit","TIL","Clone Coding"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ee5062e1a1df98afe98d15537f8d4da0/3a812/thumbnail.jpg","srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/3a812/thumbnail.jpg 320w,\n/static/ee5062e1a1df98afe98d15537f8d4da0/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/fc5c5/thumbnail.webp 320w,\n/static/ee5062e1a1df98afe98d15537f8d4da0/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ee5062e1a1df98afe98d15537f8d4da0/2d839/thumbnail.jpg","srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ee5062e1a1df98afe98d15537f8d4da0/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"31728f7a-82cc-5845-9fd3-beaf700a2fd3","tableOfContents":"<ul>\n<li>\n<p><a href=\"#it-all-comes-down-to-abstraction\">It All Comes Down to Abstraction…</a></p>\n<ul>\n<li><a href=\"#building-components-that-guarantee-user-freedom\">Building Components That Guarantee User Freedom</a></li>\n<li><a href=\"#lets-build-a-text-component\">Let’s Build a Text Component</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#designing-through-incremental-abstraction\">Designing Through Incremental Abstraction</a></p>\n<ul>\n<li><a href=\"#mimicking-html-elements\">Mimicking HTML Elements</a></li>\n<li><a href=\"#adding-custom-properties\">Adding Custom Properties</a></li>\n<li><a href=\"#making-it-renderable-as-any-element\">Making It Renderable as Any Element</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#full-code-at-a-glance\">Full Code at a Glance</a></p>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Recently, our team at Lubycon started a small project called lubycon-ui-kit together with mentees from a mentoring program. It’s still in its early stages with not much to show, but the goal is to build a UI library based on Korean typography that’s easy for domestic designers and developers to use.","html":"<p>Recently, our team at Lubycon started a small project called <a href=\"https://github.com/Lubycon/lubycon-ui-kit\" target=\"_blank\" rel=\"nofollow\">lubycon-ui-kit</a> together with mentees from a mentoring program. It’s still in its early stages with not much to show, but the goal is to build a UI library based on Korean typography that’s easy for domestic designers and developers to use.</p>\n<!-- more -->\n<p>Like many modern projects, this one was built by mixing React and TypeScript in the right proportions, sprinkling in a generous helping of <a href=\"https://storybook.js.org/\" target=\"_blank\" rel=\"nofollow\">Storybook</a>, and finishing it off with <a href=\"https://rollupjs.org/guide/en/\" target=\"_blank\" rel=\"nofollow\">Rollup</a>.</p>\n<p>Once a component is designed, the developers and designers get together for a review. If it passes, we immediately start development, deploy Storybook to a dev server, and do a final review — a short iteration cycle. I want to share some of the struggles I had while typing the component interfaces for this UI kit.</p>\n<h2 id=\"it-all-comes-down-to-abstraction\" style=\"position:relative;\">It All Comes Down to Abstraction…<a href=\"#it-all-comes-down-to-abstraction\" aria-label=\"it all comes down to abstraction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>I personally believe the hardest part of building an open-source library project is the design. This includes module and component interfaces, encapsulation decisions about what to expose and what to hide from users, and more.</p>\n<p>On top of that, since this kind of project involves collaboration from the start rather than solo work, the team needs to align on design values.</p>\n<p>Honestly, I didn’t think too deeply about the design going in, because I was already using TDS (Toss Design System) for service development at work. I vaguely thought, “Can’t I just build something with a similar feel?”</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABny6XQRjxT//EABoQAAICAwAAAAAAAAAAAAAAAAECESEDMTP/2gAIAQEAAQUCaVUy4NHLyQ0d/wD/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQMSQf/aAAgBAwEBPwGZaXP/xAAXEQADAQAAAAAAAAAAAAAAAAAAAQNB/9oACAECAQE/AYvByP/EABgQAQADAQAAAAAAAAAAAAAAAAEAEHEh/9oACAEBAAY/AtnCjYlf/8QAGRABAQADAQAAAAAAAAAAAAAAAREAECFR/9oACAEBAAE/Ieoy+MFIzCoahChl1f/aAAwDAQACAAMAAAAQT8//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEDAQE/EAAEbOl//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxB1aG8b/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITFBkaH/2gAIAQEAAT8QFJVqyK46jf6aAA4njvZYh0AvYKgmhAzSf//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"tds\" title=\"\" src=\"/static/54696de7a7e6c8a6cf270e1286b33c24/c08c5/tds.jpg\" srcset=\"/static/54696de7a7e6c8a6cf270e1286b33c24/0913d/tds.jpg 160w,\n/static/54696de7a7e6c8a6cf270e1286b33c24/cb69c/tds.jpg 320w,\n/static/54696de7a7e6c8a6cf270e1286b33c24/c08c5/tds.jpg 640w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>This design system alone speeds up development tremendously</small>\n</center>\n<p>So in our first sync meeting with the designers, I was excitedly explaining things using TDS as an example, when I got this response:</p>\n<blockquote>\n<p>Um… a design system and a UI kit are slightly different concepts.</p>\n</blockquote>\n<p>Here’s what that means: a design system is a concept infused with an organization’s brand and design philosophy. So TDS, which I use at work, embodies the various design philosophies that Toss as an organization stands for — meaning it might not translate directly to other organizations.</p>\n<p>A UI kit, on the other hand, is as decoupled from such philosophies as possible, providing pure UI components.</p>\n<p>In other words, something like <a href=\"https://getbootstrap.com/\" target=\"_blank\" rel=\"nofollow\">Bootstrap</a> doesn’t carry a specific design philosophy — it’s a collection of UI components you can assemble like LEGO blocks, making it a UI kit. When an organization like Google creates <a href=\"https://material.io/design/\" target=\"_blank\" rel=\"nofollow\">Material Design</a>, Airbnb creates its <a href=\"https://airbnb.design/tag/dls/\" target=\"_blank\" rel=\"nofollow\">Design Language System</a>, or Toss creates <a href=\"https://blog.toss.im/2019/04/18/tossteam/culture/toss-design-conference/\" target=\"_blank\" rel=\"nofollow\">TDS</a>, they’re embedding design philosophy into a UI kit to create a design system. <small>(UI kit is said to be the broader concept that encompasses design systems.)</small></p>\n<p>Since I was so accustomed to TDS’s interfaces from daily use at work, I’d vaguely assumed “I’ll just build something with a similar feel.” But after hearing this, I revisited the design systems mentioned above and realized how deeply each organization’s design philosophy is embedded in them.</p>\n<p>Ultimately, a UI kit needs to guarantee enough flexibility for users to customize it to fit their organization’s design guidelines and coding conventions, which means abstraction requires even deeper thought than when building a design system.</p>\n<h3 id=\"building-components-that-guarantee-user-freedom\" style=\"position:relative;\">Building Components That Guarantee User Freedom<a href=\"#building-components-that-guarantee-user-freedom\" aria-label=\"building components that guarantee user freedom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>After this conversation, the first thing the frontend developers discussed was: “How much freedom should we guarantee users?”</p>\n<p>For example, imagine building a clickable component like <code class=\"language-text\">Button</code>. In HTML, there’s more than one way to express that an element is clickable:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>I'm a button<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Me too<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>input</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span>Not a button but can be used like one<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Technically I'm a button too<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Of course, using <code class=\"language-text\">role=\"button\"</code> like the last example requires the developer to separately add <code class=\"language-text\">tabindex</code> for focusability, define <code class=\"language-text\">click</code> or <code class=\"language-text\">keydown</code> event handlers so the button activates on Enter or Space when focused — otherwise it wouldn’t be considered a semantic button. That might seem odd, but the important point is that none of these are errors.</p>\n<p>A design system bound to a specific organization’s philosophy can simply create a rule like “the <code class=\"language-text\">Button</code> component must always render as a <code class=\"language-text\">button</code> element” — as long as that design philosophy is shared within the team, it’s fine. But a UI kit should help with UI concerns while preserving the way users originally work with HTML, making this kind of consideration essential.</p>\n<p>After much deliberation, we decided to preserve HTML’s original usage as much as possible. And somehow, I ended up being the one to design the first component for this project.</p>\n<h3 id=\"lets-build-a-text-component\" style=\"position:relative;\">Let’s Build a Text Component<a href=\"#lets-build-a-text-component\" aria-label=\"lets build a text component permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The component I was assigned was the <code class=\"language-text\">Text</code> component. When defining a UI kit, the designers said we needed to define typography and color palette first as the system’s foundation, so naturally the component that expresses typography came first.</p>\n<p>Of course, the typography style data itself is also provided as SCSS, CSS variables, and JS modules, but having to import modules or write classes every time you use typography is quite tedious — so providing a component is cleaner.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Something like this</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">typography</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>h1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">I'm heading 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">typography</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">I'm content</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>And since you can use various elements like <code class=\"language-text\">span</code>, <code class=\"language-text\">p</code>, <code class=\"language-text\">div</code> to render text in HTML, the <code class=\"language-text\">Text</code> component should also have an abstract interface that allows rendering as different elements.</p>\n<p>In other words, the <code class=\"language-text\">Text</code> component should only concern itself with typography, and everything else should work exactly as if you were using a native <code class=\"language-text\">p</code> or <code class=\"language-text\">span</code> element.</p>\n<h2 id=\"designing-through-incremental-abstraction\" style=\"position:relative;\">Designing Through Incremental Abstraction<a href=\"#designing-through-incremental-abstraction\" aria-label=\"designing through incremental abstraction permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As mentioned, to guarantee user freedom we must not break the behavior of HTML elements within React. So the component’s properties should faithfully reproduce the attributes of the target element.</p>\n<p>Users should also be able to render whatever element they want — <code class=\"language-text\">span</code>, <code class=\"language-text\">p</code>, <code class=\"language-text\">div</code>, etc. We could force users to only use <code class=\"language-text\">span</code> or <code class=\"language-text\">p</code>, but enforcing such rules goes beyond the concern of typography.</p>\n<p>Since we’re developing with TypeScript, and this library needs to provide types via <code class=\"language-text\">*.d.ts</code> files, the component’s property types should flexibly change based on the element the user wants to render, enabling proper IDE autocomplete and static type analysis.</p>\n<p>In this post, I’ll walk through my abstraction process in three stages: mimicking HTML elements, adding custom properties, and allowing rendering as any element.</p>\n<h3 id=\"mimicking-html-elements\" style=\"position:relative;\">Mimicking HTML Elements<a href=\"#mimicking-html-elements\" aria-label=\"mimicking html elements permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The first design step is to mimic HTML elements directly. React provides an <code class=\"language-text\">HTMLAttributes</code> type for convenient access to element attribute types, so just this much lets you replicate an HTML element:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Props</span> <span class=\"token operator\">=</span> HTMLAttributes<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Text</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVR42qWSSVPbQBBG9UOQFwzWYm3IkseSxlpHsiIvMsRJgErlkFw4ceL/f2lLJFQqHAI5vOqunpo30z0j5axFzLZwyhvMwwbVpx84Pjxh9/UB7fdHiP0d4oyDxzkMK4KiLaDqrGe27NGXv2tSmN+B+w2u/BJ+cwsva7GKa1x5KWw3gWFzEgVEiJkRQO8gAYmnqt+hqH3eCZcsQ1F9BC+OCPkO4WqPKG7BkwOipEVI+Sq9Ia47TvWyvkXd3EOsv0BQXlA81TxWQXKojUXxGfnhG4Q40I1W0M0ImhHSrfgLZh9ntOa4KbxFgbmfw6f4KzftiFq2MljBDm7yAaVokIsNbaYWpg6GQx2DofYcX5AHGmRZxRkhD3rOZAUXlw4kTfOhh1sw0ZJwi7zYIM0a2E6I0bmJ8cT6i/NXGE9MTJU5JPVZGJTXqNd7ZHkDTfcwHM0wPgn/kdHYIKELSaHXYXwNlm6wrvaw7KBrqTv1/cKyE6Zp3c3hLaLXhVGJoNiBc9HP6X+FS14h3RxhWezNs/tT2D3KAq6fwGE5LumrTC7ez1T18BPzUXff/O3mNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"html attrs\" title=\"\" src=\"/static/1425cce2ebe3ccbafd98dd47f519e8e6/6af66/html_attrs.png\" srcset=\"/static/1425cce2ebe3ccbafd98dd47f519e8e6/69538/html_attrs.png 160w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/72799/html_attrs.png 320w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/6af66/html_attrs.png 640w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/d9199/html_attrs.png 960w,\n/static/1425cce2ebe3ccbafd98dd47f519e8e6/d56e1/html_attrs.png 1130w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Even just this gives you nice autocomplete</small>\n</center>\n<p>But this type won’t work as-is. <code class=\"language-text\">HTMLAttributes</code> only contains React’s basic HTML attributes — it doesn’t include <code class=\"language-text\">ref</code> or <code class=\"language-text\">key</code>.</p>\n<p>You could use React’s <code class=\"language-text\">DetailedHTMLProps</code> type to include <code class=\"language-text\">ref</code> in the properties, but that only declares the type — it doesn’t actually make the component pass <code class=\"language-text\">ref</code> through. It’s purely a type declaration.</p>\n<p>This is well documented in React’s official docs under Forwarding Refs:</p>\n<blockquote>\n<p>refs will not get passed through. <strong>That’s because ref is not a prop.</strong> Like key, it’s handled differently by React.</p>\n<p><strong>Forwarding Refs</strong> - <em><a href=\"https://reactjs.org/docs/forwarding-refs.html#forwarding-refs-in-higher-order-components\" target=\"_blank\" rel=\"nofollow\">reactjs.org</a></em></p>\n</blockquote>\n<p>To truly replicate how HTML elements work in React, you need to implement the ability to receive <code class=\"language-text\">ref</code> from a parent component and pass it to a child — and that’s what the <code class=\"language-text\">forwardRef</code> function is for.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> Text <span class=\"token operator\">=</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n  props<span class=\"token operator\">:</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span>HTMLSpanElement<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">forwardRef</code> function passes <code class=\"language-text\">props</code> and <code class=\"language-text\">ref</code> to its callback. Since the forwarded <code class=\"language-text\">ref</code> comes as a separate argument, <code class=\"language-text\">props</code> naturally excludes <code class=\"language-text\">ref</code>.</p>\n<p>Conveniently, React provides the <code class=\"language-text\">ComponentPropsWithoutRef</code> type that types all component properties minus <code class=\"language-text\">ref</code>, so developers don’t need to manually use the <code class=\"language-text\">Omit</code> utility type to remove the <code class=\"language-text\">ref</code> key.</p>\n<h3 id=\"adding-custom-properties\" style=\"position:relative;\">Adding Custom Properties<a href=\"#adding-custom-properties\" aria-label=\"adding custom properties permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>At this point, the <code class=\"language-text\">Text</code> component has the same functionality as a <code class=\"language-text\">span</code> element. This pattern of using <code class=\"language-text\">forwardRef</code> to pass everything from a parent to a child is a common technique also used when creating Higher-Order Components (HOCs). <small><del>(In fact, that’s where it’s used more often.)</del></small></p>\n<p>But the <code class=\"language-text\">Text</code> component needs to accept not just <code class=\"language-text\">span</code> element attributes, but also custom typography-related properties from our UI kit. As it stands, it’s just a plain <code class=\"language-text\">span</code>. So we need to add custom property types to the <code class=\"language-text\">span</code> element attribute types.</p>\n<p>Since TypeScript provides intersection (<code class=\"language-text\">&amp;</code>) types, this seems straightforward:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Text <span class=\"token operator\">=</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> typography<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span>HTMLSpanElement<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Intersection types merge two different types, so this bundles my <code class=\"language-text\">typography</code> property with <code class=\"language-text\">span</code> element attributes into the <code class=\"language-text\">TextProps</code> type.</p>\n<p>But there’s a problem with this approach: it can’t handle cases where a custom property has the same key as a property from <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code>.</p>\n<p>Let me illustrate with an example. If I add a <code class=\"language-text\">customId</code> property to my custom props, it infers correctly as declared:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  customId<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVR42l2OyU6EUBBF+RgnHvMkM3SjSCOIaJC2o3GtGzf+f44POvbCxcm9t+pWUooQMaqI0MwcP6xxvRuc4Igns+1XK8suiBts55jDZIftVehmgeve4bj1qkobjcR+gxs2tNM7236i7l5o2pluOFBUA/mmZ9fNPIxv5NE9WdkzTh/kUh1ryyY7UKYzW6nK9e0TZjFg7V+xvr/Qfj4Jnvey8IgvP1q+PFejlbOrkAst4VKy+EVVI5Oz6IQizBRVTxBWhu6WK5r0Qk/RjBTxn6VrJCe/3up/85Rf/RqGJ2pYMcQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"o\" title=\"\" src=\"/static/1b2d749ba284a65bbbc99d320d58cd84/6af66/o.png\" srcset=\"/static/1b2d749ba284a65bbbc99d320d58cd84/69538/o.png 160w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/72799/o.png 320w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/6af66/o.png 640w,\n/static/1b2d749ba284a65bbbc99d320d58cd84/3d4b6/o.png 712w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Inference works perfectly — satisfying</small>\n</center>\n<p>But if I add <code class=\"language-text\">id</code> — which already exists inside <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> — the two intersected types collide, and my declared <code class=\"language-text\">id</code> property gets unexpectedly inferred as <code class=\"language-text\">undefined</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVR42lVSyXajMBD0t0wW24h9FwLMJjBmsSGxM8l7k8P8/z/UNMppDvVEC3VVV3fvmCXwqoU4aBxJNqBsFkTijCjuEHg9eLgg9EdoeoY9S3DQhTo1I/0PB8bhJmfsHHqYeC2sfEJWjOBZj0reEEQNwriFIJEsH5GXI2JBInEDnnZEspFzHDfQ956KMpwaO9s5Iec9jEDiVA2o6gmyvcHyTkQgESYNDDuF6WTQTaGItvh57xMCdT69+vj17EB3KuwMevjCQrLNoYkFurgq7OMJLB7higFFNVIrrqhJqKgmVW3TLihIfLs7X+4UX2H7kipkKRq3hwgmpOWMqltRtStKsn2Zf6Pt3zCMD1wIXf+uIM8rpusnLtMD/XDHMH0oN6bbECFZ4x71y5W4rZ94PP5gWb7w+PhWqpIENlIvrCipVQRbXDYzRN6rOzco8XLwfyxbdg5jaywTCLIromIBL1eImpLaN+rnivQ0UvIFcXqmoUhESUfDopi2Ic0HhLyD4xWw/A47zzyhShcE1YJ4/ouo+YaZ3XEMZ/jJRFW+U5/uqOU72f4iogm2VxNBo+BS3xy/gWkXJDjT2hCzTQosqRHlLUKyZtBuHlkMRhPd1mKbrKYnate2WKf/GxhN3bAyuovxRNPmQuIfEJ0zdUJD/0MAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"x\" title=\"\" src=\"/static/c9307aeb70ad34301279d568ff3762a8/6af66/x.png\" srcset=\"/static/c9307aeb70ad34301279d568ff3762a8/69538/x.png 160w,\n/static/c9307aeb70ad34301279d568ff3762a8/72799/x.png 320w,\n/static/c9307aeb70ad34301279d568ff3762a8/6af66/x.png 640w,\n/static/c9307aeb70ad34301279d568ff3762a8/6029f/x.png 906w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>The confused compiler</small>\n</center>\n<p>The compiler gets confused because intersection types in TypeScript aren’t inheritance with overriding. From the compiler’s perspective, it can’t determine which <code class=\"language-text\">id</code> is correct — the one from custom properties or the one inside <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">A</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">B</span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Both have id...</span>\n<span class=\"token comment\">// Which one is correct?</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Result</span> <span class=\"token operator\">=</span> <span class=\"token constant\">A</span> <span class=\"token operator\">&amp;</span> <span class=\"token constant\">B</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This issue also occurs with interfaces using <code class=\"language-text\">extends</code> for inheritance. Trying to override a property that exists on the parent produces an “Interface ’*’ incorrectly extends…” compile error.</p>\n<p>When we merge objects using JavaScript’s <code class=\"language-text\">Object.assign</code>, if both the first and second objects have the same property, the first object’s property is implicitly overridden by the second:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Implicitly overridden by the second object's property</span>\n<span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>But TypeScript is a statically typed language that favors explicit declarations, so it never allows such implicit overriding.</p>\n<p>To merge types this way, you first need to use the <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys\" target=\"_blank\" rel=\"nofollow\">Omit</a> utility type to remove the properties you want to override, then merge. But doing this every time with <code class=\"language-text\">Omit</code> is tedious, so it’s better to create a merge utility type:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Combine<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">Combine</code> takes two generic types, removes all properties from <code class=\"language-text\">K</code> that overlap with <code class=\"language-text\">T</code>, then merges them with an intersection. In effect, if a key declared in <code class=\"language-text\">T</code> also exists in <code class=\"language-text\">K</code>, <code class=\"language-text\">T</code>’s version wins.</p>\n<p>Now we use <code class=\"language-text\">Combine</code> to merge our custom properties with <code class=\"language-text\">span</code> element attributes to declare the final <code class=\"language-text\">Text</code> component properties.</p>\n<p>Even if a developer’s custom property happens to overlap with a <code class=\"language-text\">span</code> attribute, <code class=\"language-text\">Combine</code> handles the override automatically, so developers can declare properties as usual without extra concern:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"making-it-renderable-as-any-element\" style=\"position:relative;\">Making It Renderable as Any Element<a href=\"#making-it-renderable-as-any-element\" aria-label=\"making it renderable as any element permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Text</code> component now flexibly includes both custom properties and HTML element attributes, but there’s one more layer of abstraction left.</p>\n<p>So far, the <code class=\"language-text\">Text</code> component can only render as a <code class=\"language-text\">span</code>. But as we’ve discussed repeatedly, there’s no law saying you must use <code class=\"language-text\">span</code> for text content in HTML, so we need to abstract one more level to allow the render target element to be freely changed.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>p<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token comment\">// Renders as p, typed with p element attributes</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token comment\">// Renders as a, typed with a element attributes</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The common approach is providing an <code class=\"language-text\">as</code> prop that accepts an element tag name and renders accordingly. I went with the same approach. <small><del>(Basically copied Bootstrap.)</del></small></p>\n<p>In previous abstractions, the render target was guaranteed to be <code class=\"language-text\">span</code>, so we just needed to merge types correctly. Now that the target could be anything, we need to accept it flexibly via a generic type.</p>\n<p>Let’s look at the <code class=\"language-text\">Text</code> component’s property type again:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps</span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token string\">'span'</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>I want this type to accept not just <code class=\"language-text\">span</code> but various elements, so I need to turn the <code class=\"language-text\">'span'</code> in <code class=\"language-text\">ComponentPropsWithoutRef&lt;'span'></code> into a type variable like <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code>.</p>\n<p>In other words, once we receive an HTML element name via the <code class=\"language-text\">as</code> prop, we find the matching element attribute type and merge it into the <code class=\"language-text\">Text</code> component’s properties using <code class=\"language-text\">Combine</code>.</p>\n<h4 id=\"breaking-down-generics-and-type-inference\" style=\"position:relative;\">Breaking Down Generics and Type Inference<a href=\"#breaking-down-generics-and-type-inference\" aria-label=\"breaking down generics and type inference permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Let’s think about how to type this according to the design. It’s best to start from the outermost layer — the <code class=\"language-text\">Text</code> component’s properties that receive the generic type <code class=\"language-text\">T</code> directly from the user:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Text component's custom properties</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Props&lt;T> passes T directly to ComponentPropsWithoutRef&lt;T>.</span>\n<span class=\"token comment\">// It also binds T to the as property inside custom props.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  Combine<span class=\"token operator\">&lt;</span>TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n.<br />\n.<br />\n.<br />\n</center>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 27.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABNUlEQVR42k1Q2U7DMBDMp0BbkjbOacfxkctJSGkljqIiUSH+/zeGTSIBD6uZ2R2Pvfb2pkeQWESpW4olLaJ8RJQNa2/GpENMyBbdk6dDGDcLHlgF3xfwA4FdUMALq0cYPqKxr5DuHWb8QN1cYPor7PkL1XSDPt2If6OePlG7K9R4hezfUHQvkMMFglCRbrtneJNyOJojdNrB6jOUGMADDhFKiEiBH2bU4Ix4WILvBXENGRuUtJlMK0hCm9XoqbxW9+AZNVSPkjcUSFW0kJyMeQVTEs8tzWq0diSfQ03flIQFdncM/ibGwybClvj2nsEzFJSnFoIOq6KhAAfXPtFr6QIKr8yw4Kzn/tCd0NYTNPnCPW2SVWAHCp+Dtwk8QeZ1HQVBq/xW+MeX2TJfcdHROiv+n2EaP2hjxDu+cW7LAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"generic error\" title=\"\" src=\"/static/3823464654cd20a44beec2c98e1f9580/6af66/generic_error.png\" srcset=\"/static/3823464654cd20a44beec2c98e1f9580/69538/generic_error.png 160w,\n/static/3823464654cd20a44beec2c98e1f9580/72799/generic_error.png 320w,\n/static/3823464654cd20a44beec2c98e1f9580/6af66/generic_error.png 640w,\n/static/3823464654cd20a44beec2c98e1f9580/d9199/generic_error.png 960w,\n/static/3823464654cd20a44beec2c98e1f9580/21b4d/generic_error.png 1280w,\n/static/3823464654cd20a44beec2c98e1f9580/081ff/generic_error.png 2182w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Wrong answer!</small>\n</center>\n<p>In my optimistic mental model this seemed fine — why does it fail? After all, everything uses the same type variable <code class=\"language-text\">T</code> and just passes it along.</p>\n<p>The reason is that <code class=\"language-text\">ComponentPropsWithoutRef</code> restricts its generic to <code class=\"language-text\">ElementType</code>. Since my type places no constraints on the type variable <code class=\"language-text\">T</code>, passing it directly to <code class=\"language-text\">ComponentPropsWithoutRef</code> causes a compiler error.</p>\n<p>So if we want to safely pass type variable <code class=\"language-text\">T</code> to <code class=\"language-text\">ComponentPropsWithoutRef</code>, we need to constrain it to <code class=\"language-text\">ElementType</code> from the very point where the <code class=\"language-text\">Text</code> function receives its generic:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  Combine<span class=\"token operator\">&lt;</span>TextBaseProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">>></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Seeing that the <code class=\"language-text\">Text</code> component takes a generic type, you might think you’d need awkward syntax like <code class=\"language-text\">&lt;Text&lt;'span'> /></code> — but that’s not the case.</p>\n<p>That’s because this generic type <code class=\"language-text\">T</code> can be inferred. Looking at the example above, the type variable <code class=\"language-text\">T</code> that <code class=\"language-text\">Text</code> receives flows through <code class=\"language-text\">TextProps&lt;T></code> to <code class=\"language-text\">TextBaseProps&lt;T></code> and gets bound directly to <code class=\"language-text\">as</code>.</p>\n<p>All these type variables are guaranteed to be the same:</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">Text&lt;T></code></li>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">TextProps&lt;T></code></li>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">TextBaseProps&lt;T></code></li>\n<li><code class=\"language-text\">T</code> bound to the <code class=\"language-text\">as</code> property</li>\n<li><code class=\"language-text\">T</code> in <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code></li>\n</ol>\n<hr>\n<p>This means that if just <em>one</em> of these points makes the type of <code class=\"language-text\">T</code> clear, the rest can be inferred naturally.</p>\n<p>Using TypeScript’s type inference, if we assign <code class=\"language-text\">'span'</code> as the default for <code class=\"language-text\">T</code>, or if a value like <code class=\"language-text\">'span'</code> is passed to the <code class=\"language-text\">as</code> prop, the remaining <code class=\"language-text\">T</code>s are automatically filled in with the same type:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Props<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">&lt;</span>Text <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// -> T is inferred as span</span>\n<span class=\"token operator\">&lt;</span>Text <span class=\"token keyword\">as</span><span class=\"token operator\">=</span><span class=\"token string\">\"p\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// -> T is inferred as p</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now that we understand the type inference flow, let’s type this properly.</p>\n<h4 id=\"abstracting-the-code-classlanguage-textascode-prop-typing\" style=\"position:relative;\">Abstracting the <code class=\"language-text\">as</code> Prop Typing<a href=\"#abstracting-the-code-classlanguage-textascode-prop-typing\" aria-label=\"abstracting the code classlanguage textascode prop typing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">as</code> prop pattern — rendering as any desired element — isn’t unique to <code class=\"language-text\">Text</code>. Components with abstract concerns like a <code class=\"language-text\">Grid</code> layout component would all need this capability.</p>\n<p>But if every developer had to manually add <code class=\"language-text\">as</code> to their props and think through generic inference relationships each time, it would be quite painful.</p>\n<p>So we need to abstract this part as much as possible so that other components can easily add the <code class=\"language-text\">as</code> prop. Something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Text component properties</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// OverridableProps automatically includes the as prop for type inference</span>\n<span class=\"token comment\">// and types HTML element attributes based on T!</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">OverridableProps</code> abstracts only the part where a component receives an HTML element name via <code class=\"language-text\">as</code> and internally finds and binds the corresponding element attribute types.</p>\n<p>With this abstraction, other developers don’t need to think about using <code class=\"language-text\">ComponentPropsWithoutRef</code>, constraining <code class=\"language-text\">T</code> to <code class=\"language-text\">ElementType</code> in <code class=\"language-text\">Combine</code>, or other tedious details — they can just add the <code class=\"language-text\">as</code> prop quickly and easily. <small>(…he said, optimistically.)</small></p>\n<p>Now let’s refine what we built earlier to create <code class=\"language-text\">OverridableProps</code>.</p>\n<p>The <code class=\"language-text\">Combine&lt;T, K></code> utility type we created earlier has no constraints on its generics, but <code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code> — representing the HTML element attributes we need to merge — restricts its generic to <code class=\"language-text\">ElementType</code>.</p>\n<p>So first, we need to bridge this gap:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">K</span><span class=\"token punctuation\">,</span>\n  ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// Hide the existence of ComponentPropsWithoutRef</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span>\n  CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">CombineElementProps</code> constrains one of the two types being merged to represent an HTML element, then passes it directly to <code class=\"language-text\">ComponentPropsWithoutRef</code>, preventing type mismatch errors.</p>\n<p>By defaulting the <code class=\"language-text\">K</code> type variable to <code class=\"language-text\">unknown</code>, we ensure that users of this utility type must provide the component’s properties for <code class=\"language-text\">K</code>.</p>\n<p>For the same reason, <code class=\"language-text\">TextProps</code> — which passes generics to <code class=\"language-text\">CombineElementProps</code> — must also constrain its type to <code class=\"language-text\">ElementType</code>. Then we use <code class=\"language-text\">CombineElementProps</code> to define <code class=\"language-text\">OverridableProps</code>, which adds the <code class=\"language-text\">as</code> prop:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// The as prop with generic type inference is now included.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now with <code class=\"language-text\">OverridableProps</code>, you just pass the desired <code class=\"language-text\">ElementType</code> and your component’s custom properties to conveniently create a type with the <code class=\"language-text\">as</code> prop.</p>\n<h2 id=\"full-code-at-a-glance\" style=\"position:relative;\">Full Code at a Glance<a href=\"#full-code-at-a-glance\" aria-label=\"full code at a glance permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Since it’s hard to follow the full picture when code and explanations alternate, here’s the complete code in one place:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Combine<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token operator\">&amp;</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">keyof</span> <span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> Combine<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">K</span><span class=\"token punctuation\">,</span>\n  ComponentPropsWithoutRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">unknown</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">as</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">&amp;</span> CombineElementProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">K</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">TextBaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  typography<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> OverridableProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> TextBaseProps<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">Text</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> ElementType <span class=\"token operator\">=</span> <span class=\"token string\">'span'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> typography <span class=\"token operator\">=</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">as</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> TextProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> Ref<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> <span class=\"token keyword\">as</span> <span class=\"token operator\">??</span> <span class=\"token string\">'span'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> Component <span class=\"token operator\">=</span> target<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Component\n      ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span>\n      <span class=\"token comment\">// Typography class rendering logic here</span>\n      <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span>Text<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">typeof</span> Text<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When I was first “chosen” to develop the <code class=\"language-text\">Text</code> component, I honestly didn’t take it too seriously. It’s just one component without any grand functionality — I figured it’d be quick. Turns out the typing was tougher than expected.</p>\n<p>I use TypeScript in both my day job and personal projects, but I rarely have to write deeply nested generic types with layered inference like this. Usually I’d just ask Google, somehow solve it, and forget about it.</p>\n<p>One thing I learned through this struggle is that <code class=\"language-text\">@types/react</code> isn’t actually that hard to read. It’s worth browsing through when you have some time.</p>\n<p>The <code class=\"language-text\">ComponentPropsWithoutRef</code> type I used heavily has an internal chain of 4-5 type references. Just tracing through those referenced types reveals plenty of useful types for everyday work:</p>\n<blockquote>\n<p><code class=\"language-text\">ComponentPropsWithoutRef&lt;T></code> > <code class=\"language-text\">PropsWithoutRef&lt;T></code> > <code class=\"language-text\">ComponentProps&lt;T></code> > <code class=\"language-text\">JSX.IntrinsicElements[T]</code> > …(and a few more)</p>\n</blockquote>\n<p>The file is around 3,000 lines, which might feel daunting, but if you follow the type reference chain like I did, you’ll find the number of core types isn’t actually that large. Plus, types like <code class=\"language-text\">IntrinsicElements</code> — which hold HTML element names as keys — take up a significant chunk of those lines.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 523px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 86.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42p1U13LiMADM/3/jgbvc5N5N2ezKXOYejhCiGY0woNU2+eNyuWDfd2xNizoxGPMCU2FhoxhtVaPvB9R1g6quUfF5nBZ8Nz7+At5uN5TWIogidKVFZzI0BOj6HtfrFT8dDnDbNvewcvWDAEmaoiTYn9MZnu/D2gpZljuGbwFqDYIQhoB5WTrwtu1wOnsEP6FpWwzjiGmanrL+knylZG0wJkVHRgO9bOmbWLddh45znme39sMA7fsWUENsPM9HQ7AmoWyukrnvx+b7/f4LyWGEhCwt2UlyFMfOv5Df26p6H1Ab5WHBpEMm3rBOQRi6cGSJ5A5O8gsPtSrNhF3s8xIjJQ/0S78piJFBLMviaqTnl6FoTDRdbAp5VxRI4sSFJCABPAviZW0SY1jy6ugkPwv06KN9s9jr6him8rAoEZNh2x4eytu6adyUly9rI5OzPGeiGeaM95lXT1L3x4H6n2QvPFRTV/U5w4eHR20OyQrozE6ePc+lqlB0Q96ULA8DSs5QsjYR3zi5wuEB8rZ69FD9vj8pugNc/wGUbyYx7s0Tkq089Omfx4P0CpO3Yj/Oq7tF8v2/Hmp6ZJETcMlKdGQpkJTgGb8f+pGpRy750JQs+Oj2yOdt278APwHFyiI78x0EuwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"typesafe actions\" title=\"\" src=\"/static/39be8850618810d1ad5bd7e3d45ddd2d/3e286/typesafe-actions.png\" srcset=\"/static/39be8850618810d1ad5bd7e3d45ddd2d/69538/typesafe-actions.png 160w,\n/static/39be8850618810d1ad5bd7e3d45ddd2d/72799/typesafe-actions.png 320w,\n/static/39be8850618810d1ad5bd7e3d45ddd2d/3e286/typesafe-actions.png 523w\" sizes=\"(max-width: 523px) 100vw, 523px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Honestly, compared to <a href=\"https://github.com/piotrwitek/typesafe-actions/blob/master/src/type-helpers.ts\" target=\"_blank\">typesafe-actions</a>, React's type readability is quite generous.<br>That place is pure chaos...</small>\n</center>\n<p>That wraps up this post on designing extensible components with TypeScript.</p>","fields":{"slug":"20201128-making-your-components-extensible-with-typescripten","path":"/2020/11/28/making-your-components-extensible-with-typescript/en/","lang":"en"},"frontmatter":{"title":"Designing Extensible Components with TypeScript","subTitle":"Flexible React component design using generics and type inference","date":"Nov 28, 2020","categories":["Programming","Architecture","JavaScript"],"tags":["React","TypeScript","Generic Type"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/471db2e1aa1eff1dab0d1d6d36e45405/3a812/thumbnail.jpg","srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/3a812/thumbnail.jpg 320w,\n/static/471db2e1aa1eff1dab0d1d6d36e45405/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/fc5c5/thumbnail.webp 320w,\n/static/471db2e1aa1eff1dab0d1d6d36e45405/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/471db2e1aa1eff1dab0d1d6d36e45405/2d839/thumbnail.jpg","srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/471db2e1aa1eff1dab0d1d6d36e45405/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"a670b023-5d3b-59cb-a217-8dbd6c594eba","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-basics-of-cors\">The basics of CORS</a></p>\n<ul>\n<li><a href=\"#what-is-origin\">What is Origin?</a></li>\n<li><a href=\"#sopsame-origin-policy\">SOP(Same-Origin Policy)</a></li>\n<li><a href=\"#same-origin-and-different-origin\">Same origin and different origin</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#how-does-works-cors\">How does works CORS?</a></p>\n<ul>\n<li><a href=\"#preflight-request\">Preflight Request</a></li>\n<li><a href=\"#simple-request\">Simple Request</a></li>\n<li><a href=\"#credentialed-request\">Credentialed Request</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#how-to-solve-cors-policy-violations-problem\">How to solve CORS policy violations problem.</a></p>\n<ul>\n<li><a href=\"#setting-access-control-allow-origin\">Setting Access-Control-Allow-Origin</a></li>\n<li><a href=\"#reverse-proxying-with-webpack-dev-server\">Reverse proxying with Webpack Dev Server</a></li>\n<li><a href=\"#wouldnt-it-be-possible-to-put-the-request-in-the-img-tag\">Wouldn’t it be possible to put the request in the img tag?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#epilogue\">Epilogue</a></p>\n</li>\n</ul>","excerpt":"In this post, I’m going to talk about the CORS(Cross-Origin Resource Sharing) policy which every web developer would have heard of at least once. In fact, in web development, it is not an exaggeration to say that errors occur with CORS policy violations are very common, and every web developer will…","html":"<p>In this post, I’m going to talk about the CORS(Cross-Origin Resource Sharing) policy which every web developer would have heard of at least once. In fact, in web development, it is not an exaggeration to say that errors occur with CORS policy violations are very common, and every web developer will experience it at least once.</p>\n<p>When I was in college, I first encountered this issue while making a toy project with my friends. At the time, I was making a client application in a local environment, and I tried to communicate with the API of a development server made by a friend.</p>\n<p>This was a simple task to communicate with the API server to receive data, but as soon as I tried to communicate, an unknown red message appeared on the console.</p>\n<blockquote>\n<p>🚨 Access to fetch at ’<a href=\"https://api.lubycon.com/me\" target=\"_blank\" rel=\"nofollow\">https://api.lubycon.com/me</a>’ from origin ‘http://localhost:3000’ has been blocked by CORS policy: No ‘Access-Control-Allow-Origin’ header is present on the requested resource. If an opaque response serves your needs, set the request’s mode to ‘no-cors’ to fetch the resource with CORS disabled.</p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABAD/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAQoJBIk23//EABsQAAICAwEAAAAAAAAAAAAAAAECABEDEjEz/9oACAEBAAEFAkaiVXSpj6PQAT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAABECD/2gAIAQEABj8CcE//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMRBBcbH/2gAIAQEAAT8hSv8AJSUAnYb4bfI2i8XEGSf/2gAMAwEAAgADAAAAEOwP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/EByf/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAECAQE/EDWb/8QAGhABAQEBAQEBAAAAAAAAAAAAAREAIWFRcf/aAAgBAQABPxB6coHKy1h6dHhua+ZKr7xKkCF5lSK383//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"what\" title=\"\" src=\"/static/34d40d58a5f3a94ac3dce372aa54cd71/c08c5/what.jpg\" srcset=\"/static/34d40d58a5f3a94ac3dce372aa54cd71/0913d/what.jpg 160w,\n/static/34d40d58a5f3a94ac3dce372aa54cd71/cb69c/what.jpg 320w,\n/static/34d40d58a5f3a94ac3dce372aa54cd71/c08c5/what.jpg 640w,\n/static/34d40d58a5f3a94ac3dce372aa54cd71/80e3c/what.jpg 720w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>CO...What...? Access control allow origin...?</small>\n</center>\n<p>If I think about it now, it’s an error message that kindly tells me how to fix it, but I didn’t know what to do after seeing this message because I had little experience in developing web applications at the time.</p>\n<h2 id=\"the-basics-of-cors\" style=\"position:relative;\">The basics of CORS<a href=\"#the-basics-of-cors\" aria-label=\"the basics of cors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>As such, all of the CORS-related issues we encounter arise from violations of CORS policies. Developers may be annoyed as there are more things to care about when developing because of that policy, but in fact, there is a barrier like CORS, so we can get a minimum guarantee that the resources we bring from other server are safe.</p>\n<p>CORS is short for “Cross-Origin Resource Sharing”. Actually “Cross Origin” means “Different Origin”. but I think that non-English people hard to understand this because we don’t understand the nuances of the English word “Cross”.</p>\n<p>So I’m writing this post using the word “Different origin” instead of “Cross Origin” for a little easier understanding of non-English speaking people like me.</p>\n<p>Then, before looking at the resource sharing between different origins, let’s simply dig into what exactly this <code class=\"language-text\">Origin</code> means and proceed.</p>\n<h3 id=\"what-is-origin\" style=\"position:relative;\">What is Origin?<a href=\"#what-is-origin\" aria-label=\"what is origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>URLs like <code class=\"language-text\">https://google.com</code>, which means the location of the server, look like a single string, but are actually made up of several components.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVR42h2MX0+CcAAA+f6PPbae6qG1XGuKytLE0JW62nKaGvkPDIQE4YdoU9CLtd12u5eTzu47XFSGeJsDJCdadQM590qzOmUfgxMbKN0cxbcbpmKIOzBoXSt08xqd2xpiPMbvFdHVK8LhI1LP8Jk4EftsRsba22HO1qzcmGMKv8cYOzRZ+FM2qWAf7fCNJYHhElgrku2GJLLYOmMSYSP1TcHsZ4tpBlhGgGOJzAJ7EWKZ4b8d8Z1N5wT2D2KxIlr6rOcOke0RZB27LgdvwilNkM4rIy61GaXyEK2sUyuOqCs6VXnAk/KF+tCnNpBR9QJdrYFeavOptBnIz/TzDT4KLyyaKv77Hek24A//mh4jJrvfIAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"uri structure\" title=\"\" src=\"/static/e25190005d12938c253cc72ca06777b1/6af66/uri-structure.png\" srcset=\"/static/e25190005d12938c253cc72ca06777b1/69538/uri-structure.png 160w,\n/static/e25190005d12938c253cc72ca06777b1/72799/uri-structure.png 320w,\n/static/e25190005d12938c253cc72ca06777b1/6af66/uri-structure.png 640w,\n/static/e25190005d12938c253cc72ca06777b1/d9199/uri-structure.png 960w,\n/static/e25190005d12938c253cc72ca06777b1/21b4d/uri-structure.png 1280w,\n/static/e25190005d12938c253cc72ca06777b1/5bd27/uri-structure.png 1432w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <br>\n</center>\n<p>The origin means protocol and host, and port numbers such as <code class=\"language-text\">:80</code> and <code class=\"language-text\">:443</code>. In other words, it puts together the most basic things we need to find the location of the server.</p>\n<p>Also, as shown in the figure above, the port number in the origin can be omitted, because the default port number of the HTTP and HTTPS protocols used in each web is set. We can find the default port number defined in the <a href=\"https://tools.ietf.org/html/rfc2616#section-3.2.2\" target=\"_blank\" rel=\"nofollow\">RFC 2616</a> document where HTTP is defined.</p>\n<blockquote>\n<p>3.3.2 http URL</p>\n<p>…<br />\n<strong>If the port is empty or not given, port 80 is assumed.</strong> The semantics are that the identified resource is located at the server listening for TCP connections on that port of that host, and the Request-URI for the resource is abs_path (section 5.1.2).<br />\n…</p>\n</blockquote>\n<p>If a port number is explicitly included in the origin, such as ”<a href=\"https://google.com:443\" target=\"_blank\" rel=\"nofollow\">https://google.com:443</a>”, it is recognized that the origin is the same only if all port numbers match. However, since clear rules for this case are not established as standards, the evaluation of the origin may vary in some cases.</p>\n<p>We can easily find out origin which application is running from by accessing the <code class=\"language-text\">origin</code> property of the <code class=\"language-text\">Location</code> object from the browser’s developer tools console.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">\"https://evan-moon.github.io\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"sopsame-origin-policy\" style=\"position:relative;\">SOP(Same-Origin Policy)<a href=\"#sopsame-origin-policy\" aria-label=\"sopsame origin policy permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>There are two policies in the web ecosystem that limit requests for resources from other origins. One is CORS, the topic of this post, and the other is SOP(Same-Origin Policy).</p>\n<p>SOP is a web security policy first defined by <a href=\"https://tools.ietf.org/html/rfc6454#page-5\" target=\"_blank\" rel=\"nofollow\">RFC 6454</a> in 2011. It is literally a policy with the rule that “you can only share resources from the same origin”.</p>\n<p>However, the web is an open space environment, and it is very common to bring and use resources from different origins, so it cannot be banned without exception. So they defined some exception cases and decided to allow requests for resources contained in these exceptions, even if the resources originate differently. One of the exceptions is “request for a resource that does not violate the CORS policy”. <small>(The name CORS first appeared in 2009, which is faster than SOP.)</small></p>\n<blockquote>\n<p>Access to network resources varies depending on whether the resources are in the same origin as the content attempting to access them.</p>\n<p>Generally, reading information from another origin is forbidden.\nHowever, an origin is permitted to use some kinds of resources retrieved from other origins. For example, an origin is permitted to execute script, render images, and apply style sheets from any origin.  Likewise, an origin can display content from another origin, such as an HTML document in an HTML frame. <strong>Network resources can also opt into letting other origins read their information, for example, using Cross-Origin Resource Sharing.</strong></p>\n<p><a href=\"https://tools.ietf.org/html/rfc6454#section-3.4.2\" target=\"_blank\" rel=\"nofollow\">RFC 6454 - 3.4.2 Network Access</a></p>\n</blockquote>\n<p>If we request a resource from a different origin, it violates the SOP policy, and if we do not comply with the CORS policy, which is an exception to the SOP, the resource of a different origin cannot be used at all.</p>\n<p>In other words, the act of restricting the use of resources of different origins is not a matter determined by only one policy. If the exception case defined in the SOP and the cases that can use CORS do not match, we may can not use resources from other origins.</p>\n<p>But why are these people making such annoying policies to bother developers? As we know, the developer would write the code to communicate only with the specified server anyway.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 436px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVR42n2SSY8BURSF679b2FlYCRsrFoYQiTKEhZipUkgtSMxCRIUgZl73R3UjnVTfxctL3jn3nHvuk/r9vqZp9Xq92WxOp9PZbGYYxna7FUJ8/VsApG6322g0yuUytOVyyZ0WnJ1OB8TxeLzf75bkYrEYi8UqlQpq7Xa7Wq3SDi+ZTGa9XtNuv99bkvP5fCKRqNVq0CDrup7NZoPBoKIo3AG9lMVvvcmlUkl7Fnzmx0IkErHZbF6vN5lMmiBL5V6vh6Df7+dyOp0YweVy2e12h8PhdDpvt5sJxTxZEMRgMHiTd7sdUXs8nsViAYIIotEoLRgHMqDD4TCZTDBFihhUVZVor9crT5L+rEKhsNlsAPEQCoUYO51OswJTczQajcdjXhEfDodc2MKD3Gq1fD4f2a5WK0wCRWE+n8O0WtLbNjnhUJZlNkRXJue3oExar6/Ceblc6PUZ+E/axItt5VmYT6VSbrc7Ho8TOKsGhyMSOZ/Pn+E/yKw0l8vRArdoYjscDpsDBwIBjJg4EvqzMyHEN7KqfRhZKKGAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"trust\" title=\"\" src=\"/static/b7814fc71828e37d43c7516e4d1314ab/8574c/trust.png\" srcset=\"/static/b7814fc71828e37d43c7516e4d1314ab/69538/trust.png 160w,\n/static/b7814fc71828e37d43c7516e4d1314ab/72799/trust.png 320w,\n/static/b7814fc71828e37d43c7516e4d1314ab/8574c/trust.png 436w\" sizes=\"(max-width: 436px) 100vw, 436px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Can't you just trust the developer...?</small>\n</center>\n<p>However, if we think about it a little more, the environment in which two applications in different origins can communicate freely is a pretty dangerous environment.</p>\n<p>We must not forget that client applications, especially client applications running on the web, are too vulnerable to malicious attacks from users.</p>\n<p>When users use Chrome’s developer tools, they can check without any restrictions on a number of important information, such as the structure of the DOM, which server the client communicates with, and where the resource comes from.</p>\n<p>Some say it’s hard to read because we uglify the JavaScript source code, but uglify is only uglify, not encryption.</p>\n<p>And even if the source is uglified, it’s not even incomprehensible to humans, and being able to directly view the source code is a very dangerous part of security.</p>\n<p>In this situation, if there are no rules for applications of different origins to communicate with each other, then the bad user can reads the source code and uses a method like <a href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery\" target=\"_blank\" rel=\"nofollow\">CSRF(Cross-Site Request Forgery)</a>나 <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" target=\"_blank\" rel=\"nofollow\">XSS(Cross-Site Scripting)</a> to pretend the code was executed in your application.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOklEQVR42h2U6VOb1xXG34+1IXZKIA7E7ELbqw3QBpLQDgKtaEP7hgRCGIyDTcDO4mbB43ZiY8fJOElrT1s3JomXJDNO63xIZzxtPfmrfr2TD2feO/c955nnPOc5Vxo9bWGoZ5rB3mmG+qwo+21o+q2Yxr045EWW7DnqS5ts5Q9oxM5Rim6xGDnPbOoAg7OFWk4xPOShX2D0ntAhjffMMt7vQTnkY3xgFtWgA+OwkxllgIAxzlpii92dI/zeIhF3jlaqQ75wBU/2ALu3hVEfRx4LMNAzRV+XEUkeWmJidF6EF9WwC51gZlGHcJoSRJwFGpU/4LDlOKps86/PH9As7lCrXSGauYTLWWHKlMYgx1Eqwpwd8CBZ5AImXQq9NoJBu4jZEBcABfxzdSKBFirdMiGDl0/XLvHggxuU0xvk8rsko+fwuOrYXU2mZhvorWWUchLJ59rA5aoy68jjcORwO3MEgk3CS21i4Q3OvDlLyuzluwuH/HLzz1y9eEg82iSb2CYitA2E2rhEvt1dwSY6kgqhfZKBLZLBDqng+m+RXdiknr7MWv59oVEWs8LMwwtXebL/CdvVPfILbdaFhuXINvnQJunf6tokxFdq2S5TmBRCT7UpWTvkJlusBi5ybuMu5dw1MtH3UEyEsSkdhF1RMkK3Ded56rYOdfMaeWOV/GSToqXDimUTqW65TEq3yrK+SkxfIGbI0SxcI527js8v2oruEgjsoJcTDA45WDQVWDGUBIEqUTlLwlAhZqoRMTVIWDaQyuaLJOV1otoKcXmFqDFHu3mLRvMzMplDPO4WoUUxhPQ+s84aobDIXzogPFljQeQ7FAn8+hIBUx2vro4UVlSJqJuk9GuExjO4JzM0WncoVsREazfw+7ZwOhqEhZmdzjru+R1cCx08tnV86jQBfZGpsWXc2jJh0xpSaXqPrHGLqKpJQJHDPJUjnfmAWOx9YtF3mBcA7jnxz9fG42kzaSkj68IEvdvMjERERw3hgm28qnVCmm2kqnmPiKpFTFknZVhHFl6ac68LZptYbBVRHMUgNsZsEe05myjGfRgE4Jyrw4JGSKBep+Z4hw3/TXK260hxVYOliToZfZuq7QJabUIUFxgWW9PXo+GNPh29vTJnzhh4rc+ASXayFDrPnHcLj7pBcKzKvKJBxb5HybaP5B1KE1bXWLW/RVCuoJlcEYySwipR3nxdj10bZPTsDD2vTjAx5kWtCmG25jHbK8xM5HENruAbLeIeEZM3X0ByD6ep23eIjBUxjyToF8y0wsyjijiviRfoZNc4r3SP0d09yunTKvr7pxk4a0ejXMA+ssLMwAp+AeYbreEbqSE1gpeI21q4lVlmNEl0kyki2XeJJHfFKtVw+1fx+8s4PEUmp+dRquwYJ0KURV1IaL48vSVavUjJeYXUzFtIuxuf8vjrn7l8/g73vvqJu1/+zMF79/j46Dt+/P4l9/7xgmfPXvLo6a88++evPPnhvzy6/ws/fPOS29ee8s2959x695jn3/+Pm/t3kTqrh9z46AF/vf2Iq29/xZPjf3P04Rf86aP7HH3ymNs3n/Lj8X+48fFDrh8e8+3fXnD/L895evyCv996LHIfcOePD7l9/Vv20gdI1okEVmUSvzGDeTiMTiu0cS4zbYmgNUaxzdWYdWWR9SEhRwybY4UpcR82lng7+yE55zZLpjIBYex5TRHp7EkbQ112Bk5YGRTngVfsnOq1cqJbSdcpJd2n1fS9MS0sY6T71DgnRbx+Souyy0NQUyLr6DDyOyfy7/2oX/Xwf+8f/ytffeuZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hacker\" title=\"\" src=\"/static/8d7b67f798121b900eda125cf4e20698/6af66/hacker.png\" srcset=\"/static/8d7b67f798121b900eda125cf4e20698/69538/hacker.png 160w,\n/static/8d7b67f798121b900eda125cf4e20698/72799/hacker.png 320w,\n/static/8d7b67f798121b900eda125cf4e20698/6af66/hacker.png 640w,\n/static/8d7b67f798121b900eda125cf4e20698/c5bb3/hacker.png 680w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  </div>\n  <small>I think that gonna be fun to inject my script on this site...!\n  <br>\n  <br>\n</small></center>\n<p>Now, we keep talking on the subject of the same origin and different origins, so exactly in what cases does the web evaluate the origins as the same, and in what cases does the origins differ?</p>\n<h3 id=\"same-origin-and-different-origin\" style=\"position:relative;\">Same origin and different origin<a href=\"#same-origin-and-different-origin\" aria-label=\"same origin and different origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The logic for determining that the two origins are the same is very simple. Among the components of the two origins, only the three components, scheme, host, and port, need to be the same.</p>\n<p>For example, the origin of my blog, <code class=\"language-text\">https://evan-moon.github.io</code>, is recognized as the following.</p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th>isSame</th>\n<th>reason</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.io\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io</a></strong>/about</td>\n<td>O</td>\n<td>Scheme, Host, Port is same</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.io\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io</a></strong>/about?q=안뇽</td>\n<td>O</td>\n<td>Scheme, Host, Port is same</td>\n</tr>\n<tr>\n<td>**https://**user:password@<strong>evan-moon.github.io</strong></td>\n<td>O</td>\n<td>Scheme, Host, Port is same</td>\n</tr>\n<tr>\n<td><strong><a href=\"http://evan-moon.github.io\" target=\"_blank\" rel=\"nofollow\">http://evan-moon.github.io</a></strong></td>\n<td>X</td>\n<td>Scheme is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://api.github.io\" target=\"_blank\" rel=\"nofollow\">https://api.github.io</a></strong></td>\n<td>X</td>\n<td>Host is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.naver.com\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.naver.com</a></strong></td>\n<td>X</td>\n<td>Host is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.com\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.com</a></strong></td>\n<td>X</td>\n<td>Host is different</td>\n</tr>\n<tr>\n<td><strong><a href=\"https://evan-moon.github.io:8000\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io:8000</a></strong></td>\n<td>?</td>\n<td>Depends on browser spec</td>\n</tr>\n</tbody>\n</table>\n<p>In the last case, if my blog origin has a port number, such as <code class=\"language-text\">https://evan-moon.github.io:80</code>, it is evaluated as a clearly different origin. However, in this case it is ambiguous to judge because the port number is not included to example origin. RFC 6454’s <a href=\"https://tools.ietf.org/html/rfc6454#section-5\" target=\"_blank\" rel=\"nofollow\">Comparing Origins</a> section presupposes “If the two origins are scheme/host/port triples…”, and the implementation of this rule may vary depending on how it is interpreted.</p>\n<p>So in this case, each browser’s own origin comparison logic is followed.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAYAQACAwAAAAAAAAAAAAAAAAABAgADBP/aAAwDAQACEAMQAAABis00VbKEbqzBAB//xAAcEAACAgIDAAAAAAAAAAAAAAABAgADEjETISP/2gAIAQEAAQUCzsmdhis0K97Ka4/RQUZa5//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASH/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BWNa//8QAGxAAAQUBAQAAAAAAAAAAAAAAAAECESIxMnH/2gAIAQEABj8CW7jtx0oueSVaYSS1TT//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhQVFhwf/aAAgBAQABPyFdZULuXQ0dldvA9gdFwBIRa0sQL12USnHK+ym26rJMTe/J/9oADAMBAAIAAwAAABDgyD3/xAAYEQEBAQEBAAAAAAAAAAAAAAABABEhMf/aAAgBAwEBPxDV3seQAgL/xAAYEQADAQEAAAAAAAAAAAAAAAAAARExUf/aAAgBAgEBPxCLgi4U3BtT/8QAHBABAQEAAwADAAAAAAAAAAAAAREAIUFRYYHx/9oACAEBAAE/EBMhgH65SElvN02lhzfRnCKbYVl06i8UTESR6V4YBZtplevlouawqR+89wVav73/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ie is trash\" title=\"\" src=\"/static/a21288d9ab75a6714b1f5a752d171ce4/c08c5/ie_is_trash.jpg\" srcset=\"/static/a21288d9ab75a6714b1f5a752d171ce4/0913d/ie_is_trash.jpg 160w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/cb69c/ie_is_trash.jpg 320w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/c08c5/ie_is_trash.jpg 640w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/6a068/ie_is_trash.jpg 960w,\n/static/a21288d9ab75a6714b1f5a752d171ce4/fb914/ie_is_trash.jpg 998w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  </div>\n  <small>\n    Internet Explorer is the only browser that completely ignores port numbers when comparing origins.<br>So let's throw it to the trashcan now.<br>\n    <a href=\"https://www.memedroid.com/memes/detail/2429165/internet-explorer-is-crap\" target=\"_blank\">- memdroid -</a>\n  </small>\n  <br>\n  <br>\n</center>\n<p>The important thing is that this origin comparison logic is not a specification implemented in the server, but a specification implemented in the browser.</p>\n<p>Even if we make a request for a resource that violates the CORS policy, the server responds normally unless the server has logic that only allows requests from the same origin. And the browser checks the headers of this response, and if it determines that the request it sent violates the CORS policy, the response is discarded without using the response.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVR42lWSS0/CQBSF+b1ujAaBCiSAsDea4IKF8gtcmBCjwQcrg4muNJEYIlCoIH2ldMp0Oj3eKeDjNqd3krn97pneSUVRBMZ8cM7Bl8uVaL2krPZUxPF/qXAcC2N9iPF4QllHv98nDkOKcwVhkFIiomqpRGtBsHDpQfI5PHsE3x1T1ilPCGejc3MBLbuNXG4f1eoBCoUCBoMBUkII6rpuO52ttHYlQoZYeBAEXrhf8NwZAmbDF3O02y1k93aQ0zRUKhUUi0Xo5DQBqq/V0+1eY/TUIpwgp/QOTMTcIJc2QjaDYHMw38DL7Bmtq3PktQzy+QJqtRrK5fIvcOPwPfqEFX0kDcL7O/DTM4jXN8iNZQr1O1R0bi+xt7uFdDqDUqkEjZwOh8MVUEkVxmQrpvogCGBSt2mvB2c6RahOgTiRlKtBPXYfcHx0iHr9BM1mE41GA4ZhIKU2XddN5LgOTc+GZVlY0MTkGvMz2j8R0C0wTSupdRwHvu8nJ/0GiJD+Yn5vu6MAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cors\" title=\"\" src=\"/static/d4d623ba331c1d7851e7000c11cd3809/6af66/cors.png\" srcset=\"/static/d4d623ba331c1d7851e7000c11cd3809/69538/cors.png 160w,\n/static/d4d623ba331c1d7851e7000c11cd3809/72799/cors.png 320w,\n/static/d4d623ba331c1d7851e7000c11cd3809/6af66/cors.png 640w,\n/static/d4d623ba331c1d7851e7000c11cd3809/d9199/cors.png 960w,\n/static/d4d623ba331c1d7851e7000c11cd3809/21b4d/cors.png 1280w,\n/static/d4d623ba331c1d7851e7000c11cd3809/f4fb1/cors.png 1766w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>The server responds normally even if the request violates CORS,<br>and the browser decides whether to discard the response</small>\n</center>\n<p>In other words, CORS is a policy included in the browser implementation specification, so this policy does not apply when communicating between servers without going through a browser. so, even if an error occurs in the client application due to a resource request that violates the CORS policy, only logs about succeessful responded is recorded in server. So if we don’t know exactly how CORS works, it can be difficult to solve CORS problem.</p>\n<h2 id=\"how-does-works-cors\" style=\"position:relative;\">How does works CORS?<a href=\"#how-does-works-cors\" aria-label=\"how does works cors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Now, we will have a close look at how we can safely use resources with different origins.</p>\n<p>Basically, when a web client application requests a resource of a different origin, the HTTP protocol is used, and the application includes the origin of the current resource request in the <code class=\"language-text\">Origin</code> field in the request header.</p>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\"><span class=\"token header\"><span class=\"token header-name keyword\">Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evan-moon.github.io</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Thereafter, when the server responds to this request, it returns the “origin allowed to access this resource” in the “Access-Control-Allow-Origin” field of the response header. And the browser compares the <code class=\"language-text\">Origin</code> in the request header sent by itself with the <code class=\"language-text\">Access-Control-Allow-Origin</code> in the response header sent by server, and determines whether this response is a valid response.</p>\n<p>Although the basic flow of CORS is simple, in fact, the way CORS works is changed according to three scenarios rather than one. That’s why it will be easier to fix errors due to CORS policy violations if we understand what scenario our resource request is in.</p>\n<h3 id=\"preflight-request\" style=\"position:relative;\">Preflight Request<a href=\"#preflight-request\" aria-label=\"preflight request permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Preflight is the most common scenario we encounter when developing web applications. In this scenario, the browser does not send the request at once, but divides it into a preflight request and a main request and sends them to the server.</p>\n<p>And for this preflight request, the HTTP method <code class=\"language-text\">OPTIONS</code> is used. The role of the preflight request is to make sure it is safe to send this request by the browser itself before sending it.</p>\n<p>This process can be roughly expressed as a simple flow chart.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVR42mNgYGDQBGJDIBZmgABGKAYBQVYGBgMuBgZJEKeegYHpP1QORP9HUsvJwCANpNRBbBYIHyzBdOnSJT0g1oAayATE3EgW4ANAuxnYQAxmIOYDYnaQ4MaNGyN37NjhAzZERYXdhYFB6ikDA9f/GzdE/q1dK7OnsFB6e1WV5ImyMpnN6enS/48ckfp/9KjYFAYGnmKI5WADOZCtgnqH5b+WFlsbMCj0gAof3Lu36ea1ay/279595+jhw/fOnDx579CBA3euX7364tXz5xtBPing4pLEMPD///+MjywsOIEGqgGxai4PjyhI/OrVq84fvnyp/fbjR9mtu3crHj99Wv7t16+yV2/e1F+5ccMGFDy9fHxCWF2I5EqmdCEhUGAz3rl2LfLB7dvPH929e/fEkSMPTgLx/du37zy6d+/N7y9f3EBqFikpieE0EGgkOCKiVcz4nuu5cm8y9uGqF1LhywWGNTC2WSBYnmOimQffc9di7lVKxvxpxsZceAyEAPHAbjEG7wpBhtB6HoaYRdxbDp2IPHL2Ytne4+cq9py4GMLAEMomFL2Yj8E4UJLbtRjVhaDwq6//zwQ2qe2/MHvzf0V5+3wBZAsunz2u+ebxY4tbF89YXDx1Sh052cgkz8Ydhgz1/7l4J/8XFrKIk+bn1xdgAHobjIEad+4+kHXg8NE0kDJR+1Aecb0Ybn45G0GZ0F6wgSyCgoL8IMaxY8d0b926FXLjxo1QIFYEiUk5xwprZe3nUZl4i92i9xgniN26bI9467JL4sb1T7nk6/dz2M//z6EUOpNf1D6LB2wgLy8vONvt3LnTeM+ePTG7du2KnT9/KSi3MAoJCfGRk1PY8SgEBkc9EyLm/zNiskHAGGwgAL767TM7F884AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cors preflight\" title=\"\" src=\"/static/c86699252752391939dc68f8f9a860bf/6af66/cors-preflight.png\" srcset=\"/static/c86699252752391939dc68f8f9a860bf/69538/cors-preflight.png 160w,\n/static/c86699252752391939dc68f8f9a860bf/72799/cors-preflight.png 320w,\n/static/c86699252752391939dc68f8f9a860bf/6af66/cors-preflight.png 640w,\n/static/c86699252752391939dc68f8f9a860bf/d9199/cors-preflight.png 960w,\n/static/c86699252752391939dc68f8f9a860bf/21b4d/cors-preflight.png 1280w,\n/static/c86699252752391939dc68f8f9a860bf/2b36a/cors-preflight.png 2268w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>브라우저는 본 요청을 보내기 전 예비 요청을 먼저 보내고, 요청의 유효성을 검사한다</small>\n</center>\n<p>When we use JavaScript’s fetch API to tell the browser to fetch a resource, the browser sends a preflight request before sending the main request to the server. And in response to this preflight request, the server sends back to the browser with information about what was allowed and what was banned in the response header.</p>\n<p>After that, the browser compares the preflight request sent by itself with the permission policy included in the response from the server, and if it determines that it is safe to send main request, it sends the request again to the same endpoint. Then, when the server responds to this main request, the browser finally passes this response data to JavaScript.</p>\n<p>This flow can be reproduced simply in the browser’s developer tools console. In my blog environment, if we send a request to the RSS file resource of my Tistory blog, we can check that the browser sends a preflight request using the ʻOPTIONS` method before sending main request.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> headers <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Headers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'text/xml'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://evanmoon.tistory.com/rss'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> headers <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">OPTIONS https://evanmoon.tistory.com/rss\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">*/*</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept-Encoding</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">gzip, deflate, br</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept-Language</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">en-US,en;q=0.9,ko;q=0.8,ja;q=0.7,la;q=0.6</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Request-Headers</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">content-type</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Request-Method</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">GET</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Connection</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">keep-alive</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Host</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">evanmoon.tistory.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evan-moon.github.io</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Referer</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evan-moon.github.io/2020/05/21/about-cors/</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Sec-Fetch-Dest</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">empty</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Sec-Fetch-Mode</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">cors</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Sec-Fetch-Site</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">cross-site</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If we check the header of the preflight request sent by the browser as in the example above, we can see that information on the main request to be sent after the preflight request is also included, not just information about <code class=\"language-text\">Origin</code>.</p>\n<p>The browser notice to server that it will use the <code class=\"language-text\">Content-Type</code> field or the <code class=\"language-text\">GET</code> method in the main request through the <code class=\"language-text\">Access-Control-Request-Headers</code> field or the <code class=\"language-text\">Access-Control-Request-Method</code> field of the preflight request.</p>\n<p>browser has sent a preflight request to the Tistory server, now Tistory server to send a response to preflight request which browser sent.</p>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">OPTIONS https://evanmoon.tistory.com/rss 200 OK\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Allow-Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://evanmoon.tistory.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Encoding</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">gzip</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">699</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/xml; charset=utf-8</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Sun, 24 May 2020 11:52:33 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">P3P</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">CP='ALL DSP COR MON LAW OUR LEG DEL'</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Server</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Apache</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Vary</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Accept-Encoding</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">X-UA-Compatible</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">IE=Edge</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>What we need to note in this response is the value <code class=\"language-text\">Access-Control-Allow-Origin: https://evanmoon.tistory.com</code> included in the header.</p>\n<p>The Tistory server told the browser that the only origin that could access this resource is <code class=\"language-text\">https://evanmoon.tistory.com</code>. However, the origin I sent this request to is <code class=\"language-text\">https://evan-moon.github.io</code>, which is different from the origin allowed by the server.</p>\n<p>Therefore, the browser determines that this request violates the CORS policy and throws the following error.</p>\n<blockquote>\n<p>🚨 Access to fetch at ’<a href=\"https://evanmoon.tistory.com/rss\" target=\"_blank\" rel=\"nofollow\">https://evanmoon.tistory.com/rss</a>’ from origin ‘https://evan-moon.github.io’ has been blocked by CORS policy: Response to preflight request doesn’t pass access control check: The ‘Access-Control-Allow-Origin’ header has a value ‘http://evanmoon.tistory.com’ that is not equal to the supplied origin. Have the server send the header with a valid value, or, if an opaque response serves your needs, set the request’s mode to ‘no-cors’ to fetch the resource with CORS disabled.</p>\n</blockquote>\n<p>Here, we are confused because the error is displayed in red on the console window even though an error does not occur in the response to the prelight request and <code class=\"language-text\">200</code> status code is returned normally. In fact, errors caused by CORS policy violations have little to do with the success of the preflight request.</p>\n<p>This is because the browser determines whether the CORS policy is violated after receiving the response to the preflight request.</p>\n<p>Of course, even if the preflight request fails, it may be treated as a CORS policy violation, but more important thing is whether there is a valid Access-Control-Allow-Origin value in the response header. not whether the preflight request succeeds or fails. In other words, even if the preflight request fails and a status code <code class=\"language-text\">200</code> is not returned, if that value is properly entered in the header, it means that it is not a CORS policy violation.</p>\n<p>In most cases, the preflight scenario is used, in which the preflight request and the main request are divided, but in all situations, the request is not sent twice. Although this is a tricky condition, in some cases, it checks for CORS policy violations only with the main request without a preflight request.</p>\n<h3 id=\"simple-request\" style=\"position:relative;\">Simple Request<a href=\"#simple-request\" aria-label=\"simple request permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>There is no official name for this scenario, but MDN’s CORS document calls this scenario as <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Examples_of_access_control_scenarios\" target=\"_blank\" rel=\"nofollow\">Simple Request</a>, so I will just call it Simple Request.</p>\n<p>In the simple request scenario, after sending main request to the server without sending a preflight request, the server sends a value such as <code class=\"language-text\">Access-Control-Allow-Origin</code> in the response header of this main request, then the browser checks CORS policy violations. In other words, the preflight scenario and the simple request scenario have the same overall logic, and differ only in the presence or absence of a preflight request.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABx0lEQVR42mNgYGDQB2I5BkzADMSaQKwDxKwMhIECEGuDGFyhoaEgzQzLli0TP3HihJaxsTHIAEYgZgPJQ9T/Z4RgGEDn27MACQ4Qi8/CwoITxFi9erXz/v37a+3t7XmgrhIEYh4G4gAzzEBOnErs61kkfepFjNPOcJnVb+NLnn1MaM6G61LLzj6UWn/5rWz9pqci9ln7eYzrz3DJRbULimqBHYIw8P///4yrVq1ihnqXQav+Cg+vRoCwjAzEB4vXrpU5ePhY5YmzZ8v2HTrStGv/fhOQuEVoISevlIawiHuVJHYX1v/nYqj5ry5Y/xQUWdwgi4DYE4hjf/78Fnv6xIm4169fxgL5MUAcBsS8IG0asZOFcRnIxLDqP7N8/noBBmF1KfusLJ6r127uvXvv/usr127cP3jk6MMLFy89uHP33tN7Dx7ePn75Jig1cOjFTBODGwjyKtAmLigGB65x2kxWpdCZ/KGr/rPJ28/nYLBYxckQv59DZeI/dnkgLRO6ihNEg+RBwSPsV8rLwM3NLQ6KofXr1xscO3asF5hsJhw5ciQTGmPciGRDWiwz1tfXs0ycOJEdhIFsNmjEwNMWnnTIiEiHKuwAnnGz5V1xAocAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"simple request\" title=\"\" src=\"/static/d8ed6519e305c807c687032ff61240f8/6af66/simple-request.png\" srcset=\"/static/d8ed6519e305c807c687032ff61240f8/69538/simple-request.png 160w,\n/static/d8ed6519e305c807c687032ff61240f8/72799/simple-request.png 320w,\n/static/d8ed6519e305c807c687032ff61240f8/6af66/simple-request.png 640w,\n/static/d8ed6519e305c807c687032ff61240f8/d9199/simple-request.png 960w,\n/static/d8ed6519e305c807c687032ff61240f8/21b4d/simple-request.png 1280w,\n/static/d8ed6519e305c807c687032ff61240f8/2b36a/simple-request.png 2268w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>The simple request scenario is a scenario in which CORS violations are checked with the main request without a preflight request.</small>\n</center>\n<p>However, we can use a simple request. the preflight request can be omitted only when certain conditions are satisfied. Moreover, it is quite difficult to meet this requirement, so if we design your web application architecture in a generic way, it is almost impossible to meet it. So I hardly ever experienced such a case.</p>\n<hr>\n<ol>\n<li>The request method must be one of <code class=\"language-text\">GET</code>, <code class=\"language-text\">HEAD</code>, and <code class=\"language-text\">POST</code>.</li>\n<li>Headers other than <code class=\"language-text\">Accept</code>, <code class=\"language-text\">Accept-Language</code>, <code class=\"language-text\">Content-Language</code>, <code class=\"language-text\">Content-Type</code>, <code class=\"language-text\">DPR</code>, <code class=\"language-text\">Downlink</code>, <code class=\"language-text\">Save-Data</code>, <code class=\"language-text\">Viewport-Width</code>, and <code class=\"language-text\">Width</code> should not be used.</li>\n<li>If <code class=\"language-text\">Content-Type</code> is used, only <code class=\"language-text\">application/x-www-form-urlencoded</code>, <code class=\"language-text\">multipart/form-data</code>, and <code class=\"language-text\">text/plain</code> are allowed as values of this field.</li>\n</ol>\n<hr>\n<p>In fact, if we want to follow the condition 1, we just do not use some methods such as <code class=\"language-text\">PUT</code> or <code class=\"language-text\">DELETE</code>. So actually it is not difficult. However, it is not condition 2 or 3.</p>\n<p>Since the header fields specified in condition 2 are really basic fields, it is rare that an additional field is not used in a complex commercial web application. Even the <code class=\"language-text\">Authorization</code> header used for user authentication is not included in that condition.</p>\n<p>In addition, since we usually design HTTP APIs to have a content type of <code class=\"language-text\">text/xml</code> or <code class=\"language-text\">application/json</code>, it is not so easy to create a situation that satisfies all of these conditions in reality.</p>\n<h3 id=\"credentialed-request\" style=\"position:relative;\">Credentialed Request<a href=\"#credentialed-request\" aria-label=\"credentialed request permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The third scenario is how to use credential requests. This scenario is not the basic scenario of CORS, but it is additionally used when we want to strengthen the security in communication between different origins.</p>\n<p>Basically, the <code class=\"language-text\">XMLHttpRequest</code> object or <code class=\"language-text\">fetch</code> API, which is an asynchronous resource request API provided by the browser, does not include the browser’s cookie information or authentication-related headers in the request without any options. At this time, if we can include authentication-related information to request with <code class=\"language-text\">credentials</code> option.</p>\n<p>A total of 3 values can be used for this option, and the meaning of each value is as follows.</p>\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>same-origin (default)</td>\n<td>Authentication-related information can be included in request between same origin</td>\n</tr>\n<tr>\n<td>include</td>\n<td>Authentication-related information can be included in any request</td>\n</tr>\n<tr>\n<td>omit</td>\n<td>Authentication-related information can not be included in any request</td>\n</tr>\n</tbody>\n</table>\n<p>If we use options such as <code class=\"language-text\">same-origin</code> or <code class=\"language-text\">include</code> to include authentication information in a resource request, now the browser add some strict rules to CORS policy conditions, not only check the <code class=\"language-text\">Access-Control-Allow-Origin</code> field.</p>\n<p>Let’s take a closer look at which rules have been added through communication with the local environment where I am writing this post and the Github server hosting my blog.</p>\n<p>In my blog, the value of the <code class=\"language-text\">Access-Control-Allow-Origin</code> field is set to <code class=\"language-text\">*</code>, which means that all origins are allowed. So when someone requests a resource from other origin to my blog server, they are not constrained by CORS policy violations.</p>\n<p>So, even in a local development environment such as <code class=\"language-text\">http://localhost:8000</code>, we can request and retrieve resources at will by using <code class=\"language-text\">fetch</code> API.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://evan-moon.github.io/feed.xml'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">Request\nGET https://evan-moon.github.io/feed.xml\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">http://localhost:8000</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Referer</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">http://localhost:8000/2020/05/21/about-cors/</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">Response\nGET https://evan-moon.github.io/feed.xml 200 OK\n\n<span class=\"token header\"><span class=\"token header-name keyword\">Access-Control-Allow-Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">*</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Encoding</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">gzip</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1132748</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">application/xml</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Server</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">GitHub.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Status</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">200</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Also, the default value of <code class=\"language-text\">credentials</code> in Google Chrome browser is <code class=\"language-text\">same-origin</code>, which means that authentication-related information is used only within the same origin. So, in local environment, the resource request sent to <code class=\"language-text\">https://evan-moon.github.io</code> cannot contain authentication-related information such as browser cookies.</p>\n<p>That is why the browser simply checks the value of <code class=\"language-text\">Access-Control-Allow-Origin: *</code> and concludes that “This request is safe”. However, if I change the <code class=\"language-text\">credentials</code> option to <code class=\"language-text\">include</code>, which means to include authentication-related information in all requests, and send the same request, the situation is a little different this time.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://evan-moon.github.io/feed.xml'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">credentials</span><span class=\"token operator\">:</span> <span class=\"token string\">'include'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Credentials is changed to \"include\"!</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>As we can see if we run this code in the browser console, this time, the <code class=\"language-text\">credentials: include</code> option was used to set the request to include authentication-related information unconditionally regardless of the same origin. So we can check that this request contains the browser’s cookie information.</p>\n<p>The Github server hosting my blog sent the same response this time, but the browser behavior changed a bit.</p>\n<blockquote>\n<p>🚨 Access to fetch at ’<a href=\"https://evan-moon.github.io/feed.xml\" target=\"_blank\" rel=\"nofollow\">https://evan-moon.github.io/feed.xml</a>’ from origin ’<a href=\"http://localhost:8000\" target=\"_blank\" rel=\"nofollow\">http://localhost:8000</a>’ has been blocked by CORS policy: The value of the ‘Access-Control-Allow-Origin’ header in the response must not be the wildcard ’*’ when the request’s credentials mode is ‘include’.</p>\n</blockquote>\n<p>Browsers are saying that if the credentials mode is <code class=\"language-text\">include</code>, we should not use <code class=\"language-text\">*</code> in the <code class=\"language-text\">Access-Control-Allow-Origin</code> header field which meaning that all requests are allowed.</p>\n<p>Like this, when requesting a resource from other origins while authentication-related information is included in the request, the browser adds the two rules for checks for CORS policy violations.</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">*</code> can not be used in <code class=\"language-text\">Access-Control-Allow-Origin</code> field, and this value is must be an explicit URL.</li>\n<li><code class=\"language-text\">Access-Control-Allow-Credentials: true</code> is must contained in response header.</li>\n</ol>\n<hr>\n<p>This scenario, including authentication, may feel a bit more complicated than other scenarios. but if we know about various scenarios for CORS policy like this can greatly shorten the time spent wandering in case of a problem caused by a violation of CORS policy in real life. So, It is recommended to be familiar with it.</p>\n<h2 id=\"how-to-solve-cors-policy-violations-problem\" style=\"position:relative;\">How to solve CORS policy violations problem.<a href=\"#how-to-solve-cors-policy-violations-problem\" aria-label=\"how to solve cors policy violations problem permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>So far, we have looked at what CORS is and in what situations it is applied and violated. In this section, let’s look at what can be done when a problem occurs due to a violation of the CORS policy.</p>\n<h3 id=\"setting-access-control-allow-origin\" style=\"position:relative;\">Setting Access-Control-Allow-Origin<a href=\"#setting-access-control-allow-origin\" aria-label=\"setting access control allow origin permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The most representative way to solve the problem caused by CORS policy violation is that to just set an valid value in the <code class=\"language-text\">Access-Control-Allow-Origin</code> header in the server.</p>\n<p>Using the wildcard `*’ means that we are accepting requests from all origins, so you can be comfortable right now. However, if you think about it in a different sight, it means that we will receive all requests from strange origins that you don’t know about. Therefore, if we solve the problem in this way, serious security issues may arise.</p>\n<p>So, even if it’s bother as much as possible, try to specify the origin like <code class=\"language-text\">Access-Control-Allow-Origin: https://evan.github.io</code>.</p>\n<p>This header field can be added to the configuration file of server engines such as Nginx or Apache, but in this case, it is inconvenient to make complex settings, so I recommend setting it using response middleware in the source code.</p>\n<p>Named backend frameworks such as Spring, Express, and Django all provide CORS-related configuration settings or middleware libraries, so the setting itself will not be difficult.</p>\n<h3 id=\"reverse-proxying-with-webpack-dev-server\" style=\"position:relative;\">Reverse proxying with Webpack Dev Server<a href=\"#reverse-proxying-with-webpack-dev-server\" aria-label=\"reverse proxying with webpack dev server permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In fact, it is no exaggeration to say that the most common violation situation of CORS policy is the case of developing front-end applications in a local environment. because it is rare to put a general origin such as <code class=\"language-text\">http://localhost:3000</code> in this important field such as <code class=\"language-text\">Access-Control-Allow-Origin</code>.</p>\n<p>Most front-end developers use Webpack and webpack-dev-server to build a development environment on their local machine. If we use the proxy feature provided by these libraries, we can bypass CORS policy very comfortably.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">devServer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">proxy</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">'/api'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://api.evan.com'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">changeOrigin</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">pathRewrite</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'^/api'</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With this configuration, requests to URLs starting with <code class=\"language-text\">/api</code> in the local environment are proxyed to <code class=\"language-text\">https://api.evan.com</code>. In other words, browser thinks that it sent a request to <code class=\"language-text\">localhost:8000/api</code>, but in fact, Webpack is proxying the request to <code class=\"language-text\">https://api.evan.com</code> in background. So we can tricks the browser as if it followed the CORS policy.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 518px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACKUlEQVR42pWUZ4siQRCG/fmifvCDkTUnMKGimLOucY2YUBEzBlAXQRBh63gLZrnd9Y67gZ7prq556q2qnhFVq1XK5/NkNpt5vLy8kMvlIpPJRGq1moxGI/n9fvL5fKTVaslqtZJGo2G7xWIhvV7PtkKhQKVSiUS4tVotcrvdDMSm3W7nuU6nI4VCQUqlkiQSCYnFYrYhkPBUqVQcvF6v0+vrK4nK5TIvGo0Gj2azyQPzbrdLTqeTZDIZSaVScjgcHFzYx7PdbrPtC/Dt7Y1qtRobMTDHC9lsllM9nU50PB45C6SGPcH39/EF+H0T0QHEAPB8PlMkEmGgEPS/gahvv99nCHzQwFwux2k+U/lHoLBOJBLU6XQoFApROp1mVcFgkLxe72eQfwJCSbFYpOVySfP5nEajEc1mM/J4PHxM0HmDwfAj7b8C39/fab/f03a7JZvNxmcTTYFCvIPaflf5A4gnnKbTKV0uF64TUo7H47z3eDy4rvBFo4TgT4HCUclkMrRarWi327FKNGWz2ZBwQfFwOOQ9nNOnKWNRqVQYjC6iw/f7nQGo3/V6/QSu12tKJpO0WCy4zoAIShmIG0CIBhg6Ox6PWRUUAwb47Xajj48PVocgh8OB7UIJ4MtALABC4cPhMAPRSXz4sAk/gUAgwD8JuVzOc3zvgPR6Pa5xNBpljmgymVAqleI/CDo3GAy4kzi8UI45gkAJ6oyXY7EYA+CLpqH7OAXw/wVI5OBE3AhEbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"trap\" title=\"\" src=\"/static/e4e41838e8e9f4ac284b2b2a6214052f/6b9fd/trap.png\" srcset=\"/static/e4e41838e8e9f4ac284b2b2a6214052f/69538/trap.png 160w,\n/static/e4e41838e8e9f4ac284b2b2a6214052f/72799/trap.png 320w,\n/static/e4e41838e8e9f4ac284b2b2a6214052f/6b9fd/trap.png 518w\" sizes=\"(max-width: 518px) 100vw, 518px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n  <small>Webpack's Trap Card Reverse Proxying has been activated!</small>\n</center>\n<p>Even if you have built your own development environment with a combination of <a href=\"https://github.com/webpack/webpack-dev-middleware\" target=\"_blank\" rel=\"nofollow\">webpack-dev-middleware</a> and Node server, don’t worry as you can easily configure proxy by using the <a href=\"https://github.com/chimurai/http-proxy-middleware\" target=\"_blank\" rel=\"nofollow\">http-proxy-middleware</a> library. <small>(webpack-dev-server internally uses http-proxy-middleware)</small></p>\n<p>I recommend you that use this method when serving the origin of the client application and the origin of the API server are the same.</p>\n<p>Of course, in the local development environment, there is nothing wrong with webpack proxying requests, but after building the application and deploying it to the server, it is no longer an environment where webpack-dev-server runs. If so, the request will no longer be proxyed and the API request will be sent to where the client application is served, not the API server, and the request will fail.</p>\n<p>For example, if the origin of the API server is <code class=\"language-text\">https://api.evan.com</code> and the origin of the server serving the client application is <code class=\"language-text\">https://www.evan.com</code>, the following situation occurs.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/me'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-http line-numbers\"><code class=\"language-http\">in local environment...\nGET https://api.evan.com/me 200 OK\n\nThere is no proxying logic in production environment...\nGET https://www.evan.com/api/me 404 Not Found</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Of course, we can also use the API host according to each environment by using environment variables such as <code class=\"language-text\">process.env.NODE_ENV</code> within the business logic. However, I avoid it because I don’t think it’s a good idea to include the source for this development environment in business logic.</p>\n<h3 id=\"wouldnt-it-be-possible-to-put-the-request-in-the-img-tag\" style=\"position:relative;\">Wouldn’t it be possible to put the request in the img tag?<a href=\"#wouldnt-it-be-possible-to-put-the-request-in-the-img-tag\" aria-label=\"wouldnt it be possible to put the request in the img tag permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>I said that there are several exceptions to the SOP policy that allow access to resources from different origins, and one of them is a request to comply with the CORS policy. And also there are other exceptions such as executable scripts, images to be rendered, and style sheets.</p>\n<p>So wouldn’t it be possible to bypass CORS policy violation by sending a request with a different exception case…? Like this!</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://evanmoon.tistory.com/rss<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://evanmoon.tistory.com/rss<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Well, if we request a resource in this way, the request succeeds without violating the CORS policy. And if we look closely at the headers of these requests in the network tab of the browser’s developer tools, we can see that they contain a value of <code class=\"language-text\">Sec-Fetch-Mode: no-cors</code>.</p>\n<p>This <code class=\"language-text\">Sec-Fetch-Mode</code> header is a field that configures the request mode. If the value of this field is <code class=\"language-text\">no-cors</code>, the browser does not check for CORS policy violations even resource is served from other origins. But sadly, the browser doesn’t tell JavaScript the response of requests with this value in request header. It means we can never access the body of this response from within JavaScript code.</p>\n<p>I was also curious if there really was no way to do this, so I tried several ways, and as a result all failed. So let’s just give up on trying to circumvent CORS policy violations and follow the CORS policy as the smart guys tell us.</p>\n<h2 id=\"epilogue\" style=\"position:relative;\">Epilogue<a href=\"#epilogue\" aria-label=\"epilogue permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Perhaps the most difficult thing when solving problems caused by CORS policy violations is that the someone who has the problem and the someone who needs to solve the problem is different.</p>\n<p>As I said, CORS policies are implementation specifications for browsers, so most of the people who actually have problems with CORS policy violations are front-end developers. However, in order for us to solve this problem, the backend developer needs to set correct value in ʻAcccess-Control-Allow-Origin` field of server application’s response header.</p>\n<p>Of course, front-end developers can solve it by themselves using the proxying option of webpack-dev-server which I talked about, but this method works only in a local development environment. In other words, it is not a solution to problems in an production environment.</p>\n<p>Therefore, in the end, in order to properly solve the problem of CORS policy violations, it is inevitable that we need help from backend developers.</p>\n<p>In fact, resolving CORS policy violations is not so difficult and complex, so if one of the front-end or back-end developers is familiar with these policies, they can solve it quicker and easier than you think.</p>\n<p>However, it is hard to find a solution if neither the frontend nor the backend has experience with this problem, such as when I first experienced a CORS policy violation. It’s a very subtle problem.</p>","fields":{"slug":"20200521-about-corsen","path":"/2020/05/21/about-cors/en/","lang":"en"},"frontmatter":{"title":"Why we need to know about CORS?","subTitle":"Navigating the Cross-Origin Minefield: What Every Developer Needs to Know","date":"Oct 06, 2020","categories":["Programming","Network","Web"],"tags":["CORS","Cross-Origin Resource Sharing","Network","Web","Web Secure","Access-Control-Allow-Origin"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/e21f60bac8f04efc2928f1d0504fd95f/d803c/thumbnail.png","srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/d803c/thumbnail.png 320w,\n/static/e21f60bac8f04efc2928f1d0504fd95f/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/fc5c5/thumbnail.webp 320w,\n/static/e21f60bac8f04efc2928f1d0504fd95f/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/e21f60bac8f04efc2928f1d0504fd95f/01fb2/thumbnail.png","srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/e21f60bac8f04efc2928f1d0504fd95f/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"95587b9b-cc10-52fe-96cb-ded607a4b676","tableOfContents":"<ul>\n<li>\n<p><a href=\"#the-beginning-of-yak-shaving\">The Beginning of Yak Shaving</a></p>\n</li>\n<li>\n<p><a href=\"#intoroducing-gatsby\">Intoroducing Gatsby</a></p>\n<ul>\n<li><a href=\"#graphql\">GraphQL</a></li>\n<li><a href=\"#lets-use-the-graphql\">Let’s use the GraphQL</a></li>\n<li><a href=\"#create-pages-with-dynamic-parameter\">Create pages with dynamic parameter</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#the-annoying-parts\">The annoying parts</a></p>\n<ul>\n<li><a href=\"#care-about-the-connection-with-the-existing-link\">Care about the connection with the existing link</a></li>\n<li><a href=\"#make-it-all-by-myself\">Make it all by myself.</a></li>\n<li><a href=\"#there-is-no-posting-creation-function-in-cli\">There is no posting creation function in CLI.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#epilogue\">Epilogue</a></p>\n</li>\n</ul>","excerpt":"During the last golden week, I migrated my blog that I had previously made using Hexo to Gatsby. In this post, I would like to share what I learned from this migration work and issues I didn’t expect. The Beginning of Yak Shaving In fact, I tried to continue using Hexo at first. Of course, it’s tru…","html":"<p>During the last golden week, I migrated my blog that I had previously made using Hexo to Gatsby. In this post, I would like to share what I learned from this migration work and issues I didn’t expect.</p>\n<h2 id=\"the-beginning-of-yak-shaving\" style=\"position:relative;\">The Beginning of Yak Shaving<a href=\"#the-beginning-of-yak-shaving\" aria-label=\"the beginning of yak shaving permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>In fact, I tried to continue using Hexo at first. Of course, it’s true that React-based Gatsby is more comfortable than ejs-based Hexo, but I thought doing this would be a waste of resources, given that I couldn’t write posts during the migration.</p>\n<p>Also, I think the main content of the blog is the post itself, so I don’t have to add various features to the blog. When I need to add some features to my blog, I just need to find and use Hexo plugins created by others.</p>\n<center>\n  <div style=\"max-width: 400px\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/541b7115291302457477eabd84aa37bc/4b190/why.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBQT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGvsze/N3oGsCRRtiT/xAAdEAACAQQDAAAAAAAAAAAAAAABAwACBCIxERIT/9oACAEBAAEFAuzHNHoucmWbaaQxuI1Achr/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAXEQADAQAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/AWZEf//EAB8QAAIABgMBAAAAAAAAAAAAAAECABAREjFBAyEiUf/aAAgBAQAGPwIrxm1V3Hprx9kyncUJXvFJjEv/xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMWFRcZH/2gAIAQEAAT8hpvxGQAEmCtI9nqjIgq7XcC1oiq7FhLp0Z8kooPia5//aAAwDAQACAAMAAAAQK8C+/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAEQIRExgf/aAAgBAgEBPxClY6JGo0R//8QAHxABAAIBBQADAAAAAAAAAAAAAQARITFBUWFxgbHw/9oACAEBAAE/ELMBwrV/bR01+AANx2eYKCYPUFO8UtFVfMW9DWLoynxLE6jnD0zQ/cekFTISZ+M//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"why\" title=\"\" src=\"/static/541b7115291302457477eabd84aa37bc/c08c5/why.jpg\" srcset=\"/static/541b7115291302457477eabd84aa37bc/0913d/why.jpg 160w,\n/static/541b7115291302457477eabd84aa37bc/cb69c/why.jpg 320w,\n/static/541b7115291302457477eabd84aa37bc/c08c5/why.jpg 640w,\n/static/541b7115291302457477eabd84aa37bc/4b190/why.jpg 800w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>Of course I know that Gatsby is easier to use than Hexo... But no need to migrate that.</small>\n  <br>\n  <br>\n</center>\n<p>However the problem occurred in an unexpected place. I had a plan to translate blog posts which I wrote to english, and I was going to setup i18n on my blog before the golden week began, and then translate some posts.</p>\n<p>I thought I could easily add i18n functionality to my blog. This is because Hexo supports i18n configuration by itself, and the Icarus theme I was using also supports this configuration.</p>\n<p>In addition, I had expected this would not be a big deal, as Hexo’s <a href=\"https://hexo.io/docs/internationalization.html\" target=\"_blank\" rel=\"nofollow\">i18n Setup Guide document</a> says. it says that I just add language types to the config file, I could simply build an environment in which multiple languages can be used within the application.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token comment\"># _config.yml</span>\n\n<span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> ko\n  <span class=\"token punctuation\">-</span> en <span class=\"token comment\"># This is new language!</span>\n\n<span class=\"token comment\"># ...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>According to Hexo’s guide document, adding the i18n setting looks a very simple task that could be done in a several minutes. But…</p>\n<center>\n  <br />\n  .<br />\n  .<br />\n  .<br />\n  .<br />\n  <br />\n</center>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\">ERROR Render HTML failed: index.html\nTypeError: /Users/evan/dev/evan-blog/themes/icarus/layout/layout.ejs:2\n    1| <span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n >> 2| <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">&lt;%-</span> <span class=\"token attr-name\">has_config('language')</span> <span class=\"token attr-name\">?</span> <span class=\"token attr-name\">'</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span> + get_config('language').substring(0, 2) + '<span class=\"token punctuation\">\"</span></span><span class=\"token attr-name\">'</span> <span class=\"token attr-name\">:</span> <span class=\"token attr-name\">''</span> <span class=\"token attr-name\">%</span><span class=\"token punctuation\">></span></span>>\n    3| <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    4|     &lt;%- partial('common/head') %>\n    5| <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 378px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/89b1b7daecdf28c4fe33dbe44dd39388/f0991/chit.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEVUlEQVR42gFKBLX7AKbE1M7FxtHHyNLIy9HIy9bNzcS8u1JcQYyLdK+ijKqghb+yn4a7xHCtonq0v2m50JiqgqSNY6N9gat6iwC9urzNxMXPxsfSycrRxsjSytHPxbeDejyFdD1rWzReUSp1YzWZnXCYwrSWiXd/pKmItKSqnVaBsLB7qMEAz8TEzsTFz8XG0cfG0MbP4c+1m4RLMykZBQMGAAAAAQEAAAABDQUBYVUtxZVWjqSnZa/CnqaCdba/YrfIAMzCw87Exc/ExM7FzODQtYRwOgYDBQAAACYiKGlnbIOBhnJvdDs6QQAAAkM7HpKghGWvw2G0vGisvWGsvwDNwsPPxMXKxcvc0Mech1EFAwcNDBKBfoTl4+7////+/v7////6+f2fnaMHBA1WTiueubKFrsqcus+gudAAzMLEzMDB3bmq5tB6KiQXAAAFko6V//7/8e336ufy6uj06efz6ejy////oZ6nAgAAsqBi2sGxu6Opy7SzAMzIyMWWme2jXbekRgAAAUA+Qu3p8+fk7Ojl7enk6uvn8ujj6+bi6uTi6/Tx+zs6Sk5GF/G+cMSThcinnADIw8XEnZrjs0dXSiAAAACLiI369v/X0tzCv8jw7Pfl3uHq4+jd2eK8ucL39Pyjn6kWEQvCmkHNl4LOq6IAxbu+0ca+n4ZLDwoHAAABqqWr9vH65OHo49/e9O3X++pn+/Cb7efe4dza7enzy8XMGBYee2IwtpJ5rIyGAMK4uNXJy1hSVwAAAAIABKKepPDg7evZ6+vcj9W+OHxsH4h4J+LOUencwevS6szDyhgXHkIwLLeTgLubjQDBtbfLwMNDPkIAAAMAAAFoZWrr2OHZxdDb0sXItGechTeplEXZzJva09ro1+Cfl50AAAJCNzTBooq7nIYAvrO1wLa4OTQ5AgAFBwUJFRMYpZ+k4NfX3NLV3tbY49nK5NrT39jd4dvcwby/MC0yAQAFKiQkt5uDv6KLALywrbusqCklJwAAAAYFCgIABA4PFGdhZqWcm7yxscG4usW8vbSsq4F7fiQhJgMCBggGDBMQEq+Uf8KljQCfhl2QhFtQSUgrJy8bFRsUEBUQBAkEAQMMCg4jHyMpJikqJioeGyAFBAcFBAkNCxAaFx1FQEiulYTCo4kAWFhARko+aGBlSUlRayAkdmRoaygrnDQ2TlRYenh7f3+AhYSGtLS0h4eIdnV4iYeKOTM6W1Zho46DwaGHACktJzk7NGFWXkZHUJUTFZtrbU09QZM5OmZqb5yYmqqqq4uJi729vYmHiqenqJSTlTYxOFRPW4h4dMChhAA0OxtLSTpXUFk4MThfJSlqRUtFMzlgP0Q/QEdoZWqEhIdOS1F8e35kYmZubXBUU1dFQEpDQEpxZ2y8noQAXV0/Y1tdTUZPPzpBOz9HQUFLVlJcUE9ZdHB5qamxsbC3trW8gH6HRUJLKygwR0JMV1RdXFhiVE5YmoR2qNstTgis+m0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"chit\" title=\"\" src=\"/static/89b1b7daecdf28c4fe33dbe44dd39388/f0991/chit.png\" srcset=\"/static/89b1b7daecdf28c4fe33dbe44dd39388/69538/chit.png 160w,\n/static/89b1b7daecdf28c4fe33dbe44dd39388/72799/chit.png 320w,\n/static/89b1b7daecdf28c4fe33dbe44dd39388/f0991/chit.png 378w\" sizes=\"(max-width: 378px) 100vw, 378px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>What the...?</small>\n</center>\n<p>Unlike Hexo’s document, which explained that adding some code lines to the <code class=\"language-text\">config.yml</code> would be a happy ending, the reality was tough.</p>\n<p>Why I got a this error? It’s simple. When multiple values are set in one props in configuration, the Hexo’s configuration parser parses these values to an array. However the Icarus theme uses the <code class=\"language-text\">substring</code> method because it assumes that the <code class=\"language-text\">language</code> property is a String type.</p>\n<p>In this situation, There were 4 ways that I could choose.</p>\n<hr>\n<ol>\n<li>Fixing the Icarus theme.</li>\n<li>Using other Hexo theme that supports i18n well.</li>\n<li>Making my own Hexo theme.</li>\n<li>Migrating to Gatsby.</li>\n</ol>\n<hr>\n<p>Themes of Hexo are not installed by package managers like npm or yarn, it is cloned from github repository and included to your application source. So you can freely fix Hexo themes by yourself without Pull Request to contributor’s repository.</p>\n<p>But as my sight, it is not simple situation like that. Because if I change <code class=\"language-text\">language</code> property to an array, side effects will occur not only in the <code class=\"language-text\">layout.ejs</code> but also elsewhere.</p>\n<p>So how about option 2? That is not a good choice either.</p>\n<p>The fundamental problem with this situation is not just that the theme does not support the i18n, my blog is too dependent on the limited functions of theme which made by other people. In other words, even though if I change my blog to other theme that supports this feature, this situation will be occurred again.</p>\n<p>How about option 3 to create my own Hexo theme?</p>\n<p>If you make Hexo theme, you must use old techniques such as ejs and jQuery. Moreover, the amount of resources consumed by creating themes or migrating them is not much different. Rather it is better to draw UI with Gatsby which is React-based than with ejs.</p>\n<p>These are why I decided to move from Hexo to Gatsby.</p>\n<p>Actually, it is quite easy that migrating from Hexo to Gatsby. Official blog also provides a guide document titled <a href=\"https://www.gatsbyjs.org/blog/2017-10-01-migrating-my-blog-from-hexo-to-gatsby/\" target=\"_blank\" rel=\"nofollow\">Migrating My Blog From Hexo To Gatsby</a>, and that process is not complicated.</p>\n<p>However my blog is service that many people are using, I have to do extra tasks that recreate all of original features on my blog, not just change static page generator. It is not a simple task because if Gatsby doesn’t support the features that I have been using easily with the Hexo plugin, I should create them all.</p>\n<p>But now, I got the 6 days golden holiday on April 30 on Buddha’s Birthday. and This long holiday season will not come again in this year, so it was a last chance to proceed with such a grand project. So, I had made branch, and started working on moving from Hexo to Gatsby.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0081bd73b6f38b83ddb98effd99285d2/4b190/yak.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBAv/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAZ15zKyYX//EABgQAAMBAQAAAAAAAAAAAAAAAAABAwIR/9oACAEBAAEFAp00K3R2M8HhDSP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGq/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERMRAhMoH/2gAIAQEABj8CsmfMUh6OUf/EABsQAQACAwEBAAAAAAAAAAAAAAEAESExcVGh/9oACAEBAAE/IQO3IuSnqijr7KpPcFrfJZh//9oADAMBAAIAAwAAABBY/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EMVD/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Qtb//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhYYExkf/aAAgBAQABPxBEiXnaHCgKem+RKWO4GC7kTKKRztiJt8Ln/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"yak\" title=\"\" src=\"/static/0081bd73b6f38b83ddb98effd99285d2/c08c5/yak.jpg\" srcset=\"/static/0081bd73b6f38b83ddb98effd99285d2/0913d/yak.jpg 160w,\n/static/0081bd73b6f38b83ddb98effd99285d2/cb69c/yak.jpg 320w,\n/static/0081bd73b6f38b83ddb98effd99285d2/c08c5/yak.jpg 640w,\n/static/0081bd73b6f38b83ddb98effd99285d2/4b190/yak.jpg 800w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>The beginning of yak shaving...</small>\n</center>\n<h2 id=\"intoroducing-gatsby\" style=\"position:relative;\">Intoroducing Gatsby<a href=\"#intoroducing-gatsby\" aria-label=\"intoroducing gatsby permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2bab627a79337d768c8221c571d2c81a/29114/gatsby.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMklEQVR42mNgoBX4z/Cf8f///4xg9n8Em1LAxMCgzgukmVHFwJh4l4HocOVq2RkVazas6Nv1cm7Dhp0VAZPVQOL19fUwwxhxOwJJDua1GVXrlm+cdOx/beiMn/Mqtv2v9JuyA6rEE4jDgJgTiNmAWAlqiBsQK0DVsKJbyLqgcevVtVP2/c936fo1sXD5/0WNO+6zMYioArVWAPXHAdXUghwMxB1AXArErUDcBMRZUAsZYS4Ee2ly0cqFt449/79x+sGfu+ed+7+0Y+dGsH9YmcKhmmKAuBiIvaEGFAAxzKIguPdhYRgqXyIxuXj5spk1ax9NLl65Ply+HOwdewZ7FmgkMUK9hhxRIDE9IObBFUeM4gyu3GixzAjFTGjhxIiGMeKbkQEao+B0yEB0OmRkoCUAAFcqZS1w+C9uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"gatsby\" title=\"\" src=\"/static/2bab627a79337d768c8221c571d2c81a/6af66/gatsby.png\" srcset=\"/static/2bab627a79337d768c8221c571d2c81a/69538/gatsby.png 160w,\n/static/2bab627a79337d768c8221c571d2c81a/72799/gatsby.png 320w,\n/static/2bab627a79337d768c8221c571d2c81a/6af66/gatsby.png 640w,\n/static/2bab627a79337d768c8221c571d2c81a/d9199/gatsby.png 960w,\n/static/2bab627a79337d768c8221c571d2c81a/21b4d/gatsby.png 1280w,\n/static/2bab627a79337d768c8221c571d2c81a/29114/gatsby.png 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</center>\n<blockquote>\n<p><strong>Gatsby</strong> is a free and open source framework based on React that helps developers build blazing fast websites and apps</p>\n<p><em><a href=\"https://www.gatsbyjs.org/\" target=\"_blank\" rel=\"nofollow\">Gatsby Offical Site</a></em></p>\n</blockquote>\n<p>Gatsby is the React-based static page generator.</p>\n<p>Personally, Gatsby’s biggest advantage is probably reaction-based. Already, this is a UI library loved by front-end developers around the world, so learning costs are relatively lower than <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"nofollow\">Hexo</a> based on ejs or <a href=\"http://jekyllrb-ko.github.io/\" target=\"_blank\" rel=\"nofollow\">Jekyll</a> based on Ruby.</p>\n<p>Also if you use project starters made by other people, you can quickly set up your project because you don’t have to make your own boilerplate code. And I used gatsby-starter-blog project starter.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ gatsby new evan-blog https://github.com/gatsbyjs/gatsby-starter-blog</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>In addition to the starter I used, there are also many starters created by other developers, so you can browse github and choose a starter.</p>\n<p>Another unique thing is that Gatsby uses <a href=\"https://graphql.org/\" target=\"_blank\" rel=\"nofollow\">GraphQL</a> to fetch data within React component. Many developers are familiar with REST APIs, so it may be a bit awkward at first, but the concept itself is not that difficult. I think I can adapt quickly.</p>\n<h3 id=\"graphql\" style=\"position:relative;\">GraphQL<a href=\"#graphql\" aria-label=\"graphql permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>GraphQL(Graph Query Language) is literally a new concept of query language. This means that it is used as a means of questioning to import data from certain systems, such as SQL(Structured Query Language), which we often use.</p>\n<p>SQL is used to query the database to get the data stored in the database system, but GraphQL is used by clients to query the server to send data.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sql line-numbers\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> frontmatters<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> thumbnail <span class=\"token keyword\">FROM</span> post <span class=\"token keyword\">WHERE</span> post_id <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">post</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">fields</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">eq</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">frontmatters</span>\n    <span class=\"token property\">title</span>\n    <span class=\"token property\">thumbnail</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>When using the REST API, the client simply sent a request to the endpoint provided by the server and received a predetermined structured response to use the data, but the client using GraphQL actively selects the data that they need and queries the server. It has the advantage of being able to.</p>\n<p>However, the advantage of the client’s ability to send a query for the desired schema can be disadvantageous in terms of security due to the nature of the client program giving control to the user. In addition, client developers may be writing slow queries because they are often less experienced with databases than back-end developers.</p>\n<p>For this reason, GraphQL’s backend system must take appropriate measures for this situation, and these shortcomings of GraphQL can be judged to be less stable than REST API, so it is rarely used in large-scale projects. <small>(In fact, developers’ opinions on GraphQL are also quite different)</small></p>\n<p>However, because Gatsby is a static site generator, the situation using GraphQL to blow queries is limited to compile time, not runtime, and slow queries aren’t really hurting the user, but the build is a bit slower. Therefore, it can be seen that these disadvantages are relatively offset environments.</p>\n<h3 id=\"lets-use-the-graphql\" style=\"position:relative;\">Let’s use the GraphQL<a href=\"#lets-use-the-graphql\" aria-label=\"lets use the graphql permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Gatsby provides a separate page to freely run queries in the local environment. This page serves as a kind of API document like Swagger. If you run the local server using the <code class=\"language-text\">gatsby develop</code> command and connect to<code class=\"language-text\"> localhost: 8000 / __ graphql</code>, you can see the query test page provided by Gatsby.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/42203ec8bbd0d883d511c96198e0d7c9/ddb69/query-test-page.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvUlEQVR42pWUiW6kMBBE+f/PzGQn4fbZNja40o2BHKvdmVgqeUayilfVhmaLEdETKATIcs7j9XZD3/YYhhHTOGEQTRPatsXMu9Ya86z+llJo7p3CoAjnyjnDaIOu04hLxpY3LLkgrhuscXhrZz5v4UMEMQyF72qsCiCXkLcNhQ2XZUFKCcov8HZBYcOyrChsKAaT8bixqR4NvHLw2ldZqoZGE5QO8DFhY9MoFbBKKShbFWTn/4FrsVyPth6OKekwIQpVYihGs4tXZKET/VxiKD0bR7gPGmbm2NpVGfqMnPOK18EipPXqcF3XfxoKoeLYbnY15kl39NnIwb4TfKbintKS/msohG8XYe3O8wNE5AMaOawnQnCZi1/3uI8I553w6JDpvFw7J7+ZUAbRMn7i/ZnIMpB3nrCRCZuD0IXPDhMbTDZ8u4cPCXkQQnjG3PV1KC+dgQv5d4TaHXRVl6Hj3O1MyGt5mnBiMzseQ+G4u+E5ZenPUHo6shC2QnjGPa7NTipTvg8Ggwn8MjwmPN+UUQmhATEhuTqUSkto/vQGIxsWVEN5l+VrIiKiS977/Usk97DngViJeQ7EHx3GiA9XrpC2+k2iPAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"query test page\" title=\"\" src=\"/static/42203ec8bbd0d883d511c96198e0d7c9/6af66/query-test-page.png\" srcset=\"/static/42203ec8bbd0d883d511c96198e0d7c9/69538/query-test-page.png 160w,\n/static/42203ec8bbd0d883d511c96198e0d7c9/72799/query-test-page.png 320w,\n/static/42203ec8bbd0d883d511c96198e0d7c9/6af66/query-test-page.png 640w,\n/static/42203ec8bbd0d883d511c96198e0d7c9/d9199/query-test-page.png 960w,\n/static/42203ec8bbd0d883d511c96198e0d7c9/21b4d/query-test-page.png 1280w,\n/static/42203ec8bbd0d883d511c96198e0d7c9/ddb69/query-test-page.png 2684w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>I also had very little experience with GraphQL, so I wasn’t very good at first, but after looking at this page for about 30 minutes, I was able to figure out how to query.</p>\n<p>My chosen starter gatsby-starter-blog basically contains Gatsby plugins for blogging using markdown, so<code class=\"language-text\"> markdownRemark</code>(to parse markdown files) or <code class=\"language-text\">imageSharp</code>(to parse image resources) Are added, but if you don’t see these query types, you need to install and add a plugin like gatsby-transformer-remark.</p>\n<p>If you roughly grasped Gatsby’s GraphQL interface by touching this and that on the <code class=\"language-text\">__graphql</code> page, it is now time to run the query directly using the<code class=\"language-text\"> useStaticQuery</code> hook within the React component.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useStaticQuery<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query MyQuery {\n    markdownRemark(frontmatter: {title: {eq: \"Test Post\"}}) {\n      frontmatter {\n        title\n        date\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">markdownRemark</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">frontmatter</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Test Post\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">date</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2020-05-09T12:57:08.000Z\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Since the example <code class=\"language-text\">useStaticQuery</code> hook only provides a static query, as the name suggests, the above query only retrieves data whose<code class=\"language-text\"> frontmatter.title</code> is exactly <code class=\"language-text\">Test Post</code>. If you try to pass a template string containing a variable as an argument to the <code class=\"language-text\">graphql</code> function, you get the following error.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Error: It appears like Gatsby is misconfigured.\nGatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away.\nUnfortunately, something went wrong and the query was left in the compiled code.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>In other words, even if you include a variable in the template string you use as a query, this variable is only evaluated at “runtime,” so Gatsby doesn’t know what value this variable will contain when compiling the code.</p>\n<p>However, in order to create a blog post page, you must receive dynamic parameters through a URL such as <code class=\"language-text\">/posts/2</code>, and use this parameter to execute a query such as “Get the second post!“. In this case, the <code class=\"language-text\">pageQuery</code> is used.</p>\n<h3 id=\"create-pages-with-dynamic-parameter\" style=\"position:relative;\">Create pages with dynamic parameter<a href=\"#create-pages-with-dynamic-parameter\" aria-label=\"create pages with dynamic parameter permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The most basic function of a blog is that different contents must be expressed in the same UI template.</p>\n<p>In general, if these functions need to be implemented, the client receives and renders the data using the server’s HTTP API at runtime, or if the page requires SEO optimization, the server side rendering (SSR) server receives the data and then renders the rendered HTML. It is implemented by sending a response to the client.</p>\n<p>But, as you know, Gatsby is a static site generator. Therefore, it is not a method to dynamically receive and process data at runtime when the application is running, but to generate the actual page file after receiving data from Gatsby using GraphQL at compile time.</p>\n<p>If you don’t understand what this means, let’s take a look at the files in the <code class=\"language-text\">public</code> directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> evan-blog/public/page-data <span class=\"token operator\">&amp;&amp;</span> ll\n\ndrwxr-xr-x   <span class=\"token number\">3</span> evan  <span class=\"token number\">1525943656</span>    96B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 <span class=\"token number\">2017</span>\ndrwxr-xr-x   <span class=\"token number\">5</span> evan  <span class=\"token number\">1525943656</span>   160B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 <span class=\"token number\">2018</span>\ndrwxr-xr-x  <span class=\"token number\">10</span> evan  <span class=\"token number\">1525943656</span>   320B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 <span class=\"token number\">2019</span>\ndrwxr-xr-x   <span class=\"token number\">7</span> evan  <span class=\"token number\">1525943656</span>   224B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 <span class=\"token number\">2020</span>\ndrwxr-xr-x   <span class=\"token number\">3</span> evan  <span class=\"token number\">1525943656</span>    96B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 <span class=\"token number\">404</span>\ndrwxr-xr-x   <span class=\"token number\">3</span> evan  <span class=\"token number\">1525943656</span>    96B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 <span class=\"token number\">404</span>.html\ndrwxr-xr-x   <span class=\"token number\">3</span> evan  <span class=\"token number\">1525943656</span>    96B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 about\ndrwxr-xr-x  <span class=\"token number\">19</span> evan  <span class=\"token number\">1525943656</span>   608B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 categories\ndrwxr-xr-x   <span class=\"token number\">3</span> evan  <span class=\"token number\">1525943656</span>    96B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 dev-404-page\ndrwxr-xr-x   <span class=\"token number\">3</span> evan  <span class=\"token number\">1525943656</span>    96B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 index\ndrwxr-xr-x   <span class=\"token number\">6</span> evan  <span class=\"token number\">1525943656</span>   192B  <span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span>:34 page</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Since my blog post path is in the format <code class=\"language-text\">/2020/05/09/blog-title/</code>, So Gatsby created directories named <code class=\"language-text\">2020</code>, <code class=\"language-text\">05</code>, <code class=\"language-text\">09</code> and <code class=\"language-text\">blog-title</code> in the <code class=\"language-text\">public/page-data</code> directory at compile time. After that, create a file called <code class=\"language-text\">page-data.json</code> that contains HTML to render as a string in it again.</p>\n<p>Rather than fetching data dynamically at runtime and rendering the contents of the page, it means that when compiling, one page file per post should actually be created. If you understand this difference, you can handle static site generators a little more comfortably.</p>\n<p>This means that you do not have to fetch the data dynamically at runtime and render the contents of the page, but you must actually create one page file per post when compiling. If you understand this difference, you can handle static site generators a little more comfortably.</p>\n<h4 id=\"createpages-api\" style=\"position:relative;\">createPages API<a href=\"#createpages-api\" aria-label=\"createpages api permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Gatsby provides an API called <code class=\"language-text\">createPages</code> that allows users to freely create pages they want at compile time.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-node.js</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The first argument, <code class=\"language-text\">graphql</code>, is the same one that is called when using GraphQL inside a React component, and the second argument,<code class=\"language-text\"> actions</code>, is the same action we are talking about in <a href=\"https://haruair.github.io/flux/docs/overview.html\" target=\"_blank\" rel=\"nofollow\">Flux Architecture</a>.</p>\n<p>Gatsby manages state using <a href=\"https://redux.js.org/\" target=\"_blank\" rel=\"nofollow\">Redux</a> internally, and since all of Gatsby’s APIs take this action list as an argument, we are free to use these actions to give commands to Gatsby. Among them, the action called <code class=\"language-text\">createPage</code> is an action that can issue a command to create a page.</p>\n<p>Now, we can think about this flow roughly.</p>\n<blockquote>\n<ol>\n<li>Using GraphQL, I get all the posts I’ve written.</li>\n<li>Create a page one by one by dispatching the <code class=\"language-text\">createPage</code> action while traversing the post data.</li>\n<li>Profit!</li>\n</ol>\n</blockquote>\n<p>Actually, it’s simpler so you don’t have to worry much about it. Then let’s create a post page.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-node.js</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> template <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/templates/Post.tsx'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 1. Get all the posts</span>\n  <span class=\"token keyword\">const</span> allPostsQuery <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    allMarkdownRemark {\n        edges {\n          fields {\n            path\n          }\n          node {\n            id\n          }\n        }\n      }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 2. Create a page file by traversing the post data.</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">edges</span><span class=\"token operator\">:</span> posts <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> allPostsQuery<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">;</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> template<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">postId</span><span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>If you write the page file creation logic using the <code class=\"language-text\">createPages</code> API like this, Gatsby does the rest of the troublesome work, which is very convenient.</p>\n<p>However, the <code class=\"language-text\">createPage</code> function simply creates a page file, and does not pass the post data to the <code class=\"language-text\">Page.tsx</code> component. Therefore, we can pass the customized data to the template component using the <code class=\"language-text\">context</code> option of the<code class=\"language-text\"> createPage</code> function, and we need to use this context data in the template component to get the post data again.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token comment\">// Post.tsx</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query PostQuery($postId: String!) {\n    markdownRemark(id: {eq: $postId}) {\n      fields {\n        path\n      }\n      frontmatter {\n        title\n        date\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">;</span>\n  pageContext<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    postId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> frontmatter <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>markdownRemark<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The variables passed to the component through the <code class=\"language-text\">context</code> option of <code class=\"language-text\">createPage</code> are injected into the <code class=\"language-text\">pageQuery</code> module inside the React component file.</p>\n<p>If you look at my query, you can see that the variable <code class=\"language-text\">postId</code> is used in the query type<code class=\"language-text\"> markdownRemark</code> as a parameter of the query, such as <code class=\"language-text\">query PostQuery ($ postId: String!) {}</code>. Through this process, we can create a page that can fetch data using dynamic values.</p>\n<p>In addition, Gatsby supports various actions such as <code class=\"language-text\">createRedirect</code> and<code class=\"language-text\"> createNode</code>, and you can also create interesting features by combining these APIs and actions. However, in fact, simple features such as pagenation, category, and tag page required for applications such as blogs can be implemented with just the <code class=\"language-text\">createPage</code> action.</p>\n<h2 id=\"the-annoying-parts\" style=\"position:relative;\">The annoying parts<a href=\"#the-annoying-parts\" aria-label=\"the annoying parts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>After learning the basics of Gatsby, I had to work on implementing all the features that were implemented with Hexo and the CSS styles provided by the Icarus theme. And it wasn’t a lie to spend my time here during this migration, so it was a tedious series of tasks.</p>\n<p>Of course, implementing all the features now can take too long, so I tried to implement features first that people often use or existing features that affect SEO, but the fact that I still have a lot of code to write hasn’t changed. So I aimed to work a little steadily with patience.</p>\n<h3 id=\"care-about-the-connection-with-the-existing-link\" style=\"position:relative;\">Care about the connection with the existing link<a href=\"#care-about-the-connection-with-the-existing-link\" aria-label=\"care about the connection with the existing link permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>One of the things to watch out for when migrating web services is that links to old pages shouldn’t die. For example, if the URL <code class=\"language-text\">/posts/1</code> before migration was a link to a page where you can see post 1, this rule must be the same after migration also.</p>\n<p>If this rule is broken, the user accessing the link will encounter <code class=\"language-text\">404</code> status. Since my blog post has already been shared through various channels, and is often linked as a reference post on another blog, I had no choice but to care about this part.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/b8cf4a7419783c7dc8a53d556099190c/eea4a/whoami.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAP/2gAMAwEAAhADEAAAAYiE51kzRP/EABoQAAICAwAAAAAAAAAAAAAAAAECABIDESH/2gAIAQEAAQUC0IAsbIqksaWMbrf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAWEQEBAQAAAAAAAAAAAAAAAAAAERL/2gAIAQIBAT8BjL//xAAZEAABBQAAAAAAAAAAAAAAAAAAARARIdH/2gAIAQEABj8CNIEt/wD/xAAbEAEAAgIDAAAAAAAAAAAAAAABACERMUFhsf/aAAgBAQABPyF7B8mAWsUpC4uU03Gorc//2gAMAwEAAgADAAAAEFMf/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCMU//EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAgEBPxASbAv/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFRkf/aAAgBAQABPxBwhkQbajPZdFe+n2X/AGQ6I6oKrnUrhwHscUp1n//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"whoami\" title=\"\" src=\"/static/b8cf4a7419783c7dc8a53d556099190c/c08c5/whoami.jpg\" srcset=\"/static/b8cf4a7419783c7dc8a53d556099190c/0913d/whoami.jpg 160w,\n/static/b8cf4a7419783c7dc8a53d556099190c/cb69c/whoami.jpg 320w,\n/static/b8cf4a7419783c7dc8a53d556099190c/c08c5/whoami.jpg 640w,\n/static/b8cf4a7419783c7dc8a53d556099190c/6a068/whoami.jpg 960w,\n/static/b8cf4a7419783c7dc8a53d556099190c/eea4a/whoami.jpg 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>If the existing link is not processed properly, the user will see the 404 page.</small>\n</center>\n<p>Also, problems may arise in the SEO aspect. If <code class=\"language-text\">404</code> status is returned from the old post link, the search engine bot will recognize the page as deleted, and the it can be disappear from the search results. If inevitably it is a situation where you need to change an existing link to another link, you must explicitly return the ‘301’ status code as a response to tell the search engine bot which link the <code class=\"language-text\">/posts/1</code> has changed to.</p>\n<p>Hexo provided a feature that automatically maps posts with the title <code class=\"language-text\">yyyymmdd-{postTitle}</code> to URLs in the form <code class=\"language-text\">/yyyy/mm/dd/{postTitle}/</code>, unfortunately Gatsby does not.</p>\n<p>The gatsby-starter-blog starter basically gets the path of each post markdown file and uses it as a URL as a boilerplate, but this method is different from Hexo’s URL generation method. So I had to do extra work so that the posts had the same URL as before.</p>\n<p>To do this, I wrote a simple code that creates a URL from the file path of each post and inserts it into the post node field with the key <code class=\"language-text\">path</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-node.js</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateNode</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> getNode <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNodeField <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">MarkdownRemark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> <span class=\"token function\">createFilePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> getNode <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> filePath<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>\n      <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?&lt;=\\/)(\\d{4})(\\d{2})(\\d{2})(-)(?=.+)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'$1/$2/$3/'</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">slug</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      node<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> filePath<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">path</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      node<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The field of the node created through the <code class=\"language-text\">createNodeField</code> action is inserted into a <code class=\"language-text\"> field</code> property, and it can be accessed like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query PostQuery {\n    markdownRemark {\n      fields {\n        path\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Mapping the posts of these new blogs to have the same links as existing blogs wasn’t very difficult or complicated, but it was quite annoying because I had to work with care not to break even a single link.</p>\n<h3 id=\"make-it-all-by-myself\" style=\"position:relative;\">Make it all by myself.<a href=\"#make-it-all-by-myself\" aria-label=\"make it all by myself permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>When I using Hexo, I rarely had to develop it myself because I used the functions provided by the theme or actively used plugins. However, the reason for this migration was my blog was too dependent on themes or plugins, so I choose to implement the necessary functions directly.</p>\n<p>For example, I was rendering related posts using the <a href=\"https://github.com/tea3/hexo-related-popular-posts\" target=\"_blank\" rel=\"nofollow\">hexo-related-popular-posts</a> plugin before, but in the Gatsby ecosystem, I couldn’t find a useful one, so I implemented it myself like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-tsx line-numbers\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useMemo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> intersection <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/intersection'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useAllPosts <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'src/hooks/useAllPosts'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">RelatedPosts</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> tags<span class=\"token punctuation\">,</span> currentPost <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token function\">useAllPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> relatedPosts <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> posts\n      <span class=\"token comment\">// Filter out current post.</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>post <span class=\"token operator\">=></span> post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title <span class=\"token operator\">!==</span> currentPost<span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// Finds duplicates between the tag of the current post and the tag of another post.</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>post <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        post<span class=\"token punctuation\">,</span>\n        tags<span class=\"token operator\">:</span> <span class=\"token function\">intersection</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>tags <span class=\"token operator\">??</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> tags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// Filter out posts without duplicated tags.</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> tags <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> tags<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// Sorts in descending order of the number of duplicated tags.</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> b<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>v <span class=\"token operator\">=></span> v<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// Only the top 5 posts with the most duplicated tags are filtered out.</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MAX_COUNT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>currentPost<span class=\"token punctuation\">,</span> posts<span class=\"token punctuation\">,</span> tags<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>In fact, it is quite simple logic because it is just simply finding the posts that have the most tags that overlap with the current posts.</p>\n<p>It’s annoying to have to implement all of this, but on the other hand, it it means that the freedom to implement the desired features has also increased. So it is Ok.</p>\n<h3 id=\"there-is-no-posting-creation-function-in-cli\" style=\"position:relative;\">There is no posting creation function in CLI.<a href=\"#there-is-no-posting-creation-function-in-cli\" aria-label=\"there is no posting creation function in cli permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Essentially, Gatsby isn’t dedicated to markdown blogs, it’s just a static site generator, so it doesn’t offer anything like post creation with CLI.</p>\n<p>However, it is too bored work to manually create a directory every time, rename a directory, and create a posting file. So I decided to write a very simple script and use it.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-md line-numbers\"><code class=\"language-md\"><span class=\"token comment\">&lt;!-- example.md --></span>\n\n<span class=\"token hr punctuation\">---</span>\n\ntitle: $title\ndate: $date\ntags:\ncategories:\nthumbnail:\n\n<span class=\"token hr punctuation\">---</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You can create a new posting file by simply creating an example file and loading it when creating a new posting file, and changing only <code class=\"language-text\">$title</code> and<code class=\"language-text\"> $ date</code> to strings that you want.</p>\n<p>After that, you can use NodeJS <code class=\"language-text\">readline</code> API to receive the title of the post through system input during runtime, and record the post creation time in this markdown file.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> new-post\n\n<span class=\"token function\">yarn</span> run v1.22.0\n$ <span class=\"token function\">node</span> ./scripts/newPost.js\n\nPlease enter the title of the posting.\nSince this title becomes the URL of the posting, it should be written <span class=\"token keyword\">in</span> English without spaces. <span class=\"token operator\">></span>\n <span class=\"token operator\">=</span><span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Of course, you can also input category or tag data in the same way, but I didn’t add any related features because I felt it wasn’t very useful because I often changed categories or tags while writing a post.</p>\n<p>Not only me, but other many developers are writing their own scripts to do this. Unlike my simple script, their scripts are nice and feature-rich, so let’s find them out.</p>\n<h2 id=\"epilogue\" style=\"position:relative;\">Epilogue<a href=\"#epilogue\" aria-label=\"epilogue permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>When I first started migrating my blog, I thought it would take a month or so, but thanks to the Golden Holiday, the work ended faster than I thought.</p>\n<p>Although the design feels a bit clunky and buggy compared to the previous version, it has evolved into the first goal, “Application that can be add any feature that I want”, so I am satisfied.</p>\n<p>And during this migration, I removed Google AdSense from my blog.</p>\n<p>This is because there was a small amount of revenue coming from advertisements, and I thought that advertisements could cause fatigue to users who visit my blog. <small><strike>(You can make money with stocks and real esta…MMF..MMPH)</strike></small></p>\n<p>Anyway, the start was to attach the i18n function to the blog, but suddenly I migrated, so it seems to be a Yak shaving. But as a result, I’m happy to get away from Hexo so I can make this and that blog easier.</p>","fields":{"slug":"20200509-gatsby-migration-retrospectiveen","path":"/2020/05/09/gatsby-migration-retrospective/en/","lang":"en"},"frontmatter":{"title":"Migrating from Hexo to Gatsby","subTitle":"A Small Feature Turned into a Full Blog Migration… An Unexpected Journey of Migration","date":"May 15, 2020","categories":["Programming","Tutorials"],"tags":["Gatsby","Hexo","Migration","Developer","Developer Blog","Yak Shaving"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/8e1cc1a52ffd263af7247d9f38008f4c/d803c/thumbnail.png","srcSet":"/static/8e1cc1a52ffd263af7247d9f38008f4c/d803c/thumbnail.png 320w,\n/static/8e1cc1a52ffd263af7247d9f38008f4c/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/8e1cc1a52ffd263af7247d9f38008f4c/fc5c5/thumbnail.webp 320w,\n/static/8e1cc1a52ffd263af7247d9f38008f4c/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/8e1cc1a52ffd263af7247d9f38008f4c/01fb2/thumbnail.png","srcSet":"/static/8e1cc1a52ffd263af7247d9f38008f4c/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/8e1cc1a52ffd263af7247d9f38008f4c/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"595df78d-0005-5204-ba0c-50755781c626","tableOfContents":"<ul>\n<li>\n<p><a href=\"#everything-is-built-from-function-composition\">Everything Is Built from Function Composition</a></p>\n<ul>\n<li><a href=\"#domains-and-ranges-must-match-for-composition\">Domains and Ranges Must Match for Composition</a></li>\n<li><a href=\"#side-effects-exist-even-in-pure-functions\">Side Effects Exist Even in Pure Functions</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#how-should-we-manage-side-effects\">How Should We Manage Side Effects?</a></p>\n</li>\n<li>\n<p><a href=\"#what-is-a-functor\">What Is a Functor?</a></p>\n<ul>\n<li><a href=\"#categories\">Categories</a></li>\n<li><a href=\"#functors\">Functors</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#lets-build-a-functor\">Let’s Build a Functor!</a></p>\n<ul>\n<li><a href=\"#just\">Just</a></li>\n<li><a href=\"#nothing\">Nothing</a></li>\n<li><a href=\"#maybe\">Maybe</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#closing-thoughts\">Closing Thoughts</a></p>\n</li>\n</ul>","excerpt":"Writing code in functional programming means expressing the various tasks a program needs to perform as functions, then skillfully composing those functions to build a large program. Function composition is the very foundation of this paradigm, which makes it enormously important. The problem is th…","html":"<p>Writing code in functional programming means expressing the various tasks a program needs to perform as functions, then skillfully composing those functions to build a large program.</p>\n<p>Function composition is the very foundation of this paradigm, which makes it enormously important. The problem is that all sorts of practical issues pop up during the process of composing functions.</p>\n<p>The biggest reason these issues arise is simple. No matter how much we use pure functions, they can never be perfectly identical to mathematical functions. Programming and mathematics are similar but fundamentally different disciplines.</p>\n<p>So brilliant minds around the world started bringing in mathematical concepts like functors and monads to solve these problems. The catch? These concepts are far too abstract and arcane to understand intuitively.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ef8b4abd3bbf9916883c3115a00bab71/eb645/functor-example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 47.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVR42n1SPUsDQRB9+TAfl9xdssnlvBhP0YgWIRZBSRfwi4C2dqksLAQLK8vr7AIWgljY5BfYCoKtf8JSwcbOOs5cZuMi0YHH7u2+nXlvboCfmDOQwP+RFF56Fp8vHYJrrK4QZwWfl4RrIhnf0k6dAcUpPRon0bvhb0VI/UqW3gEWIiCjD4LTNwudS1eKAGVS8wXUnwCfH3jHz83i+btH+zzB1olkdUZA7RVoP9KK/r1XGrxsBtHYEm4+tvABzF8jF7Iie+92DScPtvSlQlgkbIiCKqv7BMJ1EgErDDLM70VcMAdxquUr6Z2lK1F4ExPxXQBxQVgGJ5y0xBd1GZ0wttWZNDtVOFxp1a+2Kmpb6WbD+IucPEdSljiRvVuvlAftVmN4oBC6ZRET28pOm3x3VHUuugqFQm3GT2EVVV2gMewqf7RfU/2mI3ni8A27WalS+mNs2O6qPLZkVDQ/Zc5hQshFUfHXYCcMfl5akjUZ31tXJv6WZZGyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"functor example\" title=\"\" src=\"/static/ef8b4abd3bbf9916883c3115a00bab71/6af66/functor-example.png\" srcset=\"/static/ef8b4abd3bbf9916883c3115a00bab71/69538/functor-example.png 160w,\n/static/ef8b4abd3bbf9916883c3115a00bab71/72799/functor-example.png 320w,\n/static/ef8b4abd3bbf9916883c3115a00bab71/6af66/functor-example.png 640w,\n/static/ef8b4abd3bbf9916883c3115a00bab71/d9199/functor-example.png 960w,\n/static/ef8b4abd3bbf9916883c3115a00bab71/21b4d/functor-example.png 1280w,\n/static/ef8b4abd3bbf9916883c3115a00bab71/eb645/functor-example.png 2500w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>A functor explanation diagram that makes you want to cry just looking at it...</small>\n</center>\n<p>When I was studying functors and monads, the resources I found through Google fell into roughly two categories: “terrifyingly difficult mathematical explanations” and “code examples.”</p>\n<p>The problem was that there were very few resources bridging the gap between the two. In other words, I couldn’t find many resources that clearly explained exactly which programming problems functors and monads were introduced to solve. <em>(Or maybe everyone else understood and I was just too dense to get it.)</em></p>\n<p>But I didn’t want to use functors and monads without properly understanding why, so I decided to investigate and figure it out myself.</p>\n<p>In this post, I want to talk about what problems arise when you carelessly combine functions in functional programming, and how those problems can be solved.</p>\n<h2 id=\"everything-is-built-from-function-composition\" style=\"position:relative;\">Everything Is Built from Function Composition<a href=\"#everything-is-built-from-function-composition\" aria-label=\"everything is built from function composition permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Let me say it again: functional programming is a paradigm where you express a program’s tasks as functions, then compose those functions to build a large program.</p>\n<p>The most important keyword in this definition is “function composition.” The reason functional programming is so vigilant about side effects is ultimately because you need to be able to predict a function’s inputs and outputs in order to compose functions safely.</p>\n<p>In the world of functional programming, every action inside a program is expressed as a function — even assigning a value to a variable or performing simple arithmetic.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Imperative programming</span>\n<span class=\"token keyword\">const</span> foo<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nfoo <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Functional programming</span>\n<span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">add2</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This program simply declares a <code class=\"language-text\">number</code> variable and adds 2 to it.</p>\n<p>In the imperative version, variable assignment could be expressed as simply as <code class=\"language-text\">foo = 1</code>, and the operation as <code class=\"language-text\">foo + 2</code>. In the functional version, the assignment becomes a function that returns <code class=\"language-text\">1</code>, and the operation becomes <code class=\"language-text\">add2(foo)</code>.</p>\n<p>The part we should focus on is the very last line: <code class=\"language-text\">add2(foo)</code>.</p>\n<p><code class=\"language-text\">add2(foo)</code> means using the output of the anonymous function assigned to <code class=\"language-text\">foo</code> — the value <code class=\"language-text\">1</code> — as the input to <code class=\"language-text\">add2</code>. This act is function composition.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// A more simplified version looks like this</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add2</span> <span class=\"token operator\">=</span> x <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">add2</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>In a world where even simple operations like assigning values and adding numbers must be expressed as functions, building a robust large-scale program hinges on how well you can compose various complex functions.</p>\n<p>This might seem like a simple concept, but you can’t just compose any functions willy-nilly. There’s one critically important rule for function composition: the <strong>domain and range of the functions being composed must match</strong>.</p>\n<h3 id=\"domains-and-ranges-must-match-for-composition\" style=\"position:relative;\">Domains and Ranges Must Match for Composition<a href=\"#domains-and-ranges-must-match-for-composition\" aria-label=\"domains and ranges must match for composition permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>As I discussed in <a href=\"/2019/12/29/about-pure-functions/\">Pure Functions – A Programming Paradigm Rooted in Mathematics</a>, functional programming uses pure functions to minimize side effects.</p>\n<p>The two key characteristics of pure functions are:</p>\n<blockquote>\n<ol>\n<li>Don’t modify or reference state outside the function!</li>\n<li>Given the same input, always return the same output!</li>\n</ol>\n</blockquote>\n<p>Using pure functions makes it easier for developers to predict function behavior, which helps with debugging. But more fundamentally, if these rules aren’t followed, functions can’t be composed at all — making it impossible to build programs by expressing everything as functions and combining them.</p>\n<p>Why do these rules need to be followed for composition to work? Since pure functions are a programming implementation of mathematical functions, let’s first look at how mathematical functions behave.</p>\n<p>Mathematical functions have a domain — the set of possible input values — and a range — the set of possible output values.</p>\n<p>Each element in the domain must map to exactly one element in the range. In other words, the same input must always produce the same output. If this rule breaks, it’s no longer a function — it becomes something else entirely.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/33c48b0d809a227af542dee05cf064b5/80cfc/functions.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNklEQVR42m2T207DMAyG3axt0tM6YBsgJC6QuNlASLvhqXggXoEX4zGK034GD7D0K4kPvx07ERE5Kk6KR0Uhi7SKF8U9OtNfK14Vz4pRfuQBXZMPSdFDYrLi3DqyLAHfTlE6fUIXBYdKscaQCTbok2VFGnQt/gUkl6ydsedsA4YctFdcucwmPdVnny22C8UNLcj+38xrKsv7HYSBcwAtyRtg5NFVPx8yagIqSBIBRmh9DfjYviE22jUi1fkK91wp/ENYYr8jZuTKAz5nldhgrJcFfQtuv6LCLf2ztbIBtrBvMNRk3PnJIR1Bg3tmeb1F19jkLLBw78omXDvC2pEm9zZtML38aeyb4mO+VvKNdhKx1QfFtPS0dEOiqnG+8kne9Qt9zk0Xmc5+yW95UsLDtHxZdV18vwAdIhBsPqNo7AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"functions\" title=\"\" src=\"/static/33c48b0d809a227af542dee05cf064b5/6af66/functions.png\" srcset=\"/static/33c48b0d809a227af542dee05cf064b5/69538/functions.png 160w,\n/static/33c48b0d809a227af542dee05cf064b5/72799/functions.png 320w,\n/static/33c48b0d809a227af542dee05cf064b5/6af66/functions.png 640w,\n/static/33c48b0d809a227af542dee05cf064b5/d9199/functions.png 960w,\n/static/33c48b0d809a227af542dee05cf064b5/21b4d/functions.png 1280w,\n/static/33c48b0d809a227af542dee05cf064b5/80cfc/functions.png 1844w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>Simply put: pick one value from the designated set of possible inputs and throw it into the function, and exactly one value from the designated set of possible outputs will come out.</p>\n<p>If that’s true of mathematical functions, then pure functions — their programming counterparts — must also have something equivalent to a domain and range. What would those be in the programming world?</p>\n<center>\n.<br />\n.<br />\n.<br />\n<br />\n</center>\n<blockquote>\n<p>They’re <strong>types</strong>.</p>\n</blockquote>\n<p>If you think about it, types in programming are really a kind of set. The <code class=\"language-text\">number</code> set contains elements like <code class=\"language-text\">{-1, 0, 0.1, 1, 2, NaN, Infinity...}</code>, the <code class=\"language-text\">boolean</code> set contains <code class=\"language-text\">{true, false}</code>, and the <code class=\"language-text\">string</code> set contains every string that can be created programmatically.</p>\n<p>Looking at the <code class=\"language-text\">add2</code> function from earlier, we can see it takes a <code class=\"language-text\">number</code> type value and returns a <code class=\"language-text\">number</code> type value.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> add2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>We can say that <code class=\"language-text\">add2</code> has <code class=\"language-text\">number</code> as both its domain and range. We can define the domain and range of other function types using the same rules.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">f</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Domain: number, Range: string</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">g</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=></span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Domain: Array&lt;string>, Range: boolean</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">h</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Domain: string, Range: boolean</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The commonalities between mathematical functions and programming pure functions are starting to become clearer.</p>\n<p>Now let’s get to the main topic: function composition. In mathematics, composing functions is extremely common — there’s even a dedicated symbol for it.</p>\n<p>The composite function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">h</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span></span></span></span></span> of functions <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span> can be expressed with this simple formula:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>h</mi><mo>=</mo><mi>g</mi><mo>∘</mo><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">h = g\\circ f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span></div>\n<p>If the sudden math gives you a headache, just think of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> as “eating a meal,” <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span> as “clearing the dishes,” and the composite function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">h</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span></span></span></span></span> as “eating a meal and clearing the dishes.” Functions are inherently that abstract.</p>\n<p>In this formula, functions execute from right to left. Using the composite function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">h</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span></span></span></span></span> as <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">h(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></span> is actually identical to composing functions as <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">g(f(x))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">))</span></span></span></span></span>.</p>\n<p>But if we keep nesting functions to represent composition, any formula with many composed functions would be nothing but parentheses. That’s why we use the circle operator to lay out the composed functions in a readable way. <em>(Think of the difference between callbacks and async/await.)</em></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Without a composition operator, it would look something like this...</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token function\">h</span><span class=\"token punctuation\">(</span><span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token function\">g</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>When composing functions, there’s an important principle: the range of the first function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> must match the domain of the next function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span>.</p>\n<p>Since we said that a pure function’s domain and range are types, we can also say that the first function’s output type must match the next function’s input type.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Composition is possible!</span>\n<span class=\"token function-variable function\">f</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span>\n<span class=\"token function-variable function\">g</span><span class=\"token operator\">:</span>           <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span>\n\n<span class=\"token comment\">// This can't be composed...</span>\n<span class=\"token function-variable function\">f</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span>\n<span class=\"token function-variable function\">g</span><span class=\"token operator\">:</span>           <span class=\"token builtin\">number</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The domain-and-range talk might have sounded complicated, but translating it to types makes it blindingly obvious. So if we use pure functions and follow this rule, are we free from problems?</p>\n<p>Well, in most cases yes — but sadly, not all. The programming world has cases that don’t exist in mathematics, like errors and uncertainty.</p>\n<p>Even pure functions — programming implementations of mathematical functions — can’t escape these cases as long as they exist in the programming world.</p>\n<p>Because these problems persist even with pure functions, brilliant minds around the world started wondering “how can we safely compose functions?” — and the concepts they introduced to answer that question were mathematical ideas like functors and monads.</p>\n<h3 id=\"side-effects-exist-even-in-pure-functions\" style=\"position:relative;\">Side Effects Exist Even in Pure Functions<a href=\"#side-effects-exist-even-in-pure-functions\" aria-label=\"side effects exist even in pure functions permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>“Side effect” literally means “secondary effect.”</p>\n<p>Any secondary effect that occurs beyond what we expect from a function is a side effect. A function being affected by external state is just one representative example.</p>\n<p>Compared to mathematical functions, pure functions are actually quite flimsy beyond the guarantee that “the same input always produces the same output.” Consider a function that takes a string and returns its first character:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getFirstLetter</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This is a pure function. Its output depends only on its argument, it always returns the same output for the same input, and it’s not affected by any external state.</p>\n<p><code class=\"language-text\">getFirstLetter</code> is a pure function that returns the first character of a given string — but if an empty string is passed as an argument, it will return <code class=\"language-text\">undefined</code> instead of a <code class=\"language-text\">string</code>.</p>\n<p>Can we really guarantee that this function will always return a <code class=\"language-text\">string</code> type?</p>\n<p>If we assumed <code class=\"language-text\">getFirstLetter</code> would definitely return a <code class=\"language-text\">string</code> and composed functions accordingly, we’d run into a type error like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getStringLength</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getStringLength</span><span class=\"token punctuation\">(</span><span class=\"token function\">getFirstLetter</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Uncaught TypeError<span class=\"token operator\">:</span> Cannot read property <span class=\"token string\">'length'</span> <span class=\"token keyword\">of</span> <span class=\"token keyword\">undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Even this error is a side effect. It’s a secondary effect occurring beyond what we expected from our pure function.</p>\n<p>When multiple functions are composed and even a single one throws an error, the entire composed operation falls apart. That’s why we must manage these side effects.</p>\n<p>In truth, <code class=\"language-text\">getFirstLetter</code>’s range isn’t just <code class=\"language-text\">string</code> — it’s a <code class=\"language-text\">string|undefined</code> union. So we could solve this by redefining both functions’ domains and ranges and adding error handling:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getFirstLetter</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token operator\">|</span><span class=\"token keyword\">undefined</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getStringLength</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token operator\">|</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>But once a function starts having a range that’s a union of multiple types, every function that composes with it also needs a domain that’s a union — resulting in cancerous types like <code class=\"language-text\">type|undefined</code> spreading across every function.</p>\n<p>On top of that, checking for value existence inside every function with conditional logic is tedious, and duplicating the same code everywhere means this isn’t a fundamental solution.</p>\n<p>This uncertainty about what type a function might return ultimately hinders clear type usage during composition — where domains and ranges must match — making it a side effect we absolutely must address.</p>\n<h2 id=\"how-should-we-manage-side-effects\" style=\"position:relative;\">How Should We Manage Side Effects?<a href=\"#how-should-we-manage-side-effects\" aria-label=\"how should we manage side effects permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The reason this happens is simply that “computers aren’t math.” Every function running in a program has these issues. Even pure functions.</p>\n<p>Fundamentally, the question is: how can we manage the unavoidable side effects that arise during function composition?</p>\n<p>Can we safely complete a composed operation even if a function in the middle throws an error? Can we make uncertain function outputs clear before passing them to the next function?</p>\n<p>What if we wrap the function in another function that safely handles exceptions, or skip the next function if a weird value comes out?</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">StringFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">safety</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token operator\">|</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> fn<span class=\"token operator\">:</span> StringFunction<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">?</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">safety</span><span class=\"token punctuation\">(</span><span class=\"token function\">getFirstLetter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">safety</span><span class=\"token punctuation\">(</span><span class=\"token function\">getFirstLetter</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">1</span>\n<span class=\"token keyword\">undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>But this approach seems hard to apply to functions with all sorts of input/output types, so let’s make it more flexible with generics.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">safety</span> <span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token operator\">|</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">fn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">?</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token generic-function\"><span class=\"token function\">safety</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token function\">getFirstLetter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token generic-function\"><span class=\"token function\">safety</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">number</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token function\">getFirstLetter</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">1</span>\n<span class=\"token keyword\">undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Now we’re getting somewhere. Essentially, the <code class=\"language-text\">safety</code> function takes a value of <code class=\"language-text\">T</code> or <code class=\"language-text\">undefined</code>. If the value is <code class=\"language-text\">undefined</code>, it returns <code class=\"language-text\">undefined</code> as-is. Otherwise, it passes the value to a function that takes <code class=\"language-text\">T</code> and returns <code class=\"language-text\">U</code>, and returns that function’s result.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">Has value<span class=\"token operator\">:</span>    <span class=\"token constant\">T</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> fn<span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span>\nNo value<span class=\"token operator\">:</span>     <span class=\"token constant\">T</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Instead of directly connecting <code class=\"language-text\">getFirstLetter</code>’s range to <code class=\"language-text\">getStringLength</code>’s domain, we’ve safely composed the functions by wrapping the side effect with <code class=\"language-text\">x ? fn(x) : x</code> logic.</p>\n<p>What if we extended this concept — what if some kind of safety wrapper always surrounded a function’s output value? If we could create something that wraps both a function’s normal result and its side effects, couldn’t we solve this problem?</p>\n<center>\n  <div style=\"width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4ff50b03adf61a44030b6872ee2fdcce/f793b/set.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADyElEQVR42m2UW08bRxTH3TxFbb9bHppW9KtUavvSN3ipqpZGitJcheglCQQQpFWt0AawZ/bi9QXstbnULgaMvFdj452Zf8/smsSorHR07J3Z37mfXG7qAXAr1af5jxEVZzAqLZC4uLAHGFgxRraLsbMA35jRd7Jvvr6Vu+m5OoDH7iJgLuQuzjqbyi0twbVfoNvcQLO8hMP6uoKsQQbFJkLjk2lHpmC5D1LtF2YhasClo+iyzK/+KB7Mf6We3f8GfPMJHnz/pbr37RcCPpMYlxVEFfCLc9MMTc9gkTELNEA6EYEpETJgYEJFBmTISXOM+ztI/CLd4YDHJZ0JwAVCPnctfPj8M21NRqZoeueKewJH/ilUwPTl90JwLck+x6VNBhpMqZCgUnvKP81g//IPMXQqSEo48Lrybw8oeApaHwdtAhWgNCwgiTnEPxwjRmJmetyk8EUZuCiV0d34KEcVnNEWRr4tmZcQDKnskFjeCCI0kYY/gY4cjqHBMDRZpi0GeU5QRbmPzM9zcuA8A6o49fbFFkGKfYWClgnUDxqpl9o7ecIwti1yqATh2KRtJJaFpM0ol3uUc+tRTsZmnUzh0D+RbwnAfEmwTPT/Y1+HvQNFQNU20fn9D5RfPEd95RWqyy/RWl3TOaWwHTJqOjkZGREihv3IV6vNPh7+WcDCdhlP3nC8PhqgE51RqBlQHppoE3D93jzW5n+A9evPqC+/ouJwhcsSGTa6OaKmQDfw1JtTge+eb+D+6y0sFqrY7CkcBRqYhTxuMYhSCbsry/jr8SO01teoOCYu95iiidLAE8qhRSGbaHk9uR0A641jrNQ6yLc9bPlA2z9OPcTAwHifobmyBvu3X1BdeonNxz/BWFzE2KWQk/Ik5GHpKVBB2+sInTMzUjBjgAcKukhnwUGaQ8QGRJsjLhQQswIGJBe8iGh7RxuiotRB7fcwJy7KM1BVeP6e3NYtc1XltNISg6BCwGw61Dk1tGVck5FJhrrUNrrK1IJTjV2F3Y9TKJtUuOYH73swnRTK4y71IiexJtohWEJGR04ZNjW2foQePVmBFzbFdh9KT0mRoHFQS717NykElL0MNiyScKZEl/KHXbpn3r22tmSYLYcgcpMj6sk4rGUNPT3LYTZ+qpdWXIkzvRxaurqz19bY1caR/eKczicSW1GrSBVwQRD1DhZwlb6LKExZVVB7U+srY0xv62yNhewOhelCUdXQoJ1X0fsxE/1bv9Nn6YJld26E/W97H+Rv63VE6+spbe8aLdRz8q6nf6fv6AzI377p4/8ApEvjlY5UrW0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"set\" title=\"\" src=\"/static/4ff50b03adf61a44030b6872ee2fdcce/6af66/set.png\" srcset=\"/static/4ff50b03adf61a44030b6872ee2fdcce/69538/set.png 160w,\n/static/4ff50b03adf61a44030b6872ee2fdcce/72799/set.png 320w,\n/static/4ff50b03adf61a44030b6872ee2fdcce/6af66/set.png 640w,\n/static/4ff50b03adf61a44030b6872ee2fdcce/d9199/set.png 960w,\n/static/4ff50b03adf61a44030b6872ee2fdcce/21b4d/set.png 1280w,\n/static/4ff50b03adf61a44030b6872ee2fdcce/f793b/set.png 1404w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <br>\n</center>\n<p>If that abstract something could manage function side effects while enabling composition with other functions, we could compose freely without handling exceptions at every step — maintaining type safety for function inputs and outputs.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Something like this!</span>\nf<span class=\"token operator\">:</span> Something<span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Something<span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token operator\">></span>\ng<span class=\"token operator\">:</span>                      Something<span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Something<span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>A function might return a proper value from its range, or it might return a value like <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code> that could cause side effects. But as long as that <code class=\"language-text\">Something</code> can handle exceptions on its own, we can compose functions without worrying about those details.</p>\n<p>And with this approach, beyond just managing <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code>, we could wrap various kinds of logic around values — making it a reasonably extensible concept. Something like:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">Maybe<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> The value may or may not exist\n<span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> No value right now<span class=\"token punctuation\">,</span> but you<span class=\"token string\">'ll get one when it'</span>s ready\nList<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> May contain multiple values <span class=\"token keyword\">of</span> the same kind</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>And to use this value-wrapping something effectively, we’d need to freely transform the internal value — so we’d also need something capable of operations like <code class=\"language-text\">Maybe&lt;T> -> Maybe&lt;U></code>.</p>\n<p>After this kind of deliberation, developers borrowed a mathematical concept that serves a similar role. That concept is the <strong>functor</strong>.</p>\n<h2 id=\"what-is-a-functor\" style=\"position:relative;\">What Is a Functor?<a href=\"#what-is-a-functor\" aria-label=\"what is a functor permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Functors are commonly explained as some kind of box that holds a value. As I described above, a box is an apt metaphor for something that can wrap and handle both a function’s normal results and its side effects.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/340a17df74756ac7c3e06a5a4eaa74fb/78597/fmap_just.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 28.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR42mVQTUvEMBDtr9ejB8+uiseCCMJ6dNnjgqigtFnWfmT7kSZtYpsE048kZld2EX0wwzAzj3lvPGutMcYe4Gqtdcd5EkdScNeBECgl9yNr9GT2+Fn29KSPRCokSDNGG1SRxeI+266zHK1W87bF6ksFGXoN1r0UbjVO4wJjb3brE1oLKbv2M4DFbPkM8ooQEiURY9Sp6IdhnDQl+B2iywcfJGveydPri3P/xju5Onv7AASTsiy5lI9B/LKteNc2lAkhD152mcn+bjnfwI1T8RSGII08WCHnUClVYYwQitNEDYP9B8fXeirzAkIYAsAo3Xl24S6Q2iklTdOQuh6n8c8Xf7/TWHPEN7KLTgVWzdmZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"fmap just\" title=\"\" src=\"/static/340a17df74756ac7c3e06a5a4eaa74fb/6af66/fmap_just.png\" srcset=\"/static/340a17df74756ac7c3e06a5a4eaa74fb/69538/fmap_just.png 160w,\n/static/340a17df74756ac7c3e06a5a4eaa74fb/72799/fmap_just.png 320w,\n/static/340a17df74756ac7c3e06a5a4eaa74fb/6af66/fmap_just.png 640w,\n/static/340a17df74756ac7c3e06a5a4eaa74fb/78597/fmap_just.png 947w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>[Source] http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html</small>\n</center>\n<p>This box might contain logic that helps you use values safely, logic that can process multiple values, logic that makes values available once they’re determined in the future — it’s a magical box containing various kinds of logic that assist in using values.</p>\n<p>Since this box isn’t limited to a fixed role and can have various capabilities like <code class=\"language-text\">Maybe</code> or <code class=\"language-text\">Promise</code>, it’s also called a “context.”</p>\n<p>The <code class=\"language-text\">safety</code> function we created earlier can be thought of as a kind of box wrapping values.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">safety</span> <span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token operator\">|</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">fn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">?</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<center>\n  <div style=\"width: 200px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/2a4ed3a1c967bb8474d5ef04b59bb091/27b7a/box.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 110.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAADLUlEQVR42pVVW1NSURTG0uk31G91GpvqoR7qoZesqV50SisrdZTwAU1L4JwDnAscQJT7XS4HEBTPOV9rby6Bxowy87HX3mt9315r783C4aAPsHqXjTEb9zw1SIdV9Lx1GFILLamNltgkkO0/Q0sg29eAQXE9TxV+EZjra+COY2DM0NcM3O7ZCioPiFgOdIA/pxf2WiAOhlffXPjkCWFpP4DNcBr7hbYd7AJi0y6VUb4PcXFuTEucozwW0BROLo1ASaj1TF8T2M2d4dnSdzx5v4J3Lg+ek/3GeYCnH1bhjFcgtAAWyzi24UvAEB4xLQcM32MgAVzIltWRoTY6EOo2xLoJX+2SbBMBIkuGRWs9HOQNSA3yUYza6IJx0FNMrtESFhz2eTCNswAsQ7AoS5hNPy6bwT5ach9jc7OtjOYslnFsQzRxTsJdJeqgcumYJeawyQG7Id0OBuOKFhdsSRkHTZpo006GaJdPEsjoOWQjk8joWY7r6zmUjxOM2xdsiiRo0PG2JVgNyc6E80ioRSS1f0ioBWT1CgmccnvSV+SixLXoDtixZScFyZnUCkiF+khqeRIqQ9yTIewGuc3W/vkLPPMbCya0HErxOtZXtrC2vIFivHY7wfR/Su6jMCr/asnp8JSS2aWU4kkwUZbpOLJ6nuPqOostEmd4KWOC/D3ZdEv0DPy3A3FGz2ZCkDJkTuuW4ILGFMFkRUG4qEEnhIsqIuUQQgWFzyOlEMIFlY/6ICZU0JAoK6MMecnW4AxNEmRBKkFjwUQMZoOI1WIIV8KQczKO6jG+FqKNtEEs45jGFMFoSYVKWcSqEezKbrx8+wLrez+w7dmC07uNHdEFl+8nfql7iJ7qPJZxJgSHPz0mGCGnRmVEKjp8cS8+u1bxdecLljeXsPl7A4sfX8PpIWHBxTe9Ktj/6bHmMCyZZThWMoNO4kpOgZc2iFSjOIx5uNCo5HFB3hzO5RQ6vH3ZaboUlmX0GjQcVUKIFBU+Dtd1urgUccBa3wWNXZm1L9ZpT6jBKrQLLU5DV54cR5Bh91TeYOkJPaS/APcsPep5qv+YkKa0U3y8GYaxx3Rs80zrL1W5GIz1y+BDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"box\" title=\"\" src=\"/static/2a4ed3a1c967bb8474d5ef04b59bb091/6af66/box.png\" srcset=\"/static/2a4ed3a1c967bb8474d5ef04b59bb091/69538/box.png 160w,\n/static/2a4ed3a1c967bb8474d5ef04b59bb091/72799/box.png 320w,\n/static/2a4ed3a1c967bb8474d5ef04b59bb091/6af66/box.png 640w,\n/static/2a4ed3a1c967bb8474d5ef04b59bb091/27b7a/box.png 804w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>A box that executes `fn(x)` if `x` has a value, or returns `x` as-is if it doesn't</small>\n  <br>\n  <br>\n</center>\n<p>The point is that instead of using the value <code class=\"language-text\">x</code> directly, we’re putting <code class=\"language-text\">x</code> into the <code class=\"language-text\">safety</code> function — so we can think of the <code class=\"language-text\">safety</code> function as a kind of box.</p>\n<p>Conceptually, that’s really all there is to functors. From here, you just need to learn how to implement them and you’re good to go. But since this post aims to dig deeper into what functors really are, I want to talk about the more fundamental concept behind them.</p>\n<h3 id=\"categories\" style=\"position:relative;\">Categories<a href=\"#categories\" aria-label=\"categories permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>A functor is a concept from Category Theory in mathematics, defined as a structure that can define relationships between categories that share the same structure.</p>\n<p>To understand what a functor fundamentally is — and why we need functors for safe function composition through <code class=\"language-text\">Something&lt;type></code> — you need to know what a category is.</p>\n<p>The mathematical concept of a category isn’t actually that different from how we use the word “category” in everyday life. It’s roughly… a grouping of similar things.</p>\n<p>With that relaxed mindset, if you search for Category Theory on Wikipedia, you’ll find something like this:</p>\n<blockquote>\n<p>A category <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal {C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.05834em;\">C</span></span></span></span></span> consists of the following data:</p>\n<ul>\n<li>A collection <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>o</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">ob(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span> of <strong>objects</strong>. Elements of this collection are called “objects” of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>.</li>\n<li>For any two objects <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>∈</mo><mi>o</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">a,b \\in ob(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span>, a collection of <strong>morphisms</strong> <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mspace></mspace><mspace width=\"0.1111em\"></mspace><mo lspace=\"0em\" rspace=\"0.17em\"></mo><mtext> ⁣</mtext><mo lspace=\"0em\" rspace=\"0em\">:</mo><mspace width=\"0.3333em\"></mspace><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">f\\colon a\\to b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace nobreak\"></span><span class=\"mspace\" style=\"margin-right:0.1111em;\"></span><span class=\"mpunct\"></span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mrel\">:</span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> from <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></span> to <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>. The collection of all morphisms in <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span> is denoted <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\hom(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span>.</li>\n<li>For any three objects <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi><mo>∈</mo><mi>o</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">a,b,c\\in ob(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span>, a binary operation <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\hom(a,b)\\times \\hom(b,c)\\to \\hom(a,c)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span></span></span></span></span>, called <strong>composition</strong> of morphisms. The composition of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mspace></mspace><mspace width=\"0.1111em\"></mspace><mo lspace=\"0em\" rspace=\"0.17em\"></mo><mtext> ⁣</mtext><mo lspace=\"0em\" rspace=\"0em\">:</mo><mspace width=\"0.3333em\"></mspace><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">f\\colon a\\to b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace nobreak\"></span><span class=\"mspace\" style=\"margin-right:0.1111em;\"></span><span class=\"mpunct\"></span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mrel\">:</span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mspace></mspace><mspace width=\"0.1111em\"></mspace><mo lspace=\"0em\" rspace=\"0.17em\"></mo><mtext> ⁣</mtext><mo lspace=\"0em\" rspace=\"0em\">:</mo><mspace width=\"0.3333em\"></mspace><mi>b</mi><mo>→</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">g\\colon b\\to c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace nobreak\"></span><span class=\"mspace\" style=\"margin-right:0.1111em;\"></span><span class=\"mpunct\"></span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mrel\">:</span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span></span> is denoted <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>∘</mo><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">g\\circ f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">gf</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span>.</li>\n</ul>\n<p>…</p>\n<p><strong>Wikipedia</strong> <em><a href=\"https://en.wikipedia.org/wiki/Category_(mathematics)\" target=\"_blank\" rel=\"nofollow\">Category (mathematics)</a></em></p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7d059800d070c80898d9648585a46696/65f94/what.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAHSEoDQlKv/xAAbEAAABwEAAAAAAAAAAAAAAAAAAQIDEiEyEf/aAAgBAQABBQKfQ5IJXTWnMpOv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/AVxsv//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAgEBPwFQf//EABcQAAMBAAAAAAAAAAAAAAAAAAABEiD/2gAIAQEABj8CFGf/xAAZEAEBAAMBAAAAAAAAAAAAAAABABEhMUH/2gAIAQEAAT8hEsEwL10kSvYa7xDYO+ST/9oADAMBAAIAAwAAABBLD//EABYRAQEBAAAAAAAAAAAAAAAAAAARMf/aAAgBAwEBPxDAS//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAJgn//xAAbEAEAAwEBAQEAAAAAAAAAAAABABEhMWFBUf/aAAgBAQABPxAiOLp5M9dWd87GZ42v2Xs2A1X2AUBRU7TBGsJ//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"what\" title=\"\" src=\"/static/7d059800d070c80898d9648585a46696/65f94/what.jpg\" srcset=\"/static/7d059800d070c80898d9648585a46696/0913d/what.jpg 160w,\n/static/7d059800d070c80898d9648585a46696/cb69c/what.jpg 320w,\n/static/7d059800d070c80898d9648585a46696/65f94/what.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>Huh...?</small>\n</center>\n<p>The general idea of category theory is actually something anyone can understand. It’s just that mathematics is inherently abstract, and explaining things in everyday language would be too long and complex, so mathematicians use condensed words and symbols. <em>(This is honestly one of the reasons people give up on math.)</em></p>\n<p>As I mentioned, a category in math is basically the same concept as categories on a shopping site. The difference is that mathematical categories are more abstract — they could be categories of objects, of natural numbers, or even of functions.</p>\n<p>According to the definition above, a category consists of “objects” and “morphisms.”</p>\n<p>An object is simply an item within a category. In a fashion shopping site’s product category, the objects would be shirts, sweatshirts, outerwear, and coats. In a category of natural numbers, the objects would be 1, 2, 3, and so on. So far, this feels similar to how we use “category” in everyday life.</p>\n<p>But a mathematical category also has morphisms.</p>\n<p>Looking at the definition again, a morphism is something with a domain <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></span> and a codomain <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> for any two objects <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>∈</mo><mi>o</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">a,b \\in ob(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span>. The notation <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>∈</mo><mi>o</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">a,b \\in ob(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span> just means objects <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> are in category <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>, so we can skip that. The keywords we should focus on are “domain” and “codomain.”</p>\n<p>What’s the first thing that comes to mind when you hear “domain” and “codomain”? That’s right — <strong>functions</strong>. Saying that <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></span> is the domain and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> is the codomain means that applying some morphism (function) to object <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></span> produces <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> objectA <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">morphismAdd1</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Applying the morphism add1 to object A...</span>\n<span class=\"token function\">morphismAdd1</span><span class=\"token punctuation\">(</span>objectA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token number\">2</span> <span class=\"token comment\">// Produces object B</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>In other words, a morphism is essentially a function that represents the relationship between objects. That’s why we can express it mathematically as <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">f: a \\to b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> and programmatically as the lambda <code class=\"language-text\">(a) => b</code>. <em>(There are cases where morphisms aren’t functions depending on the type of objects, but let’s not go there.)</em></p>\n<p>Now that we understand this much, let’s grab a simple category and play with it.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d24e3d04ef5aa42d4f6de9c7fef7744b/7a18f/category.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIklEQVR42pVTPW/TUBS1U7eQSgGqColOYciAkFCmiIWqEks3tszZspcPic1kgFIKPwCpCwMDIBVRpQLKYNQG7KQOCUogAdqCSh0Fx7Hz4aSQ2r3cW7nIFNo0Rzp6912/d+557z4zkm4rqRq0F9aqzbn8uhkvKOZiqV3LtAGkqnWNQXh9vkvDIyNnKF5Y0/h3JsBS+Wf9We6bGf+4YdJeSYdO0oAiU7DtzRUAeKs24MlyEZ5/KsGyUd/SMJeu1ydJxO/3nz4bCp3CkJ3P52dU/JbvWNbT7Bd4mMjCq1VlexVzRYAyI1bgulixb2Y2IbZUak0l1K3bcgN4SYO7og4XSBDXeogUJ1QYFTWYRjcx5K3XSvNOpgUxSbMnk1W4zPwHfa6Y3Ye76Ef6/tqNlftc9ITDYW8gEDhJc57nPXurOW531kYikaPBYPAExqwgCBzlmX0wiDzGdMe/Dl0gN0eckSoNO8LdBKkw5/DPPRGGkOPUVOR5ZMhZPHCAIIkcR44iz+39yLoqcY5LznHq6XJk1u2wG7yO+57v8CD4djfy2F0BYKej4YkJb3BsjLrsuS/L/YIAXC+iQ07T3BhwvQa2J4vRaJSON/hypXIxWYPpdAtuCN/Ne49ThRnZBF7U7SnRgCuHFqTHS2M8nX7QwMmHZsualXPwSHwPYknd3sDcV/qXDwu6NxrfVDpXkzr8kqq28uKz+mMut64uKu2yqFlGyoDsb0n0PW01RzOAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"category\" title=\"\" src=\"/static/d24e3d04ef5aa42d4f6de9c7fef7744b/6af66/category.png\" srcset=\"/static/d24e3d04ef5aa42d4f6de9c7fef7744b/69538/category.png 160w,\n/static/d24e3d04ef5aa42d4f6de9c7fef7744b/72799/category.png 320w,\n/static/d24e3d04ef5aa42d4f6de9c7fef7744b/6af66/category.png 640w,\n/static/d24e3d04ef5aa42d4f6de9c7fef7744b/d9199/category.png 960w,\n/static/d24e3d04ef5aa42d4f6de9c7fef7744b/21b4d/category.png 1280w,\n/static/d24e3d04ef5aa42d4f6de9c7fef7744b/7a18f/category.png 1284w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <br>\n</center>\n<p>Imagine a category <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal {C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.05834em;\">C</span></span></span></span></span> with this structure. The objects are bicycle, car, and airplane, and the morphisms are the <code class=\"language-text\">faster</code> arrows between them.</p>\n<p>In this category, applying the <code class=\"language-text\">faster</code> morphism to bicycle produces car, and applying <code class=\"language-text\">faster</code> to car produces airplane. When we say morphisms express relationships between objects, this is what we mean. A bicycle made faster becomes a car, and a car made faster becomes an airplane.</p>\n<p>And since applying a morphism is the same as applying a function, we can express this category’s structure in simple code.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> category <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'bicycle'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'car'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'airplane'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">faster</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">category<span class=\"token punctuation\">,</span> object</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> category<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> v <span class=\"token operator\">===</span> object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> category<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">faster</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">,</span> <span class=\"token string\">'bicycle'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">faster</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">,</span> <span class=\"token string\">'car'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token string\">'car'</span>\n<span class=\"token string\">'airplane'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>And the faster <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∘</mo></mrow><annotation encoding=\"application/x-tex\">\\circ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord\">∘</span></span></span></span></span> faster morphism drawn directly from bicycle to airplane represents the composition of two faster morphisms. In code, that’s <code class=\"language-text\">faster(faster('bicycle')) === 'airplane'</code> — two composed function calls.</p>\n<p>Expressing morphism composition in programming is nothing more and nothing less than composing functions. This simple idea looks like this when stated in mathematical terms:</p>\n<blockquote>\n<p>For any three objects <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi><mo>∈</mo><mi>o</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">a,b,c\\in ob(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">b</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span>, a binary operation <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>hom</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\hom(a,b)\\times \\hom(b,c)\\to \\hom(a,c)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">hom</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span></span></span></span></span>, called composition of morphisms. The composition of <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mspace></mspace><mspace width=\"0.1111em\"></mspace><mo lspace=\"0em\" rspace=\"0.17em\"></mo><mtext> ⁣</mtext><mo lspace=\"0em\" rspace=\"0em\">:</mo><mspace width=\"0.3333em\"></mspace><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">f\\colon a\\to b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace nobreak\"></span><span class=\"mspace\" style=\"margin-right:0.1111em;\"></span><span class=\"mpunct\"></span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mrel\">:</span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mspace></mspace><mspace width=\"0.1111em\"></mspace><mo lspace=\"0em\" rspace=\"0.17em\"></mo><mtext> ⁣</mtext><mo lspace=\"0em\" rspace=\"0em\">:</mo><mspace width=\"0.3333em\"></mspace><mi>b</mi><mo>→</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">g\\colon b\\to c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace nobreak\"></span><span class=\"mspace\" style=\"margin-right:0.1111em;\"></span><span class=\"mpunct\"></span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mrel\">:</span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span></span> is denoted <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>∘</mo><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">g\\circ f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> or <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">gf</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span>.</p>\n</blockquote>\n<p>The three objects in this definition correspond to bicycle, car, and airplane from our category. And the <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mi>o</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">hom</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">m</span></span></span></span></span> in <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mi>o</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">hom(a,b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">m</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span></span> refers to a collection of morphisms — a set of morphisms.</p>\n<p>The reason there can be multiple morphisms is straightforward. Even in our category, the relationship between bicycle and car isn’t limited to just <code class=\"language-text\">faster</code>:</p>\n<blockquote>\n<ol>\n<li>bicycle -<strong>faster</strong>-> car</li>\n<li>bicycle -<strong>more expensive</strong>-> car</li>\n<li>bicycle -<strong>larger</strong>-> car</li>\n<li>bicycle -<strong>has an engine</strong>-> car</li>\n</ol>\n</blockquote>\n<p>Multiple morphisms can exist between any two objects, so mathematicians lump their collection together and call it <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mi>o</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">hom</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">m</span></span></span></span></span>.</p>\n<p>You might wonder why we need to care about all these details, but mathematics is a discipline where answers must be definitive and exceptions are never allowed, so definitions must account for every possible case.</p>\n<p>And <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mspace></mspace><mspace width=\"0.1111em\"></mspace><mo lspace=\"0em\" rspace=\"0.17em\"></mo><mtext> ⁣</mtext><mo lspace=\"0em\" rspace=\"0em\">:</mo><mspace width=\"0.3333em\"></mspace><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">f\\colon a\\to b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace nobreak\"></span><span class=\"mspace\" style=\"margin-right:0.1111em;\"></span><span class=\"mpunct\"></span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mrel\">:</span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> refers to applying just one morphism from the <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mi>o</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">hom</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">m</span></span></span></span></span> collection to objects <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>. We don’t know which morphism will be applied, but only one can be applied at a time. <em>(Applying multiple simultaneously would require a quantum computer.)</em></p>\n<p>Finally, just as we applied the faster morphism twice to bicycle, composing morphisms <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">f: a\\to b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>:</mo><mi>b</mi><mo>→</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">g: b\\to c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span></span> is denoted <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>∘</mo><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">g\\circ f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> — morphism composition.</p>\n<p>In other words, applying morphism <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span> to the object “bicycle,” then applying morphism <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span>, produces the object “airplane.” In code: <code class=\"language-text\">g(f('bicycle')) === 'airplane'</code>.</p>\n<p>Category theory is such an abstract theory that everything happening inside a program can be expressed as category models. Likewise, the process of applying functions to values and composing them in functional programming can also be represented as a category model.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/31c57f106ec9d6857471d2fcdbfe5da7/bf286/category-example.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 80.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVR42oVTyXLTQBAVVz4A+AjgxBdw5cid/+KYKi4UBRRQIZA9xIkXyfISEztRkC05lu1402ixrMQzj55xEiBUQFWv2prpfu73uqUBuKPd/lzd3SPc1f7zXHMhqj1AWHyM0Hj0F3D40HNWn9x6ryDvsvcXZEx/gcBIMDWBuCgwKwOzCpCU5DtEVMRsmBXpJE9nZXWm7lLKmZUXNbI20CMExecaTw9OcV5Bz3d4dTARRccRedsWZa8nTpgv+u6u0LeWhFV6Kya9vKiPx6LidUWhaYui64iD4USc+c058B3ivFbReGQmYDk0gxFWTxMsbZt4+WUfH+tdFHyBSd9A0s8gPdvDaWsPmeEc76qOynm1d4CN7gUc1udITPCo1CLJxox8QMoqiIMGkugI40GVftcxDQ5JMskh2RIiLiFmhypnMjrANGyompSVubIgMBzpYUrapQcE8iko4HyUQdjZAkL98txQEEwnFOi8gKi7DT7JLmqYToRVujNcjSaUIiF2+ndMS4tI7+m4gGSwT8WmTLwmVQiLRLgLThFTGkxkcvCaHKCrsc526h2vYNDcwMjZoLiGM3sdp0crcOvLSIZZRQp21eWCMCTCkbMJz/oq6zjr7CDwvrnasLWRysIzew0dIrHK79Guf0ar9gljdxMy8cInmcoWIvytw97JqsodtNZ51/qCdmOZJMdmKvUrubL95AoLG+ZEJknFJRmXxNRx2M1gHlLNjGpjGgpXA3Q17hfSX4bfhKGKabGVRNmZYHk1iJCGMh+Rx36O7Chw+TFwprtybRKZ+IfpN0GrE9MuRv19BOwI8dSG3TLAmIUw+oHEr6i1EYFOexiZMXUzV6O/BdynGOrctnb49oDzN5U2f11y+FKmxj+cBNwJhxeIdFpss6mRfxZQpy5KQnl4K0q4mNbQjsZo9NqwBh3U2hbq/Q782OFAg77val5KfkZd2BQ96rQj47+R8xAbC0xNjzojxlyXrDmmL+7pTz/gOdXQ1uU9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"category example\" title=\"\" src=\"/static/31c57f106ec9d6857471d2fcdbfe5da7/6af66/category-example.png\" srcset=\"/static/31c57f106ec9d6857471d2fcdbfe5da7/69538/category-example.png 160w,\n/static/31c57f106ec9d6857471d2fcdbfe5da7/72799/category-example.png 320w,\n/static/31c57f106ec9d6857471d2fcdbfe5da7/6af66/category-example.png 640w,\n/static/31c57f106ec9d6857471d2fcdbfe5da7/d9199/category-example.png 960w,\n/static/31c57f106ec9d6857471d2fcdbfe5da7/21b4d/category-example.png 1280w,\n/static/31c57f106ec9d6857471d2fcdbfe5da7/bf286/category-example.png 1688w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>Everything that happens inside a program can be expressed as a category</small>\n  <br>\n  <br>\n</center>\n<p>Personally, I believe this is all you need to know about category theory to understand functors more easily. Once you accept that things happening in a program can be defined as categories, understanding functors becomes straightforward.</p>\n<h3 id=\"functors\" style=\"position:relative;\">Functors<a href=\"#functors\" aria-label=\"functors permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>Now let’s transform our simple category into a more abstract model. Replace the names bicycle, car, and airplane with variables <code class=\"language-text\">x, y, z</code>, and replace the morphism <code class=\"language-text\">faster</code> with variables <code class=\"language-text\">f</code> and <code class=\"language-text\">g</code>.</p>\n<center>\n  <div style=\"max-width: 300px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8580182cd5537b8b1808d4e97c3c27a4/93582/absolute-category.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 89.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42o1Uy27aQBSlm1aq1G1XXfYP8g39gHxe/6GrqE0iRS0USDBgxzRN1AQ15IFxeNmeGRtjDJ7TOxPaQBKsIh3NZebccx8z1wUALxQK+b93hDd5hDUdZUjZfvUc6Ozl9vaHtzs7H18rO4e3FGPWe/D6J3DjBLxhg9da9H8FzRYmx5bkTVvba2eKa9j3vqRBWgVMrBLgIkm72WzexXzRg1oTQppeUeBfCAZVpLFN9jnS+bU+19xsyU2dBXAH0vpWQGxOukFXljxkhwHkXofL0iCVZR+yPppI1itLt70nmVOUt+f78qgvZIV4pcFc7nYCeUi8Ivm63AFpsQJEPfHEFVr+FGc8hnHbR8vj+MmmaAc+FkETUpiQ3EQyNnDhj+ksQWvENVf52H4sWXQDhHVeoL7MEJqAaNBGE3O/htAtapt6SvvmA0KLVtoPG5gHBsJBecmrS+qz4oiloPXgFFmI+hWE/bK2wc110aXw3K9DuOX7ILxJgvYGQYVpC+FdBTPP0A50w88KhhRYC7FNgrQugjoCpwjW+w63vY/ssdg/XgP+bRHT0ZHae1qyziI6RkSZ3Zx9xvj6K6JBBZyEpXhatuJ3z3cx7Bwov5weKlD6UvWPAkyHR/e9iqynPaTgiPNKXomuM15mrQRjEla23leCVHJID/7/LuWRuDpnTgkp9ReRqZ9KMqpi8HtfTQcyZqyULMwkT/AvMnp//csDXAx7uBARTsceTOcObSFw6gspoiv1lnlBTuxYp5yDTPUotCRzq7LiMlnlNG6Dmfxy6ctDRra/OnrpKaXQUReRIW5hM6hHyQ+I+AbepAd/4sCLunodh06mPw6zk4b6fG3RONWoVx5lM6TJGG1CxhojMIPsNQwhDI/KraXM2PoDpJ3XiwGEc1UAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"absolute category\" title=\"\" src=\"/static/8580182cd5537b8b1808d4e97c3c27a4/6af66/absolute-category.png\" srcset=\"/static/8580182cd5537b8b1808d4e97c3c27a4/69538/absolute-category.png 160w,\n/static/8580182cd5537b8b1808d4e97c3c27a4/72799/absolute-category.png 320w,\n/static/8580182cd5537b8b1808d4e97c3c27a4/6af66/absolute-category.png 640w,\n/static/8580182cd5537b8b1808d4e97c3c27a4/d9199/absolute-category.png 960w,\n/static/8580182cd5537b8b1808d4e97c3c27a4/21b4d/absolute-category.png 1280w,\n/static/8580182cd5537b8b1808d4e97c3c27a4/93582/absolute-category.png 1524w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <br>\n</center>\n<p>After abstracting our category this way, it feels like there should be other categories with the same structure — not just category <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>.</p>\n<p>And that makes sense, because categories with this structure of objects and morphisms are extremely common — frankly, it’s a universal pattern that can be fitted to almost any definition.</p>\n<p>So if we can apply morphisms to objects to transform them into other objects, couldn’t we apply something to a category to transform it into another category?</p>\n<p>That’s exactly where the <strong>functor</strong> comes in. A functor is a morphism (function) that can transform one category into another.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/091da7127032da1c6ee53eb819d6af9d/b8f37/functor-category.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 38.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9UlEQVR42jWSS2/TQBSFg5DYUMESqWVHECAhWPDT+BEIwQ9g2RWLSJUqgZAKEn0lcbDdkAbapk3TPJymjp/zsF0/4jmMnWDp6s7VfHPmnJErCD+vl+XUNur1zScIvy/nsLaBeW2tIj+gcqfscka49RhQHu19ef/047u3bxBurwPbyzOo3avc+KPM8I3QJRdRah+G1P8bTYkRTP1JztmZDvHtQSnm1R5yetoe24N84o1C1+6EZPyDu6QfDe0BnzMDCT/+VJkwGz1nDptPIdw6fL+HvmeLK+qCx1cB0Hi+dHlUDeJh2rOucWJOBWMXSK19mNRA1xjmZkKRZX2lAq5i4TWQuU0gaANcR+o1hKAtOetscrrzshAc/vn6AkxNCj616yKnv1a8hsRr5ojlmmlSkOkIzDrY7AALokqgjVtbEbKKA/y8vfVa6t1VDjZf5URNPWMPZLovIqsBQfWSj51WzmaHyLxWqxTMqSY3NcRSpOip2xSCtIobOaj6rIxMjqqSTQoeVBPF5bGjlIkST8mRdFYOo98o67ZT2ne9Hs48V/SpD56MAsT/37BfRdxNSy5si6IXsWfEgD4e5dcxx2JxWURWiXRh50xzQFQn8LuO6Y8skwx5SE9+4mbn/vKX2V2TEXeXrjULK97zzx3DvrQsfxBl7PjDP7mvCVMvxyTZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"functor category\" title=\"\" src=\"/static/091da7127032da1c6ee53eb819d6af9d/6af66/functor-category.png\" srcset=\"/static/091da7127032da1c6ee53eb819d6af9d/69538/functor-category.png 160w,\n/static/091da7127032da1c6ee53eb819d6af9d/72799/functor-category.png 320w,\n/static/091da7127032da1c6ee53eb819d6af9d/6af66/functor-category.png 640w,\n/static/091da7127032da1c6ee53eb819d6af9d/d9199/functor-category.png 960w,\n/static/091da7127032da1c6ee53eb819d6af9d/21b4d/functor-category.png 1280w,\n/static/091da7127032da1c6ee53eb819d6af9d/b8f37/functor-category.png 3524w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>No matter how complex category <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span> is, we can simply wrap the category with a functor like <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">F(C)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mclose\">)</span></span></span></span></span> and use it. Then all objects and morphisms inside the functor-applied category are wrapped in the function <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span></span>.</p>\n<p>The most important point is that wrapping with a functor <strong>never changes the category’s structure itself</strong>. In the diagram above, you can see that while <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span></span> has been applied to the objects and morphisms, the shape of the arrows hasn’t changed.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> objectX <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> objectY <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">morphismF</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">morphismF</span><span class=\"token punctuation\">(</span>objectX<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> objectY<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> objectX <span class=\"token operator\">=</span> <span class=\"token function\">functor</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> objectY <span class=\"token operator\">=</span> <span class=\"token function\">functor</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> morphismF <span class=\"token operator\">=</span> <span class=\"token function\">functor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">morphismF</span><span class=\"token punctuation\">(</span>objectX<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> objectY<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Even when using a functor, the rules the category has are never changed. Put simply, it safely wraps objects and morphisms without causing any other side effects.</p>\n<p>Remember when I said everything in programming can be expressed as a category?</p>\n<p>No matter how complex a category is, simply wrapping it with a functor transforms it into another category without touching the original category’s structure. This fits perfectly with the need we identified: “wrap values to use them safely.”</p>\n<h2 id=\"lets-build-a-functor\" style=\"position:relative;\">Let’s Build a Functor!<a href=\"#lets-build-a-functor\" aria-label=\"lets build a functor permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>A functor isn’t a grand concept. Simply put, if something can transform one category into another, it’s a functor.</p>\n<p>The act of a functor transforming a category is called “mapping” — more precisely, applying a function to a category to transform it into another category.</p>\n<p>Because functors are such an abstract concept, everyone describes them differently — “I use functors for this,” “I use functors for that.” A functor is merely something capable of mapping, so the possibilities are endless depending on how you apply it.</p>\n<p>Since the concept of a functor just needs to allow transforming the internal value through a specific method, expressing it in code isn’t that hard.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Functor<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token generic-function\"><span class=\"token function\">map</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token function-variable function\">f</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">U</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Functor<span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<ul>\n<li><code class=\"language-text\">Functor&lt;T></code>: This functor holds a value of type <code class=\"language-text\">T</code>.</li>\n<li><code class=\"language-text\">map&lt;U></code>: Applying this functor’s morphism yields a new functor holding a value of type <code class=\"language-text\">U</code>.</li>\n<li><code class=\"language-text\">f: (x: T) => U</code>: The morphism works by taking a value of type <code class=\"language-text\">T</code> and outputting a value of type <code class=\"language-text\">U</code>.</li>\n</ul>\n</blockquote>\n<p>The <code class=\"language-text\">map</code> method applies the <code class=\"language-text\">(x: T) => U</code> function passed as an argument to the functor’s internal value, and returns a new functor wrapping the transformed value.</p>\n<p>The function passed to <code class=\"language-text\">map</code> is what actually transforms the functor’s internal value. This function is called a “transform” function.</p>\n<p>The reason mapping returns a functor wrapping the transformed value — rather than the raw value itself — is that a functor is fundamentally a structure that transforms one category into another. It doesn’t destroy the category and extract the objects inside.</p>\n<p>And since a functor merely represents a new category, it must not modify the original category’s objects. That’s why instead of updating the existing functor’s value, it creates and returns a new functor containing the transformed value.</p>\n<p>If this feels confusing, think about <code class=\"language-text\">Array.prototype.map</code>. When you think about it, an array is a kind of functor too — a box holding values.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token comment\">// Functor&lt;number></span>\n<span class=\"token keyword\">const</span> array<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Transform function: (x: number) => string</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">toString</span> <span class=\"token operator\">=</span> v <span class=\"token operator\">=></span> v<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Mapping!</span>\narray<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>toString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// New functor Functor&lt;string></span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>We can use the transform function <code class=\"language-text\">toString</code> to change the values inside the array functor, but we don’t destroy the box (the array) itself.</p>\n<p>Because the <code class=\"language-text\">map</code> method we commonly use is attached to <code class=\"language-text\">Array</code>, it’s easy to associate mapping with iteration. But mapping isn’t that specific an operation.</p>\n<p>Whether <code class=\"language-text\">map</code> internally iterates, bangs a drum, or does a breakdance — as long as it ultimately performs the transformation <code class=\"language-text\">Functor&lt;T> -> Functor&lt;U></code>, it qualifies. You should now have a sense of how functors work.</p>\n<p>Time to implement a functor ourselves. Since functors are such an abstract concept, the possibilities are endless depending on how you apply them. But this post is already quite long, so I can’t showcase many. Other developers have written great posts with functor implementations, so check those out if you’re curious.</p>\n<p>In this post, I’ll build the simplest functors — <code class=\"language-text\">Just</code> and <code class=\"language-text\">Nothing</code> — then combine them into a <code class=\"language-text\">Maybe</code> functor that manages side effects caused by the presence or absence of values.</p>\n<h3 id=\"just\" style=\"position:relative;\">Just<a href=\"#just\" aria-label=\"just permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Just</code> functor simply wraps a value with no additional functionality, and allows that value to be transformed through its <code class=\"language-text\">map</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Just<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Functor<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token generic-function\"><span class=\"token function\">map</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span> <span class=\"token punctuation\">(</span><span class=\"token function-variable function\">f</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Just<span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">(</span><span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">Just</code> is a simple functor that holds a value internally. Using its <code class=\"language-text\">map</code> method means transforming the functor’s <code class=\"language-text\">T</code> type value into a <code class=\"language-text\">U</code> type value and wrapping it in a new <code class=\"language-text\">Just</code> functor.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Just</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> v <span class=\"token operator\">+</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> v<span class=\"token punctuation\">.</span>toString<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> v<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Just <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"nothing\" style=\"position:relative;\">Nothing<a href=\"#nothing\" aria-label=\"nothing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Nothing</code> functor, as the name suggests, holds no value internally. Since there’s no value to apply a transform function to, its <code class=\"language-text\">map</code> method does nothing and simply returns a <code class=\"language-text\">Nothing</code> functor.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Nothing</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Functor<span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">map</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Nothing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Nothing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Nothing <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Why do we need a functor that explicitly represents the absence of a value?</p>\n<p>Because once you start composing functions with functors, all values in the operation must also be wrapped in functors. If you try to apply a plain function to a functor-wrapped value, you’ll naturally get an error.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Just</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfoo <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Operator '+' cannot be applied to types 'Just&lt;number>' and 'number'.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>So once you start composing functions with functors, you must keep using functors until the composition is complete. The whole point of using functors is to maintain type safety and manage side effects during composition — if even one non-functor sneaks in, the entire composed operation’s safety can’t be guaranteed. <em>(One bad apple spoils the bunch.)</em></p>\n<p>This might sound inconvenient, but think about how we use <code class=\"language-text\">Array</code> — which I described as a representative functor. It’s not such a strange concept.</p>\n<p>If you have <code class=\"language-text\">new Array(3)</code> and want to add 2 to the value it holds, how would you do it? Remember, in functional programming, state mutation isn’t allowed, so you can’t use an approach like <code class=\"language-text\">new Array(3)[0] += 2</code>.</p>\n<p>In functional programming, where immutability is paramount, if you want to change a value inside an array, the only way is to create “a new array with the changed value.”</p>\n<p>That’s why we must use the <code class=\"language-text\">map</code> method to change array values while preserving immutability. Now you can probably see why a functor’s <code class=\"language-text\">map</code> method creates and returns a new functor after transforming the value.</p>\n<h3 id=\"maybe\" style=\"position:relative;\">Maybe<a href=\"#maybe\" aria-label=\"maybe permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If you’ve followed along this far, let’s build a more complex functor. The <code class=\"language-text\">Maybe</code> functor’s <code class=\"language-text\">map</code> method applies the given function to the internal value if it exists, and returns a <code class=\"language-text\">Nothing</code> functor if it doesn’t.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Maybe<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Functor<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> Just<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token operator\">|</span> Nothing<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span>value<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Just<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Nothing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token generic-function\"><span class=\"token function\">map</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span> <span class=\"token punctuation\">(</span><span class=\"token function-variable function\">f</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token operator\">|</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">U</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Just</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">map</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">U</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Nothing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getFirstLetter</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">s</span> <span class=\"token operator\">=></span> s<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getStringLength</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">s</span> <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Maybe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hi'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getFirstLetter<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> bar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Maybe</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getFirstLetter<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Just { value: 1 }</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Nothing {}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With the <code class=\"language-text\">Maybe</code> functor, we can compose functions with confidence, without worrying about <code class=\"language-text\">null</code> or <code class=\"language-text\">undefined</code> breaking the composition chain.</p>\n<p>Of course, you’ll eventually need an <code class=\"language-text\">if</code> statement to distinguish whether the final result is <code class=\"language-text\">Just</code> or <code class=\"language-text\">Nothing</code>. But at least you don’t need to check at every step during composition. In other words, when composing functions, you can focus solely on the composition.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Without functors, you can't freely compose functions</span>\n<span class=\"token keyword\">const</span> firstLetter <span class=\"token operator\">=</span> <span class=\"token function\">getFirstLetter</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>firstLetter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">getStringLength</span><span class=\"token punctuation\">(</span>firstLetter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Composition failed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// With the Maybe functor, you can compose with peace of mind</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Maybe</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getFirstLetter<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getStringLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Just</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Composition failed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With just the simple concept of wrapping a value and being able to transform its contents, we’ve achieved safe function composition.</p>\n<p>In this post, I only used the <code class=\"language-text\">Maybe</code> functor as an example for managing side effects from value presence/absence. But as I’ve said multiple times, a functor is just a box wrapping a value — depending on what logic you implement, you can create wildly different functors.</p>\n<p>For instance, <code class=\"language-text\">Promise</code> — which guarantees a future value even though there’s no value right now — can be seen as a kind of functor. And <code class=\"language-text\">Array</code> — which can store multiple values sequentially — is also a kind of functor.</p>\n<p>A functor is an abstract concept, not a concrete implementation performing specific logic. It’s so versatile that with just the concept of wrapping a value and transforming it, you can let your imagination run wild and create all sorts of functor implementations.</p>\n<h2 id=\"closing-thoughts\" style=\"position:relative;\">Closing Thoughts<a href=\"#closing-thoughts\" aria-label=\"closing thoughts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Some readers may have thought while reading about functors: “Wait, isn’t this a monad?”</p>\n<p>To be precise, that’s half right and half wrong. A monad is ultimately a type of functor designed for safe function composition. Simply put, a monad is a morphism between two functors that satisfies certain special mathematical conditions.</p>\n<p>I didn’t cover applicative functors or monads in this post, but setting aside the theoretical details, the reason these additional concepts exist boils down to exactly one thing:</p>\n<blockquote>\n<p>Huh…? Functors alone can’t solve this either…?</p>\n</blockquote>\n<p>We used functors to achieve safe function composition, but in practice, there are plenty of cases where functors fall short. Like when you need to map over a value wrapped in multiple layers of functors. In such cases, functor mapping alone can’t compose functions.</p>\n<p>Think of applicative functors and monads as more abstract and powerful versions of functors, designed to cover even the edge cases that basic functors can’t handle.</p>\n<p>I actually wanted to explain monads in this post too, but explaining monads the same way I explained functors here would require diving deeper into category theory beyond the overview level, so I gave up. <em>(I’ll tackle monads in the next post.)</em></p>\n<p>Understanding the relationship between function composition and functors is admittedly quite abstract and not easy to grasp. Some developers just learn how to use functors and monads and move on with their programming. But personally, I think knowing why these concepts are used and where the ideas came from makes programming a lot more fun.</p>\n<p>This concludes my post: How Can We Safely Compose Functions?</p>","fields":{"slug":"20200127-safety-function-compositionen","path":"/2020/01/27/safety-function-composition/en/","lang":"en"},"frontmatter":{"title":"How Can We Safely Compose Functions?","subTitle":"Functors and monads: the magic that solves the problems ruining function composition","date":"Jan 27, 2020","categories":["Programming","Architecture"],"tags":["Functor","Monad","Functional Programming","Composition","Category Theory","Mathematics"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/fe86b5bd480c2654850ae7a9ec8c4aa2/d803c/thumbnail1.png","srcSet":"/static/fe86b5bd480c2654850ae7a9ec8c4aa2/d803c/thumbnail1.png 320w,\n/static/fe86b5bd480c2654850ae7a9ec8c4aa2/2a1fd/thumbnail1.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/fe86b5bd480c2654850ae7a9ec8c4aa2/fc5c5/thumbnail1.webp 320w,\n/static/fe86b5bd480c2654850ae7a9ec8c4aa2/e9225/thumbnail1.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/fe86b5bd480c2654850ae7a9ec8c4aa2/01fb2/thumbnail1.png","srcSet":"/static/fe86b5bd480c2654850ae7a9ec8c4aa2/01fb2/thumbnail1.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/fe86b5bd480c2654850ae7a9ec8c4aa2/b384d/thumbnail1.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}],"pageInfo":{"currentPage":1,"pageCount":2}}},"pageContext":{"limit":15,"skip":0,"lang":"en","totalCount":24}},"staticQueryHashes":["3523904809","650499039"],"slicesMap":{}}