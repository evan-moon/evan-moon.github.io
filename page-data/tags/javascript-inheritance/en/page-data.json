{"componentChunkName":"component---src-templates-tag-page-template-index-tsx","path":"/tags/javascript-inheritance/en/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"a4fa5185-a7ee-51e2-b7db-9147ee3bced8","tableOfContents":"<ul>\n<li>\n<p><a href=\"#properties-and-methods-can-be-shared-through-the-original-object\">Properties and Methods Can Be Shared Through the Original Object</a></p>\n<ul>\n<li><a href=\"#using-this-inside-the-constructor-function\">Using this Inside the Constructor Function</a></li>\n<li><a href=\"#defining-on-the-prototype-object\">Defining on the Prototype Object</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#prototype-lookup\">Prototype Lookup</a></p>\n</li>\n<li>\n<p><a href=\"#inheritance-using-prototypes\">Inheritance Using Prototypes</a></p>\n<ul>\n<li><a href=\"#use-objectcreate\">Use Object.create</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#wrapping-up\">Wrapping Up</a></p>\n</li>\n</ul>","excerpt":"In this post, continuing from the previous one, I want to talk about various inheritance patterns using prototypes. JavaScript doesn’t have explicit concepts like inheritance or encapsulation, which is why developers coming from class-based languages like Java or C++ are often confused by the absence of classes in JavaScript.","html":"<p>In this post, continuing from the <a href=\"/2019/10/23/js-prototype/\">previous one</a>, I want to talk about various inheritance patterns using prototypes.</p>\n<p>JavaScript doesn’t have explicit concepts like inheritance or encapsulation, which is why developers coming from class-based languages like Java or C++ are often confused by the absence of classes in JavaScript.</p>\n<!-- more -->\n<p>In other words, inheritance and encapsulation in JavaScript are essentially design patterns — implemented by OOP-minded developers using prototypes to approximate these concepts in JavaScript.</p>\n<p>Inheritance in JavaScript is implemented using the prototype chain, and encapsulation is implemented using closures. In this post, I’ll focus on explaining inheritance patterns using prototypes.</p>\n<h2 id=\"properties-and-methods-can-be-shared-through-the-original-object\" style=\"position:relative;\">Properties and Methods Can Be Shared Through the Original Object<a href=\"#properties-and-methods-can-be-shared-through-the-original-object\" aria-label=\"properties and methods can be shared through the original object permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Before diving into object inheritance, let’s look at how to assign properties and methods when creating objects. In the <a href=\"/2019/10/23/js-prototype/\">previous post</a>, I explained that JavaScript uses functions, not classes, to create objects.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">evan</code> object created by calling <code class=\"language-text\">User</code> as a constructor is a clone of the <code class=\"language-text\">User.prototype</code> object — the original object.</p>\n<p>There are two ways to assign properties or methods to newly created objects. The first is declaring them using <code class=\"language-text\">this</code> inside the constructor function. The second is declaring them on the prototype object — the original object that new objects are cloned from.</p>\n<p>Let’s first look at defining properties and methods using <code class=\"language-text\">this</code>.</p>\n<h3 id=\"using-this-inside-the-constructor-function\" style=\"position:relative;\">Using this Inside the Constructor Function<a href=\"#using-this-inside-the-constructor-function\" aria-label=\"using this inside the constructor function permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>In JavaScript, you can assign properties and methods to objects using <code class=\"language-text\">this</code> inside a constructor function, similar to other languages.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Hello, World!</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The reason I used <code class=\"language-text\">strict</code> mode inside the constructor function is to prevent <code class=\"language-text\">this</code> from being evaluated as the global object if the constructor is accidentally called without the <code class=\"language-text\">new</code> keyword. <small>(This isn’t directly related to prototypes, so I won’t go into detail.)</small></p>\n<p>This approach is intuitive because it resembles how constructors work in other languages. Since <code class=\"language-text\">this</code> inside the constructor refers to the newly created object, properties and methods defined through <code class=\"language-text\">this</code> are freshly created every time an object is instantiated using this constructor.</p>\n<p>To see what that means more concretely, let’s create two objects using the constructor and compare their methods.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>say <span class=\"token operator\">===</span> john<span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>When the constructor was called, <code class=\"language-text\">this</code> referred to the <code class=\"language-text\">evan</code> object and the <code class=\"language-text\">john</code> object respectively, and <code class=\"language-text\">say</code> was directly assigned to each. Since JavaScript’s strict equality operator (<code class=\"language-text\">===</code>) considers objects in different memory locations as different, these two methods are completely separate functions stored in different memory.</p>\n<p>If you print the <code class=\"language-text\">evan</code> object, you can see the <code class=\"language-text\">say</code> method defined directly inside it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">User <span class=\"token punctuation\">{</span><span class=\"token function-variable function\">say</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The reason I’m emphasizing something so obvious is to clearly contrast it with the approach I’m about to describe — defining methods on the prototype object. Using the prototype object produces an entirely different result.</p>\n<h3 id=\"defining-on-the-prototype-object\" style=\"position:relative;\">Defining on the Prototype Object<a href=\"#defining-on-the-prototype-object\" aria-label=\"defining on the prototype object permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>This time, let’s define a method on <code class=\"language-text\">User.prototype</code> — the prototype object of the <code class=\"language-text\">User</code> constructor. How does this differ from defining with <code class=\"language-text\">this</code>?</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Hello, World!</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>It seems to work the same as the method defined with <code class=\"language-text\">this</code>. You might think it’s identical, but there’s an important difference between the two approaches.</p>\n<p>The difference is whether all objects created through the constructor <strong>share</strong> the method or not. Let’s create two objects again and compare their methods.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>say <span class=\"token operator\">===</span> john<span class=\"token punctuation\">.</span>say<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token boolean\">true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This time, unlike before, the two objects’ methods are the same. That’s because <code class=\"language-text\">evan.say</code> and <code class=\"language-text\">john.say</code> aren’t methods defined separately on each object — they’re sharing the method from the original object.</p>\n<p>If you print the <code class=\"language-text\">evan</code> object, you can see what “sharing the original object’s properties and methods” means.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">User <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The <code class=\"language-text\">evan</code> object is completely empty — no methods or properties at all.</p>\n<p>In other words, when you define methods or properties on the original object instead of using <code class=\"language-text\">this</code> inside the constructor, the created objects don’t have those properties themselves — they reference the original object’s properties and methods.</p>\n<p>If you don’t properly understand this distinction, you can end up in situations like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Evan\nEvan</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>So if you want each object to have its own unique properties, you should define them using <code class=\"language-text\">this</code> inside the constructor, not on the original object. To repeat: <strong>properties and methods defined on the original object are shared among all created objects.</strong></p>\n<p>One curious thing is that the <code class=\"language-text\">evan</code> object had no properties or methods, yet I was able to access the <code class=\"language-text\">say</code> method through <code class=\"language-text\">evan.say</code>. How is that possible?</p>\n<h2 id=\"prototype-lookup\" style=\"position:relative;\">Prototype Lookup<a href=\"#prototype-lookup\" aria-label=\"prototype lookup permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>The answer lies in prototype lookup — one of the ways JavaScript searches for properties within an object. Here’s what happened when JavaScript found the <code class=\"language-text\">say</code> method on the <code class=\"language-text\">evan</code> object:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3caa593b82cbd86bf7af67e4dff11475/a2498/prototype_lookup.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAD2EAAA9hAHVrK90AAABiUlEQVR42pVSu2oCURDdGC0sbVKE4B9YWfkLWiSF+YCkskt62TqQ3xERF0VECxE1yKKID1B84BOX9YFys07mLG5YjJJkYJh7Z86cO/fcK0knRkTXiK1W63G1WlG5XDbS6fShWCwauq4T8nbcr2YBJ5NJeDqdglBUq9XPfD4v5vM5If9fQgdiPB6PYML1em1w7sCOSIlEImLH/YXwioMjFosF2+12NpfLJTkqfN3kYrHIMmEI9SPuLIEzk8mYXiqVXEegm9114Uzk3cABb/WCB346GeJdoVB47nQ6IUsnW83Jj3LPD/TE61t77dvG47Fcr9flRqMhj0ajKPu7oiivtVrtwTrRRujiBwqnUqmXwWDwxr1R9MLB02w2ZYCINSImMEXfbDYfXq/XA50uXNmBOnDAq6pq8NRYEmtMEhfEcDgU2+12jySLXwkEAjd+v/+shsijrmlaZbfbEU+6ZxPcKmazmZD4itTr9Wi5XJoT8l49TvhDH2vv8/k83W5Xxb/kXvPD82DU7/fpC7lobzt/8ly5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prototype lookup\" title=\"\" src=\"/static/3caa593b82cbd86bf7af67e4dff11475/6af66/prototype_lookup.png\" srcset=\"/static/3caa593b82cbd86bf7af67e4dff11475/69538/prototype_lookup.png 160w,\n/static/3caa593b82cbd86bf7af67e4dff11475/72799/prototype_lookup.png 320w,\n/static/3caa593b82cbd86bf7af67e4dff11475/6af66/prototype_lookup.png 640w,\n/static/3caa593b82cbd86bf7af67e4dff11475/d9199/prototype_lookup.png 960w,\n/static/3caa593b82cbd86bf7af67e4dff11475/21b4d/prototype_lookup.png 1280w,\n/static/3caa593b82cbd86bf7af67e4dff11475/a2498/prototype_lookup.png 1764w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<blockquote>\n<ol>\n<li>Attempt to access <code class=\"language-text\">evan.say</code></li>\n<li>Hmm, no <code class=\"language-text\">say</code> property here? Let’s follow <code class=\"language-text\">__proto__</code> up to the original object!</li>\n<li><code class=\"language-text\">User.prototype</code>, do you have a <code class=\"language-text\">say</code> property?</li>\n<li>You do? Profit!</li>\n</ol>\n</blockquote>\n<p>When you try to access a property on an object, JavaScript first checks whether that object has the property. If it doesn’t, it follows the prototype link up to the original object and checks again.</p>\n<p>This persistent search continues all the way up to <code class=\"language-text\">Object.prototype</code> — the ancestor of all objects. If the property doesn’t exist even there, only then does it return <code class=\"language-text\">undefined</code>.</p>\n<p>This means every object can access the properties and methods of all original objects in its prototype chain.</p>\n<p>Put simply, the <code class=\"language-text\">evan</code> object we just created has no properties or methods of its own, but it can use the <code class=\"language-text\">say</code> method defined on <code class=\"language-text\">User.prototype</code> (its original) as well as methods like <code class=\"language-text\">toString</code> or <code class=\"language-text\">hasOwnProperty</code> from <code class=\"language-text\">Object.prototype</code>.</p>\n<center>\n  <div style=\"width: 200px;\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7b54dda3a84203718b2412b4631d61b5/31493/prototype_lookup2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 220.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prototype lookup2\" title=\"\" src=\"/static/7b54dda3a84203718b2412b4631d61b5/6af66/prototype_lookup2.png\" srcset=\"/static/7b54dda3a84203718b2412b4631d61b5/69538/prototype_lookup2.png 160w,\n/static/7b54dda3a84203718b2412b4631d61b5/72799/prototype_lookup2.png 320w,\n/static/7b54dda3a84203718b2412b4631d61b5/6af66/prototype_lookup2.png 640w,\n/static/7b54dda3a84203718b2412b4631d61b5/31493/prototype_lookup2.png 664w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  </div>\n  <small>The evan object inherits properties from all original objects in its prototype chain</small>\n  <br>\n  <br>\n</center>\n<p>Prototype lookup is performed every time you access a property or method, which makes it feel a bit different from inheritance in class-based languages where all inheritance relationships are evaluated when the class is defined.</p>\n<p>But abstractly speaking, since it’s inheriting the parent (original) object’s attributes, we can implement inheritance based on prototype lookup.</p>\n<h2 id=\"inheritance-using-prototypes\" style=\"position:relative;\">Inheritance Using Prototypes<a href=\"#inheritance-using-prototypes\" aria-label=\"inheritance using prototypes permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>There are broadly two ways to implement inheritance using prototypes in JavaScript: using the <code class=\"language-text\">Object.create</code> method, and without it <small>(the ugly way)</small>.</p>\n<p>In practice, <code class=\"language-text\">Object.create</code> alone is more than enough for prototype-based inheritance. The reason I mention both is that <code class=\"language-text\">Object.create</code> is only supported from Internet Explorer 9 onwards.</p>\n<p>But since this post is written for my own happiness, I’d rather not go into detail about IE 8 and below environments. I’ll simply attach a <a href=\"https://gist.github.com/evan-moon/a7e5a51e20d22016ea443a03480765b7\" target=\"_blank\" rel=\"nofollow\">link to my GitHub Gist</a> with the code for the non-<code class=\"language-text\">Object.create</code> approach.</p>\n<h3 id=\"use-objectcreate\" style=\"position:relative;\">Use Object.create<a href=\"#use-objectcreate\" aria-label=\"use objectcreate permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The <code class=\"language-text\">Object.create</code> method takes as its first argument the object that will serve as the new object’s original, and as an optional second argument, properties to add to the new object.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>proto<span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span> properties<span class=\"token operator\">?</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>The second argument is optional, and rather than simply passing something like <code class=\"language-text\">{ test: 1 }</code>, you need to specify data descriptors and accessor descriptors, like you would with <code class=\"language-text\">Object.defineProperties</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">'I am Foo!'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>For the detailed meaning of each property, check <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties\" target=\"_blank\" rel=\"nofollow\">MDN Web Docs: Object.defineProperties</a>.</p>\n<p>The key point of this method is that you can specify an object’s prototype object, which means you can manipulate the prototype chain however you want. You can even change it dynamically. <small>(This is honestly one of JS’s more wild aspects…)</small></p>\n<p>Now let’s implement inheritance using <code class=\"language-text\">Object.create</code> and prototypes.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuperClass</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">SuperClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">say</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">I am </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>First, I created a <code class=\"language-text\">SuperClass</code> constructor function to serve as the parent class and defined a <code class=\"language-text\">say</code> method on its prototype object. Now let’s implement the child class constructor and define the inheritance relationship.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SubClass</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">SuperClass</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SuperClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> SubClass<span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">run</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is running</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>It might look like a lot, but when you break it down piece by piece, it’s fairly straightforward.</p>\n<h4 id=\"superclasscallthis\" style=\"position:relative;\">SuperClass.call(this)<a href=\"#superclasscallthis\" aria-label=\"superclasscallthis permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>The <code class=\"language-text\">Function.prototype.call</code> method changes the execution context of the called function to whatever is passed as the first argument. In other words, it changes the target of <code class=\"language-text\">this</code>.</p>\n<p>So <code class=\"language-text\">SuperClass.call(this, name)</code> means: call the parent constructor, but change the execution context to the child constructor. Think of it as the JavaScript equivalent of calling <code class=\"language-text\">super</code> in Java.</p>\n<p>I used <code class=\"language-text\">call</code> here, but anything that changes the parent constructor’s execution context works fine — <code class=\"language-text\">apply</code> or <code class=\"language-text\">bind</code> would do the job equally well.</p>\n<h4 id=\"changing-subclassprototype\" style=\"position:relative;\">Changing SubClass.prototype<a href=\"#changing-subclassprototype\" aria-label=\"changing subclassprototype permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Next, I used <code class=\"language-text\">Object.create</code> to create a new object with <code class=\"language-text\">SuperClass.prototype</code> as its original, and assigned it as <code class=\"language-text\">SubClass</code>’s prototype object. This creates a prototype chain — in other words, a parent-child relationship — between the child constructor’s prototype object and the parent constructor’s prototype object.</p>\n<h4 id=\"changing-subclassprototypeconstructor\" style=\"position:relative;\">Changing SubClass.prototype.constructor<a href=\"#changing-subclassprototypeconstructor\" aria-label=\"changing subclassprototypeconstructor permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Since we cloned the parent constructor’s prototype object verbatim, the new child constructor’s prototype object still has its <code class=\"language-text\">constructor</code> property pointing to the parent constructor <code class=\"language-text\">SuperClass</code>.</p>\n<p>But objects created through <code class=\"language-text\">SubClass</code> shouldn’t appear as if they were created using <code class=\"language-text\">SuperClass</code>, so we need to reassign the <code class=\"language-text\">constructor</code> property to <code class=\"language-text\">SubClass</code>.</p>\n<p>After all these steps, the following relationship is established:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/a3c4c/extends.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAD2EAAA9hAHVrK90AAAB/klEQVR42qVSOYtaURR2BrKQFCkCmSappphJkTbFFCEIQggYcILKaBIdAhbpUoRMZ+ef0NZWHTQyATfEQm0EN8R9eS+uuO++d2++e3EmPyAHDufB+d453z3fpxiPx1SSJJrJZGggEGBVpojhcPjHZDKd+ny+r8gfGo3m+Wg0ut5utzSdTkvhcJjG43FaKBRkQgirSgULURRJs9kkvV6PzGYzslwuJTZwvV63bDbb00ql8qpUKp0BegDc9XQ6pYPBYAsiBN8ElePdbvdHPnCxWFC2geU+OMPNZiMqlcojl8t14fF4vgP6pFwu/8Yw2u12JfovOD4Wi73nAxuNhh5b9O12Wy8IAqu6Tqdzge8PWq32vsViuWe1Wh8ybLVafVMsFj+Bse4Wj9T1+31DMBg89vv9DxT/EyB2sK+PIpHIt0QicaWo1+tG3NGIzTxrtZoBT/rcarXOGbv9D4esovcWvUvGKJvNGnFTI+5uwBlMDofjRKVSPeY3ZAHqNBqNsspvAnFEDDwNhUIWKHplNptfzOdzD+vhyVIymaSpVIqCDMeD3TtOG7cgYEMmkwmBskRiHkLAHgKs8sxut790Op2vAT3Esl9MFCi/Q5+sVqs7V9yJAr9RbGaqcqV3ux3fCLCgVquPvF7vF/jwJ1M5l8vd5PN5iudKsizTfXL8rQ//Atnk4klMaXG1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"extends\" title=\"\" src=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/6af66/extends.png\" srcset=\"/static/8ad5010e348e3ea93ea8ee00b6a3a94b/69538/extends.png 160w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/72799/extends.png 320w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/6af66/extends.png 640w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/d9199/extends.png 960w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/21b4d/extends.png 1280w,\n/static/8ad5010e348e3ea93ea8ee00b6a3a94b/a3c4c/extends.png 2196w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>Now let’s create an object using the <code class=\"language-text\">SubClass</code> constructor and verify that it properly inherits the parent constructor’s attributes.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> evan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SubClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Evan'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>evan<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">SubClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// The evan object</span>\nSubClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">constructor</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token operator\">:</span> SubClass<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// evan's original object</span>\nSuperClass <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">say</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>Function<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// The original of evan's original object</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>The <code class=\"language-text\">evan</code> object was properly created by cloning <code class=\"language-text\">SubClass</code>’s prototype object, and the chain of original objects is correctly linked.</p>\n<p>In other words, the prototype chain <code class=\"language-text\">evan</code> → <code class=\"language-text\">SubClass.prototype</code> → <code class=\"language-text\">SuperClass.prototype</code> is complete. When you call <code class=\"language-text\">run</code> or <code class=\"language-text\">say</code> on the <code class=\"language-text\">evan</code> object, prototype lookup kicks in to find and call the method from the original objects.</p>\n<h2 id=\"wrapping-up\" style=\"position:relative;\">Wrapping Up<a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Continuing from the <a href=\"/2019/10/23/js-prototype/\">previous post</a>, I’ve covered inheritance patterns using prototypes in JavaScript.</p>\n<p>Honestly, I’ve rarely had to implement inheritance using these patterns in production. ES6 came out shortly after I started working as a developer, and since I was more familiar with Java at the time, I was completely absorbed by the new <code class=\"language-text\">class</code> keyword.</p>\n<p>But after a few years on the job, I encountered these inheritance patterns fairly often in legacy code, and they sometimes came up in interviews too, so they’re definitely worth studying.</p>\n<p>Even though ES5 is rarely used these days, these inheritance patterns are still foundational to JavaScript program architecture.</p>\n<p>That wraps up this post on implementing inheritance with prototypes.</p>","fields":{"slug":"20191027-inheritance-with-prototype-en","path":"/2019/10/27/inheritance-with-prototype/en/","lang":"en"},"frontmatter":{"title":"[JS Prototypes] Implementing Inheritance with Prototypes","subTitle":"The real way to implement inheritance in JavaScript — everything about the prototype chain","date":"Oct 27, 2019","categories":["Programming","JavaScript"],"tags":["Prototype","JavaScript","JavaScript Fundamentals","Frontend Fundamentals","JavaScript Inheritance","JavaScript Class"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/ffc88c93a54f1c5d1783f61478e57588/d803c/thumbnail.png","srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/d803c/thumbnail.png 320w,\n/static/ffc88c93a54f1c5d1783f61478e57588/2a1fd/thumbnail.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/fc5c5/thumbnail.webp 320w,\n/static/ffc88c93a54f1c5d1783f61478e57588/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/ffc88c93a54f1c5d1783f61478e57588/01fb2/thumbnail.png","srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/01fb2/thumbnail.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/ffc88c93a54f1c5d1783f61478e57588/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}]}},"pageContext":{"tag":"JavaScript Inheritance","lang":"en"}},"staticQueryHashes":["3523904809","650499039"],"slicesMap":{}}