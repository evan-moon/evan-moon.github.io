{"componentChunkName":"component---src-templates-tag-page-template-index-tsx","path":"/tags/기술면접/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"f303bf14-a278-563b-b4f0-d10bb116f3e6","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%95%B4%EC%8B%9C-%ED%85%8C%EC%9D%B4%EB%B8%94hash-table%EC%9D%B4-%EB%AD%94%EA%B0%80%EC%9A%94\">해시 테이블(Hash Table)이 뭔가요?</a></p>\n<ul>\n<li><a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94direct-address-table\">직접 주소 테이블(Direct Address Table)</a></li>\n<li><a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%9D%98-%EB%8B%A8%EC%A0%90%EC%9D%84-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98%EB%A1%9C-%EB%B3%B4%EC%99%84%ED%95%98%EC%9E%90\">직접 주소 테이블의 단점을 해시 함수로 보완하자!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%95%B4%EC%8B%9C%EC%9D%98-%EC%B6%A9%EB%8F%8Ccollision\">해시의 충돌(Collision)</a></p>\n<ul>\n<li><a href=\"#%EC%B6%A9%EB%8F%8C-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0\">충돌 해결하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%81%AC%EA%B8%B0-%EC%9E%AC%ED%95%A0%EB%8B%B9resizing\">테이블 크기 재할당(Resizing)</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 많이 사용되는 자료구조 중 하나인 해시 테이블(Hash Table)에 대해서 정리하려고 한다. 먼저 해시 테이블이 무엇인지, 왜 사용하는지 알아보자.","html":"<p>이번 포스팅에서는 많이 사용되는 자료구조 중 하나인 해시 테이블(Hash Table)에 대해서 정리하려고 한다. 먼저 해시 테이블이 무엇인지, 왜 사용하는지 알아보자.</p>\n<!-- more -->\n<h2 id=\"해시-테이블hash-table이-뭔가요\" style=\"position:relative;\">해시 테이블(Hash Table)이 뭔가요?<a href=\"#%ED%95%B4%EC%8B%9C-%ED%85%8C%EC%9D%B4%EB%B8%94hash-table%EC%9D%B4-%EB%AD%94%EA%B0%80%EC%9A%94\" aria-label=\"해시 테이블hash table이 뭔가요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>해시 테이블은 어떤 특정 값을 받으면 그 값을 해시 함수에 통과시켜 나온 인덱스(index)에 저장하는 자료구조이다. 보통 배열을 사용해서 구현하는 경우가 많은 것 같다. 일단 해시 함수가 뭐길래 사용한다는 건지 해시가 뭔지 설명하기 전에 해시 테이블이라는 개념이 어디서부터 출발한 것인지 알아보자.</p>\n<h3 id=\"직접-주소-테이블direct-address-table\" style=\"position:relative;\">직접 주소 테이블(Direct Address Table)<a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94direct-address-table\" aria-label=\"직접 주소 테이블direct address table permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>해시 테이블의 아이디어는 직접 주소 테이블(Direct Address Table)이라는 자료구조에서 부터 출발한다. 직접 주소 테이블은 입력받은 값을 키로 사용하는 데이터 매핑 방식이다. 코드로 보면 더 이해가 쉽다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DirectAddressTable</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setValue</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getValue</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getTable</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> myTable <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectAddressTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyTable<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyTable<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyTable<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">90</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myTable<span class=\"token punctuation\">.</span><span class=\"token function\">getTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>만약 데스크톱으로 이 포스팅을 보고 있다면 이 코드를 복붙한 후 브라우저 콘솔이나 NodeJS로 실행해보자. 그러면 콘솔에 우리의 이쁜 테이블이 출력된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">[</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">3</span> empty items<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">6</span> empty items<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">79</span> empty items<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span> <span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>우리가 <code class=\"language-text\">3</code>을 테이블에 넣으면 이 값은 배열의 <code class=\"language-text\">3</code>번 인덱스의 요소가 되고 <code class=\"language-text\">90</code>을 넣으면 <code class=\"language-text\">90</code>번 인덱스의 요소가 된다. 그야말로 초 심플하다. 이렇게 직접 주소 테이블을 사용할때는 들어오는 값이 뭔지 알면 이 값이 저장된 인덱스도 함께 알 수 있기 때문에 저장된 데이터에 바로 접근해서 값을 가져올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">myTable<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>찾고자 하는 값과 테이블의 인덱스가 동일하므로 테이블을 뒤적거릴 필요없이 값이 저장된 공간에 바로 접근해서 값을 가져올 수 있으므로 시간복잡도는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>이다. 마찬가지로 테이블에 있는 값을 삽입, 수정, 삭제하는 행위도 값이 어디 있는지만 알고있으면 모두 한방에 해결할 수 있으므로 역시 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>의 시간복잡도로 해결할 수 있다.</p>\n<p>보통 이런 단순한 자료구조에서 값을 탐색, 삽입, 수정, 삭제하는 알고리즘이 시간을 잡아먹게 되는 이유는 대부분 비슷비슷하다.</p>\n<hr>\n<ol>\n<li>내가 찾고 싶은 값이 어디 있는지 모른다. 일단 효율적으로 뒤져보자.(e.g. 이진트리탐색)</li>\n<li>내가 이 값을 삽입하거나 삭제하면 다른 값이 영향을 받는다.(e.g. 링크드 리스트)</li>\n</ol>\n<hr>\n<p>이렇게 직접 주소 테이블은 내가 보고 싶은 값이 어디 있는지 알고 있기 때문에 바로 접근해서 이후 작업을 수행할 수 있다는 점에서 굉장히 편리하다고 할 수 있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 441px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/db3a598bfb9db0b88f1811fc6087af73/eed25/fantastic.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYdSJCD//EABsQAAIDAAMAAAAAAAAAAAAAAAECAAMREiEi/9oACAEBAAEFAmwBY59MdFZ5Svsf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAwADAQAAAAAAAAAAAAAAAAERECFBgf/aAAgBAQAGPwKyZ8psbfWf/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIUExYeH/2gAIAQEAAT8h3S4GWrLbKEY7jnfpGNxtpSf/2gAMAwEAAgADAAAAEDAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITGxQWFx/9oACAEBAAE/ELh8mAdZcho0pQc042Fe5mq2uDFT7k13moKpfjOjP//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"fantastic\" title=\"\" src=\"/static/db3a598bfb9db0b88f1811fc6087af73/eed25/fantastic.jpg\" srcset=\"/static/db3a598bfb9db0b88f1811fc6087af73/0913d/fantastic.jpg 160w,\n/static/db3a598bfb9db0b88f1811fc6087af73/cb69c/fantastic.jpg 320w,\n/static/db3a598bfb9db0b88f1811fc6087af73/eed25/fantastic.jpg 441w\" sizes=\"(max-width: 441px) 100vw, 441px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>하지만 직접 주소 테이블도 당연히 단점이 있다. 바로 공간의 효율성이 좋지 않다는 것이다. 방금 선언했던 <code class=\"language-text\">myTable</code>의 테이블 상태를 한번 보면 이해가 바로 된다. 이 테이블에는 <code class=\"language-text\">3</code>, <code class=\"language-text\">10</code>, <code class=\"language-text\">90</code>의 값을 넣었고 이 값들은 크기 차이가 꽤나 큰 편이다.</p>\n<p>그 결과 우리의 <code class=\"language-text\">myTable</code>은 이렇게 듬성듬성한 구조로 데이터를 저장하게 된 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">91</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위에서도 볼 수 있듯이 저장된 데이터를 제외하고 <code class=\"language-text\">0</code>으로 채워진 나머지 공간은 값은 없지만 메모리 공간은 할당되어 있는 상태이다. 즉, 사용하지 않는 아까운 공간이다. 결국 직접 주소 테이블을 사용할 때 테이블에 넣고자 하는 데이터 값의 범위보다 값의 개수가 작다면 공간적인 효율이 떨어지는 것이다.</p>\n<p>이런 상황을 적재율이 낮다고 표현하는데, 적재율은 <code class=\"language-text\">값의 개수/테이블의 크기</code>로 나타내게 된다. 필자가 방금 만든 이 테이블의 현재 적재율은 <code class=\"language-text\">3/91 = 0.03296...</code>으로 약 <code class=\"language-text\">3%</code> 정도이므로 높은 적재율은 아니라고 볼 수 있다.</p>\n<p>만약 <code class=\"language-text\">1000</code>과 같이 큰 값이 하나만 더 테이블에 들어온다고 해도 테이블의 크기는 <code class=\"language-text\">1001</code>이 되고 적재율은 <code class=\"language-text\">0.003996...</code>으로 약 <code class=\"language-text\">0.4%</code>가 된다. 즉, 직접 주소 테이블이 큰 힘을 발휘할 수 있는 순간은 <code class=\"language-text\">1, 2, 3</code>과 같이 연속적인 값을 저장하거나 혹은 값들의 범위 차이가 크지 않은 데이터라고 할 수 있다.</p>\n<h3 id=\"직접-주소-테이블의-단점을-해시-함수로-보완하자\" style=\"position:relative;\">직접 주소 테이블의 단점을 해시 함수로 보완하자!<a href=\"#%EC%A7%81%EC%A0%91-%EC%A3%BC%EC%86%8C-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%9D%98-%EB%8B%A8%EC%A0%90%EC%9D%84-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98%EB%A1%9C-%EB%B3%B4%EC%99%84%ED%95%98%EC%9E%90\" aria-label=\"직접 주소 테이블의 단점을 해시 함수로 보완하자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 직접 주소 테이블은 값에 접근하기는 편하지만 공간 효율이 좋지 않다는 단점이 있다. 그래서 이 단점을 보완한 게 바로 해시 테이블인 것이다.</p>\n<p>해시 테이블은 직접 주소 테이블처럼 값을 바로 테이블의 인덱스로 사용하는 것이 아니라 해시 함수(Hash Function)라는 것에 한번 통과시켜서 사용한다. 해시 함수는 임의의 길이를 가지는 임의의 데이터를 고정된 길이의 데이터로 매핑하는 함수이다. 이때 이 함수가 뱉어내는 결과물을 해시(Hash)라고 부른다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/9ab3259234eddda6c50fdda48c352e4e/65f94/hashbrown.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHtT2qExoz/AP/EABgQAQEBAQEAAAAAAAAAAAAAAAIBABAS/9oACAEBAAEFAm/GiT6ZDN//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEZ/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BRWf/xAAXEAADAQAAAAAAAAAAAAAAAAAAECEB/9oACAEBAAY/Aia4v//EABgQAQEBAQEAAAAAAAAAAAAAAAERABCh/9oACAEBAAE/ITFR1/w4gkS6IEOf/9oADAMBAAIAAwAAABDbD//EABcRAQADAAAAAAAAAAAAAAAAAAEQITH/2gAIAQMBAT8QAMuP/8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAECAQE/EFDk/8QAHBABAQACAgMAAAAAAAAAAAAAAREAMRAhQXGR/9oACAEBAAE/EC6lGddfcmYabM9XCwu8dCD4cEn2cf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"hashbrown\" title=\"\" src=\"/static/9ab3259234eddda6c50fdda48c352e4e/65f94/hashbrown.jpg\" srcset=\"/static/9ab3259234eddda6c50fdda48c352e4e/0913d/hashbrown.jpg 160w,\n/static/9ab3259234eddda6c50fdda48c352e4e/cb69c/hashbrown.jpg 320w,\n/static/9ab3259234eddda6c50fdda48c352e4e/65f94/hashbrown.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>해시(Hash)의 사전적 정의는 사실 \"잘게 썬 요리\" 같은 뉘앙스로 사용된다. 롯데리아에서 파는 해시브라운을 생각해보자.<br>해시 함수도 어떤 값이 들어오든 간에 다 뭉개서 내가 원하는 길이의 값으로 만든다는 점에서 일맥상통한다.</small>\n</center>\n<p>그럼 한번 이해를 돕기위해 간단한 해시 함수를 만들어보겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">hashFunction</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> key <span class=\"token operator\">%</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">102948</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 8</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">191919191</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">997</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 7</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이게 끝이다. 물론 허접한 해시 함수이지만 그래도 해싱이라는 본연의 역할을 잘 수행하는데는 별로 문제가 없다.</p>\n<p>필자의 허접한 해시 함수는 무조건 들어온 값을 <code class=\"language-text\">10</code>으로 나눈 후의 나머지를 반환하는 일을 할 뿐이지만 어떤 값이 들어오든 그 값의 <code class=\"language-text\">1</code>의 자리만 반환될 것이기 때문에 반환되는 값은 무조건 <code class=\"language-text\">0-9</code> 사이의 값이라는 것이 보장된다.</p>\n<p>그리고 해시 함수의 특성 중 하나가 해시만 보고는 인자로 어떤 값을 받았는지 추측하기 힘들다는 것이다. 1의 자리만 보고 원래 수가 얼마였는지 맞출 수는 없을 것이다. 그래서 이러한 해시 함수의 특징은 암호학에서도 아주 잘 사용하고 있다.</p>\n<p>자, 하지만 우리에게 중요한건 암호학이 아니라 바로 이것이다.</p>\n<blockquote>\n<p>어떤 값이 해시 함수로 들어오든 무조건 <strong>0-9</strong>사이의 값이 반환된다!</p>\n</blockquote>\n<p>직접 주소 테이블의 단점이 바로 <code class=\"language-text\">10000</code>이라는 값이 하나만 들어오더라도 <code class=\"language-text\">10000</code>번 인덱스에 값을 저장하기 위해 <code class=\"language-text\">10000</code>의 크기를 가진 테이블을 생성해야하기 때문에 나머지 <code class=\"language-text\">9999</code>개의 버리는 공간이 생기는 것이다.</p>\n<p>그러나 필자의 해시 함수를 사용하면 <code class=\"language-text\">100</code>이 들어오면 <code class=\"language-text\">0</code>을 반환할 것이고 <code class=\"language-text\">10001</code>이 들어오면 <code class=\"language-text\">1</code>을 반환, 심지어 <code class=\"language-text\">8982174981274</code>가 들어와도 <code class=\"language-text\">4</code>를 반환한다.</p>\n<p>즉, 고정된 테이블의 길이를 정해둘 수 있고 그 안에만 데이터를 저장할 수 있게 된 것이다. 해시 함수의 이러한 성질을 이용해서 아주 간단한 해시테이블을 한번 작성해보겠다. 필자는 해시 테이블 크기를 <code class=\"language-text\">5</code>로 설정하고 어떤 값이 들어와도 이 테이블 안에 저장될 수 있도록 해시 함수를 작성할 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myTableSize <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myHashTable <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>myTableSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">hashFunction</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 들어온 값을 테이블의 크기로 나눠주고 나머지를 반환하면 된다.</span>\n  <span class=\"token keyword\">return</span> key <span class=\"token operator\">%</span> myTableSize<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nmyHashTable<span class=\"token punctuation\">[</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">1991</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1991</span><span class=\"token punctuation\">;</span>\nmyHashTable<span class=\"token punctuation\">[</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">1234</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1234</span><span class=\"token punctuation\">;</span>\nmyHashTable<span class=\"token punctuation\">[</span><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">5678</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">5678</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myHashTable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [empty, 1991, empty, 5678, 1234]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>들어온 값들은 <code class=\"language-text\">1991</code>, <code class=\"language-text\">1234</code>, <code class=\"language-text\">5678</code>로, 해시 테이블의 사이즈인 <code class=\"language-text\">5</code>보다 훨씬 큰 값이지만 해시 함수를 거친 결과 <code class=\"language-text\">0-4</code> 사이의 값만 반환되기 때문에 필자의 작고 귀여운 해시 테이블 안에 값이 차곡차곡 저장될 수 있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 295px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/1c91a/cute.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAADBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe8FGAmHH//EABkQAAMBAQEAAAAAAAAAAAAAAAABAhIRMf/aAAgBAQABBQLiKh2p82yqe0f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAABBQAAAAAAAAAAAAAAAAABAAIRIHH/2gAIAQEABj8CThIGV//EABwQAAEEAwEAAAAAAAAAAAAAAAABESExQWFxUf/aAAgBAQABPyHQh7HMJ6Uy5oQUWhnYy6f/2gAMAwEAAgADAAAAECDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFRQfDx/9oACAEBAAE/EPlYxVVCgEaVetZcEoAbtoFs8256DiUs3jwvGKL7Ty5//9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cute\" title=\"\" src=\"/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/1c91a/cute.jpg\" srcset=\"/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/0913d/cute.jpg 160w,\n/static/10cfbdd4e3d4fbc641b29aaa9dedb7e7/1c91a/cute.jpg 295w\" sizes=\"(max-width: 295px) 100vw, 295px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>내 해시 테이블...자그마해 귀여워</small>\n</center>\n<p>이로써 직접 주소 테이블의 단점이었던 밑도 끝도 없이 낭비되는 공간을 줄일 수 있게 되었다!</p>\n<h2 id=\"해시의-충돌collision\" style=\"position:relative;\">해시의 충돌(Collision)<a href=\"#%ED%95%B4%EC%8B%9C%EC%9D%98-%EC%B6%A9%EB%8F%8Ccollision\" aria-label=\"해시의 충돌collision permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이렇게 해피 엔딩으로 끝나면 좋겠지만 해시 테이블의 단점도 있다. 그 단점은 바로 해시의 충돌이다. 충돌이 뭔지 설명하기 전에 필자의 해시 함수를 가지고와서 한번 충돌을 일으켜보고 직접 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">1991</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1</span>\n<span class=\"token function\">hashFunction</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 1</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<blockquote>\n<p>다른 값을 해시 함수에 넣었지만 같은 값이 튀어나오는 것이 바로 <strong>충돌(Collision)</strong> 이다.</p>\n</blockquote>\n<p>사실 상식적으로 생각해보면 직접 주소 테이블은 동적으로 테이블을 늘려나갔지만 해시 테이블은 처음부터 고정적인 공간을 할당하고 값을 계속 우겨넣는 방식이다.</p>\n<p>그렇다면 테이블의 크기를 <code class=\"language-text\">100</code>으로 잡고 그 테이블에 <code class=\"language-text\">200</code>개의 데이터를 넣는다면 100개만 저장되고 100개는 남을텐데 얘네는 어떻게 되는걸까?</p>\n<p>걱정하지 말자. 애초에 해시 테이블은 담고자 하는 데이터의 개수보다 테이블의 크기를 작게 하고 싶다는 의지에서 나온 자료구조이기 때문에 충돌을 해결할 수 있는 방법 또한 같이 고안되었다.</p>\n<h3 id=\"충돌-해결하기\" style=\"position:relative;\">충돌 해결하기<a href=\"#%EC%B6%A9%EB%8F%8C-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0\" aria-label=\"충돌 해결하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이처럼 해시 테이블에는 해시의 충돌이라는 단점이 있기 때문에 해시 테이블을 운용할 때 가장 중요한 것은 사실 해시 함수가 얼마나 균일하게 값을 퍼트릴 수 있느냐이다. 어떤 값을 넣어도 같은 인덱스만 주구장창 나올 확률이 높다면 좋은 해시 함수가 아니라는 것이다.</p>\n<p>그러나 해시 함수를 아무리 잘 짜더라도 근본적으로 충돌을 완전히 방지한다는 것은 힘든 일이다. 그렇기 때문에 어느 정도는 충돌을 감안하되 최소화하기 위해 해시 함수의 알고리즘을 개발하거나, 혹은 충돌이 발생하더라도 우회해서 해결할 수 있는 방법을 사용한다.</p>\n<p>그 중 이 포스팅에서는 충돌이 발생하더라도 우회해서 해결하는 방법 중 몇가지를 설명하려고 한다.</p>\n<h4 id=\"개방-주소법open-address\" style=\"position:relative;\">개방 주소법(Open Address)<a href=\"#%EA%B0%9C%EB%B0%A9-%EC%A3%BC%EC%86%8C%EB%B2%95open-address\" aria-label=\"개방 주소법open address permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>개방 주소법은 해시 충돌이 발생하면 테이블 내의 새로운 주소를 탐사한 후, 비어있는 곳에 충돌된 데이터를 입력하는 방식이다. 해시 함수를 통해서 얻은 인덱스가 아니라 다른 인덱스를 허용한다는 의미로 개방 주소(Open Address)라고 한다.</p>\n<p>개방 주소법은 어떤 방식으로 비어있는 공간을 탐사할 것이냐에 따라 4가지로 나누어 진다.</p>\n<h5 id=\"1-선형-탐사법linear-probing\" style=\"position:relative;\">1. 선형 탐사법(Linear Probing)<a href=\"#1-%EC%84%A0%ED%98%95-%ED%83%90%EC%82%AC%EB%B2%95linear-probing\" aria-label=\"1 선형 탐사법linear probing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>선형 탐사법(Linear Probing)은 말 그대로 선형으로 순차적으로 탐사하는 방법이다. 위에서 해시 충돌의 예로 들었던 <code class=\"language-text\">1991</code>과 <code class=\"language-text\">6</code>의 상황을 한번 예시로 알아보자.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n  <li><dt>5</dt><dd></dd></li>\n  <li><dt>6</dt><dd></dd></li>\n</ul>\n<br />\n<p>처음에 <code class=\"language-text\">1991</code>을 해시 함수에 통과 시킨 후 해시 테이블에 넣었을 때에는 테이블의 <code class=\"language-text\">1</code>번 인덱스에 위치했을 것이다. 그 이후 <code class=\"language-text\">6</code>을 해시 함수에 통과시켰더니 또 <code class=\"language-text\">1</code>이 나왔다. 하지만 이미 <code class=\"language-text\">1</code>번 인덱스에는 <code class=\"language-text\">1991</code>이 들어가 있기 때문에 <code class=\"language-text\">6</code>은 더 이상 해시 테이블에 들어갈 자리가 없게 되었다. 충돌이 발생한 것이다!</p>\n<p>선형 탐사법은 이렇게 충돌이 났을 때 정해진 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 칸만큼의 옆 방을 주는 방법이다. 만약에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">n = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>이라면 <code class=\"language-text\">2</code>번 인덱스를, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">n = 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span></span>이라면 <code class=\"language-text\">4</code>번 인덱스에 <code class=\"language-text\">6</code>을 저장할 것이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd><strong style=\"color: #ff0000;\">6</strong></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n  <li><dt>5</dt><dd></dd></li>\n  <li><dt>6</dt><dd></dd></li>\n</ul>\n<center><small>아쉬운대로 옆 방이라도 들어가야지...</small></center>\n<br />\n<p>이런 식으로 충돌이 났을 때 순차적으로 정해진 만큼의 옆 방을 주는 것이 바로 선형 탐사법이다. 만약 여기서 또 충돌이 발생한다면 이번에는 그 값을 <code class=\"language-text\">3</code>번 인덱스에 저장할 것이다. 이런 방식으로 빈 공간이 나타날 때까지 순차적으로 탐사를 한다.</p>\n<p>선형 탐사법의 단점은 특정 해시 값의 주변이 모두 채워져있는 일차 군집화(Primary Clustering) 문제에 취약하다는 것이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd>6</dd></li>\n  <li><dt>3</dt><dd>13</dd></li>\n  <li><dt>4</dt><dd>21</dd></li>\n  <li><dt>5</dt><dd></dd></li>\n  <li><dt>6</dt><dd></dd></li>\n</ul>\n<br />\n<p>같은 해시가 여러 번 나오는 경우 선형 탐사법을 사용하면 데이터가 연속되게 저장될 가능성이 높아진다. 즉, 데이터의 밀집도가 높아진다는 것이다. 이런 경우 해시의 값이 <code class=\"language-text\">1</code>이 나왔을 때 뿐만 아니라 <code class=\"language-text\">2</code>나 <code class=\"language-text\">3</code>이 나왔을 때도 충돌이 발생한다.</p>\n<p>이게 진짜 악순환의 반복인데, 이런 식으로 충돌이 계속 될 수록 데이터가 연속되게 저장되기 때문에 나중에 가면 데이터가 밀집되어 있는 거대한 덩어리가 생긴다. 그럼 해시로 어떤 값이 나오더라도 그 덩어리가 차지한 인덱스와 충돌이 날 확률이 올라가고, 충돌난 값은 또 그 덩어리 뒤에 저장되게 되므로 데이터 덩어리가 더 커진다.</p>\n<blockquote>\n<p><strong>충돌!</strong> -> 데이터 덩어리 뒤에 충돌난 값 저장 -> 충돌 발생 확률 증가 -> <strong>충돌!</strong> -> 또 저장. 덩어리 더 커짐 -> 충돌 발생 확률 증가 -> <strong>충돌</strong>…</p>\n</blockquote>\n<p>이런 식으로 눈물나는 무한 반복 사이클이 발생한다. 이것이 일차 군집화 문제이다. 이제 이 눈물나는 문제점을 그나마 보완한 다른 방법을 알아보자.</p>\n<h5 id=\"2-제곱-탐사법quadratic-probing\" style=\"position:relative;\">2. 제곱 탐사법(Quadratic Probing)<a href=\"#2-%EC%A0%9C%EA%B3%B1-%ED%83%90%EC%82%AC%EB%B2%95quadratic-probing\" aria-label=\"2 제곱 탐사법quadratic probing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>제곱 탐사법(Quadratic Probing)은 선형 탐사법과 동일하지만 탐사하는 폭이 고정폭이 아닌 제곱으로 늘어난다는 것이 다르다.</p>\n<p>첫번째 충돌이 발생했을 때는 충돌난 지점으로 부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>1</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">1^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>만큼, 두번째 충돌이 발생했을 때는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">2^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>, 세번째는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">3^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>과 같은 식으로 탐사하는 스텝이 빠르게 커진다. 앞서 보았던 선형 탐사법에서의 예시와 동일한 상황에서 제곱 탐사법을 사용하면 해시 테이블은 아래와 같은 모양이 된다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>1991</dd></li>\n  <li><dt>2</dt><dd>6</dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n  <li><dt>5</dt><dd>13</dd></li>\n  <li><dt>6</dt><dd></dd></li>\n  <li><dt>...</dt><dd></dd></li>\n  <li><dt>10</dt><dd>21</dd></li>\n</ul>\n<br />\n<blockquote>\n<p>첫번째 충돌이 났을 때 <code class=\"language-text\">6</code>은 충돌이 난 <code class=\"language-text\">1</code>번 인덱스로부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>1</mn><mn>2</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1^2 = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span>만큼의 옆 방에 들어간다.</p>\n<p>두번째 충돌이 났을 때 <code class=\"language-text\">13</code>은 충돌이 난 <code class=\"language-text\">1</code>번 인덱스로부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup><mo>=</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">2^2 = 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span></span>만큼의 옆 방에 들어간다.</p>\n<p>세번째 충돌이 났을 때 <code class=\"language-text\">21</code>은 충돌이 난 <code class=\"language-text\">1</code>번 인덱스로부터 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>3</mn></msup><mo>=</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">3^3 = 9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">9</span></span></span></span></span>만큼의 옆 방에 들어간다.</p>\n</blockquote>\n<p>이렇게 제곱 탐사법을 사용하면 충돌이 발생하더라도 데이터의 밀집도가 선형 탐사법보다 많이 낮기 때문에 다른 해시값까지 영향을 받아서 연쇄적으로 충돌이 발생할 확률이 많이 줄어든다.</p>\n<p>그래도 결국 해시로 <code class=\"language-text\">1</code>이 여러번 나오면 계속 충돌이 나는 것은 피할 수 없다. 결국 데이터의 군집은 피할 수 없는 숙명이므로 이 현상을 이차 군집화(Secondary Clustering) 문제라고 부른다.</p>\n<p>그럼 여기서 더 개선할 수는 없을까?</p>\n<h5 id=\"3-이중해싱double-hashing\" style=\"position:relative;\">3. 이중해싱(Double Hashing)<a href=\"#3-%EC%9D%B4%EC%A4%91%ED%95%B4%EC%8B%B1double-hashing\" aria-label=\"3 이중해싱double hashing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>그래서 나온 방법이 바로 이중해싱이다. 말 그대로 해시 함수를 이중으로 사용하는 것이다.</p>\n<p>하나는 기존과 마찬가지로 최초 해시를 얻을 때 사용하고, 다른 하나는 충돌이 났을 경우 탐사 이동폭을 얻기 위해 사용한다. 이렇게 하면 최초 해시로 같은 값이 나오더라도 다시 다른 해시 함수를 거치면서 다른 탐사 이동폭이 나올 확률이 높기 때문에 매번 다른 공간에 값이 골고루 저장될 확률도 높아진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myTableSize <span class=\"token operator\">=</span> <span class=\"token number\">23</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 테이블 사이즈가 소수여야 효과가 좋다</span>\n<span class=\"token keyword\">const</span> myHashTable <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getSaveHash</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> value <span class=\"token operator\">%</span> myTableSize<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 스텝 해시에 사용되는 수는 테이블 사이즈보다 약간 작은 소수를 사용한다.</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getStepHash</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token number\">17</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">%</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setValue</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token function\">getSaveHash</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> targetValue <span class=\"token operator\">=</span> myHashTable<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>targetValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      myHashTable<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">번 인덱스에 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 저장! </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>myHashTable<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> myTableSize<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'풀방입니다'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">번 인덱스에 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 저장하려다 충돌 발생!ㅜㅜ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      index <span class=\"token operator\">+=</span> <span class=\"token function\">getStepHash</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      index <span class=\"token operator\">=</span> index <span class=\"token operator\">></span> myTableSize <span class=\"token operator\">?</span> index <span class=\"token operator\">-</span> myTableSize <span class=\"token operator\">:</span> index<span class=\"token punctuation\">;</span>\n      targetValue <span class=\"token operator\">=</span> myHashTable<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이때 테이블 사이즈와 두번째 해시함수에 사용될 수는 둘 다 소수를 사용하는 것이 좋다. 둘 중에 하나가 소수가 아니라면 결국 언젠가 같은 해싱이 반복되기 때문이다. 딱 보기에 뭔가 좀 복잡해보이지만 하나하나 뜯어보면 별 거 없다. 한번 순서대로 살펴보자.</p>\n<hr>\n<ol>\n  <li>저장할 인덱스를 <code class=\"language-text\">getSaveHash</code> 해시 함수로 얻는다.</li>\n  <li>반복문 시작</li>\n  <li>거기 비었니?</li>\n  <ol style=\"list-style: lower-alpha;\">\n    <li>비었어? 오케이 저장!</li>\n    <li>사람 있어? 다음 인덱스 내놔! 다시 3으로...</li>\n    <li>풀방이야? 종료합시다.</li>\n  </ol>\n</ol>\n<hr>\n<p>위 코드를 브라우저 콘솔이나 NodeJS로 실행시켜보면 출력되는 문자열을 통해 이 과정이 어떤 방식으로 흘러가는 지 대략적으로 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">1991</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 13번 인덱스에 1991 저장!</span>\n<span class=\"token comment\">// 6번 인덱스에 6 저장!</span>\n<span class=\"token comment\">// 13번 인덱스에 13 저장하려다 충돌 발생!ㅜㅜ</span>\n<span class=\"token comment\">// 17번 인덱스에 13 저장!</span>\n<span class=\"token comment\">// 21번 인덱스에 21 저장!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>아까 선형 탐사법과 제곱 탐사법을 사용했다면 모두 해시의 결과가 <code class=\"language-text\">1</code>이어서 연쇄적으로 충돌이 발생해야 할 값들이지만 이중 해싱을 사용함으로써 한번의 충돌만으로 모든 값을 저장할 수 있게 되었다.</p>\n<p>위에 코드를 복붙해서 함수를 선언해놨다면 저 콘솔을 여러 번 돌려보고 저장할 값도 바꿔보면서 어떤 식으로 해쉬테이블에 값들이 저장되는지 살펴볼 수 있다. 테이블이 꽉 차면 <code class=\"language-text\">풀방입니다</code>가 출력되니까 그때까진 신나게 돌려봐도 된다.</p>\n<h4 id=\"분리-연결법separate-chaining\" style=\"position:relative;\">분리 연결법(Separate Chaining)<a href=\"#%EB%B6%84%EB%A6%AC-%EC%97%B0%EA%B2%B0%EB%B2%95separate-chaining\" aria-label=\"분리 연결법separate chaining permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>분리 연결법은 개방 주소법과는 다른 개념으로 접근하는 충돌 우회 방법이다. 분리 연결법은 해쉬 테이블의 버킷에 하나의 값이 아니라 링크드 리스트(Linked List)나 트리(Tree)를 사용한다.\n사실 트리를 쓰던 링크드 리스트를 쓰던 개념은 동일하니 링크드 리스트로 설명을 진행하겠다.</p>\n<p>위에서 계속 사용했던 예시를 또 가져와보자. 테이블 크기가 <code class=\"language-text\">5</code>일때 해시로 <code class=\"language-text\">1</code>을 반환하는 <code class=\"language-text\">1991</code>, <code class=\"language-text\">6</code>, <code class=\"language-text\">13</code>, <code class=\"language-text\">21</code>을 저장할 때 분리 연결법을 사용하면 이렇게 된다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>[21, 13, 6, 1991]</dd></li>\n  <li><dt>2</dt><dd></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n</ul>\n<br />\n<p>간단하다. 근데 자세히 보면 <code class=\"language-text\">[1991, 6, 13, 21]</code>의 순서가 아니라 <code class=\"language-text\">[21, 13, 6, 1991]</code>의 순서로 뒤집혀 있다.</p>\n<p>이는 데이터를 삽입할 때 조금이라도 수행 시간을 줄이기 위해서 사용하는 방법이다. 왜 데이터를 뒤집으면 삽입 수행 시간이 줄어드는지 이해하기 위해서 우리 테이블의 <code class=\"language-text\">1</code>번 인덱스에 저장된 링크드 리스트가 <code class=\"language-text\">[1991, 6, 13, 21]</code> 순서일 때 새로운 데이터를 삽입하는 과정을 살펴보자.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>1</dt><dd>{ 값: 1991, 다음 노드: 2 }</dd></li>\n  <li><dt>2</dt><dd>{ 값: 6, 다음 노드: 3 }</dd></li>\n  <li><dt>3</dt><dd>{ 값: 13, 다음 노드: 4 }</dd></li>\n  <li><dt>4</dt><dd>{ 값: 21, 다음 노드: null }</dd></li>\n</ul>\n<center><small>왠지 해쉬테이블이랑 비슷하게 생겼지만 이번엔 링크드 리스트다</small></center>\n<br />\n<p>만약 이번에 추가할 값이 <code class=\"language-text\">11</code>이라고 해보자. 일단 메모리 주소가 <code class=\"language-text\">99</code>인 곳이 남길래 여기에 <code class=\"language-text\">{ 값: 11, 다음 노드: null }</code>을 저장했다. 그 후 이 새로운 노드를 리스트에 붙혀야 하니까 해당 리스트의 마지막 노드인 메모리 <code class=\"language-text\">4</code>에 저장된 노드까지 찾아가야 한다.</p>\n<p>그 다음에 메모리 <code class=\"language-text\">4</code>에 저장된 값을 <code class=\"language-text\">{ 값: 21, 다음 노드: 99 }</code>로 바꿔주면 끝이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>1</dt><dd>{ 값: 1991, 다음 노드: 2 }</dd></li>\n  <li><dt>2</dt><dd>{ 값: 6, 다음 노드: 3 }</dd></li>\n  <li><dt>3</dt><dd>{ 값: 13, 다음 노드: 4 }</dd></li>\n  <li><dt>4</dt><dd>{ 값: 21, 다음 노드: 99 }</dd></li>\n  <li><dt>99</dt><dd>{ 값: 11, 다음 노드: null }</dd></li>\n</ul>\n<br />\n<p>문제는 새 노드를 리스트에 붙히기 위해서 메모리 <code class=\"language-text\">4</code>에 저장된 노드를 찾는 과정이다. 링크드 리스트의 특성 상 메모리 <code class=\"language-text\">4</code>의 데이터를 확인하려면 머리부터 순차적으로 다음 노드를 탐색해나가야 한다.</p>\n<p>결국 데이터를 삽입하려면 먼저 리스트의 머리인 메모리 <code class=\"language-text\">1</code>부터 찾은 다음에 다음 메모리 주소 값을 확인하고 <code class=\"language-text\">2</code>로 이동해서 또 다음 메모리 주소를 확인하는 과정을 거쳐야한다는 것이다.</p>\n<p>링크드 리스트의 크기가 작을 때는 할만 한 작업이지만, 리스트의 크기가 커질수록 수행 시간도 비례해서 늘어나기 때문에 확실히 좋은 방법은 아니다. 하지만 순서를 반대로 뒤집으면 데이터 삽입이 한결 쉬워진다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>99</dt><dd>{ 값: 11, 다음 노드: 1 }</dd></li>\n  <li><dt>1</dt><dd>{ 값: 1991, 다음 노드: 2 }</dd></li>\n  <li><dt>2</dt><dd>{ 값: 6, 다음 노드: 3 }</dd></li>\n  <li><dt>3</dt><dd>{ 값: 13, 다음 노드: 4 }</dd></li>\n  <li><dt>4</dt><dd>{ 값: 21, 다음 노드: null }</dd></li>\n</ul>\n<br />\n<p>맨 앞에 노드를 추가하는 것이기 때문에 다른 노드를 탐색할 필요없이 그냥 메모리에 밀어넣고 <code class=\"language-text\">{ 값: 11, 다음 노드: 1 }</code>이라고 저장해주면 되기 때문이다. 그래서 해시 테이블에 저장할 때도 리스트의 꼬리로 데이터를 붙히기보다는 머리에 붙히는 방법을 보통 많이 사용한다.</p>\n<p>대신 이렇게 분리 연결법을 사용하려면 해시 함수의 역할이 굉장히 중요하다. 결국 균일하지 못한 해시를 사용해서 특정 인덱스에 데이터가 몰리게 된다면 다른 곳은 텅텅 비어있는데 한 버킷에 저장된 리스트의 길이만 계속 길어지기 때문이다.</p>\n<br />\n<ul class=\"hash-table-dummy\">\n  <li><dt>0</dt><dd></dd></li>\n  <li><dt>1</dt><dd>[21, 13, 6, 1991, 7, 11, 25, ...]</dd></li>\n  <li><dt>2</dt><dd></dd></li>\n  <li><dt>3</dt><dd></dd></li>\n  <li><dt>4</dt><dd></dd></li>\n</ul>\n<center><small>극단적인 예시긴 하지만... 이건 그냥 링크드 리스트를 쓰는 것과 다를 게 없다</small></center>\n<br />\n<p>결국 내가 찾고자 하는 값이 리스트의 맨 마지막에 위치하고 있다면 링크드 리스트를 처음부터 끝까지 다 탐색해야하기 때문에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>의 시간복잡도를 가지게 된다. 그렇기 때문에 최대한 저장하고 하는 데이터를 균일하게 퍼트려서 리스트의 길이를 어느 정도로 유지해주는 해시 함수의 역할이 중요한 것이다.</p>\n<h2 id=\"테이블-크기-재할당resizing\" style=\"position:relative;\">테이블 크기 재할당(Resizing)<a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%81%AC%EA%B8%B0-%EC%9E%AC%ED%95%A0%EB%8B%B9resizing\" aria-label=\"테이블 크기 재할당resizing permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>해시 테이블은 고정적인 공간을 할당해서 많은 데이터를 담기 위한 자료구조인 만큼 언젠가 데이터가 넘치기 마련이다.</p>\n<p>개방 주소법을 사용하는 경우에는 위에서 예시로 작성했던 코드에서 <code class=\"language-text\">풀방입니다</code>가 출력되는 상황, 즉 테이블이 실제로 꽉 차서 더이상 저장을 못하는 상황이 발생할 것이고, 분리 연결법을 사용하는 경우에는 테이블에 빈 공간이 적어지면서 충돌이 발생할 수록 각각의 버킷에 저장된 리스트가 점점 더 길어져서 리스트를 탐색하는 리소스가 너무 늘어난 상황이 발생할 것이다.</p>\n<p>그렇기 때문에 해시 테이블은 꽉꽉 아낌없이 채우기보다는 어느 정도 비워져 있는 것이 성능 상 더 좋으며, 해시 테이블을 운용할 때는 어느 정도 데이터가 차면 테이블의 크기를 늘려줘야한다.</p>\n<p>이건 특별한 알고리즘이라기보다는 그냥 기존 크기의 두 배정도로 새로운 테이블을 선언해서 기존 테이블의 데이터를 그대로 옮겨 담는 방법을 사용한다. 분리 연결법을 사용한 해시 테이블의 경우 재해싱(Rehashing)을 통해 너무 길어진 리스트의 길이를 나누어서 다시 저장하는 방법을 사용하기도 한다.</p>\n<p>이상으로 JavaScript와 함께 해시테이블을 파헤쳐보자 포스팅을 마친다.</p>\n<style>\nul.hash-table-dummy {\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  border: 1px solid #ddd;\n  padding: 0;\n}\nul.hash-table-dummy > li {\n  flex-grow: 1;\n  list-style: none;\n  border-right: 1px solid #ddd;\n  margin: 0;\n  text-align: center;\n  font-size: 14px;\n}\nul.hash-table-dummy dt {\n  border-bottom: 1px solid #ddd;\n  background-color: #f0f0f0;\n}\nul.hash-table-dummy dd {\n  margin: 0;\n}\n</style>","fields":{"slug":"20190625-hashtable-with-js","path":"/2019/06/25/hashtable-with-js/","lang":"ko"},"frontmatter":{"title":"JavaScript와 함께 해시테이블을 파헤쳐보자","subTitle":"해시 함수, 충돌 해결, 테이블 크기 조정까지","date":"Jun 25, 2019","categories":["프로그래밍","알고리즘"],"tags":["자료구조","해시테이블","Hash Table","Data structure","자바스크립트","JavaScript","기술면접","해시 충돌","Hash collision"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/5976bcb3d5c35dab87987842997a2aef/3a812/thumbnail.jpg","srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/3a812/thumbnail.jpg 320w,\n/static/5976bcb3d5c35dab87987842997a2aef/4b287/thumbnail.jpg 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/fc5c5/thumbnail.webp 320w,\n/static/5976bcb3d5c35dab87987842997a2aef/e9225/thumbnail.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/5976bcb3d5c35dab87987842997a2aef/2d839/thumbnail.jpg","srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/2d839/thumbnail.jpg 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/5976bcb3d5c35dab87987842997a2aef/b384d/thumbnail.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"aa9608ff-e701-507d-a416-1bfb2995dfc7","tableOfContents":"<ul>\n<li>\n<p><a href=\"#ip-internet-protocol\">IP, Internet Protocol</a></p>\n<ul>\n<li><a href=\"#ipv4%EC%9D%98-%EA%B5%AC%EC%A1%B0\">IPv4의 구조</a></li>\n<li><a href=\"#ipv4%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\">IPv4의 클래스</a></li>\n<li><a href=\"#%ED%8A%B9%EC%88%98%ED%95%9C-%EB%AA%A9%EC%A0%81%EC%9D%98-ipv4-%EC%A3%BC%EC%86%8C\">특수한 목적의 IPv4 주소</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9A%B0%EB%A6%AC-%EC%A7%91%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EB%B3%B4%EC%9E%90\">우리 집에서 구글까지의 경로를 보자</a></p>\n<ul>\n<li><a href=\"#traceroute-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">traceroute 사용하기</a></li>\n<li><a href=\"#%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\">좀 더 자세히 알아보자!</a></li>\n</ul>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 우리 집에서 구글까지 어떤 과정을 통해 통신을 하는지에 대해서 간략하게 얘기해보려고 한다. 필자가 대학에서 배운 것 중 재밌다고 생각했던 것이 몇 개 있는데, 그 중 대표적인 것이 바로 인터넷에 연결되어 있는 모든 컴퓨터는 실제로 케이블을 통해 연결되어있다는 사실이었다. 혹자는 당연하다고 생각할 수 있는 이 사실이 그땐 굉장히 신기했던 것 같다. 매일매일 인터넷을 사용하고 있지만 너무 생활 속에 자연스레 녹아있는 요소이다 보니 그 원리에 대해서는 그다지 신경쓰지 않았기 때문이다.","html":"<p>이번 포스팅에서는 우리 집에서 구글까지 어떤 과정을 통해 통신을 하는지에 대해서 간략하게 얘기해보려고 한다. 필자가 대학에서 배운 것 중 재밌다고 생각했던 것이 몇 개 있는데, 그 중 대표적인 것이 바로 인터넷에 연결되어 있는 모든 컴퓨터는 실제로 케이블을 통해 연결되어있다는 사실이었다.</p>\n<p>혹자는 당연하다고 생각할 수 있는 이 사실이 그땐 굉장히 신기했던 것 같다. 매일매일 인터넷을 사용하고 있지만 너무 생활 속에 자연스레 녹아있는 요소이다 보니 그 원리에 대해서는 그다지 신경쓰지 않았기 때문이다.</p>\n<!-- more -->\n<p>그러다가 학교에서 네트워크에 대해 점점 자세히 배우면서 “내가 당연하게 사용하고 있는 이 혜택들이 사실은 굉장히 체계적이고 복잡한 시스템이구나”라는 사실을 알게 되었다.</p>\n<p>그래서 이번 포스팅에서는 필자의 집에서 구글 서버에 접속하는 과정을 통해 그 시스템에 대해서 간단하게 풀어보려고 한다. 물론 IP 주소를 기반으로 대략적인 추정을 하는 것이기 때문에 정확한 정보는 아니겠지만 대략적으로 이런 과정을 통해 해외에 있는 서버에 접속할 수 있다는 사실을 중심으로 풀어갈 것이다.</p>\n<h2 id=\"ip-internet-protocol\" style=\"position:relative;\">IP, Internet Protocol<a href=\"#ip-internet-protocol\" aria-label=\"ip internet protocol permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>먼저 우리 집에서 구글까지의 경로를 알기 위해서 인터넷하면 빠질 수 없는 IP에 대해서 간단하게 알아보자. IP 주소라는 단어는 컴퓨터 관련 전공을 하신 분이 아니더라도 굉장히 익숙한 단어이다.</p>\n<p>일반적인 환경에서 우리가 인터넷에 접속할 때 이 IP 주소가 우리 집 주소의 역할을 한다고 생각하면 된다. 마찬가지로 우리 집에서 구글까지 가는 길목에 있는 지점들도 모두 IP 주소를 가지고 있고, 우리는 그 IP 주소를 기반으로 이 지점이 어디인지 대략적으로 추측해볼 수 있다.</p>\n<p>IP에 관해서 굉장히 기본적인 내용을 설명할 예정이므로 이미 다 아시는 분은 그냥 건너뛰셔도 무방하다.</p>\n<h3 id=\"ipv4의-구조\" style=\"position:relative;\">IPv4의 구조<a href=\"#ipv4%EC%9D%98-%EA%B5%AC%EC%A1%B0\" aria-label=\"ipv4의 구조 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>일반적으로 우리가 접할 수 있는 <code class=\"language-text\">192.168.0.1</code>과 같은 형태는 IPv4이다. IPv4는 8비트로 구성된 4개의 필드로 구성되고 이 하나하나의 필드를 옥탯(Octet)이라고 부른다. <small>(참고로 Oct으로 시작하는 용어는 8을 뜻하는 게 많다)</small>.</p>\n<p>예를 들어 <code class=\"language-text\">192.168.0.1</code>은 이진법으로 전환하면 다음과 같이 나타낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">10진법: 192.168.0.1\n2진법: 11000000.10101000.00000000.00000001</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>한 옥탯에 8비트밖에 가지지 못하기 때문에 옥탯은 <code class=\"language-text\">00000000-11111111</code>, 즉 십진법으로는 <code class=\"language-text\">0-255</code>의 수를 가지게 되는 것이다. 그렇기 때문에 IPv4로 생성할 수 있는 주소의 개수는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>=</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>294</mn><mo separator=\"true\">,</mo><mn>967</mn><mo separator=\"true\">,</mo><mn>296</mn></mrow><annotation encoding=\"application/x-tex\">2^{32} = 4,294,967,296</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">32</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">294</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">967</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">296</span></span></span></span></span>로 약 43억개이다. 43억개라니… 꽤 큰 숫자 같아 보인다. 처음에 이 주소 체계를 만들 때만 해도 이런 생각을 했던 것 같다.</p>\n<blockquote>\n<p><em>에이 43억개나 있는데 어느 정도는 버티겠지?</em></p>\n</blockquote>\n<center>\n<br />\n.<br />\n.<br />\n.<br />\n<br />\n</center>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAExEHKPUj//xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIDEiEz/9oACAEBAAEFAqkXdB6lbJ5n/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BZ//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/ASf/xAAWEAEBAQAAAAAAAAAAAAAAAAAQESH/2gAIAQEABj8Cjj//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQIaFh/9oACAEBAAE/IRF6j2fDCWtUsN8x/9oADAMBAAIAAwAAABBcD//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxA4v//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/ELP/xAAdEAEBAAEEAwAAAAAAAAAAAAABEQAQITFBUXGh/9oACAEBAAE/EKbSNjkylivZv19zluOSJXj3iajcCx40/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"unexpected result\" title=\"\" src=\"/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg\" srcset=\"/static/de8631a2bb9ad577fae2ba57e8801a22/0913d/unexpected-result.jpg 160w,\n/static/de8631a2bb9ad577fae2ba57e8801a22/cb69c/unexpected-result.jpg 320w,\n/static/de8631a2bb9ad577fae2ba57e8801a22/41099/unexpected-result.jpg 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>생각보다 전세계의 인터넷 사용자가 빠르게 늘면서 결국 2011년 2월 4일부로 모든 주소가 소진되어 현재는 IPv4의 할당이 중지되었다. 다행히 그 동안 손놓고 있지는 않았고, 전세계의 똑똑한 분들이 이미 대책을 다 세워두었으니 너무 걱정하진 말자.</p>\n<h3 id=\"ipv4의-클래스\" style=\"position:relative;\">IPv4의 클래스<a href=\"#ipv4%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"ipv4의 클래스 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 IP 주소는 무제한으로 막 퍼줄 수 있는 자원이 아니라 유한한 자원이다 보니, 특정 대역마다 사용처를 나누어서 관리하게 된다. 이때 나누어진 대역을 클래스라고 부르며 A-E의 총 5개의 클래스로 나누어서 관리한다.</p>\n<p>각 클래스는 이진법으로 표현한 IPv4인 <code class=\"language-text\">00000000.00000000.00000000.00000000</code> 중 첫번째 필드에 있는 8비트에 제한을 만들어서 표기하기 때문에 첫번째 필드의 숫자만 보면 해당 IPv4 주소가 어느 클래스에 속해있는 지 알 수 있다.</p>\n<p>이 제한은 바로 첫번째 필드의 최상위 비트를 강제하는 방식이다. 예를 들어 A 클래스는 무조건 비트가 <code class=\"language-text\">0</code>으로 시작해야하기 때문에 <code class=\"language-text\">00000000(0)</code>에서 <code class=\"language-text\">01111111(127)</code>사이의 첫번째 필드를 사용할 수 있고 C 클래스는 무조건 비트가 <code class=\"language-text\">110</code>로 시작해야하기 때문에 <code class=\"language-text\">11000000(192)</code>부터 <code class=\"language-text\">11011111(223)</code>까지의 첫번째 필드를 사용할 수 있는 식이다.</p>\n<table>\n<thead>\n<tr>\n<th>클래스</th>\n<th>첫번째필드</th>\n<th>주소범위</th>\n<th>용도</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0xxxxxxx</td>\n<td>0.0.0.0 ~ 127.255.255.255</td>\n<td>대규모 네트워크</td>\n</tr>\n<tr>\n<td>B</td>\n<td>10xxxxxx</td>\n<td>128.0.0.0 ~ 191.255.255.255</td>\n<td>중규모 네트워크</td>\n</tr>\n<tr>\n<td>C</td>\n<td>110xxxxx</td>\n<td>192.0.0.0 ~ 223.255.255.255</td>\n<td>소규모 네트워크</td>\n</tr>\n<tr>\n<td>D</td>\n<td>1110xxxx</td>\n<td>224.0.0.0 ~ 239.255.255.255</td>\n<td>멀티캐스트</td>\n</tr>\n<tr>\n<td>E</td>\n<td>1111xxxx</td>\n<td>240.0.0.0 ~ 255.255.255.255</td>\n<td>연구/개발 또는 미래 대비로 예약</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"특수한-목적의-ipv4-주소\" style=\"position:relative;\">특수한 목적의 IPv4 주소<a href=\"#%ED%8A%B9%EC%88%98%ED%95%9C-%EB%AA%A9%EC%A0%81%EC%9D%98-ipv4-%EC%A3%BC%EC%86%8C\" aria-label=\"특수한 목적의 ipv4 주소 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이렇게 클래스를 나누고 그 클래스 내부에서도 특수한 용도를 위해 미리 예약해놓은 IPv4 주소들이 있다. 이 예약 주소들은 <a href=\"https://tools.ietf.org/html/rfc5735\" target=\"_blank\" rel=\"nofollow\">RFC 5735</a>에 의해 정의되어 있으며 목적에 벗어난 용도로 할당 받는 것이 불가능하다. 이 포스팅에서는 간략하게 대표적인 몇가지만 설명하고 넘어가겠다.</p>\n<table>\n<thead>\n<tr>\n<th>클래스</th>\n<th>주소</th>\n<th>용도</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0.0.0.0 ~ 0.255.255.255</td>\n<td>할당되지 않은 메타 주소</td>\n</tr>\n<tr>\n<td>A</td>\n<td>10.0.0.0 ~ 10.255.255.255</td>\n<td>대규모 사설 네트워크</td>\n</tr>\n<tr>\n<td>A</td>\n<td>100.64.0.0 ~ 100.127.255.255</td>\n<td>Carrier-grade NAT용 주소</td>\n</tr>\n<tr>\n<td>A</td>\n<td>127.0.0.0 ~ 127.255.255.255</td>\n<td>자기 자신. 일명 루프백(Lookback)</td>\n</tr>\n<tr>\n<td>C</td>\n<td>192.168.0.0 ~ 192.168.255.255</td>\n<td>소규모 사설 네트워크. 공유기를 쓰면 많이 보인다.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"우리-집에서-구글까지의-경로를-보자\" style=\"position:relative;\">우리 집에서 구글까지의 경로를 보자<a href=\"#%EC%9A%B0%EB%A6%AC-%EC%A7%91%EC%97%90%EC%84%9C-%EA%B5%AC%EA%B8%80%EA%B9%8C%EC%A7%80%EC%9D%98-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EB%B3%B4%EC%9E%90\" aria-label=\"우리 집에서 구글까지의 경로를 보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자, 드디어 이 포스팅의 메인 내용을 시작할 수 있게 되었다.</p>\n<p>집에서 맥북을 열고 웹 브라우저에 <code class=\"language-text\">google.com</code>을 입력하면 웹 브라우저는 전 세계 어딘가에 있는 구글 서버에 페이지를 보내달라는 요청을 보낼 것이다. 하지만 필자의 맥북과 구글 서버까지는 직접 연결되어 있지 않다.</p>\n<p>그렇기 때문에 필자가 보낸 요청은 구글 서버까지 가기 위해 여기저기를 들러가면서 험난한 여정을 겪는다. 그렇다면 이제 필자가 집에서 보낸 요청이 구글 서버까지 도달하기 전에 어디를 들리는 지 한번 알아보자.</p>\n<h3 id=\"traceroute-사용하기\" style=\"position:relative;\">traceroute 사용하기<a href=\"#traceroute-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"traceroute 사용하기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>필자는 Unix 기반의 MacOS를 사용하고 있기 때문에 MacOS 기준으로 설명하겠다. <code class=\"language-text\">traceroute</code> 유틸리티를 사용하면 내가 보낸 패킷이 어떤 경로를 통해 구글 서버까지 도달하는 지 알아볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">traceroute</span> <span class=\"token parameter variable\">-q</span> <span class=\"token number\">1</span> google.com\n<span class=\"token function\">traceroute</span> to google.com <span class=\"token punctuation\">(</span><span class=\"token number\">172.217</span>.25.196<span class=\"token punctuation\">)</span>, <span class=\"token number\">64</span> hops max, <span class=\"token number\">52</span> byte packets\n <span class=\"token number\">1</span>  <span class=\"token number\">192.168</span>.25.1 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.25.1<span class=\"token punctuation\">)</span>  <span class=\"token number\">3.077</span> ms\n <span class=\"token number\">2</span>  <span class=\"token number\">211.0</span>.0.0 <span class=\"token punctuation\">(</span><span class=\"token number\">211.0</span>.0.0<span class=\"token punctuation\">)</span>  <span class=\"token number\">5.928</span> ms\n <span class=\"token number\">3</span>  <span class=\"token number\">100.71</span>.51.17 <span class=\"token punctuation\">(</span><span class=\"token number\">100.71</span>.51.17<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.693</span> ms\n <span class=\"token number\">4</span>  <span class=\"token number\">10.44</span>.255.240 <span class=\"token punctuation\">(</span><span class=\"token number\">10.44</span>.255.240<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.328</span> ms\n <span class=\"token number\">5</span>  <span class=\"token number\">10.222</span>.18.10 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.18.10<span class=\"token punctuation\">)</span>  <span class=\"token number\">7.319</span> ms\n <span class=\"token number\">6</span>  <span class=\"token number\">10.222</span>.16.201 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.16.201<span class=\"token punctuation\">)</span>  <span class=\"token number\">4.883</span> ms\n <span class=\"token number\">7</span>  <span class=\"token number\">10.222</span>.16.41 <span class=\"token punctuation\">(</span><span class=\"token number\">10.222</span>.16.41<span class=\"token punctuation\">)</span>  <span class=\"token number\">3.853</span> ms\n <span class=\"token number\">8</span>  <span class=\"token number\">72.14</span>.204.124 <span class=\"token punctuation\">(</span><span class=\"token number\">72.14</span>.204.124<span class=\"token punctuation\">)</span>  <span class=\"token number\">34.784</span> ms\n <span class=\"token number\">9</span>  <span class=\"token number\">108.170</span>.242.193 <span class=\"token punctuation\">(</span><span class=\"token number\">108.170</span>.242.193<span class=\"token punctuation\">)</span>  <span class=\"token number\">37.751</span> ms\n<span class=\"token number\">10</span>  <span class=\"token number\">108.170</span>.233.79 <span class=\"token punctuation\">(</span><span class=\"token number\">108.170</span>.233.79<span class=\"token punctuation\">)</span>  <span class=\"token number\">36.643</span> ms\n<span class=\"token number\">11</span>  nrt13s50-in-f4.1e100.net <span class=\"token punctuation\">(</span><span class=\"token number\">172.217</span>.25.68<span class=\"token punctuation\">)</span>  <span class=\"token number\">35.416</span> ms</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>두번째 홉은 필자의 디테일한 위치가 노출될 수 있는 공인 IP를 출력하므로 보안상 마스킹했다. 사실 필자가 사용하고 있는 ISP(Internet Service Provider)인 SK 브로드밴드는 관리 지역 내 IP 주소 임대기간이 1시간이기도 하고 필자는 인구밀도가 높은 곳에 거주하고 있으므로 저 IP 주소가 노출된다고 해도 위치를 알기는 쉽지 않지만 그래도 불안하기 때문에 가린다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 83.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAMEAQIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHj2K8ubVZWbTBGD//EABwQAAEFAAMAAAAAAAAAAAAAAAIAAQMQERIiMf/aAAgBAQABBQIe0k4MNZiMuSdqPxf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABAwUAAAAAAAAAAAAAAAABABARAiBhcYH/2gAIAQEABj8CGShE9abKNN//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBhQVHw/9oACAEBAAE/IamoDQQdcQdb35xC3XrEofcJ8vbDU//aAAwDAQACAAMAAAAQHP8Agv/EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAwEBPxAkcf/EABcRAAMBAAAAAAAAAAAAAAAAAAEgITH/2gAIAQIBAT8Q0xP/xAAeEAEAAQMFAQAAAAAAAAAAAAABEQAhQRAxUXGh8P/aAAgBAQABPxALIqgsdFTohYWA+aOgUIJbZpMtYnYh+zScBuJWHRXk6F//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"meme\" title=\"\" src=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg\" srcset=\"/static/6d8c691361160ceec51f9bdd1c9b19f0/0913d/meme.jpg 160w,\n/static/6d8c691361160ceec51f9bdd1c9b19f0/cb69c/meme.jpg 320w,\n/static/6d8c691361160ceec51f9bdd1c9b19f0/65f94/meme.jpg 420w\" sizes=\"(max-width: 420px) 100vw, 420px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>누가 우리 집 알아내면 어떡해...</small>\n</center>\n<p><code class=\"language-text\">traceroute</code>의 결과로 출력되는 하나의 row를 홉(Hop)이라고 부르는데, 필자의 집에서부터 구글의 서버까지 필자의 패킷이 거쳐간 경로를 의미하는 것이다. 홉의 IP 주소 오른쪽에 출력된 시간은 홉이 응답한 시간을 의미한다. 재밌는 것은 8번 홉부터 갑자기 응답 시간이 한자리 수에서 두자리 수로 확 뛴다는 것인데, 여기서부터는 패킷이 국내를 벗어나 해외로 빠져나간 것이다.</p>\n<p>그렇다면 이 IP 주소들은 어디를 의미하는 걸까?</p>\n<h3 id=\"좀-더-자세히-알아보자\" style=\"position:relative;\">좀 더 자세히 알아보자!<a href=\"#%EC%A2%80-%EB%8D%94-%EC%9E%90%EC%84%B8%ED%9E%88-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"좀 더 자세히 알아보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 이 IP 주소들이 각각 어디를 의미하는지, 어떤 회사가 소유하고 있는 어떤 디바이스인지 좀 더 자세히 알아보고 싶다. 간단하게 알아보는 방법은 <code class=\"language-text\">whois</code> 유틸리티를 사용하는 방법이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ whois <span class=\"token number\">172.217</span>.25.68\nNetRange:       <span class=\"token number\">172.217</span>.0.0 - <span class=\"token number\">172.217</span>.255.255\nCIDR:           <span class=\"token number\">172.217</span>.0.0/16\nNetName:        GOOGLE\nNetHandle:      NET-172-217-0-0-1\nParent:         NET172 <span class=\"token punctuation\">(</span>NET-172-0-0-0-0<span class=\"token punctuation\">)</span>\nNetType:        Direct Allocation</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>MacOS의 <code class=\"language-text\">whois</code> 유틸리티는 5개의 <code class=\"language-text\">whois</code> 서비스에 요청을 보내 받아온 결과를 출력해주는 방식이다. 참고로 대한민국의 <code class=\"language-text\">whois</code> 서비스는 KISA(한국인터넷진흥원)의 <a href=\"https://xn--c79as89aj0e29b77z.xn--3e0b707e/kor/main.jsp\" target=\"_blank\" rel=\"nofollow\">후이즈검색</a>에서 제공하고 있다.</p>\n<table>\n<thead>\n<tr>\n<th>whois 도메인</th>\n<th>담당 구역</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>whois.arin.net</td>\n<td>아메리카</td>\n</tr>\n<tr>\n<td>whois.nic.mil</td>\n<td>미국(현재 작동안함)</td>\n</tr>\n<tr>\n<td>whois.ripe.net</td>\n<td>유럽</td>\n</tr>\n<tr>\n<td>whois.apnic.net</td>\n<td>아시아 태평양</td>\n</tr>\n<tr>\n<td>whois.jprs.jp</td>\n<td>일본</td>\n</tr>\n</tbody>\n</table>\n<p>그러나 <code class=\"language-text\">whois</code> 서비스는 기본적으로 도메인이 등록된 IP 주소의 소유주에 대한 정보를 보여주는 서비스라서 도메인이 등록되지 않은 게이트웨이나 라우터에 대한 정보는 나오지 않는다. 그래서 필자는 <a href=\"https://www.ip2location.com/demo\" target=\"_blank\" rel=\"nofollow\">IP2Location</a>이라는 사이트를 이용하여 한번 찾아볼 것이다. <small><strike>(근데 이것도 잘 나올 것 같지는 않다)</strike></small></p>\n<p>먼저 첫 번째 홉인 <code class=\"language-text\">192.168.25.*</code>은 필자 집의 공유기에서 할당해준 사설 IP이고 두 번째 홉은 ISP가 필자에게 부여해준 공인 IP이나, 보안 상 마스킹 했으므로 세 번째 홉인 <code class=\"language-text\">100.71.51.17</code>부터 한번 살펴보겠다.</p>\n<h4 id=\"100715117\" style=\"position:relative;\">100.71.51.17<a href=\"#100715117\" aria-label=\"100715117 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<img src=\"https://images.ip2location.com/18399031.png\">\n<p>앗 역시 생각보다 정보가 별로 안나왔다. 대신 해당 IP 주소가 Carrier Grade NAT에 사용된다는 정보를 출력했다. 위에서 설명한 대로 A 클래스의 <code class=\"language-text\">100.64.0.0 - 100.127.255.255</code> 대역이 Carrier Grade NAT에 사용된다는 것은 이미 표준으로 정의된 것이기 때문에 사실 뻔한 결과를 출력한 것이다. 그럼 Carrier Grade NAT이 뭐길래 중간에 필자의 패킷이 들렀다 가는걸까?</p>\n<p>우선 NAT은 Network Address Translation의 약자로 대개 사설 네트워크에 속한 여러 개의 호스트가 하나의 공인 IP를 사용하여 인터넷에 접속하기 위한 기술이다.</p>\n<p>필자는 SK 브로드밴드의 IPTV나 Wi-Fi 등 여러 개의 서비스를 사용 중이다. 그렇다고 IP 주소를 가입한 서비스마다 나눠주기에는 주소가 매우 부족한 상황이기 때문에 SK 브로드밴드는 필자에게 단 하나의 공인 IP 주소를 할당해주고 NAT 기능이 있는 공유기를 집에 설치해, 필자의 집에 사설 네트워크(Private Network)를 구축해준 것이다.</p>\n<p>Carrier Grade NAT(CGN)은 NAT의 스케일 큰 버전이라고 생각하면 된다. 필자의 집에 설치된 공유기는 필자의 집 내부에 사설망을 구성하는 데에 그치지만 CGN은 백본망에 구성되는 NAT이다. 쉽게 말하면 거대 공유기랄까…?</p>\n<p>필자가 알기로는 원래 스마트폰의 LTE같이 모바일 망에 직접 연결되는 무선 인터넷 디바이스를 NAT로 관리하기 위해 백본망에서 CGN을 운영한다고 알고 있었는데, 왜 집에 있는 공유기를 사용 중인 필자의 패킷이 CGN을 타는지는 잘 모르겠다. SK 브로드밴드가 IPv4가 많은 편은 아니긴 한데… 너무 모자라서 유선 인터넷에도 CGN을 달았나…? <small>(혹시 아시는 분은 좀 알려주세요…궁금해요…)</small></p>\n<h4 id=\"1044255240--102221641\" style=\"position:relative;\">10.44.255.240 ~ 10.222.16.41<a href=\"#1044255240--102221641\" aria-label=\"1044255240  102221641 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>여기서부터는 A클래스 사설망에 할당되는 IP이므로, 추측하건데 SK 브로드밴드의 백본망 내부인 것 같다. ISP들은 자신들의 망 구조를 자세히 알려주지 않기 때문에 정확히 어디에 위치한 노드인지는 알 수 없지만 SK 브로드밴드의 망 구조 상 대략 이쯤 되는 것 같다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/40e14dfe7f089d802c42a2c0fcca55dc/82158/skb-network.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7zAAAO8wEcU5k6AAAC4UlEQVR42o1U2VLbMBT1T7b9hvITnfaxfEOf+sBMH2CmdPrQklAYIA2BAA5LiB07i5PYsS1blhdJ1lI5CWmZ0uXOtcf23HN1dO6RNcaY7wcQJiiJOOfy9xBCXT9z9VqFFgLQ0dv+xMrjAc6CZfkat34WT3SVmut6EIaCFZxRRpCg+UO1WCYjmSwKSZnEWFI86RuXZy3f9yvweDTs9y1C6BLCiyjPEsYq/iWnQTRAs36ZRuNRo4CeJOS+3TLPmmmWCSE0lMQ3ndMkiSSJBEWszFA845xhUtiT66l7J7MsRtHXky0XjBX5JIHpzDFMs6RUM00zgYoDXyixFKhattvT68efQGzzOHKC7jTolpSAyI8A2P+48+zF893dXc2zmpPhLaalwJDnkeCl5ET1gvOmcbNt2b3Mcw7Pt+/63+dgWGtshX4wvb/d3tkJgkBLAzPyTSlKxVmQhONY8lzyAheOM+0MBl0KgsncHrqXOYYzd9Y3jMvDb283Ny8u2lrnWnecYcWWKXyqZFoozQQnC9GoTBHK01rjveMZBDOKcau+93Jj4+DgQLu9aiDPkFJVF2osqwlyrPBVx7KUaUIZHU1vUAowydVABARZXk1UQ9C3jOssRZyxlWB8SWERrJQIqsYgmWcF8oDD1ZckXugqtL5lX1x1ur1727bYAi9o9ggcBVk8B54dzYcq4XzEQ285Fa2nt6am3jqqda+vOF9MS+BHdsQFQ5AkgCaAwFDd1ZeVPSfW1ah7enZUv9XblRsrk8yXDhPiSUf/4u3poNM7369/3mk3TyqlCMigu6KwwAuxtvlDrk9V4I2RP7Z7N4O+Ueax2jFOQ8u8j+LYdd1/rIzAIOwdH2+/M/UmKwuc50r52t6XN69f1eq18XicpumftqDpescP4/ZFq9v+oErUOUm9oedYp82GYfTyvHj6D7EEO47jujPfdVDoCFpItrLH/4S2EqYkPA1Z4qnkGCmKf1lwDf4BBWRoCVFWkuUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"skb network\" title=\"\" src=\"/static/40e14dfe7f089d802c42a2c0fcca55dc/6af66/skb-network.png\" srcset=\"/static/40e14dfe7f089d802c42a2c0fcca55dc/69538/skb-network.png 160w,\n/static/40e14dfe7f089d802c42a2c0fcca55dc/72799/skb-network.png 320w,\n/static/40e14dfe7f089d802c42a2c0fcca55dc/6af66/skb-network.png 640w,\n/static/40e14dfe7f089d802c42a2c0fcca55dc/82158/skb-network.png 696w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>여기서 부터 다른 국내 ISP와 연결되거나 해외망으로 연결된다</small>\n</center>\n<h4 id=\"7214204124--10817023379\" style=\"position:relative;\">72.14.204.124 ~ 108.170.233.79<a href=\"#7214204124--10817023379\" aria-label=\"7214204124  10817023379 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<img src=\"https://images.ip2location.com/60603511.png\">\n<p>드디어 구글이 소유하고 있는 디바이스가 나타났다! 근데 위치가 네덜란드 암스테르담이다. 구글은 미국 캘리포니아에 있는 회사인데 왜 뜬금없이 암스테르담이 출현했는지 모르겠다. 뭔가 이상하기 때문에 유럽을 담당하는 <code class=\"language-text\">whois</code> 서비스인 <code class=\"language-text\">whois.ripe.net</code>에 물어봐야겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">whois <span class=\"token parameter variable\">-h</span> whois.ripe.net <span class=\"token number\">72.14</span>.204.124\n\ninetnum:        <span class=\"token number\">69.194</span>.128.0 - <span class=\"token number\">76.255</span>.255.255\nnetname:        NON-RIPE-NCC-MANAGED-ADDRESS-BLOCK\ndescr:          IPv4 address block not managed by the RIPE NCC</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>역시 여기서 관리하고 있는 주소가 아니라고 한다. 그렇다면 아메리카를 담당하는 <code class=\"language-text\">whois.arin.net</code>에 물어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">whois <span class=\"token parameter variable\">-h</span> whois.arin.net <span class=\"token number\">72.14</span>.204.124\n\nNetRange:       <span class=\"token number\">72.14</span>.192.0 - <span class=\"token number\">72.14</span>.255.255\nCIDR:           <span class=\"token number\">72.14</span>.192.0/18\nNetName:        GOOGLE\nNetHandle:      NET-72-14-192-0-1\nParent:         NET72 <span class=\"token punctuation\">(</span>NET-72-0-0-0-0<span class=\"token punctuation\">)</span>\nNetType:        Direct Allocation\nOriginAS:\nOrganization:   Google LLC <span class=\"token punctuation\">(</span>GOGL<span class=\"token punctuation\">)</span>\nRegDate:        <span class=\"token number\">2004</span>-11-10\nUpdated:        <span class=\"token number\">2012</span>-02-24\nRef:            https://rdap.arin.net/registry/ip/72.14.192.0</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>오 이번에는 제대로 된 정보가 나왔다. <code class=\"language-text\">72.14.204.124</code> 주소를 가진 디바이스는 구글이 소유하고 있는 무언가인듯하다. IP2Location은 이제 필자에게 신뢰를 잃었기 때문에 가차없이 버리기로 하고 <a href=\"https://db-ip.com\" target=\"_blank\" rel=\"nofollow\">DB IP</a>라는 새로운 솔루션을 사용하겠다.</p>\n<p>DB IP를 사용하여 검색해보니 위치가 <code class=\"language-text\">Ashburn, Loudoun, Virginia, United States</code>로 잡히고 Connection Type은 <code class=\"language-text\">Hosting</code>으로 되어있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6aa63397ba4132502a4856ab76647df1/a6d66/db-ip-result.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACbUlEQVR42p1UiW7bMAz1/3/RPmEYVgzoiqJJ3DSJj/iWLcm35TeSbgK0w4BiAmjrIJ/J9yh7tu2Q5QXqpsG0LJhmtvlu4zRhcQ4t+aVZDvbn9XZOvtPmN1PsQmtvGEcBa7ueHBfwel4c1tXBkXGwW1c0VYUiDqGyK+osRl0msCpHkV/RkOWHHarrBZ7WGkmSYCQgDsz0hLIDzABoMrdCRtso6DyWoCI8IvD3CN5ekQc0Px3hv/xCHO/g9X0vYDwcRavGoOtHLAQ0O0Dw6NHVBVQZUaYJmiTA8fWAlx8PODz+RhQH+Lk/4PvxzIAD8jyHUgoL8aCp/Jk4+TyMLhClPqLIp7ID6PSM2H/Cw2GPMDrDP+7x7SWEt1KZjnlyzNsqZTN32/563+87jdZUMGUGU6VEQYGkyPCc5NhfU/hhiMcghVdWNVJSOUkzaNOK0uM0i7GK/GYFOWsWj8F5dBOgiKk6pcrojHf5TDI0jYUlMN4c2gHzuAiIKhWdGQEYhhGXS4Asy2StDcW0PVaq4vYRrs7jya56RWQS2XwuD7i2W9BTsUNi8y0jEo+5rustS2MZ0H7geb0BRjZF2SvZDEwMNTT3ednXMudO0NpQI0+ytgTIgv4FaK1Boxo09OWyKqVE3WjibpR28auTZL9SDx3f3nA6n4VPY4x0Rtu20h13QKU75EpTCYacLHGjxbnrOnnbrhVnziwl4RhAMqS3UrUItdDNugPOROr8Tuy/7AYYhJGII6JQ+UVRygfYbn4evjj4J8BXlG+WiCQVWPl5rM59FOUrg0WJouguBItSlFuG7n8A+dZw2bfSlvdm/6zyH6Vx13b7DHTLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"db ip result\" title=\"\" src=\"/static/6aa63397ba4132502a4856ab76647df1/6af66/db-ip-result.png\" srcset=\"/static/6aa63397ba4132502a4856ab76647df1/69538/db-ip-result.png 160w,\n/static/6aa63397ba4132502a4856ab76647df1/72799/db-ip-result.png 320w,\n/static/6aa63397ba4132502a4856ab76647df1/6af66/db-ip-result.png 640w,\n/static/6aa63397ba4132502a4856ab76647df1/d9199/db-ip-result.png 960w,\n/static/6aa63397ba4132502a4856ab76647df1/21b4d/db-ip-result.png 1280w,\n/static/6aa63397ba4132502a4856ab76647df1/a6d66/db-ip-result.png 2070w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>그 이후 9번 홉인 <code class=\"language-text\">108.170.242.193</code>과 10번 홉인 <code class=\"language-text\">108.170.233.79</code> 또한 버지니아 주에 위치한 호스팅 서버인 것으로 표시되었다. 여기에 도대체 뭐가 있길래 다 여기에 옹기종기 모여있는걸까…?</p>\n<p>조금 구글링을 해보니 구글이 Ashburn에서 일할 사람을 찾고 있는 공고를 발견했다. 또한 같은 버지니아 주의 옆 동네인 Sterling과 Reston으로도 채용공고가 많이 올라와있다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fa825b93f209cad6a735204a4c4504b1/6d2da/google-hiring.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVR42pVTa4/aMBDM//9bfOJaaGlVroU8DkggJI4d8g6JPd11G3ToDl270mhtxxmPd9aOAWC6DmhqtJSLoiCU6NoaGCuYK0GPMMb8Exzig3ie4dviJxKZY/3jO758XUGle6D2oQsf0D2mMHgcN8K4PuJZCjQkNCutZkjKSW4wauLtDCKh0Q0G/UD7pbZ73lVY1zUu6oKWcpZlUOWAS20oa2SFRl5rmms7z2ld0lrd9CznXZVOR3UTmYBSCkKkyKuBYFA0TGpuYyZTNOZDOpZJ0fe9xfV6BfOM4whHa22lTjUwd3P9Som5Yboek7Rta3PTNBiGAU6appjNZlitVlgul3h6+mTxebGAHwSYz+fw/QBaxBjb5o8p5rE1TlVV2Gw2cF0PnfLQn5do0l8Iwwj7/R673Q7n8/mhq28I2RTXdXE4HMBqw/CAKAwhpbQ/cElel+WjcLiop9PJqhBCWNKMyKZxkiT225QZURTheDwijmNrJh94p3C73cLzPAvfcy1eXgK7HlAdeX29XlsSPpzVMzETshF3Ctly7j8pFfKcWkdViEWF/FIip9O5xuxgWZa2RT68MsudbO+oBSp6LYqecc+v4m9v/U/8BqA969jZ9pErAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"google hiring\" title=\"\" src=\"/static/fa825b93f209cad6a735204a4c4504b1/6af66/google-hiring.png\" srcset=\"/static/fa825b93f209cad6a735204a4c4504b1/69538/google-hiring.png 160w,\n/static/fa825b93f209cad6a735204a4c4504b1/72799/google-hiring.png 320w,\n/static/fa825b93f209cad6a735204a4c4504b1/6af66/google-hiring.png 640w,\n/static/fa825b93f209cad6a735204a4c4504b1/6d2da/google-hiring.png 936w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>날 뽑아줘요...엉엉</small>\n</center>\n<p>공고를 쭉 스캔해보니 주로 Network Engineer, Administrative Business Partner, Data Center, Google Cloud와 같은 키워드가 많이 보이는 걸로 봐서는 아무래도 여기에 구글 데이터센터가 있나보다. 좀 더 정보를 찾아보니 <a href=\"https://wtop.com/business-finance/2019/02/google-to-double-its-virginia-workforce/\" target=\"_blank\" rel=\"nofollow\">구글이 버지니아에서 일하는 인원을 두배 늘린다는 기사</a>도 올해 2월에 작성되었었다.</p>\n<p>여기에 구글 데이터센터가 있는 것은 아무래도 확실한 것 같다.</p>\n<h4 id=\"1722172568googlecom\" style=\"position:relative;\">172.217.25.68(google.com)<a href=\"#1722172568googlecom\" aria-label=\"1722172568googlecom permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0d61b84bb06d96dea7054db728e40209/6f175/final.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACRElEQVR42l1TaW/TQBD1//8bCIpA8IVSKqRyiCI1JE3cxCaU1Hadqz7i+r7Wx2NmkxTESOPdbHbfvDdvV0nzHJ6/Q5QkaNoWoqEUDWpK0dDYCLRdh4T2bR0PYZKiEi2qWqCsa0rxlBWdUfKiwPbBQZKm6PoOWVGhanpwdH2Pltb4l+nu8F638EEzcaEZWBg6luYMFz8tnP5a4d3cxldzC6UoS7ieR6yEBImJQZxkSJIYNTE4xnjt47lq4ouqQtd/QLu5wmQywtvJLU5mFv1n4Ox2BSXLMnBKRl2PXVJTCgRZg7DoiOUecGZa+DZRcTe/xtYYYjq6wqfvI7yZmXitWXh5Y+L895ok5wVy6k9D/eqoV49hhLKqpcyWPn2/RzSMBaaDS6jE6uNYw9m1jlfjBV4Q0AnlM2J4ygxZahRFiONYAhbUUx6PcSCIpetgbi8xWTn4fO/j0nAwXO8wolZwDmwX+taHUhOgTHKJXWVG7Cpnd5jzyAp8P5B7OchoMrAhGS3+Vu+hhFFMLrsyM2LH1+FYpCgrkl9JUDbowXFITSzP8j428F8VHAp/2JSS3JZz6icfZtm7IKBDiVznAildreagglsVhiH+Dwl47Wu4i225MPSmsJKVnA9cFXa6OTCqYC+XMK17WbAlqZ7nyyLHWyIBpSlZTC8hhSAZUR4jLTL0xDCvSwRFiFwUEsBxXKQHmfyaguBRmsmsnwAZPaSrwr0J2W0aE9ok6MmBzLbjDTapI+eO66Kinu4BBV2xUAIeHwW34g91epBEkzIrowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"final\" title=\"\" src=\"/static/0d61b84bb06d96dea7054db728e40209/6af66/final.png\" srcset=\"/static/0d61b84bb06d96dea7054db728e40209/69538/final.png 160w,\n/static/0d61b84bb06d96dea7054db728e40209/72799/final.png 320w,\n/static/0d61b84bb06d96dea7054db728e40209/6af66/final.png 640w,\n/static/0d61b84bb06d96dea7054db728e40209/d9199/final.png 960w,\n/static/0d61b84bb06d96dea7054db728e40209/21b4d/final.png 1280w,\n/static/0d61b84bb06d96dea7054db728e40209/6f175/final.png 2036w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>자 드디어 마지막 <code class=\"language-text\">google.com</code> 도메인의 종착점인 <code class=\"language-text\">172.217.25.68</code> 주소를 가진 서버이다. 이 주소도 역시 DB IP를 통해 검색해본 결과 일본에 있는 서버라고 한다.</p>\n<p>사실 한국에 있는 필자가 미국에 있는 서버에서 계속 정보를 받는 것보다 가까운 일본에 있는 서버에서 정보를 받는 게 훨씬 빠르기 때문에 이건 당연하긴 하다. 필자의 패킷은 태평양을 건너 미국에 갔다가 다시 일본으로 건너가는 기묘한 루트를 그리고 있었다는 것이다…</p>\n<p>자세하게 파고 들어가면 왜 이런 루트를 그리는지 알 수 있겠지만 너무 포스팅이 길어질 것 같아 여기까지만 파보겠다. <small>(다음에 좀 더 자세히 파보는 걸로…)</small>\n늘 아무 생각없이 접속하던 구글도 자세히 들여다보면 이렇게 다양한 경로를 통해 나에게 전달된다. 새삼 신기한 사실이다.</p>\n<p>이상으로 우리 집에서 구글까지 가는 길 포스팅을 마친다.</p>","fields":{"slug":"20190622-my-home-to-google","path":"/2019/06/22/my-home-to-google/","lang":"ko"},"frontmatter":{"title":"우리 집에서 구글까지 가는 길","subTitle":"매일 사용하는 인터넷, 그 속을 들여다보자","date":"Jun 22, 2019","categories":["프로그래밍","네트워크"],"tags":["네트워크","Network","IP","TCP","IP 클래스","traceroute","인터넷","네트워크 기초","기술면접"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/b9d22b130aacc561550df26f133f469d/d803c/network-structure.png","srcSet":"/static/b9d22b130aacc561550df26f133f469d/d803c/network-structure.png 320w,\n/static/b9d22b130aacc561550df26f133f469d/2a1fd/network-structure.png 750w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/b9d22b130aacc561550df26f133f469d/fc5c5/network-structure.webp 320w,\n/static/b9d22b130aacc561550df26f133f469d/e9225/network-structure.webp 750w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/b9d22b130aacc561550df26f133f469d/01fb2/network-structure.png","srcSet":"/static/b9d22b130aacc561550df26f133f469d/01fb2/network-structure.png 750w","sizes":"100vw"},"sources":[{"srcSet":"/static/b9d22b130aacc561550df26f133f469d/b384d/network-structure.webp 750w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"4cac42eb-8760-52a9-a0d2-720bd7c06bf1","tableOfContents":"<ul>\n<li>\n<p><a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C\">var 키워드</a></p>\n<ul>\n<li><a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\">변수의 중복 선언이 가능하다.</a></li>\n<li><a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4\">호이스팅 당한다.</a></li>\n<li><a href=\"#%ED%95%A8%EC%88%98-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84\">함수 레벨 스코프</a></li>\n<li><a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C-%EC%83%9D%EB%9E%B5-%EA%B0%80%EB%8A%A5\">var 키워드 생략 가능</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%EB%93%B1%EC%9E%A5\">let과 const 키워드의 등장</a></p>\n</li>\n<li>\n<p><a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\">let과 const 키워드의 특징</a></p>\n<ul>\n<li><a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\">변수의 중복 선언이 불가능하다.</a></li>\n<li><a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4-1\">호이스팅 당한다?</a></li>\n<li><a href=\"#%EB%B8%94%EB%A1%9D-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\">블록 레벨 스코프를 사용한다</a></li>\n<li><a href=\"#let-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%8A%94-%EC%83%9D%EB%9E%B5%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\">let, const 키워드는 생략이 불가능하다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\">const 키워드의 특징</a></p>\n<ul>\n<li><a href=\"#%EC%83%81%EC%88%98%EB%A5%BC-%EC%84%A0%EC%96%B8%ED%95%A0-%EB%95%8C-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\">상수를 선언할 때 사용한다</a></li>\n<li><a href=\"#%EB%B0%98%EB%93%9C%EC%8B%9C-%EC%84%A0%EC%96%B8%EA%B3%BC-%EB%8F%99%EC%8B%9C%EC%97%90-%EC%B4%88%EA%B8%B0%ED%99%94-%ED%95%B4%EC%A4%98%EC%95%BC-%ED%95%9C%EB%8B%A4\">반드시 선언과 동시에 초기화 해줘야 한다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 JavaScript ES6에서 추가되었던 과  키워드에 대해서 자세히 포스팅하려고 한다. 부끄럽지만 지금까지 필자는 과 는 호이스팅이 되지 않는다고 생각하고 있었다. 하지만 얼마 전 친구와 대화하던 중에 과 도 호이스팅 대상체이지만 TDZ라는 특수한 영역을 사용하여 참조를 방어하는 것임을 알게 되었다.","html":"<p>이번 포스팅에서는 JavaScript ES6에서 추가되었던 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code> 키워드에 대해서 자세히 포스팅하려고 한다. 부끄럽지만 지금까지 필자는 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>는 호이스팅이 되지 않는다고 생각하고 있었다. 하지만 얼마 전 친구와 대화하던 중에 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>도 호이스팅 대상체이지만 TDZ라는 특수한 영역을 사용하여 참조를 방어하는 것임을 알게 되었다.</p>\n<!-- more -->\n<hr>\n<p><strong>다른 분</strong>: 근데 <code class=\"language-text\">var</code>와 다르게 <code class=\"language-text\">let</code>이랑 <code class=\"language-text\">const</code>는 왜 참조 에러가 발생하는 건가요?</p>\n<p><strong>필자</strong>: <code class=\"language-text\">let</code>이랑 <code class=\"language-text\">const</code>는 호이스팅 안될 거에요.</p>\n<p><strong>친구</strong>: <code class=\"language-text\">let</code>이랑 <code class=\"language-text\">const</code>도 호이스팅 되는데…? TDZ에 들어가 있어서 참조 에러 나는거야</p>\n<p><strong>필자</strong>: 된다고??? TDZ는 또 뭐여?</p>\n<hr>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/32cc521a6a3381f1b8091672aa70ed2c/20e5d/no-yes.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 141.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAcABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF9MajFAplbjnfJB//EAB0QAAIBBAMAAAAAAAAAAAAAAAECAwAEEhMhIiP/2gAIAQEAAQUCuThLBKWETkLq9EORL4ncgPSVhHwiKUVjHdB2Nf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACEQAAEDBAEFAAAAAAAAAAAAAAEAAhESITFBAxAiMlGB/9oACAEBAAY/AjS4icwi52kbb0uR7offxRr7T6UY+KCU5ojoCWzpGnVllf/EABwQAQADAAMBAQAAAAAAAAAAAAEAESExQVFhsf/aAAgBAQABPyFSECwu4pOgof2DBfW2bhiKE1O7yDQcBsjLbPVmOaX6Q77a1KALxhtwriHl5csfXBfkE2P/2gAMAwEAAgADAAAAEJAHDP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB4QAQEAAgIDAQEAAAAAAAAAAAERACExYUFxgVGx/9oACAEBAAE/EAemkY15/swDPZIu09o4KaGQBLbfuFHoCKyE+HVxpMSGz+DNn3HidEPIB5mPkWmyXfnjr2TAvqLNajG678OLBQQqA43ciABEpEhLud5ZSrzJUys2egz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"no yes\" title=\"\" src=\"/static/32cc521a6a3381f1b8091672aa70ed2c/20e5d/no-yes.jpg\" srcset=\"/static/32cc521a6a3381f1b8091672aa70ed2c/0913d/no-yes.jpg 160w,\n/static/32cc521a6a3381f1b8091672aa70ed2c/cb69c/no-yes.jpg 320w,\n/static/32cc521a6a3381f1b8091672aa70ed2c/20e5d/no-yes.jpg 450w\" sizes=\"(max-width: 450px) 100vw, 450px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>호...호이스팅이 된다고...?</small>\n</center>\n<p>이런 부끄러운 일을 겪고 이번 기회에 변수 선언 키워드들에 대해 제대로 공부도 할겸 이번 포스팅을 작성하게 되었다.</p>\n<h2 id=\"var-키워드\" style=\"position:relative;\">var 키워드<a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C\" aria-label=\"var 키워드 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">var</code>키워드는 JavaScript ES5까지 변수를 선언할 수 있는 키워드로 사용되었다. <code class=\"language-text\">var</code> 키워드는 다른 언어랑 조금 다른 방식으로 작동했기에 다른 언어를 사용하다가 JavaScript로 처음 입문한 개발자들의 멘탈을 털어버리는 데 혁혁한 공을 세웠다.</p>\n<p><code class=\"language-text\">var</code> 키워드의 특징은 다음과 같다.</p>\n<h3 id=\"변수의-중복-선언이-가능하다\" style=\"position:relative;\">변수의 중복 선언이 가능하다.<a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"변수의 중복 선언이 가능하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Evan2</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이 코드는 변수 선언부가 가까이 붙어있으니 한눈에 “아 name이 두번 선언되었구나”라고 한눈에 알 수 있지만 첫번째 선언부와 두번째 선언부 사이에 500줄의 코드가 있다면 이제 문제가 심각해진다. 이런 변수의 중복 선언 허용은 의도하지 않은 변수의 변경이 일어날 가능성이 충분하다.</p>\n<h3 id=\"호이스팅-당한다\" style=\"position:relative;\">호이스팅 당한다.<a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4\" aria-label=\"호이스팅 당한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>호이스팅은 쉽게 얘기해서 스코프 안에 있는 선언들을 모두 스코프의 최상단으로 끌어올리는 것을 의미한다. 호이스팅은 JavaScript 인터프리터가 코드를 해석할 때 변수 및 함수의 선언 처리, 실제 코드 실행의 두단계로 나눠서 처리하기 때문에 발생하는 현상인데 이게 또 굉장히 사람 헷갈리게 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undeinfed</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>필자도 처음 JavaScript를 시작했을 때 “아니 이게 왜 참조 에러가 안나지?”라고 생각했었다. 사실 호이스팅이 발생하면서 이 코드는 아래와 같은 방식으로 동작한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 선언부를 제일 위로 끌어올린다.</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nname <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>물론 이건 JavaScript 인터프리터가 내부적으로 코드를 이런 방식으로 처리한다는 거지 실제 코드 라인이 변경되거나 하는건 아니다.</p>\n<p>어쨌든 이 호이스팅을 당하게 되면 <small><strike>(호이스팅은 왠지 “당한다”는 표현이 잘 어울린다. 나도 여러번 당했기 때문에…)</strike></small> 인터프리터 언어임에도 불구하고 개발자가 코드를 읽는 순서와 코드가 실행되는 순서가 달라지게 되는 것이기 때문에 JavaScript에 입문할 때 헷갈리게 만드는 요인 중 하나다.</p>\n<h3 id=\"함수-레벨-스코프\" style=\"position:relative;\">함수 레벨 스코프<a href=\"#%ED%95%A8%EC%88%98-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84\" aria-label=\"함수 레벨 스코프 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>대부분의 프로그래밍 언어는 블록 레벨 스코프를 사용하지만 JavaScript는 역시 다르다. <code class=\"language-text\">var</code> 키워드로 선언된 변수는 함수 레벨 스코프 내에서만 인정된다. 이건 사실 JavaScript에 익숙한 개발자들이라면 큰 문제가 되지는 않지만 역시 늅늅이 시절에는 굉장히 헷갈린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> local <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>local<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: local is not defined</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 10</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>함수 스코프만 인정되기 때문에 심지어 <code class=\"language-text\">for</code> 문 내부에서 선언한 변수 <code class=\"language-text\">i</code>도 외부에서 참조 가능하다.</p>\n<h3 id=\"var-키워드-생략-가능\" style=\"position:relative;\">var 키워드 생략 가능<a href=\"#var-%ED%82%A4%EC%9B%8C%EB%93%9C-%EC%83%9D%EB%9E%B5-%EA%B0%80%EB%8A%A5\" aria-label=\"var 키워드 생략 가능 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>변수를 선언할 때 <code class=\"language-text\">var</code> 키워드를 붙혀도 되고 안붙혀도 된다. 역시 자유의 상징 JavaScript 답다. 너무 자유로워서 개발자가 한시도 긴장의 끈을 놓을 수 없게 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'global!'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>globalVariable <span class=\"token operator\">===</span> <span class=\"token string\">'global!'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  globlVariable <span class=\"token operator\">=</span> <span class=\"token string\">'global?'</span> <span class=\"token comment\">// 오타 냄</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globalVariable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// global!</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globlVariable<span class=\"token punctuation\">)</span> <span class=\"token comment\">// global?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>실수로 <code class=\"language-text\">globalVariable</code> 변수를 <code class=\"language-text\">globlVariable</code> 변수로 오타를 냈다. 순진한 개발자는 <code class=\"language-text\">globalVariable</code> 변수의 값이 <code class=\"language-text\">global?</code>로 변경되었으리라 기대를 하겠지만 아쉽게도 그 값은 오타낸 변수명인 <code class=\"language-text\">globlVariable</code>이 가져갔다.</p>\n<p>이런 경우도 간단한 코드에서는 디버깅이 쉽지만 조금만 코드가 복잡해져도 눈물이 흐르는 케이스이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1909feea74565c3861f0bd9dfb9951c1/72747/off-work.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdzrM1Fw/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAERIDIv/aAAgBAQABBQLIohVbJELeuts1T//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB8QAAIBAgcAAAAAAAAAAAAAAAABEQIQEiExQVFhkf/aAAgBAQAGPwLQxVboyUi4gdPUe2//xAAdEAEAAgICAwAAAAAAAAAAAAABABExQSFRYXHR/9oACAEBAAE/IQ/JiOEaoA13BLwFu1jg7UfsQXAfe0CAdE//2gAMAwEAAgADAAAAEMMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRABAQABBQEBAAAAAAAAAAAAAREAITFBYYFxkf/aAAgBAQABPxBTRdyZAkF0gNT6mAOkhN2OnLiVRPLp+sRoKpeEV+B7m82BXoz/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"off work\" title=\"\" src=\"/static/1909feea74565c3861f0bd9dfb9951c1/c08c5/off-work.jpg\" srcset=\"/static/1909feea74565c3861f0bd9dfb9951c1/0913d/off-work.jpg 160w,\n/static/1909feea74565c3861f0bd9dfb9951c1/cb69c/off-work.jpg 320w,\n/static/1909feea74565c3861f0bd9dfb9951c1/c08c5/off-work.jpg 640w,\n/static/1909feea74565c3861f0bd9dfb9951c1/72747/off-work.jpg 764w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>이런 것들에게 한번 걸리면 얄짤없이 11시까지 일하고 택시타고 집에 가야한다</small>\n</center>\n<h2 id=\"let과-const-키워드의-등장\" style=\"position:relative;\">let과 const 키워드의 등장<a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%EB%93%B1%EC%9E%A5\" aria-label=\"let과 const 키워드의 등장 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">var</code> 키워드의 경우 전역 변수를 남발하기가 쉽고 또 로컬 변수라고 해도 변수의 스코프가 너무 넓기 때문에 변수의 선언부와 호출부가 너무 멀리 떨어져 있거나 값이 의도하지 않게 바뀌는 경우를 추적하기 힘들다.</p>\n<p>그래서 2015년에 발표된 JavaScript ES6에는 새로운 변수 선언 키워드로 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>가 추가되었다.</p>\n<p><code class=\"language-text\">let</code> 키워드는 <code class=\"language-text\">var</code>와 마찬가지로 변수를 선언할 때 사용하는 키워드이고 <code class=\"language-text\">const</code> 키워드는 상수를 선언할 때 사용하는 키워드이다. 즉 <code class=\"language-text\">const</code> 키워드는 리터럴 값의 재할당이 불가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> callEvan <span class=\"token operator\">=</span> <span class=\"token string\">'Hello, Evan!'</span><span class=\"token punctuation\">;</span>\ncallEvan <span class=\"token operator\">=</span> <span class=\"token string\">'Bye, Evan!'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>그럼 이 친구들이 기존의 <code class=\"language-text\">var</code> 키워드와 다른 점은 무엇일까? 위에서 설명했던 <code class=\"language-text\">var</code> 키워드의 특징은</p>\n<hr>\n<ul>\n<li>변수의 중복 선언이 가능하다.</li>\n<li>호이스팅 당한다.</li>\n<li>블록 레벨 스코프가 아닌 함수 레벨 스코프를 사용한다</li>\n<li>var 키워드는 생략이 가능하다.</li>\n</ul>\n<hr>\n<p>이상 4개 였다. 여기에 대조되는 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code> 키워드의 특징부터 먼저 살펴보자.</p>\n<h2 id=\"let과-const-키워드의-특징\" style=\"position:relative;\">let과 const 키워드의 특징<a href=\"#let%EA%B3%BC-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"let과 const 키워드의 특징 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>우선 위에서 설명한 <code class=\"language-text\">var</code> 키워드의 특징과 대조되는 점 부터 살펴보자.</p>\n<h3 id=\"변수의-중복-선언이-불가능하다\" style=\"position:relative;\">변수의 중복 선언이 불가능하다.<a href=\"#%EB%B3%80%EC%88%98%EC%9D%98-%EC%A4%91%EB%B3%B5-%EC%84%A0%EC%96%B8%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"변수의 중복 선언이 불가능하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이 친구들은 <code class=\"language-text\">var</code> 키워드와는 다르게 한번 키워드를 사용해서 선언한 변수는 재선언이 불가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 아무 일도 일어나지 않았다...</span>\n\n<span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught SyntaxError: Identifier 'name' has already been declared</span>\n\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan2'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught SyntaxError: Identifier 'name' has already been declared</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이로써 나도 모르게 변수를 두번 선언해서 값이 변경되어 야근하게 되는 일을 방어할 수 있게 되었다.</p>\n<h3 id=\"호이스팅-당한다-1\" style=\"position:relative;\">호이스팅 당한다?<a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%8B%B9%ED%95%9C%EB%8B%A4-1\" aria-label=\"호이스팅 당한다 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이게 바로 필자가 이 포스팅을 작성하게 된 이유이다. 필자는 <code class=\"language-text\">let</code>이나 <code class=\"language-text\">const</code> 키워드가 호이스팅 되지 않는 줄 알았다.</p>\n<p>그러나 위에서 설명했듯이 호이스팅은 JavaScript 인터프리터가 코드를 해석하는 과정에서 발생하는 일이기 때문에 <code class=\"language-text\">let</code>이나 <code class=\"language-text\">const</code>라고 한들 피해갈 수 있을리가 없다. 그렇다면 이 문제를 어떻게 해결했을까?</p>\n<h4 id=\"변수-선언-키워드에-따라-다른-에러가-발생한다\" style=\"position:relative;\">변수 선언 키워드에 따라 다른 에러가 발생한다<a href=\"#%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%97%90-%EB%94%B0%EB%9D%BC-%EB%8B%A4%EB%A5%B8-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%9C%EB%8B%A4\" aria-label=\"변수 선언 키워드에 따라 다른 에러가 발생한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>aaa<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Uncaught ReferenceError: aaa is not defined</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: Cannot access 'name' before initialization</span>\n<span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>첫번째는 호이스팅 당한 <code class=\"language-text\">var</code> 키워드를 사용하여 선언한 변수를 호출한 모습이다. 당연히 참조 에러따윈 나지 않고 깔끔하게 <code class=\"language-text\">undefined</code>가 출력된다.</p>\n<p>두번째는 아예 선언한 적이 없는 변수를 호출하는 모습이다. <code class=\"language-text\">Uncaught ReferenceError</code>가 발생하고 메세지는 <code class=\"language-text\">aaa is not defined</code>라고 한다.</p>\n<p>세번째는 <code class=\"language-text\">let</code> 키워드를 사용하여 선언한 변수를 선언부 이전에 호출한 모습이다. 두번째와 마찬가지로 <code class=\"language-text\">Uncaught ReferenceError</code>가 발생했지만 에러 메세지는 <code class=\"language-text\">Cannot access 'name' before initialization</code>라고 나온다.</p>\n<h4 id=\"v8-엔진을-뜯어보자\" style=\"position:relative;\">V8 엔진을 뜯어보자<a href=\"#v8-%EC%97%94%EC%A7%84%EC%9D%84-%EB%9C%AF%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"v8 엔진을 뜯어보자 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>이 두개의 에러는 전혀 다른 에러로, V8 엔진 내부에서 사용하는 <code class=\"language-text\">MESSAGE_TEMPLATE</code>에도 엄밀히 구분되어 있고 실제 호출되는 케이스도 다르다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token function\">T</span><span class=\"token punctuation\">(</span>NotDefined<span class=\"token punctuation\">,</span> <span class=\"token string\">\"% is not defined\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">T</span><span class=\"token punctuation\">(</span>AccessedUninitializedVariable<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Cannot access '%' before initialization\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><a href=\"https://github.com/v8/v8\" target=\"_blank\" rel=\"nofollow\">V8 엔진의 깃허브 레파지토리</a>을 클론받아서 살펴본 결과 내부적으로 <code class=\"language-text\">var</code> 키워드로 선언된 JS 객체와 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>로 선언된 JS 객체를 분기로 갈라놓은 코드가 굉장히 많았다. 코드를 계속 분석해보면서 <code class=\"language-text\">var</code>, <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 중 어떤 키워드를 사용하여 값을 선언하든 호이스팅은 항상 이루어진다는 것을 알 수 있었다. V8 엔진 내부의 호이스팅 플래그인 <code class=\"language-text\">should_hoist</code> 값을 JavaScript 객체에 할당할 때 변수 선언 키워드에 대한 구분을 하지않고 무조건 <code class=\"language-text\">true</code>를 할당한다.</p>\n<p>그렇다면 <code class=\"language-text\">var</code> 키워드와 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드의 차이는 어디서 오는 것일까? 변수를 선언할 때, 즉 V8이 변수 객체를 생성할 때는 전부 동일하게 처리하지만 변수를 위해 메모리에 공간을 확보하는 초기화 단계에서는 이 키워드들을 다르게 처리한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token keyword\">static</span> InitializationFlag <span class=\"token function\">DefaultInitializationFlag</span><span class=\"token punctuation\">(</span>VariableMode mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">DCHECK</span><span class=\"token punctuation\">(</span><span class=\"token function\">IsDeclaredVariableMode</span><span class=\"token punctuation\">(</span>mode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> mode <span class=\"token operator\">==</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kVar <span class=\"token operator\">?</span> kCreatedInitialized\n                                    <span class=\"token operator\">:</span> kNeedsInitialization<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러나 이후 진행 로직을 보면 <code class=\"language-text\">DefaultInitializationFlag</code>라는 함수를 통해 V8 엔진 내부에서 사용되는 <code class=\"language-text\">VariableKind</code>라는 타입을 반환하는데, 이때 <code class=\"language-text\">var</code> 키워드를 사용하여 선언한 변수는 <code class=\"language-text\">kCreatedInitialized</code> 값을, 그 외의 키워드인 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>로 선언한 변수는 <code class=\"language-text\">kNeedsInitialization</code> 키워드를 반환하고 있다.</p>\n<blockquote>\n<p>즉 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 리터럴 값은 호이스팅은 되나 특별한 이유로 인해 “초기화가 필요한 상태”로 관리되고 있다.</p>\n</blockquote>\n<p>라고 말할 수 있다.</p>\n<h4 id=\"초기화가-필요한-상태는-무엇을-의미할까\" style=\"position:relative;\">초기화가 필요한 상태는 무엇을 의미할까?<a href=\"#%EC%B4%88%EA%B8%B0%ED%99%94%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EC%83%81%ED%83%9C%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%9D%98%EB%AF%B8%ED%95%A0%EA%B9%8C\" aria-label=\"초기화가 필요한 상태는 무엇을 의미할까 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>JavaScript 인터프리터 내부에서 변수는 총 3단계에 걸쳐 생성된다.</p>\n<hr>\n<ul>\n<li><code class=\"language-text\">선언 (Declaration)</code>: 스코프와 변수 객체가 생성되고 스코프가 변수 객체를 참조한다.</li>\n<li><code class=\"language-text\">초기화(Initalization)</code>: 변수 객체가 가질 값을 위해 메모리에 공간을 할당한다. 이때 초기화되는 값은 <code class=\"language-text\">undefined</code>이다.</li>\n<li><code class=\"language-text\">할당(Assignment)</code>: 변수 객체에 값을 할당한다.</li>\n</ul>\n<hr>\n<p><code class=\"language-text\">var</code> 키워드를 사용하여 선언한 객체의 경우 선언과 초기화가 동시에 이루어진다. 선언이 되자마자 <code class=\"language-text\">undefined</code>로 값이 초기화 된다는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/parsing/parser.cc</span>\n<span class=\"token comment\">// Var 모드로 변수 선언 시</span>\n<span class=\"token keyword\">auto</span> var <span class=\"token operator\">=</span> scope<span class=\"token operator\">-></span><span class=\"token function\">DeclareParameter</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kVar<span class=\"token punctuation\">,</span> is_optional<span class=\"token punctuation\">,</span>\n                                         is_rest<span class=\"token punctuation\">,</span> <span class=\"token function\">ast_value_factory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> beg_pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nvar<span class=\"token operator\">-></span><span class=\"token function\">AllocateTo</span><span class=\"token punctuation\">(</span>VariableLocation<span class=\"token double-colon punctuation\">::</span>PARAMETER<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>V8 엔진의 코드를 보면 <code class=\"language-text\">kVar</code> 모드로 변수 객체를 생성한 후 바로 <code class=\"language-text\">AllocateTo</code> 메소드를 통해 메모리에 공간을 할당하는 모습을 볼 수 있다. 그러나 <code class=\"language-text\">let</code>이나 <code class=\"language-text\">const</code> 키워드로 생성한 변수 객체는 다르다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cpp line-numbers\"><code class=\"language-cpp\"><span class=\"token comment\">// v8/src/parsing/parser.cc</span>\n<span class=\"token comment\">// kLet 모드로 변수 선언 시</span>\nVariableProxy<span class=\"token operator\">*</span> proxy <span class=\"token operator\">=</span>\n      <span class=\"token function\">DeclareBoundVariable</span><span class=\"token punctuation\">(</span>variable_name<span class=\"token punctuation\">,</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kLet<span class=\"token punctuation\">,</span> class_token_pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nproxy<span class=\"token operator\">-></span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">set_initializer_position</span><span class=\"token punctuation\">(</span>end_pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Const 모드로 변수 선언 시</span>\nVariableProxy<span class=\"token operator\">*</span> proxy <span class=\"token operator\">=</span>\n          <span class=\"token function\">DeclareBoundVariable</span><span class=\"token punctuation\">(</span>local_name<span class=\"token punctuation\">,</span> VariableMode<span class=\"token double-colon punctuation\">::</span>kConst<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nproxy<span class=\"token operator\">-></span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">set_initializer_position</span><span class=\"token punctuation\">(</span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">kLet</code> 모드나 <code class=\"language-text\">kConst</code> 모드로 생성한 변수 객체들은 <code class=\"language-text\">AllocateTo</code> 메소드가 바로 호출되지 않았고 대신 소스 코드 상에서 해당 코드의 위치를 의미하는 <code class=\"language-text\">position</code>값만 정해주는 것을 볼 수 있다.</p>\n<p>바로 이 타이밍에 <code class=\"language-text\">let</code> 키워드나 <code class=\"language-text\">const</code> 키워드로 생성된 변수들이 <code class=\"language-text\">TDZ(Temporal Dead Zone)</code> 구간에 들어가는 것이다. 즉, <code class=\"language-text\">TDZ</code> 구간에 있는 변수 객체는 “선언은 되어있지만 아직 초기화가 되지않아 변수에 담길 값을 위한 공간이 메모리에 할당되지 않은 상태”라고 할 수 있는 것이다.</p>\n<p>이때 해당 변수에 접근을 시도하면 얄짤없이 <code class=\"language-text\">Cannot access '%' before initialization</code> 에러 메세지를 만나게 된다.</p>\n<h3 id=\"블록-레벨-스코프를-사용한다\" style=\"position:relative;\">블록 레벨 스코프를 사용한다<a href=\"#%EB%B8%94%EB%A1%9D-%EB%A0%88%EB%B2%A8-%EC%8A%A4%EC%BD%94%ED%94%84%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\" aria-label=\"블록 레벨 스코프를 사용한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>함수 레벨 스코프를 사용하는 <code class=\"language-text\">var</code> 키워드와 다르게 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>는 블록 레벨 스코프를 사용한다. 블록 레벨 스코프를 사용하지 않기 때문에 블록 내부에서 선언한 변수 또한 전역 변수로 취급된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>globalVariable <span class=\"token operator\">===</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'am I local?'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globalVariable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// am I local?</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러나 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code> 키워드의 경우에는 블록 내부에서 선언한 변수는 지역 변수로 취급된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>globalVariable <span class=\"token operator\">===</span> <span class=\"token string\">'I am global'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> globalVariable <span class=\"token operator\">=</span> <span class=\"token string\">'am I local?'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> localVariable <span class=\"token operator\">=</span> <span class=\"token string\">'I am local'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>globalVariable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// I am global</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>localVariable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: localVariable is not defined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 경우 블록 내부에서 선언된 <code class=\"language-text\">localVariable</code>은 지역 변수로 취급되어 전역 스코프에서는 참조가 불가능하다. 참고로 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>는 호이스팅도 블록 단위로 발생한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Global Evan'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'Global Evan'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: Cannot access 'name' before initialization</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Local Evan'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 경우 <code class=\"language-text\">if</code>문 내부에서도 전역 변수로 선언한 <code class=\"language-text\">name</code> 변수의 값인 <code class=\"language-text\">Global Evan</code>이 출력될 것이라고 생각할 수 있지만 <code class=\"language-text\">if</code>문의 블록 내부에서도 호이스팅이 발생하여 지역 변수인 <code class=\"language-text\">name</code>의 선언부가 블록의 최상단으로 끌어올려졌기 때문에 참조 에러가 발생한다.</p>\n<h3 id=\"let-const-키워드는-생략이-불가능하다\" style=\"position:relative;\">let, const 키워드는 생략이 불가능하다.<a href=\"#let-const-%ED%82%A4%EC%9B%8C%EB%93%9C%EB%8A%94-%EC%83%9D%EB%9E%B5%EC%9D%B4-%EB%B6%88%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"let const 키워드는 생략이 불가능하다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span>\n<span class=\"token comment\">// 상기 코드는</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Evan'</span>\n<span class=\"token comment\">// 과 같다</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>변수 선언 키워드를 사용하지 않으면 <code class=\"language-text\">var</code> 키워드를 사용한 것으로 취급되기 때문에 무조건 써줘야 한다.</p>\n<h2 id=\"const-키워드의-특징\" style=\"position:relative;\">const 키워드의 특징<a href=\"#const-%ED%82%A4%EC%9B%8C%EB%93%9C%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"const 키워드의 특징 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">let</code> 키워드의 경우 위에서 설명한 이유들을 제외하면 변수를 선언할 때 사용한다는 점에서 <code class=\"language-text\">var</code> 키워드와 동일한 역할을 한다고 할 수 있다. 그러면 기존의 <code class=\"language-text\">var</code> 키워드와 다른 역할을 하는 <code class=\"language-text\">const</code>에 대해서 조금 더 알아보자.</p>\n<h3 id=\"상수를-선언할-때-사용한다\" style=\"position:relative;\">상수를 선언할 때 사용한다<a href=\"#%EC%83%81%EC%88%98%EB%A5%BC-%EC%84%A0%EC%96%B8%ED%95%A0-%EB%95%8C-%EC%82%AC%EC%9A%A9%ED%95%9C%EB%8B%A4\" aria-label=\"상수를 선언할 때 사용한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>위에서 설명했듯이 <code class=\"language-text\">const</code>는 상수를 선언할 때 사용하는 키워드이다. 상수는 어떠한 불변 값을 의미한다. 즉, 한번 <code class=\"language-text\">const</code> 키워드를 사용하여 선언한 값은 두번 다시 변경할 수 없다는 뜻이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> maxCount <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\nmaxCount <span class=\"token operator\">=</span> <span class=\"token number\">40</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>만약 <code class=\"language-text\">const</code> 키워드로 선언한 값을 재할당하려고 시도하면 친절한 에러메세지와 함께 불가능하다고 알려준다.</p>\n<p>하지만 여기에 중요한 점이 있다. 바로 Call by Reference 호출 방식을 사용하는 타입을 <code class=\"language-text\">const</code> 키워드로 선언 했을 때다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span>\nobj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'John'</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">// Uncaught TypeError: Assignment to constant variable.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>이 경우 당연히 <code class=\"language-text\">obj</code> 변수가 바라보는 값 자체의 참조를 변경하려고 했기 때문에 에러가 발생한다. 그러나 객체 내부의 프로퍼티들은 <code class=\"language-text\">const</code> 키워드의 영향을 받지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Evan'</span> <span class=\"token punctuation\">}</span>\nobj<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'John'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span> <span class=\"token comment\">// { name: 'John' }</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이건 Call by Reference 호출 방식을 사용하는 다른 타입인 <code class=\"language-text\">Array</code>도 마찬가지다. <code class=\"language-text\">const</code> 키워드를 사용하여 선언했더라도 <code class=\"language-text\">push</code>나 <code class=\"language-text\">splice</code> 등으로 배열 내부의 원소를 변경하는 행위에는 아무런 제약이 없다.</p>\n<h3 id=\"반드시-선언과-동시에-초기화-해줘야-한다\" style=\"position:relative;\">반드시 선언과 동시에 초기화 해줘야 한다<a href=\"#%EB%B0%98%EB%93%9C%EC%8B%9C-%EC%84%A0%EC%96%B8%EA%B3%BC-%EB%8F%99%EC%8B%9C%EC%97%90-%EC%B4%88%EA%B8%B0%ED%99%94-%ED%95%B4%EC%A4%98%EC%95%BC-%ED%95%9C%EB%8B%A4\" aria-label=\"반드시 선언과 동시에 초기화 해줘야 한다 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">let</code> 키워드의 경우 명시적으로 선언만 했더라도 인터프리터가 해당 코드 라인을 해석함과 동시에 묵시적으로는 <code class=\"language-text\">undefined</code>가 할당되며 초기화된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hi<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>hi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>그러나 <code class=\"language-text\">const</code> 키워드를 사용하는 경우 반드시 선언과 동시에 값을 할당해줘야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> hi<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught SyntaxError: Missing initializer in const declaration</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"결론\" style=\"position:relative;\">결론<a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>반드시 JavaScript ES5로 코드를 작성해야하는 안습한 경우를 제외한다면 <code class=\"language-text\">var</code> 키워드는 이제 더이상 사용하지 않는 것을 추천한다.</p>\n<p>그렇다면 남은 것은 <code class=\"language-text\">let</code>과 <code class=\"language-text\">const</code>인데 <code class=\"language-text\">이 친구들을 어떻게 사용하는 것이 좋을까?</code> 라는 고민이 생긴다.</p>\n<p>사실 <code class=\"language-text\">var</code> 키워드만 쓰다보니까 생각도 안해본 사실인데, 생각보다 프로그램 내부에서 반드시 변수에 값을 재할당 해야하는 경우는 많지 않다. 필자도 별다른 생각없이 코딩하다가 어느 날 작성했던 소스코드를 봤는데 대부분 <code class=\"language-text\">const</code> 키워드를 사용하여 변수를 선언했고 <code class=\"language-text\">let</code> 키워드는 몇군데 사용하지 않은 것을 알 수 있었다.</p>\n<p>만약 <code class=\"language-text\">let</code> 키워드를 사용해야한다면 절대 전역 스코프에서는 사용하지말고 가능하면 블록 스코프를 작게 만들고 그 내부에서 사용하는 것을 추천한다.</p>\n<p>그리고 <code class=\"language-text\">const</code> 키워드의 경우 값을 재할당하려고 하면 바로 에러를 뿜뿜 해주기 때문에 개발자가 의도하지 않게 변수의 값이 재할당되는 슬픈 상황을 방지할 수 있다. 그렇기에 <code class=\"language-text\">const</code> 키워드를 잘 활용하여 안전한 코딩 라이프를 즐기고 다들 야근하지말고 칼퇴하시길 바란다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 313px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a64125e9e9cda049bccec09014083a9e/aa65c/off-work2.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 79.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIFAQT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGxwUFNED//xAAZEAADAQEBAAAAAAAAAAAAAAAAAhEBFCL/2gAIAQEAAQUCOVGRMiF9XT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABIQAQEVH/2gAIAQEABj8CIBcCw9g1qsr/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFRcf/aAAgBAQABPyF8BmQJoE0O/ZSVYAvsy26zuBduS4g4z//aAAwDAQACAAMAAAAQUw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEBAAMBAAMAAAAAAAAAAAABEQAhMVFhofH/2gAIAQEAAT8QbKCtGheYh51Snb9sSnYJ0HcEtB0rzzNuAg+Qd/mLBAvCMz//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"off work2\" title=\"\" src=\"/static/a64125e9e9cda049bccec09014083a9e/aa65c/off-work2.jpg\" srcset=\"/static/a64125e9e9cda049bccec09014083a9e/0913d/off-work2.jpg 160w,\n/static/a64125e9e9cda049bccec09014083a9e/aa65c/off-work2.jpg 313w\" sizes=\"(max-width: 313px) 100vw, 313px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>빨리 집에 가서 밥먹고 넷플릭스봐야지!</small>\n</center>\n<p>이상으로 JavaScript의 let과 const, 그리고 TDZ 포스팅을 마친다.</p>","fields":{"slug":"20190618-javascript-let-const","path":"/2019/06/18/javascript-let-const/","lang":"ko"},"frontmatter":{"title":"JavaScript의 let과 const, 그리고 TDZ","subTitle":"V8 엔진을 뜯어보며 살펴보는 JavaScript 변수의 내부 동작","date":"Jun 18, 2019","categories":["프로그래밍","자바스크립트"],"tags":["JavaScript","자바스크립트","Temporal Dead Zone","TDZ","호이스팅","Hoisting","V8","기술면접","자바스크립트 기초"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/d803c/js.001.png","srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/d803c/js.001.png 320w,\n/static/2cc989808d5cc4f4cafd05e0c479f2cc/6131a/js.001.png 734w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/fc5c5/js.001.webp 320w,\n/static/2cc989808d5cc4f4cafd05e0c479f2cc/d6c14/js.001.webp 734w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/17e8c/js.001.png","srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/17e8c/js.001.png 734w","sizes":"100vw"},"sources":[{"srcSet":"/static/2cc989808d5cc4f4cafd05e0c479f2cc/88dbe/js.001.webp 734w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"4faccd6f-d623-5f88-9c39-867a4a91e236","tableOfContents":"<ul>\n<li>\n<p><a href=\"#javascript%EC%9D%98-%EB%B0%B0%EC%97%B4%EC%9D%B4-%EC%8B%A4%EC%A0%9C%EB%A1%9C%EB%8A%94-%EB%B0%B0%EC%97%B4%EC%9D%B4-%EC%95%84%EB%8B%8C-%EC%9D%B4%EC%9C%A0\">JavaScript의 배열이 실제로는 배열이 아닌 이유</a></p>\n</li>\n<li>\n<p><a href=\"#javasciprt-%EB%B0%B0%EC%97%B4%EC%9D%98-%EB%B0%9C%EC%A0%84\">JavaSciprt 배열의 발전</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4-vs-%ED%83%80%EC%9D%B4%ED%95%91%EB%90%9C-%EB%B0%B0%EC%97%B4---%EC%84%B1%EB%8A%A5-%EB%B9%84%EA%B5%90\">일반 배열 vs 타이핑된 배열 - 성능 비교</a></p>\n<ul>\n<li><a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4--%EC%82%BD%EC%9E%85\">일반 배열 – 삽입</a></li>\n<li><a href=\"#%ED%83%80%EC%9D%B4%ED%95%91%EB%90%9C-%EB%B0%B0%EC%97%B4--%EC%82%BD%EC%9E%85\">타이핑된 배열 – 삽입</a></li>\n<li><a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4--%EC%82%BD%EC%9E%85-%EB%8F%99%EC%9D%BC%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EC%9E%90%EB%A3%8C%ED%98%95\">일반 배열 – 삽입 (동일하지 않은 자료형)</a></li>\n<li><a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4---%EC%9D%BD%EA%B8%B0\">일반 배열 - 읽기</a></li>\n<li><a href=\"#typed-array---read\">Typed Array - read</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>","excerpt":"이 포스팅은 2017년 9월 2일에 Paul Shan이 작성한 Diving deep into JavaScript array - evolution & performance를 번역한 글입니다. 포스팅을 시작하기 전에 이 포스팅은 JavaScript 배열의 구문에 관한 것을 알려주거나 예제를 보여주는 등의 기본적인 내용은 아니라고 먼저 얘기해두고 싶다. 이 포스팅에서는 메모리 표현, 최적화, 구문에 따라 달라지는 동작의 차이, 성능 및 최근의 JavaScript 배열이 어떻게 발전했는지에 관해서만 설명할 것이다.","html":"<blockquote>\n<p>이 포스팅은 2017년 9월 2일에 Paul Shan이 작성한 <a href=\"http://voidcanvas.com/javascript-array-evolution-performance/\" target=\"_blank\" rel=\"nofollow\">Diving deep into JavaScript array - evolution &#x26; performance</a>를 번역한 글입니다.</p>\n</blockquote>\n<p>포스팅을 시작하기 전에 이 포스팅은 JavaScript 배열의 구문에 관한 것을 알려주거나 예제를 보여주는 등의 기본적인 내용은 아니라고 먼저 얘기해두고 싶다. 이 포스팅에서는 메모리 표현, 최적화, 구문에 따라 달라지는 동작의 차이, 성능 및 최근의 JavaScript 배열이 어떻게 발전했는지에 관해서만 설명할 것이다.</p>\n<!-- more -->\n<p>필자가 JavaScript를 처음 시작했을 때 필자는 이미 C, C++, C# 등의 언어에 익숙한 상태였다. 그래서 다른 C/C++ 개발자들처럼 JavaScript와의 첫 만남이 그리 좋지는 못했다.</p>\n<p>그 중 필자가 JavaScript를 좋아하지 않았던 가장 큰 이유는, 바로 배열이다. JavaScript의 배열은 Hash Map이나 Dictionary로 구현되었고 연속적이지 않기 때문에 필자는 이 언어가 배열을 제대로 구현할수도 없는 B급 언어라고 생각했다. 그러나 그 이후 JavaScript에 대한 필자의 이해도는 많이 달라졌다.</p>\n<blockquote>\n<p>(역주) 기존 언어에서 구현했던 배열은 생성 시에 특정 범위의 메모리를 할당하고 연속적으로 데이터를 저장했지만 JavaScript는 메모리를 미리 할당해놓지 않고 동적 할당하므로 연속적으로 원소가 저장되지 않는다. 리스트와 동일한 방식.</p>\n</blockquote>\n<h2 id=\"javascript의-배열이-실제로는-배열이-아닌-이유\" style=\"position:relative;\">JavaScript의 배열이 실제로는 배열이 아닌 이유<a href=\"#javascript%EC%9D%98-%EB%B0%B0%EC%97%B4%EC%9D%B4-%EC%8B%A4%EC%A0%9C%EB%A1%9C%EB%8A%94-%EB%B0%B0%EC%97%B4%EC%9D%B4-%EC%95%84%EB%8B%8C-%EC%9D%B4%EC%9C%A0\" aria-label=\"javascript의 배열이 실제로는 배열이 아닌 이유 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>자바스크립트에 관한 설명들을 시작하기 전에 배열이 무엇인지부터 설명을 먼저 해야할 것 같다. 배열은 연속적인 메모리 로케이션들의 묶음을 사용하여 값을 저장하는 데 사용된다. 여기서 중요한 포인트는 연속성(continuous)과 인접성(contiguous)이라는 단어이다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c7e180c48ce9b399c40a3fbf9f1333a7/0a47e/actual-array-js.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQklEQVR42iVQa2+CMBTl/yfLFo1ErMirUFqgtDzKQ1CnLttc9vhJO27J+XDvzXm11nGsT2MztuX1OHy+nU9DPXf653b5er+8nvc6izHg/n1fp76RH9fD7eUwGPU8G0sXCbGf4oBAf56NiHe1TM9zB8e+ypSgU6cno7CqjHY6A+fQ66pgp8lYLCSxv8kSrxRRnngyDUse5iyoJe/rAkYNUIqhlbVkpaBS0Jz5yJj6ykojFwunO049zIlP0nALQB97ThqSuyOPssTfOYt/sRQRp25X5Za7XlBvDarKmE9W6+XDaNTYqqGRZPUI9txXQM5Cb7M0Shz3bV/nkBid35PRvCqSggUs2EpOcWlKjiOUaITnIRbYtyUaYY19B13AscBg4dYndujaOo/hjfdghgXyQA1cOwlIq4TRGTTUc/5+JC0F/QWWyhqMik1vZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Actual Array in JavaScript\" title=\"\" src=\"/static/c7e180c48ce9b399c40a3fbf9f1333a7/0a47e/actual-array-js.png\" srcset=\"/static/c7e180c48ce9b399c40a3fbf9f1333a7/69538/actual-array-js.png 160w,\n/static/c7e180c48ce9b399c40a3fbf9f1333a7/72799/actual-array-js.png 320w,\n/static/c7e180c48ce9b399c40a3fbf9f1333a7/0a47e/actual-array-js.png 600w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>위 그림은 배열의 메모리 상태의 예시를 표현한 것이다. 이 배열은 4 bit로 이루어진 4개의 블록을 가지고 있고 총 16 bit의 메모리 블록을 사용하고 있다.</p>\n<p>이제 필자가 <code class=\"language-text\">tinyInt arr[4];</code>를 선언했고 <code class=\"language-text\">1201</code>부터 시작해서 이 메모리 블록들을 포착했다고 가정해보자. 이제 필자가 어떤 포인트로부터 <code class=\"language-text\">a[2]</code>를 읽으려고 한다면 <code class=\"language-text\">a[2]</code>의 메모리 주소를 찾기 위한 간단한 수학 계산이 이루어진다. <code class=\"language-text\">1201 + (2 x 4)</code>와 같은 식으로 <code class=\"language-text\">1209</code>의 주소를 바로 참조할 수 있다.</p>\n<blockquote>\n<p>역주: 메모리 시작 주소 + (찾고자 하는 인덱스 x 한 블록에 할당된 메모리 블록 개수)로 계산한 것이다. 배열은 이렇게 원하는 원소에 바로 접근할 수 있다.</p>\n</blockquote>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/63222325472ecc8c4fad266fed47e953/0a47e/old-array-js.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEUlEQVR42i2S6W7aUBCF/cz9U6mKlLZCSVNCQ9gLNt534x3vK97AhhDaF+o4qjQajTR35pz5dJHmELVl2jX526m4nsrrqbp19bUt/1yOCkcknvl2Km9ddWur97b6eFO8t+W5Ofy9nJAqC+s8aoqkq9Lz/8gusNI1ZZawVVGXuSL2LsdDW6VdnXVVVsRuWybnpkDyyC0Tv8mjIvbrLKhSv0j9Y5FoMmfInCrQPIXFnlUfwjoLq8QXGFyksdgxksBGoJEGFrP9DQp1Hqa+DVGnQbDXZy9PIL/jqSIJ8sgpE881FHw9920NW000iUH8va7J7GbxCsMChXLEmiU2lirIHAljArOVOSILndA1E9/yrR2DrylsqfBk5BhIYIM1DNjErinQW5HB0eWEpzGeQnfQWE1Dx3BNBdTCvZEHe57aDh++etbOszTEMRSO3KgirYk0hS6fH7/T2xX0ANji9VniCGgBNlvrQ2b71WAY/FuqiBiKwBLoej6msSU41CUGOMEJmsQ+fLubjh4X4+Fk9IPYzPH1DDLY2esSKOoyi+x4EnyrIqPLPKzURAbaML+ajjhiA/XT4B4s9BslFsRNhYcCNIAIItG4zOASS/aEOMgUnK0CuuVk9vLz7vOn+XgIGxWe6jUECq6AAiYllkB4EhUoTOxRfQSNAyYABj/k19NgcP9FYnGoJQYyDniUXoAEAYHC/gEAE71eBuizGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Old Array in JavaScript\" title=\"\" src=\"/static/63222325472ecc8c4fad266fed47e953/0a47e/old-array-js.png\" srcset=\"/static/63222325472ecc8c4fad266fed47e953/69538/old-array-js.png 160w,\n/static/63222325472ecc8c4fad266fed47e953/72799/old-array-js.png 320w,\n/static/63222325472ecc8c4fad266fed47e953/0a47e/old-array-js.png 600w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <br>\n</center>\n<p>JavaScript에서의 배열은 Hash Map이다. 이것은 다양한 자료 구조를 사용해서 구현될 수 있고, 그 중 하나가 바로 Linked List이다. 만약 JavaScript 내에서 우리가 <code class=\"language-text\">var arr = new Array(4);</code>로 배열을 선언하면 이 배열은 상단의 그림과 같은 구조를 생성한다. 따라서 만약 우리가 <code class=\"language-text\">a[2]</code>를 읽고 싶다면 무조건 <code class=\"language-text\">1201</code>부터 탐색해나가면서 <code class=\"language-text\">a[2]</code>를 찾아나가야 한다는 것이다.</p>\n<p>이것이 바로 JavaScript의 배열과 진짜 배열이 다른 점이다. 분명히 JavaScript의 배열을 탐색하는 것은 원래의 Linked List 탐색보다는 계산이 적다. 그러나 배열의 길이가 길어질수록 인생이 고달파지는 건 똑같다.</p>\n<h2 id=\"javasciprt-배열의-발전\" style=\"position:relative;\">JavaSciprt 배열의 발전<a href=\"#javasciprt-%EB%B0%B0%EC%97%B4%EC%9D%98-%EB%B0%9C%EC%A0%84\" aria-label=\"javasciprt 배열의 발전 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>예전에는 친구가 컴퓨터에 256MB 짜리 램을 사용한다고 하면 부러움을 느끼던 시절도 있었지만 요즘엔 보통 8GB 정도의 램을 사용한다.</p>\n<p>이와 비슷하게 JavaScript 또한 많은 발전을 이루었다. V8, SpiderMonkey, TC39, 증가하고 있는 웹 사용자들의 피나는 노력으로 인해 JavaScript는 전 세계의 필수 요소가 되었다. 이렇게 거대한 유저 베이스를 가지고 있다면 분명히 성능 향상 또한 필요하다.</p>\n<p>최근의 JavaScript 엔진은 모든 요소가 동일한 타입을 가지고 있는 배열인 경우 연속적으로 메모리를 할당한다. 훌륭한 프로그래머는 항상 배열을 동일한 타입으로 사용하며 <a href=\"https://ko.wikipedia.org/wiki/JIT_%EC%BB%B4%ED%8C%8C%EC%9D%BC\" target=\"_blank\" rel=\"nofollow\">JIT(Just in Time)</a> 컴파일러는 이런 배열에 대해서 C 컴파일러와 같은 배열 계산을 수행한다.</p>\n<p>그러나 이런 동일한 타입 배열에 다른 타입의 원소를 삽입하려고 할 때 JIT는 전체 배열의 구조를 해제하고 다시 예전의 배열처럼 비연속적인 메모리를 할당한다. 즉, 만약 우리가 코드를 제대로 작성한다면 JavaScript의 <code class=\"language-text\">Array</code> 객체는 실제 배열처럼 작동한다는 것이다. 이는 모던 JS 개발자들에게는 정말 좋은 일이다.</p>\n<p>이에 더해서 배열은 ES2015 또는 ES6를 통해서 더욱 발전했다. TC39 위원회는 JavaScript에 타이핑된 배열을 추가하기로 결정했고 그래서 우리는 <code class=\"language-text\">ArrayBuffer</code>를 사용할 수 있게 되었다.\n<code class=\"language-text\">ArrayBuffer</code>는 인접한 메모리 블록을 제공하고 우리가 그것을 마음대로 다룰 수 있게 해준다. 그러나 메모리를 직접 다루는 것은 매우 Low Level이고 또 너무 복잡하기 때문에 우리는 View라는 것을 통해서 ArrayBuffer를 다루게 된다. 이미 몇가지 View를 사용할 수 있고 나중에는 더 추가될 예정이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> view   <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Int32Array</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nview<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>만약 당신이 <code class=\"language-text\">Int32Array</code>와 같은 <em>Typed Array</em>에 대해서 더 알고 싶다면 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays\" target=\"_blank\" rel=\"nofollow\">MDN Documentation</a>를 참고하기 바란다.</p>\n<p>타이핑된 배열은 굉장히 효율적이다. 타이핑된 배열은 WebGL을 사용하는 사람들이 일반 배열로는 바이너리 데이터를 효과적으로 처리할 수 없는 엄청난 성능 문제에 직면했기 때문에 요청해서 도입된 객체이다.<small>(역주: ThreeJS도 내부적으로는 전부 Typed Array를 사용 중이고, 성능 차이 또한 몸으로 느껴질 정도로 확연하다.)</small> 또한 우리는 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\" target=\"_blank\" rel=\"nofollow\">SharedArrayBuffer</a>를 사용하여 여러 개의 Web Worker간 메모리를 공유하여 성능을 끌어올릴 수도 있다.</p>\n<p>놀랍지 않은가? JavaScript의 배열은 간단한 Hash Map에서 시작해서 이제는 <code class=\"language-text\">SharedArrayBuffer</code>까지 다루고 있다.</p>\n<h2 id=\"일반-배열-vs-타이핑된-배열---성능-비교\" style=\"position:relative;\">일반 배열 vs 타이핑된 배열 - 성능 비교<a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4-vs-%ED%83%80%EC%9D%B4%ED%95%91%EB%90%9C-%EB%B0%B0%EC%97%B4---%EC%84%B1%EB%8A%A5-%EB%B9%84%EA%B5%90\" aria-label=\"일반 배열 vs 타이핑된 배열   성능 비교 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>우리는 JavaScript 배열의 발전에 대해서 이야기 했다. 이제 최근의 배열이 얼마나 좋은지 확인해보자. 필자는 Mac과 <code class=\"language-text\">Node.js 8.4.0</code> 환경에서 몇 개의 작은 테스트를 해보았다.</p>\n<h3 id=\"일반-배열--삽입\" style=\"position:relative;\">일반 배열 – 삽입<a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4--%EC%82%BD%EC%9E%85\" aria-label=\"일반 배열  삽입 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Array insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Array insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>수행 시간:</strong> <em>55ms</em></p>\n<h3 id=\"타이핑된-배열--삽입\" style=\"position:relative;\">타이핑된 배열 – 삽입<a href=\"#%ED%83%80%EC%9D%B4%ED%95%91%EB%90%9C-%EB%B0%B0%EC%97%B4--%EC%82%BD%EC%9E%85\" aria-label=\"타이핑된 배열  삽입 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span> <span class=\"token operator\">*</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Int32Array</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ArrayBuffer insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ArrayBuffer insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>수행 시간:</strong> <em>52ms</em></p>\n<blockquote>\n<p>앗…? 예전의 전통적인 배열과 최근 배열의 성능이 비슷한데요…?</p>\n</blockquote>\n<p>Nope. 필자는 요즘의 컴파일러는 똑똑하기때문에 같은 타입을 가진 배열은 내부적으로 연속적인 메모리를 가진 배열로 변환한다는 것을 설명했다. 이게 바로 첫번째 예시에서 발생한 일이다. 필자는 <code class=\"language-text\">new Array(LIMIT)</code>을 사용했지만 내부적으로는 연속적인 메모리 할당을 가진 현대적인 배열을 유지하고 있던 것이다.</p>\n<p>이제 첫번째 예시를 수정하여 동일한 자료형을 가지고 있지 않은 배열로 만들고 성능 차이가 있는지 살펴보도록 하자.</p>\n<h3 id=\"일반-배열--삽입-동일하지-않은-자료형\" style=\"position:relative;\">일반 배열 – 삽입 (동일하지 않은 자료형)<a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4--%EC%82%BD%EC%9E%85-%EB%8F%99%EC%9D%BC%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EC%9E%90%EB%A3%8C%ED%98%95\" aria-label=\"일반 배열  삽입 동일하지 않은 자료형 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\narr<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">22</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Array insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Array insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>수행 시간:</strong> <em>1207ms</em></p>\n<p>여기서 필자는 3번 라인에 새로운 표현을 추가했을 뿐 나머지는 이전과 전부 동일하지만 성능은 차이가 나기 시작했다. 무려 <code class=\"language-text\">22배</code> 느려진 것을 확인할 수 있다.</p>\n<h3 id=\"일반-배열---읽기\" style=\"position:relative;\">일반 배열 - 읽기<a href=\"#%EC%9D%BC%EB%B0%98-%EB%B0%B0%EC%97%B4---%EC%9D%BD%EA%B8%B0\" aria-label=\"일반 배열   읽기 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\narr<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">22</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> p<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Array read time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//arr[i] = i;</span>\n  p <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Array read time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>수행 시간:</strong> <em>196ms</em></p>\n<h3 id=\"typed-array---read\" style=\"position:relative;\">Typed Array - read<a href=\"#typed-array---read\" aria-label=\"typed array   read permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span> <span class=\"token operator\">*</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Int32Array</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ArrayBuffer insertion time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ArrayBuffer read time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">timeEnd</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ArrayBuffer read time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>수행 시간:</strong> <em>27ms</em></p>\n<h2 id=\"결론\" style=\"position:relative;\">결론<a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>JavaScript에 타이핑된 배열이 추가된 것은 위대한 첫 발걸음이다. <code class=\"language-text\">Int8Array</code>, <code class=\"language-text\">Uint8Array</code>, <code class=\"language-text\">Uint8ClampedArray</code>, <code class=\"language-text\">Int16Array</code>, <code class=\"language-text\">Uint16Array</code>, <code class=\"language-text\">Int32Array</code>, <code class=\"language-text\">Uint32Array</code>, <code class=\"language-text\">Float32Array</code>, <code class=\"language-text\">Float64Array</code> 등은 네이티브 바이트 순서로 이루어진 뷰를 제공하고, 또 여러분이 직접 <code class=\"language-text\">DataView</code>를 사용하여 커스텀 뷰를 만들 수도 있다. 앞으로 ArrayBuffer를 사용하기 위해 더 많은 DataView 라이브러리들이 활성화되기를 바란다.</p>\n<p>JavaScript의 배열이 이렇게 개선된 것은 좋은 일이다. 이제 JavaScript의 배열은 빠르고 효율적이며 강력하고 똑똑하게 메모리를 할당할 수 있게 된 것이다.</p>","fields":{"slug":"20190615-diving-into-js-array","path":"/2019/06/15/diving-into-js-array/","lang":"ko"},"frontmatter":{"title":"[번역] JavaScript 배열(Array)의 발전과 성능에 대해서 자세히 알아보기","subTitle":null,"date":"Jun 15, 2019","categories":["프로그래밍","자바스크립트"],"tags":["JavaScript","자바스크립트","성능 최적화","배열","Array","연속할당","비연속할당","자료구조","기술면접","포인터","메모리구조"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/c7e180c48ce9b399c40a3fbf9f1333a7/d803c/actual-array-js.png","srcSet":"/static/c7e180c48ce9b399c40a3fbf9f1333a7/d803c/actual-array-js.png 320w,\n/static/c7e180c48ce9b399c40a3fbf9f1333a7/4b994/actual-array-js.png 600w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/c7e180c48ce9b399c40a3fbf9f1333a7/fc5c5/actual-array-js.webp 320w,\n/static/c7e180c48ce9b399c40a3fbf9f1333a7/642e3/actual-array-js.webp 600w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/c7e180c48ce9b399c40a3fbf9f1333a7/a6173/actual-array-js.png","srcSet":"/static/c7e180c48ce9b399c40a3fbf9f1333a7/a6173/actual-array-js.png 600w","sizes":"100vw"},"sources":[{"srcSet":"/static/c7e180c48ce9b399c40a3fbf9f1333a7/53e83/actual-array-js.webp 600w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}},{"node":{"id":"81c5ba96-3c2e-58c8-97de-023d6677ad3c","tableOfContents":"<ul>\n<li>\n<p><a href=\"#big-o-%ED%91%9C%EA%B8%B0%EB%B2%95%EA%B3%BC-%EC%8B%9C%EA%B0%84-%EB%B3%B5%EC%9E%A1%EB%8F%84\">Big O 표기법과 시간 복잡도</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A0%AC-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\">정렬 알고리즘</a></p>\n<ul>\n<li><a href=\"#%EB%B2%84%EB%B8%94-%EC%A0%95%EB%A0%ACbubble-sort\">버블 정렬(Bubble sort)</a></li>\n<li><a href=\"#%EC%84%A0%ED%83%9D-%EC%A0%95%EB%A0%ACselection-sort\">선택 정렬(Selection sort)</a></li>\n<li><a href=\"#%EC%82%BD%EC%9E%85-%EC%A0%95%EB%A0%ACinsertion-sort\">삽입 정렬(Insertion sort)</a></li>\n<li><a href=\"#%EB%B3%91%ED%95%A9-%EC%A0%95%EB%A0%ACmerge-sort\">병합 정렬(Merge sort)</a></li>\n<li><a href=\"#%ED%80%B5-%EC%A0%95%EB%A0%ACquick-sort\">퀵 정렬(Quick sort)</a></li>\n</ul>\n</li>\n</ul>","excerpt":"이번 포스팅에서는 대표적인 정렬 알고리즘 5가지와 대략적인 Big O 표기법에 대해서 정리하려고 한다. 먼저, 그 5가지 정렬 알고리즘은 다음과 같다.","html":"<p>이번 포스팅에서는 대표적인 정렬 알고리즘 5가지와 대략적인 Big O 표기법에 대해서 정리하려고 한다. 먼저, 그 5가지 정렬 알고리즘은 다음과 같다.</p>\n<!-- more -->\n<hr>\n<ol>\n<li>버블 정렬(Bubble sort)</li>\n<li>선택 정렬(Selection sort)</li>\n<li>삽입 정렬(Insertion sort)</li>\n<li>병합 정렬(Merge sort)</li>\n<li>퀵 정렬(Quick sort)</li>\n</ol>\n<hr>\n<p>그리고 이 알고리즘들의 성능은 Big O 표기법으로 표현하므로, Big O 표기법에 대한 설명도 간단히 하고 넘어가려한다.</p>\n<h2 id=\"big-o-표기법과-시간-복잡도\" style=\"position:relative;\">Big O 표기법과 시간 복잡도<a href=\"#big-o-%ED%91%9C%EA%B8%B0%EB%B2%95%EA%B3%BC-%EC%8B%9C%EA%B0%84-%EB%B3%B5%EC%9E%A1%EB%8F%84\" aria-label=\"big o 표기법과 시간 복잡도 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>알고리즘들의 성능을 판단하는 지표로는 시간 복잡도(Time Complexity)와 공간 복잡도(Time Complexity)가 있다. 시간 복잡도는 알고리즘의 수행시간을 의미하는 지표이며, 공간 복잡도는 알고리즘의 메모리 사용량을 의미한다.</p>\n<p>보통 알고리즘에 대해서 공부하다보면 알고리즘의 시간 복잡도를 ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span> 입니다” 혹은 ”<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span> 입니다”와 같이 표현하고 이야기하는 경우를 만나게 되는데, 이게 바로 Big O 표기법이다.</p>\n<p>말로 풀어보자면 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>의 의미는 다음과 같다.</p>\n<blockquote>\n<p>이 함수는 n만큼의 데이터가 주어졌을 때, “최악”의 경우 n만큼의 리소스를 소모한다</p>\n</blockquote>\n<p>이때 위에서 말한 리소스는 시간 복잡도라면 시간이고 공간 복잡도라면 메모리 공간이 될 것이다.\n하지만 보통 정렬 알고리즘을 평가할때는 주로 시간 복잡도에 집중하므로 여기서는 시간 복잡도만 살펴보도록 하겠다.</p>\n<p>먼저 시간 복잡도에 대한 이해를 더 하기위해 이진 탐색 알고리즘의 시간 복잡도를 살펴보자. 혹시 이진 탐색을 잘모르는 사람은 술게임인 업다운을 생각해보자. 다들 잘 알겠지만 업다운은 다른 사람이 생각한 임의의 숫자를 맞춰야하는 게임이다.</p>\n<p>이때, 가장 질문을 최소화할 수 있는 방법은 무엇일까? 바로 첫 질문에 중간 값인 <code class=\"language-text\">50</code>을 부르는 것이다. <code class=\"language-text\">50</code>을 부르고 상대방이 업 또는 다운을 하게되면 우리는 반대쪽에 있는 50개의 수는 버리고 나머지 50개만 다시 생각하면 되는 것이다.</p>\n<center>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8879b1bbc91ecb328b1dc5a32b718efb/01fdd/drink.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB682wjYVYFQf/xAAaEAEBAQADAQAAAAAAAAAAAAABABECEiIh/9oACAEBAAEFAnym3qQjn80k2y7N/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGhAAAgMBAQAAAAAAAAAAAAAAARAAIaERIv/aAAgBAQAGPwLp12Z52Wiv/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERIWFxMVH/2gAIAQEAAT8hb4GwrV55TQ9ijKS2PTAlWoJi5rox5H//2gAMAwEAAgADAAAAEDjAPP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAECAQE/EGP/xAAdEAEAAgIDAQEAAAAAAAAAAAABABEhMUFRYXHh/9oACAEBAAE/EETQATCbyGc6lLFGkFwxxkjRRlDzHGky2FV8Y6cW+9u3n5HwiXpeDmpRTsF81CWljV2emYUaj//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"drink\" title=\"\" src=\"/static/8879b1bbc91ecb328b1dc5a32b718efb/01fdd/drink.jpg\" srcset=\"/static/8879b1bbc91ecb328b1dc5a32b718efb/0913d/drink.jpg 160w,\n/static/8879b1bbc91ecb328b1dc5a32b718efb/01fdd/drink.jpg 306w\" sizes=\"(max-width: 306px) 100vw, 306px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n  <small>만약 운좋게 상대방이 생각한 수가 50이라면 바로 게임이 끝나고 상대방은 벌주를 먹게 된다.</small>\n</center>\n<p>어쨌든 이 게임에서 최악의 경우는 계속 업과 다운을 반복하다가 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O({\\log}N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></span> 번만에 끝나는 것이고 최선의 경우는 찾고자 하는 값을 첫 번째 추측으로 맞춰버린 상황. 즉, 시간 복잡도는 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>이 된다.</p>\n<p>보는 바와 같이 최선의 결과와 최악의 결과 간 차이는 늘 있을 수 밖에 없기 때문에 보통 알고리즘을 평가할 때는 주로 <strong>최악의 경우</strong>를 생각한다.\n그리고 이런 최악의 경우를 표현할 때 바로 Big O 표기법을 사용하는 것이다.</p>\n<p>자주 나오는 것들은 보통 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O({\\log}N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></span> 정도가 있는데 알기 쉽게 2차원 그래프로 그려보면 다음과 같이 나타난다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 631px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8846c3df1d92e4a3a2108e993a5b69f7/4597d/big_o.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 79.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACBklEQVR42n1T2ZKbMBDk/z9vH5JNvLYxQgIEOtB9ITLYyd6VrqFA0jTdMwONECLnvP1DKYWbQLVPpcAqxzGlYdtcTmW5DYLMyYdFWiatdaH5TIbEkGYTfC4VXpVVzjPslVQ0XzmhW85UGDLLlPM35H2vKiSQrsfGXooEB7XuyQWnzOq8cX6ve631O3LdVp8CkGstWyhlhT0Q5OMilA0x7/s+CjJK8h/yoVaKKsVBNps45wrM5BJtMHQdmJ4bKeV78gPCx3xvWN0kVDFTSUfqspGGKyddtJBz2L5er3B7pcET0LgLoFar94HjaeluV+NXFwzMApLhCKiQ2nRd90kWEqSHXsZJoIHTeRhLPuo8OHdIQsjTk8T41XY9TN49uOQ7wQc+SEsNW6MBmyC8QjgpnBCWLeswWCHeGgY+Qg4mrj2bb2S2Eq24F/3gVhmtTd4l50pOd8OH9e0xqqOSveqguJjYNCHCtZ7N0huhj8r3NzysQcQYU0oNY0wbM3FMugu+YSHUrAUbL5LJkKJzzkN8RAhhHEdKacMFp5xMPVqYKls1Vvf9xWsNPU/vkD+i3NHgqceoU1LD8CVb8ETh5OH2MZU3w1/QtKj/+fQD306nl19nhBYO7RcY931/XAihtm0R6qA6/g6wVEo1IPH383goHD/GTjD6fXq5tu35fH5+fm6vl5TLV/U/q6uYTCSUTxgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"big o\" title=\"\" src=\"/static/8846c3df1d92e4a3a2108e993a5b69f7/4597d/big_o.png\" srcset=\"/static/8846c3df1d92e4a3a2108e993a5b69f7/69538/big_o.png 160w,\n/static/8846c3df1d92e4a3a2108e993a5b69f7/72799/big_o.png 320w,\n/static/8846c3df1d92e4a3a2108e993a5b69f7/4597d/big_o.png 631w\" sizes=\"(max-width: 631px) 100vw, 631px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>Big O 표기법의 계산방법과 같은 더 자세한 내용은 다른 포스팅에서 다시 설명하도록 하겠다.</p>\n<h2 id=\"정렬-알고리즘\" style=\"position:relative;\">정렬 알고리즘<a href=\"#%EC%A0%95%EB%A0%AC-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"정렬 알고리즘 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<img src=\"/6cfa6f10ba3dfd0a90b03cfb0926f05d/sorts.gif\" width=\"100%\">\n<p>정렬 알고리즘은 컴퓨터 공학에서 중요시되는 문제 중 하나로, 어떤 데이터셋이 주어졌을 때 이를 정해진 순서대로 나열하여 재배치하는 문제이다.</p>\n<p>실제 개발을 하다보면 불규칙한 데이터들을 정렬 후 탐색해야하는 경우가 꽤나 많이 발생하게 되는데 이때 상황에 맞는 알고리즘을 사용하여 효과적으로 문제를 해결할 수 있느냐가 핵심이라고 볼 수 있다.</p>\n<p>예를 들어 1부터 10까지 적혀있는 공이 불규칙하게 들어있는 주머니에서 공을 하나씩 꺼내어 작은 수부터 큰 수의 순서로 공을 나열한다고 생각해보자.\n보통 이런 경우 사람도 어렵지 않게 쓱쓱 정렬해낸다. 하지만 컴퓨터가 주로 다루는 데이터는 <code class=\"language-text\">10,000</code>개일수도 <code class=\"language-text\">10,000,000</code>개일수도 있다. 그리고 데이터베이스 같은 경우는 이론상 무한 개의 데이터를 다룰 수 있어야 한다.</p>\n<p>이때 데이터가 정렬되어 있지 않다면 순차적으로 하나씩 데이터를 봐가면서 탐색해야하지만, 데이터가 이미 정렬되어있다면 위에서 예시로 들었던 이진 탐색과 같은 강력한 알고리즘을 사용할 수도 있다.<small>(사실 이게 제일 큰 이유이다)</small></p>\n<p>자 그럼 대표적인 정렬 알고리즘인 버블 정렬, 선택 정렬, 삽입 정렬, 병합 정렬, 퀵 정렬을 한번 살펴보도록 하자.</p>\n<h3 id=\"버블-정렬bubble-sort\" style=\"position:relative;\">버블 정렬(Bubble sort)<a href=\"#%EB%B2%84%EB%B8%94-%EC%A0%95%EB%A0%ACbubble-sort\" aria-label=\"버블 정렬bubble sort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<img src=\"/1692a508cdbd24d8651e01ffe00385dd/bubble_sort.gif\" width=\"100%\">\n<p>버블 정렬은 거의 모든 상황에서 최악의 성능을 보여주지만, 이미 정렬된 자료에서는 1번만 순회하면 되기 때문에 최선의 성능을 보여주는 알고리즘이다. 이미 정렬되어 있는 데이터를 왜 정렬하냐는 의문이 들 수 있지만, 정렬 알고리즘 자체는 데이터가 정렬되어 있는지 아닌지 모르고 작동하는 것이기 때문에 의미는 있다.</p>\n<p>버블 정렬은 다음과 같은 순서로 작동한다.</p>\n<hr>\n<ol>\n<li>0번째 원소와 1번째 원소를 비교 후 정렬</li>\n<li>1번째 원소와 2번째 원소를 비교 후 정렬</li>\n<li>…계속 반복</li>\n<li>n-1번째 원소와 n번째 원소를 비교 후 정렬</li>\n</ol>\n<hr>\n<p>한번 순회할 때마다 마지막 하나가 정렬되므로 원소들이 거품이 올라오는 것처럼 보여서 버블 정렬이라고 부른다. 원리도 직관적이라서 구현하기 편하긴 하지만 꽤나 비효율적인 정렬 방식이다. 그래서 보통 처음 배울 때 한번 짜보고 나면 실무에서 쓰는 경우는 거의 못 봤다.</p>\n<p>버블 정렬의 구현코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">bubbleSort</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> len <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> tmp<span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> input<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        tmp <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        input<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tmp<span class=\"token punctuation\">;</span>\n        tmp <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> input<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"선택-정렬selection-sort\" style=\"position:relative;\">선택 정렬(Selection sort)<a href=\"#%EC%84%A0%ED%83%9D-%EC%A0%95%EB%A0%ACselection-sort\" aria-label=\"선택 정렬selection sort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<img src=\"/fb94376d775d18dbffb09f9724ca9c14/selection_sort.gif\" width=\"100%\">\n<p>선택 정렬은 주어진 자료들 중에 현재 위치에 맞는 자료를 찾아 선택하여 위치를 교환하는 정렬 알고리즘이다. 한번 순회를 돌게되면 알고리즘 상 전체 자료 중 가장 작은 값의 자료가 0번째 인덱스에 위치하게 되므로 그 다음 순회부터는 1번 인덱스부터 순회를 돌며 반복하면 된다.</p>\n<p>선택 정렬은 다음과 같은 순서로 작동한다.</p>\n<hr>\n<ol>\n<li>0번 인덱스 ~ n번 인덱스 중 가장 작은 값을 찾아 0번째 인덱스와 swap한다</li>\n<li>1번 인덱스 ~ n번 인덱스 중 가장 작은 값을 찾아 1번째 인덱스와 swap한다</li>\n<li>…계속 반복</li>\n<li>n-1번 인덱스 ~ n번 인덱스 중 가장 작은 값을 찾아 n번째 인덱스와 swap한다</li>\n</ol>\n<hr>\n<p>선택 정렬은 현재 자료가 정렬이 되어있던말던 무조건 전체 리스트를 순회해가며 검사하기 때문에 최선의 경우든 최악의 경우든 한결같이 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>의 시간 복잡도를 가지고 있다. 선택 정렬의 구현코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">selectionSort</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> len <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> tmp<span class=\"token operator\">:</span> <span class=\"token constant\">T</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        tmp <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tmp<span class=\"token punctuation\">;</span>\n        tmp <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">return</span> input<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"삽입-정렬insertion-sort\" style=\"position:relative;\">삽입 정렬(Insertion sort)<a href=\"#%EC%82%BD%EC%9E%85-%EC%A0%95%EB%A0%ACinsertion-sort\" aria-label=\"삽입 정렬insertion sort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<img src=\"/e10adb7c9d0442b9799b538265a2fc05/insertion_sort.gif\" width=\"100%\">\n<p>삽입 정렬은 주어진 자료의 모든 요소를 앞에서부터 차례대로 정렬된 자료 부분과 비교하여 자신의 위치를 찾아 삽입하는 정렬이다. 사실 인간이 직접 정렬하는 순서와 제일 흡사하다고 할 수 있는 정렬인데, 직접 손안에 있는 카드를 정렬한다고 생각해보자. 대충 다음과 같은 순서로 행동할 것이다.</p>\n<hr>\n<ol>\n<li>카드를 하나 고른다.</li>\n<li>내가 가지고 있는 카드를 쭉 살펴본다.</li>\n<li>현재 카드가 들어가야할 순서에 카드를 껴넣는다.</li>\n</ol>\n<hr>\n<p>삽입 정렬은 이 순서와 비슷하게 작동한다.</p>\n<hr>\n<ol>\n<li>0번 인덱스는 건너뛴다.</li>\n<li>0-1번 인덱스 중 1번 인덱스 값이 들어가야할 위치를 찾아서 넣는다</li>\n<li>0-2번 인덱스 중 2번 인덱스 값이 들어가야할 위치를 찾아서 넣는다</li>\n<li>…계속 반복</li>\n<li>0~n번 인덱스 중 n번 인덱스 값이 들어가야할 위치를 찾아서 넣는다</li>\n</ol>\n<hr>\n<p>삽입 정렬은 최선의 경우 전체 자료를 한번만 순회하면 되기때문에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>의 시간 복잡도를 가지지만 최악의 경우 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>의 시간 복잡도를 가진다.</p>\n<p>삽입 정렬의 구현코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">insertionSort</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> len <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 두번째 카드부터 시작</span>\n    <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 카드를 잡는다</span>\n    <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">;</span>j <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> value<span class=\"token punctuation\">;</span> j<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 이미 정렬된 카드들을 뒤에서부터 살펴보다가</span>\n      <span class=\"token comment\">// 살펴본 카드가 현재 카드보다 크다면</span>\n      <span class=\"token comment\">// 살펴본 카드를 뒤로 한칸 보낸다</span>\n      input<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> input<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// 뒤로 보내는 행위가 끝나면</span>\n    <span class=\"token comment\">// 현재 카드보다 작은 카드의 한칸 뒤에</span>\n    <span class=\"token comment\">// 현재 카드를 위치시킨다</span>\n    input<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">return</span> input<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"병합-정렬merge-sort\" style=\"position:relative;\">병합 정렬(Merge sort)<a href=\"#%EB%B3%91%ED%95%A9-%EC%A0%95%EB%A0%ACmerge-sort\" aria-label=\"병합 정렬merge sort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<img src=\"/d57ade8c3762931df83b836b9c7dc88b/merge_sort.gif\" width=\"100%\">\n<p>병합 정렬은 일종의 분할 정복법 중 하나로 큰 문제를 작은 여러 개의 문제로 쪼개서 각각을 해결한 후 결과를 모아서 원래의 문제를 해결하는 방법이다. 병합이라는 이름 그대로 주어진 자료를 잘게 쪼갠 뒤 합치는 과정에서 정렬을 하는 알고리즘이다. 순서를 살펴보면 다음과 같다.</p>\n<hr>\n<ol>\n<li><code class=\"language-text\">[5, 0, 4, 1]</code>라는 자료를 받았다</li>\n<li>length가 1이 될때까지 자료 리스트를 반으로 쪼갠다</li>\n<li><code class=\"language-text\">[5, 0]</code>, <code class=\"language-text\">[4, 1]</code>가 된다.</li>\n<li><code class=\"language-text\">[5]</code>, <code class=\"language-text\">[0]</code>, <code class=\"language-text\">[4]</code>, <code class=\"language-text\">[1]</code>가 된다</li>\n<li>각 리스트의 길이가 1이 되었으므로 병합을 시작한다</li>\n<li><strong>왼쪽의 0번 인덱스와 오른쪽의 0번 인덱스를 비교하여 적은 값을 먼저 병합.</strong> <code class=\"language-text\">[5]</code>와 <code class=\"language-text\">[0]</code> 중 0이 더 작으므로 새로운 리스트에 0을 먼저 병합한다</li>\n<li><code class=\"language-text\">[0, 5]</code> 생성</li>\n<li><strong>왼쪽의 0번 인덱스와 오른쪽의 0번 인덱스를 비교하여 적은 값을 먼저 병합.</strong> <code class=\"language-text\">[4]</code>와 <code class=\"language-text\">[1]</code> 중 1이 더 작으므로 새로운 리스트에 1을 먼저 병합</li>\n<li><code class=\"language-text\">[1, 4]</code> 생성</li>\n<li>이제 <code class=\"language-text\">[0, 5]</code>와 <code class=\"language-text\">[1, 4]</code>를 병합한다. 이 리스트들은 정렬되었기 때문에 작은 인덱스일 수록 작은 값을 가진다는 것이 보장되어있다.</li>\n<li><strong>왼쪽의 0번 인덱스와 오른쪽의 0번 인덱스를 비교하여 적은 값을 먼저 병합</strong></li>\n<li><code class=\"language-text\">[0]</code> 생성. <code class=\"language-text\">[5]</code>와 <code class=\"language-text\">[1, 4]</code>가 남았다</li>\n<li><strong>왼쪽의 0번 인덱스와 오른쪽의 0번 인덱스를 비교하여 적은 값을 먼저 병합</strong></li>\n<li><code class=\"language-text\">[0, 1]</code> 생성. <code class=\"language-text\">[5]</code>와 <code class=\"language-text\">[4]</code>가 남았다</li>\n<li><strong>왼쪽의 0번 인덱스와 오른쪽의 0번 인덱스를 비교하여 적은 값을 먼저 병합</strong></li>\n<li><code class=\"language-text\">[0, 1, 4]</code> 생성. <code class=\"language-text\">[5]</code>가 남았다</li>\n<li>값이 남았으므로 그냥 병합해준다.</li>\n<li><code class=\"language-text\">[0, 1, 4, 5]</code> 정렬완료</li>\n</ol>\n<hr>\n<p>위 과정 중에서 강조 처리된 <strong>왼쪽의 0번 인덱스와 오른쪽의 0번 인덱스를 비교하여 적은 값을 먼저 병합</strong> 을 보면 이 과정이 계속 반복되고 있는 것을 볼 수 있다.</p>\n<p>같은 방식으로 계속 반복하여 병합하고 있기 때문에 병합 정렬은 보통 재귀함수로 구현한다. 또한 병합 정렬은 항상 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O({n\\log n})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span></span><span class=\"mclose\">)</span></span></span></span></span>의 시간 복잡도를 가지기 때문에 효율적이다. 그러나 원소의 개수만큼 리스트를 쪼개고 따로 저장하고 있어야하기 때문에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>의 공간 복잡도를 가진다. 한마디로 메모리를 팔아 수행속도를 얻는 경우라고 할 수 있다.</p>\n<p>병합 정렬의 구현코드는 다음과 같다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">merge</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>left<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> right<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> result<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">T</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> right<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;=</span> right<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> result <span class=\"token keyword\">as</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">mergeSort</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>input<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> input<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> middle <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span>length <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> left <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> middle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> right <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>middle<span class=\"token punctuation\">,</span> input<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span><span class=\"token function\">mergeSort</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">mergeSort</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"퀵-정렬quick-sort\" style=\"position:relative;\">퀵 정렬(Quick sort)<a href=\"#%ED%80%B5-%EC%A0%95%EB%A0%ACquick-sort\" aria-label=\"퀵 정렬quick sort permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<img src=\"/ca493988dbac1ae41fa5e70ae069aca5/quick_sort.gif\" width=\"100%\">\n<p>퀵 정렬도 병합 정렬과 마찬가지로 분할 정복을 통한 정렬방법이다. 병합 정렬과의 차이점은 병합 정렬은 분할 단계에서는 아무것도 하지않고 병합하는 단계에서 정렬을 수행하지만, 퀵 정렬은 분할 단계에서 중요한 작업들을 수행하고 병합시에는 아무것도 하지않는다는 점이다.</p>\n<p>퀵 정렬의 수행 순서는 다음과 같다.</p>\n<hr>\n<ol>\n<li>입력된 자료 리스트에서 하나의 원소를 고른다. 이 원소를 Pivot이라고 부른다.</li>\n<li>피벗을 기준으로 리스트를 둘로 분할한다.</li>\n<li>피벗을 기준으로 피벗보다 작은 원소들은 모두 피벗의 왼쪽으로 옮긴다</li>\n<li>피벗을 기준으로 피벗보다 큰 원소들은 모두 피벗의 오른쪽으로 옮긴다</li>\n</ol>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> left<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> right<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> right<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//기준점을 찾고 기준점을 중심으로 더 작은수, 더 큰수 분류</span>\n    <span class=\"token keyword\">const</span> i <span class=\"token operator\">=</span>  <span class=\"token function\">position</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//기준점 기준 좌측 정렬</span>\n    <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//기준점 기준 우측 정렬</span>\n    <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">position</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> left<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> right<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> left<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> right<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> pivot <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//제자리 더 큰수/더 작은 수 좌우 배치.</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> j<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> pivot<span class=\"token punctuation\">)</span> j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> j <span class=\"token operator\">&amp;&amp;</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;=</span> pivot<span class=\"token punctuation\">)</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> tmp <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tmp<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  \n  arr<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> pivot<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> j<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이상으로 정렬 알고리즘 포스팅을 마친다.</p>","fields":{"slug":"20181013-sort-algorithm","path":"/2018/10/13/sort-algorithm/","lang":"ko"},"frontmatter":{"title":"정렬 알고리즘의 모든 것 (Bubble, Selection, Insertion, Merge, Quick)","subTitle":"정렬 알고리즘의 원리와 시간 복잡도 분석","date":"Oct 13, 2018","categories":["프로그래밍","알고리즘"],"tags":["정렬 알고리즘","Sort Algorithms","Algorithm","알고리즘","버블 정렬","선택 정렬","삽입 정렬","병합 정렬","퀵 정렬","Bubble Sort","Selection Sort","Insertion Sort","Merge Sort","Quick Sort","알고리즘 기초","기술면접"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/5971a1ceb80454e7d2a5b0bb79600959/3a812/thumbnail.jpg","srcSet":"/static/5971a1ceb80454e7d2a5b0bb79600959/3a812/thumbnail.jpg 320w,\n/static/5971a1ceb80454e7d2a5b0bb79600959/1ddf3/thumbnail.jpg 660w","sizes":"(min-width: 320px) 320px, 100vw"},"sources":[{"srcSet":"/static/5971a1ceb80454e7d2a5b0bb79600959/fc5c5/thumbnail.webp 320w,\n/static/5971a1ceb80454e7d2a5b0bb79600959/32cde/thumbnail.webp 660w","type":"image/webp","sizes":"(min-width: 320px) 320px, 100vw"}]},"width":320,"height":320}}},"jumbotron":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","images":{"fallback":{"src":"/static/5971a1ceb80454e7d2a5b0bb79600959/eb1cc/thumbnail.jpg","srcSet":"/static/5971a1ceb80454e7d2a5b0bb79600959/eb1cc/thumbnail.jpg 660w","sizes":"100vw"},"sources":[{"srcSet":"/static/5971a1ceb80454e7d2a5b0bb79600959/cd93d/thumbnail.webp 660w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}}}}}]}},"pageContext":{"tag":"기술면접","lang":"ko"}},"staticQueryHashes":["3523904809","650499039"],"slicesMap":{}}